"use strict";(self.webpackChunkCobrowseIO=self.webpackChunkCobrowseIO||[]).push([[660],{1475(e,t,n){n(2652),n(7063),n(8785),n(4454),t.loadElevenLabsWidget=async function(e,t){const n=function(e,t){const{dynamicVariables:n,url:i}=e.data(),r=E(t),o=document.createElement(p);let a;return o.style.zIndex="2147483647",o.setAttribute("class","__cbio_virtual_agent_ignored"),o.setAttribute("signed-url",i),o.setAttribute("mic-muting","true"),t.customData.user_id&&o.setAttribute("user-id",t.customData.user_id),D(o,n,t),o.addEventListener("elevenlabs-convai:call",e=>{var i;h("event(elevenlabs-convai:call)",e.detail),a=e.detail,e.detail.config.onMessage=e=>{let{source:n,message:i}=e;return v(n,i,t)},e.detail.config.onSendUserMessage=e=>v("user",e,t),e.detail.config.onDisconnect=e=>function(e,t,n,i){if(d("disconnect: %O",e),"user"===e.reason||"agent"===e.reason){var r;const e=E(i);e.removeItem(f),e.removeItem(m),D(t,n,i),null===(r=i.currentSession)||void 0===r||r.end()}}(e,o,n,t),r.setItem(m,c(c({},null!==(i=r.getItem(m))&&void 0!==i?i:{}),{},{textOnly:e.detail.config.textOnly}))}),o.addEventListener("elevenlabs-convai:setMicMuted",e=>{h("event(elevenlabs-convai:setMicMuted)",e.detail),r.setItem(m,c(c({},r.getItem(m)),{},{micMuted:e.detail.micMuted}))}),o.addEventListener("elevenlabs-convai:setExpanded",e=>{h("event(elevenlabs-convai:setExpanded)",e.detail),r.setItem(m,c(c({},r.getItem(m)),{},{expanded:e.detail.expanded}))}),t.on("highlight.updated",async e=>{let{target:t,visible:n}=e;if(d("CobrowseIO(highlight.updated)",{target:t,visible:n}),a)if(n){const e=o.shadowRoot.querySelector(".elevenlabs-widget-sheet");if(d("-> locating transcript",e),!e)return;await O.onceNotScrolling();const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();if(d("-> checking collision",{target:i,transcript:n}),!function(e,t){const n=e.left,i=e.top,r=e.right,o=e.bottom,a=t.left,s=t.top,u=t.right,c=t.bottom;return!(r<=a||u<=n||o<=s||c<=i)}(n,i))return;d("-> collapsing widget"),g(o,"collapse")}else{var i,s,u;d("-> set expanded",null===(i=r.getItem(m))||void 0===i?void 0:i.expanded);const e=null===(s=null===(u=r.getItem(m))||void 0===u?void 0:u.expanded)||void 0===s||s?"expand":"collapse";g(o,e)}}),o}(e,t);document.body.append(n),(0,i.registerWidget)(p)},n(5458),n(6056),n(3697);var i=n(9377),r=s(n(1227)),o=s(n(6542)),a=n(501);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d=(0,r.default)("cbio.VirtualAgent.ElevenLabs"),h=(0,r.default)("cbio.VirtualAgent.ElevenLabs.widget"),p="elevenlabs-convai",f="_cobrowse_elevenlabs_transcript",m="_cobrowse_elevenlabs_config",O=(0,a.scrollState)();function g(e,t){const n=new CustomEvent("elevenlabs-agent:expand",{bubbles:!0,composed:!0,detail:{action:t}});e.dispatchEvent(n)}function D(e,t,n){var i,r;const o=n.deviceId(),a=null===(i=n.currentSession)||void 0===i?void 0:i.id(),s=E(n);t=c(c({cobrowse_device_id:"Cobrowse device ID: ".concat(o)},t),{},{cobrowse_session_id:a?"Cobrowse session ID: ".concat(a):"",url:document.location.toString()});const u=null!==(r=s.getItem(f))&&void 0!==r?r:[],l=JSON.stringify(u);if(u.length){var h,p;d("resuming with transcript",u);const n=null!==(h=s.getItem(m))&&void 0!==h?h:{};e.setAttribute("default-expanded",String(null===(p=n.expanded)||void 0===p||p)),e.setAttribute("override-first-message",""),e.setAttribute("auto-resume",JSON.stringify(n)),t.history="\n      You are resuming a conversation that has been taking place, and the user performed an action\n      that caused the page to reload. Here is the history of the conversation:\n      ".concat(l,"\n    ")}else e.removeAttribute("default-expanded"),e.removeAttribute("override-first-message"),e.removeAttribute("auto-resume");e.setAttribute("dynamic-variables",JSON.stringify(t)),e.setAttribute("transcript-entries",l)}function v(e,t,n){var i;d("%s: %s",e,t);const r=E(n),o=null!==(i=r.getItem(f))&&void 0!==i?i:[];r.setItem(f,[...o,{type:"message",role:"user"===e?"user":"ai",message:t,isText:!0,conversationIndex:o.length}])}function E(e){return(0,o.default)(e.license)}},501(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.scrollState=function(){const e={onScrollCompleteHandlers:[],scrollHandle:void 0};function t(t){clearTimeout(e.scrollHandle),e.scrollHandle=void 0;try{e.onScrollCompleteHandlers.forEach(e=>e())}finally{e.onScrollCompleteHandlers.length=0}}function n(n){clearTimeout(e.scrollHandle),e.scrollHandle=setTimeout(t,250)}function i(e){t()}return window.addEventListener("scroll",n,!0),window.addEventListener("scrollend",i,!0),{onceNotScrolling:async()=>new Promise(t=>{setTimeout(()=>{e.scrollHandle?e.onScrollCompleteHandlers.push(t):t()},100)}),destroy(){window.removeEventListener("scrollend",i,!0),window.removeEventListener("scroll",n,!0),clearTimeout(e.scrollHandle)}}},n(2652),n(7063),n(4454)},9377(e,t,n){n.r(t),n.d(t,{registerWidget:()=>oU}),n(1631),n(6126),n(8174),n(5458),n(3019),n(8425),n(2652),n(8340),n(2832),n(9492),n(5777),n(8799),n(5833),n(8333),n(7270),n(7834),n(5553),n(7063),n(3264),n(1710),n(8785),n(5590),n(4454),n(4885),n(2413),n(9163),n(6056),n(6761),n(7527),n(4922),n(2298),n(9553),n(9199),n(1871),n(5188),n(2566),n(765),n(7510),n(2571),n(4330),n(7276),n(8845),n(1722),n(9316),n(4764),n(1095),n(4380),n(1417),n(8884),n(8366),n(7934),n(9670),n(8279),n(2224),n(973),n(8213),n(7611),n(7470),n(2081),n(9303),n(797),n(3141),n(4487),n(3727),n(3697),n(4191),n(4867),n(4043),n(6292),n(3619),n(3914),n(2114),n(8034),n(411),n(7168),n(6217);const i=["children"],r=["children"],o=["children"],a=["active"],s=["active","initial"],u=["visible","className","grow","dep"],c=["visible","children","className","grow","dep"],l=["variant","children","icon","className","iconClassName","truncate"],d=["children","className"],h=["children","className"],p=["children","className"],f=["code","language","className"],m=["node","className","src","alt"],O=["children","className"],g=["children","className","node"],D=["children","className","node"],v=["children","className","node"],E=["className","node"],C=["children","className","node"],b=["children","className","href","node"],k=["children","className","node"],y=["children","className","node"],T=["children","className","node"],A=["children","className","node"],S=["children","className","node"],_=["children","className","node"],F=["node"],w=["children","className","node"],x=["children","className","node"],P=["children","className","node"],R=["children","className","node"],I=["children","className","node"],Q=["children","className","node"],N=["children","className","node"],B=["children","className","node"],M=["children","className","node"],L=["node","className","children"],$=["children","className","node"],U=["children"],q=["className"],X=["scope","children"],z=["children"],Z=["children"],j=["scope","children"],W=["asChild"],G=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"],V=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"],Y=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],H=["strategy"],K=["mainAxis","crossAxis","limiter"],J=["apply"],ee=["children","width","height"],te=["__scopePopper","virtualRef"],ne=["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"],ie=["__scopePopper"],re=["container"],oe=["__scopeSelect","disabled"],ae=["__scopeSelect","className","style","children","placeholder"],se=["__scopeSelect","children"],ue=["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"],ce=["__scopeSelect","onPlaced"],le=["__scopeSelect","align","collisionPadding"],de=["__scopeSelect","nonce"],he=["__scopeSelect"],pe=["__scopeSelect"],fe=["__scopeSelect","value","disabled","textValue"],me=["__scopeSelect","className","style"],Oe=["__scopeSelect"],ge=["__scopeSelect","onAutoScroll"],De=["__scopeSelect"],ve=["__scopeSelect"],Ee=["__scopeSelect","value"],Ce=["size","flagCode","className"],be=["children"],ke=["className"],ye=["className"],Te=["iconOnly","isDisconnected","children"],Ae=["onDismiss","className"],Se=["expanded","className","onDismiss"],_e=["expanded","className","onDismiss"],Fe=["visible","className"],we=["className","onDismiss"],xe=["className","onDismiss"],Pe=["className","onExpand"];function Re(){Re=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,i,r){var o=RegExp(e,i);return t.set(o,r||t.get(e)),Ie(o,n.prototype)}function i(e,n){var i=t.get(n);return Object.keys(i).reduce(function(t,n){var r=i[n];if("number"==typeof r)t[n]=e[r];else{for(var o=0;void 0===e[r[o]]&&o+1<r.length;)o++;t[n]=e[r[o]]}return t},Object.create(null))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ie(e,t)}(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=i(n,this);var r=n.indices;r&&(r.groups=i(r,this))}return n},n.prototype[Symbol.replace]=function(n,r){if("string"==typeof r){var o=t.get(this);return e[Symbol.replace].call(this,n,r.replace(/\$<([^>]+)(>|$)/g,function(e,t,n){if(""===n)return e;var i=o[t];return Array.isArray(i)?"$"+i.join("$"):"number"==typeof i?"$"+i:""}))}if("function"==typeof r){var a=this;return e[Symbol.replace].call(this,n,function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(i(e,a)),r.apply(this,e)})}return e[Symbol.replace].call(this,n,r)},Re.apply(this,arguments)}function Ie(e,t){return Ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ie(e,t)}function Qe(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach(function(t){Me(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Me(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Le,$e,Ue,qe,Xe,ze,Ze,je,We,Ge,Ve,Ye,He,Ke=Object.defineProperty,Je=(e,t,n)=>((e,t,n)=>t in e?Ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),et={},tt=[],nt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,it=Array.isArray;function rt(e,t){for(var n in t)e[n]=t[n];return e}function ot(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function at(e,t,n){var i,r,o,a={};for(o in t)"key"==o?i=t[o]:"ref"==o?r=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?Le.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===a[o]&&(a[o]=e.defaultProps[o]);return st(e,a,i,r,null)}function st(e,t,n,i,r){var o={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null!=r?r:++Ue,__i:-1,__u:0};return null==r&&null!=$e.vnode&&$e.vnode(o),o}function ut(){return{current:null}}function ct(e){return e.children}function lt(e,t){this.props=e,this.context=t}function dt(e,t){if(null==t)return e.__?dt(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?dt(e):null}function ht(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return ht(e)}}function pt(e){(!e.__d&&(e.__d=!0)&&Xe.push(e)&&!ft.__r++||ze!=$e.debounceRendering)&&((ze=$e.debounceRendering)||Ze)(ft)}function ft(){for(var e,t,n,i,r,o,a,s=1;Xe.length;)Xe.length>s&&Xe.sort(je),e=Xe.shift(),s=Xe.length,e.__d&&(n=void 0,i=void 0,r=(i=(t=e).__v).__e,o=[],a=[],t.__P&&((n=rt({},i)).__v=i.__v+1,$e.vnode&&$e.vnode(n),bt(t.__P,n,i,t.__n,t.__P.namespaceURI,32&i.__u?[r]:null,o,null!=r?r:dt(i),!!(32&i.__u),a),n.__v=i.__v,n.__.__k[n.__i]=n,yt(o,n,a),i.__e=i.__=null,n.__e!=r&&ht(n)));ft.__r=0}function mt(e,t,n,i,r,o,a,s,u,c,l){var d,h,p,f,m,O,g,D=i&&i.__k||tt,v=t.length;for(u=function(e,t,n,i,r){var o,a,s,u,c,l=n.length,d=l,h=0;for(e.__k=new Array(r),o=0;o<r;o++)null!=(a=t[o])&&"boolean"!=typeof a&&"function"!=typeof a?("string"==typeof a||"number"==typeof a||"bigint"==typeof a||a.constructor==String?a=e.__k[o]=st(null,a,null,null,null):it(a)?a=e.__k[o]=st(ct,{children:a},null,null,null):null==a.constructor&&a.__b>0?a=e.__k[o]=st(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):e.__k[o]=a,u=o+h,a.__=e,a.__b=e.__b+1,-1!=(c=a.__i=Dt(a,n,u,d))&&(d--,(s=n[c])&&(s.__u|=2)),null==s||null==s.__v?(-1==c&&(r>l?h--:r<l&&h++),"function"!=typeof a.type&&(a.__u|=4)):c!=u&&(c==u-1?h--:c==u+1?h++:(c>u?h--:h++,a.__u|=4))):e.__k[o]=null;if(d)for(o=0;o<l;o++)null!=(s=n[o])&&!(2&s.__u)&&(s.__e==i&&(i=dt(s)),St(s,s));return i}(n,t,D,u,v),d=0;d<v;d++)null!=(p=n.__k[d])&&(h=-1==p.__i?et:D[p.__i]||et,p.__i=d,O=bt(e,p,h,r,o,a,s,u,c,l),f=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&At(h.ref,null,p),l.push(p.ref,p.__c||f,p)),null==m&&null!=f&&(m=f),(g=!!(4&p.__u))||h.__k===p.__k?u=Ot(p,u,e,g):"function"==typeof p.type&&void 0!==O?u=O:f&&(u=f.nextSibling),p.__u&=-7);return n.__e=m,u}function Ot(e,t,n,i){var r,o;if("function"==typeof e.type){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=Ot(r[o],t,n,i));return t}e.__e!=t&&(i&&(t&&e.type&&!t.parentNode&&(t=dt(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8==t.nodeType);return t}function gt(e,t){return t=t||[],null==e||"boolean"==typeof e||(it(e)?e.some(function(e){gt(e,t)}):t.push(e)),t}function Dt(e,t,n,i){var r,o,a,s=e.key,u=e.type,c=t[n],l=null!=c&&!(2&c.__u);if(null===c&&null==s||l&&s==c.key&&u==c.type)return n;if(i>(l?1:0))for(r=n-1,o=n+1;r>=0||o<t.length;)if(null!=(c=t[a=r>=0?r--:o++])&&!(2&c.__u)&&s==c.key&&u==c.type)return a;return-1}function vt(e,t,n){"-"==t[0]?e.setProperty(t,null!=n?n:""):e[t]=null==n?"":"number"!=typeof n||nt.test(t)?n:n+"px"}function Et(e,t,n,i,r){var o,a;e:if("style"==t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof i&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||vt(e.style,t,"");if(n)for(t in n)i&&n[t]==i[t]||vt(e.style,t,n[t])}else if("o"==t[0]&&"n"==t[1])o=t!=(t=t.replace(We,"$1")),a=t.toLowerCase(),t=a in e||"onFocusOut"==t||"onFocusIn"==t?a.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?i?n.u=i.u:(n.u=Ge,e.addEventListener(t,o?Ye:Ve,o)):e.removeEventListener(t,o?Ye:Ve,o);else{if("http://www.w3.org/2000/svg"==r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null!=n?n:"";break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function Ct(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.t)t.t=Ge++;else if(t.t<n.u)return;return n($e.event?$e.event(t):t)}}}function bt(e,t,n,i,r,o,a,s,u,c){var l,d,h,p,f,m,O,g,D,v,E,C,b,k,y,T,A,S=t.type;if(null!=t.constructor)return null;128&n.__u&&(u=!!(32&n.__u),o=[s=t.__e=n.__e]),(l=$e.__b)&&l(t);e:if("function"==typeof S)try{if(g=t.props,D="prototype"in S&&S.prototype.render,v=(l=S.contextType)&&i[l.__c],E=l?v?v.props.value:l.__:i,n.__c?O=(d=t.__c=n.__c).__=d.__E:(D?t.__c=d=new S(g,E):(t.__c=d=new lt(g,E),d.constructor=S,d.render=_t),v&&v.sub(d),d.state||(d.state={}),d.__n=i,h=d.__d=!0,d.__h=[],d._sb=[]),D&&null==d.__s&&(d.__s=d.state),D&&null!=S.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=rt({},d.__s)),rt(d.__s,S.getDerivedStateFromProps(g,d.__s))),p=d.props,f=d.state,d.__v=t,h)D&&null==S.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),D&&null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(D&&null==S.getDerivedStateFromProps&&g!==p&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(g,E),t.__v==n.__v||!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(g,d.__s,E)){for(t.__v!=n.__v&&(d.props=g,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(e){e&&(e.__=t)}),C=0;C<d._sb.length;C++)d.__h.push(d._sb[C]);d._sb=[],d.__h.length&&a.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(g,d.__s,E),D&&null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(p,f,m)})}if(d.context=E,d.props=g,d.__P=e,d.__e=!1,b=$e.__r,k=0,D){for(d.state=d.__s,d.__d=!1,b&&b(t),l=d.render(d.props,d.state,d.context),y=0;y<d._sb.length;y++)d.__h.push(d._sb[y]);d._sb=[]}else do{d.__d=!1,b&&b(t),l=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++k<25);d.state=d.__s,null!=d.getChildContext&&(i=rt(rt({},i),d.getChildContext())),D&&!h&&null!=d.getSnapshotBeforeUpdate&&(m=d.getSnapshotBeforeUpdate(p,f)),T=l,null!=l&&l.type===ct&&null==l.key&&(T=Tt(l.props.children)),s=mt(e,it(T)?T:[T],t,n,i,r,o,a,s,u,c),d.base=t.__e,t.__u&=-161,d.__h.length&&a.push(d),O&&(d.__E=d.__=null)}catch(e){if(t.__v=null,u||null!=o)if(e.then){for(t.__u|=u?160:128;s&&8==s.nodeType&&s.nextSibling;)s=s.nextSibling;o[o.indexOf(s)]=null,t.__e=s}else{for(A=o.length;A--;)ot(o[A]);kt(t)}else t.__e=n.__e,t.__k=n.__k,e.then||kt(t);$e.__e(e,t,n)}else null==o&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):s=t.__e=function(e,t,n,i,r,o,a,s,u){var c,l,d,h,p,f,m,O=n.props||et,g=t.props,D=t.type;if("svg"==D?r="http://www.w3.org/2000/svg":"math"==D?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),null!=o)for(c=0;c<o.length;c++)if((p=o[c])&&"setAttribute"in p==!!D&&(D?p.localName==D:3==p.nodeType)){e=p,o[c]=null;break}if(null==e){if(null==D)return document.createTextNode(g);e=document.createElementNS(r,D,g.is&&g),s&&($e.__m&&$e.__m(t,o),s=!1),o=null}if(null==D)O===g||s&&e.data==g||(e.data=g);else{if(o=o&&Le.call(e.childNodes),!s&&null!=o)for(O={},c=0;c<e.attributes.length;c++)O[(p=e.attributes[c]).name]=p.value;for(c in O)if(p=O[c],"children"!=c)if("dangerouslySetInnerHTML"==c)d=p;else if(!(c in g)){if("value"==c&&"defaultValue"in g||"checked"==c&&"defaultChecked"in g)continue;Et(e,c,null,p,r)}for(c in g)p=g[c],"children"==c?h=p:"dangerouslySetInnerHTML"==c?l=p:"value"==c?f=p:"checked"==c?m=p:s&&"function"!=typeof p||O[c]===p||Et(e,c,p,O[c],r);if(l)s||d&&(l.__html==d.__html||l.__html==e.innerHTML)||(e.innerHTML=l.__html),t.__k=[];else if(d&&(e.innerHTML=""),mt("template"==t.type?e.content:e,it(h)?h:[h],t,n,i,"foreignObject"==D?"http://www.w3.org/1999/xhtml":r,o,a,o?o[0]:n.__k&&dt(n,0),s,u),null!=o)for(c=o.length;c--;)ot(o[c]);s||(c="value","progress"==D&&null==f?e.removeAttribute("value"):null!=f&&(f!==e[c]||"progress"==D&&!f||"option"==D&&f!=O[c])&&Et(e,c,f,O[c],r),c="checked",null!=m&&m!=e[c]&&Et(e,c,m,O[c],r))}return e}(n.__e,t,n,i,r,o,a,u,c);return(l=$e.diffed)&&l(t),128&t.__u?void 0:s}function kt(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(kt)}function yt(e,t,n){for(var i=0;i<n.length;i++)At(n[i],n[++i],n[++i]);$e.__c&&$e.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){$e.__e(e,t.__v)}})}function Tt(e){return"object"!=typeof e||null==e||e.__b&&e.__b>0?e:it(e)?e.map(Tt):rt({},e)}function At(e,t,n){try{if("function"==typeof e){var i="function"==typeof e.__u;i&&e.__u(),i&&null==t||(e.__u=e(t))}else e.current=t}catch(e){$e.__e(e,n)}}function St(e,t,n){var i,r;if($e.unmount&&$e.unmount(e),(i=e.ref)&&(i.current&&i.current!=e.__e||At(i,null,t)),null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){$e.__e(e,t)}i.base=i.__P=null}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&St(i[r],t,n||"function"!=typeof e.type);n||ot(e.__e),e.__c=e.__=e.__e=void 0}function _t(e,t,n){return this.constructor(e,n)}function Ft(e,t,n){var i,r,o,a;t==document&&(t=document.documentElement),$e.__&&$e.__(e,t),r=(i="function"==typeof n)?null:n&&n.__k||t.__k,o=[],a=[],bt(t,e=(!i&&n||t).__k=at(ct,null,[e]),r||et,et,t.namespaceURI,!i&&n?[n]:r?null:t.firstChild?Le.call(t.childNodes):null,o,!i&&n?n:r?r.__e:t.firstChild,i,a),yt(o,e,a)}function wt(e,t){Ft(e,t,wt)}function xt(e,t,n){var i,r,o,a,s=rt({},e.props);for(o in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)"key"==o?i=t[o]:"ref"==o?r=t[o]:s[o]=void 0===t[o]&&null!=a?a[o]:t[o];return arguments.length>2&&(s.children=arguments.length>3?Le.call(arguments,2):n),st(e.type,s,i||e.key,r||e.ref,null)}function Pt(e){function t(e){var n,i;return this.getChildContext||(n=new Set,(i={})[t.__c]=this,this.getChildContext=function(){return i},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(e){this.props.value!=e.value&&n.forEach(function(e){e.__e=!0,pt(e)})},this.sub=function(e){n.add(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n&&n.delete(e),t&&t.call(e)}}),e.children}return t.__c="__cC"+He++,t.__=e,t.Provider=t.__l=(t.Consumer=function(e,t){return e.children(t)}).contextType=t,t}function Rt(){return Rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Rt.apply(this,arguments)}function It(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)t.indexOf(n=o[i])>=0||(r[n]=e[n]);return r}Le=tt.slice,$e={__e:function(e,t,n,i){for(var r,o,a;t=t.__;)if((r=t.__c)&&!r.__)try{if((o=r.constructor)&&null!=o.getDerivedStateFromError&&(r.setState(o.getDerivedStateFromError(e)),a=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e,i||{}),a=r.__d),a)return r.__E=r}catch(t){e=t}throw e}},Ue=0,qe=function(e){return null!=e&&null==e.constructor},lt.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=rt({},this.state),"function"==typeof e&&(e=e(rt({},n),this.props)),e&&rt(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),pt(this))},lt.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),pt(this))},lt.prototype.render=ct,Xe=[],Ze="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,je=function(e,t){return e.__v.__b-t.__v.__b},ft.__r=0,We=/(PointerCapture)$|Capture$/i,Ge=0,Ve=Ct(!1),Ye=Ct(!0),He=0;var Qt=["context","children"],Nt=["useFragment"];function Bt(e,t,n,i){function r(){var t,n=Reflect.construct(HTMLElement,[],r);return n._vdomComponent=e,i&&i.shadow?(n._root=n.attachShadow({mode:i.mode||"open",serializable:null!=(t=i.serializable)&&t}),i.adoptedStyleSheets&&(n._root.adoptedStyleSheets=i.adoptedStyleSheets)):n._root=n,n}return(r.prototype=Object.create(HTMLElement.prototype)).constructor=r,r.prototype.connectedCallback=function(){Lt.call(this,i)},r.prototype.attributeChangedCallback=Ut,r.prototype.disconnectedCallback=qt,n=n||e.observedAttributes||Object.keys(e.propTypes||{}),r.observedAttributes=n,e.formAssociated&&(r.formAssociated=!0),n.forEach(function(e){Object.defineProperty(r.prototype,e,{get:function(){return this._vdom?this._vdom.props[e]:this._props[e]},set:function(t){this._vdom?this.attributeChangedCallback(e,null,t):(this._props||(this._props={}),this._props[e]=t);var n=typeof t;null!=t&&"string"!==n&&"boolean"!==n&&"number"!==n||this.setAttribute(e,t)}})}),customElements.define(t||e.tagName||e.displayName||e.name,r),r}function Mt(e){return this.getChildContext=function(){return e.context},xt(e.children,It(e,Qt))}function Lt(e){var t=new CustomEvent("_preact",{detail:{},bubbles:!0,cancelable:!0});this.dispatchEvent(t),this._vdom=at(Mt,Rt({},this._props,{context:t.detail.context}),zt(this,this._vdomComponent,e)),(this.hasAttribute("hydrate")?wt:Ft)(this._vdom,this._root)}function $t(e){return e.replace(/-(\w)/g,function(e,t){return t?t.toUpperCase():""})}function Ut(e,t,n){if(this._vdom){var i={};i[e]=n=null!=n?n:void 0,i[$t(e)]=n,this._vdom=xt(this._vdom,i),Ft(this._vdom,this._root)}}function qt(){Ft(this._vdom=null,this._root)}function Xt(e,t){var n=this;return at(e.useFragment?ct:"slot",Rt({},It(e,Nt),{ref:function(e){e?(n.ref=e,n._listener||(n._listener=function(e){e.stopPropagation(),e.detail.context=t},e.addEventListener("_preact",n._listener))):n.ref.removeEventListener("_preact",n._listener)}}))}function zt(e,t,n){if(3===e.nodeType)return e.data;if(1!==e.nodeType)return null;var i=[],r={},o=0,a=e.attributes,s=e.childNodes;for(o=a.length;o--;)"slot"!==a[o].name&&(r[a[o].name]=a[o].value,r[$t(a[o].name)]=a[o].value);for(o=s.length;o--;){var u=zt(s[o],null,n),c=s[o].slot;c?r[c]=at(Xt,{name:c},u):i[o]=u}var l=!(!n||!n.shadow),d=t?at(Xt,{useFragment:!l},i):i;return!l&&t&&(e.innerHTML=""),at(t||e.nodeName.toLowerCase(),r,d)}function Zt(e){return e?"true"===e||"false"!==e&&null:null}function jt(e){if(!e)return null;try{return JSON.parse(e)}catch(e){console.error("Failed to parse JSON attribute",e)}return null}const Wt=["variant","placement","override-config","avatar-image-url","avatar-orb-color-1","avatar-orb-color-2","agent-id","signed-url","terms-key","server-location","language","dynamic-variables","show-avatar-when-collapsed","override-prompt","override-llm","override-speed","override-stability","override-similarity-boost","override-first-message","override-language","override-voice-id","override-text-only","mic-muting","transcript","transcript-entries","text-input","text-contents","default-expanded","always-expanded","dismissible","strip-audio-tags","user-id","use-rtc","auto-resume","collect-feedback","worklet-path-raw-audio-processor","worklet-path-audio-concat-processor","worklet-path-libsamplerate","syntax-highlight-theme","markdown-link-allowed-hosts","markdown-link-include-www","markdown-link-allow-http","show-agent-status"];var Gt=0;function Vt(e,t,n,i,r,o){t||(t={});var a,s,u=t;if("ref"in u)for(s in u={},t)"ref"==s?a=t[s]:u[s]=t[s];var c={type:e,props:u,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Gt,__i:-1,__u:0,__source:r,__self:o};if("function"==typeof e&&(a=e.defaultProps))for(s in a)void 0===u[s]&&(u[s]=a[s]);return $e.vnode&&$e.vnode(c),c}var Yt,Ht,Kt,Jt,en=0,tn=[],nn=$e,rn=nn.__b,on=nn.__r,an=nn.diffed,sn=nn.__c,un=nn.unmount,cn=nn.__;function ln(e,t){nn.__h&&nn.__h(Ht,e,en||t),en=0;var n=Ht.__H||(Ht.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function dn(e){return en=1,hn(_n,e)}function hn(e,t,n){var i=ln(Yt++,2);if(i.t=e,!i.__c&&(i.__=[n?n(t):_n(void 0,t),function(e){var t=i.__N?i.__N[0]:i.__[0],n=i.t(t,e);t!==n&&(i.__N=[n,i.__[1]],i.__c.setState({}))}],i.__c=Ht,!Ht.__f)){var r=function(e,t,n){if(!i.__c.__H)return!0;var r=i.__c.__H.__.filter(function(e){return!!e.__c});if(r.every(function(e){return!e.__N}))return!o||o.call(this,e,t,n);var a=i.__c.props!==e;return r.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(a=!0)}}),o&&o.call(this,e,t,n)||a};Ht.__f=!0;var o=Ht.shouldComponentUpdate,a=Ht.componentWillUpdate;Ht.componentWillUpdate=function(e,t,n){if(this.__e){var i=o;o=void 0,r(e,t,n),o=i}a&&a.call(this,e,t,n)},Ht.shouldComponentUpdate=r}return i.__N||i.__}function pn(e,t){var n=ln(Yt++,3);!nn.__s&&Sn(n.__H,t)&&(n.__=e,n.u=t,Ht.__H.__h.push(n))}function fn(e,t){var n=ln(Yt++,4);!nn.__s&&Sn(n.__H,t)&&(n.__=e,n.u=t,Ht.__h.push(n))}function mn(e){return en=5,gn(function(){return{current:e}},[])}function On(e,t,n){en=6,fn(function(){if("function"==typeof e){var n=e(t());return function(){e(null),n&&"function"==typeof n&&n()}}if(e)return e.current=t(),function(){return e.current=null}},null==n?n:n.concat(e))}function gn(e,t){var n=ln(Yt++,7);return Sn(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Dn(e,t){return en=8,gn(function(){return e},t)}function vn(e){var t=Ht.context[e.__c],n=ln(Yt++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(Ht)),t.props.value):e.__}function En(e,t){nn.useDebugValue&&nn.useDebugValue(t?t(e):e)}function Cn(){var e=ln(Yt++,11);if(!e.__){for(var t=Ht.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function bn(){for(var e;e=tn.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Tn),e.__H.__h.forEach(An),e.__H.__h=[]}catch(t){e.__H.__h=[],nn.__e(t,e.__v)}}nn.__b=function(e){Ht=null,rn&&rn(e)},nn.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),cn&&cn(e,t)},nn.__r=function(e){on&&on(e),Yt=0;var t=(Ht=e.__c).__H;t&&(Kt===Ht?(t.__h=[],Ht.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0})):(t.__h.forEach(Tn),t.__h.forEach(An),t.__h=[],Yt=0)),Kt=Ht},nn.diffed=function(e){an&&an(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==tn.push(t)&&Jt===nn.requestAnimationFrame||((Jt=nn.requestAnimationFrame)||yn)(bn)),t.__H.__.forEach(function(e){e.u&&(e.__H=e.u),e.u=void 0})),Kt=Ht=null},nn.__c=function(e,t){t.some(function(e){try{e.__h.forEach(Tn),e.__h=e.__h.filter(function(e){return!e.__||An(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],nn.__e(n,e.__v)}}),sn&&sn(e,t)},nn.unmount=function(e){un&&un(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{Tn(e)}catch(e){t=e}}),n.__H=void 0,t&&nn.__e(t,n.__v))};var kn="function"==typeof requestAnimationFrame;function yn(e){var t,n=function(){clearTimeout(i),kn&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,35);kn&&(t=requestAnimationFrame(n))}function Tn(e){var t=Ht,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),Ht=t}function An(e){var t=Ht;e.__c=e.__(),Ht=t}function Sn(e,t){return!e||e.length!==t.length||t.some(function(t,n){return t!==e[n]})}function _n(e,t){return"function"==typeof t?t(e):t}function Fn(e,t){for(var n in t)e[n]=t[n];return e}function wn(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var i in t)if("__source"!==i&&e[i]!==t[i])return!0;return!1}function xn(e,t){var n=t(),i=dn({t:{__:n,u:t}}),r=i[0].t,o=i[1];return fn(function(){r.__=n,r.u=t,Pn(r)&&o({t:r})},[e,n,t]),pn(function(){return Pn(r)&&o({t:r}),e(function(){Pn(r)&&o({t:r})})},[e]),n}function Pn(e){var t,n,i=e.u,r=e.__;try{var o=i();return!((t=r)===(n=o)&&(0!==t||1/t==1/n)||t!=t&&n!=n)}catch(e){return!0}}function Rn(e){e()}function In(e){return e}function Qn(){return[!1,Rn]}var Nn=fn;function Bn(e,t){this.props=e,this.context=t}function Mn(e,t){function n(e){var n=this.props.ref,i=n==e.ref;return!i&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!i:wn(this.props,e)}function i(t){return this.shouldComponentUpdate=n,at(e,t)}return i.displayName="Memo("+(e.displayName||e.name)+")",i.prototype.isReactComponent=!0,i.__f=!0,i.type=e,i}(Bn.prototype=new lt).isPureReactComponent=!0,Bn.prototype.shouldComponentUpdate=function(e,t){return wn(this.props,e)||wn(this.state,t)};var Ln=$e.__b;$e.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Ln&&Ln(e)};var $n=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Un(e){function t(t){var n=Fn({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=$n,t.render=e,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var qn=function(e,t){return null==e?null:gt(gt(e).map(t))},Xn={map:qn,forEach:qn,count:function(e){return e?gt(e).length:0},only:function(e){var t=gt(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:gt},zn=$e.__e;$e.__e=function(e,t,n,i){if(e.then)for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);zn(e,t,n,i)};var Zn=$e.unmount;function jn(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(e){"function"==typeof e.__c&&e.__c()}),e.__c.__H=null),null!=(e=Fn({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(e){return jn(e,t,n)})),e}function Wn(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(e){return Wn(e,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function Gn(){this.__u=0,this.o=null,this.__b=null}function Vn(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Yn(e){var t,n,i,r=null;function o(o){if(t||(t=e()).then(function(e){e&&(r=e.default||e),i=!0},function(e){n=e,i=!0}),n)throw n;if(!i)throw t;return r?at(r,o):null}return o.displayName="Lazy",o.__f=!0,o}function Hn(){this.i=null,this.l=null}$e.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),Zn&&Zn(e)},(Gn.prototype=new lt).__c=function(e,t){var n=t.__c,i=this;null==i.o&&(i.o=[]),i.o.push(n);var r=Vn(i.__v),o=!1,a=function(){o||(o=!0,n.__R=null,r?r(s):s())};n.__R=a;var s=function(){if(! --i.__u){if(i.state.__a){var e=i.state.__a;i.__v.__k[0]=Wn(e,e.__c.__P,e.__c.__O)}var t;for(i.setState({__a:i.__b=null});t=i.o.pop();)t.forceUpdate()}};i.__u++||32&t.__u||i.setState({__a:i.__b=i.__v.__k[0]}),e.then(a,a)},Gn.prototype.componentWillUnmount=function(){this.o=[]},Gn.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=jn(this.__b,n,i.__O=i.__P)}this.__b=null}var r=t.__a&&at(ct,null,e.fallback);return r&&(r.__u&=-33),[at(ct,null,t.__a?null:e.children),r]};var Kn=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function Jn(e){return this.getChildContext=function(){return e.context},e.children}function ei(e){var t=this,n=e.h;if(t.componentWillUnmount=function(){Ft(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),!t.v){for(var i=t.__v;null!==i&&!i.__m&&null!==i.__;)i=i.__;t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:i.__m},contains:function(){return!0},insertBefore:function(e,n){this.childNodes.push(e),t.h.insertBefore(e,n)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.h.removeChild(e)}}}Ft(at(Jn,{context:t.context},e.__v),t.v)}function ti(e,t){var n=at(ei,{__v:e,h:t});return n.containerInfo=t,n}(Hn.prototype=new lt).__a=function(e){var t=this,n=Vn(t.__v),i=t.l.get(e);return i[0]++,function(r){var o=function(){t.props.revealOrder?(i.push(r),Kn(t,e,i)):r()};n?n(o):o()}},Hn.prototype.render=function(e){this.i=null,this.l=new Map;var t=gt(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},Hn.prototype.componentDidUpdate=Hn.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){Kn(e,n,t)})};var ni=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,ii=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ri=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,oi=/[A-Z0-9]/g,ai=typeof document<"u",si=function(e){return(typeof Symbol<"u"&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};function ui(e,t,n){return null==t.__k&&(t.textContent=""),Ft(e,t),"function"==typeof n&&n(),e?e.__c:null}function ci(e,t,n){return wt(e,t),"function"==typeof n&&n(),e?e.__c:null}lt.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(lt.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var li=$e.event;function di(){}function hi(){return this.cancelBubble}function pi(){return this.defaultPrevented}$e.event=function(e){return li&&(e=li(e)),e.persist=di,e.isPropagationStopped=hi,e.isDefaultPrevented=pi,e.nativeEvent=e};var fi,mi={enumerable:!1,configurable:!0,get:function(){return this.class}},Oi=$e.vnode;$e.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,i={},r=-1===n.indexOf("-");for(var o in t){var a=t[o];if(!("value"===o&&"defaultValue"in t&&null==a||ai&&"children"===o&&"noscript"===n||"class"===o||"className"===o)){var s=o.toLowerCase();"defaultValue"===o&&"value"in t&&null==t.value?o="value":"download"===o&&!0===a?a="":"translate"===s&&"no"===a?a=!1:"o"===s[0]&&"n"===s[1]?"ondoubleclick"===s?o="ondblclick":"onchange"!==s||"input"!==n&&"textarea"!==n||si(t.type)?"onfocus"===s?o="onfocusin":"onblur"===s?o="onfocusout":ri.test(o)&&(o=s):s=o="oninput":r&&ii.test(o)?o=o.replace(oi,"-$&").toLowerCase():null===a&&(a=void 0),"oninput"===s&&i[o=s]&&(o="oninputCapture"),i[o]=a}}"select"==n&&i.multiple&&Array.isArray(i.value)&&(i.value=gt(t.children).forEach(function(e){e.props.selected=-1!=i.value.indexOf(e.props.value)})),"select"==n&&null!=i.defaultValue&&(i.value=gt(t.children).forEach(function(e){e.props.selected=i.multiple?-1!=i.defaultValue.indexOf(e.props.value):i.defaultValue==e.props.value})),t.class&&!t.className?(i.class=t.class,Object.defineProperty(i,"className",mi)):(t.className&&!t.class||t.class&&t.className)&&(i.class=i.className=t.className),e.props=i}(e),e.$$typeof=ni,Oi&&Oi(e)};var gi=$e.__r;$e.__r=function(e){gi&&gi(e),fi=e.__c};var Di=$e.diffed;$e.diffed=function(e){Di&&Di(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value),fi=null};var vi={ReactCurrentDispatcher:{current:{readContext:function(e){return fi.__n[e.__c].props.value},useCallback:Dn,useContext:vn,useDebugValue:En,useDeferredValue:In,useEffect:pn,useId:Cn,useImperativeHandle:On,useInsertionEffect:Nn,useLayoutEffect:fn,useMemo:gn,useReducer:hn,useRef:mn,useState:dn,useSyncExternalStore:xn,useTransition:Qn}}};function Ei(e){return at.bind(null,e)}function Ci(e){return!!e&&e.$$typeof===ni}function bi(e){return Ci(e)&&e.type===ct}function ki(e){return!!e&&!!e.displayName&&("string"==typeof e.displayName||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function yi(e){return Ci(e)?xt.apply(null,arguments):e}function Ti(e){return!!e.__k&&(Ft(null,e),!0)}function Ai(e){return e&&(e.base||1===e.nodeType&&e)||null}var Si=function(e,t){return e(t)},_i=function(e,t){return e(t)},Fi=ct,wi=Ci,xi={useState:dn,useId:Cn,useReducer:hn,useEffect:pn,useLayoutEffect:fn,useInsertionEffect:Nn,useTransition:Qn,useDeferredValue:In,useSyncExternalStore:xn,startTransition:Rn,useRef:mn,useImperativeHandle:On,useMemo:gn,useCallback:Dn,useContext:vn,useDebugValue:En,version:"18.3.1",Children:Xn,render:ui,hydrate:ci,unmountComponentAtNode:Ti,createPortal:ti,createElement:at,createContext:Pt,createFactory:Ei,cloneElement:yi,createRef:ut,Fragment:ct,isValidElement:Ci,isElement:wi,isFragment:bi,isMemo:ki,findDOMNode:Ai,Component:lt,PureComponent:Bn,memo:Mn,forwardRef:Un,flushSync:_i,unstable_batchedUpdates:Si,StrictMode:Fi,Suspense:Gn,SuspenseList:Hn,lazy:Yn,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:vi};const Pi=Object.freeze(Object.defineProperty({__proto__:null,Children:Xn,Component:lt,Fragment:ct,PureComponent:Bn,StrictMode:Fi,Suspense:Gn,SuspenseList:Hn,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:vi,cloneElement:yi,createContext:Pt,createElement:at,createFactory:Ei,createPortal:ti,createRef:ut,default:xi,findDOMNode:Ai,flushSync:_i,forwardRef:Un,hydrate:ci,isElement:wi,isFragment:bi,isMemo:ki,isValidElement:Ci,lazy:Yn,memo:Mn,render:ui,startTransition:Rn,unmountComponentAtNode:Ti,unstable_batchedUpdates:Si,useCallback:Dn,useContext:vn,useDebugValue:En,useDeferredValue:In,useEffect:pn,useErrorBoundary:function(e){var t=ln(Yt++,10),n=dn();return t.__=e,Ht.componentDidCatch||(Ht.componentDidCatch=function(e,i){t.__&&t.__(e,i),n[1](e)}),[n[0],function(){n[1](void 0)}]},useId:Cn,useImperativeHandle:On,useInsertionEffect:Nn,useLayoutEffect:fn,useMemo:gn,useReducer:hn,useRef:mn,useState:dn,useSyncExternalStore:xn,useTransition:Qn,version:"18.3.1"},Symbol.toStringTag,{value:"Module"}));var Ri=Symbol.for("preact-signals");function Ii(){if(Li>1)Li--;else{for(var e,t=!1;void 0!==Mi;){var n=Mi;for(Mi=void 0,$i++;void 0!==n;){var i=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&Zi(n))try{n.c()}catch(n){t||(e=n,t=!0)}n=i}}if($i=0,Li--,t)throw e}}function Qi(e){if(Li>0)return e();Li++;try{return e()}finally{Ii()}}var Ni=void 0;function Bi(e){var t=Ni;Ni=void 0;try{return e()}finally{Ni=t}}var Mi=void 0,Li=0,$i=0,Ui=0;function qi(e){if(void 0!==Ni){var t=e.n;if(void 0===t||t.t!==Ni)return t={i:0,S:e,p:Ni.s,n:void 0,t:Ni,e:void 0,x:void 0,r:t},void 0!==Ni.s&&(Ni.s.n=t),Ni.s=t,e.n=t,32&Ni.f&&e.S(t),t;if(-1===t.i)return t.i=0,void 0!==t.n&&(t.n.p=t.p,void 0!==t.p&&(t.p.n=t.n),t.p=Ni.s,t.n=void 0,Ni.s.n=t,Ni.s=t),t}}function Xi(e,t){this.v=e,this.i=0,this.n=void 0,this.t=void 0,this.W=null==t?void 0:t.watched,this.Z=null==t?void 0:t.unwatched,this.name=null==t?void 0:t.name}function zi(e,t){return new Xi(e,t)}function Zi(e){for(var t=e.s;void 0!==t;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function ji(e){for(var t=e.s;void 0!==t;t=t.n){var n=t.S.n;if(void 0!==n&&(t.r=n),t.S.n=t,t.i=-1,void 0===t.n){e.s=t;break}}}function Wi(e){for(var t=e.s,n=void 0;void 0!==t;){var i=t.p;-1===t.i?(t.S.U(t),void 0!==i&&(i.n=t.n),void 0!==t.n&&(t.n.p=i)):n=t,t.S.n=t.r,void 0!==t.r&&(t.r=void 0),t=i}e.s=n}function Gi(e,t){Xi.call(this,void 0),this.x=e,this.s=void 0,this.g=Ui-1,this.f=4,this.W=null==t?void 0:t.watched,this.Z=null==t?void 0:t.unwatched,this.name=null==t?void 0:t.name}function Vi(e,t){return new Gi(e,t)}function Yi(e){var t=e.u;if(e.u=void 0,"function"==typeof t){Li++;var n=Ni;Ni=void 0;try{t()}catch(t){throw e.f&=-2,e.f|=8,Hi(e),t}finally{Ni=n,Ii()}}}function Hi(e){for(var t=e.s;void 0!==t;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,Yi(e)}function Ki(e){if(Ni!==this)throw new Error("Out-of-order effect");Wi(this),Ni=e,this.f&=-2,8&this.f&&Hi(this),Ii()}function Ji(e,t){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=null==t?void 0:t.name}function er(e,t){var n=new Ji(e,t);try{n.c()}catch(e){throw n.d(),e}var i=n.d.bind(n);return i[Symbol.dispose]=i,i}Xi.prototype.brand=Ri,Xi.prototype.h=function(){return!0},Xi.prototype.S=function(e){var t=this,n=this.t;n!==e&&void 0===e.e&&(e.x=n,this.t=e,void 0!==n?n.e=e:Bi(function(){var e;null==(e=t.W)||e.call(t)}))},Xi.prototype.U=function(e){var t=this;if(void 0!==this.t){var n=e.e,i=e.x;void 0!==n&&(n.x=i,e.e=void 0),void 0!==i&&(i.e=n,e.x=void 0),e===this.t&&(this.t=i,void 0===i&&Bi(function(){var e;null==(e=t.Z)||e.call(t)}))}},Xi.prototype.subscribe=function(e){var t=this;return er(function(){var n=t.value,i=Ni;Ni=void 0;try{e(n)}finally{Ni=i}},{name:"sub"})},Xi.prototype.valueOf=function(){return this.value},Xi.prototype.toString=function(){return this.value+""},Xi.prototype.toJSON=function(){return this.value},Xi.prototype.peek=function(){var e=Ni;Ni=void 0;try{return this.value}finally{Ni=e}},Object.defineProperty(Xi.prototype,"value",{get:function(){var e=qi(this);return void 0!==e&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if($i>100)throw new Error("Cycle detected");this.v=e,this.i++,Ui++,Li++;try{for(var t=this.t;void 0!==t;t=t.x)t.t.N()}finally{Ii()}}}}),Gi.prototype=new Xi,Gi.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f)||(this.f&=-5,this.g===Ui))return!0;if(this.g=Ui,this.f|=1,this.i>0&&!Zi(this))return this.f&=-2,!0;var e=Ni;try{ji(this),Ni=this;var t=this.x();(16&this.f||this.v!==t||0===this.i)&&(this.v=t,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return Ni=e,Wi(this),this.f&=-2,!0},Gi.prototype.S=function(e){if(void 0===this.t){this.f|=36;for(var t=this.s;void 0!==t;t=t.n)t.S.S(t)}Xi.prototype.S.call(this,e)},Gi.prototype.U=function(e){if(void 0!==this.t&&(Xi.prototype.U.call(this,e),void 0===this.t)){this.f&=-33;for(var t=this.s;void 0!==t;t=t.n)t.S.U(t)}},Gi.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;void 0!==e;e=e.x)e.t.N()}},Object.defineProperty(Gi.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var e=qi(this);if(this.h(),void 0!==e&&(e.i=this.i),16&this.f)throw this.v;return this.v}}),Ji.prototype.c=function(){var e=this.S();try{if(8&this.f||void 0===this.x)return;var t=this.x();"function"==typeof t&&(this.u=t)}finally{e()}},Ji.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,Yi(this),ji(this),Li++;var e=Ni;return Ni=this,Ki.bind(this,e)},Ji.prototype.N=function(){2&this.f||(this.f|=2,this.o=Mi,Mi=this)},Ji.prototype.d=function(){this.f|=8,1&this.f||Hi(this)},Ji.prototype.dispose=function(){this.d()};var tr,nr,ir,rr=typeof window<"u"&&!!window.__PREACT_SIGNALS_DEVTOOLS__,or=[],ar=[];function sr(e,t){$e[e]=t.bind(null,$e[e]||function(){})}function ur(e){ir&&ir(),ir=e&&e.S()}function cr(e){var t=this,n=e.data,i=dr(n);i.value=n;var r=gn(function(){for(var e=t,n=t.__v;n=n.__;)if(n.__c){n.__c.__$f|=4;break}var r=Vi(function(){var e=i.value.value;return 0===e?0:!0===e?"":e||""}),o=Vi(function(){return!Array.isArray(r.value)&&!qe(r.value)}),a=er(function(){if(this.N=Dr,o.value){var t=r.value;e.__v&&e.__v.__e&&3===e.__v.__e.nodeType&&(e.__v.__e.data=t)}}),s=t.__$u.d;return t.__$u.d=function(){a(),s.call(this)},[o,r]},[]),o=r[0],a=r[1];return o.value?a.peek():a.value}function lr(e,t,n,i){var r=t in e&&void 0===e.ownerSVGElement,o=zi(n);return{o:function(e,t){o.value=e,i=t},d:er(function(){this.N=Dr;var n=o.value.value;i[t]!==n&&(i[t]=n,r?e[t]=n:null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))})}}function dr(e,t){return dn(function(){return zi(e,t)})[0]}function hr(e,t){var n=mn(e);return n.current=e,nr.__$f|=4,gn(function(){return Vi(function(){return n.current()},t)},[])}er(function(){tr=this.N})(),cr.displayName="ReactiveTextNode",Object.defineProperties(Xi.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:cr},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}}),sr("__b",function(e,t){if(rr&&"function"==typeof t.type&&window.__PREACT_SIGNALS_DEVTOOLS__.exitComponent(),"string"==typeof t.type){var n,i=t.props;for(var r in i)if("children"!==r){var o=i[r];o instanceof Xi&&(n||(t.__np=n={}),n[r]=o,i[r]=o.peek())}}e(t)}),sr("__r",function(e,t){if(rr&&"function"==typeof t.type&&window.__PREACT_SIGNALS_DEVTOOLS__.enterComponent(t),t.type!==ct){ur();var n,i=t.__c;i&&(i.__$f&=-2,void 0===(n=i.__$u)&&(i.__$u=(er(function(){r=this}),r.c=function(){i.__$f|=1,i.setState({})},n=r))),nr=i,ur(n)}var r;e(t)}),sr("__e",function(e,t,n,i){rr&&window.__PREACT_SIGNALS_DEVTOOLS__.exitComponent(),ur(),nr=void 0,e(t,n,i)}),sr("diffed",function(e,t){var n;if(rr&&"function"==typeof t.type&&window.__PREACT_SIGNALS_DEVTOOLS__.exitComponent(),ur(),nr=void 0,"string"==typeof t.type&&(n=t.__e)){var i=t.__np,r=t.props;if(i){var o=n.U;if(o)for(var a in o){var s=o[a];void 0!==s&&!(a in i)&&(s.d(),o[a]=void 0)}else o={},n.U=o;for(var u in i){var c=o[u],l=i[u];void 0===c?(c=lr(n,u,l,r),o[u]=c):c.o(l,r)}}}e(t)}),sr("unmount",function(e,t){if("string"==typeof t.type){var n=t.__e;if(n){var i=n.U;if(i)for(var r in n.U=void 0,i){var o=i[r];o&&o.d()}}}else{var a=t.__c;if(a){var s=a.__$u;s&&(a.__$u=void 0,s.d())}}e(t)}),sr("__h",function(e,t,n,i){(i<3||9===i)&&(t.__$f|=2),e(t,n,i)}),lt.prototype.shouldComponentUpdate=function(e,t){var n=this.__$u,i=n&&void 0!==n.s;for(var r in t)return!0;if(this.__f||"boolean"==typeof this.u&&!0===this.u){var o=2&this.__$f;if(!(i||o||4&this.__$f)||1&this.__$f)return!0}else if(!(i||4&this.__$f)||3&this.__$f)return!0;for(var a in e)if("__source"!==a&&e[a]!==this.props[a])return!0;for(var s in this.props)if(!(s in e))return!0;return!1};var pr=typeof requestAnimationFrame>"u"?setTimeout:function(e){var t=function(){clearTimeout(n),cancelAnimationFrame(i),e()},n=setTimeout(t,35),i=requestAnimationFrame(t)},fr=function(e){queueMicrotask(function(){queueMicrotask(e)})};function mr(){Qi(function(){for(var e;e=or.shift();)tr.call(e)})}function Or(){1===or.push(this)&&($e.requestAnimationFrame||pr)(mr)}function gr(){Qi(function(){for(var e;e=ar.shift();)tr.call(e)})}function Dr(){1===ar.push(this)&&($e.requestAnimationFrame||fr)(gr)}function vr(e,t){var n=mn(e);n.current=e,pn(function(){return er(function(){return this.N=Or,n.current()},t)},[])}function Er(e,t){(function(e){return"string"==typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");const n=function(e){return"string"==typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function Cr(e){return Math.min(1,Math.max(0,e))}function br(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function kr(e){return Number(e)<=1?"".concat(100*Number(e),"%"):e}function yr(e){return 1===e.length?"0"+e:String(e)}function Tr(e,t,n){e=Er(e,255),t=Er(t,255),n=Er(n,255);const i=Math.max(e,t,n),r=Math.min(e,t,n);let o=0,a=0;const s=(i+r)/2;if(i===r)a=0,o=0;else{const u=i-r;switch(a=s>.5?u/(2-i-r):u/(i+r),i){case e:o=(t-n)/u+(t<n?6:0);break;case t:o=(n-e)/u+2;break;case n:o=(e-t)/u+4}o/=6}return{h:o,s:a,l:s}}function Ar(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Sr(e,t,n){e=Er(e,255),t=Er(t,255),n=Er(n,255);const i=Math.max(e,t,n),r=Math.min(e,t,n);let o=0;const a=i,s=i-r,u=0===i?0:s/i;if(i===r)o=0;else{switch(i){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4}o/=6}return{h:o,s:u,v:a}}function _r(e,t,n,i){const r=[yr(Math.round(e).toString(16)),yr(Math.round(t).toString(16)),yr(Math.round(n).toString(16))];return i&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function Fr(e,t,n){let i=1-e/255,r=1-t/255,o=1-n/255,a=Math.min(i,r,o);return 1===a?(i=0,r=0,o=0):(i=(i-a)/(1-a)*100,r=(r-a)/(1-a)*100,o=(o-a)/(1-a)*100),a*=100,{c:Math.round(i),m:Math.round(r),y:Math.round(o),k:Math.round(a)}}function wr(e){return Math.round(255*parseFloat(e)).toString(16)}function xr(e){return Pr(e)/255}function Pr(e){return parseInt(e,16)}const Rr={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};const Ir="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",Qr="[\\s|\\(]+("+Ir+")[,|\\s]+("+Ir+")[,|\\s]+("+Ir+")\\s*\\)?",Nr="[\\s|\\(]+("+Ir+")[,|\\s]+("+Ir+")[,|\\s]+("+Ir+")[,|\\s]+("+Ir+")\\s*\\)?",Br={CSS_UNIT:new RegExp(Ir),rgb:new RegExp("rgb"+Qr),rgba:new RegExp("rgba"+Nr),hsl:new RegExp("hsl"+Qr),hsla:new RegExp("hsla"+Nr),hsv:new RegExp("hsv"+Qr),hsva:new RegExp("hsva"+Nr),cmyk:new RegExp("cmyk"+Nr),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Mr(e){return"number"==typeof e?!Number.isNaN(e):Br.CSS_UNIT.test(e)}class Lr{constructor(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t instanceof Lr)return t;var i;"number"==typeof t&&(t={r:(i=t)>>16,g:(65280&i)>>8,b:255&i}),this.originalInput=t;const r=function(e){let t={r:0,g:0,b:0},n=1,i=null,r=null,o=null,a=!1,s=!1;return"string"==typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;let t=!1;if(Rr[e])e=Rr[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};let n=Br.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=Br.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Br.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=Br.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Br.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=Br.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Br.cmyk.exec(e),n?{c:n[1],m:n[2],y:n[3],k:n[4]}:(n=Br.hex8.exec(e),n?{r:Pr(n[1]),g:Pr(n[2]),b:Pr(n[3]),a:xr(n[4]),format:t?"name":"hex8"}:(n=Br.hex6.exec(e),n?{r:Pr(n[1]),g:Pr(n[2]),b:Pr(n[3]),format:t?"name":"hex"}:(n=Br.hex4.exec(e),n?{r:Pr(n[1]+n[1]),g:Pr(n[2]+n[2]),b:Pr(n[3]+n[3]),a:xr(n[4]+n[4]),format:t?"name":"hex8"}:(n=Br.hex3.exec(e),!!n&&{r:Pr(n[1]+n[1]),g:Pr(n[2]+n[2]),b:Pr(n[3]+n[3]),format:t?"name":"hex"}))))))))))}(e)),"object"==typeof e&&(Mr(e.r)&&Mr(e.g)&&Mr(e.b)?(t=function(e,t,n){return{r:255*Er(e,255),g:255*Er(t,255),b:255*Er(n,255)}}(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):Mr(e.h)&&Mr(e.s)&&Mr(e.v)?(i=kr(e.s),r=kr(e.v),t=function(e,t,n){e=6*Er(e,360),t=Er(t,100),n=Er(n,100);const i=Math.floor(e),r=e-i,o=n*(1-t),a=n*(1-r*t),s=n*(1-(1-r)*t),u=i%6;return{r:255*[n,a,o,o,s,n][u],g:255*[s,n,n,a,o,o][u],b:255*[o,o,s,n,n,a][u]}}(e.h,i,r),a=!0,s="hsv"):Mr(e.h)&&Mr(e.s)&&Mr(e.l)?(i=kr(e.s),o=kr(e.l),t=function(e,t,n){let i,r,o;if(e=Er(e,360),t=Er(t,100),n=Er(n,100),0===t)r=n,o=n,i=n;else{const a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;i=Ar(s,a,e+1/3),r=Ar(s,a,e),o=Ar(s,a,e-1/3)}return{r:255*i,g:255*r,b:255*o}}(e.h,i,o),a=!0,s="hsl"):Mr(e.c)&&Mr(e.m)&&Mr(e.y)&&Mr(e.k)&&(t=function(e,t,n,i){const r=i/100;return{r:255*(1-e/100)*(1-r),g:255*(1-t/100)*(1-r),b:255*(1-n/100)*(1-r)}}(e.c,e.m,e.y,e.k),a=!0,s="cmyk"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=br(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}(t);this.originalInput=t,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(e=n.format)&&void 0!==e?e:r.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}isDark(){return this.getBrightness()<128}isLight(){return!this.isDark()}getBrightness(){const e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3}getLuminance(){const e=this.toRgb();let t,n,i;const r=e.r/255,o=e.g/255,a=e.b/255;return t=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4),n=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4),i=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4),.2126*t+.7152*n+.0722*i}getAlpha(){return this.a}setAlpha(e){return this.a=br(e),this.roundA=Math.round(100*this.a)/100,this}isMonochrome(){const{s:e}=this.toHsl();return 0===e}toHsv(){const e=Sr(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}}toHsvString(){const e=Sr(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),i=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(i,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")}toHsl(){const e=Tr(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}}toHslString(){const e=Tr(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),i=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(i,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")}toHex(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _r(this.r,this.g,this.b,e)}toHexString(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"#"+this.toHex(e)}toHex8(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n,i,r){const o=[yr(Math.round(e).toString(16)),yr(Math.round(t).toString(16)),yr(Math.round(n).toString(16)),yr(wr(i))];return r&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this.r,this.g,this.b,this.a,e)}toHex8String(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"#"+this.toHex8(e)}toHexShortString(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return 1===this.a?this.toHexString(e):this.toHex8String(e)}toRgb(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}}toRgbString(){const e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")}toPercentageRgb(){const e=e=>"".concat(Math.round(100*Er(e,255)),"%");return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}}toPercentageRgbString(){const e=e=>Math.round(100*Er(e,255));return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")}toCmyk(){return Be({},Fr(this.r,this.g,this.b))}toCmykString(){const{c:e,m:t,y:n,k:i}=Fr(this.r,this.g,this.b);return"cmyk(".concat(e,", ").concat(t,", ").concat(n,", ").concat(i,")")}toName(){if(0===this.a)return"transparent";if(this.a<1)return!1;const e="#"+_r(this.r,this.g,this.b,!1);for(const[t,n]of Object.entries(Rr))if(e===n)return t;return!1}toString(e){const t=!!e;e=null!=e?e:this.format;let n=!1;const i=this.a<1&&this.a>=0;return t||!i||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),("hex"===e||"hex6"===e)&&(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),"cmyk"===e&&(n=this.toCmykString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()}toNumber(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)}clone(){return new Lr(this.toString())}lighten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;const t=this.toHsl();return t.l+=e/100,t.l=Cr(t.l),new Lr(t)}brighten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;const t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(-e/100*255))),t.g=Math.max(0,Math.min(255,t.g-Math.round(-e/100*255))),t.b=Math.max(0,Math.min(255,t.b-Math.round(-e/100*255))),new Lr(t)}darken(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;const t=this.toHsl();return t.l-=e/100,t.l=Cr(t.l),new Lr(t)}tint(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.mix("white",e)}shade(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.mix("black",e)}desaturate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;const t=this.toHsl();return t.s-=e/100,t.s=Cr(t.s),new Lr(t)}saturate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;const t=this.toHsl();return t.s+=e/100,t.s=Cr(t.s),new Lr(t)}greyscale(){return this.desaturate(100)}spin(e){const t=this.toHsl(),n=(t.h+e)%360;return t.h=n<0?360+n:n,new Lr(t)}mix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;const n=this.toRgb(),i=new Lr(e).toRgb(),r=t/100,o={r:(i.r-n.r)*r+n.r,g:(i.g-n.g)*r+n.g,b:(i.b-n.b)*r+n.b,a:(i.a-n.a)*r+n.a};return new Lr(o)}analogous(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;const n=this.toHsl(),i=360/t,r=[this];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,r.push(new Lr(n));return r}complement(){const e=this.toHsl();return e.h=(e.h+180)%360,new Lr(e)}monochromatic(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;const t=this.toHsv(),{h:n}=t,{s:i}=t;let{v:r}=t;const o=[],a=1/e;for(;e--;)o.push(new Lr({h:n,s:i,v:r})),r=(r+a)%1;return o}splitcomplement(){const e=this.toHsl(),{h:t}=e;return[this,new Lr({h:(t+72)%360,s:e.s,l:e.l}),new Lr({h:(t+216)%360,s:e.s,l:e.l})]}onBackground(e){const t=this.toRgb(),n=new Lr(e).toRgb(),i=t.a+n.a*(1-t.a);return new Lr({r:(t.r*t.a+n.r*n.a*(1-t.a))/i,g:(t.g*t.a+n.g*n.a*(1-t.a))/i,b:(t.b*t.a+n.b*n.a*(1-t.a))/i,a:i})}triad(){return this.polyad(3)}tetrad(){return this.polyad(4)}polyad(e){const t=this.toHsl(),{h:n}=t,i=[this],r=360/e;for(let o=1;o<e;o++)i.push(new Lr({h:(n+o*r)%360,s:t.s,l:t.l}));return i}equals(e){const t=new Lr(e);return"cmyk"===this.format||"cmyk"===t.format?this.toCmykString()===t.toCmykString():this.toRgbString()===t.toRgbString()}}const $r=["tiny","compact","full"];function Ur(e){return $r.includes(e)?e:$r[0]}const qr=["top-left","top","top-right","bottom-left","bottom","bottom-right"];function Xr(e){return qr.includes(e)?e:"bottom-right"}const zr={main_label:"Need help?",start_call:"Start a call",start_chat:"Start a chat",send_message:"Send",new_call:"New call",end_call:"End",mute_microphone:"Mute microphone",text_mode:"Switch to text mode",voice_mode:"Switch to voice mode",switched_to_text_mode:"Switched to text mode",switched_to_voice_mode:"Switched to voice mode",change_language:"Change language",collapse:"Collapse",expand:"Expand",copied:"Copied!",accept_terms:"Accept",dismiss_terms:"Cancel",listening_status:"Listening",speaking_status:"Talk to interrupt",connecting_status:"Connecting",chatting_status:"Chatting with AI Agent",input_label:"Text message input",input_placeholder:"Send a message...",input_placeholder_text_only:"Send a message...",input_placeholder_new_conversation:"Start a new conversation",user_ended_conversation:"You ended the conversation",agent_ended_conversation:"The agent ended the conversation",conversation_id:"ID",error_occurred:"An error occurred",copy_id:"Copy ID",initiate_feedback:"How was this conversation?",request_follow_up_feedback:"Tell us more",thanks_for_feedback:"Thank you for your feedback!",thanks_for_feedback_details:"Your feedback helps us improve our service and better support you in the future.",follow_up_feedback_placeholder:"Tell us more about your experience...",submit:"Submit",go_back:"Go back",copy:"Copy",download:"Download",wrap:"Wrap",agent_working:"Thinking...",agent_done:"Completed",agent_error:"Error occurred"},Zr=Object.keys(zr),jr={base:"#ffffff",base_hover:"#f9fafb",base_active:"#f3f4f6",base_border:"#e5e7eb",base_subtle:"#6b7280",base_primary:"#000000",base_error:"#ef4444",accent:"#000000",accent_hover:"#1f2937",accent_active:"#374151",accent_border:"#4b5563",accent_subtle:"#6b7280",accent_primary:"#ffffff",overlay_padding:32,button_radius:18,input_radius:10,bubble_radius:15,sheet_radius:"calc(var(--el-button-radius) + 6px)",compact_sheet_radius:"calc(var(--el-button-radius) + 12px)",dropdown_sheet_radius:"calc(var(--el-input-radius) + 6px)"},Wr=Object.keys(jr);function Gr(e){const t=vn(e);if(null==t)throw new Error("".concat(e.displayName," cannot be used outside of provider"));return t}const Vr=Pt(null);function Yr(e){let{value:t,children:n}=e;const i=gn(()=>Object.fromEntries(Wt.map(e=>[e,zi(t[e])])),[]);return Wt.forEach(e=>{i[e].value=t[e]}),Vt(Vr.Provider,{value:i,children:n})}function Hr(e){return Gr(Vr)[e]}const Kr=Pt(null);function Jr(e){let{children:t}=e;const n=Hr("server-location"),i=gn(()=>{const e=Vi(()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"us";switch(e){case"eu-residency":case"in-residency":case"us":case"global":return e;default:return console.warn("[ConversationalAI] Invalid server-location: ".concat(e,'. Defaulting to "us"')),"us"}}(n.value)),t={us:"https://api.us.elevenlabs.io","eu-residency":"https://api.eu.residency.elevenlabs.io","in-residency":"https://api.in.residency.elevenlabs.io",global:"https://api.elevenlabs.io"},i={us:"wss://api.us.elevenlabs.io","eu-residency":"wss://api.eu.residency.elevenlabs.io","in-residency":"wss://api.in.residency.elevenlabs.io",global:"wss://api.elevenlabs.io"};return{location:e,serverUrl:Vi(()=>t[e.value]),webSocketUrl:Vi(()=>i[e.value])}},[]);return Vt(Kr.Provider,{value:i,children:t})}function eo(){return Gr(Kr)}const to={en:{name:"English",flagCode:"us",languageCode:"en"},zh:{name:"",flagCode:"cn",languageCode:"zh"},es:{name:"Espaol",flagCode:"es",languageCode:"es"},hi:{name:"",flagCode:"in",languageCode:"hi"},pt:{name:"Portugus (Portugal)",flagCode:"pt",languageCode:"pt"},"pt-br":{name:"Portugus (Brasil)",flagCode:"br",languageCode:"pt-br"},fr:{name:"Franais",flagCode:"fr",languageCode:"fr"},de:{name:"Deutsch",flagCode:"de",languageCode:"de"},ja:{name:"",flagCode:"jp",languageCode:"ja"},ar:{name:"",flagCode:"ae",languageCode:"ar"},ru:{name:"",flagCode:"ru",languageCode:"ru"},ko:{name:"",flagCode:"kr",languageCode:"ko"},id:{name:"Bahasa Indonesia",flagCode:"id",languageCode:"id"},it:{name:"Italiano",flagCode:"it",languageCode:"it"},nl:{name:"Nederlands",flagCode:"nl",languageCode:"nl"},tr:{name:"Trke",flagCode:"tr",languageCode:"tr"},pl:{name:"Polski",flagCode:"pl",languageCode:"pl"},sv:{name:"Svenska",flagCode:"se",languageCode:"sv"},ms:{name:"Bahasa Melayu",flagCode:"my",languageCode:"ms"},ro:{name:"Romn",flagCode:"ro",languageCode:"ro"},uk:{name:"",flagCode:"ua",languageCode:"uk"},el:{name:"",flagCode:"gr",languageCode:"el"},cs:{name:"etina",flagCode:"cz",languageCode:"cs"},da:{name:"Dansk",flagCode:"dk",languageCode:"da"},fi:{name:"Suomi",flagCode:"fi",languageCode:"fi"},bg:{name:"",flagCode:"bg",languageCode:"bg"},hr:{name:"Hrvatski",flagCode:"hr",languageCode:"hr"},sk:{name:"Slovenina",flagCode:"sk",languageCode:"sk"},ta:{name:"",flagCode:"in",languageCode:"ta"},hu:{name:"Magyar",flagCode:"hu",languageCode:"hu"},no:{name:"Norsk",flagCode:"no",languageCode:"no"},vi:{name:"Ting Vit",flagCode:"vn",languageCode:"vi"},tl:{name:"Filipino",flagCode:"ph",languageCode:"tl"},af:{name:"Afrikaans",flagCode:"za",languageCode:"af"},hy:{name:"",flagCode:"am",languageCode:"hy"},as:{name:"",flagCode:"in",languageCode:"as"},az:{name:"Azrbaycan",flagCode:"az",languageCode:"az"},be:{name:"",flagCode:"by",languageCode:"be"},bn:{name:"",flagCode:"in",languageCode:"bn"},bs:{name:"Bosanski",flagCode:"ba",languageCode:"bs"},ca:{name:"Catal",flagCode:"es-ct",languageCode:"ca"},et:{name:"Eesti",flagCode:"ee",languageCode:"et"},gl:{name:"Galego",flagCode:"es-ga",languageCode:"gl"},ka:{name:"",flagCode:"ge",languageCode:"ka"},gu:{name:"",flagCode:"in",languageCode:"gu"},ha:{name:"Hausa",flagCode:"ng",languageCode:"ha"},he:{name:"",flagCode:"il",languageCode:"he"},is:{name:"slenska",flagCode:"is",languageCode:"is"},ga:{name:"Gaeilge",flagCode:"ie",languageCode:"ga"},jv:{name:"Basa Jawa",flagCode:"id",languageCode:"jv"},kn:{name:"",flagCode:"in",languageCode:"kn"},kk:{name:"",flagCode:"kz",languageCode:"kk"},ky:{name:"",flagCode:"kg",languageCode:"ky"},lv:{name:"Latvieu",flagCode:"lv",languageCode:"lv"},lt:{name:"Lietuvi",flagCode:"lt",languageCode:"lt"},lb:{name:"Ltzebuergesch",flagCode:"lu",languageCode:"lb"},mk:{name:"",flagCode:"mk",languageCode:"mk"},ml:{name:"",flagCode:"in",languageCode:"ml"},mr:{name:"",flagCode:"in",languageCode:"mr"},ne:{name:"",flagCode:"np",languageCode:"ne"},ps:{name:"",flagCode:"af",languageCode:"ps"},fa:{name:"",flagCode:"ir",languageCode:"fa"},pa:{name:"",flagCode:"in",languageCode:"pa"},sr:{name:"",flagCode:"rs",languageCode:"sr"},sd:{name:"",flagCode:"in",languageCode:"sd"},sl:{name:"Slovenina",flagCode:"si",languageCode:"sl"},so:{name:"Soomaali",flagCode:"so",languageCode:"so"},sw:{name:"Kiswahili",flagCode:"ke",languageCode:"sw"},te:{name:"",flagCode:"in",languageCode:"te"},th:{name:"",flagCode:"th",languageCode:"th"},ur:{name:"",flagCode:"pk",languageCode:"ur"},cy:{name:"Cymraeg",flagCode:"gb-wls",languageCode:"cy"}};function no(e){return Object.keys(to).includes(null!=e?e:"")}const io=Pt(null);function ro(e){var t;let{children:n}=e;const i=Hf(),r=Hr("language"),o=Hr("override-language"),a=dr(null!==(t=r.peek())&&void 0!==t?t:i.peek().language),s=hr(()=>{var e;return(null!==(e=i.value.supported_language_overrides)&&void 0!==e?e:[]).filter(no)}),u=hr(()=>s.value.map(e=>to[e]).sort((e,t)=>e.name.localeCompare(t.name))),c=gn(()=>({language:Vi(()=>no(o.value)?to[o.value]:no(a.value)&&s.value.includes(a.value)?to[a.value]:to[i.value.language]),setLanguage:e=>{a.value=e},options:u,showPicker:Vi(()=>u.value.length>0)}),[]);return Vt(io.Provider,{value:c,children:n})}function oo(){return Gr(io)}function ao(e,t){return t.forEach(function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach(function(n){if("default"!==n&&!(n in e)){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})}),Object.freeze(e)}var so=Object.defineProperty,uo=(e,t,n)=>((e,t,n)=>t in e?so(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);let co=class{constructor(){uo(this,"_locking"),uo(this,"_locks"),this._locking=Promise.resolve(),this._locks=0}isLocked(){return this._locks>0}lock(){let e;this._locks+=1;const t=new Promise(t=>e=()=>{this._locks-=1,t()}),n=this._locking.then(()=>e);return this._locking=this._locking.then(()=>t),n}};function lo(e,t){if(!e)throw new Error(t)}function ho(e){if("number"!=typeof e)throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw new Error("invalid int 32: "+e)}function po(e){if("number"!=typeof e)throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw new Error("invalid uint 32: "+e)}function fo(e){if("number"!=typeof e)throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>34028234663852886e22||e<-34028234663852886e22))throw new Error("invalid float 32: "+e)}const mo=Symbol("@bufbuild/protobuf/enum-type");function Oo(e){const t=e[mo];return lo(t,"missing enum type on enum object"),t}function go(e,t,n,i){e[mo]=Do(t,n.map(t=>({no:t.no,name:t.name,localName:e[t.no]})))}function Do(e,t,n){const i=Object.create(null),r=Object.create(null),o=[];for(const e of t){const t=Eo(e);o.push(t),i[e.name]=t,r[e.no]=t}return{typeName:e,values:o,findName:e=>i[e],findNumber:e=>r[e]}}function vo(e,t,n){const i={};for(const e of t){const t=Eo(e);i[t.localName]=t.no,i[t.no]=t.localName}return go(i,e,t),i}function Eo(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}class Co{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,t){const n=this.getType().runtime.bin,i=n.makeReadOptions(t);return n.readMessage(this,i.readerFactory(e),e.byteLength,i),this}fromJson(e,t){const n=this.getType(),i=n.runtime.json,r=i.makeReadOptions(t);return i.readMessage(n,e,r,this),this}fromJsonString(e,t){let n;try{n=JSON.parse(e)}catch(e){throw new Error("cannot decode ".concat(this.getType().typeName," from JSON: ").concat(e instanceof Error?e.message:String(e)))}return this.fromJson(n,t)}toBinary(e){const t=this.getType().runtime.bin,n=t.makeWriteOptions(e),i=n.writerFactory();return t.writeMessage(this,i,n),i.finish()}toJson(e){const t=this.getType().runtime.json,n=t.makeWriteOptions(e);return t.writeMessage(this,n)}toJsonString(e){var t;const n=this.toJson(e);return JSON.stringify(n,null,null!==(t=null==e?void 0:e.prettySpaces)&&void 0!==t?t:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function bo(){let e=0,t=0;for(let n=0;n<28;n+=7){let i=this.buf[this.pos++];if(e|=(127&i)<<n,!(128&i))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(15&n)<<28,t=(112&n)>>4,!(128&n))return this.assertBounds(),[e,t];for(let n=3;n<=31;n+=7){let i=this.buf[this.pos++];if(t|=(127&i)<<n,!(128&i))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function ko(e,t,n){for(let i=0;i<28;i+=7){const r=e>>>i,o=!(!(r>>>7)&&0==t),a=255&(o?128|r:r);if(n.push(a),!o)return}const i=e>>>28&15|(7&t)<<4,r=!!(t>>3);if(n.push(255&(r?128|i:i)),r){for(let e=3;e<31;e+=7){const i=t>>>e,r=!!(i>>>7),o=255&(r?128|i:i);if(n.push(o),!r)return}n.push(t>>>31&1)}}const yo=4294967296;function To(e){const t="-"===e[0];t&&(e=e.slice(1));const n=1e6;let i=0,r=0;function o(t,o){const a=Number(e.slice(t,o));r*=n,i=i*n+a,i>=yo&&(r+=i/yo|0,i%=yo)}return o(-24,-18),o(-18,-12),o(-12,-6),o(-6),t?_o(i,r):So(i,r)}function Ao(e,t){if(({lo:e,hi:t}=function(e,t){return{lo:e>>>0,hi:t>>>0}}(e,t)),t<=2097151)return String(yo*t+e);const n=16777215&(e>>>24|t<<8),i=t>>16&65535;let r=(16777215&e)+6777216*n+6710656*i,o=n+8147497*i,a=2*i;const s=1e7;return r>=s&&(o+=Math.floor(r/s),r%=s),o>=s&&(a+=Math.floor(o/s),o%=s),a.toString()+Fo(o)+Fo(r)}function So(e,t){return{lo:0|e,hi:0|t}}function _o(e,t){return t=~t,e?e=1+~e:t+=1,So(e,t)}const Fo=e=>{const t=String(e);return"0000000".slice(t.length)+t};function wo(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}}function xo(){let e=this.buf[this.pos++],t=127&e;if(!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<7,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<14,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<21,!(128&e))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(15&e)<<28;for(let t=5;128&e&&t<10;t++)e=this.buf[this.pos++];if(128&e)throw new Error("invalid varint");return this.assertBounds(),t>>>0}const Po=function(){const e=new DataView(new ArrayBuffer(8));if("function"==typeof BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64&&("object"!=typeof process||"object"!=typeof process.env||"1"!==process.env.BUF_BIGINT_DISABLE)){const t=BigInt("-9223372036854775808"),n=BigInt("9223372036854775807"),i=BigInt("0"),r=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(e){const i="bigint"==typeof e?e:BigInt(e);if(i>n||i<t)throw new Error("int64 invalid: ".concat(e));return i},uParse(e){const t="bigint"==typeof e?e:BigInt(e);if(t>r||t<i)throw new Error("uint64 invalid: ".concat(e));return t},enc(t){return e.setBigInt64(0,this.parse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(t){return e.setBigInt64(0,this.uParse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec:(t,n)=>(e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigInt64(0,!0)),uDec:(t,n)=>(e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigUint64(0,!0))}}const t=e=>lo(/^-?[0-9]+$/.test(e),"int64 invalid: ".concat(e)),n=e=>lo(/^[0-9]+$/.test(e),"uint64 invalid: ".concat(e));return{zero:"0",supported:!1,parse:e=>("string"!=typeof e&&(e=e.toString()),t(e),e),uParse:e=>("string"!=typeof e&&(e=e.toString()),n(e),e),enc:e=>("string"!=typeof e&&(e=e.toString()),t(e),To(e)),uEnc:e=>("string"!=typeof e&&(e=e.toString()),n(e),To(e)),dec:(e,t)=>function(e,t){let n=So(e,t);const i=2147483648&n.hi;i&&(n=_o(n.lo,n.hi));const r=Ao(n.lo,n.hi);return i?"-"+r:r}(e,t),uDec:(e,t)=>Ao(e,t)}}();var Ro,Io,Qo,No;function Bo(e,t,n){if(t===n)return!0;if(e==Ro.BYTES){if(!(t instanceof Uint8Array&&n instanceof Uint8Array&&t.length===n.length))return!1;for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}switch(e){case Ro.UINT64:case Ro.FIXED64:case Ro.INT64:case Ro.SFIXED64:case Ro.SINT64:return t==n}return!1}function Mo(e,t){switch(e){case Ro.BOOL:return!1;case Ro.UINT64:case Ro.FIXED64:case Ro.INT64:case Ro.SFIXED64:case Ro.SINT64:return 0==t?Po.zero:"0";case Ro.DOUBLE:case Ro.FLOAT:return 0;case Ro.BYTES:return new Uint8Array(0);case Ro.STRING:return"";default:return 0}}function Lo(e,t){switch(e){case Ro.BOOL:return!1===t;case Ro.STRING:return""===t;case Ro.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return 0==t}}(Io=Ro||(Ro={}))[Io.DOUBLE=1]="DOUBLE",Io[Io.FLOAT=2]="FLOAT",Io[Io.INT64=3]="INT64",Io[Io.UINT64=4]="UINT64",Io[Io.INT32=5]="INT32",Io[Io.FIXED64=6]="FIXED64",Io[Io.FIXED32=7]="FIXED32",Io[Io.BOOL=8]="BOOL",Io[Io.STRING=9]="STRING",Io[Io.BYTES=12]="BYTES",Io[Io.UINT32=13]="UINT32",Io[Io.SFIXED32=15]="SFIXED32",Io[Io.SFIXED64=16]="SFIXED64",Io[Io.SINT32=17]="SINT32",Io[Io.SINT64=18]="SINT64",function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING"}(Qo||(Qo={})),function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(No||(No={}));class $o{constructor(e){this.stack=[],this.textEncoder=null!=e?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;let t=new Uint8Array(e),n=0;for(let e=0;e<this.chunks.length;e++)t.set(this.chunks[e],n),n+=this.chunks[e].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(po(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return ho(e),wo(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){fo(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){po(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){ho(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return ho(e),wo(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),i=Po.enc(e);return n.setInt32(0,i.lo,!0),n.setInt32(4,i.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),i=Po.uEnc(e);return n.setInt32(0,i.lo,!0),n.setInt32(4,i.hi,!0),this.raw(t)}int64(e){let t=Po.enc(e);return ko(t.lo,t.hi,this.buf),this}sint64(e){let t=Po.enc(e),n=t.hi>>31;return ko(t.lo<<1^n,(t.hi<<1|t.lo>>>31)^n,this.buf),this}uint64(e){let t=Po.uEnc(e);return ko(t.lo,t.hi,this.buf),this}}class Uo{constructor(e,t){this.varint64=bo,this.uint32=xo,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=null!=t?t:new TextDecoder}tag(){let e=this.uint32(),t=e>>>3,n=7&e;if(t<=0||n<0||n>5)throw new Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}skip(e,t){let n=this.pos;switch(e){case No.Varint:for(;128&this.buf[this.pos++];);break;case No.Bit64:this.pos+=4;case No.Bit32:this.pos+=4;break;case No.LengthDelimited:let n=this.uint32();this.pos+=n;break;case No.StartGroup:for(;;){const[e,n]=this.tag();if(n===No.EndGroup){if(void 0!==t&&e!==t)throw new Error("invalid end group tag");break}this.skip(n,e)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return Po.dec(...this.varint64())}uint64(){return Po.uDec(...this.varint64())}sint64(){let[e,t]=this.varint64(),n=-(1&e);return e=(e>>>1|(1&t)<<31)^n,t=t>>>1^n,Po.dec(e,t)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Po.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Po.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}}function qo(e){const t=e.field.localName,n=Object.create(null);return n[t]=function(e){const t=e.field;if(t.repeated)return[];if(void 0!==t.default)return t.default;switch(t.kind){case"enum":return t.T.values[0].no;case"scalar":return Mo(t.T,t.L);case"message":const e=t.T,n=new e;return e.fieldWrapper?e.fieldWrapper.unwrapField(n):n;case"map":throw"map fields are not allowed to be extensions"}}(e),[n,()=>n[t]]}let Xo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),zo=[];for(let e=0;e<Xo.length;e++)zo[Xo[e].charCodeAt(0)]=e;zo[45]=Xo.indexOf("+"),zo[95]=Xo.indexOf("/");const Zo={dec(e){let t=3*e.length/4;"="==e[e.length-2]?t-=2:"="==e[e.length-1]&&(t-=1);let n,i=new Uint8Array(t),r=0,o=0,a=0;for(let t=0;t<e.length;t++){if(n=zo[e.charCodeAt(t)],void 0===n)switch(e[t]){case"=":o=0;case"\n":case"\r":case"\t":case" ":continue;default:throw Error("invalid base64 string.")}switch(o){case 0:a=n,o=1;break;case 1:i[r++]=a<<2|(48&n)>>4,a=n,o=2;break;case 2:i[r++]=(15&a)<<4|(60&n)>>2,a=n,o=3;break;case 3:i[r++]=(3&a)<<6|n,o=0}}if(1==o)throw Error("invalid base64 string.");return i.subarray(0,r)},enc(e){let t,n="",i=0,r=0;for(let o=0;o<e.length;o++)switch(t=e[o],i){case 0:n+=Xo[t>>2],r=(3&t)<<4,i=1;break;case 1:n+=Xo[r|t>>4],r=(15&t)<<2,i=2;break;case 2:n+=Xo[r|t>>6],n+=Xo[63&t],i=0}return i&&(n+=Xo[r],n+="=",1==i&&(n+="=")),n}};function jo(e,t,n){Vo(t,e);const i=t.runtime.bin.makeReadOptions(n),r=function(e,t){if(!t.repeated&&("enum"==t.kind||"scalar"==t.kind)){for(let n=e.length-1;n>=0;--n)if(e[n].no==t.no)return[e[n]];return[]}return e.filter(e=>e.no===t.no)}(e.getType().runtime.bin.listUnknownFields(e),t.field),[o,a]=qo(t);for(const e of r)t.runtime.bin.readField(o,i.readerFactory(e.data),t.field,e.wireType,i);return a()}function Wo(e,t,n,i){Vo(t,e);const r=t.runtime.bin.makeReadOptions(i),o=t.runtime.bin.makeWriteOptions(i);if(Go(e,t)){const n=e.getType().runtime.bin.listUnknownFields(e).filter(e=>e.no!=t.field.no);e.getType().runtime.bin.discardUnknownFields(e);for(const t of n)e.getType().runtime.bin.onUnknownField(e,t.no,t.wireType,t.data)}const a=o.writerFactory();let s=t.field;!s.opt&&!s.repeated&&("enum"==s.kind||"scalar"==s.kind)&&(s=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(s,n,a,o);const u=r.readerFactory(a.finish());for(;u.pos<u.len;){const[t,n]=u.tag(),i=u.skip(n,t);e.getType().runtime.bin.onUnknownField(e,t,n,i)}}function Go(e,t){const n=e.getType();return t.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(e).find(e=>e.no==t.field.no)}function Vo(e,t){lo(e.extendee.typeName==t.getType().typeName,"extension ".concat(e.typeName," can only be applied to message ").concat(e.extendee.typeName))}function Yo(e,t){const n=e.localName;if(e.repeated)return t[n].length>0;if(e.oneof)return t[e.oneof.localName].case===n;switch(e.kind){case"enum":case"scalar":return e.opt||e.req?void 0!==t[n]:"enum"==e.kind?t[n]!==e.T.values[0].no:!Lo(e.T,t[n]);case"message":return void 0!==t[n];case"map":return Object.keys(t[n]).length>0}}function Ho(e,t){const n=e.localName,i=!e.opt&&!e.req;if(e.repeated)t[n]=[];else if(e.oneof)t[e.oneof.localName]={case:void 0};else switch(e.kind){case"map":t[n]={};break;case"enum":t[n]=i?e.T.values[0].no:void 0;break;case"scalar":t[n]=i?Mo(e.T,e.L):void 0;break;case"message":t[n]=void 0}}function Ko(e,t){if(null===e||"object"!=typeof e||!Object.getOwnPropertyNames(Co.prototype).every(t=>t in e&&"function"==typeof e[t]))return!1;const n=e.getType();return null!==n&&"function"==typeof n&&"typeName"in n&&"string"==typeof n.typeName&&(void 0===t||n.typeName==t.typeName)}function Jo(e,t){return Ko(t)||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}Ro.DOUBLE,Ro.FLOAT,Ro.INT64,Ro.UINT64,Ro.INT32,Ro.UINT32,Ro.BOOL,Ro.STRING,Ro.BYTES;const ea={ignoreUnknownFields:!1},ta={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function na(e){return e?Object.assign(Object.assign({},ea),e):ea}function ia(e){return e?Object.assign(Object.assign({},ta),e):ta}const ra=Symbol(),oa=Symbol();function aa(e){if(null===e)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":'"'.concat(e.split('"').join('\\"'),'"');default:return String(e)}}function sa(e,t,n,i,r){let o=n.localName;if(n.repeated){if(lo("map"!=n.kind),null===t)return;if(!Array.isArray(t))throw new Error("cannot decode field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(aa(t)));const a=e[o];for(const e of t){if(null===e)throw new Error("cannot decode field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(aa(e)));switch(n.kind){case"message":a.push(n.T.fromJson(e,i));break;case"enum":const t=la(n.T,e,i.ignoreUnknownFields,!0);t!==oa&&a.push(t);break;case"scalar":try{a.push(ca(n.T,e,n.L,!0))}catch(t){let i="cannot decode field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(aa(e));throw t instanceof Error&&t.message.length>0&&(i+=": ".concat(t.message)),new Error(i)}}}}else if("map"==n.kind){if(null===t)return;if("object"!=typeof t||Array.isArray(t))throw new Error("cannot decode field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(aa(t)));const a=e[o];for(const[e,o]of Object.entries(t)){if(null===o)throw new Error("cannot decode field ".concat(r.typeName,".").concat(n.name," from JSON: map value null"));let s;try{s=ua(n.K,e)}catch(e){let i="cannot decode map key for field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(aa(t));throw e instanceof Error&&e.message.length>0&&(i+=": ".concat(e.message)),new Error(i)}switch(n.V.kind){case"message":a[s]=n.V.T.fromJson(o,i);break;case"enum":const e=la(n.V.T,o,i.ignoreUnknownFields,!0);e!==oa&&(a[s]=e);break;case"scalar":try{a[s]=ca(n.V.T,o,Qo.BIGINT,!0)}catch(e){let i="cannot decode map value for field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(aa(t));throw e instanceof Error&&e.message.length>0&&(i+=": ".concat(e.message)),new Error(i)}}}}else switch(n.oneof&&(e=e[n.oneof.localName]={case:o},o="value"),n.kind){case"message":const a=n.T;if(null===t&&"google.protobuf.Value"!=a.typeName)return;let s=e[o];Ko(s)?s.fromJson(t,i):(e[o]=s=a.fromJson(t,i),a.fieldWrapper&&!n.oneof&&(e[o]=a.fieldWrapper.unwrapField(s)));break;case"enum":const u=la(n.T,t,i.ignoreUnknownFields,!1);switch(u){case ra:Ho(n,e);break;case oa:break;default:e[o]=u}break;case"scalar":try{const i=ca(n.T,t,n.L,!1);i===ra?Ho(n,e):e[o]=i}catch(e){let i="cannot decode field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(aa(t));throw e instanceof Error&&e.message.length>0&&(i+=": ".concat(e.message)),new Error(i)}}}function ua(e,t){if(e===Ro.BOOL)switch(t){case"true":t=!0;break;case"false":t=!1}return ca(e,t,Qo.BIGINT,!0).toString()}function ca(e,t,n,i){if(null===t)return i?Mo(e,n):ra;switch(e){case Ro.DOUBLE:case Ro.FLOAT:if("NaN"===t)return Number.NaN;if("Infinity"===t)return Number.POSITIVE_INFINITY;if("-Infinity"===t)return Number.NEGATIVE_INFINITY;if(""===t||"string"==typeof t&&t.trim().length!==t.length||"string"!=typeof t&&"number"!=typeof t)break;const i=Number(t);if(Number.isNaN(i)||!Number.isFinite(i))break;return e==Ro.FLOAT&&fo(i),i;case Ro.INT32:case Ro.FIXED32:case Ro.SFIXED32:case Ro.SINT32:case Ro.UINT32:let r;if("number"==typeof t?r=t:"string"==typeof t&&t.length>0&&t.trim().length===t.length&&(r=Number(t)),void 0===r)break;return e==Ro.UINT32||e==Ro.FIXED32?po(r):ho(r),r;case Ro.INT64:case Ro.SFIXED64:case Ro.SINT64:if("number"!=typeof t&&"string"!=typeof t)break;const o=Po.parse(t);return n?o.toString():o;case Ro.FIXED64:case Ro.UINT64:if("number"!=typeof t&&"string"!=typeof t)break;const a=Po.uParse(t);return n?a.toString():a;case Ro.BOOL:if("boolean"!=typeof t)break;return t;case Ro.STRING:if("string"!=typeof t)break;try{encodeURIComponent(t)}catch(e){throw new Error("invalid UTF8")}return t;case Ro.BYTES:if(""===t)return new Uint8Array(0);if("string"!=typeof t)break;return Zo.dec(t)}throw new Error}function la(e,t,n,i){if(null===t)return"google.protobuf.NullValue"==e.typeName?0:i?e.values[0].no:ra;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const i=e.findName(t);if(void 0!==i)return i.no;if(n)return oa}throw new Error("cannot decode enum ".concat(e.typeName," from JSON: ").concat(aa(t)))}function da(e){return!(!e.repeated&&"map"!=e.kind&&(e.oneof||"message"==e.kind||e.opt||e.req))}function ha(e,t,n){if("map"==e.kind){lo("object"==typeof t&&null!=t);const i={},r=Object.entries(t);switch(e.V.kind){case"scalar":for(const[t,n]of r)i[t.toString()]=fa(e.V.T,n);break;case"message":for(const[e,t]of r)i[e.toString()]=t.toJson(n);break;case"enum":const t=e.V.T;for(const[e,o]of r)i[e.toString()]=pa(t,o,n.enumAsInteger)}return n.emitDefaultValues||r.length>0?i:void 0}if(e.repeated){lo(Array.isArray(t));const i=[];switch(e.kind){case"scalar":for(let n=0;n<t.length;n++)i.push(fa(e.T,t[n]));break;case"enum":for(let r=0;r<t.length;r++)i.push(pa(e.T,t[r],n.enumAsInteger));break;case"message":for(let e=0;e<t.length;e++)i.push(t[e].toJson(n))}return n.emitDefaultValues||i.length>0?i:void 0}switch(e.kind){case"scalar":return fa(e.T,t);case"enum":return pa(e.T,t,n.enumAsInteger);case"message":return Jo(e.T,t).toJson(n)}}function pa(e,t,n){var i;if(lo("number"==typeof t),"google.protobuf.NullValue"==e.typeName)return null;if(n)return t;const r=e.findNumber(t);return null!==(i=null==r?void 0:r.name)&&void 0!==i?i:t}function fa(e,t){switch(e){case Ro.INT32:case Ro.SFIXED32:case Ro.SINT32:case Ro.FIXED32:case Ro.UINT32:return lo("number"==typeof t),t;case Ro.FLOAT:case Ro.DOUBLE:return lo("number"==typeof t),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t;case Ro.STRING:return lo("string"==typeof t),t;case Ro.BOOL:return lo("boolean"==typeof t),t;case Ro.UINT64:case Ro.FIXED64:case Ro.INT64:case Ro.SFIXED64:case Ro.SINT64:return lo("bigint"==typeof t||"string"==typeof t||"number"==typeof t),t.toString();case Ro.BYTES:return lo(t instanceof Uint8Array),Zo.enc(t)}}const ma=Symbol("@bufbuild/protobuf/unknown-fields"),Oa={readUnknownFields:!0,readerFactory:e=>new Uo(e)},ga={writeUnknownFields:!0,writerFactory:()=>new $o};function Da(e){return e?Object.assign(Object.assign({},Oa),e):Oa}function va(e){return e?Object.assign(Object.assign({},ga),e):ga}function Ea(e,t,n,i,r){let{repeated:o,localName:a}=n;switch(n.oneof&&((e=e[n.oneof.localName]).case!=a&&delete e.value,e.case=a,a="value"),n.kind){case"scalar":case"enum":const s="enum"==n.kind?Ro.INT32:n.T;let u=ka;if("scalar"==n.kind&&n.L>0&&(u=ba),o){let n=e[a];if(i==No.LengthDelimited&&s!=Ro.STRING&&s!=Ro.BYTES){let e=t.uint32()+t.pos;for(;t.pos<e;)n.push(u(t,s))}else n.push(u(t,s))}else e[a]=u(t,s);break;case"message":const c=n.T;o?e[a].push(Ca(t,new c,r,n)):Ko(e[a])?Ca(t,e[a],r,n):(e[a]=Ca(t,new c,r,n),c.fieldWrapper&&!n.oneof&&!n.repeated&&(e[a]=c.fieldWrapper.unwrapField(e[a])));break;case"map":let[l,d]=function(e,t,n){const i=t.uint32(),r=t.pos+i;let o,a;for(;t.pos<r;){const[i]=t.tag();switch(i){case 1:o=ka(t,e.K);break;case 2:switch(e.V.kind){case"scalar":a=ka(t,e.V.T);break;case"enum":a=t.int32();break;case"message":a=Ca(t,new e.V.T,n,void 0)}}}if(void 0===o&&(o=Mo(e.K,Qo.BIGINT)),"string"!=typeof o&&"number"!=typeof o&&(o=o.toString()),void 0===a)switch(e.V.kind){case"scalar":a=Mo(e.V.T,Qo.BIGINT);break;case"enum":a=e.V.T.values[0].no;break;case"message":a=new e.V.T}return[o,a]}(n,t,r);e[a][l]=d}}function Ca(e,t,n,i){const r=t.getType().runtime.bin,o=null==i?void 0:i.delimited;return r.readMessage(t,e,o?i.no:e.uint32(),n,o),t}function ba(e,t){const n=ka(e,t);return"bigint"==typeof n?n.toString():n}function ka(e,t){switch(t){case Ro.STRING:return e.string();case Ro.BOOL:return e.bool();case Ro.DOUBLE:return e.double();case Ro.FLOAT:return e.float();case Ro.INT32:return e.int32();case Ro.INT64:return e.int64();case Ro.UINT64:return e.uint64();case Ro.FIXED64:return e.fixed64();case Ro.BYTES:return e.bytes();case Ro.FIXED32:return e.fixed32();case Ro.SFIXED32:return e.sfixed32();case Ro.SFIXED64:return e.sfixed64();case Ro.SINT64:return e.sint64();case Ro.UINT32:return e.uint32();case Ro.SINT32:return e.sint32()}}function ya(e,t,n,i){lo(void 0!==t);const r=e.repeated;switch(e.kind){case"scalar":case"enum":let o="enum"==e.kind?Ro.INT32:e.T;if(r)if(lo(Array.isArray(t)),e.packed)!function(e,t,n,i){if(!i.length)return;e.tag(n,No.LengthDelimited).fork();let[,r]=_a(t);for(let t=0;t<i.length;t++)e[r](i[t]);e.join()}(n,o,e.no,t);else for(const i of t)Sa(n,o,e.no,i);else Sa(n,o,e.no,t);break;case"message":if(r){lo(Array.isArray(t));for(const r of t)Aa(n,i,e,r)}else Aa(n,i,e,t);break;case"map":lo("object"==typeof t&&null!=t);for(const[r,o]of Object.entries(t))Ta(n,i,e,r,o)}}function Ta(e,t,n,i,r){e.tag(n.no,No.LengthDelimited),e.fork();let o=i;switch(n.K){case Ro.INT32:case Ro.FIXED32:case Ro.UINT32:case Ro.SFIXED32:case Ro.SINT32:o=Number.parseInt(i);break;case Ro.BOOL:lo("true"==i||"false"==i),o="true"==i}switch(Sa(e,n.K,1,o),n.V.kind){case"scalar":Sa(e,n.V.T,2,r);break;case"enum":Sa(e,Ro.INT32,2,r);break;case"message":lo(void 0!==r),e.tag(2,No.LengthDelimited).bytes(r.toBinary(t))}e.join()}function Aa(e,t,n,i){const r=Jo(n.T,i);n.delimited?e.tag(n.no,No.StartGroup).raw(r.toBinary(t)).tag(n.no,No.EndGroup):e.tag(n.no,No.LengthDelimited).bytes(r.toBinary(t))}function Sa(e,t,n,i){lo(void 0!==i);let[r,o]=_a(t);e.tag(n,r)[o](i)}function _a(e){let t=No.Varint;switch(e){case Ro.BYTES:case Ro.STRING:t=No.LengthDelimited;break;case Ro.DOUBLE:case Ro.FIXED64:case Ro.SFIXED64:t=No.Bit64;break;case Ro.FIXED32:case Ro.SFIXED32:case Ro.FLOAT:t=No.Bit32}return[t,Ro[e].toLowerCase()]}function Fa(e){if(void 0===e)return e;if(Ko(e))return e.clone();if(e instanceof Uint8Array){const t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function wa(e){return e instanceof Uint8Array?e:new Uint8Array(e)}class xa{constructor(e,t){this._fields=e,this._normalizer=t}findJsonName(e){if(!this.jsonNames){const e={};for(const t of this.list())e[t.jsonName]=e[t.name]=t;this.jsonNames=e}return this.jsonNames[e]}find(e){if(!this.numbers){const e={};for(const t of this.list())e[t.no]=t;this.numbers=e}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,t)=>e.no-t.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let t;for(const n of this.list())n.oneof?n.oneof!==t&&(t=n.oneof,e.push(t)):e.push(n)}return this.members}}function Pa(e,t){const n=Ia(e);return t?n:La(Ma(n))}const Ra=Ia;function Ia(e){let t=!1;const n=[];for(let i=0;i<e.length;i++){let r=e.charAt(i);switch(r){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(r),t=!1;break;default:t&&(t=!1,r=r.toUpperCase()),n.push(r)}}return n.join("")}const Qa=new Set(["constructor","toString","toJSON","valueOf"]),Na=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),Ba=e=>"".concat(e,"$"),Ma=e=>Na.has(e)?Ba(e):e,La=e=>Qa.has(e)?Ba(e):e;class $a{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=function(e){return Pa(e,!1)}(e)}addField(e){lo(e.oneof===this,"field ".concat(e.name," not one of ").concat(this.name)),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let e=0;e<this.fields.length;e++)this._lookup[this.fields[e].localName]=this.fields[e]}return this._lookup[e]}}const Ua={syntax:"proto3",json:{makeReadOptions:na,makeWriteOptions:ia,readMessage(e,t,n,i){if(null==t||Array.isArray(t)||"object"!=typeof t)throw new Error("cannot decode message ".concat(e.typeName," from JSON: ").concat(aa(t)));i=null!=i?i:new e;const r=new Map,o=n.typeRegistry;for(const[a,s]of Object.entries(t)){const t=e.fields.findJsonName(a);if(t){if(t.oneof){if(null===s&&"scalar"==t.kind)continue;const n=r.get(t.oneof);if(void 0!==n)throw new Error("cannot decode message ".concat(e.typeName,' from JSON: multiple keys for oneof "').concat(t.oneof.name,'" present: "').concat(n,'", "').concat(a,'"'));r.set(t.oneof,a)}sa(i,s,t,n,e)}else{let t=!1;if(null!=o&&o.findExtension&&a.startsWith("[")&&a.endsWith("]")){const r=o.findExtension(a.substring(1,a.length-1));if(r&&r.extendee.typeName==e.typeName){t=!0;const[e,o]=qo(r);sa(e,s,r.field,n,r),Wo(i,r,o(),n)}}if(!t&&!n.ignoreUnknownFields)throw new Error("cannot decode message ".concat(e.typeName,' from JSON: key "').concat(a,'" is unknown'))}}return i},writeMessage(e,t){const n=e.getType(),i={};let r;try{for(r of n.fields.byNumber()){if(!Yo(r,e)){if(r.req)throw"required field not set";if(!t.emitDefaultValues||!da(r))continue}const n=ha(r,r.oneof?e[r.oneof.localName].value:e[r.localName],t);void 0!==n&&(i[t.useProtoFieldName?r.name:r.jsonName]=n)}const o=t.typeRegistry;if(null!=o&&o.findExtensionFor)for(const r of n.runtime.bin.listUnknownFields(e)){const a=o.findExtensionFor(n.typeName,r.no);if(a&&Go(e,a)){const n=jo(e,a,t),r=ha(a.field,n,t);void 0!==r&&(i[a.field.jsonName]=r)}}}catch(e){const t=r?"cannot encode field ".concat(n.typeName,".").concat(r.name," to JSON"):"cannot encode message ".concat(n.typeName," to JSON"),i=e instanceof Error?e.message:String(e);throw new Error(t+(i.length>0?": ".concat(i):""))}return i},readScalar:(e,t,n)=>ca(e,t,null!=n?n:Qo.BIGINT,!0),writeScalar(e,t,n){if(void 0!==t&&(n||Lo(e,t)))return fa(e,t)},debug:aa},bin:{makeReadOptions:Da,makeWriteOptions:va,listUnknownFields(e){var t;return null!==(t=e[ma])&&void 0!==t?t:[]},discardUnknownFields(e){delete e[ma]},writeUnknownFields(e,t){const n=e[ma];if(n)for(const e of n)t.tag(e.no,e.wireType).raw(e.data)},onUnknownField(e,t,n,i){const r=e;Array.isArray(r[ma])||(r[ma]=[]),r[ma].push({no:t,wireType:n,data:i})},readMessage(e,t,n,i,r){const o=e.getType(),a=r?t.len:t.pos+n;let s,u;for(;t.pos<a&&([s,u]=t.tag(),!0!==r||u!=No.EndGroup);){const n=o.fields.find(s);if(!n){const n=t.skip(u,s);i.readUnknownFields&&this.onUnknownField(e,s,u,n);continue}Ea(e,t,n,u,i)}if(r&&(u!=No.EndGroup||s!==n))throw new Error("invalid end group tag")},readField:Ea,writeMessage(e,t,n){const i=e.getType();for(const r of i.fields.byNumber())if(Yo(r,e))ya(r,r.oneof?e[r.oneof.localName].value:e[r.localName],t,n);else if(r.req)throw new Error("cannot encode field ".concat(i.typeName,".").concat(r.name," to binary: required field not set"));return n.writeUnknownFields&&this.writeUnknownFields(e,t),t},writeField(e,t,n,i){void 0!==t&&ya(e,t,n,i)}},util:Object.assign(Object.assign({},{setEnumType:go,initPartial(e,t){if(void 0===e)return;const n=t.getType();for(const i of n.fields.byMember()){const n=i.localName,r=t,o=e;if(null!=o[n])switch(i.kind){case"oneof":const e=o[n].case;if(void 0===e)continue;const t=i.findField(e);let a=o[n].value;t&&"message"==t.kind&&!Ko(a,t.T)?a=new t.T(a):t&&"scalar"===t.kind&&t.T===Ro.BYTES&&(a=wa(a)),r[n]={case:e,value:a};break;case"scalar":case"enum":let s=o[n];i.T===Ro.BYTES&&(s=i.repeated?s.map(wa):wa(s)),r[n]=s;break;case"map":switch(i.V.kind){case"scalar":case"enum":if(i.V.T===Ro.BYTES)for(const[e,t]of Object.entries(o[n]))r[n][e]=wa(t);else Object.assign(r[n],o[n]);break;case"message":const e=i.V.T;for(const t of Object.keys(o[n])){let i=o[n][t];e.fieldWrapper||(i=new e(i)),r[n][t]=i}}break;case"message":const u=i.T;if(i.repeated)r[n]=o[n].map(e=>Ko(e,u)?e:new u(e));else{const e=o[n];u.fieldWrapper?"google.protobuf.BytesValue"===u.typeName?r[n]=wa(e):r[n]=e:r[n]=Ko(e,u)?e:new u(e)}}}},equals:(e,t,n)=>t===n||!(!t||!n)&&e.fields.byMember().every(e=>{const i=t[e.localName],r=n[e.localName];if(e.repeated){if(i.length!==r.length)return!1;switch(e.kind){case"message":return i.every((t,n)=>e.T.equals(t,r[n]));case"scalar":return i.every((t,n)=>Bo(e.T,t,r[n]));case"enum":return i.every((e,t)=>Bo(Ro.INT32,e,r[t]))}throw new Error("repeated cannot contain ".concat(e.kind))}switch(e.kind){case"message":let t=i,n=r;return e.T.fieldWrapper&&(void 0!==t&&!Ko(t)&&(t=e.T.fieldWrapper.wrapField(t)),void 0!==n&&!Ko(n)&&(n=e.T.fieldWrapper.wrapField(n))),e.T.equals(t,n);case"enum":return Bo(Ro.INT32,i,r);case"scalar":return Bo(e.T,i,r);case"oneof":if(i.case!==r.case)return!1;const o=e.findField(i.case);if(void 0===o)return!0;switch(o.kind){case"message":return o.T.equals(i.value,r.value);case"enum":return Bo(Ro.INT32,i.value,r.value);case"scalar":return Bo(o.T,i.value,r.value)}throw new Error("oneof cannot contain ".concat(o.kind));case"map":const a=Object.keys(i).concat(Object.keys(r));switch(e.V.kind){case"message":const t=e.V.T;return a.every(e=>t.equals(i[e],r[e]));case"enum":return a.every(e=>Bo(Ro.INT32,i[e],r[e]));case"scalar":const n=e.V.T;return a.every(e=>Bo(n,i[e],r[e]))}}}),clone(e){const t=e.getType(),n=new t,i=n;for(const n of t.fields.byMember()){const t=e[n.localName];let r;if(n.repeated)r=t.map(Fa);else if("map"==n.kind){r=i[n.localName];for(const[e,n]of Object.entries(t))r[e]=Fa(n)}else r="oneof"==n.kind?n.findField(t.case)?{case:t.case,value:Fa(t.value)}:{case:void 0}:Fa(t);i[n.localName]=r}for(const n of t.runtime.bin.listUnknownFields(e))t.runtime.bin.onUnknownField(i,n.no,n.wireType,n.data);return n}}),{newFieldList:e=>new xa(e,e=>function(e){var t,n,i,r,o,a;const s=[];let u;for(const c of"function"==typeof e?e():e){const e=c;if(e.localName=Pa(c.name,void 0!==c.oneof),e.jsonName=null!==(t=c.jsonName)&&void 0!==t?t:Ra(c.name),e.repeated=null!==(n=c.repeated)&&void 0!==n&&n,"scalar"==c.kind&&(e.L=null!==(i=c.L)&&void 0!==i?i:Qo.BIGINT),e.delimited=null!==(r=c.delimited)&&void 0!==r&&r,e.req=null!==(o=c.req)&&void 0!==o&&o,e.opt=null!==(a=c.opt)&&void 0!==a&&a,void 0===c.packed&&(e.packed="enum"==c.kind||"scalar"==c.kind&&c.T!=Ro.BYTES&&c.T!=Ro.STRING),void 0!==c.oneof){const t="string"==typeof c.oneof?c.oneof:c.oneof.name;(!u||u.name!=t)&&(u=new $a(t)),e.oneof=u,u.addField(e)}s.push(e)}return s}(e)),initFields:e=>{for(const t of e.getType().fields.byMember()){if(t.opt)continue;const n=t.localName,i=e;if(t.repeated)i[n]=[];else switch(t.kind){case"oneof":i[n]={case:void 0};break;case"enum":i[n]=0;break;case"map":i[n]={};break;case"scalar":i[n]=Mo(t.T,t.L)}}}}),makeMessageType(e,t,n){return function(e,t,n,i){var r;const o=null!==(r=null==i?void 0:i.localName)&&void 0!==r?r:t.substring(t.lastIndexOf(".")+1),a={[o]:function(t){e.util.initFields(this),e.util.initPartial(t,this)}}[o];return Object.setPrototypeOf(a.prototype,new Co),Object.assign(a,{runtime:e,typeName:t,fields:e.util.newFieldList(n),fromBinary:(e,t)=>(new a).fromBinary(e,t),fromJson:(e,t)=>(new a).fromJson(e,t),fromJsonString:(e,t)=>(new a).fromJsonString(e,t),equals:(t,n)=>e.util.equals(a,t,n)}),a}(this,e,t,n)},makeEnum:vo,makeEnumType:Do,getEnumType:Oo,makeExtension(e,t,n){return function(e,t,n,i){let r;return{typeName:t,extendee:n,get field(){if(!r){const n="function"==typeof i?i():i;n.name=t.split(".").pop(),n.jsonName="[".concat(t,"]"),r=e.util.newFieldList([n]).list()[0]}return r},runtime:e}}(this,e,t,n)}};class qa extends Co{constructor(e){super(),this.seconds=Po.zero,this.nanos=0,Ua.util.initPartial(e,this)}fromJson(e,t){if("string"!=typeof e)throw new Error("cannot decode google.protobuf.Timestamp from JSON: ".concat(Ua.json.debug(e)));const n=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!n)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const i=Date.parse(n[1]+"-"+n[2]+"-"+n[3]+"T"+n[4]+":"+n[5]+":"+n[6]+(n[8]?n[8]:"Z"));if(Number.isNaN(i))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=Po.parse(i/1e3),this.nanos=0,n[7]&&(this.nanos=parseInt("1"+n[7]+"0".repeat(9-n[7].length))-1e9),this}toJson(e){const t=1e3*Number(this.seconds);if(t<Date.parse("0001-01-01T00:00:00Z")||t>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let n="Z";if(this.nanos>0){const e=(this.nanos+1e9).toString().substring(1);n="000000"===e.substring(3)?"."+e.substring(0,3)+"Z":"000"===e.substring(6)?"."+e.substring(0,6)+"Z":"."+e+"Z"}return new Date(t).toISOString().replace(".000Z",n)}toDate(){return new Date(1e3*Number(this.seconds)+Math.ceil(this.nanos/1e6))}static now(){return qa.fromDate(new Date)}static fromDate(e){const t=e.getTime();return new qa({seconds:Po.parse(Math.floor(t/1e3)),nanos:t%1e3*1e6})}static fromBinary(e,t){return(new qa).fromBinary(e,t)}static fromJson(e,t){return(new qa).fromJson(e,t)}static fromJsonString(e,t){return(new qa).fromJsonString(e,t)}static equals(e,t){return Ua.util.equals(qa,e,t)}}qa.runtime=Ua,qa.typeName="google.protobuf.Timestamp",qa.fields=Ua.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);const Xa=Ua.makeMessageType("livekit.MetricsBatch",()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:qa},{no:3,name:"str_data",kind:"scalar",T:9,repeated:!0},{no:4,name:"time_series",kind:"message",T:za,repeated:!0},{no:5,name:"events",kind:"message",T:ja,repeated:!0}]),za=Ua.makeMessageType("livekit.TimeSeriesMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"samples",kind:"message",T:Za,repeated:!0},{no:5,name:"rid",kind:"scalar",T:13}]),Za=Ua.makeMessageType("livekit.MetricSample",()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:qa},{no:3,name:"value",kind:"scalar",T:2}]),ja=Ua.makeMessageType("livekit.EventMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"start_timestamp_ms",kind:"scalar",T:3},{no:5,name:"end_timestamp_ms",kind:"scalar",T:3,opt:!0},{no:6,name:"normalized_start_timestamp",kind:"message",T:qa},{no:7,name:"normalized_end_timestamp",kind:"message",T:qa,opt:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"rid",kind:"scalar",T:13}]),Wa=Ua.makeEnum("livekit.BackupCodecPolicy",[{no:0,name:"PREFER_REGRESSION"},{no:1,name:"SIMULCAST"},{no:2,name:"REGRESSION"}]),Ga=Ua.makeEnum("livekit.TrackType",[{no:0,name:"AUDIO"},{no:1,name:"VIDEO"},{no:2,name:"DATA"}]),Va=Ua.makeEnum("livekit.TrackSource",[{no:0,name:"UNKNOWN"},{no:1,name:"CAMERA"},{no:2,name:"MICROPHONE"},{no:3,name:"SCREEN_SHARE"},{no:4,name:"SCREEN_SHARE_AUDIO"}]),Ya=Ua.makeEnum("livekit.VideoQuality",[{no:0,name:"LOW"},{no:1,name:"MEDIUM"},{no:2,name:"HIGH"},{no:3,name:"OFF"}]),Ha=Ua.makeEnum("livekit.ConnectionQuality",[{no:0,name:"POOR"},{no:1,name:"GOOD"},{no:2,name:"EXCELLENT"},{no:3,name:"LOST"}]),Ka=Ua.makeEnum("livekit.ClientConfigSetting",[{no:0,name:"UNSET"},{no:1,name:"DISABLED"},{no:2,name:"ENABLED"}]),Ja=Ua.makeEnum("livekit.DisconnectReason",[{no:0,name:"UNKNOWN_REASON"},{no:1,name:"CLIENT_INITIATED"},{no:2,name:"DUPLICATE_IDENTITY"},{no:3,name:"SERVER_SHUTDOWN"},{no:4,name:"PARTICIPANT_REMOVED"},{no:5,name:"ROOM_DELETED"},{no:6,name:"STATE_MISMATCH"},{no:7,name:"JOIN_FAILURE"},{no:8,name:"MIGRATION"},{no:9,name:"SIGNAL_CLOSE"},{no:10,name:"ROOM_CLOSED"},{no:11,name:"USER_UNAVAILABLE"},{no:12,name:"USER_REJECTED"},{no:13,name:"SIP_TRUNK_FAILURE"},{no:14,name:"CONNECTION_TIMEOUT"},{no:15,name:"MEDIA_FAILURE"}]),es=Ua.makeEnum("livekit.ReconnectReason",[{no:0,name:"RR_UNKNOWN"},{no:1,name:"RR_SIGNAL_DISCONNECTED"},{no:2,name:"RR_PUBLISHER_FAILED"},{no:3,name:"RR_SUBSCRIBER_FAILED"},{no:4,name:"RR_SWITCH_CANDIDATE"}]),ts=Ua.makeEnum("livekit.SubscriptionError",[{no:0,name:"SE_UNKNOWN"},{no:1,name:"SE_CODEC_UNSUPPORTED"},{no:2,name:"SE_TRACK_NOTFOUND"}]),ns=Ua.makeEnum("livekit.AudioTrackFeature",[{no:0,name:"TF_STEREO"},{no:1,name:"TF_NO_DTX"},{no:2,name:"TF_AUTO_GAIN_CONTROL"},{no:3,name:"TF_ECHO_CANCELLATION"},{no:4,name:"TF_NOISE_SUPPRESSION"},{no:5,name:"TF_ENHANCED_NOISE_CANCELLATION"},{no:6,name:"TF_PRECONNECT_BUFFER"}]),is=Ua.makeMessageType("livekit.Room",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"empty_timeout",kind:"scalar",T:13},{no:14,name:"departure_timeout",kind:"scalar",T:13},{no:4,name:"max_participants",kind:"scalar",T:13},{no:5,name:"creation_time",kind:"scalar",T:3},{no:15,name:"creation_time_ms",kind:"scalar",T:3},{no:6,name:"turn_password",kind:"scalar",T:9},{no:7,name:"enabled_codecs",kind:"message",T:rs,repeated:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"num_participants",kind:"scalar",T:13},{no:11,name:"num_publishers",kind:"scalar",T:13},{no:10,name:"active_recording",kind:"scalar",T:8},{no:13,name:"version",kind:"message",T:Ms}]),rs=Ua.makeMessageType("livekit.Codec",()=>[{no:1,name:"mime",kind:"scalar",T:9},{no:2,name:"fmtp_line",kind:"scalar",T:9}]),os=Ua.makeMessageType("livekit.ParticipantPermission",()=>[{no:1,name:"can_subscribe",kind:"scalar",T:8},{no:2,name:"can_publish",kind:"scalar",T:8},{no:3,name:"can_publish_data",kind:"scalar",T:8},{no:9,name:"can_publish_sources",kind:"enum",T:Ua.getEnumType(Va),repeated:!0},{no:7,name:"hidden",kind:"scalar",T:8},{no:8,name:"recorder",kind:"scalar",T:8},{no:10,name:"can_update_metadata",kind:"scalar",T:8},{no:11,name:"agent",kind:"scalar",T:8},{no:12,name:"can_subscribe_metrics",kind:"scalar",T:8}]),as=Ua.makeMessageType("livekit.ParticipantInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:Ua.getEnumType(ss)},{no:4,name:"tracks",kind:"message",T:hs,repeated:!0},{no:5,name:"metadata",kind:"scalar",T:9},{no:6,name:"joined_at",kind:"scalar",T:3},{no:17,name:"joined_at_ms",kind:"scalar",T:3},{no:9,name:"name",kind:"scalar",T:9},{no:10,name:"version",kind:"scalar",T:13},{no:11,name:"permission",kind:"message",T:os},{no:12,name:"region",kind:"scalar",T:9},{no:13,name:"is_publisher",kind:"scalar",T:8},{no:14,name:"kind",kind:"enum",T:Ua.getEnumType(us)},{no:15,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:16,name:"disconnect_reason",kind:"enum",T:Ua.getEnumType(Ja)},{no:18,name:"kind_details",kind:"enum",T:Ua.getEnumType(cs),repeated:!0}]),ss=Ua.makeEnum("livekit.ParticipantInfo.State",[{no:0,name:"JOINING"},{no:1,name:"JOINED"},{no:2,name:"ACTIVE"},{no:3,name:"DISCONNECTED"}]),us=Ua.makeEnum("livekit.ParticipantInfo.Kind",[{no:0,name:"STANDARD"},{no:1,name:"INGRESS"},{no:2,name:"EGRESS"},{no:3,name:"SIP"},{no:4,name:"AGENT"},{no:7,name:"CONNECTOR"}]),cs=Ua.makeEnum("livekit.ParticipantInfo.KindDetail",[{no:0,name:"CLOUD_AGENT"},{no:1,name:"FORWARDED"}]),ls=Ua.makeEnum("livekit.Encryption.Type",[{no:0,name:"NONE"},{no:1,name:"GCM"},{no:2,name:"CUSTOM"}]),ds=Ua.makeMessageType("livekit.SimulcastCodecInfo",()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"mid",kind:"scalar",T:9},{no:3,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:ps,repeated:!0},{no:5,name:"video_layer_mode",kind:"enum",T:Ua.getEnumType(fs)},{no:6,name:"sdp_cid",kind:"scalar",T:9}]),hs=Ua.makeMessageType("livekit.TrackInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:Ua.getEnumType(Ga)},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"muted",kind:"scalar",T:8},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"simulcast",kind:"scalar",T:8},{no:8,name:"disable_dtx",kind:"scalar",T:8},{no:9,name:"source",kind:"enum",T:Ua.getEnumType(Va)},{no:10,name:"layers",kind:"message",T:ps,repeated:!0},{no:11,name:"mime_type",kind:"scalar",T:9},{no:12,name:"mid",kind:"scalar",T:9},{no:13,name:"codecs",kind:"message",T:ds,repeated:!0},{no:14,name:"stereo",kind:"scalar",T:8},{no:15,name:"disable_red",kind:"scalar",T:8},{no:16,name:"encryption",kind:"enum",T:Ua.getEnumType(ls)},{no:17,name:"stream",kind:"scalar",T:9},{no:18,name:"version",kind:"message",T:Ms},{no:19,name:"audio_features",kind:"enum",T:Ua.getEnumType(ns),repeated:!0},{no:20,name:"backup_codec_policy",kind:"enum",T:Ua.getEnumType(Wa)}]),ps=Ua.makeMessageType("livekit.VideoLayer",()=>[{no:1,name:"quality",kind:"enum",T:Ua.getEnumType(Ya)},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"ssrc",kind:"scalar",T:13},{no:6,name:"spatial_layer",kind:"scalar",T:5},{no:7,name:"rid",kind:"scalar",T:9}]),fs=Ua.makeEnum("livekit.VideoLayer.Mode",[{no:0,name:"MODE_UNUSED"},{no:1,name:"ONE_SPATIAL_LAYER_PER_STREAM"},{no:2,name:"MULTIPLE_SPATIAL_LAYERS_PER_STREAM"},{no:3,name:"ONE_SPATIAL_LAYER_PER_STREAM_INCOMPLETE_RTCP_SR"}]),ms=Ua.makeMessageType("livekit.DataPacket",()=>[{no:1,name:"kind",kind:"enum",T:Ua.getEnumType(Os)},{no:4,name:"participant_identity",kind:"scalar",T:9},{no:5,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:2,name:"user",kind:"message",T:Cs,oneof:"value"},{no:3,name:"speaker",kind:"message",T:vs,oneof:"value"},{no:6,name:"sip_dtmf",kind:"message",T:bs,oneof:"value"},{no:7,name:"transcription",kind:"message",T:ks,oneof:"value"},{no:8,name:"metrics",kind:"message",T:Xa,oneof:"value"},{no:9,name:"chat_message",kind:"message",T:Ts,oneof:"value"},{no:10,name:"rpc_request",kind:"message",T:As,oneof:"value"},{no:11,name:"rpc_ack",kind:"message",T:Ss,oneof:"value"},{no:12,name:"rpc_response",kind:"message",T:_s,oneof:"value"},{no:13,name:"stream_header",kind:"message",T:qs,oneof:"value"},{no:14,name:"stream_chunk",kind:"message",T:Xs,oneof:"value"},{no:15,name:"stream_trailer",kind:"message",T:zs,oneof:"value"},{no:18,name:"encrypted_packet",kind:"message",T:gs,oneof:"value"},{no:16,name:"sequence",kind:"scalar",T:13},{no:17,name:"participant_sid",kind:"scalar",T:9}]),Os=Ua.makeEnum("livekit.DataPacket.Kind",[{no:0,name:"RELIABLE"},{no:1,name:"LOSSY"}]),gs=Ua.makeMessageType("livekit.EncryptedPacket",()=>[{no:1,name:"encryption_type",kind:"enum",T:Ua.getEnumType(ls)},{no:2,name:"iv",kind:"scalar",T:12},{no:3,name:"key_index",kind:"scalar",T:13},{no:4,name:"encrypted_value",kind:"scalar",T:12}]),Ds=Ua.makeMessageType("livekit.EncryptedPacketPayload",()=>[{no:1,name:"user",kind:"message",T:Cs,oneof:"value"},{no:3,name:"chat_message",kind:"message",T:Ts,oneof:"value"},{no:4,name:"rpc_request",kind:"message",T:As,oneof:"value"},{no:5,name:"rpc_ack",kind:"message",T:Ss,oneof:"value"},{no:6,name:"rpc_response",kind:"message",T:_s,oneof:"value"},{no:7,name:"stream_header",kind:"message",T:qs,oneof:"value"},{no:8,name:"stream_chunk",kind:"message",T:Xs,oneof:"value"},{no:9,name:"stream_trailer",kind:"message",T:zs,oneof:"value"}]),vs=Ua.makeMessageType("livekit.ActiveSpeakerUpdate",()=>[{no:1,name:"speakers",kind:"message",T:Es,repeated:!0}]),Es=Ua.makeMessageType("livekit.SpeakerInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"level",kind:"scalar",T:2},{no:3,name:"active",kind:"scalar",T:8}]),Cs=Ua.makeMessageType("livekit.UserPacket",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:5,name:"participant_identity",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12},{no:3,name:"destination_sids",kind:"scalar",T:9,repeated:!0},{no:6,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:4,name:"topic",kind:"scalar",T:9,opt:!0},{no:8,name:"id",kind:"scalar",T:9,opt:!0},{no:9,name:"start_time",kind:"scalar",T:4,opt:!0},{no:10,name:"end_time",kind:"scalar",T:4,opt:!0},{no:11,name:"nonce",kind:"scalar",T:12}]),bs=Ua.makeMessageType("livekit.SipDTMF",()=>[{no:3,name:"code",kind:"scalar",T:13},{no:4,name:"digit",kind:"scalar",T:9}]),ks=Ua.makeMessageType("livekit.Transcription",()=>[{no:2,name:"transcribed_participant_identity",kind:"scalar",T:9},{no:3,name:"track_id",kind:"scalar",T:9},{no:4,name:"segments",kind:"message",T:ys,repeated:!0}]),ys=Ua.makeMessageType("livekit.TranscriptionSegment",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"text",kind:"scalar",T:9},{no:3,name:"start_time",kind:"scalar",T:4},{no:4,name:"end_time",kind:"scalar",T:4},{no:5,name:"final",kind:"scalar",T:8},{no:6,name:"language",kind:"scalar",T:9}]),Ts=Ua.makeMessageType("livekit.ChatMessage",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"edit_timestamp",kind:"scalar",T:3,opt:!0},{no:4,name:"message",kind:"scalar",T:9},{no:5,name:"deleted",kind:"scalar",T:8},{no:6,name:"generated",kind:"scalar",T:8}]),As=Ua.makeMessageType("livekit.RpcRequest",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"method",kind:"scalar",T:9},{no:3,name:"payload",kind:"scalar",T:9},{no:4,name:"response_timeout_ms",kind:"scalar",T:13},{no:5,name:"version",kind:"scalar",T:13}]),Ss=Ua.makeMessageType("livekit.RpcAck",()=>[{no:1,name:"request_id",kind:"scalar",T:9}]),_s=Ua.makeMessageType("livekit.RpcResponse",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:9,oneof:"value"},{no:3,name:"error",kind:"message",T:Fs,oneof:"value"}]),Fs=Ua.makeMessageType("livekit.RpcError",()=>[{no:1,name:"code",kind:"scalar",T:13},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"data",kind:"scalar",T:9}]),ws=Ua.makeMessageType("livekit.ParticipantTracks",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sids",kind:"scalar",T:9,repeated:!0}]),xs=Ua.makeMessageType("livekit.ServerInfo",()=>[{no:1,name:"edition",kind:"enum",T:Ua.getEnumType(Ps)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"region",kind:"scalar",T:9},{no:5,name:"node_id",kind:"scalar",T:9},{no:6,name:"debug_info",kind:"scalar",T:9},{no:7,name:"agent_protocol",kind:"scalar",T:5}]),Ps=Ua.makeEnum("livekit.ServerInfo.Edition",[{no:0,name:"Standard"},{no:1,name:"Cloud"}]),Rs=Ua.makeMessageType("livekit.ClientInfo",()=>[{no:1,name:"sdk",kind:"enum",T:Ua.getEnumType(Is)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"os",kind:"scalar",T:9},{no:5,name:"os_version",kind:"scalar",T:9},{no:6,name:"device_model",kind:"scalar",T:9},{no:7,name:"browser",kind:"scalar",T:9},{no:8,name:"browser_version",kind:"scalar",T:9},{no:9,name:"address",kind:"scalar",T:9},{no:10,name:"network",kind:"scalar",T:9},{no:11,name:"other_sdks",kind:"scalar",T:9}]),Is=Ua.makeEnum("livekit.ClientInfo.SDK",[{no:0,name:"UNKNOWN"},{no:1,name:"JS"},{no:2,name:"SWIFT"},{no:3,name:"ANDROID"},{no:4,name:"FLUTTER"},{no:5,name:"GO"},{no:6,name:"UNITY"},{no:7,name:"REACT_NATIVE"},{no:8,name:"RUST"},{no:9,name:"PYTHON"},{no:10,name:"CPP"},{no:11,name:"UNITY_WEB"},{no:12,name:"NODE"},{no:13,name:"UNREAL"},{no:14,name:"ESP32"}]),Qs=Ua.makeMessageType("livekit.ClientConfiguration",()=>[{no:1,name:"video",kind:"message",T:Ns},{no:2,name:"screen",kind:"message",T:Ns},{no:3,name:"resume_connection",kind:"enum",T:Ua.getEnumType(Ka)},{no:4,name:"disabled_codecs",kind:"message",T:Bs},{no:5,name:"force_relay",kind:"enum",T:Ua.getEnumType(Ka)}]),Ns=Ua.makeMessageType("livekit.VideoConfiguration",()=>[{no:1,name:"hardware_encoder",kind:"enum",T:Ua.getEnumType(Ka)}]),Bs=Ua.makeMessageType("livekit.DisabledCodecs",()=>[{no:1,name:"codecs",kind:"message",T:rs,repeated:!0},{no:2,name:"publish",kind:"message",T:rs,repeated:!0}]),Ms=Ua.makeMessageType("livekit.TimedVersion",()=>[{no:1,name:"unix_micro",kind:"scalar",T:3},{no:2,name:"ticks",kind:"scalar",T:5}]),Ls=Ua.makeEnum("livekit.DataStream.OperationType",[{no:0,name:"CREATE"},{no:1,name:"UPDATE"},{no:2,name:"DELETE"},{no:3,name:"REACTION"}]),$s=Ua.makeMessageType("livekit.DataStream.TextHeader",()=>[{no:1,name:"operation_type",kind:"enum",T:Ua.getEnumType(Ls)},{no:2,name:"version",kind:"scalar",T:5},{no:3,name:"reply_to_stream_id",kind:"scalar",T:9},{no:4,name:"attached_stream_ids",kind:"scalar",T:9,repeated:!0},{no:5,name:"generated",kind:"scalar",T:8}],{localName:"DataStream_TextHeader"}),Us=Ua.makeMessageType("livekit.DataStream.ByteHeader",()=>[{no:1,name:"name",kind:"scalar",T:9}],{localName:"DataStream_ByteHeader"}),qs=Ua.makeMessageType("livekit.DataStream.Header",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"mime_type",kind:"scalar",T:9},{no:5,name:"total_length",kind:"scalar",T:4,opt:!0},{no:7,name:"encryption_type",kind:"enum",T:Ua.getEnumType(ls)},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:9,name:"text_header",kind:"message",T:$s,oneof:"content_header"},{no:10,name:"byte_header",kind:"message",T:Us,oneof:"content_header"}],{localName:"DataStream_Header"}),Xs=Ua.makeMessageType("livekit.DataStream.Chunk",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"chunk_index",kind:"scalar",T:4},{no:3,name:"content",kind:"scalar",T:12},{no:4,name:"version",kind:"scalar",T:5},{no:5,name:"iv",kind:"scalar",T:12,opt:!0}],{localName:"DataStream_Chunk"}),zs=Ua.makeMessageType("livekit.DataStream.Trailer",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"reason",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}],{localName:"DataStream_Trailer"}),Zs=Ua.makeMessageType("livekit.SubscribedAudioCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"enabled",kind:"scalar",T:8}]),js=Ua.makeEnum("livekit.SignalTarget",[{no:0,name:"PUBLISHER"},{no:1,name:"SUBSCRIBER"}]),Ws=Ua.makeEnum("livekit.StreamState",[{no:0,name:"ACTIVE"},{no:1,name:"PAUSED"}]),Gs=Ua.makeEnum("livekit.CandidateProtocol",[{no:0,name:"UDP"},{no:1,name:"TCP"},{no:2,name:"TLS"}]),Vs=Ua.makeMessageType("livekit.SignalRequest",()=>[{no:1,name:"offer",kind:"message",T:ou,oneof:"message"},{no:2,name:"answer",kind:"message",T:ou,oneof:"message"},{no:3,name:"trickle",kind:"message",T:Js,oneof:"message"},{no:4,name:"add_track",kind:"message",T:Ks,oneof:"message"},{no:5,name:"mute",kind:"message",T:eu,oneof:"message"},{no:6,name:"subscription",kind:"message",T:su,oneof:"message"},{no:7,name:"track_setting",kind:"message",T:uu,oneof:"message"},{no:8,name:"leave",kind:"message",T:du,oneof:"message"},{no:10,name:"update_layers",kind:"message",T:pu,oneof:"message"},{no:11,name:"subscription_permission",kind:"message",T:Su,oneof:"message"},{no:12,name:"sync_state",kind:"message",T:wu,oneof:"message"},{no:13,name:"simulate",kind:"message",T:Ru,oneof:"message"},{no:14,name:"ping",kind:"scalar",T:3,oneof:"message"},{no:15,name:"update_metadata",kind:"message",T:fu,oneof:"message"},{no:16,name:"ping_req",kind:"message",T:Iu,oneof:"message"},{no:17,name:"update_audio_track",kind:"message",T:cu,oneof:"message"},{no:18,name:"update_video_track",kind:"message",T:lu,oneof:"message"}]),Ys=Ua.makeMessageType("livekit.SignalResponse",()=>[{no:1,name:"join",kind:"message",T:tu,oneof:"message"},{no:2,name:"answer",kind:"message",T:ou,oneof:"message"},{no:3,name:"offer",kind:"message",T:ou,oneof:"message"},{no:4,name:"trickle",kind:"message",T:Js,oneof:"message"},{no:5,name:"update",kind:"message",T:au,oneof:"message"},{no:6,name:"track_published",kind:"message",T:iu,oneof:"message"},{no:8,name:"leave",kind:"message",T:du,oneof:"message"},{no:9,name:"mute",kind:"message",T:eu,oneof:"message"},{no:10,name:"speakers_changed",kind:"message",T:Ou,oneof:"message"},{no:11,name:"room_update",kind:"message",T:gu,oneof:"message"},{no:12,name:"connection_quality",kind:"message",T:vu,oneof:"message"},{no:13,name:"stream_state_update",kind:"message",T:Cu,oneof:"message"},{no:14,name:"subscribed_quality_update",kind:"message",T:yu,oneof:"message"},{no:15,name:"subscription_permission_update",kind:"message",T:_u,oneof:"message"},{no:16,name:"refresh_token",kind:"scalar",T:9,oneof:"message"},{no:17,name:"track_unpublished",kind:"message",T:ru,oneof:"message"},{no:18,name:"pong",kind:"scalar",T:3,oneof:"message"},{no:19,name:"reconnect",kind:"message",T:nu,oneof:"message"},{no:20,name:"pong_resp",kind:"message",T:Qu,oneof:"message"},{no:21,name:"subscription_response",kind:"message",T:Mu,oneof:"message"},{no:22,name:"request_response",kind:"message",T:Lu,oneof:"message"},{no:23,name:"track_subscribed",kind:"message",T:Uu,oneof:"message"},{no:24,name:"room_moved",kind:"message",T:Fu,oneof:"message"},{no:25,name:"media_sections_requirement",kind:"message",T:ju,oneof:"message"},{no:26,name:"subscribed_audio_codec_update",kind:"message",T:Tu,oneof:"message"}]),Hs=Ua.makeMessageType("livekit.SimulcastCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:ps,repeated:!0},{no:5,name:"video_layer_mode",kind:"enum",T:Ua.getEnumType(fs)}]),Ks=Ua.makeMessageType("livekit.AddTrackRequest",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:Ua.getEnumType(Ga)},{no:4,name:"width",kind:"scalar",T:13},{no:5,name:"height",kind:"scalar",T:13},{no:6,name:"muted",kind:"scalar",T:8},{no:7,name:"disable_dtx",kind:"scalar",T:8},{no:8,name:"source",kind:"enum",T:Ua.getEnumType(Va)},{no:9,name:"layers",kind:"message",T:ps,repeated:!0},{no:10,name:"simulcast_codecs",kind:"message",T:Hs,repeated:!0},{no:11,name:"sid",kind:"scalar",T:9},{no:12,name:"stereo",kind:"scalar",T:8},{no:13,name:"disable_red",kind:"scalar",T:8},{no:14,name:"encryption",kind:"enum",T:Ua.getEnumType(ls)},{no:15,name:"stream",kind:"scalar",T:9},{no:16,name:"backup_codec_policy",kind:"enum",T:Ua.getEnumType(Wa)},{no:17,name:"audio_features",kind:"enum",T:Ua.getEnumType(ns),repeated:!0}]),Js=Ua.makeMessageType("livekit.TrickleRequest",()=>[{no:1,name:"candidateInit",kind:"scalar",T:9},{no:2,name:"target",kind:"enum",T:Ua.getEnumType(js)},{no:3,name:"final",kind:"scalar",T:8}]),eu=Ua.makeMessageType("livekit.MuteTrackRequest",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"muted",kind:"scalar",T:8}]),tu=Ua.makeMessageType("livekit.JoinResponse",()=>[{no:1,name:"room",kind:"message",T:is},{no:2,name:"participant",kind:"message",T:as},{no:3,name:"other_participants",kind:"message",T:as,repeated:!0},{no:4,name:"server_version",kind:"scalar",T:9},{no:5,name:"ice_servers",kind:"message",T:mu,repeated:!0},{no:6,name:"subscriber_primary",kind:"scalar",T:8},{no:7,name:"alternative_url",kind:"scalar",T:9},{no:8,name:"client_configuration",kind:"message",T:Qs},{no:9,name:"server_region",kind:"scalar",T:9},{no:10,name:"ping_timeout",kind:"scalar",T:5},{no:11,name:"ping_interval",kind:"scalar",T:5},{no:12,name:"server_info",kind:"message",T:xs},{no:13,name:"sif_trailer",kind:"scalar",T:12},{no:14,name:"enabled_publish_codecs",kind:"message",T:rs,repeated:!0},{no:15,name:"fast_publish",kind:"scalar",T:8}]),nu=Ua.makeMessageType("livekit.ReconnectResponse",()=>[{no:1,name:"ice_servers",kind:"message",T:mu,repeated:!0},{no:2,name:"client_configuration",kind:"message",T:Qs},{no:3,name:"server_info",kind:"message",T:xs},{no:4,name:"last_message_seq",kind:"scalar",T:13}]),iu=Ua.makeMessageType("livekit.TrackPublishedResponse",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"track",kind:"message",T:hs}]),ru=Ua.makeMessageType("livekit.TrackUnpublishedResponse",()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]),ou=Ua.makeMessageType("livekit.SessionDescription",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"sdp",kind:"scalar",T:9},{no:3,name:"id",kind:"scalar",T:13},{no:4,name:"mid_to_track_id",kind:"map",K:9,V:{kind:"scalar",T:9}}]),au=Ua.makeMessageType("livekit.ParticipantUpdate",()=>[{no:1,name:"participants",kind:"message",T:as,repeated:!0}]),su=Ua.makeMessageType("livekit.UpdateSubscription",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:2,name:"subscribe",kind:"scalar",T:8},{no:3,name:"participant_tracks",kind:"message",T:ws,repeated:!0}]),uu=Ua.makeMessageType("livekit.UpdateTrackSettings",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:3,name:"disabled",kind:"scalar",T:8},{no:4,name:"quality",kind:"enum",T:Ua.getEnumType(Ya)},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"fps",kind:"scalar",T:13},{no:8,name:"priority",kind:"scalar",T:13}]),cu=Ua.makeMessageType("livekit.UpdateLocalAudioTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"features",kind:"enum",T:Ua.getEnumType(ns),repeated:!0}]),lu=Ua.makeMessageType("livekit.UpdateLocalVideoTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13}]),du=Ua.makeMessageType("livekit.LeaveRequest",()=>[{no:1,name:"can_reconnect",kind:"scalar",T:8},{no:2,name:"reason",kind:"enum",T:Ua.getEnumType(Ja)},{no:3,name:"action",kind:"enum",T:Ua.getEnumType(hu)},{no:4,name:"regions",kind:"message",T:Nu}]),hu=Ua.makeEnum("livekit.LeaveRequest.Action",[{no:0,name:"DISCONNECT"},{no:1,name:"RESUME"},{no:2,name:"RECONNECT"}]),pu=Ua.makeMessageType("livekit.UpdateVideoLayers",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"layers",kind:"message",T:ps,repeated:!0}]),fu=Ua.makeMessageType("livekit.UpdateParticipantMetadata",()=>[{no:1,name:"metadata",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:4,name:"request_id",kind:"scalar",T:13}]),mu=Ua.makeMessageType("livekit.ICEServer",()=>[{no:1,name:"urls",kind:"scalar",T:9,repeated:!0},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"credential",kind:"scalar",T:9}]),Ou=Ua.makeMessageType("livekit.SpeakersChanged",()=>[{no:1,name:"speakers",kind:"message",T:Es,repeated:!0}]),gu=Ua.makeMessageType("livekit.RoomUpdate",()=>[{no:1,name:"room",kind:"message",T:is}]),Du=Ua.makeMessageType("livekit.ConnectionQualityInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"quality",kind:"enum",T:Ua.getEnumType(Ha)},{no:3,name:"score",kind:"scalar",T:2}]),vu=Ua.makeMessageType("livekit.ConnectionQualityUpdate",()=>[{no:1,name:"updates",kind:"message",T:Du,repeated:!0}]),Eu=Ua.makeMessageType("livekit.StreamStateInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:Ua.getEnumType(Ws)}]),Cu=Ua.makeMessageType("livekit.StreamStateUpdate",()=>[{no:1,name:"stream_states",kind:"message",T:Eu,repeated:!0}]),bu=Ua.makeMessageType("livekit.SubscribedQuality",()=>[{no:1,name:"quality",kind:"enum",T:Ua.getEnumType(Ya)},{no:2,name:"enabled",kind:"scalar",T:8}]),ku=Ua.makeMessageType("livekit.SubscribedCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"qualities",kind:"message",T:bu,repeated:!0}]),yu=Ua.makeMessageType("livekit.SubscribedQualityUpdate",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_qualities",kind:"message",T:bu,repeated:!0},{no:3,name:"subscribed_codecs",kind:"message",T:ku,repeated:!0}]),Tu=Ua.makeMessageType("livekit.SubscribedAudioCodecUpdate",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_audio_codecs",kind:"message",T:Zs,repeated:!0}]),Au=Ua.makeMessageType("livekit.TrackPermission",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"all_tracks",kind:"scalar",T:8},{no:3,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:4,name:"participant_identity",kind:"scalar",T:9}]),Su=Ua.makeMessageType("livekit.SubscriptionPermission",()=>[{no:1,name:"all_participants",kind:"scalar",T:8},{no:2,name:"track_permissions",kind:"message",T:Au,repeated:!0}]),_u=Ua.makeMessageType("livekit.SubscriptionPermissionUpdate",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"allowed",kind:"scalar",T:8}]),Fu=Ua.makeMessageType("livekit.RoomMovedResponse",()=>[{no:1,name:"room",kind:"message",T:is},{no:2,name:"token",kind:"scalar",T:9},{no:3,name:"participant",kind:"message",T:as},{no:4,name:"other_participants",kind:"message",T:as,repeated:!0}]),wu=Ua.makeMessageType("livekit.SyncState",()=>[{no:1,name:"answer",kind:"message",T:ou},{no:2,name:"subscription",kind:"message",T:su},{no:3,name:"publish_tracks",kind:"message",T:iu,repeated:!0},{no:4,name:"data_channels",kind:"message",T:Pu,repeated:!0},{no:5,name:"offer",kind:"message",T:ou},{no:6,name:"track_sids_disabled",kind:"scalar",T:9,repeated:!0},{no:7,name:"datachannel_receive_states",kind:"message",T:xu,repeated:!0}]),xu=Ua.makeMessageType("livekit.DataChannelReceiveState",()=>[{no:1,name:"publisher_sid",kind:"scalar",T:9},{no:2,name:"last_seq",kind:"scalar",T:13}]),Pu=Ua.makeMessageType("livekit.DataChannelInfo",()=>[{no:1,name:"label",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:13},{no:3,name:"target",kind:"enum",T:Ua.getEnumType(js)}]),Ru=Ua.makeMessageType("livekit.SimulateScenario",()=>[{no:1,name:"speaker_update",kind:"scalar",T:5,oneof:"scenario"},{no:2,name:"node_failure",kind:"scalar",T:8,oneof:"scenario"},{no:3,name:"migration",kind:"scalar",T:8,oneof:"scenario"},{no:4,name:"server_leave",kind:"scalar",T:8,oneof:"scenario"},{no:5,name:"switch_candidate_protocol",kind:"enum",T:Ua.getEnumType(Gs),oneof:"scenario"},{no:6,name:"subscriber_bandwidth",kind:"scalar",T:3,oneof:"scenario"},{no:7,name:"disconnect_signal_on_resume",kind:"scalar",T:8,oneof:"scenario"},{no:8,name:"disconnect_signal_on_resume_no_messages",kind:"scalar",T:8,oneof:"scenario"},{no:9,name:"leave_request_full_reconnect",kind:"scalar",T:8,oneof:"scenario"}]),Iu=Ua.makeMessageType("livekit.Ping",()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"rtt",kind:"scalar",T:3}]),Qu=Ua.makeMessageType("livekit.Pong",()=>[{no:1,name:"last_ping_timestamp",kind:"scalar",T:3},{no:2,name:"timestamp",kind:"scalar",T:3}]),Nu=Ua.makeMessageType("livekit.RegionSettings",()=>[{no:1,name:"regions",kind:"message",T:Bu,repeated:!0}]),Bu=Ua.makeMessageType("livekit.RegionInfo",()=>[{no:1,name:"region",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9},{no:3,name:"distance",kind:"scalar",T:3}]),Mu=Ua.makeMessageType("livekit.SubscriptionResponse",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"err",kind:"enum",T:Ua.getEnumType(ts)}]),Lu=Ua.makeMessageType("livekit.RequestResponse",()=>[{no:1,name:"request_id",kind:"scalar",T:13},{no:2,name:"reason",kind:"enum",T:Ua.getEnumType($u)},{no:3,name:"message",kind:"scalar",T:9},{no:4,name:"trickle",kind:"message",T:Js,oneof:"request"},{no:5,name:"add_track",kind:"message",T:Ks,oneof:"request"},{no:6,name:"mute",kind:"message",T:eu,oneof:"request"},{no:7,name:"update_metadata",kind:"message",T:fu,oneof:"request"},{no:8,name:"update_audio_track",kind:"message",T:cu,oneof:"request"},{no:9,name:"update_video_track",kind:"message",T:lu,oneof:"request"}]),$u=Ua.makeEnum("livekit.RequestResponse.Reason",[{no:0,name:"OK"},{no:1,name:"NOT_FOUND"},{no:2,name:"NOT_ALLOWED"},{no:3,name:"LIMIT_EXCEEDED"},{no:4,name:"QUEUED"},{no:5,name:"UNSUPPORTED_TYPE"},{no:6,name:"UNCLASSIFIED_ERROR"}]),Uu=Ua.makeMessageType("livekit.TrackSubscribed",()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]),qu=Ua.makeMessageType("livekit.ConnectionSettings",()=>[{no:1,name:"auto_subscribe",kind:"scalar",T:8},{no:2,name:"adaptive_stream",kind:"scalar",T:8},{no:3,name:"subscriber_allow_pause",kind:"scalar",T:8,opt:!0},{no:4,name:"disable_ice_lite",kind:"scalar",T:8}]),Xu=Ua.makeMessageType("livekit.JoinRequest",()=>[{no:1,name:"client_info",kind:"message",T:Rs},{no:2,name:"connection_settings",kind:"message",T:qu},{no:3,name:"metadata",kind:"scalar",T:9},{no:4,name:"participant_attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"add_track_requests",kind:"message",T:Ks,repeated:!0},{no:6,name:"publisher_offer",kind:"message",T:ou},{no:7,name:"reconnect",kind:"scalar",T:8},{no:8,name:"reconnect_reason",kind:"enum",T:Ua.getEnumType(es)},{no:9,name:"participant_sid",kind:"scalar",T:9},{no:10,name:"sync_state",kind:"message",T:wu}]),zu=Ua.makeMessageType("livekit.WrappedJoinRequest",()=>[{no:1,name:"compression",kind:"enum",T:Ua.getEnumType(Zu)},{no:2,name:"join_request",kind:"scalar",T:12}]),Zu=Ua.makeEnum("livekit.WrappedJoinRequest.Compression",[{no:0,name:"NONE"},{no:1,name:"GZIP"}]),ju=Ua.makeMessageType("livekit.MediaSectionsRequirement",()=>[{no:1,name:"num_audios",kind:"scalar",T:13},{no:2,name:"num_videos",kind:"scalar",T:13}]);function Wu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gu,Vu,Yu,Hu={exports:{}},Ku=Hu.exports,Ju=(Gu||(Gu=1,function(e){var t,n;t=Ku,n=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],r={},o=null;function a(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(){for(var n=this.getLevel(),r=0;r<i.length;r++){var o=i[r];this[o]=r<n?e:this.methodFactory(o,n,this.name)}if(this.log=this.debug,typeof console===t&&n<this.levels.SILENT)return"No console available for logging"}function c(e){return function(){typeof console!==t&&(u.call(this),this[e].apply(this,arguments))}}function l(i,r,o){return function(i){return"debug"===i&&(i="log"),typeof console!==t&&("trace"===i&&n?s:void 0!==console[i]?a(console,i):void 0!==console.log?a(console,"log"):e)}(i)||c.apply(this,arguments)}function d(e,n){var a,s,c,d=this,h="loglevel";function p(){var e;if(typeof window!==t&&h){try{e=window.localStorage[h]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,i=encodeURIComponent(h),r=n.indexOf(i+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r+i.length+1))[1])}catch(e){}return void 0===d.levels[e]&&(e=void 0),e}}function f(e){var t=e;if("string"==typeof t&&void 0!==d.levels[t.toUpperCase()]&&(t=d.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=d.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?h+=":"+e:"symbol"==typeof e&&(h=void 0),d.name=e,d.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},d.methodFactory=n||l,d.getLevel=function(){var e;return null!==(e=null!=c?c:s)&&void 0!==e?e:a},d.setLevel=function(e,n){return c=f(e),!1!==n&&function(e){var n=(i[e]||"silent").toUpperCase();if(typeof window!==t&&h){try{return void(window.localStorage[h]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(h)+"="+n+";"}catch(e){}}}(c),u.call(d)},d.setDefaultLevel=function(e){s=f(e),p()||d.setLevel(e,!1)},d.resetLevel=function(){c=null,function(){if(typeof window!==t&&h){try{window.localStorage.removeItem(h)}catch(e){}try{window.document.cookie=encodeURIComponent(h)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}(),u.call(d)},d.enableAll=function(e){d.setLevel(d.levels.TRACE,e)},d.disableAll=function(e){d.setLevel(d.levels.SILENT,e)},d.rebuild=function(){if(o!==d&&(a=f(o.getLevel())),u.call(d),o===d)for(var e in r)r[e].rebuild()},a=f(o?o.getLevel():"WARN");var m=p();null!=m&&(c=f(m)),u.call(d)}(o=new d).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=r[e];return t||(t=r[e]=new d(e,o.methodFactory)),t};var h=typeof window!==t?window.log:void 0;return o.noConflict=function(){return typeof window!==t&&window.log===o&&(window.log=h),o},o.getLoggers=function(){return r},o.default=o,o},e.exports?e.exports=n():t.log=n()}(Hu)),Hu.exports);!function(e){e[e.trace=0]="trace",e[e.debug=1]="debug",e[e.info=2]="info",e[e.warn=3]="warn",e[e.error=4]="error",e[e.silent=5]="silent"}(Vu||(Vu={})),function(e){e.Default="livekit",e.Room="livekit-room",e.TokenSource="livekit-token-source",e.Participant="livekit-participant",e.Track="livekit-track",e.Publication="livekit-track-publication",e.Engine="livekit-engine",e.Signal="livekit-signal",e.PCManager="livekit-pc-manager",e.PCTransport="livekit-pc-transport",e.E2EE="lk-e2ee"}(Yu||(Yu={}));let ec=Ju.getLogger("livekit");function tc(e){const t=Ju.getLogger(e);return t.setDefaultLevel(ec.getLevel()),t}Object.values(Yu).map(e=>Ju.getLogger(e)),ec.setDefaultLevel(Vu.info);const nc=Ju.getLogger("lk-e2ee"),ic=7e3,rc=[0,300,1200,2700,4800,ic,ic,ic,ic,ic];function oc(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}u((i=i.apply(e,t||[])).next())})}function ac(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise(function(i,r){!function(e,t,n,i){Promise.resolve(i).then(function(t){e({value:t,done:n})},t)}(i,r,(t=e[n](t)).done,t.value)})}}}var sc,uc={exports:{}},cc=function(){if(sc)return uc.exports;sc=1;var e,t="object"==typeof Reflect?Reflect:null,n=t&&"function"==typeof t.apply?t.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};e=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function r(){r.init.call(this)}uc.exports=r,uc.exports.once=function(e,t){return new Promise(function(n,i){function r(n){e.removeListener(t,o),i(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}f(e,t,o,{once:!0}),"error"!==t&&function(e,t){"function"==typeof e.on&&f(e,"error",t,{once:!0})}(e,r)})},r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var o=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function s(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function u(e,t,n,i){var r,o,u;if(a(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),u=o[t]),void 0===u)u=o[t]=n,++e._eventsCount;else if("function"==typeof u?u=o[t]=i?[n,u]:[u,n]:i?u.unshift(n):u.push(n),(r=s(e))>0&&u.length>r&&!u.warned){u.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=u.length,function(e){console&&console.warn&&console.warn(e)}(c)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=c.bind(i);return r.listener=n,i.wrapFn=r,r}function d(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):p(r,r.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function f(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function r(o){i.once&&e.removeEventListener(t,r),n(o)})}}return Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),r.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return s(this)},r.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)n(u,this,t);else{var c=u.length,l=p(u,c);for(i=0;i<c;++i)n(l[i],this,t)}return!0},r.prototype.addListener=function(e,t){return u(this,e,t,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(e,t){return u(this,e,t,!0)},r.prototype.once=function(e,t){return a(t),this.on(e,l(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,l(this,e,t)),this},r.prototype.removeListener=function(e,t){var n,i,r,o,s;if(a(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},r.prototype.listeners=function(e){return d(this,e,!0)},r.prototype.rawListeners=function(e){return d(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},r.prototype.listenerCount=h,r.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},uc.exports}();let lc=!0,dc=!0;function hc(e,t,n){const i=e.match(t);return i&&i.length>=n&&parseFloat(i[n],10)}function pc(e,t,n){if(!e.RTCPeerConnection)return;const i=e.RTCPeerConnection.prototype,r=i.addEventListener;i.addEventListener=function(e,i){if(e!==t)return r.apply(this,arguments);const o=e=>{const t=n(e);t&&(i.handleEvent?i.handleEvent(t):i(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(i,o),r.apply(this,[e,o])};const o=i.removeEventListener;i.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(n))return o.apply(this,arguments);const i=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,o.apply(this,[e,i])},Object.defineProperty(i,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function fc(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(lc=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function mc(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(dc=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function Oc(){if("object"==typeof window){if(lc)return;typeof console<"u"&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function gc(e,t){dc&&console.warn(e+" is deprecated, please use "+t+" instead.")}function Dc(e){return"[object Object]"===Object.prototype.toString.call(e)}function vc(e){return Dc(e)?Object.keys(e).reduce(function(t,n){const i=Dc(e[n]),r=i?vc(e[n]):e[n],o=i&&!Object.keys(r).length;return void 0===r||o?t:Object.assign(t,{[n]:r})},{}):e}function Ec(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(i=>{i.endsWith("Id")?Ec(e,e.get(t[i]),n):i.endsWith("Ids")&&t[i].forEach(t=>{Ec(e,e.get(t),n)})}))}function Cc(e,t,n){const i=n?"outbound-rtp":"inbound-rtp",r=new Map;if(null===t)return r;const o=[];return e.forEach(e=>{"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)}),o.forEach(t=>{e.forEach(n=>{n.type===i&&n.trackId===t.id&&Ec(e,n,r)})}),r}const bc=Oc;function kc(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const i=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach(n=>{if("require"===n||"advanced"===n||"mediaSource"===n)return;const i="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==i.exact&&"number"==typeof i.exact&&(i.min=i.max=i.exact);const r=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==i.ideal){t.optional=t.optional||[];let e={};"number"==typeof i.ideal?(e[r("min",n)]=i.ideal,t.optional.push(e),e={},e[r("max",n)]=i.ideal,t.optional.push(e)):(e[r("",n)]=i.ideal,t.optional.push(e))}void 0!==i.exact&&"number"!=typeof i.exact?(t.mandatory=t.mandatory||{},t.mandatory[r("",n)]=i.exact):["min","max"].forEach(e=>{void 0!==i[e]&&(t.mandatory=t.mandatory||{},t.mandatory[r(e,n)]=i[e])})}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},r=function(e,r){if(t.version>=61)return r(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){const t=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=i(e.audio)}if(e&&"object"==typeof e.video){let o=e.video.facingMode;o=o&&("object"==typeof o?o:{ideal:o});const a=t.version<66;if(o&&("user"===o.exact||"environment"===o.exact||"user"===o.ideal||"environment"===o.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||a)){let t;if(delete e.video.facingMode,"environment"===o.exact||"environment"===o.ideal?t=["back","rear"]:("user"===o.exact||"user"===o.ideal)&&(t=["front"]),t)return n.mediaDevices.enumerateDevices().then(n=>{let a=(n=n.filter(e=>"videoinput"===e.kind)).find(e=>t.some(t=>e.label.toLowerCase().includes(t)));return!a&&n.length&&t.includes("back")&&(a=n[n.length-1]),a&&(e.video.deviceId=o.exact?{exact:a.deviceId}:{ideal:a.deviceId}),e.video=i(e.video),bc("chrome: "+JSON.stringify(e)),r(e)})}e.video=i(e.video)}return bc("chrome: "+JSON.stringify(e)),r(e)},o=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(e,t,i){r(e,e=>{n.webkitGetUserMedia(e,t,e=>{i&&i(o(e))})})}.bind(n),n.mediaDevices.getUserMedia){const e=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(t){return r(t,t=>e(t).then(e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(e=>{e.stop()}),new DOMException("","NotFoundError");return e},e=>Promise.reject(o(e))))}}}function yc(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function Tc(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",n=>{let i;i=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===n.track.id):{track:n.track};const r=new Event("track");r.track=n.track,r.receiver=i,r.transceiver={receiver:i},r.streams=[t.stream],this.dispatchEvent(r)}),t.stream.getTracks().forEach(n=>{let i;i=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===n.id):{track:n};const r=new Event("track");r.track=n,r.receiver=i,r.transceiver={receiver:i},r.streams=[t.stream],this.dispatchEvent(r)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else pc(e,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function Ac(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,i){let r=n.apply(this,arguments);return r||(r=t(this,e),this._senders.push(r)),r};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){i.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach(e=>{this._senders.push(t(this,e))})};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach(e=>{const t=this._senders.find(t=>t.track===e);t&&this._senders.splice(this._senders.indexOf(t),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Sc(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then(t=>Cc(t,e.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),pc(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then(t=>Cc(t,e.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,n,i;return this.getSenders().forEach(n=>{n.track===e&&(t?i=!0:t=n)}),this.getReceivers().forEach(t=>(t.track===e&&(n?i=!0:n=t),t.track===e)),i||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function _c(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(e=>this._shimmedLocalStreams[e][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const i=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(i)&&this._shimmedLocalStreams[n.id].push(i):this._shimmedLocalStreams[n.id]=[n,i],i};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")});const t=this.getSenders();n.apply(this,arguments);const i=this.getSenders().filter(e=>-1===t.indexOf(e));this._shimmedLocalStreams[e.id]=[e].concat(i)};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],i.apply(this,arguments)};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(t=>{const n=this._shimmedLocalStreams[t].indexOf(e);-1!==n&&this._shimmedLocalStreams[t].splice(n,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]}),r.apply(this,arguments)}}function Fc(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return _c(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=n.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map(e=>this._reverseStreams[e.id])};const i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[t.id]){const n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}i.apply(this,[t])};const r=e.RTCPeerConnection.prototype.removeStream;function o(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{const i=e._reverseStreams[t],r=e._streams[i.id];n=n.replace(new RegExp(r.id,"g"),i.id)}),new RTCSessionDescription({type:t.type,sdp:n})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find(e=>e===t))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(e=>e.track===t))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const r=this._streams[n.id];if(r)r.addTrack(t),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const i=new e.MediaStream([t]);this._streams[n.id]=i,this._reverseStreams[i.id]=n,this.addStream(i)}return this.getSenders().find(e=>e.track===t)},["createOffer","createAnswer"].forEach(function(t){const n=e.RTCPeerConnection.prototype[t],i={[t](){const e=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[t=>{const n=o(this,t);e[0].apply(null,[n])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):n.apply(this,arguments).then(e=>o(this,e))}};e.RTCPeerConnection.prototype[t]=i[t]});const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{const i=e._reverseStreams[t],r=e._streams[i.id];n=n.replace(new RegExp(i.id,"g"),r.id)}),new RTCSessionDescription({type:t.type,sdp:n})}(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};const s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=s.get.apply(this);return""===e.type?e:o(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach(n=>{this._streams[n].getTracks().find(t=>e.track===t)&&(t=this._streams[n])}),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function wc(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){const n=e.RTCPeerConnection.prototype[t],i={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=i[t]})}function xc(e,t){pc(e,"negotiationneeded",e=>{const n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e})}var Pc=Object.freeze({__proto__:null,fixNegotiationNeeded:xc,shimAddTrackRemoveTrack:Fc,shimAddTrackRemoveTrackWithNative:_c,shimGetSendersWithDtmf:Ac,shimGetUserMedia:kc,shimMediaStream:yc,shimOnTrack:Tc,shimPeerConnection:wc,shimSenderReceiverGetStats:Sc});function Rc(e,t){const n=e&&e.navigator,i=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,i){gc("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,i)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const e=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"==typeof n&&"object"==typeof n.audio&&(n=JSON.parse(JSON.stringify(n)),e(n.audio,"autoGainControl","mozAutoGainControl"),e(n.audio,"noiseSuppression","mozNoiseSuppression")),t(n)},i&&i.prototype.getSettings){const t=i.prototype.getSettings;i.prototype.getSettings=function(){const n=t.apply(this,arguments);return e(n,"mozAutoGainControl","autoGainControl"),e(n,"mozNoiseSuppression","noiseSuppression"),n}}if(i&&i.prototype.applyConstraints){const t=i.prototype.applyConstraints;i.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"==typeof n&&(n=JSON.parse(JSON.stringify(n)),e(n,"autoGainControl","mozAutoGainControl"),e(n,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[n])}}}}function Ic(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Qc(e,t){if("object"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){const n=e.RTCPeerConnection.prototype[t],i={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=i[t]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,r,o]=arguments;return i.apply(this,[e||null]).then(e=>{if(t.version<53&&!r)try{e.forEach(e=>{e.type=n[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach((t,i)=>{e.set(i,Object.assign({},t,{type:n[t.type]||t.type}))})}return e}).then(r,o)}}function Nc(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Bc(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),pc(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Mc(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){gc("removeStream","removeTrack"),this.getSenders().forEach(t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)})})}function Lc(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function $c(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]),e=[...e];const n=e.length>0;n&&e.forEach(e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const i=t.apply(this,arguments);if(n){const{sender:t}=i,n=t.getParameters();(!("encodings"in n)||1===n.encodings.length&&0===Object.keys(n.encodings[0]).length)&&(n.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(n).then(()=>{delete t.sendEncodings}).catch(()=>{delete t.sendEncodings})))}return i})}function Uc(e){if("object"!=typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function qc(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function Xc(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}var zc=Object.freeze({__proto__:null,shimAddTransceiver:$c,shimCreateAnswer:Xc,shimCreateOffer:qc,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})},shimGetParameters:Uc,shimGetUserMedia:Rc,shimOnTrack:Ic,shimPeerConnection:Qc,shimRTCDataChannel:Lc,shimReceiverGetStats:Bc,shimRemoveStream:Mc,shimSenderGetStats:Nc});function Zc(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(n=>t.call(this,n,e)),e.getVideoTracks().forEach(n=>t.call(this,n,e))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i&&i.forEach(e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const n=e.getTracks();this.getSenders().forEach(e=>{n.includes(e.track)&&this.removeTrack(e)})})}}function jc(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach(e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const n=new Event("addstream");n.stream=t,e.dispatchEvent(n)})}),t.apply(e,arguments)}}}function Wc(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,i=t.createAnswer,r=t.setLocalDescription,o=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){const i=arguments.length>=2?arguments[2]:arguments[0],r=n.apply(this,[i]);return t?(r.then(e,t),Promise.resolve()):r},t.createAnswer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],r=i.apply(this,[n]);return t?(r.then(e,t),Promise.resolve()):r};let s=function(e,t,n){const i=r.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i};t.setLocalDescription=s,s=function(e,t,n){const i=o.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i},t.setRemoteDescription=s,s=function(e,t,n){const i=a.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i},t.addIceCandidate=s}function Gc(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,n=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>n(Vc(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,i){t.mediaDevices.getUserMedia(e).then(n,i)}.bind(t))}function Vc(e){return e&&void 0!==e.video?Object.assign({},e,{video:vc(e.video)}):e}function Yc(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){const t=[];for(let n=0;n<e.iceServers.length;n++){let i=e.iceServers[n];void 0===i.urls&&i.url?(gc("RTCIceServer.url","RTCIceServer.urls"),i=JSON.parse(JSON.stringify(i)),i.urls=i.url,delete i.url,t.push(i)):t.push(e.iceServers[n])}e.iceServers=t}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function Hc(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Kc(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){typeof e.offerToReceiveAudio<"u"&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find(e=>"audio"===e.receiver.track.kind);!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0===e.offerToReceiveAudio&&!t&&this.addTransceiver("audio",{direction:"recvonly"}),typeof e.offerToReceiveVideo<"u"&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const n=this.getTransceivers().find(e=>"video"===e.receiver.track.kind);!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0===e.offerToReceiveVideo&&!n&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function Jc(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var el,tl=Object.freeze({__proto__:null,shimAudioContext:Jc,shimCallbacksAPI:Wc,shimConstraints:Vc,shimCreateOfferLegacy:Kc,shimGetUserMedia:Gc,shimLocalStreamsAPI:Zc,shimRTCIceServerUrls:Yc,shimRemoteStreamsAPI:jc,shimTrackEventTransceiver:Hc}),nl={exports:{}},il=(el||(el=1,function(e){const t={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map(e=>e.trim())},t.splitSections=function(e){return e.split("\nm=").map((e,t)=>(t>0?"m="+e:e).trim()+"\r\n")},t.getDescription=function(e){const n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){const n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter(e=>0===e.indexOf(n))},t.parseCandidate=function(e){let t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");const n={foundation:t[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let e=8;e<t.length;e+=2)switch(t[e]){case"raddr":n.relatedAddress=t[e+1];break;case"rport":n.relatedPort=parseInt(t[e+1],10);break;case"tcptype":n.tcpType=t[e+1];break;case"ufrag":n.ufrag=t[e+1],n.usernameFragment=t[e+1];break;default:void 0===n[t[e]]&&(n[t[e]]=t[e+1])}return n},t.writeCandidate=function(e){const t=[];t.push(e.foundation);const n=e.component;"rtp"===n?t.push(1):"rtcp"===n?t.push(2):t.push(n),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);const i=e.type;return t.push("typ"),t.push(i),"host"!==i&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substring(14).split(" ")},t.parseRtpMap=function(e){let t=e.substring(9).split(" ");const n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);const n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){const t=e.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},t.parseFmtp=function(e){const t={};let n;const i=e.substring(e.indexOf(" ")+1).split(";");for(let e=0;e<i.length;e++)n=i[e].trim().split("="),t[n[0].trim()]=n[1];return t},t.writeFmtp=function(e){let t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){const i=[];Object.keys(e.parameters).forEach(t=>{void 0!==e.parameters[t]?i.push(t+"="+e.parameters[t]):i.push(t)}),t+="a=fmtp:"+n+" "+i.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){const t=e.substring(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){let t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(e=>{t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},t.parseSsrcMedia=function(e){const t=e.indexOf(" "),n={ssrc:parseInt(e.substring(7,t),10)},i=e.indexOf(":",t);return i>-1?(n.attribute=e.substring(t+1,i),n.value=e.substring(i+1)):n.attribute=e.substring(t+1),n},t.parseSsrcGroup=function(e){const t=e.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(e=>parseInt(e,10))}},t.getMid=function(e){const n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substring(6)},t.parseFingerprint=function(e){const t=e.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let n="a=setup:"+t+"\r\n";return e.fingerprints.forEach(e=>{n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),n},t.parseCryptoLine=function(e){const t=e.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;const t=e.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){const i=t.matchPrefix(e+n,"a=ice-ufrag:")[0],r=t.matchPrefix(e+n,"a=ice-pwd:")[0];return i&&r?{usernameFragment:i.substring(12),password:r.substring(10)}:null},t.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=t.splitLines(e)[0].split(" ");n.profile=i[2];for(let r=3;r<i.length;r++){const o=i[r],a=t.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){const i=t.parseRtpMap(a),r=t.matchPrefix(e,"a=fmtp:"+o+" ");switch(i.parameters=r.length?t.parseFmtp(r[0]):{},i.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(t.parseRtcpFb),n.codecs.push(i),i.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(i.name.toUpperCase())}}}t.matchPrefix(e,"a=extmap:").forEach(e=>{n.headerExtensions.push(t.parseExtmap(e))});const r=t.matchPrefix(e,"a=rtcp-fb:* ").map(t.parseRtcpFb);return n.codecs.forEach(e=>{r.forEach(t=>{e.rtcpFeedback.find(e=>e.type===t.type&&e.parameter===t.parameter)||e.rtcpFeedback.push(t)})}),n},t.writeRtpDescription=function(e,n){let i="";i+="m="+e+" ",i+=n.codecs.length>0?"9":"0",i+=" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=n.codecs.map(e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType).join(" ")+"\r\n",i+="c=IN IP4 0.0.0.0\r\n",i+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach(e=>{i+=t.writeRtpMap(e),i+=t.writeFmtp(e),i+=t.writeRtcpFb(e)});let r=0;return n.codecs.forEach(e=>{e.maxptime>r&&(r=e.maxptime)}),r>0&&(i+="a=maxptime:"+r+"\r\n"),n.headerExtensions&&n.headerExtensions.forEach(e=>{i+=t.writeExtmap(e)}),i},t.parseRtpEncodingParameters=function(e){const n=[],i=t.parseRtpParameters(e),r=-1!==i.fecMechanisms.indexOf("RED"),o=-1!==i.fecMechanisms.indexOf("ULPFEC"),a=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"cname"===e.attribute),s=a.length>0&&a[0].ssrc;let u;const c=t.matchPrefix(e,"a=ssrc-group:FID").map(e=>e.substring(17).split(" ").map(e=>parseInt(e,10)));c.length>0&&c[0].length>1&&c[0][0]===s&&(u=c[0][1]),i.codecs.forEach(e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:s,codecPayloadType:parseInt(e.parameters.apt,10)};s&&u&&(t.rtx={ssrc:u}),n.push(t),r&&(t=JSON.parse(JSON.stringify(t)),t.fec={ssrc:s,mechanism:o?"red+ulpfec":"red"},n.push(t))}}),0===n.length&&s&&n.push({ssrc:s});let l=t.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substring(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substring(5),10)*.95-16e3:void 0,n.forEach(e=>{e.maxBitrate=l})),n},t.parseRtcpParameters=function(e){const n={},i=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"cname"===e.attribute)[0];i&&(n.cname=i.value,n.ssrc=i.ssrc);const r=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=r.length>0,n.compound=0===r.length;const o=t.matchPrefix(e,"a=rtcp-mux");return n.mux=o.length>0,n},t.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){let n;const i=t.matchPrefix(e,"a=msid:");if(1===i.length)return n=i[0].substring(7).split(" "),{stream:n[0],track:n[1]};const r=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"msid"===e.attribute);return r.length>0?(n=r[0].value.split(" "),{stream:n[0],track:n[1]}):void 0},t.parseSctpDescription=function(e){const n=t.parseMLine(e),i=t.matchPrefix(e,"a=max-message-size:");let r;i.length>0&&(r=parseInt(i[0].substring(19),10)),isNaN(r)&&(r=65536);const o=t.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:n.fmt,maxMessageSize:r};const a=t.matchPrefix(e,"a=sctpmap:");if(a.length>0){const e=a[0].substring(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:r}}},t.writeSctpDescription=function(e,t){let n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,n,i){let r;const o=void 0!==n?n:2;return r=e||t.generateSessionId(),"v=0\r\no="+(i||"thisisadapterortc")+" "+r+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,n){const i=t.splitLines(e);for(let e=0;e<i.length;e++)switch(i[e]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[e].substring(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substring(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){const n=t.splitLines(e)[0].substring(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){const n=t.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;const n=t.splitLines(e);for(let e=0;e<n.length;e++)if(n[e].length<2||"="!==n[e].charAt(1))return!1;return!0},e.exports=t}(nl)),nl.exports),rl=Wu(il),ol=ao({__proto__:null,default:rl},[il]);function al(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substring(2)),e.candidate&&e.candidate.length){const n=new t(e),i=rl.parseCandidate(e.candidate);for(const e in i)e in n||Object.defineProperty(n,e,{value:i[e]});return n.toJSON=function(){return{candidate:n.candidate,sdpMid:n.sdpMid,sdpMLineIndex:n.sdpMLineIndex,usernameFragment:n.usernameFragment}},n}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,pc(e,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t))}function sl(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||pc(e,"icecandidate",e=>{if(e.candidate){const t=rl.parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e})}function ul(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(function(e){if(!e||!e.sdp)return!1;const t=rl.splitSections(e.sdp);return t.shift(),t.some(e=>{const t=rl.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})}(arguments[0])){const e=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const n=parseInt(t[1],10);return n!=n?-1:n}(arguments[0]),n=function(e){let n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n}(e),i=function(e,n){let i=65536;"firefox"===t.browser&&57===t.version&&(i=65535);const r=rl.matchPrefix(e.sdp,"a=max-message-size:");return r.length>0?i=parseInt(r[0].substring(19),10):"firefox"===t.browser&&-1!==n&&(i=2147483637),i}(arguments[0],e);let r;r=0===n&&0===i?Number.POSITIVE_INFINITY:0===n||0===i?Math.max(n,i):Math.min(n,i);const o={};Object.defineProperty(o,"maxMessageSize",{get:()=>r}),this._sctp=o}return n.apply(this,arguments)}}function cl(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const n=e.send;e.send=function(){const i=arguments[0],r=i.length||i.size||i.byteLength;if("open"===e.readyState&&t.sctp&&r>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=n.apply(this,arguments);return t(e,this),e},pc(e,"datachannel",e=>(t(e.channel,e.target),e))}function ll(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(e=>{const n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}function dl(e,t){if(!e.RTCPeerConnection||"chrome"===t.browser&&t.version>=71||"safari"===t.browser&&t._safariVersion>=13.1)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){const n=t.sdp.split("\n").filter(e=>"a=extmap-allow-mixed"!==e.trim()).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:n}):t.sdp=n}return n.apply(this,arguments)}}function hl(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||0===n.length||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function pl(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.setLocalDescription;!n||0===n.length||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!=typeof e||e.type&&e.sdp)return n.apply(this,arguments);if(e={type:e.type,sdp:e.sdp},!e.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}return e.sdp||"offer"!==e.type&&"answer"!==e.type?n.apply(this,[e]):("offer"===e.type?this.createOffer:this.createAnswer).apply(this).then(e=>n.apply(this,[e]))})}var fl=Object.freeze({__proto__:null,removeExtmapAllowMixed:dl,shimAddIceCandidateNullOrEmpty:hl,shimConnectionState:ll,shimMaxMessageSize:ul,shimParameterlessSetLocalDescription:pl,shimRTCIceCandidate:al,shimRTCIceCandidateRelayProtocol:sl,shimSendThrowTypeError:cl});!function(){let{window:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const n=Oc,i=function(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.userAgentData&&n.userAgentData.brands){const e=n.userAgentData.brands.find(e=>"Chromium"===e.brand);if(e)return{browser:"chrome",version:parseInt(e.version,10)}}if(n.mozGetUserMedia)t.browser="firefox",t.version=parseInt(hc(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=parseInt(hc(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=parseInt(hc(n.userAgent,/AppleWebKit\/(\d+)\./,1)),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype,t._safariVersion=hc(n.userAgent,/Version\/(\d+(\.?\d+))/,1)}return t}(e),r={browserDetails:i,commonShim:fl,extractVersion:hc,disableLog:fc,disableWarnings:mc,sdp:ol};switch(i.browser){case"chrome":if(!Pc||!wc||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),r;if(null===i.version)return n("Chrome shim can not determine version, not shimming."),r;n("adapter.js shimming chrome."),r.browserShim=Pc,hl(e,i),pl(e),kc(e,i),yc(e),wc(e,i),Tc(e),Fc(e,i),Ac(e),Sc(e),xc(e,i),al(e),sl(e),ll(e),ul(e,i),cl(e),dl(e,i);break;case"firefox":if(!zc||!Qc||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),r;n("adapter.js shimming firefox."),r.browserShim=zc,hl(e,i),pl(e),Rc(e,i),Qc(e,i),Ic(e),Mc(e),Nc(e),Bc(e),Lc(e),$c(e),Uc(e),qc(e),Xc(e),al(e),ll(e),ul(e,i),cl(e);break;case"safari":if(!tl||!t.shimSafari)return n("Safari shim is not included in this adapter release."),r;n("adapter.js shimming safari."),r.browserShim=tl,hl(e,i),pl(e),Yc(e),Kc(e),Wc(e),Zc(e),jc(e),Hc(e),Gc(e),Jc(e),al(e),sl(e),ul(e,i),cl(e),dl(e,i);break;default:n("Unsupported browser!")}}({window:typeof window>"u"?void 0:window});const ml="lk_e2ee";var Ol,gl,Dl,vl,El,Cl,bl,kl,yl,Tl,Al,Sl;function _l(){return typeof window.RTCRtpScriptTransform<"u"}!function(e){e.SetKey="setKey",e.RatchetRequest="ratchetRequest",e.KeyRatcheted="keyRatcheted"}(Ol||(Ol={})),function(e){e.KeyRatcheted="keyRatcheted"}(gl||(gl={})),function(e){e.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",e.EncryptionError="encryptionError"}(Dl||(Dl={})),function(e){e.Error="cryptorError"}(vl||(vl={})),cc.EventEmitter;class Fl extends Error{constructor(e,t){super(t||"an error has occured"),this.name="LiveKitError",this.code=e}}!function(e){e[e.NotAllowed=0]="NotAllowed",e[e.ServerUnreachable=1]="ServerUnreachable",e[e.InternalError=2]="InternalError",e[e.Cancelled=3]="Cancelled",e[e.LeaveRequest=4]="LeaveRequest",e[e.Timeout=5]="Timeout"}(El||(El={}));class wl extends Fl{constructor(e,t,n,i){super(1,e),this.name="ConnectionError",this.status=n,this.reason=t,this.context=i,this.reasonName=El[t]}}class xl extends Fl{constructor(e){super(21,null!=e?e:"device is unsupported"),this.name="DeviceUnsupportedError"}}class Pl extends Fl{constructor(e){super(20,null!=e?e:"track is invalid"),this.name="TrackInvalidError"}}class Rl extends Fl{constructor(e){super(10,null!=e?e:"unsupported server"),this.name="UnsupportedServer"}}class Il extends Fl{constructor(e){super(12,null!=e?e:"unexpected connection state"),this.name="UnexpectedConnectionState"}}class Ql extends Fl{constructor(e){super(13,null!=e?e:"unable to negotiate"),this.name="NegotiationError"}}class Nl extends Fl{constructor(e,t){super(15,e),this.name="PublishTrackError",this.status=t}}class Bl extends Fl{constructor(e,t){super(15,e),this.reason=t,this.reasonName="string"==typeof t?t:$u[t]}}!function(e){e[e.AlreadyOpened=0]="AlreadyOpened",e[e.AbnormalEnd=1]="AbnormalEnd",e[e.DecodeFailed=2]="DecodeFailed",e[e.LengthExceeded=3]="LengthExceeded",e[e.Incomplete=4]="Incomplete",e[e.HandlerAlreadyRegistered=7]="HandlerAlreadyRegistered",e[e.EncryptionTypeMismatch=8]="EncryptionTypeMismatch"}(Cl||(Cl={}));class Ml extends Fl{constructor(e,t){super(16,e),this.name="DataStreamError",this.reason=t,this.reasonName=Cl[t]}}function Ll(e){return typeof e>"u"?e:"function"==typeof structuredClone?"object"==typeof e&&null!==e?structuredClone(Object.assign({},e)):structuredClone(e):JSON.parse(JSON.stringify(e))}!function(e){e.PermissionDenied="PermissionDenied",e.NotFound="NotFound",e.DeviceInUse="DeviceInUse",e.Other="Other"}(bl||(bl={})),function(e){e.getFailure=function(t){if(t&&"name"in t)return"NotFoundError"===t.name||"DevicesNotFoundError"===t.name?e.NotFound:"NotAllowedError"===t.name||"PermissionDeniedError"===t.name?e.PermissionDenied:"NotReadableError"===t.name||"TrackStartError"===t.name?e.DeviceInUse:e.Other}}(bl||(bl={})),function(e){e[e.InvalidKey=0]="InvalidKey",e[e.MissingKey=1]="MissingKey",e[e.InternalError=2]="InternalError"}(kl||(kl={})),function(e){e.Connected="connected",e.Reconnecting="reconnecting",e.SignalReconnecting="signalReconnecting",e.Reconnected="reconnected",e.Disconnected="disconnected",e.ConnectionStateChanged="connectionStateChanged",e.Moved="moved",e.MediaDevicesChanged="mediaDevicesChanged",e.ParticipantConnected="participantConnected",e.ParticipantDisconnected="participantDisconnected",e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalAudioSilenceDetected="localAudioSilenceDetected",e.ActiveSpeakersChanged="activeSpeakersChanged",e.ParticipantMetadataChanged="participantMetadataChanged",e.ParticipantNameChanged="participantNameChanged",e.ParticipantAttributesChanged="participantAttributesChanged",e.ParticipantActive="participantActive",e.RoomMetadataChanged="roomMetadataChanged",e.DataReceived="dataReceived",e.SipDTMFReceived="sipDTMFReceived",e.TranscriptionReceived="transcriptionReceived",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",e.AudioPlaybackStatusChanged="audioPlaybackChanged",e.VideoPlaybackStatusChanged="videoPlaybackChanged",e.MediaDevicesError="mediaDevicesError",e.ParticipantPermissionsChanged="participantPermissionsChanged",e.SignalConnected="signalConnected",e.RecordingStatusChanged="recordingStatusChanged",e.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",e.EncryptionError="encryptionError",e.DCBufferStatusChanged="dcBufferStatusChanged",e.ActiveDeviceChanged="activeDeviceChanged",e.ChatMessage="chatMessage",e.LocalTrackSubscribed="localTrackSubscribed",e.MetricsReceived="metricsReceived"}(yl||(yl={})),function(e){e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalTrackCpuConstrained="localTrackCpuConstrained",e.LocalSenderCreated="localSenderCreated",e.ParticipantMetadataChanged="participantMetadataChanged",e.ParticipantNameChanged="participantNameChanged",e.DataReceived="dataReceived",e.SipDTMFReceived="sipDTMFReceived",e.TranscriptionReceived="transcriptionReceived",e.IsSpeakingChanged="isSpeakingChanged",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",e.TrackCpuConstrained="trackCpuConstrained",e.MediaDevicesError="mediaDevicesError",e.AudioStreamAcquired="audioStreamAcquired",e.ParticipantPermissionsChanged="participantPermissionsChanged",e.PCTrackAdded="pcTrackAdded",e.AttributesChanged="attributesChanged",e.LocalTrackSubscribed="localTrackSubscribed",e.ChatMessage="chatMessage",e.Active="active"}(Tl||(Tl={})),function(e){e.TransportsCreated="transportsCreated",e.Connected="connected",e.Disconnected="disconnected",e.Resuming="resuming",e.Resumed="resumed",e.Restarting="restarting",e.Restarted="restarted",e.SignalResumed="signalResumed",e.SignalRestarted="signalRestarted",e.Closing="closing",e.MediaTrackAdded="mediaTrackAdded",e.ActiveSpeakersUpdate="activeSpeakersUpdate",e.DataPacketReceived="dataPacketReceived",e.RTPVideoMapUpdate="rtpVideoMapUpdate",e.DCBufferStatusChanged="dcBufferStatusChanged",e.ParticipantUpdate="participantUpdate",e.RoomUpdate="roomUpdate",e.SpeakersChanged="speakersChanged",e.StreamStateChanged="streamStateChanged",e.ConnectionQualityUpdate="connectionQualityUpdate",e.SubscriptionError="subscriptionError",e.SubscriptionPermissionUpdate="subscriptionPermissionUpdate",e.RemoteMute="remoteMute",e.SubscribedQualityUpdate="subscribedQualityUpdate",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalTrackSubscribed="localTrackSubscribed",e.Offline="offline",e.SignalRequestResponse="signalRequestResponse",e.SignalConnected="signalConnected",e.RoomMoved="roomMoved"}(Al||(Al={})),function(e){e.Message="message",e.Muted="muted",e.Unmuted="unmuted",e.Restarted="restarted",e.Ended="ended",e.Subscribed="subscribed",e.Unsubscribed="unsubscribed",e.CpuConstrained="cpuConstrained",e.UpdateSettings="updateSettings",e.UpdateSubscription="updateSubscription",e.AudioPlaybackStarted="audioPlaybackStarted",e.AudioPlaybackFailed="audioPlaybackFailed",e.AudioSilenceDetected="audioSilenceDetected",e.VisibilityChanged="visibilityChanged",e.VideoDimensionsChanged="videoDimensionsChanged",e.VideoPlaybackStarted="videoPlaybackStarted",e.VideoPlaybackFailed="videoPlaybackFailed",e.ElementAttached="elementAttached",e.ElementDetached="elementDetached",e.UpstreamPaused="upstreamPaused",e.UpstreamResumed="upstreamResumed",e.SubscriptionPermissionChanged="subscriptionPermissionChanged",e.SubscriptionStatusChanged="subscriptionStatusChanged",e.SubscriptionFailed="subscriptionFailed",e.TrackProcessorUpdate="trackProcessorUpdate",e.AudioTrackFeatureUpdate="audioTrackFeatureUpdate",e.TranscriptionReceived="transcriptionReceived",e.TimeSyncUpdate="timeSyncUpdate",e.PreConnectBufferFlushed="preConnectBufferFlushed"}(Sl||(Sl={}));const $l=/version\/(\d+(\.?_?\d+)+)/i;let Ul;function ql(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(typeof navigator>"u")return;const n=navigator.userAgent.toLowerCase();if(void 0===Ul||t){const e=Xl.find(e=>{let{test:t}=e;return t.test(n)});Ul=null==e?void 0:e.describe(n)}return Ul}const Xl=[{test:/firefox|iceweasel|fxios/i,describe:e=>({name:"Firefox",version:zl(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e),os:e.toLowerCase().includes("fxios")?"iOS":void 0,osVersion:Zl(e)})},{test:/chrom|crios|crmo/i,describe:e=>({name:"Chrome",version:zl(/(?:chrome|chromium|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e),os:e.toLowerCase().includes("crios")?"iOS":void 0,osVersion:Zl(e)})},{test:/safari|applewebkit/i,describe:e=>({name:"Safari",version:zl($l,e),os:e.includes("mobile/")?"iOS":"macOS",osVersion:Zl(e)})}];function zl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const i=t.match(e);return i&&i.length>=n&&i[n]||""}function Zl(e){return e.includes("mac os")?zl(/\(.+?(\d+_\d+(:?_\d+)?)/,e,1).replace(/_/g,"."):void 0}class jl{}jl.setTimeout=function(){return setTimeout(...arguments)},jl.setInterval=function(){return setInterval(...arguments)},jl.clearTimeout=function(){return clearTimeout(...arguments)},jl.clearInterval=function(){return clearInterval(...arguments)};const Wl=[];var Gl;!function(e){e[e.LOW=0]="LOW",e[e.MEDIUM=1]="MEDIUM",e[e.HIGH=2]="HIGH"}(Gl||(Gl={}));class Vl extends cc.EventEmitter{get streamState(){return this._streamState}setStreamState(e){this._streamState=e}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var i;super(),this.attachedElements=[],this.isMuted=!1,this._streamState=Vl.StreamState.Active,this.isInBackground=!1,this._currentBitrate=0,this.log=ec,this.appVisibilityChangedListener=()=>{this.backgroundTimeout&&clearTimeout(this.backgroundTimeout),"hidden"===document.visibilityState?this.backgroundTimeout=setTimeout(()=>this.handleAppVisibilityChanged(),5e3):this.handleAppVisibilityChanged()},this.log=tc(null!==(i=n.loggerName)&&void 0!==i?i:Yu.Track),this.loggerContextCb=n.loggerContextCb,this.setMaxListeners(100),this.kind=t,this._mediaStreamTrack=e,this._mediaStreamID=e.id,this.source=Vl.Source.Unknown}get logContext(){var e;return Object.assign(Object.assign({},null===(e=this.loggerContextCb)||void 0===e?void 0:e.call(this)),ih(this))}get currentBitrate(){return this._currentBitrate}get mediaStreamTrack(){return this._mediaStreamTrack}get mediaStreamID(){return this._mediaStreamID}attach(e){let t="audio";this.kind===Vl.Kind.Video&&(t="video"),0===this.attachedElements.length&&this.kind===Vl.Kind.Video&&this.addAppVisibilityListener(),e||("audio"===t&&(Wl.forEach(t=>{null===t.parentElement&&!e&&(e=t)}),e&&Wl.splice(Wl.indexOf(e),1)),e||(e=document.createElement(t))),this.attachedElements.includes(e)||this.attachedElements.push(e),Yl(this.mediaStreamTrack,e);const n=e.srcObject.getTracks(),i=n.some(e=>"audio"===e.kind);return e.play().then(()=>{this.emit(i?Sl.AudioPlaybackStarted:Sl.VideoPlaybackStarted)}).catch(t=>{"NotAllowedError"===t.name?this.emit(i?Sl.AudioPlaybackFailed:Sl.VideoPlaybackFailed,t):"AbortError"===t.name?ec.debug("".concat(i?"audio":"video"," playback aborted, likely due to new play request")):ec.warn("could not playback ".concat(i?"audio":"video"),t),i&&e&&n.some(e=>"video"===e.kind)&&"NotAllowedError"===t.name&&(e.muted=!0,e.play().catch(()=>{}))}),this.emit(Sl.ElementAttached,e),e}detach(e){try{if(e){Hl(this.mediaStreamTrack,e);const t=this.attachedElements.indexOf(e);return t>=0&&(this.attachedElements.splice(t,1),this.recycleElement(e),this.emit(Sl.ElementDetached,e)),e}const t=[];return this.attachedElements.forEach(e=>{Hl(this.mediaStreamTrack,e),t.push(e),this.recycleElement(e),this.emit(Sl.ElementDetached,e)}),this.attachedElements=[],t}finally{0===this.attachedElements.length&&this.removeAppVisibilityListener()}}stop(){this.stopMonitor(),this._mediaStreamTrack.stop()}enable(){this._mediaStreamTrack.enabled=!0}disable(){this._mediaStreamTrack.enabled=!1}stopMonitor(){this.monitorInterval&&clearInterval(this.monitorInterval),this.timeSyncHandle&&cancelAnimationFrame(this.timeSyncHandle)}updateLoggerOptions(e){e.loggerName&&(this.log=tc(e.loggerName)),e.loggerContextCb&&(this.loggerContextCb=e.loggerContextCb)}recycleElement(e){if(e instanceof HTMLAudioElement){let t=!0;e.pause(),Wl.forEach(e=>{e.parentElement||(t=!1)}),t&&Wl.push(e)}}handleAppVisibilityChanged(){return oc(this,void 0,void 0,function*(){this.isInBackground="hidden"===document.visibilityState,!this.isInBackground&&this.kind===Vl.Kind.Video&&setTimeout(()=>this.attachedElements.forEach(e=>e.play().catch(()=>{})),0)})}addAppVisibilityListener(){Dd()?(this.isInBackground="hidden"===document.visibilityState,document.addEventListener("visibilitychange",this.appVisibilityChangedListener)):this.isInBackground=!1}removeAppVisibilityListener(){Dd()&&document.removeEventListener("visibilitychange",this.appVisibilityChangedListener)}}function Yl(e,t){let n,i;n=t.srcObject instanceof MediaStream?t.srcObject:new MediaStream,i="audio"===e.kind?n.getAudioTracks():n.getVideoTracks(),i.includes(e)||(i.forEach(e=>{n.removeTrack(e)}),n.addTrack(e)),md()&&t instanceof HTMLVideoElement||(t.autoplay=!0),t.muted=0===n.getAudioTracks().length,t instanceof HTMLVideoElement&&(t.playsInline=!0),t.srcObject!==n&&(t.srcObject=n,(md()||pd())&&t instanceof HTMLVideoElement&&setTimeout(()=>{t.srcObject=n,t.play().catch(()=>{})},0))}function Hl(e,t){if(t.srcObject instanceof MediaStream){const n=t.srcObject;n.removeTrack(e),n.getTracks().length>0?t.srcObject=n:t.srcObject=null}}!function(e){let t;var n;let i,r;(n=t=e.Kind||(e.Kind={})).Audio="audio",n.Video="video",n.Unknown="unknown",function(e){e.Camera="camera",e.Microphone="microphone",e.ScreenShare="screen_share",e.ScreenShareAudio="screen_share_audio",e.Unknown="unknown"}(i=e.Source||(e.Source={})),function(e){e.Active="active",e.Paused="paused",e.Unknown="unknown"}(r=e.StreamState||(e.StreamState={})),e.kindToProto=function(e){switch(e){case t.Audio:return Ga.AUDIO;case t.Video:return Ga.VIDEO;default:return Ga.DATA}},e.kindFromProto=function(e){switch(e){case Ga.AUDIO:return t.Audio;case Ga.VIDEO:return t.Video;default:return t.Unknown}},e.sourceToProto=function(e){switch(e){case i.Camera:return Va.CAMERA;case i.Microphone:return Va.MICROPHONE;case i.ScreenShare:return Va.SCREEN_SHARE;case i.ScreenShareAudio:return Va.SCREEN_SHARE_AUDIO;default:return Va.UNKNOWN}},e.sourceFromProto=function(e){switch(e){case Va.CAMERA:return i.Camera;case Va.MICROPHONE:return i.Microphone;case Va.SCREEN_SHARE:return i.ScreenShare;case Va.SCREEN_SHARE_AUDIO:return i.ScreenShareAudio;default:return i.Unknown}},e.streamStateFromProto=function(e){switch(e){case Ws.ACTIVE:return r.Active;case Ws.PAUSED:return r.Paused;default:return r.Unknown}}}(Vl||(Vl={}));class Kl{constructor(e,t,n,i,r){if("object"==typeof e)this.width=e.width,this.height=e.height,this.aspectRatio=e.aspectRatio,this.encoding={maxBitrate:e.maxBitrate,maxFramerate:e.maxFramerate,priority:e.priority};else{if(void 0===t||void 0===n)throw new TypeError("Unsupported options: provide at least width, height and maxBitrate");this.width=e,this.height=t,this.aspectRatio=e/t,this.encoding={maxBitrate:n,maxFramerate:i,priority:r}}}get resolution(){return{width:this.width,height:this.height,frameRate:this.encoding.maxFramerate,aspectRatio:this.aspectRatio}}}const Jl=["vp8","h264"],ed=["vp8","h264","vp9","av1","h265"],td=function(e){return!!Jl.find(t=>t===e)};var nd,id;!function(e){e[e.PREFER_REGRESSION=0]="PREFER_REGRESSION",e[e.SIMULCAST=1]="SIMULCAST",e[e.REGRESSION=2]="REGRESSION"}(nd||(nd={})),function(e){e.telephone={maxBitrate:12e3},e.speech={maxBitrate:24e3},e.music={maxBitrate:48e3},e.musicStereo={maxBitrate:64e3},e.musicHighQuality={maxBitrate:96e3},e.musicHighQualityStereo={maxBitrate:128e3}}(id||(id={}));const rd={h90:new Kl(160,90,9e4,20),h180:new Kl(320,180,16e4,20),h216:new Kl(384,216,18e4,20),h360:new Kl(640,360,45e4,20),h540:new Kl(960,540,8e5,25),h720:new Kl(1280,720,17e5,30),h1080:new Kl(1920,1080,3e6,30),h1440:new Kl(2560,1440,5e6,30),h2160:new Kl(3840,2160,8e6,30)},od={h120:new Kl(160,120,7e4,20),h180:new Kl(240,180,125e3,20),h240:new Kl(320,240,14e4,20),h360:new Kl(480,360,33e4,20),h480:new Kl(640,480,5e5,20),h540:new Kl(720,540,6e5,25),h720:new Kl(960,720,13e5,30),h1080:new Kl(1440,1080,23e5,30),h1440:new Kl(1920,1440,38e5,30)},ad={h360fps3:new Kl(640,360,2e5,3,"medium"),h360fps15:new Kl(640,360,4e5,15,"medium"),h720fps5:new Kl(1280,720,8e5,5,"medium"),h720fps15:new Kl(1280,720,15e5,15,"medium"),h720fps30:new Kl(1280,720,2e6,30,"medium"),h1080fps15:new Kl(1920,1080,25e5,15,"medium"),h1080fps30:new Kl(1920,1080,5e6,30,"medium"),original:new Kl(0,0,7e6,30,"medium")},sd="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension";function ud(e){return oc(this,void 0,void 0,function*(){return new Promise(t=>jl.setTimeout(t,e))})}function cd(){return"addTransceiver"in RTCPeerConnection.prototype}function ld(){return"addTrack"in RTCPeerConnection.prototype}function dd(e){return"av1"===e||"vp9"===e}function hd(e){return!(!document||Od())&&(e||(e=document.createElement("audio")),"setSinkId"in e)}function pd(){var e;return"Firefox"===(null===(e=ql())||void 0===e?void 0:e.name)}function fd(){const e=ql();return!!e&&"Chrome"===e.name&&"iOS"!==e.os}function md(){var e;return"Safari"===(null===(e=ql())||void 0===e?void 0:e.name)}function Od(){const e=ql();return"Safari"===(null==e?void 0:e.name)||"iOS"===(null==e?void 0:e.os)}function gd(){var e,t;return!!Dd()&&(null!==(t=null===(e=navigator.userAgentData)||void 0===e?void 0:e.mobile)&&void 0!==t?t:/Tablet|iPad|Mobile|Android|BlackBerry/.test(navigator.userAgent))}function Dd(){return typeof document<"u"}function vd(){return"ReactNative"==navigator.product}function Ed(e){return e.hostname.endsWith(".livekit.cloud")||e.hostname.endsWith(".livekit.run")}function Cd(e){return Ed(e)?e.hostname.split(".")[0]:null}function bd(){if(n.g&&n.g.LiveKitReactNativeGlobal)return n.g.LiveKitReactNativeGlobal}function kd(){if(!vd())return;let e=bd();return e?e.platform:void 0}function yd(){if(Dd())return window.devicePixelRatio;if(vd()){let e=bd();if(e)return e.devicePixelRatio}return 1}function Td(e,t){const n=e.split("."),i=t.split("."),r=Math.min(n.length,i.length);for(let e=0;e<r;++e){const t=parseInt(n[e],10),o=parseInt(i[e],10);if(t>o)return 1;if(t<o)return-1;if(e===r-1&&t===o)return 0}return""===e&&""!==t?-1:""===t?1:n.length==i.length?0:n.length<i.length?-1:1}function Ad(e){for(const t of e)t.target.handleResize(t)}function Sd(e){for(const t of e)t.target.handleVisibilityChanged(t)}let _d=null;const Fd=()=>(_d||(_d=new ResizeObserver(Ad)),_d);let wd=null;const xd=()=>(wd||(wd=new IntersectionObserver(Sd,{root:null,rootMargin:"0px"})),wd);function Pd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=document.createElement("canvas");r.width=e,r.height=t;const o=r.getContext("2d");null==o||o.fillRect(0,0,r.width,r.height),i&&o&&(o.beginPath(),o.arc(e/2,t/2,50,0,2*Math.PI,!0),o.closePath(),o.fillStyle="grey",o.fill());const a=r.captureStream(),[s]=a.getTracks();if(!s)throw Error("Could not get empty media stream video track");return s.enabled=n,s}let Rd;function Id(){if(!Rd){const e=new AudioContext,t=e.createOscillator(),n=e.createGain();n.gain.setValueAtTime(0,0);const i=e.createMediaStreamDestination();if(t.connect(n),n.connect(i),t.start(),[Rd]=i.stream.getAudioTracks(),!Rd)throw Error("Could not get empty media stream audio track");Rd.enabled=!1}return Rd.clone()}class Qd{get isResolved(){return this._isResolved}constructor(e,t){this._isResolved=!1,this.onFinally=t,this.promise=new Promise((t,n)=>oc(this,void 0,void 0,function*(){this.resolve=t,this.reject=n,e&&(yield e(t,n))})).finally(()=>{var e;this._isResolved=!0,null===(e=this.onFinally)||void 0===e||e.call(this)})}}function Nd(e){if("string"==typeof e||"number"==typeof e)return e;if(Array.isArray(e))return e[0];if(void 0!==e.exact)return Array.isArray(e.exact)?e.exact[0]:e.exact;if(void 0!==e.ideal)return Array.isArray(e.ideal)?e.ideal[0]:e.ideal;throw Error("could not unwrap constraint")}function Bd(e){return e.startsWith("ws")?e.replace(/^(ws)/,"http"):e}function Md(e){switch(e.reason){case El.LeaveRequest:return e.context;case El.Cancelled:return Ja.CLIENT_INITIATED;case El.NotAllowed:return Ja.USER_REJECTED;case El.ServerUnreachable:return Ja.JOIN_FAILURE;default:return Ja.UNKNOWN_REASON}}function Ld(e){return void 0!==e?Number(e):void 0}function $d(e){return void 0!==e?BigInt(e):void 0}function Ud(e){return!!e&&!(e instanceof MediaStreamTrack)&&e.isLocal}function qd(e){return!!e&&e.kind==Vl.Kind.Audio}function Xd(e){return!!e&&e.kind==Vl.Kind.Video}function zd(e){return Ud(e)&&Xd(e)}function Zd(e){return Ud(e)&&qd(e)}function jd(e){return!!e&&!e.isLocal}function Wd(e){return!!e&&!e.isLocal}function Gd(e){return jd(e)&&Xd(e)}function Vd(e,t,n){var i,r,o,a;const{optionsWithoutProcessor:s,audioProcessor:u,videoProcessor:c}=rh(null!=e?e:{}),l=null==t?void 0:t.processor,d=null==n?void 0:n.processor,h=null!=s?s:{};return!0===h.audio&&(h.audio={}),!0===h.video&&(h.video={}),h.audio&&(Yd(h.audio,t),null!==(i=(o=h.audio).deviceId)&&void 0!==i||(o.deviceId={ideal:"default"}),(u||l)&&(h.audio.processor=null!=u?u:l)),h.video&&(Yd(h.video,n),null!==(r=(a=h.video).deviceId)&&void 0!==r||(a.deviceId={ideal:"default"}),(c||d)&&(h.video.processor=null!=c?c:d)),h}function Yd(e,t){return Object.keys(t).forEach(n=>{void 0===e[n]&&(e[n]=t[n])}),e}function Hd(e){var t,n,i,r;const o={};if(e.video)if("object"==typeof e.video){const n={},r=n,a=e.video;Object.keys(a).forEach(e=>{"resolution"===e?Yd(r,a.resolution):r[e]=a[e]}),o.video=n,null!==(t=(i=o.video).deviceId)&&void 0!==t||(i.deviceId={ideal:"default"})}else o.video=!!e.video&&{deviceId:{ideal:"default"}};else o.video=!1;return e.audio?"object"==typeof e.audio?(o.audio=e.audio,null!==(n=(r=o.audio).deviceId)&&void 0!==n||(r.deviceId={ideal:"default"})):o.audio={deviceId:{ideal:"default"}}:o.audio=!1,o}function Kd(){var e;const t=typeof window<"u"&&(window.AudioContext||window.webkitAudioContext);if(t){const n=new t({latencyHint:"interactive"});if("suspended"===n.state&&typeof window<"u"&&null!==(e=window.document)&&void 0!==e&&e.body){const e=()=>oc(this,void 0,void 0,function*(){var t;try{"suspended"===n.state&&(yield n.resume())}catch(e){console.warn("Error trying to auto-resume audio context",e)}finally{null===(t=window.document.body)||void 0===t||t.removeEventListener("click",e)}});n.addEventListener("statechange",()=>{var t;"closed"===n.state&&(null===(t=window.document.body)||void 0===t||t.removeEventListener("click",e))}),window.document.body.addEventListener("click",e)}return n}}function Jd(e){return"audioinput"===e?Vl.Source.Microphone:"videoinput"===e?Vl.Source.Camera:Vl.Source.Unknown}function eh(e){return e===Vl.Source.Microphone?"audioinput":e===Vl.Source.Camera?"videoinput":void 0}function th(e){return e.split("/")[1].toLowerCase()}function nh(e){const t=[];return e.forEach(e=>{void 0!==e.track&&t.push(new iu({cid:e.track.mediaStreamID,track:e.trackInfo}))}),t}function ih(e){return"mediaStreamTrack"in e?{trackID:e.sid,source:e.source,muted:e.isMuted,enabled:e.mediaStreamTrack.enabled,kind:e.kind,streamID:e.mediaStreamID,streamTrackID:e.mediaStreamTrack.id}:{trackID:e.trackSid,enabled:e.isEnabled,muted:e.isMuted,trackInfo:Object.assign({mimeType:e.mimeType,name:e.trackName,encrypted:e.isEncrypted,kind:e.kind,source:e.source},e.track?ih(e.track):{})}}function rh(e){const t=Object.assign({},e);let n,i;return"object"==typeof t.audio&&t.audio.processor&&(n=t.audio.processor,t.audio=Object.assign(Object.assign({},t.audio),{processor:void 0})),"object"==typeof t.video&&t.video.processor&&(i=t.video.processor,t.video=Object.assign(Object.assign({},t.video),{processor:void 0})),{audioProcessor:n,videoProcessor:i,optionsWithoutProcessor:Ll(t)}}function oh(e,t){return e.width*e.height<t.width*t.height}class ah extends cc.EventEmitter{constructor(e,t){super(),this.decryptDataRequests=new Map,this.encryptDataRequests=new Map,this.onWorkerMessage=e=>{var t,n;const{kind:i,data:r}=e.data;switch(i){case"error":if(ec.error(r.error.message),r.uuid){const e=this.decryptDataRequests.get(r.uuid);if(null!=e&&e.reject){e.reject(r.error);break}const t=this.encryptDataRequests.get(r.uuid);if(null!=t&&t.reject){t.reject(r.error);break}}this.emit(Dl.EncryptionError,r.error,r.participantIdentity);break;case"initAck":r.enabled&&this.keyProvider.getKeys().forEach(e=>{this.postKey(e)});break;case"enable":if(r.enabled&&this.keyProvider.getKeys().forEach(e=>{this.postKey(e)}),this.encryptionEnabled!==r.enabled&&r.participantIdentity===(null===(t=this.room)||void 0===t?void 0:t.localParticipant.identity))this.emit(Dl.ParticipantEncryptionStatusChanged,r.enabled,this.room.localParticipant),this.encryptionEnabled=r.enabled;else if(r.participantIdentity){const e=null===(n=this.room)||void 0===n?void 0:n.getParticipantByIdentity(r.participantIdentity);if(!e)throw TypeError("couldn't set encryption status, participant not found".concat(r.participantIdentity));this.emit(Dl.ParticipantEncryptionStatusChanged,r.enabled,e)}break;case"ratchetKey":this.keyProvider.emit(Ol.KeyRatcheted,r.ratchetResult,r.participantIdentity,r.keyIndex);break;case"decryptDataResponse":const e=this.decryptDataRequests.get(r.uuid);null!=e&&e.resolve&&e.resolve(r);break;case"encryptDataResponse":const i=this.encryptDataRequests.get(r.uuid);null!=i&&i.resolve&&i.resolve(r)}},this.onWorkerError=e=>{ec.error("e2ee worker encountered an error:",{error:e.error}),this.emit(Dl.EncryptionError,e.error,void 0)},this.keyProvider=e.keyProvider,this.worker=e.worker,this.encryptionEnabled=!1,this.dataChannelEncryptionEnabled=t}get isEnabled(){return this.encryptionEnabled}get isDataChannelEncryptionEnabled(){return this.isEnabled&&this.dataChannelEncryptionEnabled}setup(e){if(!(typeof window.RTCRtpSender<"u"&&typeof window.RTCRtpSender.prototype.createEncodedStreams<"u"||_l()))throw new xl("tried to setup end-to-end encryption on an unsupported browser");if(ec.info("setting up e2ee"),e!==this.room){this.room=e,this.setupEventListeners(e,this.keyProvider);const t={kind:"init",data:{keyProviderOptions:this.keyProvider.getOptions(),loglevel:nc.getLevel()}};this.worker&&(ec.info("initializing worker",{worker:this.worker}),this.worker.onmessage=this.onWorkerMessage,this.worker.onerror=this.onWorkerError,this.worker.postMessage(t))}}setParticipantCryptorEnabled(e,t){ec.debug("set e2ee to ".concat(e," for participant ").concat(t)),this.postEnable(e,t)}setSifTrailer(e){e&&0!==e.length?this.postSifTrailer(e):ec.warn("ignoring server sent trailer as it's empty")}setupEngine(e){e.on(Al.RTPVideoMapUpdate,e=>{this.postRTPMap(e)})}setupEventListeners(e,t){e.on(yl.TrackPublished,(e,t)=>this.setParticipantCryptorEnabled(e.trackInfo.encryption!==ls.NONE,t.identity)),e.on(yl.ConnectionStateChanged,t=>{t===Ap.Connected&&e.remoteParticipants.forEach(e=>{e.trackPublications.forEach(t=>{this.setParticipantCryptorEnabled(t.trackInfo.encryption!==ls.NONE,e.identity)})})}).on(yl.TrackUnsubscribed,(e,t,n)=>{var i;const r={kind:"removeTransform",data:{participantIdentity:n.identity,trackId:e.mediaStreamID}};null===(i=this.worker)||void 0===i||i.postMessage(r)}).on(yl.TrackSubscribed,(e,t,n)=>{this.setupE2EEReceiver(e,n.identity,t.trackInfo)}).on(yl.SignalConnected,()=>{if(!this.room)throw new TypeError("expected room to be present on signal connect");t.getKeys().forEach(e=>{this.postKey(e)}),this.setParticipantCryptorEnabled(this.room.localParticipant.isE2EEEnabled,this.room.localParticipant.identity)}),e.localParticipant.on(Tl.LocalSenderCreated,(e,t)=>oc(this,void 0,void 0,function*(){this.setupE2EESender(t,e)})),e.localParticipant.on(Tl.LocalTrackPublished,e=>{if(!Xd(e.track)||!Od())return;const t={kind:"updateCodec",data:{trackId:e.track.mediaStreamID,codec:th(e.trackInfo.codecs[0].mimeType),participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(t)}),t.on(Ol.SetKey,e=>this.postKey(e)).on(Ol.RatchetRequest,(e,t)=>this.postRatchetRequest(e,t))}encryptData(e){return oc(this,void 0,void 0,function*(){if(!this.worker)throw Error("could not encrypt data, worker is missing");const t=crypto.randomUUID(),n={kind:"encryptDataRequest",data:{uuid:t,payload:e,participantIdentity:this.room.localParticipant.identity}},i=new Qd;return i.onFinally=()=>{this.encryptDataRequests.delete(t)},this.encryptDataRequests.set(t,i),this.worker.postMessage(n),i.promise})}handleEncryptedData(e,t,n,i){if(!this.worker)throw Error("could not handle encrypted data, worker is missing");const r=crypto.randomUUID(),o={kind:"decryptDataRequest",data:{uuid:r,payload:e,iv:t,participantIdentity:n,keyIndex:i}},a=new Qd;return a.onFinally=()=>{this.decryptDataRequests.delete(r)},this.decryptDataRequests.set(r,a),this.worker.postMessage(o),a.promise}postRatchetRequest(e,t){if(!this.worker)throw Error("could not ratchet key, worker is missing");const n={kind:"ratchetRequest",data:{participantIdentity:e,keyIndex:t}};this.worker.postMessage(n)}postKey(e){let{key:t,participantIdentity:n,keyIndex:i}=e;var r;if(!this.worker)throw Error("could not set key, worker is missing");const o={kind:"setKey",data:{participantIdentity:n,isPublisher:n===(null===(r=this.room)||void 0===r?void 0:r.localParticipant.identity),key:t,keyIndex:i}};this.worker.postMessage(o)}postEnable(e,t){if(!this.worker)throw new ReferenceError("failed to enable e2ee, worker is not ready");{const n={kind:"enable",data:{enabled:e,participantIdentity:t}};this.worker.postMessage(n)}}postRTPMap(e){var t;if(!this.worker)throw TypeError("could not post rtp map, worker is missing");if(null===(t=this.room)||void 0===t||!t.localParticipant.identity)throw TypeError("could not post rtp map, local participant identity is missing");const n={kind:"setRTPMap",data:{map:e,participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(n)}postSifTrailer(e){if(!this.worker)throw Error("could not post SIF trailer, worker is missing");const t={kind:"setSifTrailer",data:{trailer:e}};this.worker.postMessage(t)}setupE2EEReceiver(e,t,n){if(e.receiver){if(null==n||!n.mimeType||""===n.mimeType)throw new TypeError("MimeType missing from trackInfo, cannot set up E2EE cryptor");this.handleReceiver(e.receiver,e.mediaStreamID,t,"video"===e.kind?th(n.mimeType):void 0)}}setupE2EESender(e,t){Ud(e)&&t?this.handleSender(t,e.mediaStreamID,void 0):t||ec.warn("early return because sender is not ready")}handleReceiver(e,t,n,i){return oc(this,void 0,void 0,function*(){if(this.worker){if(_l()&&!fd()){const r={kind:"decode",participantIdentity:n,trackId:t,codec:i};e.transform=new RTCRtpScriptTransform(this.worker,r)}else{if(ml in e&&i){const e={kind:"updateCodec",data:{trackId:t,codec:i,participantIdentity:n}};return void this.worker.postMessage(e)}let r=e.writableStream,o=e.readableStream;if(!r||!o){const t=e.createEncodedStreams();e.writableStream=t.writable,r=t.writable,e.readableStream=t.readable,o=t.readable}const a={kind:"decode",data:{readableStream:o,writableStream:r,trackId:t,codec:i,participantIdentity:n,isReuse:ml in e}};this.worker.postMessage(a,[o,r])}e[ml]=!0}})}handleSender(e,t,n){var i;if(!(ml in e)&&this.worker){if(null===(i=this.room)||void 0===i||!i.localParticipant.identity||""===this.room.localParticipant.identity)throw TypeError("local identity needs to be known in order to set up encrypted sender");if(_l()&&!fd()){ec.info("initialize script transform");const i={kind:"encode",participantIdentity:this.room.localParticipant.identity,trackId:t,codec:n};e.transform=new RTCRtpScriptTransform(this.worker,i)}else{ec.info("initialize encoded streams");const i=e.createEncodedStreams(),r={kind:"encode",data:{readableStream:i.readable,writableStream:i.writable,codec:n,trackId:t,participantIdentity:this.room.localParticipant.identity,isReuse:!1}};this.worker.postMessage(r,[i.readable,i.writable])}e[ml]=!0}}}class sh{constructor(){this.failedConnectionAttempts=new Map,this.backOffPromises=new Map}static getInstance(){return this._instance||(this._instance=new sh),this._instance}addFailedConnectionAttempt(e){var t;const n=Cd(new URL(e));if(!n)return;let i=null!==(t=this.failedConnectionAttempts.get(n))&&void 0!==t?t:0;this.failedConnectionAttempts.set(n,i+1),this.backOffPromises.set(n,ud(Math.min(500*Math.pow(2,i),15e3)))}getBackOffPromise(e){const t=new URL(e),n=t&&Cd(t);return n&&this.backOffPromises.get(n)||Promise.resolve()}resetFailedConnectionAttempts(e){const t=new URL(e),n=t&&Cd(t);n&&(this.failedConnectionAttempts.set(n,0),this.backOffPromises.set(n,Promise.resolve()))}resetAll(){this.backOffPromises.clear(),this.failedConnectionAttempts.clear()}}sh._instance=null;const uh="default";class ch{constructor(){this._previousDevices=[]}static getInstance(){return void 0===this.instance&&(this.instance=new ch),this.instance}get previousDevices(){return this._previousDevices}getDevices(e){return oc(this,arguments,void 0,function(e){var t=this;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function*(){var i;if((null===(i=ch.userMediaPromiseMap)||void 0===i?void 0:i.size)>0){ec.debug("awaiting getUserMedia promise");try{e?yield ch.userMediaPromiseMap.get(e):yield Promise.all(ch.userMediaPromiseMap.values())}catch(e){ec.warn("error waiting for media permissons")}}let r=yield navigator.mediaDevices.enumerateDevices();if(n&&(!md()||!t.hasDeviceInUse(e))&&(0===r.filter(t=>t.kind===e).length||r.some(t=>{const n=""===t.label,i=!e||t.kind===e;return n&&i}))){const t={video:"audioinput"!==e&&"audiooutput"!==e,audio:"videoinput"!==e&&{deviceId:{ideal:"default"}}},n=yield navigator.mediaDevices.getUserMedia(t);r=yield navigator.mediaDevices.enumerateDevices(),n.getTracks().forEach(e=>{e.stop()})}return t._previousDevices=r,e&&(r=r.filter(t=>t.kind===e)),r}()})}normalizeDeviceId(e,t,n){return oc(this,void 0,void 0,function*(){if(t!==uh)return t;const i=yield this.getDevices(e),r=i.find(e=>e.deviceId===uh);if(!r)return void ec.warn("could not reliably determine default device");const o=i.find(e=>e.deviceId!==uh&&e.groupId===(null!=n?n:r.groupId));if(o)return null==o?void 0:o.deviceId;ec.warn("could not reliably determine default device")})}hasDeviceInUse(e){return e?ch.userMediaPromiseMap.has(e):ch.userMediaPromiseMap.size>0}}var lh;ch.mediaDeviceKinds=["audioinput","audiooutput","videoinput"],ch.userMediaPromiseMap=new Map,function(e){e[e.WAITING=0]="WAITING",e[e.RUNNING=1]="RUNNING",e[e.COMPLETED=2]="COMPLETED"}(lh||(lh={}));class dh{constructor(){this.pendingTasks=new Map,this.taskMutex=new co,this.nextTaskIndex=0}run(e){return oc(this,void 0,void 0,function*(){const t={id:this.nextTaskIndex++,enqueuedAt:Date.now(),status:lh.WAITING};this.pendingTasks.set(t.id,t);const n=yield this.taskMutex.lock();try{return t.executedAt=Date.now(),t.status=lh.RUNNING,yield e()}finally{t.status=lh.COMPLETED,this.pendingTasks.delete(t.id),n()}})}flush(){return oc(this,void 0,void 0,function*(){return this.run(()=>oc(this,void 0,void 0,function*(){}))})}snapshot(){return Array.from(this.pendingTasks.values())}}class hh{get readyState(){return this.ws.readyState}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,i;if(null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new DOMException("This operation was aborted","AbortError");this.url=e;const r=new WebSocket(e,null!==(i=t.protocols)&&void 0!==i?i:[]);r.binaryType="arraybuffer",this.ws=r;const o=function(){let{closeCode:e,reason:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.close(e,t)};this.opened=new Promise((e,t)=>{r.onopen=()=>{e({readable:new ReadableStream({start(e){r.onmessage=t=>{let{data:n}=t;return e.enqueue(n)},r.onerror=t=>e.error(t)},cancel:o}),writable:new WritableStream({write(e){r.send(e)},abort(){r.close()},close:o}),protocol:r.protocol,extensions:r.extensions}),r.removeEventListener("error",t)},r.addEventListener("error",t)}),this.closed=new Promise((e,t)=>{const n=()=>oc(this,void 0,void 0,function*(){const n=new Promise(e=>{r.readyState!==WebSocket.CLOSED&&r.addEventListener("close",t=>{e(t)},{once:!0})}),i=yield Promise.race([ud(250),n]);i?e(i):t(new Error("Encountered unspecified websocket error without a timely close event"))});r.onclose=t=>{let{code:i,reason:o}=t;e({closeCode:i,reason:o}),r.removeEventListener("error",n)},r.addEventListener("error",n)}),t.signal&&(t.signal.onabort=()=>r.close()),this.close=o}}function ph(e,t){return e.pathname="".concat(function(e){return e.endsWith("/")?e:"".concat(e,"/")}(e.pathname)).concat(t),e.toString()}function fh(e){if("string"==typeof e)return Ys.fromJson(JSON.parse(e),{ignoreUnknownFields:!0});if(e instanceof ArrayBuffer)return Ys.fromBinary(new Uint8Array(e));throw new Error("could not decode websocket message: ".concat(typeof e))}const mh=["syncState","trickle","offer","answer","simulate","leave"];var Oh;!function(e){e[e.CONNECTING=0]="CONNECTING",e[e.CONNECTED=1]="CONNECTED",e[e.RECONNECTING=2]="RECONNECTING",e[e.DISCONNECTING=3]="DISCONNECTING",e[e.DISCONNECTED=4]="DISCONNECTED"}(Oh||(Oh={}));class gh{get currentState(){return this.state}get isDisconnected(){return this.state===Oh.DISCONNECTING||this.state===Oh.DISCONNECTED}get isEstablishingConnection(){return this.state===Oh.CONNECTING||this.state===Oh.RECONNECTING}getNextRequestId(){return this._requestId+=1,this._requestId}constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;this.rtt=0,this.state=Oh.DISCONNECTED,this.log=ec,this._requestId=0,this.resetCallbacks=()=>{this.onAnswer=void 0,this.onLeave=void 0,this.onLocalTrackPublished=void 0,this.onLocalTrackUnpublished=void 0,this.onNegotiateRequested=void 0,this.onOffer=void 0,this.onRemoteMuteChanged=void 0,this.onSubscribedQualityUpdate=void 0,this.onTokenRefresh=void 0,this.onTrickle=void 0,this.onClose=void 0,this.onMediaSectionsRequirement=void 0},this.log=tc(null!==(n=t.loggerName)&&void 0!==n?n:Yu.Signal),this.loggerContextCb=t.loggerContextCb,this.useJSON=e,this.requestQueue=new dh,this.queuedRequests=[],this.closingLock=new co,this.connectionLock=new co,this.state=Oh.DISCONNECTED}get logContext(){var e,t;return null!==(t=null===(e=this.loggerContextCb)||void 0===e?void 0:e.call(this))&&void 0!==t?t:{}}join(e,t,n,i){return oc(this,void 0,void 0,function*(){return this.state=Oh.CONNECTING,this.options=n,yield this.connect(e,t,n,i)})}reconnect(e,t,n,i){return oc(this,void 0,void 0,function*(){if(this.options)return this.state=Oh.RECONNECTING,this.clearPingInterval(),yield this.connect(e,t,Object.assign(Object.assign({},this.options),{reconnect:!0,sid:n,reconnectReason:i}));this.log.warn("attempted to reconnect without signal options being set, ignoring",this.logContext)})}connect(e,t,n,i){return oc(this,void 0,void 0,function*(){const r=yield this.connectionLock.lock();this.connectOptions=n;const o=function(){var e;const t=new Rs({sdk:Is.JS,protocol:16,version:"2.16.0"});return vd()&&(t.os=null!==(e=kd())&&void 0!==e?e:""),t}(),a=n.singlePeerConnection?function(e,t,n){const i=new URLSearchParams;i.set("access_token",e);const r=new Xu({clientInfo:t,connectionSettings:new qu({autoSubscribe:!!n.autoSubscribe,adaptiveStream:!!n.adaptiveStream}),reconnect:!!n.reconnect,participantSid:n.sid?n.sid:void 0});n.reconnectReason&&(r.reconnectReason=n.reconnectReason);const o=new zu({joinRequest:r.toBinary()});return i.set("join_request",btoa(new TextDecoder("utf-8").decode(o.toBinary()))),i}(t,o,n):function(e,t,n){var i;const r=new URLSearchParams;return r.set("access_token",e),n.reconnect&&(r.set("reconnect","1"),n.sid&&r.set("sid",n.sid)),r.set("auto_subscribe",n.autoSubscribe?"1":"0"),r.set("sdk",vd()?"reactnative":"js"),r.set("version",t.version),r.set("protocol",t.protocol.toString()),t.deviceModel&&r.set("device_model",t.deviceModel),t.os&&r.set("os",t.os),t.osVersion&&r.set("os_version",t.osVersion),t.browser&&r.set("browser",t.browser),t.browserVersion&&r.set("browser_version",t.browserVersion),n.adaptiveStream&&r.set("adaptive_stream","1"),n.reconnectReason&&r.set("reconnect_reason",n.reconnectReason.toString()),!(null===(i=navigator.connection)||void 0===i)&&i.type&&r.set("network",navigator.connection.type),r}(t,o,n),s=function(e,t){const n=new URL(function(e){return e.startsWith("http")?e.replace(/^(http)/,"ws"):e}(e));return t.forEach((e,t)=>{n.searchParams.set(t,e)}),ph(n,"rtc")}(e,a),u=function(e){return ph(new URL(Bd(e)),"validate")}(s);return new Promise((e,t)=>oc(this,void 0,void 0,function*(){var o,a;try{let r=!1;const c=e=>oc(this,void 0,void 0,function*(){if(r)return;r=!0;const n=e instanceof Event?e.currentTarget:e,i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unknown reason";if(!(e instanceof AbortSignal))return t;const n=e.reason;switch(typeof n){case"string":return n;case"object":return n instanceof Error?n.message:t;default:return"toString"in n?n.toString():t}}(n,"Abort handler called");this.streamWriter&&!this.isDisconnected?this.sendLeave().then(()=>this.close(i)).catch(e=>{this.log.error(e),this.close()}):this.close(),l(),t(n instanceof AbortSignal?n.reason:n)});null==i||i.addEventListener("abort",c);const l=()=>{clearTimeout(d),null==i||i.removeEventListener("abort",c)},d=setTimeout(()=>{c(new wl("room connection has timed out (signal)",El.ServerUnreachable))},n.websocketTimeout),h=(e,t)=>{this.handleSignalConnected(e,d,t)},p=new URL(s);p.searchParams.has("access_token")&&p.searchParams.set("access_token","<redacted>"),this.log.debug("connecting to ".concat(p),Object.assign({reconnect:n.reconnect,reconnectReason:n.reconnectReason},this.logContext)),this.ws&&(yield this.close(!1)),this.ws=new hh(s);try{this.ws.closed.then(e=>{var n;this.isEstablishingConnection&&t(new wl("Websocket got closed during a (re)connection attempt: ".concat(e.reason),El.InternalError)),1e3!==e.closeCode&&(this.log.warn("websocket closed",Object.assign(Object.assign({},this.logContext),{reason:e.reason,code:e.closeCode,wasClean:1e3===e.closeCode,state:this.state})),this.state===Oh.CONNECTED&&this.handleOnClose(null!==(n=e.reason)&&void 0!==n?n:"Unexpected WS error"))}).catch(e=>{this.isEstablishingConnection&&t(new wl("Websocket error during a (re)connection attempt: ".concat(e),El.InternalError))});const i=yield this.ws.opened.catch(e=>oc(this,void 0,void 0,function*(){if(this.state!==Oh.CONNECTED){this.state=Oh.DISCONNECTED,clearTimeout(d);const n=yield this.handleConnectionError(e,u);return void t(n)}this.handleWSError(e),t(e)}));if(clearTimeout(d),!i)return;const r=i.readable.getReader();this.streamWriter=i.writable.getWriter();const s=yield r.read();if(r.releaseLock(),!s.value)throw new wl("no message received as first message",El.InternalError);const c=fh(s.value),l=this.validateFirstMessage(c,null!==(o=n.reconnect)&&void 0!==o&&o);if(!l.isValid)return void t(l.error);"join"===(null===(a=c.message)||void 0===a?void 0:a.case)&&(this.pingTimeoutDuration=c.message.value.pingTimeout,this.pingIntervalDuration=c.message.value.pingInterval,this.pingTimeoutDuration&&this.pingTimeoutDuration>0&&this.log.debug("ping config",Object.assign(Object.assign({},this.logContext),{timeout:this.pingTimeoutDuration,interval:this.pingIntervalDuration}))),h(i,l.shouldProcessFirstMessage?c:void 0),e(l.response)}catch(e){t(e)}finally{l()}}finally{r()}}))})}startReadingLoop(e,t){return oc(this,void 0,void 0,function*(){for(t&&this.handleSignalResponse(t);;){this.signalLatency&&(yield ud(this.signalLatency));const{done:t,value:n}=yield e.read();if(t)break;const i=fh(n);this.handleSignalResponse(i)}})}close(){return oc(this,arguments,void 0,function(){var e=this;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Close method called on signal client";return function*(){if([Oh.DISCONNECTING||Oh.DISCONNECTED].includes(e.state))return void e.log.debug("ignoring signal close as it's already in disconnecting state");const i=yield e.closingLock.lock();try{if(e.clearPingInterval(),t&&(e.state=Oh.DISCONNECTING),e.ws){e.ws.close({closeCode:1e3,reason:n});const t=e.ws.closed;e.ws=void 0,e.streamWriter=void 0,yield Promise.race([t,ud(250)])}}catch(t){e.log.debug("websocket error while closing",Object.assign(Object.assign({},e.logContext),{error:t}))}finally{t&&(e.state=Oh.DISCONNECTED),i()}}()})}sendOffer(e,t){this.log.debug("sending offer",Object.assign(Object.assign({},this.logContext),{offerSdp:e.sdp})),this.sendRequest({case:"offer",value:vh(e,t)})}sendAnswer(e,t){return this.log.debug("sending answer",Object.assign(Object.assign({},this.logContext),{answerSdp:e.sdp})),this.sendRequest({case:"answer",value:vh(e,t)})}sendIceCandidate(e,t){return this.log.debug("sending ice candidate",Object.assign(Object.assign({},this.logContext),{candidate:e})),this.sendRequest({case:"trickle",value:new Js({candidateInit:JSON.stringify(e),target:t})})}sendMuteTrack(e,t){return this.sendRequest({case:"mute",value:new eu({sid:e,muted:t})})}sendAddTrack(e){return this.sendRequest({case:"addTrack",value:e})}sendUpdateLocalMetadata(e,t){return oc(this,arguments,void 0,function(e,t){var n=this;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){const r=n.getNextRequestId();return yield n.sendRequest({case:"updateMetadata",value:new fu({requestId:r,metadata:e,name:t,attributes:i})}),r}()})}sendUpdateTrackSettings(e){this.sendRequest({case:"trackSetting",value:e})}sendUpdateSubscription(e){return this.sendRequest({case:"subscription",value:e})}sendSyncState(e){return this.sendRequest({case:"syncState",value:e})}sendUpdateVideoLayers(e,t){return this.sendRequest({case:"updateLayers",value:new pu({trackSid:e,layers:t})})}sendUpdateSubscriptionPermissions(e,t){return this.sendRequest({case:"subscriptionPermission",value:new Su({allParticipants:e,trackPermissions:t})})}sendSimulateScenario(e){return this.sendRequest({case:"simulate",value:e})}sendPing(){return Promise.all([this.sendRequest({case:"ping",value:Po.parse(Date.now())}),this.sendRequest({case:"pingReq",value:new Iu({timestamp:Po.parse(Date.now()),rtt:Po.parse(this.rtt)})})])}sendUpdateLocalAudioTrack(e,t){return this.sendRequest({case:"updateAudioTrack",value:new cu({trackSid:e,features:t})})}sendLeave(){return this.sendRequest({case:"leave",value:new du({reason:Ja.CLIENT_INITIATED,action:hu.DISCONNECT})})}sendRequest(e){return oc(this,arguments,void 0,function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function*(){if(!n&&!function(e){const t=mh.indexOf(e.case)>=0;return ec.trace("request allowed to bypass queue:",{canPass:t,req:e}),t}(e)&&t.state===Oh.RECONNECTING)return void t.queuedRequests.push(()=>oc(t,void 0,void 0,function*(){yield this.sendRequest(e,!0)}));if(n||(yield t.requestQueue.flush()),t.signalLatency&&(yield ud(t.signalLatency)),t.isDisconnected)return void t.log.debug("skipping signal request (type: ".concat(e.case,") - SignalClient disconnected"));if(!t.streamWriter)return void t.log.error("cannot send signal request before connected, type: ".concat(null==e?void 0:e.case),t.logContext);const i=new Vs({message:e});try{t.useJSON?yield t.streamWriter.write(i.toJsonString()):yield t.streamWriter.write(i.toBinary())}catch(e){t.log.error("error sending signal message",Object.assign(Object.assign({},t.logContext),{error:e}))}}()})}handleSignalResponse(e){var t,n;const i=e.message;if(null==i)return void this.log.debug("received unsupported message",this.logContext);let r=!1;if("answer"===i.case){const e=Dh(i.value);this.onAnswer&&this.onAnswer(e,i.value.id,i.value.midToTrackId)}else if("offer"===i.case){const e=Dh(i.value);this.onOffer&&this.onOffer(e,i.value.id,i.value.midToTrackId)}else if("trickle"===i.case){const e=JSON.parse(i.value.candidateInit);this.onTrickle&&this.onTrickle(e,i.value.target)}else"update"===i.case?this.onParticipantUpdate&&this.onParticipantUpdate(null!==(t=i.value.participants)&&void 0!==t?t:[]):"trackPublished"===i.case?this.onLocalTrackPublished&&this.onLocalTrackPublished(i.value):"speakersChanged"===i.case?this.onSpeakersChanged&&this.onSpeakersChanged(null!==(n=i.value.speakers)&&void 0!==n?n:[]):"leave"===i.case?this.onLeave&&this.onLeave(i.value):"mute"===i.case?this.onRemoteMuteChanged&&this.onRemoteMuteChanged(i.value.sid,i.value.muted):"roomUpdate"===i.case?this.onRoomUpdate&&i.value.room&&this.onRoomUpdate(i.value.room):"connectionQuality"===i.case?this.onConnectionQuality&&this.onConnectionQuality(i.value):"streamStateUpdate"===i.case?this.onStreamStateUpdate&&this.onStreamStateUpdate(i.value):"subscribedQualityUpdate"===i.case?this.onSubscribedQualityUpdate&&this.onSubscribedQualityUpdate(i.value):"subscriptionPermissionUpdate"===i.case?this.onSubscriptionPermissionUpdate&&this.onSubscriptionPermissionUpdate(i.value):"refreshToken"===i.case?this.onTokenRefresh&&this.onTokenRefresh(i.value):"trackUnpublished"===i.case?this.onLocalTrackUnpublished&&this.onLocalTrackUnpublished(i.value):"subscriptionResponse"===i.case?this.onSubscriptionError&&this.onSubscriptionError(i.value):"pong"===i.case||("pongResp"===i.case?(this.rtt=Date.now()-Number.parseInt(i.value.lastPingTimestamp.toString()),this.resetPingTimeout(),r=!0):"requestResponse"===i.case?this.onRequestResponse&&this.onRequestResponse(i.value):"trackSubscribed"===i.case?this.onLocalTrackSubscribed&&this.onLocalTrackSubscribed(i.value.trackSid):"roomMoved"===i.case?(this.onTokenRefresh&&this.onTokenRefresh(i.value.token),this.onRoomMoved&&this.onRoomMoved(i.value)):"mediaSectionsRequirement"===i.case?this.onMediaSectionsRequirement&&this.onMediaSectionsRequirement(i.value):this.log.debug("unsupported message",Object.assign(Object.assign({},this.logContext),{msgCase:i.case})));r||this.resetPingTimeout()}setReconnected(){for(;this.queuedRequests.length>0;){const e=this.queuedRequests.shift();e&&this.requestQueue.run(e)}}handleOnClose(e){return oc(this,void 0,void 0,function*(){if(this.state===Oh.DISCONNECTED)return;const t=this.onClose;yield this.close(void 0,e),this.log.debug("websocket connection closed: ".concat(e),Object.assign(Object.assign({},this.logContext),{reason:e})),t&&t(e)})}handleWSError(e){this.log.error("websocket error",Object.assign(Object.assign({},this.logContext),{error:e}))}resetPingTimeout(){this.clearPingTimeout(),this.pingTimeoutDuration?this.pingTimeout=jl.setTimeout(()=>{this.log.warn("ping timeout triggered. last pong received at: ".concat(new Date(Date.now()-1e3*this.pingTimeoutDuration).toUTCString()),this.logContext),this.handleOnClose("ping timeout")},1e3*this.pingTimeoutDuration):this.log.warn("ping timeout duration not set",this.logContext)}clearPingTimeout(){this.pingTimeout&&jl.clearTimeout(this.pingTimeout)}startPingInterval(){this.clearPingInterval(),this.resetPingTimeout(),this.pingIntervalDuration?(this.log.debug("start ping interval",this.logContext),this.pingInterval=jl.setInterval(()=>{this.sendPing()},1e3*this.pingIntervalDuration)):this.log.warn("ping interval duration not set",this.logContext)}clearPingInterval(){this.log.debug("clearing ping interval",this.logContext),this.clearPingTimeout(),this.pingInterval&&jl.clearInterval(this.pingInterval)}handleSignalConnected(e,t,n){this.state=Oh.CONNECTED,clearTimeout(t),this.startPingInterval(),this.startReadingLoop(e.readable.getReader(),n)}validateFirstMessage(e,t){var n,i,r,o,a;return"join"===(null===(n=e.message)||void 0===n?void 0:n.case)?{isValid:!0,response:e.message.value}:this.state===Oh.RECONNECTING&&"leave"!==(null===(i=e.message)||void 0===i?void 0:i.case)?"reconnect"===(null===(r=e.message)||void 0===r?void 0:r.case)?{isValid:!0,response:e.message.value}:(this.log.debug("declaring signal reconnected without reconnect response received",this.logContext),{isValid:!0,response:void 0,shouldProcessFirstMessage:!0}):this.isEstablishingConnection&&"leave"===(null===(o=e.message)||void 0===o?void 0:o.case)?{isValid:!1,error:new wl("Received leave request while trying to (re)connect",El.LeaveRequest,void 0,e.message.value.reason)}:t?{isValid:!1,error:new wl("Unexpected first message",El.InternalError)}:{isValid:!1,error:new wl("did not receive join response, got ".concat(null===(a=e.message)||void 0===a?void 0:a.case," instead"),El.InternalError)}}handleConnectionError(e,t){return oc(this,void 0,void 0,function*(){try{const n=yield fetch(t);if(n.status.toFixed(0).startsWith("4")){const e=yield n.text();return new wl(e,El.NotAllowed,n.status)}return e instanceof wl?e:new wl("Encountered unknown websocket error during connection: ".concat(e),El.InternalError,n.status)}catch(e){return e instanceof wl?e:new wl(e instanceof Error?e.message:"server was not reachable",El.ServerUnreachable)}})}}function Dh(e){const t={type:"offer",sdp:e.sdp};switch(e.type){case"answer":case"offer":case"pranswer":case"rollback":t.type=e.type}return t}function vh(e,t){return new ou({sdp:e.sdp,type:e.type,id:t})}class Eh{constructor(){this.buffer=[],this._totalSize=0}push(e){this.buffer.push(e),this._totalSize+=e.data.byteLength}pop(){const e=this.buffer.shift();return e&&(this._totalSize-=e.data.byteLength),e}getAll(){return this.buffer.slice()}popToSequence(e){for(;this.buffer.length>0&&this.buffer[0].sequence<=e;)this.pop()}alignBufferedAmount(e){for(;this.buffer.length>0;){const t=this.buffer[0];if(this._totalSize-t.data.byteLength<=e)break;this.pop()}}get length(){return this.buffer.length}}class Ch{constructor(e){this._map=new Map,this._lastCleanup=0,this.ttl=e}set(e,t){const n=Date.now();n-this._lastCleanup>this.ttl/2&&this.cleanup();const i=n+this.ttl;return this._map.set(e,{value:t,expiresAt:i}),this}get(e){const t=this._map.get(e);if(t)return t.expiresAt<Date.now()?void this._map.delete(e):t.value}has(e){const t=this._map.get(e);return!(!t||t.expiresAt<Date.now()&&(this._map.delete(e),1))}delete(e){return this._map.delete(e)}clear(){this._map.clear()}cleanup(){const e=Date.now();for(const[t,n]of this._map.entries())n.expiresAt<e&&this._map.delete(t);this._lastCleanup=e}get size(){return this.cleanup(),this._map.size}forEach(e){this.cleanup();for(const[t,n]of this._map.entries())n.expiresAt>=Date.now()&&e(n.value,t,this.asValueMap())}map(e){this.cleanup();const t=[],n=this.asValueMap();for(const[i,r]of n.entries())t.push(e(r,i,n));return t}asValueMap(){const e=new Map;for(const[t,n]of this._map.entries())n.expiresAt>=Date.now()&&e.set(t,n.value);return e}}var bh,kh,yh,Th,Ah,Sh={},_h={},Fh={exports:{}};function wh(){if(bh)return Fh.exports;bh=1;var e=Fh.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),(t+=null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",(t+=null!=e.rateNumerator?" rate=%s":"")+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(e).forEach(function(t){e[t].forEach(function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")})}),Fh.exports}function xh(){if(Th)return yh;Th=1;var e=wh(),t=/%[sdv%]/g,n=function(e){var n=1,i=arguments,r=i.length;return e.replace(t,function(e){if(n>=r)return e;var t=i[n];switch(n+=1,e){case"%%":return"%";case"%s":return String(t);case"%d":return Number(t);case"%v":return""}})},i=function(e,t,i){var r=[e+"="+(t.format instanceof Function?t.format(t.push?i:i[t.name]):t.format)];if(t.names)for(var o=0;o<t.names.length;o+=1){var a=t.names[o];t.name?r.push(i[t.name][a]):r.push(i[t.names[o]])}else r.push(i[t.name]);return n.apply(null,r)},r=["v","o","s","i","u","e","p","c","b","t","r","z","a"],o=["i","c","b","a"];return yh=function(t,n){n=n||{},null==t.version&&(t.version=0),null==t.name&&(t.name=" "),t.media.forEach(function(e){null==e.payloads&&(e.payloads="")});var a=n.outerOrder||r,s=n.innerOrder||o,u=[];return a.forEach(function(n){e[n].forEach(function(e){e.name in t&&null!=t[e.name]?u.push(i(n,e,t)):e.push in t&&null!=t[e.push]&&t[e.push].forEach(function(t){u.push(i(n,e,t))})})}),t.media.forEach(function(t){u.push(i("m",e.m[0],t)),s.forEach(function(n){e[n].forEach(function(e){e.name in t&&null!=t[e.name]?u.push(i(n,e,t)):e.push in t&&null!=t[e.push]&&t[e.push].forEach(function(t){u.push(i(n,e,t))})})})}),u.join("\r\n")+"\r\n"}}var Ph=function(){if(Ah)return Sh;Ah=1;var e=(kh||(kh=1,function(e){var t=function(e){return String(Number(e))===e?Number(e):e},n=function(e,n,i){var r=e.name&&e.names;e.push&&!n[e.push]?n[e.push]=[]:r&&!n[e.name]&&(n[e.name]={});var o=e.push?{}:r?n[e.name]:n;(function(e,n,i,r){if(r&&!i)n[r]=t(e[1]);else for(var o=0;o<i.length;o+=1)null!=e[o+1]&&(n[i[o]]=t(e[o+1]))})(i.match(e.reg),o,e.names,e.name),e.push&&n[e.push].push(o)},i=wh(),r=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(e){var t={},o=[],a=t;return e.split(/(\r\n|\r|\n)/).filter(r).forEach(function(e){var t=e[0],r=e.slice(2);"m"===t&&(o.push({rtp:[],fmtp:[]}),a=o[o.length-1]);for(var s=0;s<(i[t]||[]).length;s+=1){var u=i[t][s];if(u.reg.test(r))return n(u,a,r)}}),t.media=o,t};var o=function(e,n){var i=n.split(/=(.+)/,2);return 2===i.length?e[i[0]]=t(i[1]):1===i.length&&n.length>1&&(e[i[0]]=void 0),e};e.parseParams=function(e){return e.split(/;\s?/).reduce(o,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(e){return e.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(e){for(var n=[],i=e.split(" ").map(t),r=0;r<i.length;r+=3)n.push({component:i[r],ip:i[r+1],port:i[r+2]});return n},e.parseImageAttributes=function(e){return e.split(" ").map(function(e){return e.substring(1,e.length-1).split(",").reduce(o,{})})},e.parseSimulcastStreamList=function(e){return e.split(";").map(function(e){return e.split(",").map(function(e){var n,i=!1;return"~"!==e[0]?n=t(e):(n=t(e.substring(1,e.length)),i=!0),{scid:n,paused:i}})})}}(_h)),_h),t=xh(),n=wh();return Sh.grammar=n,Sh.write=t,Sh.parse=e.parse,Sh.parseParams=e.parseParams,Sh.parseFmtpConfig=e.parseFmtpConfig,Sh.parsePayloads=e.parsePayloads,Sh.parseRemoteCandidates=e.parseRemoteCandidates,Sh.parseImageAttributes=e.parseImageAttributes,Sh.parseSimulcastStreamList=e.parseSimulcastStreamList,Sh}();function Rh(e,t,n){var i,r,o;void 0===t&&(t=50),void 0===n&&(n={});var a=null!=(i=n.isImmediate)&&i,s=null!=(r=n.callback)&&r,u=n.maxWait,c=Date.now(),l=[],d=function(){var n=[].slice.call(arguments),i=this;return new Promise(function(r,d){var h=a&&void 0===o;if(void 0!==o&&clearTimeout(o),o=setTimeout(function(){if(o=void 0,c=Date.now(),!a){var t=e.apply(i,n);s&&s(t),l.forEach(function(e){return(0,e.resolve)(t)}),l=[]}},function(){if(void 0!==u){var e=Date.now()-c;if(e+t>=u)return u-e}return t}()),h){var p=e.apply(i,n);return s&&s(p),r(p)}l.push({resolve:r,reject:d})})};return d.cancel=function(e){void 0!==o&&clearTimeout(o),l.forEach(function(t){return(0,t.reject)(e)}),l=[]},d}const Ih="negotiationStarted",Qh="negotiationComplete",Nh="rtpVideoPayloadTypes";class Bh extends cc.EventEmitter{get pc(){return this._pc||(this._pc=this.createPC()),this._pc}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;super(),this.log=ec,this.ddExtID=0,this.latestOfferId=0,this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate=!1,this.trackBitrates=[],this.remoteStereoMids=[],this.remoteNackMids=[],this.negotiate=Rh(e=>oc(this,void 0,void 0,function*(){this.emit(Ih);try{yield this.createAndSendOffer()}catch(t){if(!e)throw t;e(t)}}),20),this.close=()=>{this._pc&&(this._pc.close(),this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.ondatachannel=null,this._pc.onnegotiationneeded=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ondatachannel=null,this._pc.ontrack=null,this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc=null)},this.log=tc(null!==(n=t.loggerName)&&void 0!==n?n:Yu.PCTransport),this.loggerOptions=t,this.config=e,this._pc=this.createPC(),this.offerLock=new co}createPC(){const e=new RTCPeerConnection(this.config);return e.onicecandidate=e=>{var t;e.candidate&&(null===(t=this.onIceCandidate)||void 0===t||t.call(this,e.candidate))},e.onicecandidateerror=e=>{var t;null===(t=this.onIceCandidateError)||void 0===t||t.call(this,e)},e.oniceconnectionstatechange=()=>{var t;null===(t=this.onIceConnectionStateChange)||void 0===t||t.call(this,e.iceConnectionState)},e.onsignalingstatechange=()=>{var t;null===(t=this.onSignalingStatechange)||void 0===t||t.call(this,e.signalingState)},e.onconnectionstatechange=()=>{var t;null===(t=this.onConnectionStateChange)||void 0===t||t.call(this,e.connectionState)},e.ondatachannel=e=>{var t;null===(t=this.onDataChannel)||void 0===t||t.call(this,e)},e.ontrack=e=>{var t;null===(t=this.onTrack)||void 0===t||t.call(this,e)},e}get logContext(){var e,t;return Object.assign({},null===(t=(e=this.loggerOptions).loggerContextCb)||void 0===t?void 0:t.call(e))}get isICEConnected(){return null!==this._pc&&("connected"===this.pc.iceConnectionState||"completed"===this.pc.iceConnectionState)}addIceCandidate(e){return oc(this,void 0,void 0,function*(){if(this.pc.remoteDescription&&!this.restartingIce)return this.pc.addIceCandidate(e);this.pendingCandidates.push(e)})}setRemoteDescription(e,t){return oc(this,void 0,void 0,function*(){var n;if("answer"===e.type&&this.latestOfferId>0&&t>0&&t!==this.latestOfferId)return this.log.warn("ignoring answer for old offer",Object.assign(Object.assign({},this.logContext),{offerId:t,latestOfferId:this.latestOfferId})),!1;let i;if("offer"===e.type){let{stereoMids:t,nackMids:n}=function(e){var t;const n=[],i=[],r=Ph.parse(null!==(t=e.sdp)&&void 0!==t?t:"");let o=0;return r.media.forEach(e=>{var t;const r=$h(e.mid);"audio"===e.type&&(e.rtp.some(e=>"opus"===e.codec&&(o=e.payload,!0)),!(null===(t=e.rtcpFb)||void 0===t)&&t.some(e=>e.payload===o&&"nack"===e.type)&&i.push(r),e.fmtp.some(e=>e.payload===o&&(e.config.includes("sprop-stereo=1")&&n.push(r),!0)))}),{stereoMids:n,nackMids:i}}(e);this.remoteStereoMids=t,this.remoteNackMids=n}else if("answer"===e.type){const t=Ph.parse(null!==(n=e.sdp)&&void 0!==n?n:"");t.media.forEach(e=>{const t=$h(e.mid);"audio"===e.type&&this.trackBitrates.some(n=>{if(!n.transceiver||t!=n.transceiver.mid)return!1;let i=0;if(e.rtp.some(e=>e.codec.toUpperCase()===n.codec.toUpperCase()&&(i=e.payload,!0)),0===i)return!0;let r=!1;for(const t of e.fmtp)if(t.payload===i){t.config=t.config.split(";").filter(e=>!e.includes("maxaveragebitrate")).join(";"),n.maxbr>0&&(t.config+=";maxaveragebitrate=".concat(1e3*n.maxbr)),r=!0;break}return r||n.maxbr>0&&e.fmtp.push({payload:i,config:"maxaveragebitrate=".concat(1e3*n.maxbr)}),!0})}),i=Ph.write(t)}return yield this.setMungedSDP(e,i,!0),this.pendingCandidates.forEach(e=>{this.pc.addIceCandidate(e)}),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate?(this.renegotiate=!1,yield this.createAndSendOffer()):"answer"===e.type&&(this.emit(Qh),e.sdp&&Ph.parse(e.sdp).media.forEach(e=>{"video"===e.type&&this.emit(Nh,e.rtp)})),!0})}createAndSendOffer(e){return oc(this,void 0,void 0,function*(){var t;const n=yield this.offerLock.lock();try{if(void 0===this.onOffer)return;if(null!=e&&e.iceRestart&&(this.log.debug("restarting ICE",this.logContext),this.restartingIce=!0),this._pc&&"have-local-offer"===this._pc.signalingState){const t=this._pc.remoteDescription;if(null==e||!e.iceRestart||!t)return void(this.renegotiate=!0);yield this._pc.setRemoteDescription(t)}else if(!this._pc||"closed"===this._pc.signalingState)return void this.log.warn("could not createOffer with closed peer connection",this.logContext);this.log.debug("starting to negotiate",this.logContext);const n=this.latestOfferId+1;this.latestOfferId=n;const i=yield this.pc.createOffer(e);this.log.debug("original offer",Object.assign({sdp:i.sdp},this.logContext));const r=Ph.parse(null!==(t=i.sdp)&&void 0!==t?t:"");if(r.media.forEach(e=>{Lh(e),"audio"===e.type?Mh(e,["all"],[]):"video"===e.type&&this.trackBitrates.some(t=>{if(!e.msid||!t.cid||!e.msid.includes(t.cid))return!1;let n=0;if(e.rtp.some(e=>e.codec.toUpperCase()===t.codec.toUpperCase()&&(n=e.payload,!0)),0===n||(dd(t.codec)&&!md()&&this.ensureVideoDDExtensionForSVC(e,r),!dd(t.codec)))return!0;const i=Math.round(.7*t.maxbr);for(const t of e.fmtp)if(t.payload===n){t.config.includes("x-google-start-bitrate")||(t.config+=";x-google-start-bitrate=".concat(i));break}return!0})}),this.latestOfferId>n)return void this.log.warn("latestOfferId mismatch",Object.assign(Object.assign({},this.logContext),{latestOfferId:this.latestOfferId,offerId:n}));yield this.setMungedSDP(i,Ph.write(r)),this.onOffer(i,this.latestOfferId)}finally{n()}})}createAndSetAnswer(){return oc(this,void 0,void 0,function*(){var e;const t=yield this.pc.createAnswer(),n=Ph.parse(null!==(e=t.sdp)&&void 0!==e?e:"");return n.media.forEach(e=>{Lh(e),"audio"===e.type&&Mh(e,this.remoteStereoMids,this.remoteNackMids)}),yield this.setMungedSDP(t,Ph.write(n)),t})}createDataChannel(e,t){return this.pc.createDataChannel(e,t)}addTransceiver(e,t){return this.pc.addTransceiver(e,t)}addTransceiverOfKind(e,t){return this.pc.addTransceiver(e,t)}addTrack(e){if(!this._pc)throw new Il("PC closed, cannot add track");return this._pc.addTrack(e)}setTrackCodecBitrate(e){this.trackBitrates.push(e)}setConfiguration(e){var t;if(!this._pc)throw new Il("PC closed, cannot configure");return null===(t=this._pc)||void 0===t?void 0:t.setConfiguration(e)}canRemoveTrack(){var e;return!(null===(e=this._pc)||void 0===e||!e.removeTrack)}removeTrack(e){var t;return null===(t=this._pc)||void 0===t?void 0:t.removeTrack(e)}getConnectionState(){var e,t;return null!==(t=null===(e=this._pc)||void 0===e?void 0:e.connectionState)&&void 0!==t?t:"closed"}getICEConnectionState(){var e,t;return null!==(t=null===(e=this._pc)||void 0===e?void 0:e.iceConnectionState)&&void 0!==t?t:"closed"}getSignallingState(){var e,t;return null!==(t=null===(e=this._pc)||void 0===e?void 0:e.signalingState)&&void 0!==t?t:"closed"}getTransceivers(){var e,t;return null!==(t=null===(e=this._pc)||void 0===e?void 0:e.getTransceivers())&&void 0!==t?t:[]}getSenders(){var e,t;return null!==(t=null===(e=this._pc)||void 0===e?void 0:e.getSenders())&&void 0!==t?t:[]}getLocalDescription(){var e;return null===(e=this._pc)||void 0===e?void 0:e.localDescription}getRemoteDescription(){var e;return null===(e=this.pc)||void 0===e?void 0:e.remoteDescription}getStats(){return this.pc.getStats()}getConnectedAddress(){return oc(this,void 0,void 0,function*(){var e;if(!this._pc)return;let t="";const n=new Map,i=new Map;if((yield this._pc.getStats()).forEach(e=>{switch(e.type){case"transport":t=e.selectedCandidatePairId;break;case"candidate-pair":""===t&&e.selected&&(t=e.id),n.set(e.id,e);break;case"remote-candidate":i.set(e.id,"".concat(e.address,":").concat(e.port))}}),""===t)return;const r=null===(e=n.get(t))||void 0===e?void 0:e.remoteCandidateId;return void 0!==r?i.get(r):void 0})}setMungedSDP(e,t,n){return oc(this,void 0,void 0,function*(){if(t){const i=e.sdp;e.sdp=t;try{return this.log.debug("setting munged ".concat(n?"remote":"local"," description"),this.logContext),void(n?yield this.pc.setRemoteDescription(e):yield this.pc.setLocalDescription(e))}catch(n){this.log.warn("not able to set ".concat(e.type,", falling back to unmodified sdp"),Object.assign(Object.assign({},this.logContext),{error:n,sdp:t})),e.sdp=i}}try{n?yield this.pc.setRemoteDescription(e):yield this.pc.setLocalDescription(e)}catch(t){let i="unknown error";t instanceof Error?i=t.message:"string"==typeof t&&(i=t);const r={error:i,sdp:e.sdp};throw!n&&this.pc.remoteDescription&&(r.remoteSdp=this.pc.remoteDescription),this.log.error("unable to set ".concat(e.type),Object.assign(Object.assign({},this.logContext),{fields:r})),new Ql(i)}})}ensureVideoDDExtensionForSVC(e,t){var n,i;if(!(null===(n=e.ext)||void 0===n?void 0:n.some(e=>e.uri===sd))){if(0===this.ddExtID){let e=0;t.media.forEach(t=>{var n;"video"===t.type&&(null===(n=t.ext)||void 0===n||n.forEach(t=>{t.value>e&&(e=t.value)}))}),this.ddExtID=e+1}null===(i=e.ext)||void 0===i||i.push({value:this.ddExtID,uri:sd})}}}function Mh(e,t,n){const i=$h(e.mid);let r=0;e.rtp.some(e=>"opus"===e.codec&&(r=e.payload,!0)),r>0&&(e.rtcpFb||(e.rtcpFb=[]),n.includes(i)&&!e.rtcpFb.some(e=>e.payload===r&&"nack"===e.type)&&e.rtcpFb.push({payload:r,type:"nack"}),(t.includes(i)||1===t.length&&"all"===t[0])&&e.fmtp.some(e=>e.payload===r&&(e.config.includes("stereo=1")||(e.config+=";stereo=1"),!0)))}function Lh(e){if(e.connection){const t=e.connection.ip.indexOf(":")>=0;(4===e.connection.version&&t||6===e.connection.version&&!t)&&(e.connection.ip="0.0.0.0",e.connection.version=4)}}function $h(e){return"number"==typeof e?e.toFixed(0):e}const Uh="vp8",qh={audioPreset:id.music,dtx:!0,red:!0,forceStereo:!1,simulcast:!0,screenShareEncoding:ad.h1080fps15.encoding,stopMicTrackOnMute:!1,videoCodec:Uh,backupCodec:!0,preConnectBuffer:!1},Xh={deviceId:{ideal:"default"},autoGainControl:!0,echoCancellation:!0,noiseSuppression:!0,voiceIsolation:!0},zh={deviceId:{ideal:"default"},resolution:rd.h720.resolution},Zh={adaptiveStream:!1,dynacast:!1,stopLocalTrackOnUnpublish:!0,reconnectPolicy:new class{constructor(e){this._retryDelays=void 0!==e?[...e]:rc}nextRetryDelayInMs(e){if(e.retryCount>=this._retryDelays.length)return null;const t=this._retryDelays[e.retryCount];return e.retryCount<=1?t:t+1e3*Math.random()}},disconnectOnPageLeave:!0,webAudioMix:!1,singlePeerConnection:!1},jh={autoSubscribe:!0,maxRetries:1,peerConnectionTimeout:15e3,websocketTimeout:15e3};var Wh;!function(e){e[e.NEW=0]="NEW",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED",e[e.FAILED=3]="FAILED",e[e.CLOSING=4]="CLOSING",e[e.CLOSED=5]="CLOSED"}(Wh||(Wh={}));class Gh{get needsPublisher(){return this.isPublisherConnectionRequired}get needsSubscriber(){return this.isSubscriberConnectionRequired}get currentState(){return this.state}constructor(e,t,n){var i;this.peerConnectionTimeout=jh.peerConnectionTimeout,this.log=ec,this.updateState=()=>{var e,t;const n=this.state,i=this.requiredTransports.map(e=>e.getConnectionState());i.every(e=>"connected"===e)?this.state=Wh.CONNECTED:i.some(e=>"failed"===e)?this.state=Wh.FAILED:i.some(e=>"connecting"===e)?this.state=Wh.CONNECTING:i.every(e=>"closed"===e)?this.state=Wh.CLOSED:i.some(e=>"closed"===e)?this.state=Wh.CLOSING:i.every(e=>"new"===e)&&(this.state=Wh.NEW),n!==this.state&&(this.log.debug("pc state change: from ".concat(Wh[n]," to ").concat(Wh[this.state]),this.logContext),null===(e=this.onStateChange)||void 0===e||e.call(this,this.state,this.publisher.getConnectionState(),null===(t=this.subscriber)||void 0===t?void 0:t.getConnectionState()))},this.log=tc(null!==(i=n.loggerName)&&void 0!==i?i:Yu.PCManager),this.loggerOptions=n,this.isPublisherConnectionRequired="subscriber-primary"!==t,this.isSubscriberConnectionRequired="subscriber-primary"===t,this.publisher=new Bh(e,n),"publisher-only"!==t&&(this.subscriber=new Bh(e,n),this.subscriber.onConnectionStateChange=this.updateState,this.subscriber.onIceConnectionStateChange=this.updateState,this.subscriber.onSignalingStatechange=this.updateState,this.subscriber.onIceCandidate=e=>{var t;null===(t=this.onIceCandidate)||void 0===t||t.call(this,e,js.SUBSCRIBER)},this.subscriber.onDataChannel=e=>{var t;null===(t=this.onDataChannel)||void 0===t||t.call(this,e)},this.subscriber.onTrack=e=>{var t;null===(t=this.onTrack)||void 0===t||t.call(this,e)}),this.publisher.onConnectionStateChange=this.updateState,this.publisher.onIceConnectionStateChange=this.updateState,this.publisher.onSignalingStatechange=this.updateState,this.publisher.onIceCandidate=e=>{var t;null===(t=this.onIceCandidate)||void 0===t||t.call(this,e,js.PUBLISHER)},this.publisher.onTrack=e=>{var t;null===(t=this.onTrack)||void 0===t||t.call(this,e)},this.publisher.onOffer=(e,t)=>{var n;null===(n=this.onPublisherOffer)||void 0===n||n.call(this,e,t)},this.state=Wh.NEW,this.connectionLock=new co,this.remoteOfferLock=new co}get logContext(){var e,t;return Object.assign({},null===(t=(e=this.loggerOptions).loggerContextCb)||void 0===t?void 0:t.call(e))}requirePublisher(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isPublisherConnectionRequired=e,this.updateState()}createAndSendPublisherOffer(e){return this.publisher.createAndSendOffer(e)}setPublisherAnswer(e,t){return this.publisher.setRemoteDescription(e,t)}removeTrack(e){return this.publisher.removeTrack(e)}close(){return oc(this,void 0,void 0,function*(){var e;if(this.publisher&&"closed"!==this.publisher.getSignallingState()){const e=this.publisher;for(const t of e.getSenders())try{e.canRemoveTrack()&&e.removeTrack(t)}catch(e){this.log.warn("could not removeTrack",Object.assign(Object.assign({},this.logContext),{error:e}))}}yield Promise.all([this.publisher.close(),null===(e=this.subscriber)||void 0===e?void 0:e.close()]),this.updateState()})}triggerIceRestart(){return oc(this,void 0,void 0,function*(){this.subscriber&&(this.subscriber.restartingIce=!0),this.needsPublisher&&(yield this.createAndSendPublisherOffer({iceRestart:!0}))})}addIceCandidate(e,t){return oc(this,void 0,void 0,function*(){var n;t===js.PUBLISHER?yield this.publisher.addIceCandidate(e):yield null===(n=this.subscriber)||void 0===n?void 0:n.addIceCandidate(e)})}createSubscriberAnswerFromOffer(e,t){return oc(this,void 0,void 0,function*(){var n,i,r;this.log.debug("received server offer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:e.type,sdp:e.sdp,signalingState:null===(n=this.subscriber)||void 0===n?void 0:n.getSignallingState().toString()}));const o=yield this.remoteOfferLock.lock();try{return(yield null===(i=this.subscriber)||void 0===i?void 0:i.setRemoteDescription(e,t))?yield null===(r=this.subscriber)||void 0===r?void 0:r.createAndSetAnswer():void 0}finally{o()}})}updateConfiguration(e,t){var n;this.publisher.setConfiguration(e),null===(n=this.subscriber)||void 0===n||n.setConfiguration(e),t&&this.triggerIceRestart()}ensurePCTransportConnection(e,t){return oc(this,void 0,void 0,function*(){var n;const i=yield this.connectionLock.lock();try{this.isPublisherConnectionRequired&&"connected"!==this.publisher.getConnectionState()&&"connecting"!==this.publisher.getConnectionState()&&(this.log.debug("negotiation required, start negotiating",this.logContext),this.publisher.negotiate()),yield Promise.all(null===(n=this.requiredTransports)||void 0===n?void 0:n.map(n=>this.ensureTransportConnected(n,e,t)))}finally{i()}})}negotiate(e){return oc(this,void 0,void 0,function*(){return new Promise((t,n)=>oc(this,void 0,void 0,function*(){const i=setTimeout(()=>{n("negotiation timed out")},this.peerConnectionTimeout);e.signal.addEventListener("abort",()=>{clearTimeout(i),n("negotiation aborted")}),this.publisher.once(Ih,()=>{e.signal.aborted||this.publisher.once(Qh,()=>{clearTimeout(i),t()})}),yield this.publisher.negotiate(e=>{clearTimeout(i),n(e)})}))})}addPublisherTransceiver(e,t){return this.publisher.addTransceiver(e,t)}addPublisherTransceiverOfKind(e,t){return this.publisher.addTransceiverOfKind(e,t)}getMidForReceiver(e){const t=(this.subscriber?this.subscriber.getTransceivers():this.publisher.getTransceivers()).find(t=>t.receiver===e);return null==t?void 0:t.mid}addPublisherTrack(e){return this.publisher.addTrack(e)}createPublisherDataChannel(e,t){return this.publisher.createDataChannel(e,t)}getConnectedAddress(e){return e===js.PUBLISHER||e===js.SUBSCRIBER?this.publisher.getConnectedAddress():this.requiredTransports[0].getConnectedAddress()}get requiredTransports(){const e=[];return this.isPublisherConnectionRequired&&e.push(this.publisher),this.isSubscriberConnectionRequired&&this.subscriber&&e.push(this.subscriber),e}ensureTransportConnected(e,t){return oc(this,arguments,void 0,function(e,t){var n=this;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.peerConnectionTimeout;return function*(){if("connected"!==e.getConnectionState())return new Promise((e,r)=>oc(n,void 0,void 0,function*(){const n=()=>{this.log.warn("abort transport connection",this.logContext),jl.clearTimeout(o),r(new wl("room connection has been cancelled",El.Cancelled))};null!=t&&t.signal.aborted&&n(),null==t||t.signal.addEventListener("abort",n);const o=jl.setTimeout(()=>{null==t||t.signal.removeEventListener("abort",n),r(new wl("could not establish pc connection",El.InternalError))},i);for(;this.state!==Wh.CONNECTED;)if(yield ud(50),null!=t&&t.signal.aborted)return void r(new wl("room connection has been cancelled",El.Cancelled));jl.clearTimeout(o),null==t||t.signal.removeEventListener("abort",n),e()}))}()})}}class Vh{static fetchRegionSettings(e,t,n){return oc(this,void 0,void 0,function*(){const i=yield Vh.fetchLock.lock();try{const i=yield fetch("".concat(function(e){return"".concat(e.protocol.replace("ws","http"),"//").concat(e.host,"/settings")}(e),"/regions"),{headers:{authorization:"Bearer ".concat(t)},signal:n});if(i.ok){const e=function(e){var t;const n=e.get("Cache-Control");if(n){const e=null===(t=n.match(/(?:^|[,\s])max-age=(\d+)/))||void 0===t?void 0:t[1];if(e)return parseInt(e,10)}}(i.headers),t=e?1e3*e:5e3;return{regionSettings:yield i.json(),updatedAtInMs:Date.now(),maxAgeInMs:t}}throw new wl("Could not fetch region settings: ".concat(i.statusText),401===i.status?El.NotAllowed:El.InternalError,i.status)}catch(e){throw e instanceof wl?e:null!=n&&n.aborted?new wl("Region fetching was aborted",El.Cancelled):new wl("Could not fetch region settings, ".concat(e instanceof Error?"".concat(e.name,": ").concat(e.message):e),El.ServerUnreachable,500)}finally{i()}})}static scheduleRefetch(e,t,n){return oc(this,void 0,void 0,function*(){const i=Vh.settingsTimeouts.get(e.hostname);clearTimeout(i),Vh.settingsTimeouts.set(e.hostname,setTimeout(()=>oc(this,void 0,void 0,function*(){try{const n=yield Vh.fetchRegionSettings(e,t);Vh.updateCachedRegionSettings(e,t,n)}catch(i){if(i instanceof wl&&i.reason===El.NotAllowed)return void ec.debug("token is not valid, cancelling auto region refresh");ec.debug("auto refetching of region settings failed",{error:i}),Vh.scheduleRefetch(e,t,n)}}),n))})}static updateCachedRegionSettings(e,t,n){Vh.cache.set(e.hostname,n),Vh.scheduleRefetch(e,t,n.maxAgeInMs)}static stopRefetch(e){const t=Vh.settingsTimeouts.get(e);t&&(clearTimeout(t),Vh.settingsTimeouts.delete(e))}static scheduleCleanup(e){let t=Vh.connectionTrackers.get(e);t&&(t.cleanupTimeout&&clearTimeout(t.cleanupTimeout),t.cleanupTimeout=setTimeout(()=>{const t=Vh.connectionTrackers.get(e);t&&0===t.connectionCount&&(ec.debug("stopping region refetch after disconnect delay",{hostname:e}),Vh.stopRefetch(e)),t&&(t.cleanupTimeout=void 0)},3e4))}static cancelCleanup(e){const t=Vh.connectionTrackers.get(e);null!=t&&t.cleanupTimeout&&(clearTimeout(t.cleanupTimeout),t.cleanupTimeout=void 0)}notifyConnected(){const e=this.serverUrl.hostname;let t=Vh.connectionTrackers.get(e);t||(t={connectionCount:0},Vh.connectionTrackers.set(e,t)),t.connectionCount++,Vh.cancelCleanup(e)}notifyDisconnected(){const e=this.serverUrl.hostname,t=Vh.connectionTrackers.get(e);t&&(t.connectionCount=Math.max(0,t.connectionCount-1),0===t.connectionCount&&Vh.scheduleCleanup(e))}constructor(e,t){this.attemptedRegions=[],this.serverUrl=new URL(e),this.token=t}updateToken(e){this.token=e}isCloud(){return Ed(this.serverUrl)}getServerUrl(){return this.serverUrl}fetchRegionSettings(e){return oc(this,void 0,void 0,function*(){return Vh.fetchRegionSettings(this.serverUrl,this.token,e)})}getNextBestRegionUrl(e){return oc(this,void 0,void 0,function*(){if(!this.isCloud())throw Error("region availability is only supported for LiveKit Cloud domains");let t=Vh.cache.get(this.serverUrl.hostname);(!t||Date.now()-t.updatedAtInMs>t.maxAgeInMs)&&(t=yield this.fetchRegionSettings(e),Vh.updateCachedRegionSettings(this.serverUrl,this.token,t));const n=t.regionSettings.regions.filter(e=>!this.attemptedRegions.find(t=>t.url===e.url));if(n.length>0){const e=n[0];return this.attemptedRegions.push(e),ec.debug("next region: ".concat(e.region)),e.url}return null})}resetAttempts(){this.attemptedRegions=[]}setServerReportedRegions(e){Vh.updateCachedRegionSettings(this.serverUrl,this.token,e)}}Vh.cache=new Map,Vh.settingsTimeouts=new Map,Vh.connectionTrackers=new Map,Vh.fetchLock=new co;class Yh extends Error{constructor(e,t,n){super(t),this.code=e,this.message=Kh(t,Yh.MAX_MESSAGE_BYTES),this.data=n?Kh(n,Yh.MAX_DATA_BYTES):void 0}static fromProto(e){return new Yh(e.code,e.message,e.data)}toProto(){return new Fs({code:this.code,message:this.message,data:this.data})}static builtIn(e,t){return new Yh(Yh.ErrorCode[e],Yh.ErrorMessage[e],t)}}function Hh(e){return(new TextEncoder).encode(e).length}function Kh(e,t){if(Hh(e)<=t)return e;let n=0,i=e.length;const r=new TextEncoder;for(;n<i;){const o=Math.floor((n+i+1)/2);r.encode(e.slice(0,o)).length<=t?n=o:i=o-1}return e.slice(0,n)}Yh.MAX_MESSAGE_BYTES=256,Yh.MAX_DATA_BYTES=15360,Yh.ErrorCode={APPLICATION_ERROR:1500,CONNECTION_TIMEOUT:1501,RESPONSE_TIMEOUT:1502,RECIPIENT_DISCONNECTED:1503,RESPONSE_PAYLOAD_TOO_LARGE:1504,SEND_FAILED:1505,UNSUPPORTED_METHOD:1400,RECIPIENT_NOT_FOUND:1401,REQUEST_PAYLOAD_TOO_LARGE:1402,UNSUPPORTED_SERVER:1403,UNSUPPORTED_VERSION:1404},Yh.ErrorMessage={APPLICATION_ERROR:"Application error in method handler",CONNECTION_TIMEOUT:"Connection timeout",RESPONSE_TIMEOUT:"Response timeout",RECIPIENT_DISCONNECTED:"Recipient disconnected",RESPONSE_PAYLOAD_TOO_LARGE:"Response payload too large",SEND_FAILED:"Failed to send",UNSUPPORTED_METHOD:"Method not supported at destination",RECIPIENT_NOT_FOUND:"Recipient not found",REQUEST_PAYLOAD_TOO_LARGE:"Request payload too large",UNSUPPORTED_SERVER:"RPC not supported by server",UNSUPPORTED_VERSION:"Unsupported RPC version"};const Jh=2e3;function ep(e,t){if(!t)return 0;let n,i;return"bytesReceived"in e?(n=e.bytesReceived,i=t.bytesReceived):"bytesSent"in e&&(n=e.bytesSent,i=t.bytesSent),void 0===n||void 0===i||void 0===e.timestamp||void 0===t.timestamp?0:8*(n-i)*1e3/(e.timestamp-t.timestamp)}const tp=typeof MediaRecorder<"u",np=tp?MediaRecorder:class{constructor(){throw new Error("MediaRecorder is not available in this environment")}};class ip extends np{constructor(e,t){if(!tp)throw new Error("MediaRecorder is not available in this environment");let n,i;super(new MediaStream([e.mediaStreamTrack]),t);const r=()=>{this.removeEventListener("dataavailable",n),this.removeEventListener("stop",r),this.removeEventListener("error",o),null==i||i.close(),i=void 0},o=e=>{null==i||i.error(e),this.removeEventListener("dataavailable",n),this.removeEventListener("stop",r),this.removeEventListener("error",o),i=void 0};this.byteStream=new ReadableStream({start:e=>{i=e,n=t=>oc(this,void 0,void 0,function*(){let n;if(t.data.arrayBuffer){const e=yield t.data.arrayBuffer();n=new Uint8Array(e)}else{if(!t.data.byteArray)throw new Error("no data available!");n=t.data.byteArray}void 0===i||e.enqueue(n)}),this.addEventListener("dataavailable",n)},cancel:()=>{r()}}),this.addEventListener("stop",r),this.addEventListener("error",o)}}class rp extends Vl{get sender(){return this._sender}set sender(e){this._sender=e}get constraints(){return this._constraints}get hasPreConnectBuffer(){return!!this.localTrackRecorder}constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];super(e,t,arguments.length>4?arguments[4]:void 0),this.manuallyStopped=!1,this._isUpstreamPaused=!1,this.handleTrackMuteEvent=()=>this.debouncedTrackMuteHandler().catch(()=>this.log.debug("track mute bounce got cancelled by an unmute event",this.logContext)),this.debouncedTrackMuteHandler=Rh(()=>oc(this,void 0,void 0,function*(){yield this.pauseUpstream()}),5e3),this.handleTrackUnmuteEvent=()=>oc(this,void 0,void 0,function*(){this.debouncedTrackMuteHandler.cancel("unmute"),yield this.resumeUpstream()}),this.handleEnded=()=>{this.isInBackground&&(this.reacquireTrack=!0),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),this.emit(Sl.Ended,this)},this.reacquireTrack=!1,this.providedByUser=i,this.muteLock=new co,this.pauseUpstreamLock=new co,this.trackChangeLock=new co,this.trackChangeLock.lock().then(t=>oc(this,void 0,void 0,function*(){try{yield this.setMediaStreamTrack(e,!0)}finally{t()}})),this._constraints=e.getConstraints(),n&&(this._constraints=n)}get id(){return this._mediaStreamTrack.id}get dimensions(){if(this.kind!==Vl.Kind.Video)return;const{width:e,height:t}=this._mediaStreamTrack.getSettings();return e&&t?{width:e,height:t}:void 0}get isUpstreamPaused(){return this._isUpstreamPaused}get isUserProvided(){return this.providedByUser}get mediaStreamTrack(){var e,t;return null!==(t=null===(e=this.processor)||void 0===e?void 0:e.processedTrack)&&void 0!==t?t:this._mediaStreamTrack}get isLocal(){return!0}getSourceTrackSettings(){return this._mediaStreamTrack.getSettings()}setMediaStreamTrack(e,t){return oc(this,void 0,void 0,function*(){var n;if(e===this._mediaStreamTrack&&!t)return;let i;if(this._mediaStreamTrack&&(this.attachedElements.forEach(e=>{Hl(this._mediaStreamTrack,e)}),this.debouncedTrackMuteHandler.cancel("new-track"),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent)),this.mediaStream=new MediaStream([e]),e&&(e.addEventListener("ended",this.handleEnded),e.addEventListener("mute",this.handleTrackMuteEvent),e.addEventListener("unmute",this.handleTrackUnmuteEvent),this._constraints=e.getConstraints()),this.processor&&e){if(this.log.debug("restarting processor",this.logContext),"unknown"===this.kind)throw TypeError("cannot set processor on track of unknown kind");this.processorElement&&(Yl(e,this.processorElement),this.processorElement.muted=!0),yield this.processor.restart({track:e,kind:this.kind,element:this.processorElement}),i=this.processor.processedTrack}this.sender&&"closed"!==(null===(n=this.sender.transport)||void 0===n?void 0:n.state)&&(yield this.sender.replaceTrack(null!=i?i:e)),!this.providedByUser&&this._mediaStreamTrack!==e&&this._mediaStreamTrack.stop(),this._mediaStreamTrack=e,e&&(this._mediaStreamTrack.enabled=!this.isMuted,yield this.resumeUpstream(),this.attachedElements.forEach(t=>{Yl(null!=i?i:e,t)}))})}waitForDimensions(){return oc(this,arguments,void 0,function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return function*(){var n;if(e.kind===Vl.Kind.Audio)throw new Error("cannot get dimensions for audio tracks");"iOS"===(null===(n=ql())||void 0===n?void 0:n.os)&&(yield ud(10));const i=Date.now();for(;Date.now()-i<t;){const t=e.dimensions;if(t)return t;yield ud(50)}throw new Pl("unable to get track dimensions after timeout")}()})}setDeviceId(e){return oc(this,void 0,void 0,function*(){return!!(this._constraints.deviceId===e&&this._mediaStreamTrack.getSettings().deviceId===Nd(e)||(this._constraints.deviceId=e,this.isMuted))||(yield this.restartTrack(),Nd(e)===this._mediaStreamTrack.getSettings().deviceId)})}getDeviceId(){return oc(this,arguments,void 0,function(){var e=this;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function*(){if(e.source===Vl.Source.ScreenShare)return;const{deviceId:n,groupId:i}=e._mediaStreamTrack.getSettings(),r=e.kind===Vl.Kind.Audio?"audioinput":"videoinput";return t?ch.getInstance().normalizeDeviceId(r,n,i):n}()})}mute(){return oc(this,void 0,void 0,function*(){return this.setTrackMuted(!0),this})}unmute(){return oc(this,void 0,void 0,function*(){return this.setTrackMuted(!1),this})}replaceTrack(e,t){return oc(this,void 0,void 0,function*(){const n=yield this.trackChangeLock.lock();try{if(!this.sender)throw new Pl("unable to replace an unpublished track");let n,i;return"boolean"==typeof t?n=t:void 0!==t&&(n=t.userProvidedTrack,i=t.stopProcessor),this.providedByUser=null==n||n,this.log.debug("replace MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(e),i&&this.processor&&(yield this.internalStopProcessor()),this}finally{n()}})}restart(e){return oc(this,void 0,void 0,function*(){this.manuallyStopped=!1;const t=yield this.trackChangeLock.lock();try{e||(e=this._constraints);const{deviceId:t,facingMode:n}=e,i=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["deviceId","facingMode"]);this.log.debug("restarting track with constraints",Object.assign(Object.assign({},this.logContext),{constraints:e}));const r={audio:!1,video:!1};this.kind===Vl.Kind.Video?r.video=!t&&!n||{deviceId:t,facingMode:n}:r.audio=!t||Object.assign({deviceId:t},i),this.attachedElements.forEach(e=>{Hl(this.mediaStreamTrack,e)}),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.stop();const o=(yield navigator.mediaDevices.getUserMedia(r)).getTracks()[0];return this.kind===Vl.Kind.Video&&(yield o.applyConstraints(i)),o.addEventListener("ended",this.handleEnded),this.log.debug("re-acquired MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(o),this._constraints=e,this.emit(Sl.Restarted,this),this.manuallyStopped&&(this.log.warn("track was stopped during a restart, stopping restarted track",this.logContext),this.stop()),this}finally{t()}})}setTrackMuted(e){this.log.debug("setting ".concat(this.kind," track ").concat(e?"muted":"unmuted"),this.logContext),(this.isMuted!==e||this._mediaStreamTrack.enabled===e)&&(this.isMuted=e,this._mediaStreamTrack.enabled=!e,this.emit(e?Sl.Muted:Sl.Unmuted,this))}get needsReAcquisition(){return"live"!==this._mediaStreamTrack.readyState||this._mediaStreamTrack.muted||!this._mediaStreamTrack.enabled||this.reacquireTrack}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return oc(this,void 0,void 0,function*(){yield e.handleAppVisibilityChanged.call(this),gd()&&(this.log.debug("visibility changed, is in Background: ".concat(this.isInBackground),this.logContext),!this.isInBackground&&this.needsReAcquisition&&!this.isUserProvided&&!this.isMuted&&(this.log.debug("track needs to be reacquired, restarting ".concat(this.source),this.logContext),yield this.restart(),this.reacquireTrack=!1))})}stop(){var e;this.manuallyStopped=!0,super.stop(),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),null===(e=this.processor)||void 0===e||e.destroy(),this.processor=void 0}pauseUpstream(){return oc(this,void 0,void 0,function*(){var e;const t=yield this.pauseUpstreamLock.lock();try{if(!0===this._isUpstreamPaused)return;if(!this.sender)return void this.log.warn("unable to pause upstream for an unpublished track",this.logContext);this._isUpstreamPaused=!0,this.emit(Sl.UpstreamPaused,this);const t=ql();if("Safari"===(null==t?void 0:t.name)&&Td(t.version,"12.0")<0)throw new xl("pauseUpstream is not supported on Safari < 12.");"closed"!==(null===(e=this.sender.transport)||void 0===e?void 0:e.state)&&(yield this.sender.replaceTrack(null))}finally{t()}})}resumeUpstream(){return oc(this,void 0,void 0,function*(){var e;const t=yield this.pauseUpstreamLock.lock();try{if(!1===this._isUpstreamPaused)return;if(!this.sender)return void this.log.warn("unable to resume upstream for an unpublished track",this.logContext);this._isUpstreamPaused=!1,this.emit(Sl.UpstreamResumed,this),"closed"!==(null===(e=this.sender.transport)||void 0===e?void 0:e.state)&&(yield this.sender.replaceTrack(this.mediaStreamTrack))}finally{t()}})}getRTCStatsReport(){return oc(this,void 0,void 0,function*(){var e;return null!==(e=this.sender)&&void 0!==e&&e.getStats?yield this.sender.getStats():void 0})}setProcessor(e){return oc(this,arguments,void 0,function(e){var t=this;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function*(){var i;const r=yield t.trackChangeLock.lock();try{t.log.debug("setting up processor",t.logContext);const r=document.createElement(t.kind),o={kind:t.kind,track:t._mediaStreamTrack,element:r,audioContext:t.audioContext};if(yield e.init(o),t.log.debug("processor initialized",t.logContext),t.processor&&(yield t.internalStopProcessor()),"unknown"===t.kind)throw TypeError("cannot set processor on track of unknown kind");if(Yl(t._mediaStreamTrack,r),r.muted=!0,r.play().catch(e=>{e instanceof DOMException&&"AbortError"===e.name?(t.log.warn("failed to play processor element, retrying",Object.assign(Object.assign({},t.logContext),{error:e})),setTimeout(()=>{r.play().catch(e=>{t.log.error("failed to play processor element",Object.assign(Object.assign({},t.logContext),{err:e}))})},100)):t.log.error("failed to play processor element",Object.assign(Object.assign({},t.logContext),{error:e}))}),t.processor=e,t.processorElement=r,t.processor.processedTrack){for(const e of t.attachedElements)e!==t.processorElement&&n&&(Hl(t._mediaStreamTrack,e),Yl(t.processor.processedTrack,e));yield null===(i=t.sender)||void 0===i?void 0:i.replaceTrack(t.processor.processedTrack)}t.emit(Sl.TrackProcessorUpdate,t.processor)}finally{r()}}()})}getProcessor(){return this.processor}stopProcessor(){return oc(this,arguments,void 0,function(){var e=this;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function*(){const n=yield e.trackChangeLock.lock();try{yield e.internalStopProcessor(t)}finally{n()}}()})}internalStopProcessor(){return oc(this,arguments,void 0,function(){var e=this;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function*(){var n,i;e.processor&&(e.log.debug("stopping processor",e.logContext),null===(n=e.processor.processedTrack)||void 0===n||n.stop(),yield e.processor.destroy(),e.processor=void 0,t||(null===(i=e.processorElement)||void 0===i||i.remove(),e.processorElement=void 0),yield e._mediaStreamTrack.applyConstraints(e._constraints),yield e.setMediaStreamTrack(e._mediaStreamTrack,!0),e.emit(Sl.TrackProcessorUpdate))}()})}startPreConnectBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;if(tp)if(this.localTrackRecorder)this.log.warn("preconnect buffer already started");else{{let e="audio/webm;codecs=opus";MediaRecorder.isTypeSupported(e)||(e="video/mp4"),this.localTrackRecorder=new ip(this,{mimeType:e})}this.localTrackRecorder.start(e),this.autoStopPreConnectBuffer=setTimeout(()=>{this.log.warn("preconnect buffer timed out, stopping recording automatically",this.logContext),this.stopPreConnectBuffer()},1e4)}else this.log.warn("MediaRecorder is not available, cannot start preconnect buffer",this.logContext)}stopPreConnectBuffer(){clearTimeout(this.autoStopPreConnectBuffer),this.localTrackRecorder&&(this.localTrackRecorder.stop(),this.localTrackRecorder=void 0)}getPreConnectBuffer(){var e;return null===(e=this.localTrackRecorder)||void 0===e?void 0:e.byteStream}getPreConnectBufferMimeType(){var e;return null===(e=this.localTrackRecorder)||void 0===e?void 0:e.mimeType}}class op extends rp{get enhancedNoiseCancellation(){return this.isKrispNoiseFilterEnabled}constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;super(e,Vl.Kind.Audio,t,n,r),this.stopOnMute=!1,this.isKrispNoiseFilterEnabled=!1,this.monitorSender=()=>oc(this,void 0,void 0,function*(){if(!this.sender)return void(this._currentBitrate=0);let e;try{e=yield this.getSenderStats()}catch(e){return void this.log.error("could not get audio sender stats",Object.assign(Object.assign({},this.logContext),{error:e}))}e&&this.prevStats&&(this._currentBitrate=ep(e,this.prevStats)),this.prevStats=e}),this.handleKrispNoiseFilterEnable=()=>{this.isKrispNoiseFilterEnabled=!0,this.log.debug("Krisp noise filter enabled",this.logContext),this.emit(Sl.AudioTrackFeatureUpdate,this,ns.TF_ENHANCED_NOISE_CANCELLATION,!0)},this.handleKrispNoiseFilterDisable=()=>{this.isKrispNoiseFilterEnabled=!1,this.log.debug("Krisp noise filter disabled",this.logContext),this.emit(Sl.AudioTrackFeatureUpdate,this,ns.TF_ENHANCED_NOISE_CANCELLATION,!1)},this.audioContext=i,this.checkForSilence()}mute(){const e=Object.create(null,{mute:{get:()=>super.mute}});return oc(this,void 0,void 0,function*(){const t=yield this.muteLock.lock();try{return this.isMuted?(this.log.debug("Track already muted",this.logContext),this):(this.source===Vl.Source.Microphone&&this.stopOnMute&&!this.isUserProvided&&(this.log.debug("stopping mic track",this.logContext),this._mediaStreamTrack.stop()),yield e.mute.call(this),this)}finally{t()}})}unmute(){const e=Object.create(null,{unmute:{get:()=>super.unmute}});return oc(this,void 0,void 0,function*(){const t=yield this.muteLock.lock();try{if(!this.isMuted)return this.log.debug("Track already unmuted",this.logContext),this;const t=this._constraints.deviceId&&this._mediaStreamTrack.getSettings().deviceId!==Nd(this._constraints.deviceId);return this.source===Vl.Source.Microphone&&(this.stopOnMute||"ended"===this._mediaStreamTrack.readyState||t)&&!this.isUserProvided&&(this.log.debug("reacquiring mic track",this.logContext),yield this.restartTrack()),yield e.unmute.call(this),this}finally{t()}})}restartTrack(e){return oc(this,void 0,void 0,function*(){let t;if(e){const n=Hd({audio:e});"boolean"!=typeof n.audio&&(t=n.audio)}yield this.restart(t)})}restart(e){const t=Object.create(null,{restart:{get:()=>super.restart}});return oc(this,void 0,void 0,function*(){const n=yield t.restart.call(this,e);return this.checkForSilence(),n})}startMonitor(){Dd()&&(this.monitorInterval||(this.monitorInterval=setInterval(()=>{this.monitorSender()},Jh)))}setProcessor(e){return oc(this,void 0,void 0,function*(){var t;const n=yield this.trackChangeLock.lock();try{if(!vd()&&!this.audioContext)throw Error("Audio context needs to be set on LocalAudioTrack in order to enable processors");this.processor&&(yield this.internalStopProcessor());const n={kind:this.kind,track:this._mediaStreamTrack,audioContext:this.audioContext};this.log.debug("setting up audio processor ".concat(e.name),this.logContext),yield e.init(n),this.processor=e,this.processor.processedTrack&&(yield null===(t=this.sender)||void 0===t?void 0:t.replaceTrack(this.processor.processedTrack),this.processor.processedTrack.addEventListener("enable-lk-krisp-noise-filter",this.handleKrispNoiseFilterEnable),this.processor.processedTrack.addEventListener("disable-lk-krisp-noise-filter",this.handleKrispNoiseFilterDisable)),this.emit(Sl.TrackProcessorUpdate,this.processor)}finally{n()}})}setAudioContext(e){this.audioContext=e}getSenderStats(){return oc(this,void 0,void 0,function*(){var e;if(null===(e=this.sender)||void 0===e||!e.getStats)return;let t;return(yield this.sender.getStats()).forEach(e=>{"outbound-rtp"===e.type&&(t={type:"audio",streamId:e.id,packetsSent:e.packetsSent,packetsLost:e.packetsLost,bytesSent:e.bytesSent,timestamp:e.timestamp,roundTripTime:e.roundTripTime,jitter:e.jitter})}),t})}checkForSilence(){return oc(this,void 0,void 0,function*(){const e=yield function(e){return oc(this,arguments,void 0,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return function*(){const n=Kd();if(n){const i=n.createAnalyser();i.fftSize=2048;const r=i.frequencyBinCount,o=new Uint8Array(r);n.createMediaStreamSource(new MediaStream([e.mediaStreamTrack])).connect(i),yield ud(t),i.getByteTimeDomainData(o);const a=o.some(e=>128!==e&&0!==e);return n.close(),!a}return!1}()})}(this);return e&&(this.isMuted||this.log.debug("silence detected on local audio track",this.logContext),this.emit(Sl.AudioSilenceDetected)),e})}}const ap=Object.values(rd),sp=Object.values(od),up=Object.values(ad),cp=[rd.h180,rd.h360],lp=[od.h180,od.h360],dp=["q","h","f"];function hp(e,t,n,i){var r,o;let a=null==i?void 0:i.videoEncoding;e&&(a=null==i?void 0:i.screenShareEncoding);const s=null==i?void 0:i.simulcast,u=null==i?void 0:i.scalabilityMode,c=null==i?void 0:i.videoCodec;if(!a&&!s&&!u||!t||!n)return[{}];a||(a=function(e,t,n,i){const r=function(e,t,n){if(e)return up;const i=t>n?t/n:n/t;return Math.abs(i-16/9)<Math.abs(i-4/3)?ap:sp}(e,t,n);let{encoding:o}=r[0];const a=Math.max(t,n);for(let e=0;e<r.length;e+=1){const t=r[e];if(o=t.encoding,t.width>=a)break}if(i)switch(i){case"av1":case"h265":o=Object.assign({},o),o.maxBitrate=.7*o.maxBitrate;break;case"vp9":o=Object.assign({},o),o.maxBitrate=.85*o.maxBitrate}return o}(e,t,n,c),ec.debug("using video encoding",a));const l=a.maxFramerate,d=new Kl(t,n,a.maxBitrate,a.maxFramerate,a.priority);if(u&&dd(c)){const e=new Op(u),t=[];if(e.spatial>3)throw new Error("unsupported scalabilityMode: ".concat(u));const n=ql();if(Od()||vd()||"Chrome"===(null==n?void 0:n.name)&&Td(null==n?void 0:n.version,"113")<0){const i="h"==e.suffix?2:3,r=function(e){return e||(e=ql()),"Safari"===(null==e?void 0:e.name)&&Td(e.version,"18.3")>0||"iOS"===(null==e?void 0:e.os)&&!(null==e||!e.osVersion)&&Td(e.osVersion,"18.3")>0}(n);for(let n=0;n<e.spatial;n+=1)t.push({rid:dp[2-n],maxBitrate:a.maxBitrate/Math.pow(i,n),maxFramerate:d.encoding.maxFramerate,scaleResolutionDownBy:r?Math.pow(2,n):void 0});t[0].scalabilityMode=u}else t.push({maxBitrate:a.maxBitrate,maxFramerate:d.encoding.maxFramerate,scalabilityMode:u});return d.encoding.priority&&(t[0].priority=d.encoding.priority,t[0].networkPriority=d.encoding.priority),ec.debug("using svc encoding",{encodings:t}),t}if(!s)return[a];let h,p=[];if(p=e?null!==(r=mp(null==i?void 0:i.screenShareSimulcastLayers))&&void 0!==r?r:pp(e,d):null!==(o=mp(null==i?void 0:i.videoSimulcastLayers))&&void 0!==o?o:pp(e,d),p.length>0){const e=p[0];p.length>1&&([,h]=p);const i=Math.max(t,n);if(i>=960&&h)return fp(t,n,[e,h,d],l);if(i>=480)return fp(t,n,[e,d],l)}return fp(t,n,[d])}function pp(e,t){if(e)return(e=>[{scaleResolutionDownBy:2,fps:e.encoding.maxFramerate}].map(t=>{var n,i;return new Kl(Math.floor(e.width/t.scaleResolutionDownBy),Math.floor(e.height/t.scaleResolutionDownBy),Math.max(15e4,Math.floor(e.encoding.maxBitrate/(Math.pow(t.scaleResolutionDownBy,2)*((null!==(n=e.encoding.maxFramerate)&&void 0!==n?n:30)/(null!==(i=t.fps)&&void 0!==i?i:30))))),t.fps,e.encoding.priority)}))(t);const{width:n,height:i}=t,r=n>i?n/i:i/n;return Math.abs(r-16/9)<Math.abs(r-4/3)?cp:lp}function fp(e,t,n,i){const r=[];if(n.forEach((n,o)=>{if(o>=dp.length)return;const a=Math.min(e,t),s={rid:dp[o],scaleResolutionDownBy:Math.max(1,a/Math.min(n.width,n.height)),maxBitrate:n.encoding.maxBitrate},u=i&&n.encoding.maxFramerate?Math.min(i,n.encoding.maxFramerate):n.encoding.maxFramerate;u&&(s.maxFramerate=u);const c=pd()||0===o;n.encoding.priority&&c&&(s.priority=n.encoding.priority,s.networkPriority=n.encoding.priority),r.push(s)}),vd()&&"ios"===kd()){let e;r.forEach(t=>{e?t.maxFramerate&&t.maxFramerate>e&&(e=t.maxFramerate):e=t.maxFramerate});let t=!0;r.forEach(n=>{var i;n.maxFramerate!=e&&(t&&(t=!1,ec.info("Simulcast on iOS React-Native requires all encodings to share the same framerate.")),ec.info('Setting framerate of encoding "'.concat(null!==(i=n.rid)&&void 0!==i?i:"",'" to ').concat(e)),n.maxFramerate=e)})}return r}function mp(e){if(e)return e.sort((e,t)=>{const{encoding:n}=e,{encoding:i}=t;return n.maxBitrate>i.maxBitrate?1:n.maxBitrate<i.maxBitrate?-1:n.maxBitrate===i.maxBitrate&&n.maxFramerate&&i.maxFramerate?n.maxFramerate>i.maxFramerate?1:-1:0})}class Op{constructor(e){const t=e.match(/^L(\d)T(\d)(h|_KEY|_KEY_SHIFT){0,1}$/);if(!t)throw new Error("invalid scalability mode");if(this.spatial=parseInt(t[1]),this.temporal=parseInt(t[2]),t.length>3)switch(t[3]){case"h":case"_KEY":case"_KEY_SHIFT":this.suffix=t[3]}}toString(){var e;return"L".concat(this.spatial,"T").concat(this.temporal).concat(null!==(e=this.suffix)&&void 0!==e?e:"")}}class gp extends rp{get sender(){return this._sender}set sender(e){this._sender=e,this.degradationPreference&&this.setDegradationPreference(this.degradationPreference)}constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3?arguments[3]:void 0;super(e,Vl.Kind.Video,t,n,i),this.simulcastCodecs=new Map,this.degradationPreference="balanced",this.isCpuConstrained=!1,this.optimizeForPerformance=!1,this.monitorSender=()=>oc(this,void 0,void 0,function*(){if(!this.sender)return void(this._currentBitrate=0);let e;try{e=yield this.getSenderStats()}catch(e){return void this.log.error("could not get video sender stats",Object.assign(Object.assign({},this.logContext),{error:e}))}const t=new Map(e.map(e=>[e.rid,e])),n=e.some(e=>"cpu"===e.qualityLimitationReason);if(n!==this.isCpuConstrained&&(this.isCpuConstrained=n,this.isCpuConstrained&&this.emit(Sl.CpuConstrained)),this.prevStats){let e=0;t.forEach((t,n)=>{var i;const r=null===(i=this.prevStats)||void 0===i?void 0:i.get(n);e+=ep(t,r)}),this._currentBitrate=e}this.prevStats=t}),this.senderLock=new co}get isSimulcast(){return!!(this.sender&&this.sender.getParameters().encodings.length>1)}startMonitor(e){var t;if(this.signalClient=e,!Dd())return;const n=null===(t=this.sender)||void 0===t?void 0:t.getParameters();n&&(this.encodings=n.encodings),!this.monitorInterval&&(this.monitorInterval=setInterval(()=>{this.monitorSender()},Jh))}stop(){this._mediaStreamTrack.getConstraints(),this.simulcastCodecs.forEach(e=>{e.mediaStreamTrack.stop()}),super.stop()}pauseUpstream(){const e=Object.create(null,{pauseUpstream:{get:()=>super.pauseUpstream}});return oc(this,void 0,void 0,function*(){var t,n,i,r,o;yield e.pauseUpstream.call(this);try{for(var a,s=!0,u=ac(this.simulcastCodecs.values());!(t=(a=yield u.next()).done);s=!0)r=a.value,s=!1,yield null===(o=r.sender)||void 0===o?void 0:o.replaceTrack(null)}catch(e){n={error:e}}finally{try{!s&&!t&&(i=u.return)&&(yield i.call(u))}finally{if(n)throw n.error}}})}resumeUpstream(){const e=Object.create(null,{resumeUpstream:{get:()=>super.resumeUpstream}});return oc(this,void 0,void 0,function*(){var t,n,i,r,o;yield e.resumeUpstream.call(this);try{for(var a,s=!0,u=ac(this.simulcastCodecs.values());!(t=(a=yield u.next()).done);s=!0){r=a.value,s=!1;const e=r;yield null===(o=e.sender)||void 0===o?void 0:o.replaceTrack(e.mediaStreamTrack)}}catch(e){n={error:e}}finally{try{!s&&!t&&(i=u.return)&&(yield i.call(u))}finally{if(n)throw n.error}}})}mute(){const e=Object.create(null,{mute:{get:()=>super.mute}});return oc(this,void 0,void 0,function*(){const t=yield this.muteLock.lock();try{return this.isMuted?(this.log.debug("Track already muted",this.logContext),this):(this.source===Vl.Source.Camera&&!this.isUserProvided&&(this.log.debug("stopping camera track",this.logContext),this._mediaStreamTrack.stop()),yield e.mute.call(this),this)}finally{t()}})}unmute(){const e=Object.create(null,{unmute:{get:()=>super.unmute}});return oc(this,void 0,void 0,function*(){const t=yield this.muteLock.lock();try{return this.isMuted?(this.source===Vl.Source.Camera&&!this.isUserProvided&&(this.log.debug("reacquiring camera track",this.logContext),yield this.restartTrack()),yield e.unmute.call(this),this):(this.log.debug("Track already unmuted",this.logContext),this)}finally{t()}})}setTrackMuted(e){super.setTrackMuted(e);for(const t of this.simulcastCodecs.values())t.mediaStreamTrack.enabled=!e}getSenderStats(){return oc(this,void 0,void 0,function*(){var e;if(null===(e=this.sender)||void 0===e||!e.getStats)return[];const t=[],n=yield this.sender.getStats();return n.forEach(e=>{var i;if("outbound-rtp"===e.type){const r={type:"video",streamId:e.id,frameHeight:e.frameHeight,frameWidth:e.frameWidth,framesPerSecond:e.framesPerSecond,framesSent:e.framesSent,firCount:e.firCount,pliCount:e.pliCount,nackCount:e.nackCount,packetsSent:e.packetsSent,bytesSent:e.bytesSent,qualityLimitationReason:e.qualityLimitationReason,qualityLimitationDurations:e.qualityLimitationDurations,qualityLimitationResolutionChanges:e.qualityLimitationResolutionChanges,rid:null!==(i=e.rid)&&void 0!==i?i:e.id,retransmittedPacketsSent:e.retransmittedPacketsSent,targetBitrate:e.targetBitrate,timestamp:e.timestamp},o=n.get(e.remoteId);o&&(r.jitter=o.jitter,r.packetsLost=o.packetsLost,r.roundTripTime=o.roundTripTime),t.push(r)}}),t.sort((e,t)=>{var n,i;return(null!==(n=t.frameWidth)&&void 0!==n?n:0)-(null!==(i=e.frameWidth)&&void 0!==i?i:0)}),t})}setPublishingQuality(e){const t=[];for(let n=Gl.LOW;n<=Gl.HIGH;n+=1)t.push(new bu({quality:n,enabled:n<=e}));this.log.debug("setting publishing quality. max quality ".concat(e),this.logContext),this.setPublishingLayers(dd(this.codec),t)}restartTrack(e){return oc(this,void 0,void 0,function*(){var t,n,i,r,o;let a;if(e){const t=Hd({video:e});"boolean"!=typeof t.video&&(a=t.video)}yield this.restart(a),this.isCpuConstrained=!1;try{for(var s,u=!0,c=ac(this.simulcastCodecs.values());!(t=(s=yield c.next()).done);u=!0){r=s.value,u=!1;const e=r;e.sender&&"closed"!==(null===(o=e.sender.transport)||void 0===o?void 0:o.state)&&(e.mediaStreamTrack=this.mediaStreamTrack.clone(),yield e.sender.replaceTrack(e.mediaStreamTrack))}}catch(e){n={error:e}}finally{try{!u&&!t&&(i=c.return)&&(yield i.call(c))}finally{if(n)throw n.error}}})}setProcessor(e){const t=Object.create(null,{setProcessor:{get:()=>super.setProcessor}});return oc(this,arguments,void 0,function(e){var n=this;let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function*(){var r,o,a,s,u,c;if(yield t.setProcessor.call(n,e,i),null!==(u=n.processor)&&void 0!==u&&u.processedTrack)try{for(var l,d=!0,h=ac(n.simulcastCodecs.values());!(r=(l=yield h.next()).done);d=!0)s=l.value,d=!1,yield null===(c=s.sender)||void 0===c?void 0:c.replaceTrack(n.processor.processedTrack)}catch(e){o={error:e}}finally{try{!d&&!r&&(a=h.return)&&(yield a.call(h))}finally{if(o)throw o.error}}}()})}setDegradationPreference(e){return oc(this,void 0,void 0,function*(){if(this.degradationPreference=e,this.sender)try{this.log.debug("setting degradationPreference to ".concat(e),this.logContext);const t=this.sender.getParameters();t.degradationPreference=e,this.sender.setParameters(t)}catch(e){this.log.warn("failed to set degradationPreference",Object.assign({error:e},this.logContext))}})}addSimulcastTrack(e,t){if(this.simulcastCodecs.has(e))return void this.log.error("".concat(e," already added, skipping adding simulcast codec"),this.logContext);const n={codec:e,mediaStreamTrack:this.mediaStreamTrack.clone(),sender:void 0,encodings:t};return this.simulcastCodecs.set(e,n),n}setSimulcastTrackSender(e,t){const n=this.simulcastCodecs.get(e);n&&(n.sender=t,setTimeout(()=>{this.subscribedCodecs&&this.setPublishingCodecs(this.subscribedCodecs)},5e3))}setPublishingCodecs(e){return oc(this,void 0,void 0,function*(){var t,n,i,r,o,a,s;if(this.log.debug("setting publishing codecs",Object.assign(Object.assign({},this.logContext),{codecs:e,currentCodec:this.codec})),!this.codec&&e.length>0)return yield this.setPublishingLayers(dd(e[0].codec),e[0].qualities),[];this.subscribedCodecs=e;const u=[];try{for(t=!0,n=ac(e);!(r=(i=yield n.next()).done);t=!0){s=i.value,t=!1;const e=s;if(this.codec&&this.codec!==e.codec){const t=this.simulcastCodecs.get(e.codec);if(this.log.debug("try setPublishingCodec for ".concat(e.codec),Object.assign(Object.assign({},this.logContext),{simulcastCodecInfo:t})),t&&t.sender)t.encodings&&(this.log.debug("try setPublishingLayersForSender ".concat(e.codec),this.logContext),yield Dp(t.sender,t.encodings,e.qualities,this.senderLock,dd(e.codec),this.log,this.logContext));else for(const t of e.qualities)if(t.enabled){u.push(e.codec);break}}else yield this.setPublishingLayers(dd(e.codec),e.qualities)}}catch(e){o={error:e}}finally{try{!t&&!r&&(a=n.return)&&(yield a.call(n))}finally{if(o)throw o.error}}return u})}setPublishingLayers(e,t){return oc(this,void 0,void 0,function*(){this.optimizeForPerformance?this.log.info("skipping setPublishingLayers due to optimized publishing performance",Object.assign(Object.assign({},this.logContext),{qualities:t})):(this.log.debug("setting publishing layers",Object.assign(Object.assign({},this.logContext),{qualities:t})),this.sender&&this.encodings&&(yield Dp(this.sender,this.encodings,t,this.senderLock,e,this.log,this.logContext)))})}prioritizePerformance(){return oc(this,void 0,void 0,function*(){if(!this.sender)throw new Error("sender not found");const e=yield this.senderLock.lock();try{this.optimizeForPerformance=!0;const e=this.sender.getParameters();e.encodings=e.encodings.map((e,t)=>{var n;return Object.assign(Object.assign({},e),{active:0===t,scaleResolutionDownBy:Math.max(1,Math.ceil((null!==(n=this.mediaStreamTrack.getSettings().height)&&void 0!==n?n:360)/360)),scalabilityMode:0===t&&dd(this.codec)?"L1T3":void 0,maxFramerate:0===t?15:0,maxBitrate:0===t?e.maxBitrate:0})}),this.log.debug("setting performance optimised encodings",Object.assign(Object.assign({},this.logContext),{encodings:e.encodings})),this.encodings=e.encodings,yield this.sender.setParameters(e)}catch(e){this.log.error("failed to set performance optimised encodings",Object.assign(Object.assign({},this.logContext),{error:e})),this.optimizeForPerformance=!1}finally{e()}})}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return oc(this,void 0,void 0,function*(){yield e.handleAppVisibilityChanged.call(this),gd()&&this.isInBackground&&this.source===Vl.Source.Camera&&(this._mediaStreamTrack.enabled=!1)})}}function Dp(e,t,n,i,r,o,a){return oc(this,void 0,void 0,function*(){const s=yield i.lock();o.debug("setPublishingLayersForSender",Object.assign(Object.assign({},a),{sender:e,qualities:n,senderEncodings:t}));try{const i=e.getParameters(),{encodings:s}=i;if(!s)return;if(s.length!==t.length)return void o.warn("cannot set publishing layers, encodings mismatch",Object.assign(Object.assign({},a),{encodings:s,senderEncodings:t}));let u=!1;r&&n.some(e=>e.enabled)&&n.forEach(e=>e.enabled=!0),s.forEach((e,i)=>{var r;let s=null!==(r=e.rid)&&void 0!==r?r:"";""===s&&(s="q");const c=vp(s),l=n.find(e=>e.quality===c);l&&e.active!==l.enabled&&(u=!0,e.active=l.enabled,o.debug("setting layer ".concat(l.quality," to ").concat(e.active?"enabled":"disabled"),a),pd()&&(l.enabled?(e.scaleResolutionDownBy=t[i].scaleResolutionDownBy,e.maxBitrate=t[i].maxBitrate,e.maxFrameRate=t[i].maxFrameRate):(e.scaleResolutionDownBy=4,e.maxBitrate=10,e.maxFrameRate=2)))}),u&&(i.encodings=s,o.debug("setting encodings",Object.assign(Object.assign({},a),{encodings:i.encodings})),yield e.setParameters(i))}finally{s()}})}function vp(e){switch(e){case"f":default:return Gl.HIGH;case"h":return Gl.MEDIUM;case"q":return Gl.LOW}}function Ep(e,t,n,i){if(!n)return[new ps({quality:Gl.HIGH,width:e,height:t,bitrate:0,ssrc:0})];if(i){const i=n[0].scalabilityMode,r=new Op(i),o=[],a="h"==r.suffix?1.5:2,s="h"==r.suffix?2:3;for(let i=0;i<r.spatial;i+=1)o.push(new ps({quality:Math.min(Gl.HIGH,r.spatial-1)-i,width:Math.ceil(e/Math.pow(a,i)),height:Math.ceil(t/Math.pow(a,i)),bitrate:n[0].maxBitrate?Math.ceil(n[0].maxBitrate/Math.pow(s,i)):0,ssrc:0}));return o}return n.map(n=>{var i,r,o;const a=null!==(i=n.scaleResolutionDownBy)&&void 0!==i?i:1;let s=vp(null!==(r=n.rid)&&void 0!==r?r:"");return new ps({quality:s,width:Math.ceil(e/a),height:Math.ceil(t/a),bitrate:null!==(o=n.maxBitrate)&&void 0!==o?o:0,ssrc:0})})}const Cp="_lossy",bp="_reliable",kp="leave-reconnect";var yp,Tp,Ap,Sp;!function(e){e[e.New=0]="New",e[e.Connected=1]="Connected",e[e.Disconnected=2]="Disconnected",e[e.Reconnecting=3]="Reconnecting",e[e.Closed=4]="Closed"}(yp||(yp={}));class _p extends cc.EventEmitter{get isClosed(){return this._isClosed}get pendingReconnect(){return!!this.reconnectTimeout}constructor(e){var t;super(),this.options=e,this.rtcConfig={},this.peerConnectionTimeout=jh.peerConnectionTimeout,this.fullReconnectOnNext=!1,this.latestRemoteOfferId=0,this.subscriberPrimary=!1,this.pcState=yp.New,this._isClosed=!0,this.pendingTrackResolvers={},this.reconnectAttempts=0,this.reconnectStart=0,this.attemptingReconnect=!1,this.joinAttempts=0,this.maxJoinAttempts=1,this.shouldFailNext=!1,this.log=ec,this.reliableDataSequence=1,this.reliableMessageBuffer=new Eh,this.reliableReceivedState=new Ch(3e4),this.midToTrackId={},this.isWaitingForNetworkReconnect=!1,this.handleDataChannel=e=>oc(this,[e],void 0,function(e){var t=this;let{channel:n}=e;return function*(){if(n){if(n.label===bp)t.reliableDCSub=n;else{if(n.label!==Cp)return;t.lossyDCSub=n}t.log.debug("on data channel ".concat(n.id,", ").concat(n.label),t.logContext),n.onmessage=t.handleDataMessage}}()}),this.handleDataMessage=e=>oc(this,void 0,void 0,function*(){var t,n,i,r,o;const a=yield this.dataProcessLock.lock();try{let a;if(e.data instanceof ArrayBuffer)a=e.data;else{if(!(e.data instanceof Blob))return void this.log.error("unsupported data type",Object.assign(Object.assign({},this.logContext),{data:e.data}));a=yield e.data.arrayBuffer()}const s=ms.fromBinary(new Uint8Array(a));if(s.sequence>0&&""!==s.participantSid){const e=this.reliableReceivedState.get(s.participantSid);if(e&&s.sequence<=e)return;this.reliableReceivedState.set(s.participantSid,s.sequence)}if("speaker"===(null===(t=s.value)||void 0===t?void 0:t.case))this.emit(Al.ActiveSpeakersUpdate,s.value.value.speakers);else if("encryptedPacket"===(null===(n=s.value)||void 0===n?void 0:n.case)){if(!this.e2eeManager)return void this.log.error("Received encrypted packet but E2EE not set up",this.logContext);const e=yield null===(i=this.e2eeManager)||void 0===i?void 0:i.handleEncryptedData(s.value.value.encryptedValue,s.value.value.iv,s.participantIdentity,s.value.value.keyIndex),t=Ds.fromBinary(e.payload),n=new ms({value:t.value,participantIdentity:s.participantIdentity,participantSid:s.participantSid});"user"===(null===(r=n.value)||void 0===r?void 0:r.case)&&wp(n,n.value.value),this.emit(Al.DataPacketReceived,n,s.value.value.encryptionType)}else"user"===(null===(o=s.value)||void 0===o?void 0:o.case)&&wp(s,s.value.value),this.emit(Al.DataPacketReceived,s,ls.NONE)}finally{a()}}),this.handleDataError=e=>{const t=0===e.currentTarget.maxRetransmits?"lossy":"reliable";if(e instanceof ErrorEvent&&e.error){const{error:n}=e.error;this.log.error("DataChannel error on ".concat(t,": ").concat(e.message),Object.assign(Object.assign({},this.logContext),{error:n}))}else this.log.error("Unknown DataChannel error on ".concat(t),Object.assign(Object.assign({},this.logContext),{event:e}))},this.handleBufferedAmountLow=e=>{const t=0===e.currentTarget.maxRetransmits?Os.LOSSY:Os.RELIABLE;this.updateAndEmitDCBufferStatus(t)},this.handleDisconnect=(e,t)=>{if(this._isClosed)return;this.log.warn("".concat(e," disconnected"),this.logContext),0===this.reconnectAttempts&&(this.reconnectStart=Date.now());const n=Date.now()-this.reconnectStart;let i=this.getNextRetryDelay({elapsedMs:n,retryCount:this.reconnectAttempts});null!==i?(e===kp&&(i=0),this.log.debug("reconnecting in ".concat(i,"ms"),this.logContext),this.clearReconnectTimeout(),this.token&&this.regionUrlProvider&&this.regionUrlProvider.updateToken(this.token),this.reconnectTimeout=jl.setTimeout(()=>this.attemptReconnect(t).finally(()=>this.reconnectTimeout=void 0),i)):(e=>{this.log.warn("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(e,"ms. giving up"),this.logContext),this.emit(Al.Disconnected),this.close()})(n)},this.waitForRestarted=()=>new Promise((e,t)=>{this.pcState===yp.Connected&&e();const n=()=>{this.off(Al.Disconnected,i),e()},i=()=>{this.off(Al.Restarted,n),t()};this.once(Al.Restarted,n),this.once(Al.Disconnected,i)}),this.updateAndEmitDCBufferStatus=e=>{if(e===Os.RELIABLE){const t=this.dataChannelForKind(e);t&&this.reliableMessageBuffer.alignBufferedAmount(t.bufferedAmount)}const t=this.isBufferStatusLow(e);typeof t<"u"&&t!==this.dcBufferStatus.get(e)&&(this.dcBufferStatus.set(e,t),this.emit(Al.DCBufferStatusChanged,t,e))},this.isBufferStatusLow=e=>{const t=this.dataChannelForKind(e);if(t)return t.bufferedAmount<=t.bufferedAmountLowThreshold},this.handleBrowserOnLine=()=>oc(this,void 0,void 0,function*(){!this.url||!(yield fetch(Bd(this.url),{method:"HEAD"}).then(e=>e.ok).catch(()=>!1))||(this.log.info("detected network reconnected"),(this.client.currentState===Oh.RECONNECTING||this.isWaitingForNetworkReconnect&&this.client.currentState===Oh.CONNECTED)&&(this.clearReconnectTimeout(),this.attemptReconnect(es.RR_SIGNAL_DISCONNECTED),this.isWaitingForNetworkReconnect=!1))}),this.handleBrowserOffline=()=>oc(this,void 0,void 0,function*(){if(this.url)try{yield Promise.race([fetch(Bd(this.url),{method:"HEAD"}),ud(4e3).then(()=>Promise.reject())])}catch(e){!1===window.navigator.onLine&&(this.log.info("detected network interruption"),this.isWaitingForNetworkReconnect=!0)}}),this.log=tc(null!==(t=e.loggerName)&&void 0!==t?t:Yu.Engine),this.loggerOptions={loggerName:e.loggerName,loggerContextCb:()=>this.logContext},this.client=new gh(void 0,this.loggerOptions),this.client.signalLatency=this.options.expSignalLatency,this.reconnectPolicy=this.options.reconnectPolicy,this.closingLock=new co,this.dataProcessLock=new co,this.dcBufferStatus=new Map([[Os.LOSSY,!0],[Os.RELIABLE,!0]]),this.client.onParticipantUpdate=e=>this.emit(Al.ParticipantUpdate,e),this.client.onConnectionQuality=e=>this.emit(Al.ConnectionQualityUpdate,e),this.client.onRoomUpdate=e=>this.emit(Al.RoomUpdate,e),this.client.onSubscriptionError=e=>this.emit(Al.SubscriptionError,e),this.client.onSubscriptionPermissionUpdate=e=>this.emit(Al.SubscriptionPermissionUpdate,e),this.client.onSpeakersChanged=e=>this.emit(Al.SpeakersChanged,e),this.client.onStreamStateUpdate=e=>this.emit(Al.StreamStateChanged,e),this.client.onRequestResponse=e=>this.emit(Al.SignalRequestResponse,e)}get logContext(){var e,t,n,i,r,o;return{room:null===(t=null===(e=this.latestJoinResponse)||void 0===e?void 0:e.room)||void 0===t?void 0:t.name,roomID:null===(i=null===(n=this.latestJoinResponse)||void 0===n?void 0:n.room)||void 0===i?void 0:i.sid,participant:null===(o=null===(r=this.latestJoinResponse)||void 0===r?void 0:r.participant)||void 0===o?void 0:o.identity,pID:this.participantSid}}join(e,t,n,i){return oc(this,void 0,void 0,function*(){this.url=e,this.token=t,this.signalOpts=n,this.maxJoinAttempts=n.maxRetries;try{this.joinAttempts+=1,this.setupSignalClientCallbacks();const r=yield this.client.join(e,t,n,i);return this._isClosed=!1,this.latestJoinResponse=r,this.subscriberPrimary=r.subscriberPrimary,this.pcManager||(yield this.configure(r)),(!this.subscriberPrimary||r.fastPublish)&&this.negotiate().catch(e=>{ec.error(e,this.logContext)}),this.registerOnLineListener(),this.clientConfiguration=r.clientConfiguration,this.emit(Al.SignalConnected,r),r}catch(r){if(r instanceof wl&&r.reason===El.ServerUnreachable&&(this.log.warn("Couldn't connect to server, attempt ".concat(this.joinAttempts," of ").concat(this.maxJoinAttempts),this.logContext),this.joinAttempts<this.maxJoinAttempts))return this.join(e,t,n,i);throw r}})}close(){return oc(this,void 0,void 0,function*(){const e=yield this.closingLock.lock();if(this.isClosed)e();else try{this._isClosed=!0,this.joinAttempts=0,this.emit(Al.Closing),this.removeAllListeners(),this.deregisterOnLineListener(),this.clearPendingReconnect(),yield this.cleanupPeerConnections(),yield this.cleanupClient()}finally{e()}})}cleanupPeerConnections(){return oc(this,void 0,void 0,function*(){var e;yield null===(e=this.pcManager)||void 0===e?void 0:e.close(),this.pcManager=void 0;const t=e=>{e&&(e.close(),e.onbufferedamountlow=null,e.onclose=null,e.onclosing=null,e.onerror=null,e.onmessage=null,e.onopen=null)};t(this.lossyDC),t(this.lossyDCSub),t(this.reliableDC),t(this.reliableDCSub),this.lossyDC=void 0,this.lossyDCSub=void 0,this.reliableDC=void 0,this.reliableDCSub=void 0,this.reliableMessageBuffer=new Eh,this.reliableDataSequence=1,this.reliableReceivedState.clear()})}cleanupClient(){return oc(this,void 0,void 0,function*(){yield this.client.close(),this.client.resetCallbacks()})}addTrack(e){if(this.pendingTrackResolvers[e.cid])throw new Pl("a track with the same ID has already been published");return new Promise((t,n)=>{const i=setTimeout(()=>{delete this.pendingTrackResolvers[e.cid],n(new wl("publication of local track timed out, no response from server",El.Timeout))},1e4);this.pendingTrackResolvers[e.cid]={resolve:e=>{clearTimeout(i),t(e)},reject:()=>{clearTimeout(i),n(new Error("Cancelled publication by calling unpublish"))}},this.client.sendAddTrack(e)})}removeTrack(e){if(e.track&&this.pendingTrackResolvers[e.track.id]){const{reject:t}=this.pendingTrackResolvers[e.track.id];t&&t(),delete this.pendingTrackResolvers[e.track.id]}try{return this.pcManager.removeTrack(e),!0}catch(e){this.log.warn("failed to remove track",Object.assign(Object.assign({},this.logContext),{error:e}))}return!1}updateMuteStatus(e,t){this.client.sendMuteTrack(e,t)}get dataSubscriberReadyState(){var e;return null===(e=this.reliableDCSub)||void 0===e?void 0:e.readyState}getConnectedServerAddress(){return oc(this,void 0,void 0,function*(){var e;return null===(e=this.pcManager)||void 0===e?void 0:e.getConnectedAddress()})}setRegionUrlProvider(e){this.regionUrlProvider=e}configure(e){return oc(this,void 0,void 0,function*(){var t,n;if(this.pcManager&&this.pcManager.currentState!==Wh.NEW)return;this.participantSid=null===(t=e.participant)||void 0===t?void 0:t.sid;const i=this.makeRTCConfiguration(e);this.pcManager=new Gh(i,this.options.singlePeerConnection?"publisher-only":e.subscriberPrimary?"subscriber-primary":"publisher-primary",this.loggerOptions),this.emit(Al.TransportsCreated,this.pcManager.publisher,this.pcManager.subscriber),this.pcManager.onIceCandidate=(e,t)=>{this.client.sendIceCandidate(e,t)},this.pcManager.onPublisherOffer=(e,t)=>{this.client.sendOffer(e,t)},this.pcManager.onDataChannel=this.handleDataChannel,this.pcManager.onStateChange=(t,n,i)=>oc(this,void 0,void 0,function*(){if(this.log.debug("primary PC state changed ".concat(t),this.logContext),["closed","disconnected","failed"].includes(n)&&(this.publisherConnectionPromise=void 0),t===Wh.CONNECTED){const t=this.pcState===yp.New;this.pcState=yp.Connected,t&&this.emit(Al.Connected,e)}else t===Wh.FAILED&&(this.pcState===yp.Connected||this.pcState===yp.Reconnecting)&&(this.pcState=yp.Disconnected,this.handleDisconnect("peerconnection failed","failed"===i?es.RR_SUBSCRIBER_FAILED:es.RR_PUBLISHER_FAILED));const r=this.client.isDisconnected||this.client.currentState===Oh.RECONNECTING,o=[Wh.FAILED,Wh.CLOSING,Wh.CLOSED].includes(t);r&&o&&!this._isClosed&&this.emit(Al.Offline)}),this.pcManager.onTrack=e=>{0!==e.streams.length&&this.emit(Al.MediaTrackAdded,e.track,e.streams[0],e.receiver)},function(e){return void 0!==e&&e>13}(null===(n=e.serverInfo)||void 0===n?void 0:n.protocol)||this.createDataChannels()})}setupSignalClientCallbacks(){this.client.onAnswer=(e,t,n)=>oc(this,void 0,void 0,function*(){this.pcManager&&(this.log.debug("received server answer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:e.type,sdp:e.sdp,midToTrackId:n})),this.midToTrackId=n,yield this.pcManager.setPublisherAnswer(e,t))}),this.client.onTrickle=(e,t)=>{this.pcManager&&(this.log.debug("got ICE candidate from peer",Object.assign(Object.assign({},this.logContext),{candidate:e,target:t})),this.pcManager.addIceCandidate(e,t))},this.client.onOffer=(e,t,n)=>oc(this,void 0,void 0,function*(){if(this.latestRemoteOfferId=t,!this.pcManager)return;this.midToTrackId=n;const i=yield this.pcManager.createSubscriberAnswerFromOffer(e,t);i&&this.client.sendAnswer(i,t)}),this.client.onLocalTrackPublished=e=>{var t;if(this.log.debug("received trackPublishedResponse",Object.assign(Object.assign({},this.logContext),{cid:e.cid,track:null===(t=e.track)||void 0===t?void 0:t.sid})),!this.pendingTrackResolvers[e.cid])return void this.log.error("missing track resolver for ".concat(e.cid),Object.assign(Object.assign({},this.logContext),{cid:e.cid}));const{resolve:n}=this.pendingTrackResolvers[e.cid];delete this.pendingTrackResolvers[e.cid],n(e.track)},this.client.onLocalTrackUnpublished=e=>{this.emit(Al.LocalTrackUnpublished,e)},this.client.onLocalTrackSubscribed=e=>{this.emit(Al.LocalTrackSubscribed,e)},this.client.onTokenRefresh=e=>{var t;this.token=e,null===(t=this.regionUrlProvider)||void 0===t||t.updateToken(e)},this.client.onRemoteMuteChanged=(e,t)=>{this.emit(Al.RemoteMute,e,t)},this.client.onSubscribedQualityUpdate=e=>{this.emit(Al.SubscribedQualityUpdate,e)},this.client.onRoomMoved=e=>{var t;this.participantSid=null===(t=e.participant)||void 0===t?void 0:t.sid,this.latestJoinResponse&&(this.latestJoinResponse.room=e.room),this.emit(Al.RoomMoved,e)},this.client.onMediaSectionsRequirement=e=>{var t,n;const i={direction:"recvonly"};for(let n=0;n<e.numAudios;n++)null===(t=this.pcManager)||void 0===t||t.addPublisherTransceiverOfKind("audio",i);for(let t=0;t<e.numVideos;t++)null===(n=this.pcManager)||void 0===n||n.addPublisherTransceiverOfKind("video",i);this.negotiate()},this.client.onClose=()=>{this.handleDisconnect("signal",es.RR_SIGNAL_DISCONNECTED)},this.client.onLeave=e=>{switch(this.log.debug("client leave request",Object.assign(Object.assign({},this.logContext),{reason:null==e?void 0:e.reason})),e.regions&&this.regionUrlProvider&&(this.log.debug("updating regions",this.logContext),this.regionUrlProvider.setServerReportedRegions({updatedAtInMs:Date.now(),maxAgeInMs:5e3,regionSettings:e.regions})),e.action){case hu.DISCONNECT:this.emit(Al.Disconnected,null==e?void 0:e.reason),this.close();break;case hu.RECONNECT:this.fullReconnectOnNext=!0,this.handleDisconnect(kp);break;case hu.RESUME:this.handleDisconnect(kp)}}}makeRTCConfiguration(e){var t;const n=Object.assign({},this.rtcConfig);if(!(null===(t=this.signalOpts)||void 0===t)&&t.e2eeEnabled&&(this.log.debug("E2EE - setting up transports with insertable streams",this.logContext),n.encodedInsertableStreams=!0),e.iceServers&&!n.iceServers){const t=[];e.iceServers.forEach(e=>{const n={urls:e.urls};e.username&&(n.username=e.username),e.credential&&(n.credential=e.credential),t.push(n)}),n.iceServers=t}return e.clientConfiguration&&e.clientConfiguration.forceRelay===Ka.ENABLED&&(n.iceTransportPolicy="relay"),n.sdpSemantics="unified-plan",n.continualGatheringPolicy="gather_continually",n}createDataChannels(){this.pcManager&&(this.lossyDC&&(this.lossyDC.onmessage=null,this.lossyDC.onerror=null),this.reliableDC&&(this.reliableDC.onmessage=null,this.reliableDC.onerror=null),this.lossyDC=this.pcManager.createPublisherDataChannel(Cp,{ordered:!1,maxRetransmits:0}),this.reliableDC=this.pcManager.createPublisherDataChannel(bp,{ordered:!0}),this.lossyDC.onmessage=this.handleDataMessage,this.reliableDC.onmessage=this.handleDataMessage,this.lossyDC.onerror=this.handleDataError,this.reliableDC.onerror=this.handleDataError,this.lossyDC.bufferedAmountLowThreshold=65535,this.reliableDC.bufferedAmountLowThreshold=65535,this.lossyDC.onbufferedamountlow=this.handleBufferedAmountLow,this.reliableDC.onbufferedamountlow=this.handleBufferedAmountLow)}createSender(e,t,n){return oc(this,void 0,void 0,function*(){if(cd())return yield this.createTransceiverRTCRtpSender(e,t,n);if(ld())return this.log.warn("using add-track fallback",this.logContext),yield this.createRTCRtpSender(e.mediaStreamTrack);throw new Il("Required webRTC APIs not supported on this device")})}createSimulcastSender(e,t,n,i){return oc(this,void 0,void 0,function*(){if(cd())return this.createSimulcastTransceiverSender(e,t,n,i);if(ld())return this.log.debug("using add-track fallback",this.logContext),this.createRTCRtpSender(e.mediaStreamTrack);throw new Il("Cannot stream on this device")})}createTransceiverRTCRtpSender(e,t,n){return oc(this,void 0,void 0,function*(){if(!this.pcManager)throw new Il("publisher is closed");const i=[];e.mediaStream&&i.push(e.mediaStream),Xd(e)&&(e.codec=t.videoCodec);const r={direction:"sendonly",streams:i};return n&&(r.sendEncodings=n),(yield this.pcManager.addPublisherTransceiver(e.mediaStreamTrack,r)).sender})}createSimulcastTransceiverSender(e,t,n,i){return oc(this,void 0,void 0,function*(){if(!this.pcManager)throw new Il("publisher is closed");const r={direction:"sendonly"};i&&(r.sendEncodings=i);const o=yield this.pcManager.addPublisherTransceiver(t.mediaStreamTrack,r);if(n.videoCodec)return e.setSimulcastTrackSender(n.videoCodec,o.sender),o.sender})}createRTCRtpSender(e){return oc(this,void 0,void 0,function*(){if(!this.pcManager)throw new Il("publisher is closed");return this.pcManager.addPublisherTrack(e)})}attemptReconnect(e){return oc(this,void 0,void 0,function*(){var t,n,i;if(!this._isClosed){if(this.attemptingReconnect)return void ec.warn("already attempting reconnect, returning early",this.logContext);((null===(t=this.clientConfiguration)||void 0===t?void 0:t.resumeConnection)===Ka.DISABLED||(null!==(i=null===(n=this.pcManager)||void 0===n?void 0:n.currentState)&&void 0!==i?i:Wh.NEW)===Wh.NEW)&&(this.fullReconnectOnNext=!0);try{this.attemptingReconnect=!0,this.fullReconnectOnNext?yield this.restartConnection():yield this.resumeConnection(e),this.clearPendingReconnect(),this.fullReconnectOnNext=!1}catch(e){this.reconnectAttempts+=1;let t=!0;e instanceof Il?(this.log.debug("received unrecoverable error",Object.assign(Object.assign({},this.logContext),{error:e})),t=!1):e instanceof Fp||(this.fullReconnectOnNext=!0),t?this.handleDisconnect("reconnect",es.RR_UNKNOWN):(this.log.info("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(Date.now()-this.reconnectStart,"ms. giving up"),this.logContext),this.emit(Al.Disconnected),yield this.close())}finally{this.attemptingReconnect=!1}}})}getNextRetryDelay(e){try{return this.reconnectPolicy.nextRetryDelayInMs(e)}catch(e){this.log.warn("encountered error in reconnect policy",Object.assign(Object.assign({},this.logContext),{error:e}))}return null}restartConnection(e){return oc(this,void 0,void 0,function*(){var t,n,i;try{if(!this.url||!this.token)throw new Il("could not reconnect, url or token not saved");let n;this.log.info("reconnecting, attempt: ".concat(this.reconnectAttempts),this.logContext),this.emit(Al.Restarting),this.client.isDisconnected||(yield this.client.sendLeave()),yield this.cleanupPeerConnections(),yield this.cleanupClient();try{if(!this.signalOpts)throw this.log.warn("attempted connection restart, without signal options present",this.logContext),new Fp;n=yield this.join(null!=e?e:this.url,this.token,this.signalOpts)}catch(e){throw e instanceof wl&&e.reason===El.NotAllowed?new Il("could not reconnect, token might be expired"):new Fp}if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(this.client.setReconnected(),this.emit(Al.SignalRestarted,n),yield this.waitForPCReconnected(),this.client.currentState!==Oh.CONNECTED)throw new Fp("Signal connection got severed during reconnect");null===(t=this.regionUrlProvider)||void 0===t||t.resetAttempts(),this.emit(Al.Restarted)}catch(e){const t=yield null===(n=this.regionUrlProvider)||void 0===n?void 0:n.getNextBestRegionUrl();if(t)return void(yield this.restartConnection(t));throw null===(i=this.regionUrlProvider)||void 0===i||i.resetAttempts(),e}})}resumeConnection(e){return oc(this,void 0,void 0,function*(){var t;if(!this.url||!this.token)throw new Il("could not reconnect, url or token not saved");if(!this.pcManager)throw new Il("publisher and subscriber connections unset");let n;this.log.info("resuming signal connection, attempt ".concat(this.reconnectAttempts),this.logContext),this.emit(Al.Resuming);try{this.setupSignalClientCallbacks(),n=yield this.client.reconnect(this.url,this.token,this.participantSid,e)}catch(e){let t="";throw e instanceof Error&&(t=e.message,this.log.error(e.message,Object.assign(Object.assign({},this.logContext),{error:e}))),e instanceof wl&&e.reason===El.NotAllowed?new Il("could not reconnect, token might be expired"):e instanceof wl&&e.reason===El.LeaveRequest?e:new Fp(t)}if(this.emit(Al.SignalResumed),n){const e=this.makeRTCConfiguration(n);this.pcManager.updateConfiguration(e),this.latestJoinResponse&&(this.latestJoinResponse.serverInfo=n.serverInfo)}else this.log.warn("Did not receive reconnect response",this.logContext);if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(yield this.pcManager.triggerIceRestart(),yield this.waitForPCReconnected(),this.client.currentState!==Oh.CONNECTED)throw new Fp("Signal connection got severed during reconnect");this.client.setReconnected(),"open"===(null===(t=this.reliableDC)||void 0===t?void 0:t.readyState)&&null===this.reliableDC.id&&this.createDataChannels(),null!=n&&n.lastMessageSeq&&this.resendReliableMessagesForResume(n.lastMessageSeq),this.emit(Al.Resumed)})}waitForPCInitialConnection(e,t){return oc(this,void 0,void 0,function*(){if(!this.pcManager)throw new Il("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(t,e)})}waitForPCReconnected(){return oc(this,void 0,void 0,function*(){this.pcState=yp.Reconnecting,this.log.debug("waiting for peer connection to reconnect",this.logContext);try{if(yield ud(2e3),!this.pcManager)throw new Il("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(void 0,this.peerConnectionTimeout),this.pcState=yp.Connected}catch(e){throw this.pcState=yp.Disconnected,new wl("could not establish PC connection, ".concat(e.message),El.InternalError)}})}publishRpcResponse(e,t,n,i){return oc(this,void 0,void 0,function*(){const r=new ms({destinationIdentities:[e],kind:Os.RELIABLE,value:{case:"rpcResponse",value:new _s({requestId:t,value:i?{case:"error",value:i.toProto()}:{case:"payload",value:null!=n?n:""}})}});yield this.sendDataPacket(r,Os.RELIABLE)})}publishRpcAck(e,t){return oc(this,void 0,void 0,function*(){const n=new ms({destinationIdentities:[e],kind:Os.RELIABLE,value:{case:"rpcAck",value:new Ss({requestId:t})}});yield this.sendDataPacket(n,Os.RELIABLE)})}sendDataPacket(e,t){return oc(this,void 0,void 0,function*(){if(yield this.ensurePublisherConnected(t),this.e2eeManager&&this.e2eeManager.isDataChannelEncryptionEnabled){const t=function(e){var t,n,i,r,o;if("sipDtmf"!==(null===(t=e.value)||void 0===t?void 0:t.case)&&"metrics"!==(null===(n=e.value)||void 0===n?void 0:n.case)&&"speaker"!==(null===(i=e.value)||void 0===i?void 0:i.case)&&"transcription"!==(null===(r=e.value)||void 0===r?void 0:r.case)&&"encryptedPacket"!==(null===(o=e.value)||void 0===o?void 0:o.case))return new Ds({value:e.value})}(e);if(t){const n=yield this.e2eeManager.encryptData(t.toBinary());e.value={case:"encryptedPacket",value:new gs({encryptedValue:n.payload,iv:n.iv,keyIndex:n.keyIndex})}}}t===Os.RELIABLE&&(e.sequence=this.reliableDataSequence,this.reliableDataSequence+=1);const n=e.toBinary();yield this.waitForBufferStatusLow(t);const i=this.dataChannelForKind(t);if(i){if(t===Os.RELIABLE&&this.reliableMessageBuffer.push({data:n,sequence:e.sequence}),this.attemptingReconnect)return;i.send(n)}this.updateAndEmitDCBufferStatus(t)})}resendReliableMessagesForResume(e){return oc(this,void 0,void 0,function*(){yield this.ensurePublisherConnected(Os.RELIABLE);const t=this.dataChannelForKind(Os.RELIABLE);t&&(this.reliableMessageBuffer.popToSequence(e),this.reliableMessageBuffer.getAll().forEach(e=>{t.send(e.data)})),this.updateAndEmitDCBufferStatus(Os.RELIABLE)})}waitForBufferStatusLow(e){return new Promise((t,n)=>oc(this,void 0,void 0,function*(){if(this.isBufferStatusLow(e))t();else{const i=()=>n("Engine closed");for(this.once(Al.Closing,i);!this.dcBufferStatus.get(e);)yield ud(10);this.off(Al.Closing,i),t()}}))}ensureDataTransportConnected(e){return oc(this,arguments,void 0,function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.subscriberPrimary;return function*(){var i;if(!t.pcManager)throw new Il("PC manager is closed");const r=n?t.pcManager.subscriber:t.pcManager.publisher,o=n?"Subscriber":"Publisher";if(!r)throw new wl("".concat(o," connection not set"),El.InternalError);let a=!1;!n&&!t.dataChannelForKind(e,n)&&(t.createDataChannels(),a=!0),!a&&!n&&!t.pcManager.publisher.isICEConnected&&"checking"!==t.pcManager.publisher.getICEConnectionState()&&(a=!0),a&&t.negotiate().catch(e=>{ec.error(e,t.logContext)});const s=t.dataChannelForKind(e,n);if("open"===(null==s?void 0:s.readyState))return;const u=(new Date).getTime()+t.peerConnectionTimeout;for(;(new Date).getTime()<u;){if(r.isICEConnected&&"open"===(null===(i=t.dataChannelForKind(e,n))||void 0===i?void 0:i.readyState))return;yield ud(50)}throw new wl("could not establish ".concat(o," connection, state: ").concat(r.getICEConnectionState()),El.InternalError)}()})}ensurePublisherConnected(e){return oc(this,void 0,void 0,function*(){this.publisherConnectionPromise||(this.publisherConnectionPromise=this.ensureDataTransportConnected(e,!1)),yield this.publisherConnectionPromise})}verifyTransport(){return!(!this.pcManager||this.pcManager.currentState!==Wh.CONNECTED||!this.client.ws||this.client.ws.readyState===WebSocket.CLOSED)}negotiate(){return oc(this,void 0,void 0,function*(){return new Promise((e,t)=>oc(this,void 0,void 0,function*(){if(!this.pcManager)return void t(new Ql("PC manager is closed"));this.pcManager.requirePublisher(),0==this.pcManager.publisher.getTransceivers().length&&!this.lossyDC&&!this.reliableDC&&this.createDataChannels();const n=new AbortController,i=()=>{n.abort(),this.log.debug("engine disconnected while negotiation was ongoing",this.logContext),e()};this.isClosed&&t("cannot negotiate on closed engine"),this.on(Al.Closing,i),this.pcManager.publisher.once(Nh,e=>{const t=new Map;e.forEach(e=>{const n=e.codec.toLowerCase();(function(e){return ed.includes(e)})(n)&&t.set(e.payload,n)}),this.emit(Al.RTPVideoMapUpdate,t)});try{yield this.pcManager.negotiate(n),e()}catch(e){e instanceof Ql&&(this.fullReconnectOnNext=!0),this.handleDisconnect("negotiation",es.RR_UNKNOWN),t(e)}finally{this.off(Al.Closing,i)}}))})}dataChannelForKind(e,t){if(t){if(e===Os.LOSSY)return this.lossyDCSub;if(e===Os.RELIABLE)return this.reliableDCSub}else{if(e===Os.LOSSY)return this.lossyDC;if(e===Os.RELIABLE)return this.reliableDC}}sendSyncState(e,t){var n,i,r,o;if(!this.pcManager)return void this.log.warn("sync state cannot be sent without peer connection setup",this.logContext);const a=this.pcManager.publisher.getLocalDescription(),s=this.pcManager.publisher.getRemoteDescription(),u=null===(n=this.pcManager.subscriber)||void 0===n?void 0:n.getRemoteDescription(),c=null===(i=this.pcManager.subscriber)||void 0===i?void 0:i.getLocalDescription(),l=null===(o=null===(r=this.signalOpts)||void 0===r?void 0:r.autoSubscribe)||void 0===o||o,d=new Array,h=new Array;e.forEach(e=>{e.isDesired!==l&&d.push(e.trackSid),e.isEnabled||h.push(e.trackSid)}),this.client.sendSyncState(new wu({answer:this.options.singlePeerConnection?s?vh({sdp:s.sdp,type:s.type}):void 0:c?vh({sdp:c.sdp,type:c.type}):void 0,offer:this.options.singlePeerConnection?a?vh({sdp:a.sdp,type:a.type}):void 0:u?vh({sdp:u.sdp,type:u.type}):void 0,subscription:new su({trackSids:d,subscribe:!l,participantTracks:[]}),publishTracks:nh(t),dataChannels:this.dataChannelsInfo(),trackSidsDisabled:h,datachannelReceiveStates:this.reliableReceivedState.map((e,t)=>new xu({publisherSid:t,lastSeq:e}))}))}failNext(){this.shouldFailNext=!0}dataChannelsInfo(){const e=[],t=(t,n)=>{void 0!==(null==t?void 0:t.id)&&null!==t.id&&e.push(new Pu({label:t.label,id:t.id,target:n}))};return t(this.dataChannelForKind(Os.LOSSY),js.PUBLISHER),t(this.dataChannelForKind(Os.RELIABLE),js.PUBLISHER),t(this.dataChannelForKind(Os.LOSSY,!0),js.SUBSCRIBER),t(this.dataChannelForKind(Os.RELIABLE,!0),js.SUBSCRIBER),e}clearReconnectTimeout(){this.reconnectTimeout&&jl.clearTimeout(this.reconnectTimeout)}clearPendingReconnect(){this.clearReconnectTimeout(),this.reconnectAttempts=0}registerOnLineListener(){Dd()&&(window.addEventListener("online",this.handleBrowserOnLine),window.addEventListener("offline",this.handleBrowserOffline))}deregisterOnLineListener(){Dd()&&(window.removeEventListener("online",this.handleBrowserOnLine),window.removeEventListener("offline",this.handleBrowserOffline))}getTrackIdForReceiver(e){var t;const n=null===(t=this.pcManager)||void 0===t?void 0:t.getMidForReceiver(e);if(n){const e=Object.entries(this.midToTrackId).find(e=>{let[t]=e;return t===n});if(e)return e[1]}}}class Fp extends Error{}function wp(e,t){const n=e.participantIdentity?e.participantIdentity:t.participantIdentity;e.participantIdentity=n,t.participantIdentity=n;const i=0!==e.destinationIdentities.length?e.destinationIdentities:t.destinationIdentities;e.destinationIdentities=i,t.destinationIdentities=i}class xp{get info(){return this._info}validateBytesReceived(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if("number"==typeof this.totalByteSize&&0!==this.totalByteSize){if(e&&this.bytesReceived<this.totalByteSize)throw new Ml("Not enough chunk(s) received - expected ".concat(this.totalByteSize," bytes of data total, only received ").concat(this.bytesReceived," bytes"),Cl.Incomplete);if(this.bytesReceived>this.totalByteSize)throw new Ml("Extra chunk(s) received - expected ".concat(this.totalByteSize," bytes of data total, received ").concat(this.bytesReceived," bytes"),Cl.LengthExceeded)}}constructor(e,t,n,i){this.reader=t,this.totalByteSize=n,this._info=e,this.bytesReceived=0,this.outOfBandFailureRejectingFuture=i}}class Pp extends xp{handleChunkReceived(e){var t;this.bytesReceived+=e.content.byteLength,this.validateBytesReceived();const n=this.totalByteSize?this.bytesReceived/this.totalByteSize:void 0;null===(t=this.onProgress)||void 0===t||t.call(this,n)}[Symbol.asyncIterator](){const e=this.reader.getReader();let t=new Qd,n=null,i=null;if(this.signal){const e=this.signal;i=()=>{var n;null===(n=t.reject)||void 0===n||n.call(t,e.reason)},e.addEventListener("abort",i),n=e}const r=()=>{e.releaseLock(),n&&i&&n.removeEventListener("abort",i),this.signal=void 0};return{next:()=>oc(this,void 0,void 0,function*(){var n,i;try{const{done:r,value:o}=yield Promise.race([e.read(),t.promise,null!==(i=null===(n=this.outOfBandFailureRejectingFuture)||void 0===n?void 0:n.promise)&&void 0!==i?i:new Promise(()=>{})]);return r?(this.validateBytesReceived(!0),{done:!0,value:void 0}):(this.handleChunkReceived(o),{done:!1,value:o.content})}catch(e){throw r(),e}}),return(){return oc(this,void 0,void 0,function*(){return r(),{done:!0,value:void 0}})}}}withAbortSignal(e){return this.signal=e,this}readAll(){return oc(this,arguments,void 0,function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){var n,i,r,o;let a=new Set;const s=t.signal?e.withAbortSignal(t.signal):e;try{for(var u,c=!0,l=ac(s);!(n=(u=yield l.next()).done);c=!0){o=u.value,c=!1;const e=o;a.add(e)}}catch(e){i={error:e}}finally{try{!c&&!n&&(r=l.return)&&(yield r.call(l))}finally{if(i)throw i.error}}return Array.from(a)}()})}}class Rp extends xp{constructor(e,t,n,i){super(e,t,n,i),this.receivedChunks=new Map}handleChunkReceived(e){var t;const n=Ld(e.chunkIndex),i=this.receivedChunks.get(n);if(i&&i.version>e.version)return;this.receivedChunks.set(n,e),this.bytesReceived+=e.content.byteLength,this.validateBytesReceived();const r=this.totalByteSize?this.bytesReceived/this.totalByteSize:void 0;null===(t=this.onProgress)||void 0===t||t.call(this,r)}[Symbol.asyncIterator](){const e=this.reader.getReader(),t=new TextDecoder("utf-8",{fatal:!0});let n=new Qd,i=null,r=null;if(this.signal){const e=this.signal;r=()=>{var t;null===(t=n.reject)||void 0===t||t.call(n,e.reason)},e.addEventListener("abort",r),i=e}const o=()=>{e.releaseLock(),i&&r&&i.removeEventListener("abort",r),this.signal=void 0};return{next:()=>oc(this,void 0,void 0,function*(){var i,r;try{const{done:o,value:a}=yield Promise.race([e.read(),n.promise,null!==(r=null===(i=this.outOfBandFailureRejectingFuture)||void 0===i?void 0:i.promise)&&void 0!==r?r:new Promise(()=>{})]);if(o)return this.validateBytesReceived(!0),{done:!0,value:void 0};{let e;this.handleChunkReceived(a);try{e=t.decode(a.content)}catch(e){throw new Ml("Cannot decode datastream chunk ".concat(a.chunkIndex," as text: ").concat(e),Cl.DecodeFailed)}return{done:!1,value:e}}}catch(e){throw o(),e}}),return(){return oc(this,void 0,void 0,function*(){return o(),{done:!0,value:void 0}})}}}withAbortSignal(e){return this.signal=e,this}readAll(){return oc(this,arguments,void 0,function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){var n,i,r,o;let a="";const s=t.signal?e.withAbortSignal(t.signal):e;try{for(var u,c=!0,l=ac(s);!(n=(u=yield l.next()).done);c=!0)o=u.value,c=!1,a+=o}catch(e){i={error:e}}finally{try{!c&&!n&&(r=l.return)&&(yield r.call(l))}finally{if(i)throw i.error}}return a}()})}}class Ip{constructor(){this.log=ec,this.byteStreamControllers=new Map,this.textStreamControllers=new Map,this.byteStreamHandlers=new Map,this.textStreamHandlers=new Map}registerTextStreamHandler(e,t){if(this.textStreamHandlers.has(e))throw new Ml('A text stream handler for topic "'.concat(e,'" has already been set.'),Cl.HandlerAlreadyRegistered);this.textStreamHandlers.set(e,t)}unregisterTextStreamHandler(e){this.textStreamHandlers.delete(e)}registerByteStreamHandler(e,t){if(this.byteStreamHandlers.has(e))throw new Ml('A byte stream handler for topic "'.concat(e,'" has already been set.'),Cl.HandlerAlreadyRegistered);this.byteStreamHandlers.set(e,t)}unregisterByteStreamHandler(e){this.byteStreamHandlers.delete(e)}clearControllers(){this.byteStreamControllers.clear(),this.textStreamControllers.clear()}validateParticipantHasNoActiveDataStreams(e){var t,n,i,r;const o=Array.from(this.textStreamControllers.entries()).filter(t=>t[1].sendingParticipantIdentity===e),a=Array.from(this.byteStreamControllers.entries()).filter(t=>t[1].sendingParticipantIdentity===e);if(o.length>0||a.length>0){const s=new Ml("Participant ".concat(e," unexpectedly disconnected in the middle of sending data"),Cl.AbnormalEnd);for(const[e,i]of a)null===(n=(t=i.outOfBandFailureRejectingFuture).reject)||void 0===n||n.call(t,s),this.byteStreamControllers.delete(e);for(const[e,t]of o)null===(r=(i=t.outOfBandFailureRejectingFuture).reject)||void 0===r||r.call(i,s),this.textStreamControllers.delete(e)}}handleDataStreamPacket(e,t){return oc(this,void 0,void 0,function*(){switch(e.value.case){case"streamHeader":return this.handleStreamHeader(e.value.value,e.participantIdentity,t);case"streamChunk":return this.handleStreamChunk(e.value.value,t);case"streamTrailer":return this.handleStreamTrailer(e.value.value,t);default:throw new Error('DataPacket of value "'.concat(e.value.case,'" is not data stream related!'))}})}handleStreamHeader(e,t,n){return oc(this,void 0,void 0,function*(){var i;if("byteHeader"===e.contentHeader.case){const r=this.byteStreamHandlers.get(e.topic);if(!r)return void this.log.debug("ignoring incoming byte stream due to no handler for topic",e.topic);let o;const a=new Qd;a.promise.catch(e=>{this.log.error(e)});const s={id:e.streamId,name:null!==(i=e.contentHeader.value.name)&&void 0!==i?i:"unknown",mimeType:e.mimeType,size:e.totalLength?Number(e.totalLength):void 0,topic:e.topic,timestamp:Ld(e.timestamp),attributes:e.attributes,encryptionType:n},u=new ReadableStream({start:n=>{if(o=n,this.textStreamControllers.has(e.streamId))throw new Ml("A data stream read is already in progress for a stream with id ".concat(e.streamId,"."),Cl.AlreadyOpened);this.byteStreamControllers.set(e.streamId,{info:s,controller:o,startTime:Date.now(),sendingParticipantIdentity:t,outOfBandFailureRejectingFuture:a})}});r(new Pp(s,u,Ld(e.totalLength),a),{identity:t})}else if("textHeader"===e.contentHeader.case){const i=this.textStreamHandlers.get(e.topic);if(!i)return void this.log.debug("ignoring incoming text stream due to no handler for topic",e.topic);let r;const o=new Qd;o.promise.catch(e=>{this.log.error(e)});const a={id:e.streamId,mimeType:e.mimeType,size:e.totalLength?Number(e.totalLength):void 0,topic:e.topic,timestamp:Number(e.timestamp),attributes:e.attributes,encryptionType:n},s=new ReadableStream({start:n=>{if(r=n,this.textStreamControllers.has(e.streamId))throw new Ml("A data stream read is already in progress for a stream with id ".concat(e.streamId,"."),Cl.AlreadyOpened);this.textStreamControllers.set(e.streamId,{info:a,controller:r,startTime:Date.now(),sendingParticipantIdentity:t,outOfBandFailureRejectingFuture:o})}});i(new Rp(a,s,Ld(e.totalLength),o),{identity:t})}})}handleStreamChunk(e,t){const n=this.byteStreamControllers.get(e.streamId);n&&(n.info.encryptionType!==t?(n.controller.error(new Ml("Encryption type mismatch for stream ".concat(e.streamId,". Expected ").concat(t,", got ").concat(n.info.encryptionType),Cl.EncryptionTypeMismatch)),this.byteStreamControllers.delete(e.streamId)):e.content.length>0&&n.controller.enqueue(e));const i=this.textStreamControllers.get(e.streamId);i&&(i.info.encryptionType!==t?(i.controller.error(new Ml("Encryption type mismatch for stream ".concat(e.streamId,". Expected ").concat(t,", got ").concat(i.info.encryptionType),Cl.EncryptionTypeMismatch)),this.textStreamControllers.delete(e.streamId)):e.content.length>0&&i.controller.enqueue(e))}handleStreamTrailer(e,t){const n=this.textStreamControllers.get(e.streamId);n&&(n.info.encryptionType!==t?n.controller.error(new Ml("Encryption type mismatch for stream ".concat(e.streamId,". Expected ").concat(t,", got ").concat(n.info.encryptionType),Cl.EncryptionTypeMismatch)):(n.info.attributes=Object.assign(Object.assign({},n.info.attributes),e.attributes),n.controller.close(),this.textStreamControllers.delete(e.streamId)));const i=this.byteStreamControllers.get(e.streamId);i&&(i.info.encryptionType!==t?i.controller.error(new Ml("Encryption type mismatch for stream ".concat(e.streamId,". Expected ").concat(t,", got ").concat(i.info.encryptionType),Cl.EncryptionTypeMismatch)):(i.info.attributes=Object.assign(Object.assign({},i.info.attributes),e.attributes),i.controller.close()),this.byteStreamControllers.delete(e.streamId))}}class Qp{constructor(e,t,n){this.writableStream=e,this.defaultWriter=e.getWriter(),this.onClose=n,this.info=t}write(e){return this.defaultWriter.write(e)}close(){return oc(this,void 0,void 0,function*(){var e;yield this.defaultWriter.close(),this.defaultWriter.releaseLock(),null===(e=this.onClose)||void 0===e||e.call(this)})}}class Np extends Qp{}class Bp extends Qp{}class Mp{constructor(e,t){this.engine=e,this.log=t}setupEngine(e){this.engine=e}sendText(e,t){return oc(this,void 0,void 0,function*(){var n;const i=crypto.randomUUID(),r=(new TextEncoder).encode(e).byteLength,o=null===(n=null==t?void 0:t.attachments)||void 0===n?void 0:n.map(()=>crypto.randomUUID()),a=new Array(o?o.length+1:1).fill(0),s=(e,n)=>{var i;a[n]=e;const r=a.reduce((e,t)=>e+t,0);null===(i=null==t?void 0:t.onProgress)||void 0===i||i.call(t,r)},u=yield this.streamText({streamId:i,totalSize:r,destinationIdentities:null==t?void 0:t.destinationIdentities,topic:null==t?void 0:t.topic,attachedStreamIds:o,attributes:null==t?void 0:t.attributes});return yield u.write(e),s(1,0),yield u.close(),null!=t&&t.attachments&&o&&(yield Promise.all(t.attachments.map((e,n)=>oc(this,void 0,void 0,function*(){return this._sendFile(o[n],e,{topic:t.topic,mimeType:e.type,onProgress:e=>{s(e,n+1)}})})))),u.info})}streamText(e){return oc(this,void 0,void 0,function*(){var t,n,i;const r=null!==(t=null==e?void 0:e.streamId)&&void 0!==t?t:crypto.randomUUID(),o={id:r,mimeType:"text/plain",timestamp:Date.now(),topic:null!==(n=null==e?void 0:e.topic)&&void 0!==n?n:"",size:null==e?void 0:e.totalSize,attributes:null==e?void 0:e.attributes,encryptionType:null!==(i=this.engine.e2eeManager)&&void 0!==i&&i.isDataChannelEncryptionEnabled?ls.GCM:ls.NONE},a=new qs({streamId:r,mimeType:o.mimeType,topic:o.topic,timestamp:$d(o.timestamp),totalLength:$d(null==e?void 0:e.totalSize),attributes:o.attributes,contentHeader:{case:"textHeader",value:new $s({version:null==e?void 0:e.version,attachedStreamIds:null==e?void 0:e.attachedStreamIds,replyToStreamId:null==e?void 0:e.replyToStreamId,operationType:"update"===(null==e?void 0:e.type)?Ls.UPDATE:Ls.CREATE})}}),s=null==e?void 0:e.destinationIdentities,u=new ms({destinationIdentities:s,value:{case:"streamHeader",value:a}});yield this.engine.sendDataPacket(u,Os.RELIABLE);let c=0;const l=this.engine,d=new WritableStream({write(e){return oc(this,void 0,void 0,function*(){for(const t of function(e){const t=[];let n=(new TextEncoder).encode(e);for(;n.length>15e3;){let e=15e3;for(;e>0;){const t=n[e];if(void 0!==t&&128!=(192&t))break;e--}t.push(n.slice(0,e)),n=n.slice(e)}return n.length>0&&t.push(n),t}(e)){const e=new Xs({content:t,streamId:r,chunkIndex:$d(c)}),n=new ms({destinationIdentities:s,value:{case:"streamChunk",value:e}});yield l.sendDataPacket(n,Os.RELIABLE),c+=1}})},close(){return oc(this,void 0,void 0,function*(){const e=new zs({streamId:r}),t=new ms({destinationIdentities:s,value:{case:"streamTrailer",value:e}});yield l.sendDataPacket(t,Os.RELIABLE)})},abort(e){console.log("Sink error:",e)}});let h=()=>oc(this,void 0,void 0,function*(){yield p.close()});l.once(Al.Closing,h);const p=new Np(d,o,()=>this.engine.off(Al.Closing,h));return p})}sendFile(e,t){return oc(this,void 0,void 0,function*(){const n=crypto.randomUUID();return yield this._sendFile(n,e,t),{id:n}})}_sendFile(e,t,n){return oc(this,void 0,void 0,function*(){var i;const r=yield this.streamBytes({streamId:e,totalSize:t.size,name:t.name,mimeType:null!==(i=null==n?void 0:n.mimeType)&&void 0!==i?i:t.type,topic:null==n?void 0:n.topic,destinationIdentities:null==n?void 0:n.destinationIdentities}),o=t.stream().getReader();for(;;){const{done:e,value:t}=yield o.read();if(e)break;yield r.write(t)}return yield r.close(),r.info})}streamBytes(e){return oc(this,void 0,void 0,function*(){var t,n,i,r,o,a;const s=null!==(t=null==e?void 0:e.streamId)&&void 0!==t?t:crypto.randomUUID(),u=null==e?void 0:e.destinationIdentities,c={id:s,mimeType:null!==(n=null==e?void 0:e.mimeType)&&void 0!==n?n:"application/octet-stream",topic:null!==(i=null==e?void 0:e.topic)&&void 0!==i?i:"",timestamp:Date.now(),attributes:null==e?void 0:e.attributes,size:null==e?void 0:e.totalSize,name:null!==(r=null==e?void 0:e.name)&&void 0!==r?r:"unknown",encryptionType:null!==(o=this.engine.e2eeManager)&&void 0!==o&&o.isDataChannelEncryptionEnabled?ls.GCM:ls.NONE},l=new qs({totalLength:$d(null!==(a=c.size)&&void 0!==a?a:0),mimeType:c.mimeType,streamId:s,topic:c.topic,timestamp:$d(Date.now()),attributes:c.attributes,contentHeader:{case:"byteHeader",value:new Us({name:c.name})}}),d=new ms({destinationIdentities:u,value:{case:"streamHeader",value:l}});yield this.engine.sendDataPacket(d,Os.RELIABLE);let h=0;const p=new co,f=this.engine,m=this.log,O=new WritableStream({write(e){return oc(this,void 0,void 0,function*(){const t=yield p.lock();let n=0;try{for(;n<e.byteLength;){const t=e.slice(n,n+15e3),i=new ms({destinationIdentities:u,value:{case:"streamChunk",value:new Xs({content:t,streamId:s,chunkIndex:$d(h)})}});yield f.sendDataPacket(i,Os.RELIABLE),h+=1,n+=t.byteLength}}finally{t()}})},close(){return oc(this,void 0,void 0,function*(){const e=new zs({streamId:s}),t=new ms({destinationIdentities:u,value:{case:"streamTrailer",value:e}});yield f.sendDataPacket(t,Os.RELIABLE)})},abort(e){m.error("Sink error:",e)}});return new Bp(O,c)})}}class Lp extends Vl{constructor(e,t,n,i,r){super(e,n,r),this.sid=t,this.receiver=i}get isLocal(){return!1}setMuted(e){this.isMuted!==e&&(this.isMuted=e,this._mediaStreamTrack.enabled=!e,this.emit(e?Sl.Muted:Sl.Unmuted,this))}setMediaStream(e){this.mediaStream=e;const t=n=>{n.track===this._mediaStreamTrack&&(e.removeEventListener("removetrack",t),this.receiver&&"playoutDelayHint"in this.receiver&&(this.receiver.playoutDelayHint=void 0),this.receiver=void 0,this._currentBitrate=0,this.emit(Sl.Ended,this))};e.addEventListener("removetrack",t)}start(){this.startMonitor(),super.enable()}stop(){this.stopMonitor(),super.disable()}getRTCStatsReport(){return oc(this,void 0,void 0,function*(){var e;return null!==(e=this.receiver)&&void 0!==e&&e.getStats?yield this.receiver.getStats():void 0})}setPlayoutDelay(e){this.receiver?"playoutDelayHint"in this.receiver?this.receiver.playoutDelayHint=e:this.log.warn("Playout delay not supported in this browser"):this.log.warn("Cannot set playout delay, track already ended")}getPlayoutDelay(){if(this.receiver){if("playoutDelayHint"in this.receiver)return this.receiver.playoutDelayHint;this.log.warn("Playout delay not supported in this browser")}else this.log.warn("Cannot get playout delay, track already ended");return 0}startMonitor(){this.monitorInterval||(this.monitorInterval=setInterval(()=>this.monitorReceiver(),Jh)),typeof RTCRtpReceiver<"u"&&"getSynchronizationSources"in RTCRtpReceiver&&this.registerTimeSyncUpdate()}registerTimeSyncUpdate(){const e=()=>{var t;this.timeSyncHandle=requestAnimationFrame(()=>e());const n=null===(t=this.receiver)||void 0===t?void 0:t.getSynchronizationSources()[0];if(n){const{timestamp:e,rtpTimestamp:t}=n;t&&this.rtpTimestamp!==t&&(this.emit(Sl.TimeSyncUpdate,{timestamp:e,rtpTimestamp:t}),this.rtpTimestamp=t)}};e()}}class $p extends Lp{constructor(e,t,n,i,r,o){super(e,t,Vl.Kind.Audio,n,o),this.monitorReceiver=()=>oc(this,void 0,void 0,function*(){if(!this.receiver)return void(this._currentBitrate=0);const e=yield this.getReceiverStats();e&&this.prevStats&&this.receiver&&(this._currentBitrate=ep(e,this.prevStats)),this.prevStats=e}),this.audioContext=i,this.webAudioPluginNodes=[],r&&(this.sinkId=r.deviceId)}setVolume(e){var t;for(const n of this.attachedElements)this.audioContext?null===(t=this.gainNode)||void 0===t||t.gain.setTargetAtTime(e,0,.1):n.volume=e;vd()&&this._mediaStreamTrack._setVolume(e),this.elementVolume=e}getVolume(){if(this.elementVolume)return this.elementVolume;if(vd())return 1;let e=0;return this.attachedElements.forEach(t=>{t.volume>e&&(e=t.volume)}),e}setSinkId(e){return oc(this,void 0,void 0,function*(){this.sinkId=e,yield Promise.all(this.attachedElements.map(t=>{if(hd(t))return t.setSinkId(e)}))})}attach(e){const t=0===this.attachedElements.length;return e?super.attach(e):e=super.attach(),this.sinkId&&hd(e)&&e.setSinkId(this.sinkId).catch(e=>{this.log.error("Failed to set sink id on remote audio track",e,this.logContext)}),this.audioContext&&t&&(this.log.debug("using audio context mapping",this.logContext),this.connectWebAudio(this.audioContext,e),e.volume=0,e.muted=!0),this.elementVolume&&this.setVolume(this.elementVolume),e}detach(e){let t;return e?(t=super.detach(e),this.audioContext&&(this.attachedElements.length>0?this.connectWebAudio(this.audioContext,this.attachedElements[0]):this.disconnectWebAudio())):(t=super.detach(),this.disconnectWebAudio()),t}setAudioContext(e){this.audioContext=e,e&&this.attachedElements.length>0?this.connectWebAudio(e,this.attachedElements[0]):e||this.disconnectWebAudio()}setWebAudioPlugins(e){this.webAudioPluginNodes=e,this.attachedElements.length>0&&this.audioContext&&this.connectWebAudio(this.audioContext,this.attachedElements[0])}connectWebAudio(e,t){this.disconnectWebAudio(),this.sourceNode=e.createMediaStreamSource(t.srcObject);let n=this.sourceNode;this.webAudioPluginNodes.forEach(e=>{n.connect(e),n=e}),this.gainNode=e.createGain(),n.connect(this.gainNode),this.gainNode.connect(e.destination),this.elementVolume&&this.gainNode.gain.setTargetAtTime(this.elementVolume,0,.1),"running"!==e.state&&e.resume().then(()=>{"running"!==e.state&&this.emit(Sl.AudioPlaybackFailed,new Error("Audio Context couldn't be started automatically"))}).catch(e=>{this.emit(Sl.AudioPlaybackFailed,e)})}disconnectWebAudio(){var e,t;null===(e=this.gainNode)||void 0===e||e.disconnect(),null===(t=this.sourceNode)||void 0===t||t.disconnect(),this.gainNode=void 0,this.sourceNode=void 0}getReceiverStats(){return oc(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;let e;return(yield this.receiver.getStats()).forEach(t=>{"inbound-rtp"===t.type&&(e={type:"audio",streamId:t.id,timestamp:t.timestamp,jitter:t.jitter,bytesReceived:t.bytesReceived,concealedSamples:t.concealedSamples,concealmentEvents:t.concealmentEvents,silentConcealedSamples:t.silentConcealedSamples,silentConcealmentEvents:t.silentConcealmentEvents,totalAudioEnergy:t.totalAudioEnergy,totalSamplesDuration:t.totalSamplesDuration})}),e})}}class Up extends Lp{constructor(e,t,n,i,r){super(e,t,Vl.Kind.Video,n,r),this.elementInfos=[],this.monitorReceiver=()=>oc(this,void 0,void 0,function*(){if(!this.receiver)return void(this._currentBitrate=0);const e=yield this.getReceiverStats();e&&this.prevStats&&this.receiver&&(this._currentBitrate=ep(e,this.prevStats)),this.prevStats=e}),this.debouncedHandleResize=Rh(()=>{this.updateDimensions()},100),this.adaptiveStreamSettings=i}get isAdaptiveStream(){return void 0!==this.adaptiveStreamSettings}setStreamState(e){super.setStreamState(e),this.log.debug("setStreamState",e),this.isAdaptiveStream&&e===Vl.StreamState.Active&&this.updateVisibility()}get mediaStreamTrack(){return this._mediaStreamTrack}setMuted(e){super.setMuted(e),this.attachedElements.forEach(t=>{e?Hl(this._mediaStreamTrack,t):Yl(this._mediaStreamTrack,t)})}attach(e){if(e?super.attach(e):e=super.attach(),this.adaptiveStreamSettings&&void 0===this.elementInfos.find(t=>t.element===e)){const t=new qp(e);this.observeElementInfo(t)}return e}observeElementInfo(e){this.adaptiveStreamSettings&&void 0===this.elementInfos.find(t=>t===e)?(e.handleResize=()=>{this.debouncedHandleResize()},e.handleVisibilityChanged=()=>{this.updateVisibility()},this.elementInfos.push(e),e.observe(),this.debouncedHandleResize(),this.updateVisibility()):this.log.warn("visibility resize observer not triggered",this.logContext)}stopObservingElementInfo(e){if(!this.isAdaptiveStream)return void this.log.warn("stopObservingElementInfo ignored",this.logContext);const t=this.elementInfos.filter(t=>t===e);for(const e of t)e.stopObserving();this.elementInfos=this.elementInfos.filter(t=>t!==e),this.updateVisibility(),this.debouncedHandleResize()}detach(e){let t=[];if(e)return this.stopObservingElement(e),super.detach(e);t=super.detach();for(const e of t)this.stopObservingElement(e);return t}getDecoderImplementation(){var e;return null===(e=this.prevStats)||void 0===e?void 0:e.decoderImplementation}getReceiverStats(){return oc(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;const e=yield this.receiver.getStats();let t,n="",i=new Map;return e.forEach(e=>{"inbound-rtp"===e.type?(n=e.codecId,t={type:"video",streamId:e.id,framesDecoded:e.framesDecoded,framesDropped:e.framesDropped,framesReceived:e.framesReceived,packetsReceived:e.packetsReceived,packetsLost:e.packetsLost,frameWidth:e.frameWidth,frameHeight:e.frameHeight,pliCount:e.pliCount,firCount:e.firCount,nackCount:e.nackCount,jitter:e.jitter,timestamp:e.timestamp,bytesReceived:e.bytesReceived,decoderImplementation:e.decoderImplementation}):"codec"===e.type&&i.set(e.id,e)}),t&&""!==n&&i.get(n)&&(t.mimeType=i.get(n).mimeType),t})}stopObservingElement(e){const t=this.elementInfos.filter(t=>t.element===e);for(const e of t)this.stopObservingElementInfo(e)}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return oc(this,void 0,void 0,function*(){yield e.handleAppVisibilityChanged.call(this),this.isAdaptiveStream&&this.updateVisibility()})}updateVisibility(e){var t,n;const i=this.elementInfos.reduce((e,t)=>Math.max(e,t.visibilityChangedAt||0),0),r=!(null!==(n=null===(t=this.adaptiveStreamSettings)||void 0===t?void 0:t.pauseVideoInBackground)&&void 0!==n&&!n)&&this.isInBackground,o=this.elementInfos.some(e=>e.pictureInPicture),a=this.elementInfos.some(e=>e.visible)&&!r||o;if(this.lastVisible!==a||e){if(!a&&Date.now()-i<100)return void jl.setTimeout(()=>{this.updateVisibility()},100);this.lastVisible=a,this.emit(Sl.VisibilityChanged,a,this)}}updateDimensions(){var e,t;let n=0,i=0;const r=this.getPixelDensity();for(const e of this.elementInfos){const t=e.width()*r,o=e.height()*r;t+o>n+i&&(n=t,i=o)}(null===(e=this.lastDimensions)||void 0===e?void 0:e.width)===n&&(null===(t=this.lastDimensions)||void 0===t?void 0:t.height)===i||(this.lastDimensions={width:n,height:i},this.emit(Sl.VideoDimensionsChanged,this.lastDimensions,this))}getPixelDensity(){var e;const t=null===(e=this.adaptiveStreamSettings)||void 0===e?void 0:e.pixelDensity;return"screen"===t?yd():t||(yd()>2?2:1)}}class qp{get visible(){return this.isPiP||this.isIntersecting}get pictureInPicture(){return this.isPiP}constructor(e,t){this.onVisibilityChanged=e=>{var t;const{target:n,isIntersecting:i}=e;n===this.element&&(this.isIntersecting=i,this.isPiP=Xp(this.element),this.visibilityChangedAt=Date.now(),null===(t=this.handleVisibilityChanged)||void 0===t||t.call(this))},this.onEnterPiP=()=>{var e,t,n;null===(t=null===(e=window.documentPictureInPicture)||void 0===e?void 0:e.window)||void 0===t||t.addEventListener("pagehide",this.onLeavePiP),this.isPiP=Xp(this.element),null===(n=this.handleVisibilityChanged)||void 0===n||n.call(this)},this.onLeavePiP=()=>{var e;this.isPiP=Xp(this.element),null===(e=this.handleVisibilityChanged)||void 0===e||e.call(this)},this.element=e,this.isIntersecting=null!=t?t:zp(e),this.isPiP=Dd()&&Xp(e),this.visibilityChangedAt=0}width(){return this.element.clientWidth}height(){return this.element.clientHeight}observe(){var e,t,n;this.isIntersecting=zp(this.element),this.isPiP=Xp(this.element),this.element.handleResize=()=>{var e;null===(e=this.handleResize)||void 0===e||e.call(this)},this.element.handleVisibilityChanged=this.onVisibilityChanged,xd().observe(this.element),Fd().observe(this.element),this.element.addEventListener("enterpictureinpicture",this.onEnterPiP),this.element.addEventListener("leavepictureinpicture",this.onLeavePiP),null===(e=window.documentPictureInPicture)||void 0===e||e.addEventListener("enter",this.onEnterPiP),null===(n=null===(t=window.documentPictureInPicture)||void 0===t?void 0:t.window)||void 0===n||n.addEventListener("pagehide",this.onLeavePiP)}stopObserving(){var e,t,n,i,r;null===(e=xd())||void 0===e||e.unobserve(this.element),null===(t=Fd())||void 0===t||t.unobserve(this.element),this.element.removeEventListener("enterpictureinpicture",this.onEnterPiP),this.element.removeEventListener("leavepictureinpicture",this.onLeavePiP),null===(n=window.documentPictureInPicture)||void 0===n||n.removeEventListener("enter",this.onEnterPiP),null===(r=null===(i=window.documentPictureInPicture)||void 0===i?void 0:i.window)||void 0===r||r.removeEventListener("pagehide",this.onLeavePiP)}}function Xp(e){var t,n;return document.pictureInPictureElement===e||!(null===(t=window.documentPictureInPicture)||void 0===t||!t.window)&&zp(e,null===(n=window.documentPictureInPicture)||void 0===n?void 0:n.window)}function zp(e,t){const n=t||window;let i=e.offsetTop,r=e.offsetLeft;const o=e.offsetWidth,a=e.offsetHeight,{hidden:s}=e,{display:u}=getComputedStyle(e);for(;e.offsetParent;)i+=(e=e.offsetParent).offsetTop,r+=e.offsetLeft;return i<n.pageYOffset+n.innerHeight&&r<n.pageXOffset+n.innerWidth&&i+a>n.pageYOffset&&r+o>n.pageXOffset&&!s&&"none"!==u}class Zp extends cc.EventEmitter{constructor(e,t,n,i){var r;super(),this.metadataMuted=!1,this.encryption=ls.NONE,this.log=ec,this.handleMuted=()=>{this.emit(Sl.Muted)},this.handleUnmuted=()=>{this.emit(Sl.Unmuted)},this.log=tc(null!==(r=null==i?void 0:i.loggerName)&&void 0!==r?r:Yu.Publication),this.loggerContextCb=this.loggerContextCb,this.setMaxListeners(100),this.kind=e,this.trackSid=t,this.trackName=n,this.source=Vl.Source.Unknown}setTrack(e){this.track&&(this.track.off(Sl.Muted,this.handleMuted),this.track.off(Sl.Unmuted,this.handleUnmuted)),this.track=e,e&&(e.on(Sl.Muted,this.handleMuted),e.on(Sl.Unmuted,this.handleUnmuted))}get logContext(){var e;return Object.assign(Object.assign({},null===(e=this.loggerContextCb)||void 0===e?void 0:e.call(this)),ih(this))}get isMuted(){return this.metadataMuted}get isEnabled(){return!0}get isSubscribed(){return void 0!==this.track}get isEncrypted(){return this.encryption!==ls.NONE}get audioTrack(){if(qd(this.track))return this.track}get videoTrack(){if(Xd(this.track))return this.track}updateInfo(e){this.trackSid=e.sid,this.trackName=e.name,this.source=Vl.sourceFromProto(e.source),this.mimeType=e.mimeType,this.kind===Vl.Kind.Video&&e.width>0&&(this.dimensions={width:e.width,height:e.height},this.simulcasted=e.simulcast),this.encryption=e.encryption,this.trackInfo=e,this.log.debug("update publication info",Object.assign(Object.assign({},this.logContext),{info:e}))}}!function(e){var t;(t=e.SubscriptionStatus||(e.SubscriptionStatus={})).Desired="desired",t.Subscribed="subscribed",t.Unsubscribed="unsubscribed",function(e){e.Allowed="allowed",e.NotAllowed="not_allowed"}(e.PermissionStatus||(e.PermissionStatus={}))}(Zp||(Zp={}));class jp extends Zp{get isUpstreamPaused(){var e;return null===(e=this.track)||void 0===e?void 0:e.isUpstreamPaused}constructor(e,t,n,i){super(e,t.sid,t.name,i),this.track=void 0,this.handleTrackEnded=()=>{this.emit(Sl.Ended)},this.handleCpuConstrained=()=>{this.track&&Xd(this.track)&&this.emit(Sl.CpuConstrained,this.track)},this.updateInfo(t),this.setTrack(n)}setTrack(e){this.track&&(this.track.off(Sl.Ended,this.handleTrackEnded),this.track.off(Sl.CpuConstrained,this.handleCpuConstrained)),super.setTrack(e),e&&(e.on(Sl.Ended,this.handleTrackEnded),e.on(Sl.CpuConstrained,this.handleCpuConstrained))}get isMuted(){return this.track?this.track.isMuted:super.isMuted}get audioTrack(){return super.audioTrack}get videoTrack(){return super.videoTrack}get isLocal(){return!0}mute(){return oc(this,void 0,void 0,function*(){var e;return null===(e=this.track)||void 0===e?void 0:e.mute()})}unmute(){return oc(this,void 0,void 0,function*(){var e;return null===(e=this.track)||void 0===e?void 0:e.unmute()})}pauseUpstream(){return oc(this,void 0,void 0,function*(){var e;yield null===(e=this.track)||void 0===e?void 0:e.pauseUpstream()})}resumeUpstream(){return oc(this,void 0,void 0,function*(){var e;yield null===(e=this.track)||void 0===e?void 0:e.resumeUpstream()})}getTrackFeatures(){var e;if(qd(this.track)){const t=this.track.getSourceTrackSettings(),n=new Set;return t.autoGainControl&&n.add(ns.TF_AUTO_GAIN_CONTROL),t.echoCancellation&&n.add(ns.TF_ECHO_CANCELLATION),t.noiseSuppression&&n.add(ns.TF_NOISE_SUPPRESSION),t.channelCount&&t.channelCount>1&&n.add(ns.TF_STEREO),!(null===(e=this.options)||void 0===e)&&e.dtx||n.add(ns.TF_NO_DTX),this.track.enhancedNoiseCancellation&&n.add(ns.TF_ENHANCED_NOISE_CANCELLATION),Array.from(n.values())}return[]}}function Wp(e,t){return oc(this,void 0,void 0,function*(){null!=e||(e={});let n=!1;const{audioProcessor:i,videoProcessor:r,optionsWithoutProcessor:o}=rh(e);let a=o.audio,s=o.video;if(i&&"object"==typeof o.audio&&(o.audio.processor=i),r&&"object"==typeof o.video&&(o.video.processor=r),e.audio&&"object"==typeof o.audio&&"string"==typeof o.audio.deviceId){const e=o.audio.deviceId;o.audio.deviceId={exact:e},n=!0,a=Object.assign(Object.assign({},o.audio),{deviceId:{ideal:e}})}if(o.video&&"object"==typeof o.video&&"string"==typeof o.video.deviceId){const e=o.video.deviceId;o.video.deviceId={exact:e},n=!0,s=Object.assign(Object.assign({},o.video),{deviceId:{ideal:e}})}!0===o.audio?o.audio={deviceId:"default"}:"object"==typeof o.audio&&null!==o.audio&&(o.audio=Object.assign(Object.assign({},o.audio),{deviceId:o.audio.deviceId||"default"})),!0===o.video?o.video={deviceId:"default"}:"object"==typeof o.video&&!o.video.deviceId&&(o.video.deviceId="default");const u=Vd(o,Xh,zh),c=Hd(u),l=navigator.mediaDevices.getUserMedia(c);o.audio&&(ch.userMediaPromiseMap.set("audioinput",l),l.catch(()=>ch.userMediaPromiseMap.delete("audioinput"))),o.video&&(ch.userMediaPromiseMap.set("videoinput",l),l.catch(()=>ch.userMediaPromiseMap.delete("videoinput")));try{const e=yield l;return yield Promise.all(e.getTracks().map(n=>oc(this,void 0,void 0,function*(){const o="audio"===n.kind;let a,s=o?u.audio:u.video;("boolean"==typeof s||!s)&&(s={});const l=o?c.audio:c.video;"boolean"!=typeof l&&(a=l);const d=n.getSettings().deviceId;null!=a&&a.deviceId&&Nd(a.deviceId)!==d?a.deviceId=d:a||(a={deviceId:d});const h=function(e,t,n){switch(e.kind){case"audio":return new op(e,t,!1,void 0,n);case"video":return new gp(e,t,!1,n);default:throw new Pl("unsupported track type: ".concat(e.kind))}}(n,a,t);return h.kind===Vl.Kind.Video?h.source=Vl.Source.Camera:h.kind===Vl.Kind.Audio&&(h.source=Vl.Source.Microphone),h.mediaStream=e,qd(h)&&i?yield h.setProcessor(i):Xd(h)&&r&&(yield h.setProcessor(r)),h})))}catch(i){if(!n)throw i;return Wp(Object.assign(Object.assign({},e),{audio:a,video:s}),t)}})}!function(e){e.Excellent="excellent",e.Good="good",e.Poor="poor",e.Lost="lost",e.Unknown="unknown"}(Tp||(Tp={}));class Gp extends cc.EventEmitter{get logContext(){var e,t;return Object.assign({},null===(t=null===(e=this.loggerOptions)||void 0===e?void 0:e.loggerContextCb)||void 0===t?void 0:t.call(e))}get isEncrypted(){return this.trackPublications.size>0&&Array.from(this.trackPublications.values()).every(e=>e.isEncrypted)}get isAgent(){var e;return(null===(e=this.permissions)||void 0===e?void 0:e.agent)||this.kind===us.AGENT}get isActive(){var e;return(null===(e=this.participantInfo)||void 0===e?void 0:e.state)===ss.ACTIVE}get kind(){return this._kind}get attributes(){return Object.freeze(Object.assign({},this._attributes))}constructor(e,t,n,i,r,o){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:us.STANDARD;var s;super(),this.audioLevel=0,this.isSpeaking=!1,this._connectionQuality=Tp.Unknown,this.log=ec,this.log=tc(null!==(s=null==o?void 0:o.loggerName)&&void 0!==s?s:Yu.Participant),this.loggerOptions=o,this.setMaxListeners(100),this.sid=e,this.identity=t,this.name=n,this.metadata=i,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this._kind=a,this._attributes=null!=r?r:{}}getTrackPublications(){return Array.from(this.trackPublications.values())}getTrackPublication(e){for(const[,t]of this.trackPublications)if(t.source===e)return t}getTrackPublicationByName(e){for(const[,t]of this.trackPublications)if(t.trackName===e)return t}waitUntilActive(){return this.isActive?Promise.resolve():(this.activeFuture||(this.activeFuture=new Qd,this.once(Tl.Active,()=>{var e,t;null===(t=null===(e=this.activeFuture)||void 0===e?void 0:e.resolve)||void 0===t||t.call(e),this.activeFuture=void 0})),this.activeFuture.promise)}get connectionQuality(){return this._connectionQuality}get isCameraEnabled(){var e;const t=this.getTrackPublication(Vl.Source.Camera);return!(null===(e=null==t?void 0:t.isMuted)||void 0===e||e)}get isMicrophoneEnabled(){var e;const t=this.getTrackPublication(Vl.Source.Microphone);return!(null===(e=null==t?void 0:t.isMuted)||void 0===e||e)}get isScreenShareEnabled(){return!!this.getTrackPublication(Vl.Source.ScreenShare)}get isLocal(){return!1}get joinedAt(){return this.participantInfo?new Date(1e3*Number.parseInt(this.participantInfo.joinedAt.toString())):new Date}updateInfo(e){var t;return!(this.participantInfo&&this.participantInfo.sid===e.sid&&this.participantInfo.version>e.version||(this.identity=e.identity,this.sid=e.sid,this._setName(e.name),this._setMetadata(e.metadata),this._setAttributes(e.attributes),e.state===ss.ACTIVE&&(null===(t=this.participantInfo)||void 0===t?void 0:t.state)!==ss.ACTIVE&&this.emit(Tl.Active),e.permission&&this.setPermissions(e.permission),this.participantInfo=e,0))}_setMetadata(e){const t=this.metadata!==e,n=this.metadata;this.metadata=e,t&&this.emit(Tl.ParticipantMetadataChanged,n)}_setName(e){const t=this.name!==e;this.name=e,t&&this.emit(Tl.ParticipantNameChanged,e)}_setAttributes(e){const t=function(e,t){var n;void 0===e&&(e={}),void 0===t&&(t={});const i=[...Object.keys(t),...Object.keys(e)],r={};for(const o of i)e[o]!==t[o]&&(r[o]=null!==(n=t[o])&&void 0!==n?n:"");return r}(this.attributes,e);this._attributes=e,Object.keys(t).length>0&&this.emit(Tl.AttributesChanged,t)}setPermissions(e){var t,n,i,r,o,a;const s=this.permissions,u=e.canPublish!==(null===(t=this.permissions)||void 0===t?void 0:t.canPublish)||e.canSubscribe!==(null===(n=this.permissions)||void 0===n?void 0:n.canSubscribe)||e.canPublishData!==(null===(i=this.permissions)||void 0===i?void 0:i.canPublishData)||e.hidden!==(null===(r=this.permissions)||void 0===r?void 0:r.hidden)||e.recorder!==(null===(o=this.permissions)||void 0===o?void 0:o.recorder)||e.canPublishSources.length!==this.permissions.canPublishSources.length||e.canPublishSources.some((e,t)=>{var n;return e!==(null===(n=this.permissions)||void 0===n?void 0:n.canPublishSources[t])})||e.canSubscribeMetrics!==(null===(a=this.permissions)||void 0===a?void 0:a.canSubscribeMetrics);return this.permissions=e,u&&this.emit(Tl.ParticipantPermissionsChanged,s),u}setIsSpeaking(e){e!==this.isSpeaking&&(this.isSpeaking=e,e&&(this.lastSpokeAt=new Date),this.emit(Tl.IsSpeakingChanged,e))}setConnectionQuality(e){const t=this._connectionQuality;this._connectionQuality=function(e){switch(e){case Ha.EXCELLENT:return Tp.Excellent;case Ha.GOOD:return Tp.Good;case Ha.POOR:return Tp.Poor;case Ha.LOST:return Tp.Lost;default:return Tp.Unknown}}(e),t!==this._connectionQuality&&this.emit(Tl.ConnectionQualityChanged,this._connectionQuality)}setDisconnected(){var e,t;this.activeFuture&&(null===(t=(e=this.activeFuture).reject)||void 0===t||t.call(e,new Error("Participant disconnected")),this.activeFuture=void 0)}setAudioContext(e){this.audioContext=e,this.audioTrackPublications.forEach(t=>qd(t.track)&&t.track.setAudioContext(e))}addTrackPublication(e){e.on(Sl.Muted,()=>{this.emit(Tl.TrackMuted,e)}),e.on(Sl.Unmuted,()=>{this.emit(Tl.TrackUnmuted,e)});const t=e;switch(t.track&&(t.track.sid=e.trackSid),this.trackPublications.set(e.trackSid,e),e.kind){case Vl.Kind.Audio:this.audioTrackPublications.set(e.trackSid,e);break;case Vl.Kind.Video:this.videoTrackPublications.set(e.trackSid,e)}}}class Vp extends Gp{constructor(e,t,n,i,r,o){super(e,t,void 0,void 0,void 0,{loggerName:i.loggerName,loggerContextCb:()=>this.engine.logContext}),this.pendingPublishing=new Set,this.pendingPublishPromises=new Map,this.participantTrackPermissions=[],this.allParticipantsAllowedToSubscribe=!0,this.encryptionType=ls.NONE,this.enabledPublishVideoCodecs=[],this.pendingAcks=new Map,this.pendingResponses=new Map,this.handleReconnecting=()=>{this.reconnectFuture||(this.reconnectFuture=new Qd)},this.handleReconnected=()=>{var e,t;null===(t=null===(e=this.reconnectFuture)||void 0===e?void 0:e.resolve)||void 0===t||t.call(e),this.reconnectFuture=void 0,this.updateTrackSubscriptionPermissions()},this.handleClosing=()=>{var e,t,n,i,r,o;this.reconnectFuture&&(this.reconnectFuture.promise.catch(e=>this.log.warn(e.message,this.logContext)),null===(t=null===(e=this.reconnectFuture)||void 0===e?void 0:e.reject)||void 0===t||t.call(e,new Error("Got disconnected during reconnection attempt")),this.reconnectFuture=void 0),this.signalConnectedFuture&&(null===(i=(n=this.signalConnectedFuture).reject)||void 0===i||i.call(n,new Error("Got disconnected without signal connected")),this.signalConnectedFuture=void 0),null===(o=null===(r=this.activeAgentFuture)||void 0===r?void 0:r.reject)||void 0===o||o.call(r,new Error("Got disconnected without active agent present")),this.activeAgentFuture=void 0,this.firstActiveAgent=void 0},this.handleSignalConnected=e=>{var t,n;e.participant&&this.updateInfo(e.participant),this.signalConnectedFuture||(this.signalConnectedFuture=new Qd),null===(n=(t=this.signalConnectedFuture).resolve)||void 0===n||n.call(t)},this.handleSignalRequestResponse=e=>{const{requestId:t,reason:n,message:i}=e,r=this.pendingSignalRequests.get(t);r&&(n!==$u.OK&&r.reject(new Bl(i,n)),this.pendingSignalRequests.delete(t))},this.handleDataPacket=e=>{switch(e.value.case){case"rpcResponse":let t=e.value.value,n=null,i=null;"payload"===t.value.case?n=t.value.value:"error"===t.value.case&&(i=Yh.fromProto(t.value.value)),this.handleIncomingRpcResponse(t.requestId,n,i);break;case"rpcAck":let r=e.value.value;this.handleIncomingRpcAck(r.requestId)}},this.updateTrackSubscriptionPermissions=()=>{this.log.debug("updating track subscription permissions",Object.assign(Object.assign({},this.logContext),{allParticipantsAllowed:this.allParticipantsAllowedToSubscribe,participantTrackPermissions:this.participantTrackPermissions})),this.engine.client.sendUpdateSubscriptionPermissions(this.allParticipantsAllowedToSubscribe,this.participantTrackPermissions.map(e=>function(e){var t,n,i;if(!e.participantSid&&!e.participantIdentity)throw new Error("Invalid track permission, must provide at least one of participantIdentity and participantSid");return new Au({participantIdentity:null!==(t=e.participantIdentity)&&void 0!==t?t:"",participantSid:null!==(n=e.participantSid)&&void 0!==n?n:"",allTracks:null!==(i=e.allowAll)&&void 0!==i&&i,trackSids:e.allowedTrackSids||[]})}(e)))},this.onTrackUnmuted=e=>{this.onTrackMuted(e,e.isUpstreamPaused)},this.onTrackMuted=(e,t)=>{void 0===t&&(t=!0),e.sid?this.engine.updateMuteStatus(e.sid,t):this.log.error("could not update mute status for unpublished track",Object.assign(Object.assign({},this.logContext),ih(e)))},this.onTrackUpstreamPaused=e=>{this.log.debug("upstream paused",Object.assign(Object.assign({},this.logContext),ih(e))),this.onTrackMuted(e,!0)},this.onTrackUpstreamResumed=e=>{this.log.debug("upstream resumed",Object.assign(Object.assign({},this.logContext),ih(e))),this.onTrackMuted(e,e.isMuted)},this.onTrackFeatureUpdate=e=>{const t=this.audioTrackPublications.get(e.sid);t?this.engine.client.sendUpdateLocalAudioTrack(t.trackSid,t.getTrackFeatures()):this.log.warn("Could not update local audio track settings, missing publication for track ".concat(e.sid),this.logContext)},this.onTrackCpuConstrained=(e,t)=>{this.log.debug("track cpu constrained",Object.assign(Object.assign({},this.logContext),ih(t))),this.emit(Tl.LocalTrackCpuConstrained,e,t)},this.handleSubscribedQualityUpdate=e=>oc(this,void 0,void 0,function*(){var t,n,i,r,o;if(null===(o=this.roomOptions)||void 0===o||!o.dynacast)return;const a=this.videoTrackPublications.get(e.trackSid);if(!a)return void this.log.warn("received subscribed quality update for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:e.trackSid}));if(!a.videoTrack)return;const s=yield a.videoTrack.setPublishingCodecs(e.subscribedCodecs);try{for(var u,c=!0,l=ac(s);!(t=(u=yield l.next()).done);c=!0){r=u.value,c=!1;const e=r;td(e)&&(this.log.debug("publish ".concat(e," for ").concat(a.videoTrack.sid),Object.assign(Object.assign({},this.logContext),ih(a))),yield this.publishAdditionalCodecForTrack(a.videoTrack,e,a.options))}}catch(e){n={error:e}}finally{try{!c&&!t&&(i=l.return)&&(yield i.call(l))}finally{if(n)throw n.error}}}),this.handleLocalTrackUnpublished=e=>{const t=this.trackPublications.get(e.trackSid);t?this.unpublishTrack(t.track):this.log.warn("received unpublished event for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:e.trackSid}))},this.handleTrackEnded=e=>oc(this,void 0,void 0,function*(){if(e.source===Vl.Source.ScreenShare||e.source===Vl.Source.ScreenShareAudio)this.log.debug("unpublishing local track due to TrackEnded",Object.assign(Object.assign({},this.logContext),ih(e))),this.unpublishTrack(e);else if(e.isUserProvided)yield e.mute();else if(Zd(e)||zd(e))try{if(Dd())try{const t=yield null==navigator?void 0:navigator.permissions.query({name:e.source===Vl.Source.Camera?"camera":"microphone"});if(t&&"denied"===t.state)throw this.log.warn("user has revoked access to ".concat(e.source),Object.assign(Object.assign({},this.logContext),ih(e))),t.onchange=()=>{"denied"!==t.state&&(e.isMuted||e.restartTrack(),t.onchange=null)},new Error("GetUserMedia Permission denied")}catch(e){}e.isMuted||(this.log.debug("track ended, attempting to use a different device",Object.assign(Object.assign({},this.logContext),ih(e))),Zd(e)?yield e.restartTrack({deviceId:"default"}):yield e.restartTrack())}catch(t){this.log.warn("could not restart track, muting instead",Object.assign(Object.assign({},this.logContext),ih(e))),yield e.mute()}}),this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this.engine=n,this.roomOptions=i,this.setupEngine(n),this.activeDeviceMap=new Map([["audioinput","default"],["videoinput","default"],["audiooutput","default"]]),this.pendingSignalRequests=new Map,this.rpcHandlers=r,this.roomOutgoingDataStreamManager=o}get lastCameraError(){return this.cameraError}get lastMicrophoneError(){return this.microphoneError}get isE2EEEnabled(){return this.encryptionType!==ls.NONE}getTrackPublication(e){const t=super.getTrackPublication(e);if(t)return t}getTrackPublicationByName(e){const t=super.getTrackPublicationByName(e);if(t)return t}setupEngine(e){var t;this.engine=e,this.engine.on(Al.RemoteMute,(e,t)=>{const n=this.trackPublications.get(e);!n||!n.track||(t?n.mute():n.unmute())}),!(null===(t=this.signalConnectedFuture)||void 0===t)&&t.isResolved&&(this.signalConnectedFuture=void 0),this.engine.on(Al.Connected,this.handleReconnected).on(Al.SignalConnected,this.handleSignalConnected).on(Al.SignalRestarted,this.handleReconnected).on(Al.SignalResumed,this.handleReconnected).on(Al.Restarting,this.handleReconnecting).on(Al.Resuming,this.handleReconnecting).on(Al.LocalTrackUnpublished,this.handleLocalTrackUnpublished).on(Al.SubscribedQualityUpdate,this.handleSubscribedQualityUpdate).on(Al.Closing,this.handleClosing).on(Al.SignalRequestResponse,this.handleSignalRequestResponse).on(Al.DataPacketReceived,this.handleDataPacket)}setMetadata(e){return oc(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({metadata:e})})}setName(e){return oc(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({name:e})})}setAttributes(e){return oc(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({attributes:e})})}requestMetadataUpdate(e){return oc(this,arguments,void 0,function(e){var t=this;let{metadata:n,name:i,attributes:r}=e;return function*(){return new Promise((e,o)=>oc(t,void 0,void 0,function*(){var t,a;try{let s=!1;const u=yield this.engine.client.sendUpdateLocalMetadata(null!==(t=null!=n?n:this.metadata)&&void 0!==t?t:"",null!==(a=null!=i?i:this.name)&&void 0!==a?a:"",r),c=performance.now();for(this.pendingSignalRequests.set(u,{resolve:e,reject:e=>{o(e),s=!0},values:{name:i,metadata:n,attributes:r}});performance.now()-c<5e3&&!s;){if((!i||this.name===i)&&(!n||this.metadata===n)&&(!r||Object.entries(r).every(e=>{let[t,n]=e;return this.attributes[t]===n||""===n&&!this.attributes[t]})))return this.pendingSignalRequests.delete(u),void e();yield ud(50)}o(new Bl("Request to update local metadata timed out","TimeoutError"))}catch(e){e instanceof Error&&o(e)}}))}()})}setCameraEnabled(e,t,n){return this.setTrackEnabled(Vl.Source.Camera,e,t,n)}setMicrophoneEnabled(e,t,n){return this.setTrackEnabled(Vl.Source.Microphone,e,t,n)}setScreenShareEnabled(e,t,n){return this.setTrackEnabled(Vl.Source.ScreenShare,e,t,n)}setE2EEEnabled(e){return oc(this,void 0,void 0,function*(){this.encryptionType=e?ls.GCM:ls.NONE,yield this.republishAllTracks(void 0,!1)})}setTrackEnabled(e,t,n,i){return oc(this,void 0,void 0,function*(){var r,o;this.log.debug("setTrackEnabled",Object.assign(Object.assign({},this.logContext),{source:e,enabled:t})),this.republishPromise&&(yield this.republishPromise);let a=this.getTrackPublication(e);if(t)if(a)yield a.unmute();else{let t;if(this.pendingPublishing.has(e)){const t=yield this.waitForPendingPublicationOfSource(e);return t||this.log.info("waiting for pending publication promise timed out",Object.assign(Object.assign({},this.logContext),{source:e})),yield null==t?void 0:t.unmute(),t}this.pendingPublishing.add(e);try{switch(e){case Vl.Source.Camera:t=yield this.createTracks({video:null===(r=n)||void 0===r||r});break;case Vl.Source.Microphone:t=yield this.createTracks({audio:null===(o=n)||void 0===o||o});break;case Vl.Source.ScreenShare:t=yield this.createScreenTracks(Object.assign({},n));break;default:throw new Pl(e)}}catch(n){throw null==t||t.forEach(e=>{e.stop()}),n instanceof Error&&this.emit(Tl.MediaDevicesError,n,eh(e)),this.pendingPublishing.delete(e),n}for(const i of t){const t=Object.assign(Object.assign({},this.roomOptions.publishDefaults),n);e===Vl.Source.Microphone&&qd(i)&&t.preConnectBuffer&&(this.log.info("starting preconnect buffer for microphone",Object.assign({},this.logContext)),i.startPreConnectBuffer())}try{const e=[];for(const n of t)this.log.info("publishing track",Object.assign(Object.assign({},this.logContext),ih(n))),e.push(this.publishTrack(n,i));[a]=yield Promise.all(e)}catch(e){throw null==t||t.forEach(e=>{e.stop()}),e}finally{this.pendingPublishing.delete(e)}}else if(!(null!=a&&a.track)&&this.pendingPublishing.has(e)&&(a=yield this.waitForPendingPublicationOfSource(e),a||this.log.info("waiting for pending publication promise timed out",Object.assign(Object.assign({},this.logContext),{source:e}))),a&&a.track)if(e===Vl.Source.ScreenShare){a=yield this.unpublishTrack(a.track);const e=this.getTrackPublication(Vl.Source.ScreenShareAudio);e&&e.track&&this.unpublishTrack(e.track)}else yield a.mute();return a})}enableCameraAndMicrophone(){return oc(this,void 0,void 0,function*(){if(!this.pendingPublishing.has(Vl.Source.Camera)&&!this.pendingPublishing.has(Vl.Source.Microphone)){this.pendingPublishing.add(Vl.Source.Camera),this.pendingPublishing.add(Vl.Source.Microphone);try{const e=yield this.createTracks({audio:!0,video:!0});yield Promise.all(e.map(e=>this.publishTrack(e)))}finally{this.pendingPublishing.delete(Vl.Source.Camera),this.pendingPublishing.delete(Vl.Source.Microphone)}}})}createTracks(e){return oc(this,void 0,void 0,function*(){var t,n;null!=e||(e={});const i=Vd(e,null===(t=this.roomOptions)||void 0===t?void 0:t.audioCaptureDefaults,null===(n=this.roomOptions)||void 0===n?void 0:n.videoCaptureDefaults);try{return(yield Wp(i,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext})).map(e=>(qd(e)&&(this.microphoneError=void 0,e.setAudioContext(this.audioContext),e.source=Vl.Source.Microphone,this.emit(Tl.AudioStreamAcquired)),Xd(e)&&(this.cameraError=void 0,e.source=Vl.Source.Camera),e))}catch(t){throw t instanceof Error&&(e.audio&&(this.microphoneError=t),e.video&&(this.cameraError=t)),t}})}createScreenTracks(e){return oc(this,void 0,void 0,function*(){if(void 0===e&&(e={}),void 0===navigator.mediaDevices.getDisplayMedia)throw new xl("getDisplayMedia not supported");void 0===e.resolution&&!function(){const e=ql();return"Safari"===(null==e?void 0:e.name)&&e.version.startsWith("17.")||"iOS"===(null==e?void 0:e.os)&&!(null==e||!e.osVersion)&&Td(e.osVersion,"17")>=0}()&&(e.resolution=ad.h1080fps30.resolution);const t=function(e){var t,n;let i=null===(t=e.video)||void 0===t||t;return e.resolution&&e.resolution.width>0&&e.resolution.height>0&&(i="boolean"==typeof i?{}:i,i=md()?Object.assign(Object.assign({},i),{width:{max:e.resolution.width},height:{max:e.resolution.height},frameRate:e.resolution.frameRate}):Object.assign(Object.assign({},i),{width:{ideal:e.resolution.width},height:{ideal:e.resolution.height},frameRate:e.resolution.frameRate})),{audio:null!==(n=e.audio)&&void 0!==n&&n,video:i,controller:e.controller,selfBrowserSurface:e.selfBrowserSurface,surfaceSwitching:e.surfaceSwitching,systemAudio:e.systemAudio,preferCurrentTab:e.preferCurrentTab}}(e),n=yield navigator.mediaDevices.getDisplayMedia(t),i=n.getVideoTracks();if(0===i.length)throw new Pl("no video track found");const r=new gp(i[0],void 0,!1,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});r.source=Vl.Source.ScreenShare,e.contentHint&&(r.mediaStreamTrack.contentHint=e.contentHint);const o=[r];if(n.getAudioTracks().length>0){this.emit(Tl.AudioStreamAcquired);const e=new op(n.getAudioTracks()[0],void 0,!1,this.audioContext,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});e.source=Vl.Source.ScreenShareAudio,o.push(e)}return o})}publishTrack(e,t){return oc(this,void 0,void 0,function*(){return this.publishOrRepublishTrack(e,t)})}publishOrRepublishTrack(e,t){return oc(this,arguments,void 0,function(e,t){var n=this;let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function*(){var r,o,a,s;let u,c;if(Zd(e)&&e.setAudioContext(n.audioContext),yield null===(r=n.reconnectFuture)||void 0===r?void 0:r.promise,n.republishPromise&&!i&&(yield n.republishPromise),Ud(e)&&n.pendingPublishPromises.has(e)&&(yield n.pendingPublishPromises.get(e)),e instanceof MediaStreamTrack)u=e.getConstraints();else{let t;switch(u=e.constraints,e.source){case Vl.Source.Microphone:t="audioinput";break;case Vl.Source.Camera:t="videoinput"}t&&n.activeDeviceMap.has(t)&&(u=Object.assign(Object.assign({},u),{deviceId:n.activeDeviceMap.get(t)}))}if(e instanceof MediaStreamTrack)switch(e.kind){case"audio":e=new op(e,u,!0,n.audioContext,{loggerName:n.roomOptions.loggerName,loggerContextCb:()=>n.logContext});break;case"video":e=new gp(e,u,!0,{loggerName:n.roomOptions.loggerName,loggerContextCb:()=>n.logContext});break;default:throw new Pl("unsupported MediaStreamTrack kind ".concat(e.kind))}else e.updateLoggerOptions({loggerName:n.roomOptions.loggerName,loggerContextCb:()=>n.logContext});if(n.trackPublications.forEach(t=>{t.track&&t.track===e&&(c=t)}),c)return n.log.warn("track has already been published, skipping",Object.assign(Object.assign({},n.logContext),ih(c))),c;const l=Object.assign(Object.assign({},n.roomOptions.publishDefaults),t),d="channelCount"in e.mediaStreamTrack.getSettings()&&2===e.mediaStreamTrack.getSettings().channelCount||2===e.mediaStreamTrack.getConstraints().channelCount,h=null!==(o=l.forceStereo)&&void 0!==o?o:d;h&&(void 0===l.dtx&&n.log.info("Opus DTX will be disabled for stereo tracks by default. Enable them explicitly to make it work.",Object.assign(Object.assign({},n.logContext),ih(e))),void 0===l.red&&n.log.info("Opus RED will be disabled for stereo tracks by default. Enable them explicitly to make it work."),null!==(a=l.dtx)&&void 0!==a||(l.dtx=!1),null!==(s=l.red)&&void 0!==s||(l.red=!1)),!function(){const e=ql(),t="17.2";if(e)return!!("Safari"!==e.name&&"iOS"!==e.os||"iOS"===e.os&&e.osVersion&&Td(e.osVersion,t)>=0)||"Safari"===e.name&&Td(e.version,t)>=0}()&&n.roomOptions.e2ee&&(n.log.info("End-to-end encryption is set up, simulcast publishing will be disabled on Safari versions and iOS browsers running iOS < v17.2",Object.assign({},n.logContext)),l.simulcast=!1),l.source&&(e.source=l.source);const p=new Promise((t,i)=>oc(n,void 0,void 0,function*(){try{if(this.engine.client.currentState!==Oh.CONNECTED){this.log.debug("deferring track publication until signal is connected",Object.assign(Object.assign({},this.logContext),{track:ih(e)}));let n=!1;const r=setTimeout(()=>{n=!0,e.stop(),i(new Nl("publishing rejected as engine not connected within timeout",408))},15e3);if(yield this.waitUntilEngineConnected(),clearTimeout(r),n)return;const o=yield this.publish(e,l,h);t(o)}else try{const n=yield this.publish(e,l,h);t(n)}catch(e){i(e)}}catch(e){i(e)}}));n.pendingPublishPromises.set(e,p);try{return yield p}catch(e){throw e}finally{n.pendingPublishPromises.delete(e)}}()})}waitUntilEngineConnected(){return this.signalConnectedFuture||(this.signalConnectedFuture=new Qd),this.signalConnectedFuture.promise}hasPermissionsToPublish(e){if(!this.permissions)return this.log.warn("no permissions present for publishing track",Object.assign(Object.assign({},this.logContext),ih(e))),!1;const{canPublish:t,canPublishSources:n}=this.permissions;return!(!t||0!==n.length&&!n.map(e=>function(e){switch(e){case Va.CAMERA:return Vl.Source.Camera;case Va.MICROPHONE:return Vl.Source.Microphone;case Va.SCREEN_SHARE:return Vl.Source.ScreenShare;case Va.SCREEN_SHARE_AUDIO:return Vl.Source.ScreenShareAudio;default:return Vl.Source.Unknown}}(e)).includes(e.source))||(this.log.warn("insufficient permissions to publish",Object.assign(Object.assign({},this.logContext),ih(e))),!1)}publish(e,t,n){return oc(this,void 0,void 0,function*(){var i,r,o,a,s,u,c,l,d,h;if(!this.hasPermissionsToPublish(e))throw new Nl("failed to publish track, insufficient permissions",403);Array.from(this.trackPublications.values()).find(t=>Ud(e)&&t.source===e.source)&&e.source!==Vl.Source.Unknown&&this.log.info("publishing a second track with the same source: ".concat(e.source),Object.assign(Object.assign({},this.logContext),ih(e))),t.stopMicTrackOnMute&&qd(e)&&(e.stopOnMute=!0),e.source===Vl.Source.ScreenShare&&pd()&&(t.simulcast=!1),"av1"===t.videoCodec&&!function(){if(!("getCapabilities"in RTCRtpSender)||md()||pd())return!1;const e=RTCRtpSender.getCapabilities("video");let t=!1;if(e)for(const n of e.codecs)if("video/av1"===n.mimeType.toLowerCase()){t=!0;break}return t}()&&(t.videoCodec=void 0),"vp9"===t.videoCodec&&!function(){if(!("getCapabilities"in RTCRtpSender)||pd())return!1;if(md()){const e=ql();if(null!=e&&e.version&&Td(e.version,"16")<0||"iOS"===(null==e?void 0:e.os)&&null!=e&&e.osVersion&&Td(e.osVersion,"16")<0)return!1}const e=RTCRtpSender.getCapabilities("video");let t=!1;if(e)for(const n of e.codecs)if("video/vp9"===n.mimeType.toLowerCase()){t=!0;break}return t}()&&(t.videoCodec=void 0),void 0===t.videoCodec&&(t.videoCodec=Uh),this.enabledPublishVideoCodecs.length>0&&(this.enabledPublishVideoCodecs.some(e=>t.videoCodec===th(e.mime))||(t.videoCodec=th(this.enabledPublishVideoCodecs[0].mime)));const p=t.videoCodec;e.on(Sl.Muted,this.onTrackMuted),e.on(Sl.Unmuted,this.onTrackUnmuted),e.on(Sl.Ended,this.handleTrackEnded),e.on(Sl.UpstreamPaused,this.onTrackUpstreamPaused),e.on(Sl.UpstreamResumed,this.onTrackUpstreamResumed),e.on(Sl.AudioTrackFeatureUpdate,this.onTrackFeatureUpdate);const f=[],m=!(null===(i=t.dtx)||void 0===i||i),O=e.getSourceTrackSettings();O.autoGainControl&&f.push(ns.TF_AUTO_GAIN_CONTROL),O.echoCancellation&&f.push(ns.TF_ECHO_CANCELLATION),O.noiseSuppression&&f.push(ns.TF_NOISE_SUPPRESSION),O.channelCount&&O.channelCount>1&&f.push(ns.TF_STEREO),m&&f.push(ns.TF_NO_DTX),Zd(e)&&e.hasPreConnectBuffer&&f.push(ns.TF_PRECONNECT_BUFFER);const g=new Ks({cid:e.mediaStreamTrack.id,name:t.name,type:Vl.kindToProto(e.kind),muted:e.isMuted,source:Vl.sourceToProto(e.source),disableDtx:m,encryption:this.encryptionType,stereo:n,disableRed:this.isE2EEEnabled||!(null===(r=t.red)||void 0===r||r),stream:null==t?void 0:t.stream,backupCodecPolicy:null==t?void 0:t.backupCodecPolicy,audioFeatures:f});let D;if(e.kind===Vl.Kind.Video){let n={width:0,height:0};try{n=yield e.waitForDimensions()}catch(t){const i=null!==(a=null===(o=this.roomOptions.videoCaptureDefaults)||void 0===o?void 0:o.resolution)&&void 0!==a?a:rd.h720.resolution;n={width:i.width,height:i.height},this.log.error("could not determine track dimensions, using defaults",Object.assign(Object.assign(Object.assign({},this.logContext),ih(e)),{dims:n}))}g.width=n.width,g.height=n.height,zd(e)&&(dd(p)&&(e.source===Vl.Source.ScreenShare&&(t.scalabilityMode="L1T3","contentHint"in e.mediaStreamTrack&&(e.mediaStreamTrack.contentHint="motion",this.log.info("forcing contentHint to motion for screenshare with SVC codecs",Object.assign(Object.assign({},this.logContext),ih(e))))),t.scalabilityMode=null!==(s=t.scalabilityMode)&&void 0!==s?s:"L3T3_KEY"),g.simulcastCodecs=[new Hs({codec:p,cid:e.mediaStreamTrack.id})],!0===t.backupCodec&&(t.backupCodec={codec:Uh}),t.backupCodec&&p!==t.backupCodec.codec&&g.encryption===ls.NONE&&(this.roomOptions.dynacast||(this.roomOptions.dynacast=!0),g.simulcastCodecs.push(new Hs({codec:t.backupCodec.codec,cid:""})))),D=hp(e.source===Vl.Source.ScreenShare,g.width,g.height,t),g.layers=Ep(g.width,g.height,D,dd(t.videoCodec))}else e.kind===Vl.Kind.Audio&&(D=[{maxBitrate:null===(u=t.audioPreset)||void 0===u?void 0:u.maxBitrate,priority:null!==(l=null===(c=t.audioPreset)||void 0===c?void 0:c.priority)&&void 0!==l?l:"high",networkPriority:null!==(h=null===(d=t.audioPreset)||void 0===d?void 0:d.priority)&&void 0!==h?h:"high"}]);if(!this.engine||this.engine.isClosed)throw new Il("cannot publish track when not connected");const v=()=>oc(this,void 0,void 0,function*(){var n,i,r;if(!this.engine.pcManager)throw new Il("pcManager is not ready");if(e.sender=yield this.engine.createSender(e,t,D),this.emit(Tl.LocalSenderCreated,e.sender,e),zd(e)&&(null!==(n=t.degradationPreference)&&void 0!==n||(t.degradationPreference=function(e){return e.source===Vl.Source.ScreenShare||e.constraints.height&&Nd(e.constraints.height)>=1080?"maintain-resolution":"balanced"}(e)),e.setDegradationPreference(t.degradationPreference)),D)if(pd()&&e.kind===Vl.Kind.Audio){let t;for(const n of this.engine.pcManager.publisher.getTransceivers())if(n.sender===e.sender){t=n;break}t&&this.engine.pcManager.publisher.setTrackCodecBitrate({transceiver:t,codec:"opus",maxbr:null!==(i=D[0])&&void 0!==i&&i.maxBitrate?D[0].maxBitrate/1e3:0})}else e.codec&&dd(e.codec)&&null!==(r=D[0])&&void 0!==r&&r.maxBitrate&&this.engine.pcManager.publisher.setTrackCodecBitrate({cid:g.cid,codec:e.codec,maxbr:D[0].maxBitrate/1e3});yield this.engine.negotiate()});let E;const C=new Promise((t,n)=>oc(this,void 0,void 0,function*(){var i;try{E=yield this.engine.addTrack(g),t(E)}catch(t){e.sender&&!(null===(i=this.engine.pcManager)||void 0===i)&&i.publisher&&(this.engine.pcManager.publisher.removeTrack(e.sender),yield this.engine.negotiate().catch(t=>{this.log.error("failed to negotiate after removing track due to failed add track request",Object.assign(Object.assign(Object.assign({},this.logContext),ih(e)),{error:t}))})),n(t)}}));if(this.enabledPublishVideoCodecs.length>0)E=(yield Promise.all([C,v()]))[0];else{let n;if(E=yield C,E.codecs.forEach(e=>{void 0===n&&(n=e.mimeType)}),n&&e.kind===Vl.Kind.Video){const i=th(n);i!==p&&(this.log.debug("falling back to server selected codec",Object.assign(Object.assign(Object.assign({},this.logContext),ih(e)),{codec:i})),t.videoCodec=i,D=hp(e.source===Vl.Source.ScreenShare,g.width,g.height,t))}yield v()}const b=new jp(e.kind,E,e,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});if(b.on(Sl.CpuConstrained,e=>this.onTrackCpuConstrained(e,b)),b.options=t,e.sid=E.sid,this.log.debug("publishing ".concat(e.kind," with encodings"),Object.assign(Object.assign({},this.logContext),{encodings:D,trackInfo:E})),zd(e)?e.startMonitor(this.engine.client):Zd(e)&&e.startMonitor(),this.addTrackPublication(b),this.emit(Tl.LocalTrackPublished,b),Zd(e)&&E.audioFeatures.includes(ns.TF_PRECONNECT_BUFFER)){const t=e.getPreConnectBuffer(),n=e.getPreConnectBufferMimeType();this.on(Tl.LocalTrackSubscribed,t=>{if(t.trackSid===E.sid){if(!e.hasPreConnectBuffer)return void this.log.warn("subscribe event came to late, buffer already closed",this.logContext);this.log.debug("finished recording preconnect buffer",Object.assign(Object.assign({},this.logContext),ih(e))),e.stopPreConnectBuffer()}}),t&&new Promise((i,r)=>oc(this,void 0,void 0,function*(){var o,a,s,u,c,l;try{this.log.debug("waiting for agent",Object.assign(Object.assign({},this.logContext),ih(e)));const f=setTimeout(()=>{r(new Error("agent not active within 10 seconds"))},1e4),m=yield this.waitUntilActiveAgentPresent();clearTimeout(f),this.log.debug("sending preconnect buffer",Object.assign(Object.assign({},this.logContext),ih(e)));const g=yield this.streamBytes({name:"preconnect-buffer",mimeType:n,topic:"lk.agent.pre-connect-audio-buffer",destinationIdentities:[m.identity],attributes:{trackId:b.trackSid,sampleRate:String(null!==(c=O.sampleRate)&&void 0!==c?c:"48000"),channels:String(null!==(l=O.channelCount)&&void 0!==l?l:"1")}});try{for(var d,h=!0,p=ac(t);!(o=(d=yield p.next()).done);h=!0){u=d.value,h=!1;const e=u;yield g.write(e)}}catch(e){a={error:e}}finally{try{!h&&!o&&(s=p.return)&&(yield s.call(p))}finally{if(a)throw a.error}}yield g.close(),i()}catch(e){r(e)}})).then(()=>{this.log.debug("preconnect buffer sent successfully",Object.assign(Object.assign({},this.logContext),ih(e)))}).catch(t=>{this.log.error("error sending preconnect buffer",Object.assign(Object.assign(Object.assign({},this.logContext),ih(e)),{error:t}))})}return b})}get isLocal(){return!0}publishAdditionalCodecForTrack(e,t,n){return oc(this,void 0,void 0,function*(){var i;if(this.encryptionType!==ls.NONE)return;let r;if(this.trackPublications.forEach(t=>{t.track&&t.track===e&&(r=t)}),!r)throw new Pl("track is not published");if(!zd(e))throw new Pl("track is not a video track");const o=Object.assign(Object.assign({},null===(i=this.roomOptions)||void 0===i?void 0:i.publishDefaults),n),a=function(e,t,n){var i,r,o,a;if(!n.backupCodec||!0===n.backupCodec||n.backupCodec.codec===n.videoCodec)return;t!==n.backupCodec.codec&&ec.warn("requested a different codec than specified as backup",{serverRequested:t,backup:n.backupCodec.codec}),n.videoCodec=t,n.videoEncoding=n.backupCodec.encoding;const s=e.mediaStreamTrack.getSettings(),u=null!==(i=s.width)&&void 0!==i?i:null===(r=e.dimensions)||void 0===r?void 0:r.width,c=null!==(o=s.height)&&void 0!==o?o:null===(a=e.dimensions)||void 0===a?void 0:a.height;return e.source===Vl.Source.ScreenShare&&n.simulcast&&(n.simulcast=!1),hp(e.source===Vl.Source.ScreenShare,u,c,n)}(e,t,o);if(!a)return void this.log.info("backup codec has been disabled, ignoring request to add additional codec for track",Object.assign(Object.assign({},this.logContext),ih(e)));const s=e.addSimulcastTrack(t,a);if(!s)return;const u=new Ks({cid:s.mediaStreamTrack.id,type:Vl.kindToProto(e.kind),muted:e.isMuted,source:Vl.sourceToProto(e.source),sid:e.sid,simulcastCodecs:[{codec:o.videoCodec,cid:s.mediaStreamTrack.id}]});if(u.layers=Ep(u.width,u.height,a),!this.engine||this.engine.isClosed)throw new Il("cannot publish track when not connected");const c=(yield Promise.all([this.engine.addTrack(u),(()=>oc(this,void 0,void 0,function*(){yield this.engine.createSimulcastSender(e,s,o,a),yield this.engine.negotiate()}))()]))[0];this.log.debug("published ".concat(t," for track ").concat(e.sid),Object.assign(Object.assign({},this.logContext),{encodings:a,trackInfo:c}))})}unpublishTrack(e,t){return oc(this,void 0,void 0,function*(){var n,i;if(Ud(e)){const t=this.pendingPublishPromises.get(e);t&&(this.log.info("awaiting publish promise before attempting to unpublish",Object.assign(Object.assign({},this.logContext),ih(e))),yield t)}const r=this.getPublicationForTrack(e),o=r?ih(r):void 0;if(this.log.debug("unpublishing track",Object.assign(Object.assign({},this.logContext),o)),!r||!r.track)return void this.log.warn("track was not unpublished because no publication was found",Object.assign(Object.assign({},this.logContext),o));(e=r.track).off(Sl.Muted,this.onTrackMuted),e.off(Sl.Unmuted,this.onTrackUnmuted),e.off(Sl.Ended,this.handleTrackEnded),e.off(Sl.UpstreamPaused,this.onTrackUpstreamPaused),e.off(Sl.UpstreamResumed,this.onTrackUpstreamResumed),e.off(Sl.AudioTrackFeatureUpdate,this.onTrackFeatureUpdate),void 0===t&&(t=null===(i=null===(n=this.roomOptions)||void 0===n?void 0:n.stopLocalTrackOnUnpublish)||void 0===i||i),t?e.stop():e.stopMonitor();let a=!1;const s=e.sender;if(e.sender=void 0,this.engine.pcManager&&this.engine.pcManager.currentState<Wh.FAILED&&s)try{for(const e of this.engine.pcManager.publisher.getTransceivers())e.sender===s&&(e.direction="inactive",a=!0);if(this.engine.removeTrack(s)&&(a=!0),zd(e)){for(const[,t]of e.simulcastCodecs)t.sender&&(this.engine.removeTrack(t.sender)&&(a=!0),t.sender=void 0);e.simulcastCodecs.clear()}}catch(e){this.log.warn("failed to unpublish track",Object.assign(Object.assign(Object.assign({},this.logContext),o),{error:e}))}switch(this.trackPublications.delete(r.trackSid),r.kind){case Vl.Kind.Audio:this.audioTrackPublications.delete(r.trackSid);break;case Vl.Kind.Video:this.videoTrackPublications.delete(r.trackSid)}return this.emit(Tl.LocalTrackUnpublished,r),r.setTrack(void 0),a&&(yield this.engine.negotiate()),r})}unpublishTracks(e){return oc(this,void 0,void 0,function*(){return(yield Promise.all(e.map(e=>this.unpublishTrack(e)))).filter(e=>!!e)})}republishAllTracks(e){return oc(this,arguments,void 0,function(e){var t=this;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function*(){t.republishPromise&&(yield t.republishPromise),t.republishPromise=new Promise((i,r)=>oc(t,void 0,void 0,function*(){try{const t=[];this.trackPublications.forEach(n=>{n.track&&(e&&(n.options=Object.assign(Object.assign({},n.options),e)),t.push(n))}),yield Promise.all(t.map(e=>oc(this,void 0,void 0,function*(){const t=e.track;yield this.unpublishTrack(t,!1),n&&!t.isMuted&&t.source!==Vl.Source.ScreenShare&&t.source!==Vl.Source.ScreenShareAudio&&(Zd(t)||zd(t))&&!t.isUserProvided&&(this.log.debug("restarting existing track",Object.assign(Object.assign({},this.logContext),{track:e.trackSid})),yield t.restartTrack()),yield this.publishOrRepublishTrack(t,e.options,!0)}))),i()}catch(e){r(e)}finally{this.republishPromise=void 0}})),yield t.republishPromise}()})}publishData(e){return oc(this,arguments,void 0,function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){const i=n.reliable?Os.RELIABLE:Os.LOSSY,r=n.destinationIdentities,o=n.topic;let a=new Cs({participantIdentity:t.identity,payload:e,destinationIdentities:r,topic:o});const s=new ms({kind:i,value:{case:"user",value:a}});yield t.engine.sendDataPacket(s,i)}()})}publishDtmf(e,t){return oc(this,void 0,void 0,function*(){const n=new ms({kind:Os.RELIABLE,value:{case:"sipDtmf",value:new bs({code:e,digit:t})}});yield this.engine.sendDataPacket(n,Os.RELIABLE)})}sendChatMessage(e,t){return oc(this,void 0,void 0,function*(){const n={id:crypto.randomUUID(),message:e,timestamp:Date.now(),attachedFiles:null==t?void 0:t.attachments},i=new ms({value:{case:"chatMessage",value:new Ts(Object.assign(Object.assign({},n),{timestamp:Po.parse(n.timestamp)}))}});return yield this.engine.sendDataPacket(i,Os.RELIABLE),this.emit(Tl.ChatMessage,n),n})}editChatMessage(e,t){return oc(this,void 0,void 0,function*(){const n=Object.assign(Object.assign({},t),{message:e,editTimestamp:Date.now()}),i=new ms({value:{case:"chatMessage",value:new Ts(Object.assign(Object.assign({},n),{timestamp:Po.parse(n.timestamp),editTimestamp:Po.parse(n.editTimestamp)}))}});return yield this.engine.sendDataPacket(i,Os.RELIABLE),this.emit(Tl.ChatMessage,n),n})}sendText(e,t){return oc(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.sendText(e,t)})}streamText(e){return oc(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.streamText(e)})}sendFile(e,t){return oc(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.sendFile(e,t)})}streamBytes(e){return oc(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.streamBytes(e)})}performRpc(e){return oc(this,arguments,void 0,function(e){var t=this;let{destinationIdentity:n,method:i,payload:r,responseTimeout:o=15e3}=e;return function*(){return new Promise((e,a)=>oc(t,void 0,void 0,function*(){var t,s,u,c;if(Hh(r)>15360)return void a(Yh.builtIn("REQUEST_PAYLOAD_TOO_LARGE"));if(null!==(s=null===(t=this.engine.latestJoinResponse)||void 0===t?void 0:t.serverInfo)&&void 0!==s&&s.version&&Td(null===(c=null===(u=this.engine.latestJoinResponse)||void 0===u?void 0:u.serverInfo)||void 0===c?void 0:c.version,"1.8.0")<0)return void a(Yh.builtIn("UNSUPPORTED_SERVER"));const l=Math.max(o,8e3),d=crypto.randomUUID();yield this.publishRpcRequest(n,d,i,r,l);const h=setTimeout(()=>{this.pendingAcks.delete(d),a(Yh.builtIn("CONNECTION_TIMEOUT")),this.pendingResponses.delete(d),clearTimeout(p)},7e3);this.pendingAcks.set(d,{resolve:()=>{clearTimeout(h)},participantIdentity:n});const p=setTimeout(()=>{this.pendingResponses.delete(d),a(Yh.builtIn("RESPONSE_TIMEOUT"))},o);this.pendingResponses.set(d,{resolve:(t,n)=>{clearTimeout(p),this.pendingAcks.has(d)&&(console.warn("RPC response received before ack",d),this.pendingAcks.delete(d),clearTimeout(h)),n?a(n):e(null!=t?t:"")},participantIdentity:n})}))}()})}registerRpcMethod(e,t){this.rpcHandlers.has(e)&&this.log.warn("you're overriding the RPC handler for method ".concat(e,", in the future this will throw an error")),this.rpcHandlers.set(e,t)}unregisterRpcMethod(e){this.rpcHandlers.delete(e)}setTrackSubscriptionPermissions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.participantTrackPermissions=t,this.allParticipantsAllowedToSubscribe=e,this.engine.client.isDisconnected||this.updateTrackSubscriptionPermissions()}handleIncomingRpcAck(e){const t=this.pendingAcks.get(e);t?(t.resolve(),this.pendingAcks.delete(e)):console.error("Ack received for unexpected RPC request",e)}handleIncomingRpcResponse(e,t,n){const i=this.pendingResponses.get(e);i?(i.resolve(t,n),this.pendingResponses.delete(e)):console.error("Response received for unexpected RPC request",e)}publishRpcRequest(e,t,n,i,r){return oc(this,void 0,void 0,function*(){const o=new ms({destinationIdentities:[e],kind:Os.RELIABLE,value:{case:"rpcRequest",value:new As({id:t,method:n,payload:i,responseTimeoutMs:r,version:1})}});yield this.engine.sendDataPacket(o,Os.RELIABLE)})}handleParticipantDisconnected(e){for(const[t,{participantIdentity:n}]of this.pendingAcks)n===e&&this.pendingAcks.delete(t);for(const[t,{participantIdentity:n,resolve:i}]of this.pendingResponses)n===e&&(i(null,Yh.builtIn("RECIPIENT_DISCONNECTED")),this.pendingResponses.delete(t))}setEnabledPublishCodecs(e){this.enabledPublishVideoCodecs=e.filter(e=>"video"===e.mime.split("/")[0].toLowerCase())}updateInfo(e){return!!super.updateInfo(e)&&(e.tracks.forEach(e=>{var t,n;const i=this.trackPublications.get(e.sid);if(i){const r=i.isMuted||null!==(n=null===(t=i.track)||void 0===t?void 0:t.isUpstreamPaused)&&void 0!==n&&n;r!==e.muted&&(this.log.debug("updating server mute state after reconcile",Object.assign(Object.assign(Object.assign({},this.logContext),ih(i)),{mutedOnServer:r})),this.engine.client.sendMuteTrack(e.sid,r))}}),!0)}setActiveAgent(e){var t,n,i,r;this.firstActiveAgent=e,e&&!this.firstActiveAgent&&(this.firstActiveAgent=e),e?null===(n=null===(t=this.activeAgentFuture)||void 0===t?void 0:t.resolve)||void 0===n||n.call(t,e):null===(r=null===(i=this.activeAgentFuture)||void 0===i?void 0:i.reject)||void 0===r||r.call(i,new Error("Agent disconnected")),this.activeAgentFuture=void 0}waitUntilActiveAgentPresent(){return this.firstActiveAgent?Promise.resolve(this.firstActiveAgent):(this.activeAgentFuture||(this.activeAgentFuture=new Qd),this.activeAgentFuture.promise)}getPublicationForTrack(e){let t;return this.trackPublications.forEach(n=>{const i=n.track;i&&(e instanceof MediaStreamTrack?(Zd(i)||zd(i))&&i.mediaStreamTrack===e&&(t=n):e===i&&(t=n))}),t}waitForPendingPublicationOfSource(e){return oc(this,void 0,void 0,function*(){const t=Date.now();for(;Date.now()<t+1e4;){const t=Array.from(this.pendingPublishPromises.entries()).find(t=>{let[n]=t;return n.source===e});if(t)return t[1];yield ud(20)}})}}class Yp extends Zp{constructor(e,t,n,i){super(e,t.sid,t.name,i),this.track=void 0,this.allowed=!0,this.requestedDisabled=void 0,this.visible=!0,this.handleEnded=e=>{this.setTrack(void 0),this.emit(Sl.Ended,e)},this.handleVisibilityChange=e=>{this.log.debug("adaptivestream video visibility ".concat(this.trackSid,", visible=").concat(e),this.logContext),this.visible=e,this.emitTrackUpdate()},this.handleVideoDimensionsChange=e=>{this.log.debug("adaptivestream video dimensions ".concat(e.width,"x").concat(e.height),this.logContext),this.videoDimensionsAdaptiveStream=e,this.emitTrackUpdate()},this.subscribed=n,this.updateInfo(t)}setSubscribed(e){const t=this.subscriptionStatus,n=this.permissionStatus;this.subscribed=e,e&&(this.allowed=!0);const i=new su({trackSids:[this.trackSid],subscribe:this.subscribed,participantTracks:[new ws({participantSid:"",trackSids:[this.trackSid]})]});this.emit(Sl.UpdateSubscription,i),this.emitSubscriptionUpdateIfChanged(t),this.emitPermissionUpdateIfChanged(n)}get subscriptionStatus(){return!1===this.subscribed?Zp.SubscriptionStatus.Unsubscribed:super.isSubscribed?Zp.SubscriptionStatus.Subscribed:Zp.SubscriptionStatus.Desired}get permissionStatus(){return this.allowed?Zp.PermissionStatus.Allowed:Zp.PermissionStatus.NotAllowed}get isSubscribed(){return!1!==this.subscribed&&super.isSubscribed}get isDesired(){return!1!==this.subscribed}get isEnabled(){return void 0!==this.requestedDisabled?!this.requestedDisabled:!this.isAdaptiveStream||this.visible}get isLocal(){return!1}setEnabled(e){!this.isManualOperationAllowed()||this.requestedDisabled===!e||(this.requestedDisabled=!e,this.emitTrackUpdate())}setVideoQuality(e){!this.isManualOperationAllowed()||this.requestedMaxQuality===e||(this.requestedMaxQuality=e,this.requestedVideoDimensions=void 0,this.emitTrackUpdate())}setVideoDimensions(e){var t,n;this.isManualOperationAllowed()&&((null===(t=this.requestedVideoDimensions)||void 0===t?void 0:t.width)===e.width&&(null===(n=this.requestedVideoDimensions)||void 0===n?void 0:n.height)===e.height||(Gd(this.track)&&(this.requestedVideoDimensions=e),this.requestedMaxQuality=void 0,this.emitTrackUpdate()))}setVideoFPS(e){this.isManualOperationAllowed()&&Gd(this.track)&&this.fps!==e&&(this.fps=e,this.emitTrackUpdate())}get videoQuality(){var e;return null!==(e=this.requestedMaxQuality)&&void 0!==e?e:Gl.HIGH}setTrack(e){const t=this.subscriptionStatus,n=this.permissionStatus,i=this.track;i!==e&&(i&&(i.off(Sl.VideoDimensionsChanged,this.handleVideoDimensionsChange),i.off(Sl.VisibilityChanged,this.handleVisibilityChange),i.off(Sl.Ended,this.handleEnded),i.detach(),i.stopMonitor(),this.emit(Sl.Unsubscribed,i)),super.setTrack(e),e&&(e.sid=this.trackSid,e.on(Sl.VideoDimensionsChanged,this.handleVideoDimensionsChange),e.on(Sl.VisibilityChanged,this.handleVisibilityChange),e.on(Sl.Ended,this.handleEnded),this.emit(Sl.Subscribed,e)),this.emitPermissionUpdateIfChanged(n),this.emitSubscriptionUpdateIfChanged(t))}setAllowed(e){const t=this.subscriptionStatus,n=this.permissionStatus;this.allowed=e,this.emitPermissionUpdateIfChanged(n),this.emitSubscriptionUpdateIfChanged(t)}setSubscriptionError(e){this.emit(Sl.SubscriptionFailed,e)}updateInfo(e){super.updateInfo(e);const t=this.metadataMuted;this.metadataMuted=e.muted,this.track?this.track.setMuted(e.muted):t!==e.muted&&this.emit(e.muted?Sl.Muted:Sl.Unmuted)}emitSubscriptionUpdateIfChanged(e){const t=this.subscriptionStatus;e!==t&&this.emit(Sl.SubscriptionStatusChanged,t,e)}emitPermissionUpdateIfChanged(e){this.permissionStatus!==e&&this.emit(Sl.SubscriptionPermissionChanged,this.permissionStatus,e)}isManualOperationAllowed(){return!!this.isDesired||(this.log.warn("cannot update track settings when not subscribed",this.logContext),!1)}get isAdaptiveStream(){return Gd(this.track)&&this.track.isAdaptiveStream}emitTrackUpdate(){const e=new uu({trackSids:[this.trackSid],disabled:!this.isEnabled,fps:this.fps});if(this.kind===Vl.Kind.Video){let t=this.requestedVideoDimensions;if(void 0!==this.videoDimensionsAdaptiveStream)if(t)oh(this.videoDimensionsAdaptiveStream,t)&&(this.log.debug("using adaptive stream dimensions instead of requested",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),t=this.videoDimensionsAdaptiveStream);else if(void 0!==this.requestedMaxQuality&&this.trackInfo){const e=function(e,t){var n;return null===(n=e.layers)||void 0===n?void 0:n.find(e=>e.quality===t)}(this.trackInfo,this.requestedMaxQuality);e&&oh(this.videoDimensionsAdaptiveStream,e)&&(this.log.debug("using adaptive stream dimensions instead of max quality layer",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),t=this.videoDimensionsAdaptiveStream)}else this.log.debug("using adaptive stream dimensions",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),t=this.videoDimensionsAdaptiveStream;t?(e.width=Math.ceil(t.width),e.height=Math.ceil(t.height)):void 0!==this.requestedMaxQuality?(this.log.debug("using requested max quality",Object.assign(Object.assign({},this.logContext),{quality:this.requestedMaxQuality})),e.quality=this.requestedMaxQuality):(this.log.debug("using default quality",Object.assign(Object.assign({},this.logContext),{quality:Gl.HIGH})),e.quality=Gl.HIGH)}this.emit(Sl.UpdateSettings,e)}}class Hp extends Gp{static fromParticipantInfo(e,t,n){return new Hp(e,t.sid,t.identity,t.name,t.metadata,t.attributes,n,t.kind)}get logContext(){return Object.assign(Object.assign({},super.logContext),{rpID:this.sid,remoteParticipant:this.identity})}constructor(e,t,n,i,r,o,a){super(t,n||"",i,r,o,a,arguments.length>7&&void 0!==arguments[7]?arguments[7]:us.STANDARD),this.signalClient=e,this.trackPublications=new Map,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.volumeMap=new Map}addTrackPublication(e){super.addTrackPublication(e),e.on(Sl.UpdateSettings,t=>{this.log.debug("send update settings",Object.assign(Object.assign(Object.assign({},this.logContext),ih(e)),{settings:t})),this.signalClient.sendUpdateTrackSettings(t)}),e.on(Sl.UpdateSubscription,e=>{e.participantTracks.forEach(e=>{e.participantSid=this.sid}),this.signalClient.sendUpdateSubscription(e)}),e.on(Sl.SubscriptionPermissionChanged,t=>{this.emit(Tl.TrackSubscriptionPermissionChanged,e,t)}),e.on(Sl.SubscriptionStatusChanged,t=>{this.emit(Tl.TrackSubscriptionStatusChanged,e,t)}),e.on(Sl.Subscribed,t=>{this.emit(Tl.TrackSubscribed,t,e)}),e.on(Sl.Unsubscribed,t=>{this.emit(Tl.TrackUnsubscribed,t,e)}),e.on(Sl.SubscriptionFailed,t=>{this.emit(Tl.TrackSubscriptionFailed,e.trackSid,t)})}getTrackPublication(e){const t=super.getTrackPublication(e);if(t)return t}getTrackPublicationByName(e){const t=super.getTrackPublicationByName(e);if(t)return t}setVolume(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vl.Source.Microphone;this.volumeMap.set(t,e);const n=this.getTrackPublication(t);n&&n.track&&n.track.setVolume(e)}getVolume(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vl.Source.Microphone;const t=this.getTrackPublication(e);return t&&t.track?t.track.getVolume():this.volumeMap.get(e)}addSubscribedMediaTrack(e,t,n,i,r,o){let a,s=this.getTrackPublicationBySid(t);return s||t.startsWith("TR")||this.trackPublications.forEach(t=>{!s&&e.kind===t.kind.toString()&&(s=t)}),s?"ended"===e.readyState?(this.log.error("unable to subscribe because MediaStreamTrack is ended. Do not call MediaStreamTrack.stop()",Object.assign(Object.assign({},this.logContext),ih(s))),void this.emit(Tl.TrackSubscriptionFailed,t)):(a="video"===e.kind?new Up(e,t,i,r):new $p(e,t,i,this.audioContext,this.audioOutput),a.source=s.source,a.isMuted=s.isMuted,a.setMediaStream(n),a.start(),s.setTrack(a),this.volumeMap.has(s.source)&&jd(a)&&qd(a)&&a.setVolume(this.volumeMap.get(s.source)),s):0===o?(this.log.error("could not find published track",Object.assign(Object.assign({},this.logContext),{trackSid:t})),void this.emit(Tl.TrackSubscriptionFailed,t)):(void 0===o&&(o=20),void setTimeout(()=>{this.addSubscribedMediaTrack(e,t,n,i,r,o-1)},150))}get hasMetadata(){return!!this.participantInfo}getTrackPublicationBySid(e){return this.trackPublications.get(e)}updateInfo(e){if(!super.updateInfo(e))return!1;const t=new Map,n=new Map;return e.tracks.forEach(e=>{var i,r;let o=this.getTrackPublicationBySid(e.sid);if(o)o.updateInfo(e);else{const t=Vl.kindFromProto(e.type);if(!t)return;o=new Yp(t,e,null===(i=this.signalClient.connectOptions)||void 0===i?void 0:i.autoSubscribe,{loggerContextCb:()=>this.logContext,loggerName:null===(r=this.loggerOptions)||void 0===r?void 0:r.loggerName}),o.updateInfo(e),n.set(e.sid,o);const a=Array.from(this.trackPublications.values()).find(e=>e.source===(null==o?void 0:o.source));a&&o.source!==Vl.Source.Unknown&&this.log.debug("received a second track publication for ".concat(this.identity," with the same source: ").concat(o.source),Object.assign(Object.assign({},this.logContext),{oldTrack:ih(a),newTrack:ih(o)})),this.addTrackPublication(o)}t.set(e.sid,o)}),this.trackPublications.forEach(e=>{t.has(e.trackSid)||(this.log.trace("detected removed track on remote participant, unpublishing",Object.assign(Object.assign({},this.logContext),ih(e))),this.unpublishTrack(e.trackSid,!0))}),n.forEach(e=>{this.emit(Tl.TrackPublished,e)}),!0}unpublishTrack(e,t){const n=this.trackPublications.get(e);if(!n)return;const{track:i}=n;switch(i&&(i.stop(),n.setTrack(void 0)),this.trackPublications.delete(e),n.kind){case Vl.Kind.Audio:this.audioTrackPublications.delete(e);break;case Vl.Kind.Video:this.videoTrackPublications.delete(e)}t&&this.emit(Tl.TrackUnpublished,n)}setAudioOutput(e){return oc(this,void 0,void 0,function*(){this.audioOutput=e;const t=[];this.audioTrackPublications.forEach(n=>{var i;qd(n.track)&&jd(n.track)&&t.push(n.track.setSinkId(null!==(i=e.deviceId)&&void 0!==i?i:"default"))}),yield Promise.all(t)})}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return this.log.trace("participant event",Object.assign(Object.assign({},this.logContext),{event:e,args:n})),super.emit(e,...n)}}!function(e){e.Disconnected="disconnected",e.Connecting="connecting",e.Connected="connected",e.Reconnecting="reconnecting",e.SignalReconnecting="signalReconnecting"}(Ap||(Ap={}));class Kp extends cc.EventEmitter{get hasE2EESetup(){return void 0!==this.e2eeManager}constructor(e){var t,n,i,r;if(super(),t=this,this.state=Ap.Disconnected,this.activeSpeakers=[],this.isE2EEEnabled=!1,this.audioEnabled=!0,this.isVideoPlaybackBlocked=!1,this.log=ec,this.bufferedEvents=[],this.isResuming=!1,this.rpcHandlers=new Map,this.connect=(e,t,n)=>oc(this,void 0,void 0,function*(){var i;if(typeof RTCPeerConnection>"u"||!cd()&&!ld())throw vd()?Error("WebRTC isn't detected, have you called registerGlobals?"):Error("LiveKit doesn't seem to be supported on this browser. Try to update your browser and make sure no browser extensions are disabling webRTC.");const r=yield this.disconnectLock.lock();if(this.state===Ap.Connected)return this.log.info("already connected to room ".concat(this.name),this.logContext),r(),Promise.resolve();if(this.connectFuture)return r(),this.connectFuture.promise;this.setAndEmitConnectionState(Ap.Connecting),(null===(i=this.regionUrlProvider)||void 0===i?void 0:i.getServerUrl().toString())!==e&&(this.regionUrl=void 0,this.regionUrlProvider=void 0),Ed(new URL(e))&&(void 0===this.regionUrlProvider?this.regionUrlProvider=new Vh(e,t):this.regionUrlProvider.updateToken(t),this.regionUrlProvider.fetchRegionSettings().then(e=>{var t;null===(t=this.regionUrlProvider)||void 0===t||t.setServerReportedRegions(e)}).catch(e=>{this.log.warn("could not fetch region settings",Object.assign(Object.assign({},this.logContext),{error:e}))}));const o=(i,a,s)=>oc(this,void 0,void 0,function*(){var u,c;this.abortController&&this.abortController.abort();const l=new AbortController;this.abortController=l,null==r||r();try{if(yield sh.getInstance().getBackOffPromise(e),l.signal.aborted)throw new wl("Connection attempt aborted",El.Cancelled);yield this.attemptConnection(null!=s?s:e,t,n,l),this.abortController=void 0,i()}catch(t){if(this.regionUrlProvider&&t instanceof wl&&t.reason!==El.Cancelled&&t.reason!==El.NotAllowed){let n=null;try{this.log.debug("Fetching next region"),n=yield this.regionUrlProvider.getNextBestRegionUrl(null===(u=this.abortController)||void 0===u?void 0:u.signal)}catch(e){if(e instanceof wl&&(401===e.status||e.reason===El.Cancelled))return this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),void a(e)}[El.InternalError,El.ServerUnreachable,El.Timeout].includes(t.reason)&&(this.log.debug("Adding failed connection attempt to back off"),sh.getInstance().addFailedConnectionAttempt(e)),!n||null!==(c=this.abortController)&&void 0!==c&&c.signal.aborted?(this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,Md(t)),a(t)):(this.log.info("Initial connection failed with ConnectionError: ".concat(t.message,". Retrying with another region: ").concat(n),this.logContext),this.recreateEngine(),yield o(i,a,n))}else{let e=Ja.UNKNOWN_REASON;t instanceof wl&&(e=Md(t)),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,e),a(t)}}}),a=this.regionUrl;return this.regionUrl=void 0,this.connectFuture=new Qd((e,t)=>{o(e,t,a)},()=>{this.clearConnectionFutures()}),this.connectFuture.promise}),this.connectSignal=(e,t,n,i,r,o)=>oc(this,void 0,void 0,function*(){var a,s,u;const c=yield n.join(e,t,{autoSubscribe:i.autoSubscribe,adaptiveStream:"object"==typeof r.adaptiveStream||r.adaptiveStream,maxRetries:i.maxRetries,e2eeEnabled:!!this.e2eeManager,websocketTimeout:i.websocketTimeout,singlePeerConnection:r.singlePeerConnection},o.signal);let l=c.serverInfo;if(l||(l={version:c.serverVersion,region:c.serverRegion}),this.serverInfo=l,this.log.debug("connected to Livekit Server ".concat(Object.entries(l).map(e=>{let[t,n]=e;return"".concat(t,": ").concat(n)}).join(", ")),{room:null===(a=c.room)||void 0===a?void 0:a.name,roomSid:null===(s=c.room)||void 0===s?void 0:s.sid,identity:null===(u=c.participant)||void 0===u?void 0:u.identity}),!l.version)throw new Rl("unknown server version");return"0.15.1"===l.version&&this.options.dynacast&&(this.log.debug("disabling dynacast due to server version",this.logContext),r.dynacast=!1),c}),this.applyJoinResponse=e=>{const t=e.participant;if(this.localParticipant.sid=t.sid,this.localParticipant.identity=t.identity,this.localParticipant.setEnabledPublishCodecs(e.enabledPublishCodecs),this.e2eeManager)try{this.e2eeManager.setSifTrailer(e.sifTrailer)}catch(e){this.log.error(e instanceof Error?e.message:"Could not set SifTrailer",Object.assign(Object.assign({},this.logContext),{error:e}))}this.handleParticipantUpdates([t,...e.otherParticipants]),e.room&&this.handleRoomUpdate(e.room)},this.attemptConnection=(e,t,n,i)=>oc(this,void 0,void 0,function*(){var r,o;this.state===Ap.Reconnecting||this.isResuming||null!==(r=this.engine)&&void 0!==r&&r.pendingReconnect?(this.log.info("Reconnection attempt replaced by new connection attempt",this.logContext),this.recreateEngine()):this.maybeCreateEngine(),!(null===(o=this.regionUrlProvider)||void 0===o)&&o.isCloud()&&this.engine.setRegionUrlProvider(this.regionUrlProvider),this.acquireAudioContext(),this.connOptions=Object.assign(Object.assign({},jh),n),this.connOptions.rtcConfig&&(this.engine.rtcConfig=this.connOptions.rtcConfig),this.connOptions.peerConnectionTimeout&&(this.engine.peerConnectionTimeout=this.connOptions.peerConnectionTimeout);try{const n=yield this.connectSignal(e,t,this.engine,this.connOptions,this.options,i);this.applyJoinResponse(n),this.setupLocalParticipantEvents(),this.emit(yl.SignalConnected)}catch(e){yield this.engine.close(),this.recreateEngine();const t=new wl("could not establish signal connection",i.signal.aborted?El.Cancelled:El.ServerUnreachable);throw e instanceof Error&&(t.message="".concat(t.message,": ").concat(e.message)),e instanceof wl&&(t.reason=e.reason,t.status=e.status),this.log.debug("error trying to establish signal connection",Object.assign(Object.assign({},this.logContext),{error:e})),t}if(i.signal.aborted)throw yield this.engine.close(),this.recreateEngine(),new wl("Connection attempt aborted",El.Cancelled);try{yield this.engine.waitForPCInitialConnection(this.connOptions.peerConnectionTimeout,i)}catch(e){throw yield this.engine.close(),this.recreateEngine(),e}Dd()&&this.options.disconnectOnPageLeave&&(window.addEventListener("pagehide",this.onPageLeave),window.addEventListener("beforeunload",this.onPageLeave)),Dd()&&document.addEventListener("freeze",this.onPageLeave),this.setAndEmitConnectionState(Ap.Connected),this.emit(yl.Connected),sh.getInstance().resetFailedConnectionAttempts(e),this.registerConnectionReconcile(),this.regionUrlProvider&&this.regionUrlProvider.notifyConnected()}),this.disconnect=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return oc(t,[...n],void 0,function(){var e=this;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function*(){var n,i,r;const o=yield e.disconnectLock.lock();try{if(e.state===Ap.Disconnected)return void e.log.debug("already disconnected",e.logContext);if(e.log.info("disconnect from room",Object.assign({},e.logContext)),e.state===Ap.Connecting||e.state===Ap.Reconnecting||e.isResuming){const t="Abort connection attempt due to user initiated disconnect";e.log.warn(t,e.logContext),null===(n=e.abortController)||void 0===n||n.abort(t),null===(r=null===(i=e.connectFuture)||void 0===i?void 0:i.reject)||void 0===r||r.call(i,new wl("Client initiated disconnect",El.Cancelled)),e.connectFuture=void 0}e.engine&&(e.engine.client.isDisconnected||(yield e.engine.client.sendLeave()),yield e.engine.close()),e.handleDisconnect(t,Ja.CLIENT_INITIATED),e.engine=void 0}finally{o()}}()})},this.onPageLeave=()=>oc(this,void 0,void 0,function*(){this.log.info("Page leave detected, disconnecting",this.logContext),yield this.disconnect()}),this.startAudio=()=>oc(this,void 0,void 0,function*(){const e=[],t=ql();if(t&&"iOS"===t.os){const t="livekit-dummy-audio-el";let n=document.getElementById(t);if(!n){n=document.createElement("audio"),n.id=t,n.autoplay=!0,n.hidden=!0;const e=Id();e.enabled=!0;const i=new MediaStream([e]);n.srcObject=i,document.addEventListener("visibilitychange",()=>{n&&(n.srcObject=document.hidden?null:i,document.hidden||(this.log.debug("page visible again, triggering startAudio to resume playback and update playback status",this.logContext),this.startAudio()))}),document.body.append(n),this.once(yl.Disconnected,()=>{null==n||n.remove(),n=null})}e.push(n)}this.remoteParticipants.forEach(t=>{t.audioTrackPublications.forEach(t=>{t.track&&t.track.attachedElements.forEach(t=>{e.push(t)})})});try{yield Promise.all([this.acquireAudioContext(),...e.map(e=>(e.muted=!1,e.play()))]),this.handleAudioPlaybackStarted()}catch(e){throw this.handleAudioPlaybackFailed(e),e}}),this.startVideo=()=>oc(this,void 0,void 0,function*(){const e=[];for(const t of this.remoteParticipants.values())t.videoTrackPublications.forEach(t=>{var n;null===(n=t.track)||void 0===n||n.attachedElements.forEach(t=>{e.includes(t)||e.push(t)})});yield Promise.all(e.map(e=>e.play())).then(()=>{this.handleVideoPlaybackStarted()}).catch(e=>{"NotAllowedError"===e.name?this.handleVideoPlaybackFailed():this.log.warn("Resuming video playback failed, make sure you call `startVideo` directly in a user gesture handler",this.logContext)})}),this.handleRestarting=()=>{this.clearConnectionReconcile(),this.isResuming=!1;for(const e of this.remoteParticipants.values())this.handleParticipantDisconnected(e.identity,e);this.setAndEmitConnectionState(Ap.Reconnecting)&&this.emit(yl.Reconnecting)},this.handleSignalRestarted=e=>oc(this,void 0,void 0,function*(){this.log.debug("signal reconnected to server, region ".concat(e.serverRegion),Object.assign(Object.assign({},this.logContext),{region:e.serverRegion})),this.bufferedEvents=[],this.applyJoinResponse(e);try{yield this.localParticipant.republishAllTracks(void 0,!0)}catch(e){this.log.error("error trying to re-publish tracks after reconnection",Object.assign(Object.assign({},this.logContext),{error:e}))}try{yield this.engine.waitForRestarted(),this.log.debug("fully reconnected to server",Object.assign(Object.assign({},this.logContext),{region:e.serverRegion}))}catch(e){return}this.setAndEmitConnectionState(Ap.Connected),this.emit(yl.Reconnected),this.registerConnectionReconcile(),this.emitBufferedEvents()}),this.handleParticipantUpdates=e=>{e.forEach(e=>{var t;if(e.identity===this.localParticipant.identity)return void this.localParticipant.updateInfo(e);""===e.identity&&(e.identity=null!==(t=this.sidToIdentity.get(e.sid))&&void 0!==t?t:"");let n=this.remoteParticipants.get(e.identity);e.state===ss.DISCONNECTED?this.handleParticipantDisconnected(e.identity,n):n=this.getOrCreateParticipant(e.identity,e)})},this.handleActiveSpeakersUpdate=e=>{const t=[],n={};e.forEach(e=>{if(n[e.sid]=!0,e.sid===this.localParticipant.sid)this.localParticipant.audioLevel=e.level,this.localParticipant.setIsSpeaking(!0),t.push(this.localParticipant);else{const n=this.getRemoteParticipantBySid(e.sid);n&&(n.audioLevel=e.level,n.setIsSpeaking(!0),t.push(n))}}),n[this.localParticipant.sid]||(this.localParticipant.audioLevel=0,this.localParticipant.setIsSpeaking(!1)),this.remoteParticipants.forEach(e=>{n[e.sid]||(e.audioLevel=0,e.setIsSpeaking(!1))}),this.activeSpeakers=t,this.emitWhenConnected(yl.ActiveSpeakersChanged,t)},this.handleSpeakersChanged=e=>{const t=new Map;this.activeSpeakers.forEach(e=>{const n=this.remoteParticipants.get(e.identity);n&&n.sid!==e.sid||t.set(e.sid,e)}),e.forEach(e=>{let n=this.getRemoteParticipantBySid(e.sid);e.sid===this.localParticipant.sid&&(n=this.localParticipant),n&&(n.audioLevel=e.level,n.setIsSpeaking(e.active),e.active?t.set(e.sid,n):t.delete(e.sid))});const n=Array.from(t.values());n.sort((e,t)=>t.audioLevel-e.audioLevel),this.activeSpeakers=n,this.emitWhenConnected(yl.ActiveSpeakersChanged,n)},this.handleStreamStateUpdate=e=>{e.streamStates.forEach(e=>{const t=this.getRemoteParticipantBySid(e.participantSid);if(!t)return;const n=t.getTrackPublicationBySid(e.trackSid);if(!n||!n.track)return;const i=Vl.streamStateFromProto(e.state);n.track.setStreamState(i),i!==n.track.streamState&&(t.emit(Tl.TrackStreamStateChanged,n,n.track.streamState),this.emitWhenConnected(yl.TrackStreamStateChanged,n,n.track.streamState,t))})},this.handleSubscriptionPermissionUpdate=e=>{const t=this.getRemoteParticipantBySid(e.participantSid);if(!t)return;const n=t.getTrackPublicationBySid(e.trackSid);n&&n.setAllowed(e.allowed)},this.handleSubscriptionError=e=>{const t=Array.from(this.remoteParticipants.values()).find(t=>t.trackPublications.has(e.trackSid));if(!t)return;const n=t.getTrackPublicationBySid(e.trackSid);n&&n.setSubscriptionError(e.err)},this.handleDataPacket=(e,t)=>{const n=this.remoteParticipants.get(e.participantIdentity);if("user"===e.value.case)this.handleUserPacket(n,e.value.value,e.kind,t);else if("transcription"===e.value.case)this.handleTranscription(n,e.value.value);else if("sipDtmf"===e.value.case)this.handleSipDtmf(n,e.value.value);else if("chatMessage"===e.value.case)this.handleChatMessage(n,e.value.value);else if("metrics"===e.value.case)this.handleMetrics(e.value.value,n);else if("streamHeader"===e.value.case||"streamChunk"===e.value.case||"streamTrailer"===e.value.case)this.handleDataStream(e,t);else if("rpcRequest"===e.value.case){const t=e.value.value;this.handleIncomingRpcRequest(e.participantIdentity,t.id,t.method,t.payload,t.responseTimeoutMs,t.version)}},this.handleUserPacket=(e,t,n,i)=>{this.emit(yl.DataReceived,t.payload,e,n,t.topic,i),null==e||e.emit(Tl.DataReceived,t.payload,n,i)},this.handleSipDtmf=(e,t)=>{this.emit(yl.SipDTMFReceived,t,e),null==e||e.emit(Tl.SipDTMFReceived,t)},this.handleTranscription=(e,t)=>{const n=t.transcribedParticipantIdentity===this.localParticipant.identity?this.localParticipant:this.getParticipantByIdentity(t.transcribedParticipantIdentity),i=null==n?void 0:n.trackPublications.get(t.trackId),r=function(e,t){return e.segments.map(e=>{let{id:n,text:i,language:r,startTime:o,endTime:a,final:s}=e;var u;const c=null!==(u=t.get(n))&&void 0!==u?u:Date.now(),l=Date.now();return s?t.delete(n):t.set(n,c),{id:n,text:i,startTime:Number.parseInt(o.toString()),endTime:Number.parseInt(a.toString()),final:s,language:r,firstReceivedTime:c,lastReceivedTime:l}})}(t,this.transcriptionReceivedTimes);null==i||i.emit(Sl.TranscriptionReceived,r),null==n||n.emit(Tl.TranscriptionReceived,r,i),this.emit(yl.TranscriptionReceived,r,n,i)},this.handleChatMessage=(e,t)=>{const n=function(e){const{id:t,timestamp:n,message:i,editTimestamp:r}=e;return{id:t,timestamp:Number.parseInt(n.toString()),editTimestamp:r?Number.parseInt(r.toString()):void 0,message:i}}(t);this.emit(yl.ChatMessage,n,e)},this.handleMetrics=(e,t)=>{this.emit(yl.MetricsReceived,e,t)},this.handleDataStream=(e,t)=>{this.incomingDataStreamManager.handleDataStreamPacket(e,t)},this.bufferedSegments=new Map,this.handleAudioPlaybackStarted=()=>{this.canPlaybackAudio||(this.audioEnabled=!0,this.emit(yl.AudioPlaybackStatusChanged,!0))},this.handleAudioPlaybackFailed=e=>{this.log.warn("could not playback audio",Object.assign(Object.assign({},this.logContext),{error:e})),this.canPlaybackAudio&&(this.audioEnabled=!1,this.emit(yl.AudioPlaybackStatusChanged,!1))},this.handleVideoPlaybackStarted=()=>{this.isVideoPlaybackBlocked&&(this.isVideoPlaybackBlocked=!1,this.emit(yl.VideoPlaybackStatusChanged,!0))},this.handleVideoPlaybackFailed=()=>{this.isVideoPlaybackBlocked||(this.isVideoPlaybackBlocked=!0,this.emit(yl.VideoPlaybackStatusChanged,!1))},this.handleDeviceChange=()=>oc(this,void 0,void 0,function*(){var e;"iOS"!==(null===(e=ql())||void 0===e?void 0:e.os)&&(yield this.selectDefaultDevices()),this.emit(yl.MediaDevicesChanged)}),this.handleRoomUpdate=e=>{const t=this.roomInfo;this.roomInfo=e,t&&t.metadata!==e.metadata&&this.emitWhenConnected(yl.RoomMetadataChanged,e.metadata),(null==t?void 0:t.activeRecording)!==e.activeRecording&&this.emitWhenConnected(yl.RecordingStatusChanged,e.activeRecording)},this.handleConnectionQualityUpdate=e=>{e.updates.forEach(e=>{if(e.participantSid===this.localParticipant.sid)return void this.localParticipant.setConnectionQuality(e.quality);const t=this.getRemoteParticipantBySid(e.participantSid);t&&t.setConnectionQuality(e.quality)})},this.onLocalParticipantMetadataChanged=e=>{this.emit(yl.ParticipantMetadataChanged,e,this.localParticipant)},this.onLocalParticipantNameChanged=e=>{this.emit(yl.ParticipantNameChanged,e,this.localParticipant)},this.onLocalAttributesChanged=e=>{this.emit(yl.ParticipantAttributesChanged,e,this.localParticipant)},this.onLocalTrackMuted=e=>{this.emit(yl.TrackMuted,e,this.localParticipant)},this.onLocalTrackUnmuted=e=>{this.emit(yl.TrackUnmuted,e,this.localParticipant)},this.onTrackProcessorUpdate=e=>{var t;null===(t=null==e?void 0:e.onPublish)||void 0===t||t.call(e,this)},this.onLocalTrackPublished=e=>oc(this,void 0,void 0,function*(){var t,n,i,r,o,a;null===(t=e.track)||void 0===t||t.on(Sl.TrackProcessorUpdate,this.onTrackProcessorUpdate),null===(n=e.track)||void 0===n||n.on(Sl.Restarted,this.onLocalTrackRestarted),null===(o=null===(r=null===(i=e.track)||void 0===i?void 0:i.getProcessor())||void 0===r?void 0:r.onPublish)||void 0===o||o.call(r,this),this.emit(yl.LocalTrackPublished,e,this.localParticipant),Zd(e.track)&&(yield e.track.checkForSilence())&&this.emit(yl.LocalAudioSilenceDetected,e);const s=yield null===(a=e.track)||void 0===a?void 0:a.getDeviceId(!1),u=eh(e.source);u&&s&&s!==this.localParticipant.activeDeviceMap.get(u)&&(this.localParticipant.activeDeviceMap.set(u,s),this.emit(yl.ActiveDeviceChanged,u,s))}),this.onLocalTrackUnpublished=e=>{var t,n;null===(t=e.track)||void 0===t||t.off(Sl.TrackProcessorUpdate,this.onTrackProcessorUpdate),null===(n=e.track)||void 0===n||n.off(Sl.Restarted,this.onLocalTrackRestarted),this.emit(yl.LocalTrackUnpublished,e,this.localParticipant)},this.onLocalTrackRestarted=e=>oc(this,void 0,void 0,function*(){const t=yield e.getDeviceId(!1),n=eh(e.source);n&&t&&t!==this.localParticipant.activeDeviceMap.get(n)&&(this.log.debug("local track restarted, setting ".concat(n," ").concat(t," active"),this.logContext),this.localParticipant.activeDeviceMap.set(n,t),this.emit(yl.ActiveDeviceChanged,n,t))}),this.onLocalConnectionQualityChanged=e=>{this.emit(yl.ConnectionQualityChanged,e,this.localParticipant)},this.onMediaDevicesError=(e,t)=>{this.emit(yl.MediaDevicesError,e,t)},this.onLocalParticipantPermissionsChanged=e=>{this.emit(yl.ParticipantPermissionsChanged,e,this.localParticipant)},this.onLocalChatMessageSent=e=>{this.emit(yl.ChatMessage,e,this.localParticipant)},this.setMaxListeners(100),this.remoteParticipants=new Map,this.sidToIdentity=new Map,this.options=Object.assign(Object.assign({},Zh),e),this.log=tc(null!==(n=this.options.loggerName)&&void 0!==n?n:Yu.Room),this.transcriptionReceivedTimes=new Map,this.options.audioCaptureDefaults=Object.assign(Object.assign({},Xh),null==e?void 0:e.audioCaptureDefaults),this.options.videoCaptureDefaults=Object.assign(Object.assign({},zh),null==e?void 0:e.videoCaptureDefaults),this.options.publishDefaults=Object.assign(Object.assign({},qh),null==e?void 0:e.publishDefaults),this.maybeCreateEngine(),this.incomingDataStreamManager=new Ip,this.outgoingDataStreamManager=new Mp(this.engine,this.log),this.disconnectLock=new co,this.localParticipant=new Vp("","",this.engine,this.options,this.rpcHandlers,this.outgoingDataStreamManager),(this.options.e2ee||this.options.encryption)&&this.setupE2EE(),this.engine.e2eeManager=this.e2eeManager,this.options.videoCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("videoinput",Nd(this.options.videoCaptureDefaults.deviceId)),this.options.audioCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("audioinput",Nd(this.options.audioCaptureDefaults.deviceId)),!(null===(i=this.options.audioOutput)||void 0===i)&&i.deviceId&&this.switchActiveDevice("audiooutput",Nd(this.options.audioOutput.deviceId)).catch(e=>this.log.warn("Could not set audio output: ".concat(e.message),this.logContext)),Dd()){const e=new AbortController;null===(r=navigator.mediaDevices)||void 0===r||r.addEventListener("devicechange",this.handleDeviceChange,{signal:e.signal}),Kp.cleanupRegistry&&Kp.cleanupRegistry.register(this,()=>{e.abort()})}}registerTextStreamHandler(e,t){return this.incomingDataStreamManager.registerTextStreamHandler(e,t)}unregisterTextStreamHandler(e){return this.incomingDataStreamManager.unregisterTextStreamHandler(e)}registerByteStreamHandler(e,t){return this.incomingDataStreamManager.registerByteStreamHandler(e,t)}unregisterByteStreamHandler(e){return this.incomingDataStreamManager.unregisterByteStreamHandler(e)}registerRpcMethod(e,t){if(this.rpcHandlers.has(e))throw Error("RPC handler already registered for method ".concat(e,", unregisterRpcMethod before trying to register again"));this.rpcHandlers.set(e,t)}unregisterRpcMethod(e){this.rpcHandlers.delete(e)}setE2EEEnabled(e){return oc(this,void 0,void 0,function*(){if(!this.e2eeManager)throw Error("e2ee not configured, please set e2ee settings within the room options");yield Promise.all([this.localParticipant.setE2EEEnabled(e)]),""!==this.localParticipant.identity&&this.e2eeManager.setParticipantCryptorEnabled(e,this.localParticipant.identity)})}setupE2EE(){var e;const t=!!this.options.encryption,n=this.options.encryption||this.options.e2ee;n&&("e2eeManager"in n?(this.e2eeManager=n.e2eeManager,this.e2eeManager.isDataChannelEncryptionEnabled=t):this.e2eeManager=new ah(n,t),this.e2eeManager.on(Dl.ParticipantEncryptionStatusChanged,(e,t)=>{(function(e){return e.isLocal})(t)&&(this.isE2EEEnabled=e),this.emit(yl.ParticipantEncryptionStatusChanged,e,t)}),this.e2eeManager.on(Dl.EncryptionError,(e,t)=>{const n=t?this.getParticipantByIdentity(t):void 0;this.emit(yl.EncryptionError,e,n)}),null===(e=this.e2eeManager)||void 0===e||e.setup(this))}get logContext(){var e;return{room:this.name,roomID:null===(e=this.roomInfo)||void 0===e?void 0:e.sid,participant:this.localParticipant.identity,pID:this.localParticipant.sid}}get isRecording(){var e,t;return null!==(t=null===(e=this.roomInfo)||void 0===e?void 0:e.activeRecording)&&void 0!==t&&t}getSid(){return oc(this,void 0,void 0,function*(){return this.state===Ap.Disconnected?"":this.roomInfo&&""!==this.roomInfo.sid?this.roomInfo.sid:new Promise((e,t)=>{const n=t=>{""!==t.sid&&(this.engine.off(Al.RoomUpdate,n),e(t.sid))};this.engine.on(Al.RoomUpdate,n),this.once(yl.Disconnected,()=>{this.engine.off(Al.RoomUpdate,n),t("Room disconnected before room server id was available")})})})}get name(){var e,t;return null!==(t=null===(e=this.roomInfo)||void 0===e?void 0:e.name)&&void 0!==t?t:""}get metadata(){var e;return null===(e=this.roomInfo)||void 0===e?void 0:e.metadata}get numParticipants(){var e,t;return null!==(t=null===(e=this.roomInfo)||void 0===e?void 0:e.numParticipants)&&void 0!==t?t:0}get numPublishers(){var e,t;return null!==(t=null===(e=this.roomInfo)||void 0===e?void 0:e.numPublishers)&&void 0!==t?t:0}maybeCreateEngine(){this.engine&&!this.engine.isClosed||(this.engine=new _p(this.options),this.engine.e2eeManager=this.e2eeManager,this.engine.on(Al.ParticipantUpdate,this.handleParticipantUpdates).on(Al.RoomUpdate,this.handleRoomUpdate).on(Al.SpeakersChanged,this.handleSpeakersChanged).on(Al.StreamStateChanged,this.handleStreamStateUpdate).on(Al.ConnectionQualityUpdate,this.handleConnectionQualityUpdate).on(Al.SubscriptionError,this.handleSubscriptionError).on(Al.SubscriptionPermissionUpdate,this.handleSubscriptionPermissionUpdate).on(Al.MediaTrackAdded,(e,t,n)=>{this.onTrackAdded(e,t,n)}).on(Al.Disconnected,e=>{this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,e)}).on(Al.ActiveSpeakersUpdate,this.handleActiveSpeakersUpdate).on(Al.DataPacketReceived,this.handleDataPacket).on(Al.Resuming,()=>{this.clearConnectionReconcile(),this.isResuming=!0,this.log.info("Resuming signal connection",this.logContext),this.setAndEmitConnectionState(Ap.SignalReconnecting)&&this.emit(yl.SignalReconnecting)}).on(Al.Resumed,()=>{this.registerConnectionReconcile(),this.isResuming=!1,this.log.info("Resumed signal connection",this.logContext),this.updateSubscriptions(),this.emitBufferedEvents(),this.setAndEmitConnectionState(Ap.Connected)&&this.emit(yl.Reconnected)}).on(Al.SignalResumed,()=>{this.bufferedEvents=[],(this.state===Ap.Reconnecting||this.isResuming)&&this.sendSyncState()}).on(Al.Restarting,this.handleRestarting).on(Al.SignalRestarted,this.handleSignalRestarted).on(Al.Offline,()=>{this.setAndEmitConnectionState(Ap.Reconnecting)&&this.emit(yl.Reconnecting)}).on(Al.DCBufferStatusChanged,(e,t)=>{this.emit(yl.DCBufferStatusChanged,e,t)}).on(Al.LocalTrackSubscribed,e=>{const t=this.localParticipant.getTrackPublications().find(t=>{let{trackSid:n}=t;return n===e});t?(this.localParticipant.emit(Tl.LocalTrackSubscribed,t),this.emitWhenConnected(yl.LocalTrackSubscribed,t,this.localParticipant)):this.log.warn("could not find local track subscription for subscribed event",this.logContext)}).on(Al.RoomMoved,e=>{this.log.debug("room moved",e),e.room&&this.handleRoomUpdate(e.room),this.remoteParticipants.forEach((e,t)=>{this.handleParticipantDisconnected(t,e)}),this.emit(yl.Moved,e.room.name),e.participant?this.handleParticipantUpdates([e.participant,...e.otherParticipants]):this.handleParticipantUpdates(e.otherParticipants)}),this.localParticipant&&this.localParticipant.setupEngine(this.engine),this.e2eeManager&&this.e2eeManager.setupEngine(this.engine),this.outgoingDataStreamManager&&this.outgoingDataStreamManager.setupEngine(this.engine))}static getLocalDevices(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return ch.getInstance().getDevices(e,t)}prepareConnection(e,t){return oc(this,void 0,void 0,function*(){if(this.state===Ap.Disconnected){this.log.debug("prepareConnection to ".concat(e),this.logContext);try{if(Ed(new URL(e))&&t){this.regionUrlProvider=new Vh(e,t);const n=yield this.regionUrlProvider.getNextBestRegionUrl();n&&this.state===Ap.Disconnected&&(this.regionUrl=n,yield fetch(Bd(n),{method:"HEAD"}),this.log.debug("prepared connection to ".concat(n),this.logContext))}else yield fetch(Bd(e),{method:"HEAD"})}catch(e){this.log.warn("could not prepare connection",Object.assign(Object.assign({},this.logContext),{error:e}))}}})}getParticipantByIdentity(e){return this.localParticipant.identity===e?this.localParticipant:this.remoteParticipants.get(e)}clearConnectionFutures(){this.connectFuture=void 0}simulateScenario(e,t){return oc(this,void 0,void 0,function*(){let n,i=()=>oc(this,void 0,void 0,function*(){});switch(e){case"signal-reconnect":yield this.engine.client.handleOnClose("simulate disconnect");break;case"speaker":n=new Ru({scenario:{case:"speakerUpdate",value:3}});break;case"node-failure":n=new Ru({scenario:{case:"nodeFailure",value:!0}});break;case"server-leave":n=new Ru({scenario:{case:"serverLeave",value:!0}});break;case"migration":n=new Ru({scenario:{case:"migration",value:!0}});break;case"resume-reconnect":this.engine.failNext(),yield this.engine.client.handleOnClose("simulate resume-disconnect");break;case"disconnect-signal-on-resume":i=()=>oc(this,void 0,void 0,function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")}),n=new Ru({scenario:{case:"disconnectSignalOnResume",value:!0}});break;case"disconnect-signal-on-resume-no-messages":i=()=>oc(this,void 0,void 0,function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")}),n=new Ru({scenario:{case:"disconnectSignalOnResumeNoMessages",value:!0}});break;case"full-reconnect":this.engine.fullReconnectOnNext=!0,yield this.engine.client.handleOnClose("simulate full-reconnect");break;case"force-tcp":case"force-tls":n=new Ru({scenario:{case:"switchCandidateProtocol",value:"force-tls"===e?2:1}}),i=()=>oc(this,void 0,void 0,function*(){const e=this.engine.client.onLeave;e&&e(new du({reason:Ja.CLIENT_INITIATED,action:hu.RECONNECT}))});break;case"subscriber-bandwidth":if(void 0===t||"number"!=typeof t)throw new Error("subscriber-bandwidth requires a number as argument");n=new Ru({scenario:{case:"subscriberBandwidth",value:$d(t)}});break;case"leave-full-reconnect":n=new Ru({scenario:{case:"leaveRequestFullReconnect",value:!0}})}n&&(yield this.engine.client.sendSimulateScenario(n),yield i())})}get canPlaybackAudio(){return this.audioEnabled}get canPlaybackVideo(){return!this.isVideoPlaybackBlocked}getActiveDevice(e){return this.localParticipant.activeDeviceMap.get(e)}switchActiveDevice(e,t){return oc(this,arguments,void 0,function(e,t){var n=this;let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function*(){var r,o,a,s,u,c,l;let d=!0,h=!1;const p=i?{exact:t}:t;if("audioinput"===e){h=0===n.localParticipant.audioTrackPublications.size;const t=null!==(r=n.getActiveDevice(e))&&void 0!==r?r:n.options.audioCaptureDefaults.deviceId;n.options.audioCaptureDefaults.deviceId=p;const i=Array.from(n.localParticipant.audioTrackPublications.values()).filter(e=>e.source===Vl.Source.Microphone);try{d=(yield Promise.all(i.map(e=>{var t;return null===(t=e.audioTrack)||void 0===t?void 0:t.setDeviceId(p)}))).every(e=>!0===e)}catch(e){throw n.options.audioCaptureDefaults.deviceId=t,e}const o=i.some(e=>{var t,n;return null!==(n=null===(t=e.track)||void 0===t?void 0:t.isMuted)&&void 0!==n&&n});d&&o&&(h=!0)}else if("videoinput"===e){h=0===n.localParticipant.videoTrackPublications.size;const t=null!==(o=n.getActiveDevice(e))&&void 0!==o?o:n.options.videoCaptureDefaults.deviceId;n.options.videoCaptureDefaults.deviceId=p;const i=Array.from(n.localParticipant.videoTrackPublications.values()).filter(e=>e.source===Vl.Source.Camera);try{d=(yield Promise.all(i.map(e=>{var t;return null===(t=e.videoTrack)||void 0===t?void 0:t.setDeviceId(p)}))).every(e=>!0===e)}catch(e){throw n.options.videoCaptureDefaults.deviceId=t,e}const r=i.some(e=>{var t,n;return null!==(n=null===(t=e.track)||void 0===t?void 0:t.isMuted)&&void 0!==n&&n});d&&r&&(h=!0)}else if("audiooutput"===e){if(h=!0,!hd()&&!n.options.webAudioMix||n.options.webAudioMix&&n.audioContext&&!("setSinkId"in n.audioContext))throw new Error("cannot switch audio output, the current browser does not support it");n.options.webAudioMix&&(t=null!==(a=yield ch.getInstance().normalizeDeviceId("audiooutput",t))&&void 0!==a?a:""),null!==(s=(l=n.options).audioOutput)&&void 0!==s||(l.audioOutput={});const i=null!==(u=n.getActiveDevice(e))&&void 0!==u?u:n.options.audioOutput.deviceId;n.options.audioOutput.deviceId=t;try{n.options.webAudioMix&&(null===(c=n.audioContext)||void 0===c||c.setSinkId(t)),yield Promise.all(Array.from(n.remoteParticipants.values()).map(e=>e.setAudioOutput({deviceId:t})))}catch(e){throw n.options.audioOutput.deviceId=i,e}}return h&&(n.localParticipant.activeDeviceMap.set(e,t),n.emit(yl.ActiveDeviceChanged,e,t)),d}()})}setupLocalParticipantEvents(){this.localParticipant.on(Tl.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).on(Tl.ParticipantNameChanged,this.onLocalParticipantNameChanged).on(Tl.AttributesChanged,this.onLocalAttributesChanged).on(Tl.TrackMuted,this.onLocalTrackMuted).on(Tl.TrackUnmuted,this.onLocalTrackUnmuted).on(Tl.LocalTrackPublished,this.onLocalTrackPublished).on(Tl.LocalTrackUnpublished,this.onLocalTrackUnpublished).on(Tl.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).on(Tl.MediaDevicesError,this.onMediaDevicesError).on(Tl.AudioStreamAcquired,this.startAudio).on(Tl.ChatMessage,this.onLocalChatMessageSent).on(Tl.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged)}recreateEngine(){var e;null===(e=this.engine)||void 0===e||e.close(),this.engine=void 0,this.isResuming=!1,this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.bufferedEvents=[],this.maybeCreateEngine()}onTrackAdded(e,t,n){if(this.state===Ap.Connecting||this.state===Ap.Reconnecting){const i=()=>{this.log.debug("deferring on track for later",{mediaTrackId:e.id,mediaStreamId:t.id,tracksInStream:t.getTracks().map(e=>e.id)}),this.onTrackAdded(e,t,n),r()},r=()=>{this.off(yl.Reconnected,i),this.off(yl.Connected,i),this.off(yl.Disconnected,r)};return this.once(yl.Reconnected,i),this.once(yl.Connected,i),void this.once(yl.Disconnected,r)}if(this.state===Ap.Disconnected)return void this.log.warn("skipping incoming track after Room disconnected",this.logContext);if("ended"===e.readyState)return void this.log.info("skipping incoming track as it already ended",this.logContext);const i=function(e){const t=e.split("|");return t.length>1?[t[0],e.substr(t[0].length+1)]:[e,""]}(t.id),r=i[0];let o=i[1],a=e.id;if(o&&o.startsWith("TR")&&(a=o),r===this.localParticipant.sid)return void this.log.warn("tried to create RemoteParticipant for local participant",this.logContext);const s=Array.from(this.remoteParticipants.values()).find(e=>e.sid===r);if(!s)return void this.log.error("Tried to add a track for a participant, that's not present. Sid: ".concat(r),this.logContext);if(!a.startsWith("TR")){const e=this.engine.getTrackIdForReceiver(n);if(!e)return void this.log.error("Tried to add a track whose 'sid' could not be found for a participant, that's not present. Sid: ".concat(r),this.logContext);a=e}let u;a.startsWith("TR")||this.log.warn("Tried to add a track whose 'sid' could not be determined for a participant, that's not present. Sid: ".concat(r,", streamId: ").concat(o,", trackId: ").concat(a),Object.assign(Object.assign({},this.logContext),{rpID:r,streamId:o,trackId:a})),this.options.adaptiveStream&&(u="object"==typeof this.options.adaptiveStream?this.options.adaptiveStream:{});const c=s.addSubscribedMediaTrack(e,a,t,n,u);null!=c&&c.isEncrypted&&!this.e2eeManager&&this.emit(yl.EncryptionError,new Error("Encrypted ".concat(c.source," track received from participant ").concat(s.sid,", but room does not have encryption enabled!")))}handleDisconnect(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;var n;if(this.clearConnectionReconcile(),this.isResuming=!1,this.bufferedEvents=[],this.transcriptionReceivedTimes.clear(),this.incomingDataStreamManager.clearControllers(),this.state!==Ap.Disconnected){this.regionUrl=void 0,this.regionUrlProvider&&this.regionUrlProvider.notifyDisconnected();try{this.remoteParticipants.forEach(e=>{e.trackPublications.forEach(t=>{e.unpublishTrack(t.trackSid)})}),this.localParticipant.trackPublications.forEach(t=>{var n,i,r;t.track&&this.localParticipant.unpublishTrack(t.track,e),e?(null===(n=t.track)||void 0===n||n.detach(),null===(i=t.track)||void 0===i||i.stop()):null===(r=t.track)||void 0===r||r.stopMonitor()}),this.localParticipant.off(Tl.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).off(Tl.ParticipantNameChanged,this.onLocalParticipantNameChanged).off(Tl.AttributesChanged,this.onLocalAttributesChanged).off(Tl.TrackMuted,this.onLocalTrackMuted).off(Tl.TrackUnmuted,this.onLocalTrackUnmuted).off(Tl.LocalTrackPublished,this.onLocalTrackPublished).off(Tl.LocalTrackUnpublished,this.onLocalTrackUnpublished).off(Tl.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).off(Tl.MediaDevicesError,this.onMediaDevicesError).off(Tl.AudioStreamAcquired,this.startAudio).off(Tl.ChatMessage,this.onLocalChatMessageSent).off(Tl.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged),this.localParticipant.trackPublications.clear(),this.localParticipant.videoTrackPublications.clear(),this.localParticipant.audioTrackPublications.clear(),this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.activeSpeakers=[],this.audioContext&&"boolean"==typeof this.options.webAudioMix&&(this.audioContext.close(),this.audioContext=void 0),Dd()&&(window.removeEventListener("beforeunload",this.onPageLeave),window.removeEventListener("pagehide",this.onPageLeave),window.removeEventListener("freeze",this.onPageLeave),null===(n=navigator.mediaDevices)||void 0===n||n.removeEventListener("devicechange",this.handleDeviceChange))}finally{this.setAndEmitConnectionState(Ap.Disconnected),this.emit(yl.Disconnected,t)}}}handleParticipantDisconnected(e,t){var n;this.remoteParticipants.delete(e),t&&(this.incomingDataStreamManager.validateParticipantHasNoActiveDataStreams(e),t.trackPublications.forEach(e=>{t.unpublishTrack(e.trackSid,!0)}),this.emit(yl.ParticipantDisconnected,t),t.setDisconnected(),null===(n=this.localParticipant)||void 0===n||n.handleParticipantDisconnected(t.identity))}handleIncomingRpcRequest(e,t,n,i,r,o){return oc(this,void 0,void 0,function*(){if(yield this.engine.publishRpcAck(e,t),1!==o)return void(yield this.engine.publishRpcResponse(e,t,null,Yh.builtIn("UNSUPPORTED_VERSION")));const a=this.rpcHandlers.get(n);if(!a)return void(yield this.engine.publishRpcResponse(e,t,null,Yh.builtIn("UNSUPPORTED_METHOD")));let s=null,u=null;try{const o=yield a({requestId:t,callerIdentity:e,payload:i,responseTimeout:r});Hh(o)>15360?(s=Yh.builtIn("RESPONSE_PAYLOAD_TOO_LARGE"),console.warn("RPC Response payload too large for ".concat(n))):u=o}catch(e){e instanceof Yh?s=e:(console.warn("Uncaught error returned by RPC handler for ".concat(n,". Returning APPLICATION_ERROR instead."),e),s=Yh.builtIn("APPLICATION_ERROR"))}yield this.engine.publishRpcResponse(e,t,u,s)})}selectDefaultDevices(){return oc(this,void 0,void 0,function*(){var e,t,n;const i=ch.getInstance().previousDevices,r=yield ch.getInstance().getDevices(void 0,!1),o=ql();if("Chrome"===(null==o?void 0:o.name)&&"iOS"!==o.os)for(let e of r){const t=i.find(t=>t.deviceId===e.deviceId);t&&""!==t.label&&t.kind===e.kind&&t.label!==e.label&&"default"===this.getActiveDevice(e.kind)&&this.emit(yl.ActiveDeviceChanged,e.kind,e.deviceId)}const a=["audiooutput","audioinput","videoinput"];for(let o of a){const a=Jd(o),s=this.localParticipant.getTrackPublication(a);if(s&&null!==(e=s.track)&&void 0!==e&&e.isUserProvided)continue;const u=r.filter(e=>e.kind===o),c=this.getActiveDevice(o);c===(null===(t=i.filter(e=>e.kind===o)[0])||void 0===t?void 0:t.deviceId)&&u.length>0&&(null===(n=u[0])||void 0===n?void 0:n.deviceId)!==c?yield this.switchActiveDevice(o,u[0].deviceId):"audioinput"===o&&!Od()||"videoinput"===o||u.length>0&&!u.find(e=>e.deviceId===this.getActiveDevice(o))&&("audiooutput"!==o||!Od())&&(yield this.switchActiveDevice(o,u[0].deviceId))}})}acquireAudioContext(){return oc(this,void 0,void 0,function*(){var e,t;if("boolean"!=typeof this.options.webAudioMix&&this.options.webAudioMix.audioContext?this.audioContext=this.options.webAudioMix.audioContext:(!this.audioContext||"closed"===this.audioContext.state)&&(this.audioContext=null!==(e=Kd())&&void 0!==e?e:void 0),this.options.webAudioMix&&this.remoteParticipants.forEach(e=>e.setAudioContext(this.audioContext)),this.localParticipant.setAudioContext(this.audioContext),this.audioContext&&"suspended"===this.audioContext.state)try{yield Promise.race([this.audioContext.resume(),ud(200)])}catch(e){this.log.warn("Could not resume audio context",Object.assign(Object.assign({},this.logContext),{error:e}))}const n="running"===(null===(t=this.audioContext)||void 0===t?void 0:t.state);n!==this.canPlaybackAudio&&(this.audioEnabled=n,this.emit(yl.AudioPlaybackStatusChanged,n))})}createParticipant(e,t){var n;let i;return i=t?Hp.fromParticipantInfo(this.engine.client,t,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}):new Hp(this.engine.client,"",e,void 0,void 0,void 0,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}),this.options.webAudioMix&&i.setAudioContext(this.audioContext),!(null===(n=this.options.audioOutput)||void 0===n)&&n.deviceId&&i.setAudioOutput(this.options.audioOutput).catch(e=>this.log.warn("Could not set audio output: ".concat(e.message),this.logContext)),i}getOrCreateParticipant(e,t){if(this.remoteParticipants.has(e)){const n=this.remoteParticipants.get(e);return t&&n.updateInfo(t)&&this.sidToIdentity.set(t.sid,t.identity),n}const n=this.createParticipant(e,t);return this.remoteParticipants.set(e,n),this.sidToIdentity.set(t.sid,t.identity),this.emitWhenConnected(yl.ParticipantConnected,n),n.on(Tl.TrackPublished,e=>{this.emitWhenConnected(yl.TrackPublished,e,n)}).on(Tl.TrackSubscribed,(e,t)=>{e.kind===Vl.Kind.Audio?(e.on(Sl.AudioPlaybackStarted,this.handleAudioPlaybackStarted),e.on(Sl.AudioPlaybackFailed,this.handleAudioPlaybackFailed)):e.kind===Vl.Kind.Video&&(e.on(Sl.VideoPlaybackFailed,this.handleVideoPlaybackFailed),e.on(Sl.VideoPlaybackStarted,this.handleVideoPlaybackStarted)),this.emit(yl.TrackSubscribed,e,t,n)}).on(Tl.TrackUnpublished,e=>{this.emit(yl.TrackUnpublished,e,n)}).on(Tl.TrackUnsubscribed,(e,t)=>{this.emit(yl.TrackUnsubscribed,e,t,n)}).on(Tl.TrackMuted,e=>{this.emitWhenConnected(yl.TrackMuted,e,n)}).on(Tl.TrackUnmuted,e=>{this.emitWhenConnected(yl.TrackUnmuted,e,n)}).on(Tl.ParticipantMetadataChanged,e=>{this.emitWhenConnected(yl.ParticipantMetadataChanged,e,n)}).on(Tl.ParticipantNameChanged,e=>{this.emitWhenConnected(yl.ParticipantNameChanged,e,n)}).on(Tl.AttributesChanged,e=>{this.emitWhenConnected(yl.ParticipantAttributesChanged,e,n)}).on(Tl.ConnectionQualityChanged,e=>{this.emitWhenConnected(yl.ConnectionQualityChanged,e,n)}).on(Tl.ParticipantPermissionsChanged,e=>{this.emitWhenConnected(yl.ParticipantPermissionsChanged,e,n)}).on(Tl.TrackSubscriptionStatusChanged,(e,t)=>{this.emitWhenConnected(yl.TrackSubscriptionStatusChanged,e,t,n)}).on(Tl.TrackSubscriptionFailed,(e,t)=>{this.emit(yl.TrackSubscriptionFailed,e,n,t)}).on(Tl.TrackSubscriptionPermissionChanged,(e,t)=>{this.emitWhenConnected(yl.TrackSubscriptionPermissionChanged,e,t,n)}).on(Tl.Active,()=>{this.emitWhenConnected(yl.ParticipantActive,n),n.kind===us.AGENT&&this.localParticipant.setActiveAgent(n)}),t&&n.updateInfo(t),n}sendSyncState(){const e=Array.from(this.remoteParticipants.values()).reduce((e,t)=>(e.push(...t.getTrackPublications()),e),[]),t=this.localParticipant.getTrackPublications();this.engine.sendSyncState(e,t)}updateSubscriptions(){for(const e of this.remoteParticipants.values())for(const t of e.videoTrackPublications.values())t.isSubscribed&&Wd(t)&&t.emitTrackUpdate()}getRemoteParticipantBySid(e){const t=this.sidToIdentity.get(e);if(t)return this.remoteParticipants.get(t)}registerConnectionReconcile(){this.clearConnectionReconcile();let e=0;this.connectionReconcileInterval=jl.setInterval(()=>{this.engine&&!this.engine.isClosed&&this.engine.verifyTransport()?e=0:(e++,this.log.warn("detected connection state mismatch",Object.assign(Object.assign({},this.logContext),{numFailures:e,engine:this.engine?{closed:this.engine.isClosed,transportsConnected:this.engine.verifyTransport()}:void 0})),e>=3&&(this.recreateEngine(),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,Ja.STATE_MISMATCH)))},4e3)}clearConnectionReconcile(){this.connectionReconcileInterval&&jl.clearInterval(this.connectionReconcileInterval)}setAndEmitConnectionState(e){return e!==this.state&&(this.state=e,this.emit(yl.ConnectionStateChanged,this.state),!0)}emitBufferedEvents(){this.bufferedEvents.forEach(e=>{let[t,n]=e;this.emit(t,...n)}),this.bufferedEvents=[]}emitWhenConnected(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(this.state===Ap.Reconnecting||this.isResuming||!this.engine||this.engine.pendingReconnect)this.bufferedEvents.push([e,n]);else if(this.state===Ap.Connected)return this.emit(e,...n);return!1}simulateParticipants(e){return oc(this,void 0,void 0,function*(){var t,n;const i=Object.assign({audio:!0,video:!0,useRealTracks:!1},e.publish),r=Object.assign({count:9,audio:!1,video:!0,aspectRatios:[1.66,1.7,1.3]},e.participants);if(this.handleDisconnect(),this.roomInfo=new is({sid:"RM_SIMULATED",name:"simulated-room",emptyTimeout:0,maxParticipants:0,creationTime:Po.parse((new Date).getTime()),metadata:"",numParticipants:1,numPublishers:1,turnPassword:"",enabledCodecs:[],activeRecording:!1}),this.localParticipant.updateInfo(new as({identity:"simulated-local",name:"local-name"})),this.setupLocalParticipantEvents(),this.emit(yl.SignalConnected),this.emit(yl.Connected),this.setAndEmitConnectionState(Ap.Connected),i.video){const e=new jp(Vl.Kind.Video,new hs({source:Va.CAMERA,sid:Math.floor(1e4*Math.random()).toString(),type:Ga.AUDIO,name:"video-dummy"}),new gp(i.useRealTracks?(yield window.navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0]:Pd(160*(null!==(t=r.aspectRatios[0])&&void 0!==t?t:1),160,!0,!0),void 0,!1,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(e),this.localParticipant.emit(Tl.LocalTrackPublished,e)}if(i.audio){const e=new jp(Vl.Kind.Audio,new hs({source:Va.MICROPHONE,sid:Math.floor(1e4*Math.random()).toString(),type:Ga.AUDIO}),new op(i.useRealTracks?(yield navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks()[0]:Id(),void 0,!1,this.audioContext,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(e),this.localParticipant.emit(Tl.LocalTrackPublished,e)}for(let e=0;e<r.count-1;e+=1){let t=new as({sid:Math.floor(1e4*Math.random()).toString(),identity:"simulated-".concat(e),state:ss.ACTIVE,tracks:[],joinedAt:Po.parse(Date.now())});const i=this.getOrCreateParticipant(t.identity,t);if(r.video){const o=Pd(160*(null!==(n=r.aspectRatios[e%r.aspectRatios.length])&&void 0!==n?n:1),160,!1,!0),a=new hs({source:Va.CAMERA,sid:Math.floor(1e4*Math.random()).toString(),type:Ga.AUDIO});i.addSubscribedMediaTrack(o,a.sid,new MediaStream([o]),new RTCRtpReceiver),t.tracks=[...t.tracks,a]}if(r.audio){const e=Id(),n=new hs({source:Va.MICROPHONE,sid:Math.floor(1e4*Math.random()).toString(),type:Ga.AUDIO});i.addSubscribedMediaTrack(e,n.sid,new MediaStream([e]),new RTCRtpReceiver),t.tracks=[...t.tracks,n]}i.updateInfo(t)}})}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e!==yl.ActiveSpeakersChanged&&e!==yl.TranscriptionReceived){const t=Jp(n).filter(e=>void 0!==e);(e===yl.TrackSubscribed||e===yl.TrackUnsubscribed)&&this.log.trace("subscribe trace: ".concat(e),Object.assign(Object.assign({},this.logContext),{event:e,args:t})),this.log.debug("room event ".concat(e),Object.assign(Object.assign({},this.logContext),{event:e,args:t}))}return super.emit(e,...n)}}function Jp(e){return e.map(e=>{if(e)return Array.isArray(e)?Jp(e):"object"==typeof e?"logContext"in e?e.logContext:void 0:e})}function ef(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Kp.cleanupRegistry=typeof FinalizationRegistry<"u"&&new FinalizationRegistry(e=>{e()}),function(e){e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.SKIPPED=2]="SKIPPED",e[e.SUCCESS=3]="SUCCESS",e[e.FAILED=4]="FAILED"}(Sp||(Sp={})),cc.EventEmitter,cc.EventEmitter,new TextEncoder,new TextDecoder;class tf extends Error{constructor(e,t){var n;super(e,t),ef(this,"code","ERR_JOSE_GENERIC"),this.name=this.constructor.name,null===(n=Error.captureStackTrace)||void 0===n||n.call(Error,this,this.constructor)}}function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},nf.apply(null,arguments)}ef(tf,"code","ERR_JOSE_GENERIC"),ef(class extends tf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unspecified",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unspecified";super(e,{cause:{claim:n,reason:i,payload:t}}),ef(this,"code","ERR_JWT_CLAIM_VALIDATION_FAILED"),ef(this,"claim",void 0),ef(this,"reason",void 0),ef(this,"payload",void 0),this.claim=n,this.reason=i,this.payload=t}},"code","ERR_JWT_CLAIM_VALIDATION_FAILED"),ef(class extends tf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unspecified",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unspecified";super(e,{cause:{claim:n,reason:i,payload:t}}),ef(this,"code","ERR_JWT_EXPIRED"),ef(this,"claim",void 0),ef(this,"reason",void 0),ef(this,"payload",void 0),this.claim=n,this.reason=i,this.payload=t}},"code","ERR_JWT_EXPIRED"),ef(class extends tf{constructor(){super(...arguments),ef(this,"code","ERR_JOSE_ALG_NOT_ALLOWED")}},"code","ERR_JOSE_ALG_NOT_ALLOWED"),ef(class extends tf{constructor(){super(...arguments),ef(this,"code","ERR_JOSE_NOT_SUPPORTED")}},"code","ERR_JOSE_NOT_SUPPORTED"),ef(class extends tf{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"decryption operation failed",arguments.length>1?arguments[1]:void 0),ef(this,"code","ERR_JWE_DECRYPTION_FAILED")}},"code","ERR_JWE_DECRYPTION_FAILED"),ef(class extends tf{constructor(){super(...arguments),ef(this,"code","ERR_JWE_INVALID")}},"code","ERR_JWE_INVALID"),ef(class extends tf{constructor(){super(...arguments),ef(this,"code","ERR_JWS_INVALID")}},"code","ERR_JWS_INVALID"),ef(class extends tf{constructor(){super(...arguments),ef(this,"code","ERR_JWT_INVALID")}},"code","ERR_JWT_INVALID"),ef(class extends tf{constructor(){super(...arguments),ef(this,"code","ERR_JWK_INVALID")}},"code","ERR_JWK_INVALID"),ef(class extends tf{constructor(){super(...arguments),ef(this,"code","ERR_JWKS_INVALID")}},"code","ERR_JWKS_INVALID"),ef(class extends tf{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"no applicable key found in the JSON Web Key Set",arguments.length>1?arguments[1]:void 0),ef(this,"code","ERR_JWKS_NO_MATCHING_KEY")}},"code","ERR_JWKS_NO_MATCHING_KEY"),ef(class extends tf{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"multiple matching keys found in the JSON Web Key Set",arguments.length>1?arguments[1]:void 0),ef(this,Symbol.asyncIterator,void 0),ef(this,"code","ERR_JWKS_MULTIPLE_MATCHING_KEYS")}},"code","ERR_JWKS_MULTIPLE_MATCHING_KEYS"),ef(class extends tf{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"request timed out",arguments.length>1?arguments[1]:void 0),ef(this,"code","ERR_JWKS_TIMEOUT")}},"code","ERR_JWKS_TIMEOUT"),ef(class extends tf{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"signature verification failed",arguments.length>1?arguments[1]:void 0),ef(this,"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED")}},"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED");const rf=new Uint8Array(0);let of=class{static getFullOptions(e){var t;const n=function(e){var t,n;const{textOnly:i}=null!=(t=null==(n=e.overrides)?void 0:n.conversation)?t:{},{textOnly:r}=e;return"boolean"==typeof r?("boolean"==typeof i&&r!==i&&console.warn("Conflicting textOnly options provided: ".concat(r," via options.textOnly (will be used) and ").concat(i," via options.overrides.conversation.textOnly (will be ignored)")),r):"boolean"==typeof i?i:void 0}(e);return nf({clientTools:{},onConnect:()=>{},onDebug:()=>{},onDisconnect:()=>{},onError:()=>{},onMessage:()=>{},onAudio:()=>{},onModeChange:()=>{},onStatusChange:()=>{},onCanSendFeedbackChange:()=>{},onInterruption:()=>{}},e,{textOnly:n,overrides:nf({},e.overrides,{conversation:nf({},null==(t=e.overrides)?void 0:t.conversation,{textOnly:n})})})}constructor(e,t){var n=this;this.options=void 0,this.connection=void 0,this.lastInterruptTimestamp=0,this.mode="listening",this.status="connecting",this.volume=1,this.currentEventId=1,this.lastFeedbackEventId=0,this.canSendFeedback=!1,this.endSessionWithDetails=async function(e){"connected"!==n.status&&"connecting"!==n.status||(n.updateStatus("disconnecting"),await n.handleEndSession(),n.updateStatus("disconnected"),n.options.onDisconnect&&n.options.onDisconnect(e))},this.onMessage=async function(e){switch(e.type){case"interruption":return void n.handleInterruption(e);case"agent_response":return void n.handleAgentResponse(e);case"user_transcript":return void n.handleUserTranscript(e);case"internal_tentative_agent_response":return void n.handleTentativeAgentResponse(e);case"client_tool_call":try{await n.handleClientToolCall(e)}catch(t){n.onError("Unexpected error in client tool call handling: ".concat(t instanceof Error?t.message:String(t)),{clientToolName:e.client_tool_call.tool_name,toolCallId:e.client_tool_call.tool_call_id})}return;case"audio":return void n.handleAudio(e);case"vad_score":return void n.handleVadScore(e);case"ping":return void n.connection.sendMessage({type:"pong",event_id:e.ping_event.event_id});case"mcp_tool_call":return void n.handleMCPToolCall(e);case"mcp_connection_status":return void n.handleMCPConnectionStatus(e);case"agent_tool_request":return void n.handleAgentToolRequest(e);case"agent_tool_response":return void n.handleAgentToolResponse(e);case"conversation_initiation_metadata":return void n.handleConversationMetadata(e);case"asr_initiation_metadata":return void n.handleAsrInitiationMetadata(e);case"agent_chat_response_part":return void n.handleAgentChatResponsePart(e);case"error":return void n.handleErrorEvent(e);default:return void(n.options.onDebug&&n.options.onDebug(e))}},this.setVolume=e=>{let{volume:t}=e;this.volume=t},this.options=e,this.connection=t,this.options.onConnect&&this.options.onConnect({conversationId:t.conversationId}),this.connection.onMessage(this.onMessage),this.connection.onDisconnect(this.endSessionWithDetails),this.connection.onModeChange(e=>this.updateMode(e)),this.updateStatus("connected")}endSession(){return this.endSessionWithDetails({reason:"user"})}async handleEndSession(){this.connection.close()}updateMode(e){e!==this.mode&&(this.mode=e,this.options.onModeChange&&this.options.onModeChange({mode:e}))}updateStatus(e){e!==this.status&&(this.status=e,this.options.onStatusChange&&this.options.onStatusChange({status:e}))}updateCanSendFeedback(){const e=this.currentEventId!==this.lastFeedbackEventId;this.canSendFeedback!==e&&(this.canSendFeedback=e,this.options.onCanSendFeedbackChange&&this.options.onCanSendFeedbackChange({canSendFeedback:e}))}handleInterruption(e){e.interruption_event&&(this.lastInterruptTimestamp=e.interruption_event.event_id,this.options.onInterruption&&this.options.onInterruption({event_id:e.interruption_event.event_id}))}handleAgentResponse(e){this.options.onMessage&&this.options.onMessage({source:"ai",role:"agent",message:e.agent_response_event.agent_response})}handleUserTranscript(e){this.options.onMessage&&this.options.onMessage({source:"user",role:"user",message:e.user_transcription_event.user_transcript})}handleTentativeAgentResponse(e){this.options.onDebug&&this.options.onDebug({type:"tentative_agent_response",response:e.tentative_agent_response_internal_event.tentative_agent_response})}handleVadScore(e){this.options.onVadScore&&this.options.onVadScore({vadScore:e.vad_score_event.vad_score})}async handleClientToolCall(e){if(Object.prototype.hasOwnProperty.call(this.options.clientTools,e.client_tool_call.tool_name))try{var t;const n=null!=(t=await this.options.clientTools[e.client_tool_call.tool_name](e.client_tool_call.parameters))?t:"Client tool execution successful.",i="object"==typeof n?JSON.stringify(n):String(n);this.connection.sendMessage({type:"client_tool_result",tool_call_id:e.client_tool_call.tool_call_id,result:i,is_error:!1})}catch(t){this.onError("Client tool execution failed with following error: ".concat(null==t?void 0:t.message),{clientToolName:e.client_tool_call.tool_name}),this.connection.sendMessage({type:"client_tool_result",tool_call_id:e.client_tool_call.tool_call_id,result:"Client tool execution failed: ".concat(null==t?void 0:t.message),is_error:!0})}else{if(this.options.onUnhandledClientToolCall)return void this.options.onUnhandledClientToolCall(e.client_tool_call);this.onError("Client tool with name ".concat(e.client_tool_call.tool_name," is not defined on client"),{clientToolName:e.client_tool_call.tool_name}),this.connection.sendMessage({type:"client_tool_result",tool_call_id:e.client_tool_call.tool_call_id,result:"Client tool with name ".concat(e.client_tool_call.tool_name," is not defined on client"),is_error:!0})}}handleAudio(e){}handleMCPToolCall(e){this.options.onMCPToolCall&&this.options.onMCPToolCall(e.mcp_tool_call)}handleMCPConnectionStatus(e){this.options.onMCPConnectionStatus&&this.options.onMCPConnectionStatus(e.mcp_connection_status)}handleAgentToolRequest(e){this.options.onAgentToolRequest&&this.options.onAgentToolRequest(e.agent_tool_request)}handleAgentToolResponse(e){"end_call"===e.agent_tool_response.tool_name&&this.endSessionWithDetails({reason:"agent",context:new CloseEvent("end_call",{reason:"Agent ended the call"})}),this.options.onAgentToolResponse&&this.options.onAgentToolResponse(e.agent_tool_response)}handleConversationMetadata(e){this.options.onConversationMetadata&&this.options.onConversationMetadata(e.conversation_initiation_metadata_event)}handleAsrInitiationMetadata(e){this.options.onAsrInitiationMetadata&&this.options.onAsrInitiationMetadata(e.asr_initiation_metadata_event)}handleAgentChatResponsePart(e){this.options.onAgentChatResponsePart&&this.options.onAgentChatResponsePart(e.text_response_part)}handleErrorEvent(e){const t=e.error_event.error_type,n=e.error_event.message||e.error_event.reason||"Unknown error";"max_duration_exceeded"!==t?this.onError("Server error: ".concat(n),{errorType:t,code:e.error_event.code,debugMessage:e.error_event.debug_message,details:e.error_event.details}):this.endSessionWithDetails({reason:"error",message:n,context:new Event("max_duration_exceeded")})}onError(e,t){console.error(e,t),this.options.onError&&this.options.onError(e,t)}getId(){return this.connection.conversationId}isOpen(){return"connected"===this.status}setMicMuted(e){this.connection.setMicMuted(e)}getInputByteFrequencyData(){return rf}getOutputByteFrequencyData(){return rf}getInputVolume(){return 0}getOutputVolume(){return 0}sendFeedback(e){this.canSendFeedback?(this.connection.sendMessage({type:"feedback",score:e?"like":"dislike",event_id:this.currentEventId}),this.lastFeedbackEventId=this.currentEventId,this.updateCanSendFeedback()):console.warn(0===this.lastFeedbackEventId?"Cannot send feedback: the conversation has not started yet.":"Cannot send feedback: feedback has already been sent for the current response.")}sendContextualUpdate(e){this.connection.sendMessage({type:"contextual_update",text:e})}sendUserMessage(e){this.connection.sendMessage({type:"user_message",text:e})}sendUserActivity(){this.connection.sendMessage({type:"user_activity"})}sendMCPToolApprovalResult(e,t){this.connection.sendMessage({type:"mcp_tool_approval_result",tool_call_id:e,is_approved:t})}};class af{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.queue=[],this.disconnectionDetails=null,this.onDisconnectCallback=null,this.onMessageCallback=null,this.onModeChangeCallback=null,this.onDebug=void 0,this.onDebug=e.onDebug}debug(e){this.onDebug&&this.onDebug(e)}onMessage(e){this.onMessageCallback=e;const t=this.queue;this.queue=[],t.length>0&&queueMicrotask(()=>{t.forEach(e)})}onDisconnect(e){this.onDisconnectCallback=e;const t=this.disconnectionDetails;t&&queueMicrotask(()=>{e(t)})}onModeChange(e){this.onModeChangeCallback=e}updateMode(e){var t;null==(t=this.onModeChangeCallback)||t.call(this,e)}disconnect(e){var t;this.disconnectionDetails||(this.disconnectionDetails=e,null==(t=this.onDisconnectCallback)||t.call(this,e))}handleMessage(e){this.onMessageCallback?this.onMessageCallback(e):this.queue.push(e)}}function sf(e){const[t,n]=e.split("_");if(!["pcm","ulaw"].includes(t))throw new Error("Invalid format: ".concat(e));const i=Number.parseInt(n);if(Number.isNaN(i))throw new Error("Invalid sample rate: ".concat(n));return{format:t,sampleRate:i}}const uf="0.14.0";function cf(e){return!!e.type}const lf="conversation_initiation_client_data";function df(e){var t;const n={type:lf};var i,r,o,a,s,u,c,l;return e.overrides&&(n.conversation_config_override={agent:{prompt:null==(i=e.overrides.agent)?void 0:i.prompt,first_message:null==(r=e.overrides.agent)?void 0:r.firstMessage,language:null==(o=e.overrides.agent)?void 0:o.language},tts:{voice_id:null==(a=e.overrides.tts)?void 0:a.voiceId,speed:null==(s=e.overrides.tts)?void 0:s.speed,stability:null==(u=e.overrides.tts)?void 0:u.stability,similarity_boost:null==(c=e.overrides.tts)?void 0:c.similarityBoost},conversation:{text_only:null==(l=e.overrides.conversation)?void 0:l.textOnly}}),e.customLlmExtraBody&&(n.custom_llm_extra_body=e.customLlmExtraBody),e.dynamicVariables&&(n.dynamic_variables=e.dynamicVariables),e.userId&&(n.user_id=e.userId),null!=(t=e.overrides)&&t.client&&(n.source_info={source:e.overrides.client.source,version:e.overrides.client.version}),n}let hf=class extends Error{constructor(e,t){super(e),this.closeCode=void 0,this.closeReason=void 0,this.name="SessionConnectionError",this.closeCode=null==t?void 0:t.closeCode,this.closeReason=null==t?void 0:t.closeReason}},pf=class e extends af{constructor(e,t,n,i){super(),this.socket=void 0,this.conversationId=void 0,this.inputFormat=void 0,this.outputFormat=void 0,this.socket=e,this.conversationId=t,this.inputFormat=n,this.outputFormat=i,this.socket.addEventListener("error",e=>{setTimeout(()=>this.disconnect({reason:"error",message:"The connection was closed due to a socket error.",context:e}),0)}),this.socket.addEventListener("close",e=>{this.disconnect(1e3===e.code?{reason:"agent",context:e,closeCode:e.code,closeReason:e.reason||void 0}:{reason:"error",message:e.reason||"The connection was closed by the server.",context:e,closeCode:e.code,closeReason:e.reason||void 0})}),this.socket.addEventListener("message",e=>{try{const t=JSON.parse(e.data);if(!cf(t))return void this.debug({type:"invalid_event",message:"Received invalid socket event",data:e.data});this.handleMessage(t)}catch(t){this.debug({type:"parsing_error",message:"Failed to parse socket message",error:t instanceof Error?t.message:String(t),data:e.data})}})}static async create(t){let n=null;try{var i,r,o;const a=null!=(i=t.origin)?i:"wss://api.elevenlabs.io";let s;const u=(null==(r=t.overrides)||null==(r=r.client)?void 0:r.version)||uf,c=(null==(o=t.overrides)||null==(o=o.client)?void 0:o.source)||"js_sdk";if(t.signedUrl){const e=t.signedUrl.includes("?")?"&":"?";s="".concat(t.signedUrl).concat(e,"source=").concat(c,"&version=").concat(u)}else s="".concat(a,"/v1/convai/conversation?agent_id=").concat(t.agentId,"&source=").concat(c,"&version=").concat(u);const l=["convai"];t.authorization&&l.push("bearer.".concat(t.authorization)),n=new WebSocket(s,l);const d=await new Promise((e,i)=>{n.addEventListener("open",()=>{var e;const i=df(t);null==(e=n)||e.send(JSON.stringify(i))},{once:!0}),n.addEventListener("error",e=>{setTimeout(()=>i(new hf("The connection was closed due to a socket error.")),0)}),n.addEventListener("close",e=>{i(new hf(e.reason||(1e3===e.code?"Connection closed normally before session could be established.":"Connection closed unexpectedly before session could be established."),{closeCode:e.code,closeReason:e.reason||void 0}))}),n.addEventListener("message",t=>{const n=JSON.parse(t.data);cf(n)&&("conversation_initiation_metadata"===n.type?e(n.conversation_initiation_metadata_event):console.warn("First received message is not conversation metadata."))},{once:!0})}),{conversation_id:h,agent_output_audio_format:p,user_input_audio_format:f}=d,m=sf(null!=f?f:"pcm_16000"),O=sf(p);return new e(n,h,m,O)}catch(e){var a;throw null==(a=n)||a.close(),e}}close(){this.socket.close(1e3,"User ended conversation")}sendMessage(e){this.socket.send(JSON.stringify(e))}async setMicMuted(e){console.warn("WebSocket connection setMicMuted called with ".concat(e,", but this is handled by VoiceConversation"))}};function ff(e){const t=new Uint8Array(e);return window.btoa(String.fromCharCode(...t))}function mf(e){const t=window.atob(e),n=t.length,i=new Uint8Array(n);for(let e=0;e<n;e++)i[e]=t.charCodeAt(e);return i.buffer}const Of=new Map;function gf(e,t){return async(n,i)=>{const r=Of.get(e);if(r)return n.addModule(r);if(i)try{return await n.addModule(i),void Of.set(e,i)}catch(t){throw new Error("Failed to load the ".concat(e," worklet module from path: ").concat(i,". Error: ").concat(t))}const o=new Blob([t],{type:"application/javascript"}),a=URL.createObjectURL(o);try{return await n.addModule(a),void Of.set(e,a)}catch(e){URL.revokeObjectURL(a)}try{const i="data:application/javascript;base64,".concat(btoa(t));await n.addModule(i),Of.set(e,i)}catch(t){throw new Error("Failed to load the ".concat(e," worklet module. Make sure the browser supports AudioWorklets. If you are using a strict CSP, you may need to self-host the worklet files."))}}}const Df=gf("rawAudioProcessor",'/*\n * ulaw encoding logic taken from the wavefile library\n * https://github.com/rochars/wavefile/blob/master/lib/codecs/mulaw.js\n * USED BY @elevenlabs/client\n */\n\nconst BIAS = 0x84;\nconst CLIP = 32635;\nconst encodeTable = [\n  0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,\n  4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,\n  5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,\n  5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,\n  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\n  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\n  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\n  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\n  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7\n];\n\nfunction encodeSample(sample) {\n  let sign;\n  let exponent;\n  let mantissa;\n  let muLawSample;\n  sign = (sample >> 8) & 0x80;\n  if (sign !== 0) sample = -sample;\n  sample = sample + BIAS;\n  if (sample > CLIP) sample = CLIP;\n  exponent = encodeTable[(sample>>7) & 0xFF];\n  mantissa = (sample >> (exponent+3)) & 0x0F;\n  muLawSample = ~(sign | (exponent << 4) | mantissa);\n  \n  return muLawSample;\n}\n\nclass RawAudioProcessor extends AudioWorkletProcessor {\n  constructor() {\n    super();\n              \n    this.port.onmessage = ({ data }) => {\n      switch (data.type) {\n        case "setFormat":\n          this.isMuted = false;\n          this.buffer = []; // Initialize an empty buffer\n          this.bufferSize = data.sampleRate / 10;\n          this.format = data.format;\n\n          if (globalThis.LibSampleRate && sampleRate !== data.sampleRate) {\n            globalThis.LibSampleRate.create(1, sampleRate, data.sampleRate).then(resampler => {\n              this.resampler = resampler;\n            });\n          }\n          break;\n        case "setMuted":\n          this.isMuted = data.isMuted;\n          break;\n      }\n    };\n  }\n  process(inputs) {\n    if (!this.buffer) {\n      return true;\n    }\n    \n    const input = inputs[0]; // Get the first input node\n    if (input.length > 0) {\n      let channelData = input[0]; // Get the first channel\'s data\n\n      // Resample the audio if necessary\n      if (this.resampler) {\n        channelData = this.resampler.full(channelData);\n      }\n\n      // Add channel data to the buffer\n      this.buffer.push(...channelData);\n      // Get max volume \n      let sum = 0.0;\n      for (let i = 0; i < channelData.length; i++) {\n        sum += channelData[i] * channelData[i];\n      }\n      const maxVolume = Math.sqrt(sum / channelData.length);\n      // Check if buffer size has reached or exceeded the threshold\n      if (this.buffer.length >= this.bufferSize) {\n        const float32Array = this.isMuted \n          ? new Float32Array(this.buffer.length)\n          : new Float32Array(this.buffer);\n\n        let encodedArray = this.format === "ulaw"\n          ? new Uint8Array(float32Array.length)\n          : new Int16Array(float32Array.length);\n\n        // Iterate through the Float32Array and convert each sample to PCM16\n        for (let i = 0; i < float32Array.length; i++) {\n          // Clamp the value to the range [-1, 1]\n          let sample = Math.max(-1, Math.min(1, float32Array[i]));\n\n          // Scale the sample to the range [-32768, 32767]\n          let value = sample < 0 ? sample * 32768 : sample * 32767;\n          if (this.format === "ulaw") {\n            value = encodeSample(Math.round(value));\n          }\n\n          encodedArray[i] = value;\n        }\n\n        // Send the buffered data to the main script\n        this.port.postMessage([encodedArray, maxVolume]);\n\n        // Clear the buffer after sending\n        this.buffer = [];\n      }\n    }\n    return true; // Continue processing\n  }\n}\nregisterProcessor("rawAudioProcessor", RawAudioProcessor);\n');let vf=class e extends af{constructor(e,t,n,i){super(arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}),this.conversationId=void 0,this.inputFormat=void 0,this.outputFormat=void 0,this.room=void 0,this.isConnected=!1,this.audioEventId=1,this.audioCaptureContext=null,this.audioElements=[],this.outputDeviceId=null,this.outputAnalyser=null,this.outputFrequencyData=null,this.room=e,this.conversationId=t,this.inputFormat=n,this.outputFormat=i,this.setupRoomEventListeners()}static async create(t){let n;if("conversationToken"in t&&t.conversationToken)n=t.conversationToken;else{if(!("agentId"in t)||!t.agentId)throw new Error("Either conversationToken or agentId is required for WebRTC connection");try{var i,r,o;const e=(null==(i=t.overrides)||null==(i=i.client)?void 0:i.version)||uf,s=(null==(r=t.overrides)||null==(r=r.client)?void 0:r.source)||"js_sdk",u="".concat((a=null!=(o=t.origin)?o:"https://api.elevenlabs.io",a.replace(/^wss:\/\//,"https://")),"/v1/convai/conversation/token?agent_id=").concat(t.agentId,"&source=").concat(s,"&version=").concat(e),c=await fetch(u);if(!c.ok)throw new Error("ElevenLabs API returned ".concat(c.status," ").concat(c.statusText));if(n=(await c.json()).token,!n)throw new Error("No conversation token received from API")}catch(e){let n=e instanceof Error?e.message:String(e);throw e instanceof Error&&e.message.includes("401")&&(n="Your agent has authentication enabled, but no signed URL or conversation token was provided."),new Error("Failed to fetch conversation token for agent ".concat(t.agentId,": ").concat(n))}}var a;const s=new Kp;try{const i="room_".concat(Date.now()),r=sf("pcm_48000"),o=sf("pcm_48000"),a=new e(s,i,r,o,t),c=t.livekitUrl||"wss://livekit.rtc.elevenlabs.io";var u;await s.connect(c,n),await new Promise(e=>{if(a.isConnected)e();else{const t=()=>{s.off(yl.Connected,t),e()};s.on(yl.Connected,t)}}),s.name&&(a.conversationId=(null==(u=s.name.match(/(conv_[a-zA-Z0-9]+)/))?void 0:u[0])||s.name),t.textOnly||await s.localParticipant.setMicrophoneEnabled(!0);const l=df(t);return a.debug({type:lf,message:l}),await a.sendMessage(l),a}catch(e){throw await s.disconnect(),e}}setupRoomEventListeners(){var e=this;this.room.on(yl.Connected,async function(){e.isConnected=!0,console.info("WebRTC room connected")}),this.room.on(yl.Disconnected,e=>{this.isConnected=!1,this.disconnect({reason:"agent",context:new CloseEvent("close",{reason:null==e?void 0:e.toString()})})}),this.room.on(yl.ConnectionStateChanged,e=>{e===Ap.Disconnected&&(this.isConnected=!1,this.disconnect({reason:"error",message:"LiveKit connection state changed to ".concat(e),context:new Event("connection_state_changed")}))}),this.room.on(yl.DataReceived,(e,t)=>{try{const t=JSON.parse((new TextDecoder).decode(e));if("audio"===t.type)return;cf(t)?this.handleMessage(t):console.warn("Invalid socket event received:",t)}catch(t){console.warn("Failed to parse incoming data message:",t),console.warn("Raw payload:",(new TextDecoder).decode(e))}}),this.room.on(yl.TrackSubscribed,async function(t,n,i){if(t.kind===Vl.Kind.Audio&&i.identity.includes("agent")){const n=t,i=n.attach();if(i.autoplay=!0,i.controls=!1,e.outputDeviceId&&i.setSinkId)try{await i.setSinkId(e.outputDeviceId)}catch(e){console.warn("Failed to set output device for new audio element:",e)}i.style.display="none",document.body.appendChild(i),e.audioElements.push(i),1===e.audioElements.length&&(null==e.onDebug||e.onDebug({type:"audio_element_ready"})),await e.setupAudioCapture(n)}}),this.room.on(yl.ActiveSpeakersChanged,async function(t){e.updateMode(t.length>0&&t[0].identity.startsWith("agent")?"speaking":"listening")}),this.room.on(yl.ParticipantDisconnected,e=>{var t;null!=(t=e.identity)&&t.startsWith("agent")&&this.disconnect({reason:"agent",context:new CloseEvent("close",{reason:"agent disconnected"})})})}close(){if(this.isConnected){try{this.room.localParticipant.audioTrackPublications.forEach(e=>{e.track&&e.track.stop()})}catch(e){console.warn("Error stopping local tracks:",e)}this.audioCaptureContext&&(this.audioCaptureContext.close().catch(e=>{console.warn("Error closing audio capture context:",e)}),this.audioCaptureContext=null),this.audioElements.forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)}),this.audioElements=[],this.room.disconnect()}}async sendMessage(e){if(this.isConnected&&this.room.localParticipant){if(!("user_audio_chunk"in e))try{const t=(new TextEncoder).encode(JSON.stringify(e));await this.room.localParticipant.publishData(t,{reliable:!0})}catch(t){this.debug({type:"send_message_error",message:{message:e,error:t}}),console.error("Failed to send message via WebRTC:",t)}}else console.warn("Cannot send message: room not connected or no local participant")}getRoom(){return this.room}async setMicMuted(e){if(!this.isConnected||!this.room.localParticipant)return void console.warn("Cannot set microphone muted: room not connected or no local participant");const t=this.room.localParticipant.getTrackPublication(Vl.Source.Microphone);if(null!=t&&t.track)try{e?await t.track.mute():await t.track.unmute()}catch(t){await this.room.localParticipant.setMicrophoneEnabled(!e)}else await this.room.localParticipant.setMicrophoneEnabled(!e)}async setupAudioCapture(e){try{const t=new AudioContext;this.audioCaptureContext=t,this.outputAnalyser=t.createAnalyser(),this.outputAnalyser.fftSize=2048,this.outputAnalyser.smoothingTimeConstant=.8;const n=new MediaStream([e.mediaStreamTrack]),i=t.createMediaStreamSource(n);i.connect(this.outputAnalyser),await Df(t.audioWorklet);const r=new AudioWorkletNode(t,"rawAudioProcessor");this.outputAnalyser.connect(r),r.port.postMessage({type:"setFormat",format:this.outputFormat.format,sampleRate:this.outputFormat.sampleRate}),r.port.onmessage=e=>{const[t,n]=e.data;if(n>.01){const e=ff(t.buffer),n=this.audioEventId++;this.handleMessage({type:"audio",audio_event:{audio_base_64:e,event_id:n}})}},i.connect(r)}catch(e){console.warn("Failed to set up audio capture:",e)}}setAudioVolume(e){this.audioElements.forEach(t=>{t.volume=e})}async setAudioOutputDevice(e){if(!("setSinkId"in HTMLAudioElement.prototype))throw new Error("setSinkId is not supported in this browser");const t=this.audioElements.map(async function(t){try{await t.setSinkId(e)}catch(e){throw console.error("Failed to set sink ID for audio element:",e),e}});await Promise.all(t),this.outputDeviceId=e}async setAudioInputDevice(e){if(!this.isConnected||!this.room.localParticipant)throw new Error("Cannot change input device: room not connected or no local participant");try{const t=this.room.localParticipant.getTrackPublication(Vl.Source.Microphone);null!=t&&t.track&&(await t.track.stop(),await this.room.localParticipant.unpublishTrack(t.track));const n={deviceId:{exact:e},echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,channelCount:{ideal:1}},i=await function(e){return oc(this,void 0,void 0,function*(){return(yield Wp({audio:null==e||e,video:!1}))[0]})}(n);await this.room.localParticipant.publishTrack(i,{name:"microphone",source:Vl.Source.Microphone})}catch(e){console.error("Failed to change input device:",e);try{await this.room.localParticipant.setMicrophoneEnabled(!0)}catch(e){console.error("Failed to recover microphone after device switch error:",e)}throw e}}getOutputByteFrequencyData(){return this.outputAnalyser?(null!=this.outputFrequencyData||(this.outputFrequencyData=new Uint8Array(this.outputAnalyser.frequencyBinCount)),this.outputAnalyser.getByteFrequencyData(this.outputFrequencyData),this.outputFrequencyData):null}};async function Ef(e){const t=(n=e).connectionType?n.connectionType:"conversationToken"in n&&n.conversationToken?"webrtc":"websocket";var n;switch(t){case"websocket":return pf.create(e);case"webrtc":return vf.create(e);default:throw new Error("Unknown connection type: ".concat(t))}}function Cf(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}async function bf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{default:0,android:3e3},t=e.default;var n;if(/android/i.test(navigator.userAgent))t=null!=(n=e.android)?n:t;else if(Cf()){var i;t=null!=(i=e.ios)?i:t}t>0&&await new Promise(e=>setTimeout(e,t))}let kf=class e extends of{static async startSession(t){const n=of.getFullOptions(t);n.onStatusChange&&n.onStatusChange({status:"connecting"}),n.onCanSendFeedbackChange&&n.onCanSendFeedbackChange({canSendFeedback:!1}),n.onModeChange&&n.onModeChange({mode:"listening"}),n.onCanSendFeedbackChange&&n.onCanSendFeedbackChange({canSendFeedback:!1});let i=null;try{return await bf(n.connectionDelay),i=await Ef(t),new e(n,i)}catch(e){var r;throw n.onStatusChange&&n.onStatusChange({status:"disconnected"}),null==(r=i)||r.close(),e}}};const yf={echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,channelCount:{ideal:1}};let Tf=class e{static async create(t){let{sampleRate:n,format:i,preferHeadphonesForIosDevices:r,inputDeviceId:o,workletPaths:a,libsampleratePath:s,onError:u}=t,c=null,l=null;try{const t=nf({sampleRate:{ideal:n}},yf);if(Cf()&&r){const e=(await window.navigator.mediaDevices.enumerateDevices()).find(e=>"audioinput"===e.kind&&["airpod","headphone","earphone"].find(t=>e.label.toLowerCase().includes(t)));e&&(t.deviceId={ideal:e.deviceId})}o&&(t.deviceId=e.getDeviceIdConstraint(o));const d=navigator.mediaDevices.getSupportedConstraints().sampleRate;c=new window.AudioContext(d?{sampleRate:n}:{});const h=c.createAnalyser();if(!d){const e=s||"https://cdn.jsdelivr.net/npm/@alexanderolsen/libsamplerate-js@2.1.2/dist/libsamplerate.worklet.js";await c.audioWorklet.addModule(e)}await Df(c.audioWorklet,null==a?void 0:a.rawAudioProcessor);const p=nf({voiceIsolation:!0},t);l=await navigator.mediaDevices.getUserMedia({audio:p});const f=c.createMediaStreamSource(l),m=new AudioWorkletNode(c,"rawAudioProcessor");m.port.postMessage({type:"setFormat",format:i,sampleRate:n}),f.connect(h),h.connect(m),await c.resume();const O=await navigator.permissions.query({name:"microphone"});return new e(c,h,m,l,f,O,u)}catch(e){var d,h;throw null==(d=l)||d.getTracks().forEach(e=>{e.stop()}),null==(h=c)||h.close(),e}}static getDeviceIdConstraint(e){if(e)return Cf()?{ideal:e}:{exact:e}}constructor(e,t,n,i,r,o){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:console.error;this.context=void 0,this.analyser=void 0,this.worklet=void 0,this.inputStream=void 0,this.mediaStreamSource=void 0,this.permissions=void 0,this.onError=void 0,this.settingInput=!1,this.handlePermissionsChange=()=>{if("denied"===this.permissions.state)this.onError("Microphone permission denied");else if(!this.settingInput){var e;const[t]=this.inputStream.getAudioTracks(),{deviceId:n}=null!=(e=null==t?void 0:t.getSettings())?e:{};this.setInputDevice(n).catch(e=>{this.onError("Failed to reset input device after permission change:",e)})}},this.context=e,this.analyser=t,this.worklet=n,this.inputStream=i,this.mediaStreamSource=r,this.permissions=o,this.onError=a,this.permissions.addEventListener("change",this.handlePermissionsChange)}forgetInputStreamAndSource(){for(const e of this.inputStream.getTracks())e.stop();this.mediaStreamSource.disconnect()}async close(){this.forgetInputStreamAndSource(),this.permissions.removeEventListener("change",this.handlePermissionsChange),await this.context.close()}setMuted(e){this.worklet.port.postMessage({type:"setMuted",isMuted:e})}async setInputDevice(t){try{if(this.settingInput)throw new Error("Input device is already being set");this.settingInput=!0;const n=nf({},yf);t&&(n.deviceId=e.getDeviceIdConstraint(t));const i=nf({voiceIsolation:!0},n),r=await navigator.mediaDevices.getUserMedia({audio:i});this.forgetInputStreamAndSource(),this.inputStream=r,this.mediaStreamSource=this.context.createMediaStreamSource(r),this.mediaStreamSource.connect(this.analyser)}catch(e){throw this.onError("Failed to switch input device:",e),e}finally{this.settingInput=!1}}};const Af=gf("audioConcatProcessor",'/*\n * ulaw decoding logic taken from the wavefile library\n * https://github.com/rochars/wavefile/blob/master/lib/codecs/mulaw.js\n * USED BY @elevenlabs/client\n */\n\nconst decodeTable = [0,132,396,924,1980,4092,8316,16764];\n\nfunction decodeSample(muLawSample) {\n  let sign;\n  let exponent;\n  let mantissa;\n  let sample;\n  muLawSample = ~muLawSample;\n  sign = (muLawSample & 0x80);\n  exponent = (muLawSample >> 4) & 0x07;\n  mantissa = muLawSample & 0x0F;\n  sample = decodeTable[exponent] + (mantissa << (exponent+3));\n  if (sign !== 0) sample = -sample;\n\n  return sample;\n}\n\nclass AudioConcatProcessor extends AudioWorkletProcessor {\n  constructor() {\n    super();\n    this.buffers = []; // Initialize an empty buffer\n    this.cursor = 0;\n    this.currentBuffer = null;\n    this.wasInterrupted = false;\n    this.finished = false;\n    \n    this.port.onmessage = ({ data }) => {\n      switch (data.type) {\n        case "setFormat":\n          this.format = data.format;\n          break;\n        case "buffer":\n          this.wasInterrupted = false;\n          this.buffers.push(\n            this.format === "ulaw"\n              ? new Uint8Array(data.buffer)\n              : new Int16Array(data.buffer)\n          );\n          break;\n        case "interrupt":\n          this.wasInterrupted = true;\n          break;\n        case "clearInterrupted":\n          if (this.wasInterrupted) {\n            this.wasInterrupted = false;\n            this.buffers = [];\n            this.currentBuffer = null;\n          }\n      }\n    };\n  }\n  process(_, outputs) {\n    let finished = false;\n    const output = outputs[0][0];\n    for (let i = 0; i < output.length; i++) {\n      if (!this.currentBuffer) {\n        if (this.buffers.length === 0) {\n          finished = true;\n          break;\n        }\n        this.currentBuffer = this.buffers.shift();\n        this.cursor = 0;\n      }\n\n      let value = this.currentBuffer[this.cursor];\n      if (this.format === "ulaw") {\n        value = decodeSample(value);\n      }\n      output[i] = value / 32768;\n      this.cursor++;\n\n      if (this.cursor >= this.currentBuffer.length) {\n        this.currentBuffer = null;\n      }\n    }\n\n    if (this.finished !== finished) {\n      this.finished = finished;\n      this.port.postMessage({ type: "process", finished });\n    }\n\n    return true; // Continue processing\n  }\n}\n\nregisterProcessor("audioConcatProcessor", AudioConcatProcessor);\n');class Sf{static async create(e){let{sampleRate:t,format:n,outputDeviceId:i,workletPaths:r}=e,o=null,a=null;try{o=new AudioContext({sampleRate:t});const e=o.createAnalyser(),s=o.createGain();a=new Audio,a.src="",a.load(),a.autoplay=!0,a.style.display="none",document.body.appendChild(a);const u=o.createMediaStreamDestination();a.srcObject=u.stream,s.connect(e),e.connect(u),await Af(o.audioWorklet,null==r?void 0:r.audioConcatProcessor);const c=new AudioWorkletNode(o,"audioConcatProcessor");return c.port.postMessage({type:"setFormat",format:n}),c.connect(s),await o.resume(),i&&a.setSinkId&&await a.setSinkId(i),new Sf(o,e,s,c,a)}catch(e){var s,u;throw null!=(s=a)&&s.parentNode&&a.parentNode.removeChild(a),null==(u=a)||u.pause(),o&&"closed"!==o.state&&await o.close(),e}}constructor(e,t,n,i,r){this.context=void 0,this.analyser=void 0,this.gain=void 0,this.worklet=void 0,this.audioElement=void 0,this.context=e,this.analyser=t,this.gain=n,this.worklet=i,this.audioElement=r}async setOutputDevice(e){if(!("setSinkId"in HTMLAudioElement.prototype))throw new Error("setSinkId is not supported in this browser");await this.audioElement.setSinkId(e||"")}async close(){this.audioElement.parentNode&&this.audioElement.parentNode.removeChild(this.audioElement),this.audioElement.pause(),await this.context.close()}}let _f=class e extends of{static async requestWakeLock(){if("wakeLock"in navigator)try{return await navigator.wakeLock.request("screen")}catch(e){}return null}static async startSession(t){var n;const i=of.getFullOptions(t);i.onStatusChange&&i.onStatusChange({status:"connecting"}),i.onCanSendFeedbackChange&&i.onCanSendFeedbackChange({canSendFeedback:!1});let r=null,o=null,a=null,s=null,u=null;(null==(n=t.useWakeLock)||n)&&(u=await e.requestWakeLock());try{var c;return s=await navigator.mediaDevices.getUserMedia({audio:!0}),await bf(i.connectionDelay),o=await Ef(t),[r,a]=await Promise.all([Tf.create(nf({},o.inputFormat,{preferHeadphonesForIosDevices:t.preferHeadphonesForIosDevices,inputDeviceId:t.inputDeviceId,workletPaths:t.workletPaths,libsampleratePath:t.libsampleratePath})),Sf.create(nf({},o.outputFormat,{outputDeviceId:t.outputDeviceId,workletPaths:t.workletPaths}))]),null==(c=s)||c.getTracks().forEach(e=>{e.stop()}),s=null,new e(i,o,r,a,u)}catch(e){var l,d,h,p;i.onStatusChange&&i.onStatusChange({status:"disconnected"}),null==(l=s)||l.getTracks().forEach(e=>{e.stop()}),null==(d=o)||d.close(),await(null==(h=r)?void 0:h.close()),await(null==(p=a)?void 0:p.close());try{var f;await(null==(f=u)?void 0:f.release()),u=null}catch(e){}throw e}}constructor(t,n,i,r,o){super(t,n),this.input=void 0,this.output=void 0,this.wakeLock=void 0,this.inputFrequencyData=void 0,this.outputFrequencyData=void 0,this.visibilityChangeHandler=null,this.onInputWorkletMessage=e=>{"connected"===this.status&&this.connection.sendMessage({user_audio_chunk:ff(e.data[0].buffer)})},this.onOutputWorkletMessage=e=>{let{data:t}=e;"process"===t.type&&this.updateMode(t.finished?"listening":"speaking")},this.addAudioBase64Chunk=e=>{this.output.gain.gain.cancelScheduledValues(this.output.context.currentTime),this.output.gain.gain.value=this.volume,this.output.worklet.port.postMessage({type:"clearInterrupted"}),this.output.worklet.port.postMessage({type:"buffer",buffer:mf(e)})},this.fadeOutAudio=()=>{this.updateMode("listening"),this.output.worklet.port.postMessage({type:"interrupt"}),this.output.gain.gain.exponentialRampToValueAtTime(1e-4,this.output.context.currentTime+2),setTimeout(()=>{this.output.gain.gain.value=this.volume,this.output.worklet.port.postMessage({type:"clearInterrupted"})},2e3)},this.calculateVolume=e=>{if(0===e.length)return 0;let t=0;for(let n=0;n<e.length;n++)t+=e[n]/255;return t/=e.length,t<0?0:t>1?1:t},this.setVolume=e=>{let{volume:t}=e;const n=Number.isFinite(t)?Math.min(1,Math.max(0,t)):1;this.volume=n,this.connection instanceof vf?this.connection.setAudioVolume(n):this.output.gain.gain.value=n},this.input=i,this.output=r,this.wakeLock=o,this.input.worklet.port.onmessage=this.onInputWorkletMessage,this.output.worklet.port.onmessage=this.onOutputWorkletMessage,o&&(this.visibilityChangeHandler=()=>{var t;"visible"===document.visibilityState&&null!=(t=this.wakeLock)&&t.released&&e.requestWakeLock().then(e=>{this.wakeLock=e})},document.addEventListener("visibilitychange",this.visibilityChangeHandler))}async handleEndSession(){await super.handleEndSession(),this.visibilityChangeHandler&&document.removeEventListener("visibilitychange",this.visibilityChangeHandler);try{var e;await(null==(e=this.wakeLock)?void 0:e.release()),this.wakeLock=null}catch(e){}await this.input.close(),await this.output.close()}handleInterruption(e){super.handleInterruption(e),this.fadeOutAudio()}handleAudio(e){var t,n;super.handleAudio(e),e.audio_event.alignment&&this.options.onAudioAlignment&&this.options.onAudioAlignment(e.audio_event.alignment),this.lastInterruptTimestamp<=e.audio_event.event_id&&(e.audio_event.audio_base_64&&(null==(t=(n=this.options).onAudio)||t.call(n,e.audio_event.audio_base_64),this.connection instanceof vf||this.addAudioBase64Chunk(e.audio_event.audio_base_64)),this.currentEventId=e.audio_event.event_id,this.updateCanSendFeedback(),this.updateMode("speaking"))}setMicMuted(e){this.connection instanceof vf?this.connection.setMicMuted(e):this.input.setMuted(e)}getInputByteFrequencyData(){return null!=this.inputFrequencyData||(this.inputFrequencyData=new Uint8Array(this.input.analyser.frequencyBinCount)),this.input.analyser.getByteFrequencyData(this.inputFrequencyData),this.inputFrequencyData}getOutputByteFrequencyData(){return this.connection instanceof vf?this.connection.getOutputByteFrequencyData()||new Uint8Array(1024):(null!=this.outputFrequencyData||(this.outputFrequencyData=new Uint8Array(this.output.analyser.frequencyBinCount)),this.output.analyser.getByteFrequencyData(this.outputFrequencyData),this.outputFrequencyData)}getInputVolume(){return this.calculateVolume(this.getInputByteFrequencyData())}getOutputVolume(){return this.calculateVolume(this.getOutputByteFrequencyData())}async changeInputDevice(e){let{sampleRate:t,format:n,preferHeadphonesForIosDevices:i,inputDeviceId:r}=e;try{if(this.connection instanceof pf)try{return await this.input.setInputDevice(r),this.input}catch(e){console.warn("Failed to change device on existing input, recreating:",e)}this.connection instanceof vf&&await this.connection.setAudioInputDevice(r||""),await this.input.close();const e=await Tf.create({sampleRate:null!=t?t:this.connection.inputFormat.sampleRate,format:null!=n?n:this.connection.inputFormat.format,preferHeadphonesForIosDevices:i,inputDeviceId:r,workletPaths:this.options.workletPaths,libsampleratePath:this.options.libsampleratePath,onError:this.options.onError});return this.input=e,this.input.worklet.port.onmessage=this.onInputWorkletMessage,this.input}catch(e){throw console.error("Error changing input device",e),e}}async changeOutputDevice(e){let{sampleRate:t,format:n,outputDeviceId:i}=e;try{if(this.connection instanceof pf)try{return await this.output.setOutputDevice(i),this.output}catch(e){console.warn("Failed to change device on existing output, recreating:",e)}this.connection instanceof vf&&await this.connection.setAudioOutputDevice(i||""),await this.output.close();const e=await Sf.create({sampleRate:null!=t?t:this.connection.outputFormat.sampleRate,format:null!=n?n:this.connection.outputFormat.format,outputDeviceId:i,workletPaths:this.options.workletPaths});return this.output=e,this.output}catch(e){throw console.error("Error changing output device",e),e}}};function Ff(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"https://api.elevenlabs.io";const i={};return"boolean"==typeof t?i.feedback=t?"like":"dislike":(i.rating=t.rating,i.comment=t.comment),fetch("".concat(n,"/v1/convai/conversations/").concat(e,"/feedback"),{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}})}var wf,xf,Pf;!function(e){e.SESSION_STARTED="session_started",e.PARTIAL_TRANSCRIPT="partial_transcript",e.COMMITTED_TRANSCRIPT="committed_transcript",e.COMMITTED_TRANSCRIPT_WITH_TIMESTAMPS="committed_transcript_with_timestamps",e.AUTH_ERROR="auth_error",e.ERROR="error",e.OPEN="open",e.CLOSE="close",e.QUOTA_EXCEEDED="quota_exceeded",e.COMMIT_THROTTLED="commit_throttled",e.TRANSCRIBER_ERROR="transcriber_error",e.UNACCEPTED_TERMS="unaccepted_terms",e.RATE_LIMITED="rate_limited",e.INPUT_ERROR="input_error",e.QUEUE_OVERFLOW="queue_overflow",e.RESOURCE_EXHAUSTED="resource_exhausted",e.SESSION_TIME_LIMIT_EXCEEDED="session_time_limit_exceeded",e.CHUNK_SIZE_EXCEEDED="chunk_size_exceeded",e.INSUFFICIENT_AUDIO_ACTIVITY="insufficient_audio_activity"}(wf||(wf={})),function(e){e.PCM_8000="pcm_8000",e.PCM_16000="pcm_16000",e.PCM_22050="pcm_22050",e.PCM_24000="pcm_24000",e.PCM_44100="pcm_44100",e.PCM_48000="pcm_48000",e.ULAW_8000="ulaw_8000"}(xf||(xf={})),function(e){e.MANUAL="manual",e.VAD="vad"}(Pf||(Pf={}));let Rf=class e extends of{static startSession(t){const n=e.getFullOptions(t);return n.textOnly?kf.startSession(n):_f.startSession(n)}};const If=Pt(null);function Qf(e){let{children:t}=e;const{language:n}=oo(),i=Hr("override-prompt"),r=Hr("override-llm"),o=Hr("override-speed"),a=Hr("override-stability"),s=Hr("override-similarity-boost"),u=Hr("override-first-message"),c=Hr("override-voice-id"),l=Hr("override-text-only"),d=Hr("user-id"),h=hr(()=>{var e;return{agent:{prompt:{prompt:i.value,llm:r.value},firstMessage:u.value,language:n.value.languageCode},tts:{voiceId:c.value,speed:o.value?parseFloat(o.value):void 0,stability:a.value?parseFloat(a.value):void 0,similarityBoost:s.value?parseFloat(s.value):void 0},conversation:{textOnly:null!==(e=Zt(l.value))&&void 0!==e?e:void 0}}}),p=Hr("dynamic-variables"),f=hr(()=>{if(p.value)try{return JSON.parse(p.value)}catch(e){console.error("[ConversationalAI] Cannot parse dynamic-variables: ".concat(null==e?void 0:e.message))}}),m=Hr("worklet-path-raw-audio-processor"),O=Hr("worklet-path-audio-concat-processor"),g=Hr("worklet-path-libsamplerate"),{webSocketUrl:D}=eo(),v=Hr("agent-id"),E=Hr("signed-url"),C=Kf(),b=function(){const e=Hf();return hr(()=>{var t;return null!==(t=e.value.use_rtc)&&void 0!==t&&t})}(),k=hr(()=>{const e=b.value,t={dynamicVariables:f.value,overrides:h.value,connectionDelay:{default:300},textOnly:C.value,userId:d.value||void 0,libsampleratePath:g.value,workletPaths:{rawAudioProcessor:m.value,audioConcatProcessor:O.value}};return v.value?Be(e?{agentId:v.value,origin:D.value,connectionType:"webrtc"}:{agentId:v.value,origin:D.value,connectionType:"websocket"},t):E.value?Be({signedUrl:E.value,connectionType:"websocket"},t):(console.error("[ConversationalAI] Either agent-id or signed-url is required"),null)});return k.value?Vt(If.Provider,{value:k,children:t}):null}const Nf=Pt(null);function Bf(e){let{children:t}=e;const n=nm(),i=dr(!1),r=dr(!1),o=gn(()=>{const e=Vi(()=>!n.value.terms_html||r.value);let t=[];return{termsShown:i,termsAccepted:e,dismissTerms:()=>{i.value=!1,t.forEach(e=>e.reject()),t=[]},acceptTerms:()=>{r.value=!0,i.value=!1;const e=n.peek().terms_key;e&&localStorage.setItem(e,"true"),t.forEach(e=>e.resolve()),t=[]},requestTerms:async()=>{e.peek()||(i.value=!0,await new Promise((e,n)=>{t.push({resolve:e,reject:n})}))}}},[i,r,n]);return vr(()=>{const e=n.value.terms_key,t=!!e&&!!localStorage.getItem(e);r.value=t}),Vt(Nf.Provider,{value:o,children:t})}function Mf(){return Gr(Nf)}function Lf(e){const t=mn(e);return fn(()=>{t.current=e},[e]),Dn(function(){return t.current(...arguments)},[])}const $f=Pt(null);function Uf(e){let{children:t}=e;const n=dr(null),i=Dn(e=>{n.value=function(e){if(!e)return null;const t=null==e?void 0:e.getRootNode();return t instanceof ShadowRoot&&t.host instanceof HTMLElement?t.host:e.parentElement}(e)},[n]);return Vt($f.Provider,{value:n,children:[Vt("template",{ref:i}),t]})}function qf(){return Gr($f)}const Xf="loading",zf="success",Zf="error",jf=Pt(null);function Wf(e){let{children:t}=e;const n=function(){const e=mn(null),t=mn(null),n=mn(!1),i=mn(null),r=mn(null),o=mn(!1),a=qf(),s=Hf(),u=em(),c=Mf(),l=Gr(If),d=function(){const e=dr(!1),t=Lf(()=>{e.value=!0});return pn(()=>(window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}),[t]),e}();return pn(()=>()=>{var t;null==(t=e.current)||t.endSession()},[]),gn(()=>{var h;const p=zi("disconnected"),f=zi(!1),m=Vi(()=>f.value?"connecting":p.value),O=Vi(()=>"disconnected"===m.value),g=zi("listening"),D=Vi(()=>"speaking"===g.value),v=zi(null),E=zi(null),C=zi(!1),b=zi(null!==(h=s.value.transcript_entries)&&void 0!==h?h:[]),k=zi(0),y=zi(null),T=zi(new Map);return{status:m,isSpeaking:D,mode:g,isDisconnected:O,lastId:E,error:v,canSendFeedback:C,conversationIndex:k,conversationTextOnly:y,transcript:b,toolCallStatus:T,startSession:async function(h){var m,O,D;let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var S,_,F,w,x,P,R,I,Q;const N=A.resume?"/* ".concat("continue"," */"):A.initialMessage;if(await c.requestTerms(),null!=(S=e.current)&&S.isOpen())return e.current.getId();if(t.current)return(await t.current).getId();let B=structuredClone(l.peek());(null!=(_=A.resume)&&_.textOnly||A.initialMessage)&&s.value.supports_text_only&&(B.textOnly=!0,s.value.text_only||(null!==(m=B.overrides)&&void 0!==m||(B.overrides={}),null!==(O=(F=B.overrides).conversation)&&void 0!==O||(F.conversation={}),B.overrides.conversation.textOnly=!0));try{var M;B=function(e,t,n){try{const i=new CustomEvent("elevenlabs-convai:call",{bubbles:!0,composed:!0,detail:Be({config:t},n)});return e.dispatchEvent(i),i.detail.config}catch(e){return console.error("[ConversationalAI] Could not trigger call event:",e),t}}(null!==(M=a.value)&&void 0!==M?M:h,B,{sendUserMessage:t=>{var n;return null==(n=e.current)?void 0:n.sendUserMessage(t)}})}catch(e){console.error("[ConversationalAI] Error triggering call event:",e)}i.current=B,y.value=null!==(D=B.textOnly)&&void 0!==D&&D,A.initialMessage&&(b.value=[{type:"message",role:"user",message:A.initialMessage,isText:!0,conversationIndex:k.peek()}],null==(w=B.onSendUserMessage)||w.call(B,A.initialMessage));try{if(t.current=function(e){let{signal:t,tries:n=5}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function(){t&&(t.value=!0);try{for(let t=1;t<=n;t++)try{return await e(...arguments)}catch(e){if(t===n)throw e;await new Promise(e=>setTimeout(e,1e3))}}finally{t&&(t.value=!1)}}}(Rf.startSession,{signal:f})(Be(Be({},B),{},{overrides:Be(Be({},B.overrides),{},{client:Be(Be({},null==(x=B.overrides)?void 0:x.client),{},{source:(null==(R=null==(P=B.overrides)?void 0:P.client)?void 0:R.source)||"widget",version:(null==(Q=null==(I=B.overrides)?void 0:I.client)?void 0:Q.version)||"0.8.2-cobrowse.3"})}),onModeChange:e=>{d.peek()||(g.value=e.mode)},onStatusChange:e=>{d.peek()||(p.value=e.status)},onCanSendFeedbackChange:e=>{d.peek()||(C.value=e.canSendFeedback)},onMessage:e=>{var t;const{role:i,message:a}=e;if(!u.peek()||!0!==y.peek()||"agent"!==i||n.current){if("agent"===i&&(n.current=!0),null==(t=B.onMessage)||t.call(B,e),"agent"===i&&o.current){const e=r.current;if(null!==e){const t=[...b.peek()];t[e]={type:"message",role:"agent",message:a,isText:!0,conversationIndex:k.peek()},b.value=t}return void(o.current=!1)}b.value=[...b.peek(),{type:"message",role:i,message:a,isText:!1,conversationIndex:k.peek()}]}else n.current=!0},onAgentChatResponsePart:e=>{let{text:t,type:i}=e;if(u.peek()&&!0===y.peek()&&!n.current)return;const a=b.peek();if("start"===i)o.current=!0,r.current=a.length;else if("delta"===i){const e=r.current;if(null!==e&&t){var s;const n=[...a],i=null!==(s=n[e])&&void 0!==s?s:n[e]={type:"message",role:"agent",message:"",isText:!0,conversationIndex:k.peek()};"message"===i.type&&(n[e]=Be(Be({},i),{},{message:i.message+t}),b.value=n)}}else"stop"===i&&(r.current=null)},onAgentToolRequest:e=>{var t;let{tool_call_id:n,event_id:i}=e;const r=T.peek(),o=!r.has(i),a=new Map(r),u=new Map(null!==(t=a.get(i))&&void 0!==t?t:[]);u.set(n,Xf),a.set(i,u),T.value=a,o&&s.value.show_agent_status&&(b.value=[...b.peek(),{type:"tool_call",eventId:i,conversationIndex:k.peek(),status:Xf}])},onAgentToolResponse:e=>{let{tool_call_id:t,is_error:n,event_id:i}=e;const r=T.peek(),o=r.get(i);if(null==o||!o.has(t))return;const a=new Map(r),u=new Map(o);if(u.set(t,n?Zf:zf),a.set(i,u),T.value=a,s.value.show_agent_status&&![...u.values()].some(e=>e===Xf)){const e=[...u.values()].some(e=>e===Zf)?Zf:zf;b.value=b.peek().map(t=>"tool_call"===t.type&&t.eventId===i?Be(Be({},t),{},{status:e}):t)}},onDisconnect:e=>{var t;n.current=!1,!d.peek()&&(y.value=null,r.current=null,o.current=!1,T.value=new Map,b.value=[...b.peek(),"error"===e.reason?{type:"error",message:e.message,conversationIndex:k.peek()}:{type:"disconnection",role:"user"===e.reason?"user":"agent",conversationIndex:k.peek()}],k.value++,"error"===e.reason&&(v.value=e.message,console.error("[ConversationalAI] Disconnected due to an error:",e.message)),null==(t=B.onDisconnect)||t.call(B,e))}})),e.current=await t.current,N){const t=e.current;setTimeout(()=>t.sendUserMessage(N),100)}const i=e.current.getId();return E.value=i,v.value=null,i}catch(e){let t="Could not start a conversation.";e instanceof CloseEvent?t=e.reason||t:e instanceof Error&&(t=e.message||t),v.value=t,b.value=[...b.value,{type:"error",message:t,conversationIndex:k.peek()}]}finally{t.current=null}},endSession:async()=>{const t=e.current;e.current=null,await(null==t?void 0:t.endSession())},getInputVolume:()=>{var t,n;return null!==(t=null==(n=e.current)?void 0:n.getInputVolume())&&void 0!==t?t:0},getOutputVolume:()=>{var t,n;return null!==(t=null==(n=e.current)?void 0:n.getOutputVolume())&&void 0!==t?t:0},setVolume:t=>{var n;null==(n=e.current)||n.setVolume({volume:t})},setMicMuted:t=>{var n;null==(n=e.current)||n.setMicMuted(t)},sendFeedback:t=>{var n;null==(n=e.current)||n.sendFeedback(t)},sendUserMessage:t=>{var n,r,o;null==(n=e.current)||n.sendUserMessage(t),!function(e){return e.startsWith("/* ")&&e.endsWith(" */")}(t)&&(b.value=[...b.value,{type:"message",role:"user",message:t,isText:!0,conversationIndex:k.peek()}],null==(o=null==(r=i.current)?void 0:r.onSendUserMessage)||o.call(r,t))},sendUserActivity:()=>{var t;null==(t=e.current)||t.sendUserActivity()},sendContextualUpdate:t=>{var n;null==(n=e.current)||n.sendContextualUpdate(t)},addModeToggleEntry:t=>{var n;null!=(n=e.current)&&n.isOpen()&&(b.value=[...b.value,{type:"mode_toggle",mode:t,conversationIndex:k.peek()}])}}},[l])}();return vr(()=>{if(!0===n.conversationTextOnly.value){n.transcript.value;const e=setTimeout(()=>{n.endSession()},6e5);return()=>{clearTimeout(e)}}}),Vt(jf.Provider,{value:n,children:t})}function Gf(){return Gr(jf)}const Vf=Pt(null);function Yf(e){let{children:t}=e;const{serverUrl:n}=eo(),i=Hr("agent-id"),r=Hr("override-config"),o=Hr("signed-url"),a=dr(null);vr(()=>{if(r.value)try{const e=JSON.parse(r.value);if(e)return void(a.value=e)}catch(e){console.error("[ConversationalAI] Cannot parse override-config: ".concat(null==e?void 0:e.message))}let e,t=i.value;if(o.value){var s,u;const n=new URL(o.value).searchParams;t=null!==(s=n.get("agent_id"))&&void 0!==s?s:i.value,e=null!==(u=n.get("conversation_signature"))&&void 0!==u?u:void 0}if(!t)return void(a.value=null);const c=new AbortController;return async function(e,t,n,i){const r=await(await fetch("".concat(t,"/v1/convai/agents/").concat(e,"/widget").concat(i?"?conversation_signature=".concat(encodeURIComponent(i)):""),{signal:n})).json();if(!r.widget_config)throw new Error("Response does not contain widget_config");return r.widget_config}(t,n.value,c.signal,e).then(e=>{c.signal.aborted||(a.value=e)}).catch(e=>{console.error("[ConversationalAI] Cannot fetch config for agent ".concat(i.value,": ").concat(null==e?void 0:e.message)),c.signal.aborted||(a.value=null)}),()=>{c.abort()}});const s=Hr("variant"),u=Hr("placement"),c=Hr("terms-key"),l=Hr("mic-muting"),d=Hr("transcript"),h=Hr("transcript-entries"),p=Hr("text-input"),f=Hr("default-expanded"),m=Hr("always-expanded"),O=Hr("dismissible"),g=Hr("strip-audio-tags"),D=Hr("override-text-only"),v=Hr("use-rtc"),E=Hr("auto-resume"),C=Hr("show-agent-status"),b=hr(()=>{var e,t,n,i,r,o,b,k,y,T,A,S,_,F,w,x,P,R,I,Q,N,B;if(!a.value)return null;const M=null!==(e=s.value)&&void 0!==e?e:a.value.variant,L=null!==(t=u.value)&&void 0!==t?t:a.value.placement,$=null!==(n=c.value)&&void 0!==n?n:a.value.terms_key,U=null!==(i=null!==(r=Zt(D.value))&&void 0!==r?r:a.value.text_only)&&void 0!==i&&i,q=null!==(o=Zt(l.value))&&void 0!==o?o:a.value.mic_muting_enabled,X=null!==(b=Zt(d.value))&&void 0!==b?b:a.value.transcript_enabled,z=null!==(k=Zt(p.value))&&void 0!==k?k:a.value.text_input_enabled,Z=null!==(y=null!==(T=Zt(m.value))&&void 0!==T?T:a.value.always_expanded)&&void 0!==y&&y,j=null!==(A=null!==(S=Zt(f.value))&&void 0!==S?S:a.value.default_expanded)&&void 0!==A&&A,W=null!==(_=null!==(F=Zt(O.value))&&void 0!==F?F:a.value.dismissible)&&void 0!==_&&_,G=null!==(w=null!==(x=Zt(g.value))&&void 0!==x?x:a.value.strip_audio_tags)&&void 0!==w?w:!U,V=null!==(P=null!==(R=Zt(v.value))&&void 0!==R?R:a.value.use_rtc)&&void 0!==P&&P,Y=null!==(I=jt(E.value))&&void 0!==I?I:void 0,H=null!==(Q=jt(h.value))&&void 0!==Q?Q:[],K=null!==(N=null!==(B=Zt(C.value))&&void 0!==B?B:a.value.show_agent_status)&&void 0!==N&&N;return Be(Be({},a.value),{},{variant:Ur(M),placement:Xr(L),terms_key:$,mic_muting_enabled:!U&&q,transcript_enabled:U||X,transcript_entries:H,text_input_enabled:U||z,always_expanded:Z,default_expanded:j,dismissible:W,strip_audio_tags:G,use_rtc:V,auto_resume:Y,show_agent_status:K})});return b.value?Vt(Vf.Provider,{value:b,children:t}):null}function Hf(){return Gr(Vf)}function Kf(){const e=Hr("override-text-only"),t=Hf();return hr(()=>{var n,i;return null!==(n=null!==(i=Zt(e.value))&&void 0!==i?i:t.value.text_only)&&void 0!==n&&n})}function Jf(){const e=Kf(),{conversationTextOnly:t}=Gf();return hr(()=>{var n;return null!==(n=t.value)&&void 0!==n?n:e.value})}function em(){const e=Hr("override-first-message"),t=Hf(),{language:n}=oo();return hr(()=>{var i,r,o,a,s;return null!==(i=null!==(r=null!==(o=e.value)&&void 0!==o?o:null==(s=null==(a=t.value.language_presets)?void 0:a[n.value.languageCode])?void 0:s.first_message)&&void 0!==r?r:t.value.first_message)&&void 0!==i?i:null})}function tm(){const e=Hf();return hr(()=>{var t;return null!==(t=e.value.text_input_enabled)&&void 0!==t&&t})}function nm(){const e=Hf(),{language:t}=oo();return hr(()=>{var n,i,r,o;const a=null==(o=e.value.language_presets)?void 0:o[t.value.languageCode];return{terms_html:null!==(n=null==a?void 0:a.terms_html)&&void 0!==n?n:e.value.terms_html,terms_text:null!==(i=null==a?void 0:a.terms_text)&&void 0!==i?i:e.value.terms_text,terms_key:null!==(r=null==a?void 0:a.terms_key)&&void 0!==r?r:e.value.terms_key}})}const im=Mn(function(){const e=Hf(),t=hr(()=>{const t=e.value.styles;return":host, :root {\n".concat(Wr.map(e=>{var n;return"".concat(function(e){return"--el-".concat(e.replace(/_/g,"-"))}(e),": ").concat(function(e){return"number"==typeof e?"".concat(e,"px"):e}(null!==(n=null==t?void 0:t[e])&&void 0!==n?n:jr[e]),";")}).join("\n"),"\n}")});return Vt("style",{children:[t,'@import"https://fonts.googleapis.com/css2?family=Inter:wght@400,500&display=swap";/*! tailwindcss v4.1.18 | MIT License | https://tailwindcss.com */@layer properties{@supports ((not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1;--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-divide-y-reverse:0;--tw-border-style:solid;--tw-gradient-position:initial;--tw-gradient-from:#0000;--tw-gradient-via:#0000;--tw-gradient-to:#0000;--tw-gradient-stops:initial;--tw-gradient-via-stops:initial;--tw-gradient-from-position:0%;--tw-gradient-via-position:50%;--tw-gradient-to-position:100%;--tw-leading:initial;--tw-font-weight:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial;--tw-duration:initial;--tw-ease:initial}}}@layer theme{:host,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--font-weight-medium:500;--font-weight-semibold:600;--ease-out:cubic-bezier(0,0,.2,1);--animate-spin:spin 1s linear infinite;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){-webkit-appearance:button;-moz-appearance:button;appearance:button}::file-selector-button{-webkit-appearance:button;-moz-appearance:button;appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}}@layer components;@layer utilities{.pointer-events-auto{pointer-events:auto}.pointer-events-none{pointer-events:none}.\\!visible{visibility:visible!important}.collapse{visibility:collapse}.visible{visibility:visible}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.static{position:static}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.start-3{inset-inline-start:12px}.end-3{inset-inline-end:12px}.top-0{top:0}.top-1{top:4px}.top-1\\/2{top:50%}.top-4{top:16px}.top-16{top:64px}.top-20{top:80px}.top-\\[40\\%\\]{top:40%}.top-\\[88px\\]{top:88px}.right-0{right:0}.right-1{right:4px}.-bottom-3{bottom:-12px}.bottom-0{bottom:0}.bottom-20{bottom:80px}.left-0{left:0}.left-1\\/2{left:50%}.left-4{left:16px}.z-1{z-index:1}.z-2{z-index:2}.z-10{z-index:10}.container{width:100%}@media(min-width:40rem){.container{max-width:40rem}}@media(min-width:48rem){.container{max-width:48rem}}@media(min-width:64rem){.container{max-width:64rem}}@media(min-width:80rem){.container{max-width:80rem}}@media(min-width:96rem){.container{max-width:96rem}}.m-0{margin:0}.m-1{margin:4px}.-mx-0\\.5{margin-inline:-2px}.mx-1{margin-inline:4px}.-my-4{margin-block:-16px}.my-4{margin-block:16px}.my-6{margin-block:24px}.ms-auto{margin-inline-start:auto}.mt-3{margin-top:12px}.mt-4{margin-top:16px}.mt-6{margin-top:24px}.-mr-1\\.5{margin-right:-6px}.mb-0\\.5{margin-bottom:2px}.mb-1{margin-bottom:4px}.mb-2{margin-bottom:8px}.mb-3{margin-bottom:12px}.mb-4{margin-bottom:16px}.ml-4{margin-left:16px}.ml-auto{margin-left:auto}.\\!flex{display:flex!important}.block{display:block}.contents{display:contents}.flex{display:flex}.grid{display:grid}.hidden{display:none}.inline{display:inline}.inline-block{display:inline-block}.inline-flex{display:inline-flex}.list-item{display:list-item}.table{display:table}.table-cell{display:table-cell}.table-row{display:table-row}.\\[field-sizing\\:content\\],.field-sizing-content{field-sizing:content}.h-4{height:16px}.h-5{height:20px}.h-6{height:24px}.h-7{height:28px}.h-8{height:32px}.h-9{height:36px}.h-12{height:48px}.h-16{height:64px}.h-48{height:192px}.h-full{height:100%}.h-screen{height:100vh}.max-h-\\[50\\%\\]{max-height:50%}.max-h-\\[min\\(384px\\,var\\(--radix-select-content-available-height\\)\\)\\]{max-height:min(384px,var(--radix-select-content-available-height))}.max-h-full{max-height:100%}.min-h-0{min-height:0}.min-h-\\[6lh\\]{min-height:6lh}.min-h-full{min-height:100%}.min-h-min{min-height:min-content}.w-1\\/2{width:50%}.w-4{width:16px}.w-5{width:20px}.w-6{width:24px}.w-8{width:32px}.w-9{width:36px}.w-12{width:48px}.w-20{width:80px}.w-48{width:192px}.w-64{width:256px}.w-full{width:100%}.w-screen{width:100vw}.max-w-64{max-width:256px}.max-w-\\[400px\\]{max-width:400px}.max-w-full{max-width:100%}.\\!min-w-60{min-width:240px!important}.min-w-0{min-width:0}.min-w-9{min-width:36px}.min-w-60{min-width:240px}.min-w-\\[var\\(--radix-select-trigger-width\\)\\]{min-width:var(--radix-select-trigger-width)}.min-w-max{min-width:max-content}.min-w-min{min-width:min-content}.flex-1{flex:1}.shrink-0{flex-shrink:0}.grow{flex-grow:1}.border-collapse{border-collapse:collapse}.origin-bottom{transform-origin:bottom}.origin-bottom-left{transform-origin:0 100%}.origin-bottom-right{transform-origin:100% 100%}.origin-top{transform-origin:top}.origin-top-left{transform-origin:0 0}.origin-top-right{transform-origin:100% 0}.-translate-x-1\\/2{--tw-translate-x: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-1\\/2{--tw-translate-y: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-\\[calc\\(var\\(--el-overlay-padding\\)\\)\\]{--tw-translate-y:calc(calc(var(--el-overlay-padding))*-1);translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-full{--tw-translate-y:-100%;translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-y-1\\/2{--tw-translate-y: 50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-y-\\[calc\\(var\\(--el-overlay-padding\\)\\)\\]{--tw-translate-y:calc(var(--el-overlay-padding));translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-y-full{--tw-translate-y:100%;translate:var(--tw-translate-x)var(--tw-translate-y)}.scale-75{--tw-scale-x:75%;--tw-scale-y:75%;--tw-scale-z:75%;scale:var(--tw-scale-x)var(--tw-scale-y)}.scale-90{--tw-scale-x:90%;--tw-scale-y:90%;--tw-scale-z:90%;scale:var(--tw-scale-x)var(--tw-scale-y)}.scale-100{--tw-scale-x:100%;--tw-scale-y:100%;--tw-scale-z:100%;scale:var(--tw-scale-x)var(--tw-scale-y)}.scale-150{--tw-scale-x:150%;--tw-scale-y:150%;--tw-scale-z:150%;scale:var(--tw-scale-x)var(--tw-scale-y)}.scale-\\[0\\.1667\\]{scale:.1667}.-rotate-90{rotate:-90deg}.-rotate-180{rotate:-180deg}.transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)}.cursor-default{cursor:default}.cursor-pointer{cursor:pointer}.resize{resize:both}.resize-none{resize:none}.list-outside{list-style-position:outside}.list-decimal{list-style-type:decimal}.list-disc{list-style-type:disc}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-row{flex-direction:row}.place-content-center{place-content:center}.items-center{align-items:center}.items-end{align-items:flex-end}.items-start{align-items:flex-start}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.justify-end{justify-content:flex-end}.gap-1{gap:4px}.gap-1\\.5{gap:6px}.gap-2{gap:8px}.gap-2\\.5{gap:10px}.gap-3{gap:12px}.gap-6{gap:24px}.gap-8{gap:32px}:where(.divide-y>:not(:last-child)){--tw-divide-y-reverse:0;border-bottom-style:var(--tw-border-style);border-top-style:var(--tw-border-style);border-top-width:calc(1px*var(--tw-divide-y-reverse));border-bottom-width:calc(1px*calc(1 - var(--tw-divide-y-reverse)))}:where(.divide-base-border>:not(:last-child)){border-color:var(--el-base-border)}.self-auto{align-self:auto}.self-stretch{align-self:stretch}.truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-auto{overflow-y:auto}.rounded-\\[calc\\(var\\(--el-button-radius\\)\\+4px\\)\\]{border-radius:calc(var(--el-button-radius) + 4px)}.rounded-\\[calc\\(var\\(--el-sheet-radius\\)-8px\\)\\]{border-radius:calc(var(--el-sheet-radius) - 8px)}.rounded-bubble{border-radius:var(--el-bubble-radius)}.rounded-button{border-radius:var(--el-button-radius)}.rounded-compact-sheet{border-radius:var(--el-compact-sheet-radius)}.rounded-dropdown-sheet{border-radius:var(--el-dropdown-sheet-radius)}.rounded-full{border-radius:9999px}.rounded-input{border-radius:var(--el-input-radius)}.rounded-sheet{border-radius:var(--el-sheet-radius)}.border{border-style:var(--tw-border-style);border-width:1px}.border-r{border-right-style:var(--tw-border-style);border-right-width:1px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-l-4{border-left-style:var(--tw-border-style);border-left-width:4px}.border-accent{border-color:var(--el-accent)}.border-base{border-color:var(--el-base)}.border-base-border{border-color:var(--el-base-border)}.border-base-subtle\\/30{border-color:var(--el-base-subtle)}@supports (color:color-mix(in lab,red,red)){.border-base-subtle\\/30{border-color:color-mix(in oklab,var(--el-base-subtle)30%,transparent)}}.bg-accent{background-color:var(--el-accent)}.bg-base{background-color:var(--el-base)}.bg-base-active,.bg-base-active\\/40{background-color:var(--el-base-active)}@supports (color:color-mix(in lab,red,red)){.bg-base-active\\/40{background-color:color-mix(in oklab,var(--el-base-active)40%,transparent)}}.bg-base-active\\/80{background-color:var(--el-base-active)}@supports (color:color-mix(in lab,red,red)){.bg-base-active\\/80{background-color:color-mix(in oklab,var(--el-base-active)80%,transparent)}}.bg-base-border{background-color:var(--el-base-border)}.bg-base-hover{background-color:var(--el-base-hover)}.bg-gradient-to-b{--tw-gradient-position:to bottom in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.bg-gradient-to-t{--tw-gradient-position:to top in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.from-base{--tw-gradient-from:var(--el-base);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-transparent{--tw-gradient-to:transparent;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.\\[mask-image\\:linear-gradient\\(to_bottom\\,black\\,transparent\\)\\]{-webkit-mask-image:linear-gradient(#000,#0000);mask-image:linear-gradient(#000,#0000)}.\\[mask-image\\:linear-gradient\\(to_top\\,black\\,transparent\\)\\]{-webkit-mask-image:linear-gradient(#0000,#000);mask-image:linear-gradient(#0000,#000)}.bg-cover{background-size:cover}.object-cover{object-fit:cover}.p-1{padding:4px}.p-1\\.5{padding:6px}.p-2{padding:8px}.p-3{padding:12px}.p-4{padding:16px}.px-1{padding-inline:4px}.px-1\\.5{padding-inline:6px}.px-2{padding-inline:8px}.px-2\\.5{padding-inline:10px}.px-3{padding-inline:12px}.px-4{padding-inline:16px}.px-8{padding-inline:32px}.py-0\\.5{padding-block:2px}.py-1{padding-block:4px}.py-1\\.5{padding-block:6px}.py-2{padding-block:8px}.py-2\\.5{padding-block:10px}.py-4{padding-block:16px}.py-\\[calc\\(theme\\(spacing\\.2\\)-1px\\)\\]{padding-block:7px}.pt-1{padding-top:4px}.pt-1\\.5{padding-top:6px}.pt-2{padding-top:8px}.pt-4{padding-top:16px}.pt-20{padding-top:80px}.pr-3{padding-right:12px}.pr-8{padding-right:32px}.pr-16{padding-right:64px}.pb-1{padding-bottom:4px}.pb-2{padding-bottom:8px}.pb-3{padding-bottom:12px}.pb-4{padding-bottom:16px}.pb-\\[60px\\]{padding-bottom:60px}.pl-1\\.5{padding-left:6px}.pl-4{padding-left:16px}.pl-16{padding-left:64px}.text-center{text-align:center}.text-left{text-align:left}.font-mono{font-family:var(--font-mono)}.text-lg{font-size:18px;line-height:var(--tw-leading,26px)}.text-md{font-size:16px;line-height:var(--tw-leading,24px)}.text-sm{font-size:14px;line-height:var(--tw-leading,20px)}.text-xl{font-size:20px;line-height:var(--tw-leading,28px)}.text-xs{font-size:12px;line-height:var(--tw-leading,16px)}.text-\\[10px\\]{font-size:10px}.text-\\[13px\\]{font-size:13px}.leading-4{--tw-leading:16px;line-height:16px}.leading-5{--tw-leading:20px;line-height:20px}.\\[line-height\\:var\\(--el-overlay-padding\\)\\]{line-height:var(--el-overlay-padding)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.wrap-anywhere{overflow-wrap:anywhere}.wrap-break-word{overflow-wrap:break-word}.break-all{word-break:break-all}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-wrap{white-space:pre-wrap}.text-accent-primary{color:var(--el-accent-primary)}.text-base-border{color:var(--el-base-border)}.text-base-error{color:var(--el-base-error)}.text-base-primary{color:var(--el-base-primary)}.text-base-subtle{color:var(--el-base-subtle)}.italic{font-style:italic}.underline{text-decoration-line:underline}.opacity-0{opacity:0}.opacity-30{opacity:.3}.shadow-header{--tw-shadow:0 0 1px 0 var(--tw-shadow-color,#0006),0 2px 2px 0 var(--tw-shadow-color,#0000000a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-lg{--tw-shadow:0 2px 40px 1px var(--tw-shadow-color,#0000001f);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-md{--tw-shadow:0 2px 24px 1px var(--tw-shadow-color,#00000029);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-scroll-fade-bottom{--tw-shadow:0 8px 16px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-scroll-fade-top{--tw-shadow:0 -8px 16px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-2{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-accent{--tw-ring-color:var(--el-accent)}.outline-hidden{--tw-outline-style:none;outline-style:none}@media(forced-colors:active){.outline-hidden{outline-offset:2px;outline:2px solid #0000}}.blur{--tw-blur:blur(8px);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.grayscale{--tw-grayscale:grayscale(100%);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.filter{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.backdrop-blur-\\[1px\\]{--tw-backdrop-blur:blur(1px);-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[border-radius\\]{transition-property:border-radius;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[colors\\,opacity\\]{transition-property:colors,opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[margin\\]{transition-property:margin;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[opacity\\,transform\\]{transition-property:opacity,transform;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[opacity\\,width\\,height\\,transform\\,flex-grow\\]{transition-property:opacity,width,height,transform,flex-grow;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[opacity\\]{transition-property:opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[transform\\,left\\,top\\,opacity\\,scale\\]{transition-property:transform,left,top,opacity,scale;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[transform\\,opacity\\]{transition-property:transform,opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[width\\,height\\,max-width\\,max-height\\,transform\\,border-radius\\,opacity\\,inset\\,bottom\\,top\\,left\\,right\\,margin\\,padding\\]{transition-property:width,height,max-width,max-height,transform,border-radius,opacity,inset,bottom,top,left,right,margin,padding;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-shadow{transition-property:box-shadow;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.duration-200{--tw-duration:.2s;transition-duration:.2s}.duration-300{--tw-duration:.3s;transition-duration:.3s}.ease-out{--tw-ease:var(--ease-out);transition-timing-function:var(--ease-out)}.select-none{-webkit-user-select:none;user-select:none}.group-focus-within\\:pointer-events-auto:is(:where(.group):focus-within *){pointer-events:auto}.group-focus-within\\:opacity-100:is(:where(.group):focus-within *){opacity:1}@media(hover:hover){.group-hover\\:pointer-events-auto:is(:where(.group):hover *){pointer-events:auto}.group-hover\\:opacity-100:is(:where(.group):hover *){opacity:1}}.placeholder\\:text-base-subtle::placeholder{color:var(--el-base-subtle)}.first\\:mt-0:first-child,:is(.\\*\\:first\\:mt-0>*):first-child{margin-top:0}.last\\:mb-0:last-child,:is(.\\*\\:last\\:mb-0>*):last-child{margin-bottom:0}@media(hover:hover){.hover\\:scale-105:hover{--tw-scale-x:105%;--tw-scale-y:105%;--tw-scale-z:105%;scale:var(--tw-scale-x)var(--tw-scale-y)}.hover\\:border-accent-hover:hover{border-color:var(--el-accent-hover)}.hover\\:border-base-hover:hover{border-color:var(--el-base-hover)}.hover\\:bg-accent-hover:hover{background-color:var(--el-accent-hover)}.hover\\:bg-base-hover:hover{background-color:var(--el-base-hover)}.hover\\:opacity-50:hover{opacity:.5}}.focus\\:ring-2:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus\\:outline-none:focus{--tw-outline-style:none;outline-style:none}.focus-visible\\:underline-offset-2:focus-visible{text-underline-offset:2px}.focus-visible\\:opacity-100:focus-visible{opacity:1}.focus-visible\\:outline-hidden:focus-visible{--tw-outline-style:none;outline-style:none}@media(forced-colors:active){.focus-visible\\:outline-hidden:focus-visible{outline-offset:2px;outline:2px solid #0000}}.active\\:scale-95:active{--tw-scale-x:95%;--tw-scale-y:95%;--tw-scale-z:95%;scale:var(--tw-scale-x)var(--tw-scale-y)}.active\\:border-accent-active:active{border-color:var(--el-accent-active)}.active\\:border-base-active:active{border-color:var(--el-base-active)}.active\\:bg-accent-active:active{background-color:var(--el-accent-active)}.active\\:bg-base-active:active{background-color:var(--el-base-active)}.disabled\\:pointer-events-none:disabled{pointer-events:none}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}.data-hidden\\:translate-x-full[data-shown=false]{--tw-translate-x:100%;translate:var(--tw-translate-x)var(--tw-translate-y)}.data-hidden\\:-translate-y-4[data-shown=false]{--tw-translate-y: -16px ;translate:var(--tw-translate-x)var(--tw-translate-y)}.data-hidden\\:translate-y-2[data-shown=false]{--tw-translate-y:8px;translate:var(--tw-translate-x)var(--tw-translate-y)}.data-hidden\\:scale-75[data-shown=false]{--tw-scale-x:75%;--tw-scale-y:75%;--tw-scale-z:75%;scale:var(--tw-scale-x)var(--tw-scale-y)}.data-hidden\\:scale-90[data-shown=false]{--tw-scale-x:90%;--tw-scale-y:90%;--tw-scale-z:90%;scale:var(--tw-scale-x)var(--tw-scale-y)}.data-hidden\\:scale-100[data-shown=false]{--tw-scale-x:100%;--tw-scale-y:100%;--tw-scale-z:100%;scale:var(--tw-scale-x)var(--tw-scale-y)}.data-hidden\\:opacity-0[data-shown=false]{opacity:0}.data-highlighted\\:bg-base-active[data-highlighted]{background-color:var(--el-base-active)}.overlay{inset:var(--el-overlay-padding);right:calc(var(--el-overlay-padding) + var(--removed-body-scroll-bar-size,0px));position:absolute}.focus-ring{--tw-ring-color:var(--el-accent);--tw-ring-offset-width:2px;--tw-ring-offset-shadow:var(--tw-ring-inset,)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color);--tw-ring-offset-color:var(--el-base)}.focus-ring:focus-visible{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow);--tw-outline-style:none;outline-style:none}[data-variant=compact].sheet{border-radius:var(--el-sheet-radius);width:100%;max-width:400px;height:calc(100% - 80px);max-height:550px}[data-variant=expanded].sheet{border-radius:var(--el-sheet-radius);width:100%;max-width:600px;height:100%;max-height:calc(100% - 80px)}[data-variant=fullscreen].sheet{width:100%;max-width:100dvw;height:100%;max-height:100dvh;margin:calc(-1*var(--el-overlay-padding));width:calc(100% + 2*var(--el-overlay-padding));height:calc(100% + 2*var(--el-overlay-padding));border-radius:0;padding-bottom:24px;bottom:0}.animate-text{background-image:linear-gradient(75deg,var(--el-base-primary),var(--el-base-subtle),var(--el-base-primary),var(--el-base-subtle));color:#0000;background-size:300% 100%;-webkit-background-clip:text;background-clip:text;animation:2s linear infinite TextAnimation}@keyframes TextAnimation{0%{background-position:0 0}to{background-position:100% 0}}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.animate-spin{animation:1s linear infinite spin}.terms h6{font-size:12px;line-height:var(--tw-leading,16px);--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium);color:var(--el-base-primary)}.terms h5{font-size:14px;line-height:var(--tw-leading,20px);--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium);color:var(--el-base-primary)}.terms h4{font-size:16px;line-height:var(--tw-leading,24px);--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium);color:var(--el-base-primary)}.terms h3{font-size:18px;line-height:var(--tw-leading,26px);--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium);color:var(--el-base-primary)}.terms h2{font-size:20px;line-height:var(--tw-leading,28px);--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium);color:var(--el-base-primary)}.terms h1{font-size:24px;line-height:var(--tw-leading,30px);--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium);color:var(--el-base-primary)}}.dev-host,:host{pointer-events:none;z-index:1000;font-size:16px;line-height:var(--tw-leading,24px);color:var(--el-base-primary);scrollbar-color:#e5e7eb transparent;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;position:fixed;top:0;right:0;bottom:0;left:0}.markdown{text-autospace:normal;text-spacing-trim:trim-start}.markdown h1,.markdown h2,.markdown h3,.markdown h4,.markdown h5,.markdown h6{word-break:auto-phrase}.tok-comment,.tok-meta{color:#6a737d}.tok-keyword{color:#d73a49}.tok-atom,.tok-bool,.tok-literal,.tok-number{color:#005cc5}.tok-string,.tok-string2{color:#032f62}.tok-variableName{color:#24292e}.tok-variableName.tok-definition{color:#6f42c1}.tok-variableName.tok-local{color:#24292e}.tok-variableName2,.tok-macroName,.tok-typeName,.tok-namespace,.tok-className{color:#6f42c1}.tok-propertyName{color:#24292e}.tok-propertyName.tok-definition{color:#005cc5}.tok-labelName{color:#22863a}.tok-url,.tok-link{color:#032f62;text-decoration:underline}.tok-operator{color:#d73a49}.tok-punctuation{color:#24292e}.tok-invalid{color:#b31d28}.tok-deleted{color:#b31d28;background-color:#ffeef0}.tok-inserted{color:#22863a;background-color:#f0fff4}.tok-heading{color:#005cc5;font-weight:700}.tok-emphasis{color:#24292e;font-style:italic}.tok-strong{color:#24292e;font-weight:700}.tok-strikethrough{text-decoration:line-through}.tok-monospace{color:#005cc5}.tok-processingInstruction,[data-syntax-theme=dark] .tok-comment,[data-syntax-theme=dark] .tok-meta{color:#6a737d}[data-syntax-theme=dark] .tok-keyword{color:#f97583}[data-syntax-theme=dark] .tok-atom,[data-syntax-theme=dark] .tok-bool,[data-syntax-theme=dark] .tok-literal,[data-syntax-theme=dark] .tok-number,[data-syntax-theme=dark] .tok-propertyName.tok-definition{color:#79b8ff}[data-syntax-theme=dark] .tok-string,[data-syntax-theme=dark] .tok-string2{color:#9ecbff}[data-syntax-theme=dark] .tok-url,[data-syntax-theme=dark] .tok-link{color:#dbedff}[data-syntax-theme=dark] .tok-variableName,[data-syntax-theme=dark] .tok-variableName.tok-local,[data-syntax-theme=dark] .tok-propertyName,[data-syntax-theme=dark] .tok-emphasis,[data-syntax-theme=dark] .tok-strong{color:#e1e4e8}[data-syntax-theme=dark] .tok-variableName.tok-definition,[data-syntax-theme=dark] .tok-variableName2,[data-syntax-theme=dark] .tok-macroName,[data-syntax-theme=dark] .tok-typeName,[data-syntax-theme=dark] .tok-namespace,[data-syntax-theme=dark] .tok-className{color:#b392f0}[data-syntax-theme=dark] .tok-labelName{color:#85e89d}[data-syntax-theme=dark] .tok-invalid{color:#fdaeb7}[data-syntax-theme=dark] .tok-deleted{color:#fdaeb7;background-color:#86181d}[data-syntax-theme=dark] .tok-inserted{color:#85e89d;background-color:#144620}[data-syntax-theme=dark] .tok-heading{color:#79b8ff}[data-syntax-theme=dark] .tok-operator{color:#f97583}[data-syntax-theme=dark] .tok-punctuation{color:#e1e4e8}[data-syntax-theme=dark] .tok-monospace{color:#79b8ff}[data-syntax-theme=dark] .tok-processingInstruction{color:#6a737d}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-scale-x{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-y{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-z{syntax:"*";inherits:false;initial-value:1}@property --tw-rotate-x{syntax:"*";inherits:false}@property --tw-rotate-y{syntax:"*";inherits:false}@property --tw-rotate-z{syntax:"*";inherits:false}@property --tw-skew-x{syntax:"*";inherits:false}@property --tw-skew-y{syntax:"*";inherits:false}@property --tw-divide-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-gradient-position{syntax:"*";inherits:false}@property --tw-gradient-from{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-via{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-to{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-stops{syntax:"*";inherits:false}@property --tw-gradient-via-stops{syntax:"*";inherits:false}@property --tw-gradient-from-position{syntax:"<length-percentage>";inherits:false;initial-value:0%}@property --tw-gradient-via-position{syntax:"<length-percentage>";inherits:false;initial-value:50%}@property --tw-gradient-to-position{syntax:"<length-percentage>";inherits:false;initial-value:100%}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-drop-shadow-color{syntax:"*";inherits:false}@property --tw-drop-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:"*";inherits:false}@property --tw-backdrop-blur{syntax:"*";inherits:false}@property --tw-backdrop-brightness{syntax:"*";inherits:false}@property --tw-backdrop-contrast{syntax:"*";inherits:false}@property --tw-backdrop-grayscale{syntax:"*";inherits:false}@property --tw-backdrop-hue-rotate{syntax:"*";inherits:false}@property --tw-backdrop-invert{syntax:"*";inherits:false}@property --tw-backdrop-opacity{syntax:"*";inherits:false}@property --tw-backdrop-saturate{syntax:"*";inherits:false}@property --tw-backdrop-sepia{syntax:"*";inherits:false}@property --tw-duration{syntax:"*";inherits:false}@property --tw-ease{syntax:"*";inherits:false}@keyframes spin{to{transform:rotate(360deg)}}']})}),rm=Pt(null);function om(e){let{children:t}=e;const n=dr("voice"),{isDisconnected:i,addModeToggleEntry:r,setVolume:o}=Gf();vr(()=>{const e="text"===n.value;o(e?0:1)});const a=gn(()=>({mode:Vi(()=>n.value),setMode:e=>{n.value!==e&&(n.value=e,i.value||r(e))},isTextMode:Vi(()=>"text"===n.value),isVoiceMode:Vi(()=>"voice"===n.value)}),[i,r]);return Vt(rm.Provider,{value:a,children:t})}function am(){return Gr(rm)}const sm=Pt(null);function um(e){let{children:t}=e;const n=Hf(),{isTextMode:i}=am(),{setMicMuted:r,status:o}=Gf(),a=hr(()=>{var e;return null!==(e=n.value.mic_muting_enabled)&&void 0!==e&&e}),s=dr(!1),u=mn(null);vr(()=>{"disconnected"===o.value&&(s.value=!1)}),vr(()=>{i.value?(null===u.current&&(u.current=s.peek()),r(!0)):(null!==u.current&&(s.value=u.current,u.current=null),r(!!a.value&&s.value))});const c=gn(()=>({isMuted:Vi(()=>!!i.value||!!a.value&&s.value),setIsMuted:e=>{s.value=e},isMutingEnabled:a}),[]);return Vt(sm.Provider,{value:c,children:t})}function cm(){return Gr(sm)}const lm=Pt(null);function dm(e){let{children:t}=e;const n=Hf(),{language:i}=oo(),r=Hr("text-contents"),o=hr(()=>{try{if(r.value){const e=JSON.parse(r.value);if("object"==typeof e)return e}}catch(e){console.error("[ConversationalAI] Cannot parse text-contents:",e)}return{}}),a=gn(()=>Object.fromEntries(Zr.map(e=>[e,Vi(()=>{var t,r,a,s,u,c,l;return null!==(t=null!==(r=null!==(a=o.value[e])&&void 0!==a?a:null==(c=null==(u=null==(s=n.value.language_presets)?void 0:s[i.value.languageCode])?void 0:u.text_contents)?void 0:c[e])&&void 0!==r?r:null==(l=n.value.text_contents)?void 0:l[e])&&void 0!==t?t:zr[e]})])),[]);return Vt(lm.Provider,{value:a,children:t})}function hm(){return Gr(lm)}const pm=Pt(null);function fm(e){let{children:t}=e;const n=Hf(),i=Hr("avatar-image-url"),r=Hr("avatar-orb-color-1"),o=Hr("avatar-orb-color-2"),a=dr(""),s=hr(()=>i.value?{type:"image",url:i.value}:r.value&&o.value?{type:"orb",color_1:r.value,color_2:o.value}:n.value.avatar),u=hr(()=>{switch(s.value.type){case"url":return s.value.custom_url;case"orb":return a.value;case"image":return s.value.url}}),c=gn(()=>({config:s,previewUrl:u,canvasUrl:a}),[]);return Vt(pm.Provider,{value:c,children:t})}function mm(){return Gr(pm)}const Om=Pt(null);function gm(e){let{children:t}=e,n=Qe(e,i);const[r,o]=dn(null);return Vt("div",Be(Be({ref:o},n),{},{children:r&&Vt(Om.Provider,{value:r,children:t})}))}function Dm(){return Gr(Om)}function vm(e){return e&&"object"==typeof e&&"peek"in e}function Em(e){return vm(e)?e.value:e}function Cm(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function bm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const i=t.map(t=>{const i=Cm(t,e);return!n&&"function"==typeof i&&(n=!0),i});if(n)return()=>{for(let e=0;e<i.length;e++){const n=i[e];"function"==typeof n?n():Cm(t[e],null)}}}}function km(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Dn(bm(...t),t)}var ym=Symbol.for("react.lazy"),Tm=Pi[" use ".trim().toString()];function Am(e){return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===ym&&"_payload"in e&&function(e){return"object"==typeof e&&null!==e&&"then"in e}(e._payload)}function Sm(e){const t=Fm(e),n=Un((e,n)=>{let{children:i}=e,o=Qe(e,r);Am(i)&&"function"==typeof Tm&&(i=Tm(i._payload));const a=Xn.toArray(i),s=a.find(xm);if(s){const e=s.props.children,i=a.map(t=>t===s?Xn.count(e)>1?Xn.only(null):Ci(e)?e.props.children:null:t);return Vt(t,Be(Be({},o),{},{ref:n,children:Ci(e)?yi(e,void 0,i):null}))}return Vt(t,Be(Be({},o),{},{ref:n,children:i}))});return n.displayName="".concat(e,".Slot"),n}var _m=Sm("Slot");function Fm(e){const t=Un((e,t)=>{let{children:n}=e,i=Qe(e,o);if(Am(n)&&"function"==typeof Tm&&(n=Tm(n._payload)),Ci(n)){const e=function(e){var t,n;let i=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,r=i&&"isReactWarning"in i&&i.isReactWarning;return r?e.ref:(i=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,r=i&&"isReactWarning"in i&&i.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}(n),r=function(e,t){const n=Be({},t);for(const i in t){const r=e[i],o=t[i];/^on[A-Z]/.test(i)?r&&o?n[i]=function(){const e=o(...arguments);return r(...arguments),e}:r&&(n[i]=r):"style"===i?n[i]=Be(Be({},r),o):"className"===i&&(n[i]=[r,o].filter(Boolean).join(" "))}return Be(Be({},e),n)}(i,n.props);return n.type!==ct&&(r.ref=t?bm(t,e):e),yi(n,r)}return Xn.count(n)>1?Xn.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var wm=Symbol("radix.slottable");function xm(e){return Ci(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===wm}const Pm=window.matchMedia("(prefers-reduced-motion: reduce)");function Rm(){const e=dr(Pm.matches);return pn(()=>{const t=t=>{e.value=t.matches};return Pm.addEventListener("change",t),()=>Pm.removeEventListener("change",t)},[]),e}function Im(e){var t;let{onStart:n,onEnd:i}=e;const r=mn();null!==(t=r.current)&&void 0!==t||(r.current=new Set);const o=mn(n);o.current=n;const a=mn(i);a.current=i;const s=dr(!1),u=Dn(e=>{var t,n;e.target===e.currentTarget&&(null==(t=r.current)||t.add(e.propertyName),s.peek()||(s.value=!0,null==(n=o.current)||n.call(o)))},[]),c=Dn(e=>{var t,n,i;e.target===e.currentTarget&&(null==(t=r.current)||t.delete(e.propertyName),null!=(n=r.current)&&n.size||(s.value=!1,null==(i=a.current)||i.call(a)))},[]);return{transitioning:s,handlers:{onTransitionStart:u,onTransitionEnd:c}}}function Qm(e){return Vt(Rm().value?Nm:Bm,Be({},e))}function Nm(e){let{active:t}=e,n=Qe(e,a);return Em(t)?Vt(_m,Be({"data-shown":!0},n)):null}function Bm(e){let{active:t,initial:n=t}=e,i=Qe(e,s);const r=function(e){const t=vm(e),n=dr(t?e.peek():e);return t?e:(n.value=e,n)}(t),o=dr(function(e){return vm(e)?e.peek():e}(n));vr(()=>{r.value&&(o.value=r.value)});const{handlers:a}=Im({onEnd:()=>{o.value=r.value}});return r.value||o.value?Vt(_m,Be(Be({"data-shown":r.value&&o.value},a),i)):null}function Mm(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=Mm(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function Lm(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=Mm(e))&&(i&&(i+=" "),i+=t);return i}const $m=function(){return{nextPart:arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,validators:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,classGroupId:arguments.length>2?arguments[2]:void 0}},Um="-",qm=[],Xm=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const i=e[t],r=n.nextPart.get(i);if(r){const n=Xm(e,t+1,r);if(n)return n}const o=n.validators;if(null===o)return;const a=0===t?e.join(Um):e.slice(t).join(Um),s=o.length;for(let e=0;e<s;e++){const t=o[e];if(t.validator(a))return t.classGroupId}},zm=e=>-1===e.slice(1,-1).indexOf(":")?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),i=t.slice(0,n);return i?"arbitrary.."+i:void 0})(),Zm=e=>{const{theme:t,classGroups:n}=e;return jm(n,t)},jm=(e,t)=>{const n=$m();for(const i in e){const r=e[i];Wm(r,n,i,t)}return n},Wm=(e,t,n,i)=>{const r=e.length;for(let o=0;o<r;o++){const r=e[o];Gm(r,t,n,i)}},Gm=(e,t,n,i)=>{"string"!=typeof e?"function"!=typeof e?Hm(e,t,n,i):Ym(e,t,n,i):Vm(e,t,n)},Vm=(e,t,n)=>{(""===e?t:Km(t,e)).classGroupId=n},Ym=(e,t,n,i)=>{Jm(e)?Wm(e(i),t,n,i):(null===t.validators&&(t.validators=[]),t.validators.push(((e,t)=>({classGroupId:e,validator:t}))(n,e)))},Hm=(e,t,n,i)=>{const r=Object.entries(e),o=r.length;for(let e=0;e<o;e++){const[o,a]=r[e];Wm(a,Km(t,o),n,i)}},Km=(e,t)=>{let n=e;const i=t.split(Um),r=i.length;for(let e=0;e<r;e++){const t=i[e];let r=n.nextPart.get(t);r||(r=$m(),n.nextPart.set(t,r)),n=r}return n},Jm=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,eO=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),i=Object.create(null);const r=(r,o)=>{n[r]=o,t++,t>e&&(t=0,i=n,n=Object.create(null))};return{get(e){let t=n[e];return void 0!==t?t:void 0!==(t=i[e])?(r(e,t),t):void 0},set(e,t){e in n?n[e]=t:r(e,t)}}},tO=[],nO=(e,t,n,i,r)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:i,isExternal:r}),iO=e=>{const{prefix:t,experimentalParseClassName:n}=e;let i=e=>{const t=[];let n,i=0,r=0,o=0;const a=e.length;for(let s=0;s<a;s++){const a=e[s];if(0===i&&0===r){if(":"===a){t.push(e.slice(o,s)),o=s+1;continue}if("/"===a){n=s;continue}}"["===a?i++:"]"===a?i--:"("===a?r++:")"===a&&r--}const s=0===t.length?e:e.slice(o);let u=s,c=!1;return s.endsWith("!")?(u=s.slice(0,-1),c=!0):s.startsWith("!")&&(u=s.slice(1),c=!0),nO(t,c,u,n&&n>o?n-o:void 0)};if(t){const e=t+":",n=i;i=t=>t.startsWith(e)?n(t.slice(e.length)):nO(tO,!1,t,void 0,!0)}if(n){const e=i;i=t=>n({className:t,parseClassName:e})}return i},rO=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((e,n)=>{t.set(e,1e6+n)}),e=>{const n=[];let i=[];for(let r=0;r<e.length;r++){const o=e[r],a="["===o[0],s=t.has(o);a||s?(i.length>0&&(i.sort(),n.push(...i),i=[]),n.push(o)):i.push(o)}return i.length>0&&(i.sort(),n.push(...i)),n}},oO=/\s+/,aO=e=>{if("string"==typeof e)return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=aO(e[i]))&&(n&&(n+=" "),n+=t);return n},sO=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];let r,o,a,s;const u=e=>{const t=o(e);if(t)return t;const n=((e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:r,sortModifiers:o}=t,a=[],s=e.trim().split(oO);let u="";for(let e=s.length-1;e>=0;e-=1){const t=s[e],{isExternal:c,modifiers:l,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=n(t);if(c){u=t+(u.length>0?" "+u:u);continue}let f=!!p,m=i(f?h.substring(0,p):h);if(!m){if(!f){u=t+(u.length>0?" "+u:u);continue}if(m=i(h),!m){u=t+(u.length>0?" "+u:u);continue}f=!1}const O=0===l.length?"":1===l.length?l[0]:o(l).join(":"),g=d?O+"!":O,D=g+m;if(a.indexOf(D)>-1)continue;a.push(D);const v=r(m,f);for(let e=0;e<v.length;++e){const t=v[e];a.push(g+t)}u=t+(u.length>0?" "+u:u)}return u})(e,r);return a(e,n),n};return s=t=>{const i=n.reduce((e,t)=>t(e),e());return r=(e=>Be({cache:eO(e.cacheSize),parseClassName:iO(e),sortModifiers:rO(e)},(e=>{const t=Zm(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]"))return zm(e);const n=e.split(Um),i=""===n[0]&&n.length>1?1:0;return Xm(n,i,t)},getConflictingClassGroupIds:(e,t)=>{if(t){const t=i[e],r=n[e];return t?r?((e,t)=>{const n=new Array(e.length+t.length);for(let t=0;t<e.length;t++)n[t]=e[t];for(let i=0;i<t.length;i++)n[e.length+i]=t[i];return n})(r,t):t:r||qm}return n[e]||qm}}})(e)))(i),o=r.cache.get,a=r.cache.set,s=u,u(t)},function(){return s(function(){let e,t,n=0,i="";for(;n<arguments.length;){var r;(e=(r=n++)<0||arguments.length<=r?void 0:arguments[r])&&(t=aO(e))&&(i&&(i+=" "),i+=t)}return i}(...arguments))}},uO=[],cO=e=>{const t=t=>t[e]||uO;return t.isThemeGetter=!0,t},lO=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,dO=/^\((?:(\w[\w-]*):)?(.+)\)$/i,hO=/^\d+\/\d+$/,pO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,OO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,DO=e=>hO.test(e),vO=e=>!!e&&!Number.isNaN(Number(e)),EO=e=>!!e&&Number.isInteger(Number(e)),CO=e=>e.endsWith("%")&&vO(e.slice(0,-1)),bO=e=>pO.test(e),kO=()=>!0,yO=e=>fO.test(e)&&!mO.test(e),TO=()=>!1,AO=e=>OO.test(e),SO=e=>gO.test(e),_O=e=>!wO(e)&&!NO(e),FO=e=>XO(e,WO,TO),wO=e=>lO.test(e),xO=e=>XO(e,GO,yO),PO=e=>XO(e,VO,vO),RO=e=>XO(e,ZO,TO),IO=e=>XO(e,jO,SO),QO=e=>XO(e,HO,AO),NO=e=>dO.test(e),BO=e=>zO(e,GO),MO=e=>zO(e,YO),LO=e=>zO(e,ZO),$O=e=>zO(e,WO),UO=e=>zO(e,jO),qO=e=>zO(e,HO,!0),XO=(e,t,n)=>{const i=lO.exec(e);return!!i&&(i[1]?t(i[1]):n(i[2]))},zO=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=dO.exec(e);return!!i&&(i[1]?t(i[1]):n)},ZO=e=>"position"===e||"percentage"===e,jO=e=>"image"===e||"url"===e,WO=e=>"length"===e||"size"===e||"bg-size"===e,GO=e=>"length"===e,VO=e=>"number"===e,YO=e=>"family-name"===e,HO=e=>"shadow"===e,KO=()=>{const e=cO("color"),t=cO("font"),n=cO("text"),i=cO("font-weight"),r=cO("tracking"),o=cO("leading"),a=cO("breakpoint"),s=cO("container"),u=cO("spacing"),c=cO("radius"),l=cO("shadow"),d=cO("inset-shadow"),h=cO("text-shadow"),p=cO("drop-shadow"),f=cO("blur"),m=cO("perspective"),O=cO("aspect"),g=cO("ease"),D=cO("animate"),v=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",NO,wO],E=()=>[NO,wO,u],C=()=>[DO,"full","auto",...E()],b=()=>[EO,"none","subgrid",NO,wO],k=()=>["auto",{span:["full",EO,NO,wO]},EO,NO,wO],y=()=>[EO,"auto",NO,wO],T=()=>["auto","min","max","fr",NO,wO],A=()=>["auto",...E()],S=()=>[DO,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],_=()=>[e,NO,wO],F=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",LO,RO,{position:[NO,wO]}],w=()=>["auto","cover","contain",$O,FO,{size:[NO,wO]}],x=()=>[CO,BO,xO],P=()=>["","none","full",c,NO,wO],R=()=>["",vO,BO,xO],I=()=>[vO,CO,LO,RO],Q=()=>["","none",f,NO,wO],N=()=>["none",vO,NO,wO],B=()=>["none",vO,NO,wO],M=()=>[vO,NO,wO],L=()=>[DO,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[bO],breakpoint:[bO],color:[kO],container:[bO],"drop-shadow":[bO],ease:["in","out","in-out"],font:[_O],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[bO],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[bO],shadow:[bO],spacing:["px",vO],text:[bO],"text-shadow":[bO],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",DO,wO,NO,O]}],container:["container"],columns:[{columns:[vO,wO,NO,s]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:v()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[EO,"auto",NO,wO]}],basis:[{basis:[DO,"full","auto",s,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[vO,DO,"auto","initial","none",wO]}],grow:[{grow:["",vO,NO,wO]}],shrink:[{shrink:["",vO,NO,wO]}],order:[{order:[EO,"first","last","none",NO,wO]}],"grid-cols":[{"grid-cols":b()}],"col-start-end":[{col:k()}],"col-start":[{"col-start":y()}],"col-end":[{"col-end":y()}],"grid-rows":[{"grid-rows":b()}],"row-start-end":[{row:k()}],"row-start":[{"row-start":y()}],"row-end":[{"row-end":y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":T()}],"auto-rows":[{"auto-rows":T()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:A()}],mx:[{mx:A()}],my:[{my:A()}],ms:[{ms:A()}],me:[{me:A()}],mt:[{mt:A()}],mr:[{mr:A()}],mb:[{mb:A()}],ml:[{ml:A()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:S()}],w:[{w:[s,"screen",...S()]}],"min-w":[{"min-w":[s,"screen","none",...S()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[a]},...S()]}],h:[{h:["screen","lh",...S()]}],"min-h":[{"min-h":["screen","lh","none",...S()]}],"max-h":[{"max-h":["screen","lh",...S()]}],"font-size":[{text:["base",n,BO,xO]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,NO,PO]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",CO,wO]}],"font-family":[{font:[MO,wO,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,NO,wO]}],"line-clamp":[{"line-clamp":[vO,"none",NO,PO]}],leading:[{leading:[o,...E()]}],"list-image":[{"list-image":["none",NO,wO]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",NO,wO]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:_()}],"text-color":[{text:_()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[vO,"from-font","auto",NO,xO]}],"text-decoration-color":[{decoration:_()}],"underline-offset":[{"underline-offset":[vO,"auto",NO,wO]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",NO,wO]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",NO,wO]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:F()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:w()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},EO,NO,wO],radial:["",NO,wO],conic:[EO,NO,wO]},UO,IO]}],"bg-color":[{bg:_()}],"gradient-from-pos":[{from:x()}],"gradient-via-pos":[{via:x()}],"gradient-to-pos":[{to:x()}],"gradient-from":[{from:_()}],"gradient-via":[{via:_()}],"gradient-to":[{to:_()}],rounded:[{rounded:P()}],"rounded-s":[{"rounded-s":P()}],"rounded-e":[{"rounded-e":P()}],"rounded-t":[{"rounded-t":P()}],"rounded-r":[{"rounded-r":P()}],"rounded-b":[{"rounded-b":P()}],"rounded-l":[{"rounded-l":P()}],"rounded-ss":[{"rounded-ss":P()}],"rounded-se":[{"rounded-se":P()}],"rounded-ee":[{"rounded-ee":P()}],"rounded-es":[{"rounded-es":P()}],"rounded-tl":[{"rounded-tl":P()}],"rounded-tr":[{"rounded-tr":P()}],"rounded-br":[{"rounded-br":P()}],"rounded-bl":[{"rounded-bl":P()}],"border-w":[{border:R()}],"border-w-x":[{"border-x":R()}],"border-w-y":[{"border-y":R()}],"border-w-s":[{"border-s":R()}],"border-w-e":[{"border-e":R()}],"border-w-t":[{"border-t":R()}],"border-w-r":[{"border-r":R()}],"border-w-b":[{"border-b":R()}],"border-w-l":[{"border-l":R()}],"divide-x":[{"divide-x":R()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":R()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:_()}],"border-color-x":[{"border-x":_()}],"border-color-y":[{"border-y":_()}],"border-color-s":[{"border-s":_()}],"border-color-e":[{"border-e":_()}],"border-color-t":[{"border-t":_()}],"border-color-r":[{"border-r":_()}],"border-color-b":[{"border-b":_()}],"border-color-l":[{"border-l":_()}],"divide-color":[{divide:_()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[vO,NO,wO]}],"outline-w":[{outline:["",vO,BO,xO]}],"outline-color":[{outline:_()}],shadow:[{shadow:["","none",l,qO,QO]}],"shadow-color":[{shadow:_()}],"inset-shadow":[{"inset-shadow":["none",d,qO,QO]}],"inset-shadow-color":[{"inset-shadow":_()}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:_()}],"ring-offset-w":[{"ring-offset":[vO,xO]}],"ring-offset-color":[{"ring-offset":_()}],"inset-ring-w":[{"inset-ring":R()}],"inset-ring-color":[{"inset-ring":_()}],"text-shadow":[{"text-shadow":["none",h,qO,QO]}],"text-shadow-color":[{"text-shadow":_()}],opacity:[{opacity:[vO,NO,wO]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[vO]}],"mask-image-linear-from-pos":[{"mask-linear-from":I()}],"mask-image-linear-to-pos":[{"mask-linear-to":I()}],"mask-image-linear-from-color":[{"mask-linear-from":_()}],"mask-image-linear-to-color":[{"mask-linear-to":_()}],"mask-image-t-from-pos":[{"mask-t-from":I()}],"mask-image-t-to-pos":[{"mask-t-to":I()}],"mask-image-t-from-color":[{"mask-t-from":_()}],"mask-image-t-to-color":[{"mask-t-to":_()}],"mask-image-r-from-pos":[{"mask-r-from":I()}],"mask-image-r-to-pos":[{"mask-r-to":I()}],"mask-image-r-from-color":[{"mask-r-from":_()}],"mask-image-r-to-color":[{"mask-r-to":_()}],"mask-image-b-from-pos":[{"mask-b-from":I()}],"mask-image-b-to-pos":[{"mask-b-to":I()}],"mask-image-b-from-color":[{"mask-b-from":_()}],"mask-image-b-to-color":[{"mask-b-to":_()}],"mask-image-l-from-pos":[{"mask-l-from":I()}],"mask-image-l-to-pos":[{"mask-l-to":I()}],"mask-image-l-from-color":[{"mask-l-from":_()}],"mask-image-l-to-color":[{"mask-l-to":_()}],"mask-image-x-from-pos":[{"mask-x-from":I()}],"mask-image-x-to-pos":[{"mask-x-to":I()}],"mask-image-x-from-color":[{"mask-x-from":_()}],"mask-image-x-to-color":[{"mask-x-to":_()}],"mask-image-y-from-pos":[{"mask-y-from":I()}],"mask-image-y-to-pos":[{"mask-y-to":I()}],"mask-image-y-from-color":[{"mask-y-from":_()}],"mask-image-y-to-color":[{"mask-y-to":_()}],"mask-image-radial":[{"mask-radial":[NO,wO]}],"mask-image-radial-from-pos":[{"mask-radial-from":I()}],"mask-image-radial-to-pos":[{"mask-radial-to":I()}],"mask-image-radial-from-color":[{"mask-radial-from":_()}],"mask-image-radial-to-color":[{"mask-radial-to":_()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[vO]}],"mask-image-conic-from-pos":[{"mask-conic-from":I()}],"mask-image-conic-to-pos":[{"mask-conic-to":I()}],"mask-image-conic-from-color":[{"mask-conic-from":_()}],"mask-image-conic-to-color":[{"mask-conic-to":_()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:F()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:w()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",NO,wO]}],filter:[{filter:["","none",NO,wO]}],blur:[{blur:Q()}],brightness:[{brightness:[vO,NO,wO]}],contrast:[{contrast:[vO,NO,wO]}],"drop-shadow":[{"drop-shadow":["","none",p,qO,QO]}],"drop-shadow-color":[{"drop-shadow":_()}],grayscale:[{grayscale:["",vO,NO,wO]}],"hue-rotate":[{"hue-rotate":[vO,NO,wO]}],invert:[{invert:["",vO,NO,wO]}],saturate:[{saturate:[vO,NO,wO]}],sepia:[{sepia:["",vO,NO,wO]}],"backdrop-filter":[{"backdrop-filter":["","none",NO,wO]}],"backdrop-blur":[{"backdrop-blur":Q()}],"backdrop-brightness":[{"backdrop-brightness":[vO,NO,wO]}],"backdrop-contrast":[{"backdrop-contrast":[vO,NO,wO]}],"backdrop-grayscale":[{"backdrop-grayscale":["",vO,NO,wO]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[vO,NO,wO]}],"backdrop-invert":[{"backdrop-invert":["",vO,NO,wO]}],"backdrop-opacity":[{"backdrop-opacity":[vO,NO,wO]}],"backdrop-saturate":[{"backdrop-saturate":[vO,NO,wO]}],"backdrop-sepia":[{"backdrop-sepia":["",vO,NO,wO]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",NO,wO]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[vO,"initial",NO,wO]}],ease:[{ease:["linear","initial",g,NO,wO]}],delay:[{delay:[vO,NO,wO]}],animate:[{animate:["none",D,NO,wO]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,NO,wO]}],"perspective-origin":[{"perspective-origin":v()}],rotate:[{rotate:N()}],"rotate-x":[{"rotate-x":N()}],"rotate-y":[{"rotate-y":N()}],"rotate-z":[{"rotate-z":N()}],scale:[{scale:B()}],"scale-x":[{"scale-x":B()}],"scale-y":[{"scale-y":B()}],"scale-z":[{"scale-z":B()}],"scale-3d":["scale-3d"],skew:[{skew:M()}],"skew-x":[{"skew-x":M()}],"skew-y":[{"skew-y":M()}],transform:[{transform:[NO,wO,"","none","gpu","cpu"]}],"transform-origin":[{origin:v()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:L()}],"translate-x":[{"translate-x":L()}],"translate-y":[{"translate-y":L()}],"translate-z":[{"translate-z":L()}],"translate-none":["translate-none"],accent:[{accent:_()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:_()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",NO,wO]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",NO,wO]}],fill:[{fill:["none",..._()]}],"stroke-w":[{stroke:[vO,BO,xO,PO]}],stroke:[{stroke:["none",..._()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},JO=sO(KO),eg=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return JO(Lm(t))},tg=Pt(null);function ng(e){let{children:t}=e;const n=dr(null),i=dr(""),r=dr("initial"),{lastId:o}=Gf();Hr("agent-id");const{serverUrl:a}=eo(),s=Dn(async e=>{const t=o.value;if(t)try{n.value=e,r.value="submitted-rating",await Ff(t,{rating:e},a.value)}catch(e){console.error("[ConversationalAI] Failed to submit rating:",e)}else console.warn("[ConversationalAI] Cannot submit rating: missing conversation_id")},[]),u=Dn(async()=>{const e=o.value;if(e)if(null!==n.value){if(i.value)try{r.value="submitted-follow-up",await Ff(e,{rating:n.value,comment:i.value||void 0},a.value)}catch(e){console.error("[ConversationalAI] Failed to submit feedback:",e)}}else console.warn("[ConversationalAI] Cannot submit feedback: rating not set");else console.warn("[ConversationalAI] Cannot submit feedback: missing conversation_id")},[]),c=Dn(()=>{n.value=null,i.value="",r.value="initial"},[]);vr(()=>{null!==o.value&&c()});const l=gn(()=>({rating:n,feedbackText:i,feedbackProgress:r,submitRating:s,submitFeedback:u,reset:c}),[s,u,c]);return Vt(tg.Provider,{value:l,children:t})}function ig(){return Gr(tg)}const rg=Pt(null);function og(e){let{defaultContent:t="transcript",children:n}=e;const i=dr(t),r=gn(()=>{const e="feedback"===i.value?{showHeaderBack:!0,onHeaderBack:()=>{i.value="transcript"}}:{showHeaderBack:!1};return{currentContent:i,currentConfig:e}},[i.value]);return Vt(rg.Provider,{value:r,children:n})}function ag(){return Gr(rg)}const sg={phone:function(e){return Vt("svg",Be(Be({height:"1em",width:"1em",viewBox:"0 0 18 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Vt("path",{d:"M3.7489 2.25C2.93286 2.25 2.21942 2.92142 2.27338 3.7963C2.6686 10.2041 7.79483 15.3303 14.2026 15.7255C15.0775 15.7795 15.7489 15.066 15.7489 14.25V11.958C15.7489 11.2956 15.3144 10.7116 14.6799 10.5213L12.6435 9.91035C12.1149 9.75179 11.542 9.89623 11.1518 10.2864L10.5901 10.8482C9.15291 10.0389 7.95998 8.84599 7.15074 7.40881L7.71246 6.84709C8.10266 6.45689 8.24711 5.88396 8.08854 5.35541L7.47761 3.31898C7.28727 2.6845 6.70329 2.25 6.04087 2.25H3.7489Z"})}))},"phone-off":function(e){return Vt("svg",Be(Be({height:"1em",width:"1em",viewBox:"0 0 19 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[Vt("path",{d:"M16.0303 3.53033C16.3232 3.23744 16.3232 2.76256 16.0303 2.46967C15.7374 2.17678 15.2626 2.17678 14.9697 2.46967L8.6271 8.81224C8.25925 8.3778 7.93185 7.90804 7.65074 7.40881L8.21246 6.84709C8.60266 6.45689 8.74711 5.88396 8.58854 5.35541L7.97761 3.31898C7.78727 2.6845 7.20329 2.25 6.54087 2.25H4.2489C3.43286 2.25 2.71942 2.92142 2.77338 3.7963C2.95462 6.73468 4.13069 9.40357 5.96899 11.4703L2.96967 14.4697C2.67678 14.7626 2.67678 15.2374 2.96967 15.5303C3.26256 15.8232 3.73744 15.8232 4.03033 15.5303L16.0303 3.53033Z"}),Vt("path",{d:"M14.7026 15.7255C12.2994 15.5773 10.0765 14.7636 8.21584 13.4665L10.9278 10.7545C10.9815 10.7863 11.0356 10.8175 11.0901 10.8482L11.6518 10.2864C12.042 9.89623 12.6149 9.75179 13.1435 9.91035L15.1799 10.5213C15.8144 10.7116 16.2489 11.2956 16.2489 11.958V14.25C16.2489 15.066 15.5775 15.7795 14.7026 15.7255Z"})]}))},chat:function(e){return Vt("svg",Be(Be({height:"1em",width:"1em",viewBox:"0 0 19 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Vt("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1.5 6.75C1.5 4.26472 3.51472 2.25 6 2.25H12C14.4853 2.25 16.5 4.26472 16.5 6.75V11.25C16.5 13.7353 14.4853 15.75 12 15.75H2.25C1.83579 15.75 1.5 15.4142 1.5 15V6.75ZM6 9.9375C5.48223 9.9375 5.0625 9.51777 5.0625 9C5.0625 8.48223 5.48223 8.0625 6 8.0625C6.51777 8.0625 6.9375 8.48223 6.9375 9C6.9375 9.51777 6.51777 9.9375 6 9.9375ZM9 9.9375C8.48223 9.9375 8.0625 9.51777 8.0625 9C8.0625 8.48223 8.48223 8.0625 9 8.0625C9.51777 8.0625 9.9375 8.48223 9.9375 9C9.9375 9.51777 9.51777 9.9375 9 9.9375ZM11.0625 9C11.0625 9.51777 11.4822 9.9375 12 9.9375C12.5178 9.9375 12.9375 9.51777 12.9375 9C12.9375 8.48223 12.5178 8.0625 12 8.0625C11.4822 8.0625 11.0625 8.48223 11.0625 9Z"})}))},mic:function(e){return Vt("svg",Be(Be({height:"1em",width:"1em",viewBox:"0 0 19 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[Vt("path",{d:"M9.50008 1.5C7.42901 1.5 5.75008 3.17893 5.75008 5.25V8.25C5.75008 10.3211 7.42901 12 9.50008 12C11.5712 12 13.2501 10.3211 13.2501 8.25V5.25C13.2501 3.17893 11.5712 1.5 9.50008 1.5Z"}),Vt("path",{d:"M4.88997 10.8417C4.66448 10.4943 4.20002 10.3954 3.85256 10.6209C3.50509 10.8463 3.40621 11.3108 3.63169 11.6583C4.47442 12.9569 6.08493 14.6838 8.75008 14.9616V15.75C8.75008 16.1642 9.08587 16.5 9.50008 16.5C9.9143 16.5 10.2501 16.1642 10.2501 15.75V14.9616C12.9152 14.6838 14.5257 12.9569 15.3685 11.6583C15.594 11.3108 15.4951 10.8463 15.1476 10.6209C14.8001 10.3954 14.3357 10.4943 14.1102 10.8417C13.3305 12.0432 11.9002 13.5 9.50008 13.5C7.1 13.5 5.66968 12.0432 4.88997 10.8417Z"})]}))},"mic-off":function(e){return Vt("svg",Be(Be({height:"1em",width:"1em",viewBox:"0 0 19 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[Vt("path",{d:"M13.25 8.25C13.25 8.64791 13.188 9.03135 13.0732 9.39119L6.57947 2.8975C7.26687 2.04521 8.31974 1.5 9.49995 1.5C11.571 1.5 13.25 3.17893 13.25 5.25V8.25Z"}),Vt("path",{d:"M2.21967 1.71967C2.51256 1.42678 2.98744 1.42678 3.28033 1.71967L16.7803 15.2197C17.0732 15.5126 17.0732 15.9874 16.7803 16.2803C16.4874 16.5732 16.0126 16.5732 15.7197 16.2803L13.2828 13.8435C12.4719 14.4022 11.4678 14.8338 10.25 14.9614V15.75C10.25 16.1642 9.91422 16.5 9.50001 16.5C9.08579 16.5 8.75001 16.1642 8.75001 15.75V14.9616C6.08485 14.6838 4.47434 12.9569 3.63162 11.6583C3.40614 11.3108 3.50502 10.8463 3.85248 10.6209C4.19995 10.3954 4.66441 10.4943 4.88989 10.8417C5.6696 12.0432 7.09993 13.5 9.50001 13.5C10.5978 13.5 11.4845 13.1981 12.1992 12.7598L11.0875 11.6482C10.605 11.8739 10.0667 12 9.50001 12C7.42894 12 5.75001 10.3211 5.75001 8.25V6.31067L2.21967 2.78033C1.92678 2.48744 1.92678 2.01256 2.21967 1.71967Z"})]}))},soundwave:function(e){return Vt("svg",Be(Be({height:"1em",width:"1em",viewBox:"0 0 18 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[Vt("rect",{x:"1.5",y:"6.75",width:"2",height:"4.5",rx:"1"}),Vt("rect",{x:"5",y:"4.5",width:"2",height:"9",rx:"1"}),Vt("rect",{x:"8.5",y:"2.25",width:"2",height:"13.5",rx:"1"}),Vt("rect",{x:"12",y:"4.5",width:"2",height:"9",rx:"1"}),Vt("rect",{x:"15.5",y:"6.75",width:"2",height:"4.5",rx:"1"})]}))},check:function(e){return Vt("svg",Be(Be({xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},e),{},{children:Vt("path",{d:"M20 6 9 17l-5-5"})}))},"chevron-down":function(e){return Vt("svg",Be(Be({xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},e),{},{children:Vt("path",{d:"m6 9 6 6 6-6"})}))},"chevron-up":function(e){return Vt("svg",Be(Be({xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},e),{},{children:Vt("path",{d:"m18 15-6-6-6 6"})}))},send:function(e){return Vt("svg",Be(Be({xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 20 20",fill:"currentColor"},e),{},{children:Vt("path",{d:"M4.64337 17.6645C3.243 18.1313 1.97185 16.6817 2.6176 15.3543L8.50148 3.25965C9.10962 2.00957 10.8908 2.00958 11.4989 3.25965L17.3828 15.3543C18.0286 16.6817 16.7574 18.1313 15.357 17.6645L10.8334 16.1567L10.8334 12.5005C10.8334 12.0403 10.4603 11.6672 10 11.6672C9.5398 11.6672 9.16671 12.0403 9.16671 12.5005L9.16671 16.1568L4.64337 17.6645Z"})}))},star:function(e){return Vt("svg",Be(Be({height:"1em",width:"1em",viewBox:"0 0 21 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Vt("path",{d:"M11.8621 0.854898C11.3145 -0.284967 9.68804 -0.284965 9.1404 0.854899L6.77181 5.78487C6.77181 5.78487 6.76902 5.78867 6.7646 5.78925L1.31499 6.50272C0.0591912 6.66713 -0.452868 8.21568 0.474832 9.09033L4.45896 12.8466C4.46075 12.8483 4.46059 12.8502 4.46059 12.8502L3.46003 18.2169C3.22657 19.4691 4.55184 20.4152 5.66108 19.8172L10.4957 17.2111C10.4991 17.2093 10.5035 17.2093 10.5068 17.2111L15.3415 19.8172C16.4507 20.4152 17.776 19.4691 17.5425 18.2169L16.542 12.8502C16.542 12.8502 16.5418 12.8483 16.5436 12.8466L20.5277 9.09033C21.4554 8.21568 20.9434 6.66713 19.6876 6.50272L14.2379 5.78925C14.2335 5.78867 14.2307 5.78487 14.2307 5.78487L11.8621 0.854898Z"})}))},copy:function(e){return Vt("svg",Be(Be({xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},e),{},{children:[Vt("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),Vt("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]}))},download:function(e){return Vt("svg",Be(Be({xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},e),{},{children:[Vt("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),Vt("polyline",{points:"7 10 12 15 17 10"}),Vt("line",{x1:"12",x2:"12",y1:"15",y2:"3"})]}))},wrap:function(e){return Vt("svg",Be(Be({xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},e),{},{children:[Vt("line",{x1:"3",x2:"21",y1:"6",y2:"6"}),Vt("path",{d:"M3 12h15a3 3 0 1 1 0 6h-4"}),Vt("polyline",{points:"16 16 14 18 16 20"}),Vt("line",{x1:"3",x2:"10",y1:"18",y2:"18"})]}))},maximize:function(e){return Vt("svg",Be(Be({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},e),{},{children:[Vt("path",{d:"M15 3h6v6"}),Vt("path",{d:"m21 3-7 7"}),Vt("path",{d:"m3 21 7-7"}),Vt("path",{d:"M9 21H3v-6"})]}))},minimize:function(e){return Vt("svg",Be(Be({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},e),{},{children:[Vt("path",{d:"m14 10 7-7"}),Vt("path",{d:"M20 10h-6V4"}),Vt("path",{d:"m3 21 7-7"}),Vt("path",{d:"M4 14h6v6"})]}))},loader:function(e){return Vt("svg",Be(Be({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},e),{},{children:Vt("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}))},x:function(e){return Vt("svg",Be(Be({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},e),{},{children:[Vt("path",{d:"M18 6 6 18"}),Vt("path",{d:"m6 6 12 12"})]}))}},ug={xs:"text-xs",sm:"text-sm",md:"text-lg",lg:"text-xl"};function cg(e){let{name:t,size:n="md",className:i}=e;const r=sg[t];return Vt("slot",{name:"icon-".concat(t),className:Lm("flex",ug[n],i),"aria-hidden":!0,children:Vt(r,{})})}function lg(e){let{orbColor:t,circleBackgroundColor:n,starColor:i,className:r}=e;return Vt("slot",{name:"icon-feedback",className:Lm("flex",r),"aria-hidden":!0,children:Vt("svg",{width:"100%",height:"100%",viewBox:"0 0 82 88",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Vt("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9 42C9 59.6731 23.3269 74 41 74C58.6731 74 73 59.6731 73 42C73 24.3269 58.6731 10 41 10C23.3269 10 9 24.3269 9 42ZM29.4529 18.5973C31.1347 18.0574 32.8641 17.5023 34.9844 16.6005C42.2533 13.5091 48.3526 11.9217 51.7782 14.094C53.5063 15.1899 54.4051 16.7749 55.6117 18.9024C56.7969 20.9922 58.279 23.6057 61.1358 26.7937C62.2737 28.0636 63.3886 29.2195 64.4371 30.3064C68.7007 34.7263 71.8645 38.0061 70.9949 43.1697C70.2965 47.316 67.9794 49.4559 65.6038 51.65C63.4317 53.656 61.2107 55.7073 60.1332 59.3786C57.8774 67.0653 53.5327 71.9113 48.3526 72.7468C43.1725 73.5823 36.6555 75.1698 29.8043 70.1567C26.1949 67.5157 25.229 64.3182 24.1947 60.894C23.2657 57.8184 22.2814 54.56 19.2768 51.3577C14.1619 45.9062 10.2533 29.6345 19.2768 23.0339C23.736 20.4327 26.5223 19.5382 29.4529 18.5973Z",fill:t,"fill-opacity":"0.15",stroke:t,"stroke-opacity":"0.35"}),Vt("path",{d:"M43.5 73.4212C40.4387 73.4212 35.0039 71.1025 37.556 56.4696C40.143 41.6365 42.6582 40.577 44.6991 25.744C46.3318 13.8775 41.1635 8.87964 33 10.9988",stroke:t,"stroke-opacity":"0.35"}),Vt("path",{d:"M43.5 73.4212C40.4387 73.4212 35.0039 71.1025 37.556 56.4696C40.143 41.6365 42.6582 40.577 44.6991 25.744C46.3318 13.8775 41.1635 8.87964 33 10.9988",stroke:t,"stroke-opacity":"0.35"}),Vt("path",{d:"M21.9366 68.1987C21.3549 66.5119 21.0386 60.9231 28.1376 53.3448C37.0114 43.8719 40.5 43.9579 51.4911 31.7482C59.5691 22.7747 59.1723 17.0524 58.0993 15.4626",stroke:t,"stroke-opacity":"0.35"}),Vt("path",{d:"M9.26819 42.161C10.4003 43.5337 15.6951 46.3853 25.7661 44.3926C38.3548 41.9018 52.434 40.307 57.694 41.0287C70.352 42.7655 71.4138 51.3035 71.4138 51.3035",stroke:t,"stroke-opacity":"0.35"}),Vt("path",{d:"M22 16.4916C18.815 21.85 19.6451 26.0591 27.9943 32.0828C38.4307 39.6124 50.2985 48.8304 53.5024 53.1027C58.6684 59.9914 59.5 67.928 59.5 67.928",stroke:t,"stroke-opacity":"0.35"}),Vt("rect",{x:"9.26099",y:"10",width:"63.7129",height:"63.7129",rx:"31.8565",stroke:t,"stroke-opacity":"0.43","stroke-width":"1.5"}),Vt("g",{"clip-path":"url(#clip0_7006_42127)",children:[Vt("circle",{cx:"62.4996",cy:"18.2032",r:"15.0195",transform:"rotate(6.27205 62.4996 18.2032)",fill:n}),Vt("path",{d:"M60.7142 12.1753C62.057 10.0714 65.2294 10.4202 66.0833 12.7654L66.6158 14.2308L68.1251 14.6217C70.5415 15.2484 71.1908 18.3742 69.2237 19.911L67.9944 20.8704L68.0896 22.4262C68.2403 24.9178 65.4681 26.5011 63.3987 25.1056L62.1065 24.2326L60.6555 24.8041C58.3322 25.7172 55.9702 23.5694 56.6585 21.1698L57.0884 19.6717L56.0977 18.4684C54.5112 16.541 55.8231 13.6307 58.318 13.5438L59.8751 13.4899L60.7142 12.1753Z",fill:i,stroke:n,"stroke-width":"3.27381"}),Vt("path",{d:"M63.925 5.23719C71.0867 6.02431 76.2545 12.4676 75.4676 19.6293C74.6805 26.7911 68.2364 31.959 61.0746 31.1718C53.9129 30.3845 48.7459 23.9406 49.533 16.7789C50.3203 9.61739 56.7634 4.45029 63.925 5.23719ZM63.6957 7.32326C57.6866 6.66302 52.2797 10.9991 51.6191 17.0082C50.9586 23.0174 55.2946 28.4251 61.3038 29.0858C67.3132 29.7462 72.7211 25.4094 73.3816 19.4C74.0418 13.3908 69.705 7.98372 63.6957 7.32326Z",fill:i,stroke:n,"stroke-width":"0.3","stroke-linecap":"round","stroke-linejoin":"round"})]}),Vt("ellipse",{cx:"41",cy:"85",rx:"15",ry:"3",fill:t,"fill-opacity":"0.35"}),Vt("defs",{children:Vt("clipPath",{id:"clip0_7006_42127",children:Vt("rect",{width:"33",height:"33",fill:"white",transform:"translate(47.9012) rotate(6.27205)"})})})]})})}function dg(e){return Vt(Rm().value?hg:pg,Be({},e))}function hg(e){let{visible:t,className:n,grow:i,dep:r}=e,o=Qe(e,u);return t?Vt("div",Be({className:Lm(i&&"grow",n)},o)):null}function pg(e){let{visible:t,children:n,className:i,grow:r,dep:o}=e,a=Qe(e,c);const[s,u]=dn(t),[l,d]=dn(null),[h,p]=dn(null),f=mn(n);t&&(f.current=n);const m=Dn(e=>{d(e),e&&!t&&(e.style.width="0px",e.style.height="0px")},[]);pn(()=>{h&&(h.style.transition="none",h.style.opacity="0",h.offsetWidth,h.style.transition="",h.style.opacity="")},[o]),gn(()=>{l&&(l.style.width="".concat(l.offsetWidth,"px"),l.style.height="".concat(l.offsetHeight,"px"))},[l,t,o]),pn(()=>{if(!l||!h)return;t&&u(!0);const e=t?h.offsetWidth:0,n=t?h.offsetHeight:0;l.style.width=t&&l.offsetWidth===e?"":"".concat(e,"px"),l.style.height=t&&l.offsetHeight===n?"":"".concat(n,"px")},[l,h,t,o]);const{transitioning:O,handlers:g}=Im({onEnd:()=>{t?(l.style.width="",l.style.height=""):u(!1)}});return Vt("div",Be(Be({ref:m,className:Lm("relative inline-flex shrink-0 justify-center items-center transition-[opacity,width,height,transform,flex-grow] duration-200 min-w-0",!t&&"opacity-0 scale-75",t&&r&&"grow",t&&s&&!O.value&&"z-1")},g),{},{children:Vt("div",Be(Be({ref:p,className:Lm("shrink-0 min-h-min min-w-min transition-opacity duration-200",r&&"grow",i)},a),{},{children:(t||s)&&f.current}))}))}const fg={primary:"text-accent-primary border border-accent bg-accent hover:border-accent-hover hover:bg-accent-hover active:border-accent-active active:bg-accent-active",secondary:"text-base-primary border border-base-border bg-base hover:bg-base-hover active:bg-base-active",ghost:"text-base-primary border border-base bg-base hover:bg-base-hover hover:border-base-hover active:bg-base-active active:border-base-active","md-button":"text-base-primary border border-base-border bg-base hover:bg-base-hover active:bg-base-active text-sm h-6"},mg=Un(function(e,t){let{variant:n="secondary",children:i,icon:r,className:o,iconClassName:a,truncate:s=!0}=e,u=Qe(e,l);const c=!!r&&!i;return Vt("button",Be(Be({ref:t,className:eg("h-9 flex px-2.5 text-sm items-center transition-[colors,opacity] justify-center rounded-button duration-200 focus-ring overflow-hidden select-none","disabled:opacity-50 disabled:pointer-events-none",fg[n],c&&"min-w-9",o),type:"button"},u),{},{children:[r&&Vt(cg,{className:eg("transition-[margin] duration-200",c&&"-mx-0.5","md-button"===n&&"text-sm",a),name:r}),Vt(dg,{visible:!!i,dep:i,children:Vt("span",{className:eg("block whitespace-nowrap max-w-64 truncate","md-button"===n?"pl-1.5":"px-1.5"),children:i})})]}))}),Og=(e,t)=>Array.from({length:t-e+1},(t,n)=>n+e),gg=e=>{let{isFilled:t,iconName:n}=e;return Vt("span",{className:Lm("w-8 h-8 grid place-content-center",t?"text-base-primary":"text-base-border"),children:Vt(cg,{name:n,size:"lg"})})},Dg=e=>{let{value:t,rating:n,hoverRating:i,onClick:r,onHover:o,onKeyDown:a,iconName:s}=e;const u=null!==n.value&&t<=n.value,c=null!==i.value&&t<=i.value,l=Dn(e=>{e.stopPropagation(),r(t)},[r,t]),d=Dn(e=>{a(e,t)},[a,t]);return Vt("button",{type:"button",role:"radio","aria-checked":u,"aria-label":t.toString(),onMouseEnter:()=>o(t),onClick:l,onKeyDown:d,className:Lm("w-8 h-8 grid place-content-center rounded-full focus-ring transition-colors cursor-pointer",u||c?"text-base-primary":"text-base-border"),children:Vt(cg,{name:s,size:"lg"})})},vg=e=>{let{onRate:t,min:n=1,max:i=5,ariaLabel:r,icon:o="star"}=e;const a=dr(null),s=dr(null),u=Og(n,i),c=Dn(e=>{s.value=e},[s]),l=Dn(()=>{s.value=null},[s]),d=Dn(e=>{a.value=e,t(e)},[a,t]),h=Dn((e,r)=>{if("Enter"===e.key||" "===e.key)e.preventDefault(),a.value=r,t(r);else if("ArrowLeft"===e.key||"ArrowDown"===e.key){if(e.preventDefault(),r-1>=n){const t=e.currentTarget,n=null==t?void 0:t.previousElementSibling;null==n||n.focus()}}else if(("ArrowRight"===e.key||"ArrowUp"===e.key)&&(e.preventDefault(),r+1<=i)){const t=e.currentTarget,n=null==t?void 0:t.nextElementSibling;null==n||n.focus()}},[a,t,n,i]);return Vt("div",{role:"radiogroup","aria-label":r,className:"flex no-wrap cursor-pointer",onMouseLeave:l,children:u.map(e=>Vt(Dg,{value:e,rating:a,hoverRating:s,onClick:d,onHover:c,onKeyDown:h,iconName:o},e))})};function Eg(e){let{rating:t,min:n=1,max:i=5,icon:r="star"}=e;const o=Og(n,i);return Vt("div",{className:"flex no-wrap",role:"img","aria-label":"Rating: ".concat(t," out of ").concat(i),children:o.map(e=>Vt(gg,{isFilled:t>=e,iconName:r},e))})}function Cg(e){let{icon:t,onRate:n}=e;const i=hm();return Vt("div",{className:"flex flex-col items-center",children:[Vt("div",{className:"text-sm text-base-primary font-medium",children:i.initiate_feedback}),Vt("div",{className:"py-4",children:Vt(vg,{onRate:n,ariaLabel:i.initiate_feedback,icon:t})})]})}function bg(e){let{icon:t,rating:n,showFollowUpButton:i,onFollowUpClick:r}=e;const o=hm();return Vt("div",{className:"flex flex-col items-center gap-3 mb-4",children:[Vt("div",{className:"text-sm text-base-primary font-medium",children:o.thanks_for_feedback}),Vt(Eg,{rating:n,min:1,max:5,icon:t}),i&&Vt(mg,{variant:"secondary",onClick:r,children:o.request_follow_up_feedback})]})}function kg(e){var t;let{icon:n="star"}=e;const{currentContent:i}=ag(),{rating:r,feedbackProgress:o,submitRating:a}=ig(),s="initial"!==o.value&&null!==r.value,u=Dn(e=>{a(e),i.value="feedback"},[a]),c=Dn(()=>{i.value="feedback"},[]);return s?Vt(bg,{icon:n,rating:null!==(t=r.value)&&void 0!==t?t:0,showFollowUpButton:"submitted-follow-up"!==o.value,onFollowUpClick:c}):Vt(Cg,{icon:n,onRate:u})}const yg=/\[[\w\s]+\](?!\()\s*/g,Tg="object"==typeof self?self:globalThis,Ag=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),i=r=>{if(e.has(r))return e.get(r);const[o,a]=t[r];switch(o){case 0:case-1:return n(a,r);case 1:{const e=n([],r);for(const t of a)e.push(i(t));return e}case 2:{const e=n({},r);for(const[t,n]of a)e[i(t)]=i(n);return e}case 3:return n(new Date(a),r);case 4:{const{source:e,flags:t}=a;return n(new RegExp(e,t),r)}case 5:{const e=n(new Map,r);for(const[t,n]of a)e.set(i(t),i(n));return e}case 6:{const e=n(new Set,r);for(const t of a)e.add(i(t));return e}case 7:{const{name:e,message:t}=a;return n(new Tg[e](t),r)}case 8:return n(BigInt(a),r);case"BigInt":return n(Object(BigInt(a)),r);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:e}=new Uint8Array(a);return n(new DataView(e),a)}}return n(new Tg[o](a),r)};return i})(new Map,e)(0),Sg="",{toString:_g}={},{keys:Fg}=Object,wg=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=_g.call(e).slice(8,-1);switch(n){case"Array":return[1,Sg];case"Object":return[2,Sg];case"Date":return[3,Sg];case"RegExp":return[4,Sg];case"Map":return[5,Sg];case"Set":return[6,Sg];case"DataView":return[1,n]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},xg=e=>{let[t,n]=e;return 0===t&&("function"===n||"symbol"===n)},Pg=function(e){let{json:t,lossy:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=[];return((e,t,n,i)=>{const r=(e,t)=>{const r=i.push(e)-1;return n.set(t,r),r},o=i=>{if(n.has(i))return n.get(i);let[a,s]=wg(i);switch(a){case 0:{let t=i;switch(s){case"bigint":a=8,t=i.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+s);t=null;break;case"undefined":return r([-1],i)}return r([a,t],i)}case 1:{if(s){let e=i;return"DataView"===s?e=new Uint8Array(i.buffer):"ArrayBuffer"===s&&(e=new Uint8Array(i)),r([s,[...e]],i)}const e=[],t=r([a,e],i);for(const t of i)e.push(o(t));return t}case 2:{if(s)switch(s){case"BigInt":return r([s,i.toString()],i);case"Boolean":case"Number":case"String":return r([s,i.valueOf()],i)}if(t&&"toJSON"in i)return o(i.toJSON());const n=[],u=r([a,n],i);for(const t of Fg(i))(e||!xg(wg(i[t])))&&n.push([o(t),o(i[t])]);return u}case 3:return r([a,i.toISOString()],i);case 4:{const{source:e,flags:t}=i;return r([a,{source:e,flags:t}],i)}case 5:{const t=[],n=r([a,t],i);for(const[n,r]of i)(e||!xg(wg(n))&&!xg(wg(r)))&&t.push([o(n),o(r)]);return n}case 6:{const t=[],n=r([a,t],i);for(const n of i)(e||!xg(wg(n)))&&t.push(o(n));return n}}const{message:u}=i;return r([a,{name:s,message:u}],i)};return o})(!(t||n),!!t,new Map,i)(e),i},Rg="function"==typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?Ag(Pg(e,t)):structuredClone(e):(e,t)=>Ag(Pg(e,t)),Ig=Ng("end"),Qg=Ng("start");function Ng(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"==typeof n.line&&n.line>0&&"number"==typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"==typeof n.offset&&n.offset>-1?n.offset:void 0}}}function Bg(e){const t=Qg(e),n=Ig(e);if(t&&n)return{start:t,end:n}}const Mg=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],Lg={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...Mg,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...Mg],h2:[["className","sr-only"]],img:[...Mg,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...Mg,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...Mg],table:[...Mg],ul:[...Mg,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},$g={}.hasOwnProperty;function Ug(e,t){if(t&&"object"==typeof t){const n=t;switch("string"==typeof n.type?n.type:""){case"comment":return function(e,t){if(e.schema.allowComments){const e="string"==typeof t.value?t.value:"",n=e.indexOf("--\x3e"),i={type:"comment",value:n<0?e:e.slice(0,n)};return Zg(i,t),i}}(e,n);case"doctype":return function(e,t){if(e.schema.allowDoctypes){const e={type:"doctype"};return Zg(e,t),e}}(e,n);case"element":return function(e,t){const n="string"==typeof t.tagName?t.tagName:"";e.stack.push(n);const i=qg(e,t.children),r=function(e,t){const n=e.stack[e.stack.length-1],i=e.schema.attributes,r=e.schema.required,o=i&&$g.call(i,n)?i[n]:void 0,a=i&&$g.call(i,"*")?i["*"]:void 0,s=t&&"object"==typeof t?t:{},u={};let c;for(c in s)if($g.call(s,c)){const t=s[c];let n=Xg(e,jg(o,c),c,t);null==n&&(n=Xg(e,jg(a,c),c,t)),null!=n&&(u[c]=n)}if(r&&$g.call(r,n)){const e=r[n];for(c in e)$g.call(e,c)&&!$g.call(u,c)&&(u[c]=e[c])}return u}(e,t.properties);e.stack.pop();let o=!1;if(n&&"*"!==n&&(!e.schema.tagNames||e.schema.tagNames.includes(n))&&(o=!0,e.schema.ancestors&&$g.call(e.schema.ancestors,n))){const t=e.schema.ancestors[n];let i=-1;for(o=!1;++i<t.length;)e.stack.includes(t[i])&&(o=!0)}if(!o)return e.schema.strip&&!e.schema.strip.includes(n)?i:void 0;const a={type:"element",tagName:n,properties:r,children:i};return Zg(a,t),a}(e,n);case"root":return function(e,t){const n={type:"root",children:qg(e,t.children)};return Zg(n,t),n}(e,n);case"text":return function(e,t){const n={type:"text",value:"string"==typeof t.value?t.value:""};return Zg(n,t),n}(0,n)}}}function qg(e,t){const n=[];if(Array.isArray(t)){const i=t;let r=-1;for(;++r<i.length;){const t=Ug(e,i[r]);t&&(Array.isArray(t)?n.push(...t):n.push(t))}}return n}function Xg(e,t,n,i){return t?Array.isArray(i)?function(e,t,n,i){let r=-1;const o=[];for(;++r<i.length;){const a=zg(e,t,n,i[r]);("number"==typeof a||"string"==typeof a)&&o.push(a)}return o}(e,t,n,i):zg(e,t,n,i):void 0}function zg(e,t,n,i){if(("boolean"==typeof i||"number"==typeof i||"string"==typeof i)&&function(e,t,n){const i=e.schema.protocols&&$g.call(e.schema.protocols,t)?e.schema.protocols[t]:void 0;if(!i||0===i.length)return!0;const r=String(n),o=r.indexOf(":"),a=r.indexOf("?"),s=r.indexOf("#"),u=r.indexOf("/");if(o<0||u>-1&&o>u||a>-1&&o>a||s>-1&&o>s)return!0;let c=-1;for(;++c<i.length;){const e=i[c];if(o===e.length&&r.slice(0,e.length)===e)return!0}return!1}(e,n,i)){if("object"==typeof t&&t.length>1){let e=!1,n=0;for(;++n<t.length;){const r=t[n];if(r&&"object"==typeof r&&"flags"in r){if(r.test(String(i))){e=!0;break}}else if(r===i){e=!0;break}}if(!e)return}return e.schema.clobber&&e.schema.clobberPrefix&&e.schema.clobber.includes(n)?e.schema.clobberPrefix+i:i}}function Zg(e,t){const n=Bg(t);t.data&&(e.data=Rg(t.data)),n&&(e.position=n)}function jg(e,t){let n,i=-1;if(e)for(;++i<e.length;){const r=e[i],o="string"==typeof r?r:r[0];if(o===t)return r;"data*"===o&&(n=r)}if(t.length>4&&"data"===t.slice(0,4).toLowerCase())return n}function Wg(e){return function(t){return function(e,t){let n={type:"root",children:[]};const i=Ug({schema:t?Be(Be({},Lg),t):Lg,stack:[]},e);return i&&(Array.isArray(i)?1===i.length?n=i[0]:n.children=i:n=i),n}(t,e)}}class Gg{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}function Vg(e,t){const n={},i={};for(const t of e)Object.assign(n,t.property),Object.assign(i,t.normal);return new Gg(n,i,t)}function Yg(e){return e.toLowerCase()}Gg.prototype.normal={},Gg.prototype.property={},Gg.prototype.space=void 0;class Hg{constructor(e,t){this.attribute=t,this.property=e}}Hg.prototype.attribute="",Hg.prototype.booleanish=!1,Hg.prototype.boolean=!1,Hg.prototype.commaOrSpaceSeparated=!1,Hg.prototype.commaSeparated=!1,Hg.prototype.defined=!1,Hg.prototype.mustUseProperty=!1,Hg.prototype.number=!1,Hg.prototype.overloadedBoolean=!1,Hg.prototype.property="",Hg.prototype.spaceSeparated=!1,Hg.prototype.space=void 0;let Kg=0;const Jg=aD(),eD=aD(),tD=aD(),nD=aD(),iD=aD(),rD=aD(),oD=aD();function aD(){return 2**++Kg}const sD=Object.freeze(Object.defineProperty({__proto__:null,boolean:Jg,booleanish:eD,commaOrSpaceSeparated:oD,commaSeparated:rD,number:nD,overloadedBoolean:tD,spaceSeparated:iD},Symbol.toStringTag,{value:"Module"})),uD=Object.keys(sD);class cD extends Hg{constructor(e,t,n,i){let r=-1;if(super(e,t),lD(this,"space",i),"number"==typeof n)for(;++r<uD.length;){const e=uD[r];lD(this,uD[r],(n&sD[e])===sD[e])}}}function lD(e,t,n){n&&(e[t]=n)}function dD(e){const t={},n={};for(const[i,r]of Object.entries(e.properties)){const o=new cD(i,e.transform(e.attributes||{},i),r,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(o.mustUseProperty=!0),t[i]=o,n[Yg(i)]=i,n[Yg(o.attribute)]=i}return new Gg(t,n,e.space)}cD.prototype.defined=!0;const hD=dD({properties:{ariaActiveDescendant:null,ariaAtomic:eD,ariaAutoComplete:null,ariaBusy:eD,ariaChecked:eD,ariaColCount:nD,ariaColIndex:nD,ariaColSpan:nD,ariaControls:iD,ariaCurrent:null,ariaDescribedBy:iD,ariaDetails:null,ariaDisabled:eD,ariaDropEffect:iD,ariaErrorMessage:null,ariaExpanded:eD,ariaFlowTo:iD,ariaGrabbed:eD,ariaHasPopup:null,ariaHidden:eD,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:iD,ariaLevel:nD,ariaLive:null,ariaModal:eD,ariaMultiLine:eD,ariaMultiSelectable:eD,ariaOrientation:null,ariaOwns:iD,ariaPlaceholder:null,ariaPosInSet:nD,ariaPressed:eD,ariaReadOnly:eD,ariaRelevant:null,ariaRequired:eD,ariaRoleDescription:iD,ariaRowCount:nD,ariaRowIndex:nD,ariaRowSpan:nD,ariaSelected:eD,ariaSetSize:nD,ariaSort:null,ariaValueMax:nD,ariaValueMin:nD,ariaValueNow:nD,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function pD(e,t){return t in e?e[t]:t}function fD(e,t){return pD(e,t.toLowerCase())}const mD=dD({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:rD,acceptCharset:iD,accessKey:iD,action:null,allow:null,allowFullScreen:Jg,allowPaymentRequest:Jg,allowUserMedia:Jg,alt:null,as:null,async:Jg,autoCapitalize:null,autoComplete:iD,autoFocus:Jg,autoPlay:Jg,blocking:iD,capture:null,charSet:null,checked:Jg,cite:null,className:iD,cols:nD,colSpan:null,content:null,contentEditable:eD,controls:Jg,controlsList:iD,coords:nD|rD,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Jg,defer:Jg,dir:null,dirName:null,disabled:Jg,download:tD,draggable:eD,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Jg,formTarget:null,headers:iD,height:nD,hidden:tD,high:nD,href:null,hrefLang:null,htmlFor:iD,httpEquiv:iD,id:null,imageSizes:null,imageSrcSet:null,inert:Jg,inputMode:null,integrity:null,is:null,isMap:Jg,itemId:null,itemProp:iD,itemRef:iD,itemScope:Jg,itemType:iD,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Jg,low:nD,manifest:null,max:null,maxLength:nD,media:null,method:null,min:null,minLength:nD,multiple:Jg,muted:Jg,name:null,nonce:null,noModule:Jg,noValidate:Jg,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Jg,optimum:nD,pattern:null,ping:iD,placeholder:null,playsInline:Jg,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Jg,referrerPolicy:null,rel:iD,required:Jg,reversed:Jg,rows:nD,rowSpan:nD,sandbox:iD,scope:null,scoped:Jg,seamless:Jg,selected:Jg,shadowRootClonable:Jg,shadowRootDelegatesFocus:Jg,shadowRootMode:null,shape:null,size:nD,sizes:null,slot:null,span:nD,spellCheck:eD,src:null,srcDoc:null,srcLang:null,srcSet:null,start:nD,step:null,style:null,tabIndex:nD,target:null,title:null,translate:null,type:null,typeMustMatch:Jg,useMap:null,value:eD,width:nD,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:iD,axis:null,background:null,bgColor:null,border:nD,borderColor:null,bottomMargin:nD,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Jg,declare:Jg,event:null,face:null,frame:null,frameBorder:null,hSpace:nD,leftMargin:nD,link:null,longDesc:null,lowSrc:null,marginHeight:nD,marginWidth:nD,noResize:Jg,noHref:Jg,noShade:Jg,noWrap:Jg,object:null,profile:null,prompt:null,rev:null,rightMargin:nD,rules:null,scheme:null,scrolling:eD,standby:null,summary:null,text:null,topMargin:nD,valueType:null,version:null,vAlign:null,vLink:null,vSpace:nD,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Jg,disableRemotePlayback:Jg,prefix:null,property:null,results:nD,security:null,unselectable:null},space:"html",transform:fD}),OD=dD({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:oD,accentHeight:nD,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:nD,amplitude:nD,arabicForm:null,ascent:nD,attributeName:null,attributeType:null,azimuth:nD,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:nD,by:null,calcMode:null,capHeight:nD,className:iD,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:nD,diffuseConstant:nD,direction:null,display:null,dur:null,divisor:nD,dominantBaseline:null,download:Jg,dx:null,dy:null,edgeMode:null,editable:null,elevation:nD,enableBackground:null,end:null,event:null,exponent:nD,externalResourcesRequired:null,fill:null,fillOpacity:nD,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:rD,g2:rD,glyphName:rD,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:nD,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:nD,horizOriginX:nD,horizOriginY:nD,id:null,ideographic:nD,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:nD,k:nD,k1:nD,k2:nD,k3:nD,k4:nD,kernelMatrix:oD,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:nD,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:nD,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:nD,overlineThickness:nD,paintOrder:null,panose1:null,path:null,pathLength:nD,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:iD,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:nD,pointsAtY:nD,pointsAtZ:nD,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:oD,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:oD,rev:oD,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:oD,requiredFeatures:oD,requiredFonts:oD,requiredFormats:oD,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:nD,specularExponent:nD,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:nD,strikethroughThickness:nD,string:null,stroke:null,strokeDashArray:oD,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:nD,strokeOpacity:nD,strokeWidth:null,style:null,surfaceScale:nD,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:oD,tabIndex:nD,tableValues:null,target:null,targetX:nD,targetY:nD,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:oD,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:nD,underlineThickness:nD,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:nD,values:null,vAlphabetic:nD,vMathematical:nD,vectorEffect:null,vHanging:nD,vIdeographic:nD,version:null,vertAdvY:nD,vertOriginX:nD,vertOriginY:nD,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:nD,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:pD}),gD=dD({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),DD=dD({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:fD}),vD=dD({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),ED={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},CD=/[A-Z]/g,bD=/-[a-z]/g,kD=/^data[-\w.:]+$/i;function yD(e,t){const n=Yg(t);let i=t,r=Hg;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&kD.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(bD,AD);i="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!bD.test(e)){let n=e.replace(CD,TD);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}r=cD}return new r(i,t)}function TD(e){return"-"+e.toLowerCase()}function AD(e){return e.charAt(1).toUpperCase()}const SD=Vg([hD,mD,gD,DD,vD],"html"),_D=Vg([hD,OD,gD,DD,vD],"svg");function FD(e){const t=[],n=String(e||"");let i=n.indexOf(","),r=0,o=!1;for(;!o;){-1===i&&(i=n.length,o=!0);const e=n.slice(r,i).trim();(e||!o)&&t.push(e),r=i+1,i=n.indexOf(",",r)}return t}function wD(e,t){const n={};return(""===e[e.length-1]?[...e,""]:e).join((n.padRight?" ":"")+","+(!1===n.padLeft?"":" ")).trim()}const xD=/[#.]/g;function PD(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function RD(e){return e.join(" ").trim()}function ID(e,t,n){const i=n?function(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}(n):void 0;return function(n,r){let o;for(var a=arguments.length,s=new Array(a>2?a-2:0),u=2;u<a;u++)s[u-2]=arguments[u];if(null==n){o={type:"root",children:[]};const e=r;s.unshift(e)}else{o=function(e,t){const n=e||"",i={};let r,o,a=0;for(;a<n.length;){xD.lastIndex=a;const e=xD.exec(n),t=n.slice(a,e?e.index:n.length);t&&(r?"#"===r?i.id=t:Array.isArray(i.className)?i.className.push(t):i.className=[t]:o=t,a+=t.length),e&&(r=e[0],a++)}return{type:"element",tagName:o||t||"div",properties:i,children:[]}}(n,t);const a=o.tagName.toLowerCase(),u=i?i.get(a):void 0;if(o.tagName=u||a,function(e){if(null===e||"object"!=typeof e||Array.isArray(e))return!0;if("string"!=typeof e.type)return!1;const t=e,n=Object.keys(e);for(const e of n){const n=t[e];if(n&&"object"==typeof n){if(!Array.isArray(n))return!0;const e=n;for(const t of e)if("number"!=typeof t&&"string"!=typeof t)return!0}}return!(!("children"in e)||!Array.isArray(e.children))}(r))s.unshift(r);else for(const[t,n]of Object.entries(r))QD(e,o.properties,t,n)}for(const e of s)ND(o.children,e);return"element"===o.type&&"template"===o.tagName&&(o.content={type:"root",children:o.children},o.children=[]),o}}function QD(e,t,n,i){const r=yD(e,n);let o;if(null!=i){if("number"==typeof i){if(Number.isNaN(i))return;o=i}else o="boolean"==typeof i?i:"string"==typeof i?r.spaceSeparated?PD(i):r.commaSeparated?FD(i):r.commaOrSpaceSeparated?PD(FD(i).join(" ")):BD(r,r.property,i):Array.isArray(i)?[...i]:"style"===r.property?function(e){const t=[];for(const[n,i]of Object.entries(e))t.push([n,i].join(": "));return t.join("; ")}(i):String(i);if(Array.isArray(o)){const e=[];for(const t of o)e.push(BD(r,r.property,t));o=e}"className"===r.property&&Array.isArray(t.className)&&(o=t.className.concat(o)),t[r.property]=o}}function ND(e,t){if(null!=t)if("number"==typeof t||"string"==typeof t)e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)ND(e,n);else{if("object"!=typeof t||!("type"in t))throw new Error("Expected node, nodes, or string, got `"+t+"`");"root"===t.type?ND(e,t.children):e.push(t)}}function BD(e,t,n){if("string"==typeof n){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(""===n||Yg(n)===Yg(t)))return!0}return n}const MD=ID(SD,"div"),LD=ID(_D,"g",["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"]);function $D(e,t){const n=e.indexOf("\r",t),i=e.indexOf("\n",t);return-1===i?n:-1===n||n+1===i?i:n<i?n:i}const UD={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},qD={}.hasOwnProperty,XD=Object.prototype;function zD(e,t){let n;switch(t.nodeName){case"#comment":{const i=t;return n={type:"comment",value:i.data},jD(e,i,n),n}case"#document":case"#document-fragment":{const i=t,r="mode"in i&&("quirks"===i.mode||"limited-quirks"===i.mode);if(n={type:"root",children:ZD(e,t.childNodes),data:{quirksMode:r}},e.file&&e.location){const t=String(e.file),i=function(e){const t=String(e),n=[];return{toOffset:function(e){if(e&&"number"==typeof e.line&&"number"==typeof e.column&&!Number.isNaN(e.line)&&!Number.isNaN(e.column)){for(;n.length<e.line;){const e=n[n.length-1],i=$D(t,e),r=-1===i?t.length+1:i+1;if(e===r)break;n.push(r)}const i=(e.line>1?n[e.line-2]:0)+e.column-1;if(i<n[e.line-1])return i}},toPoint:function(e){if("number"==typeof e&&e>-1&&e<=t.length){let i=0;for(;;){let r=n[i];if(void 0===r){const e=$D(t,n[i-1]);r=-1===e?t.length+1:e+1,n[i]=r}if(r>e)return{line:i+1,column:e-(i>0?n[i-1]:0)+1,offset:e};i++}}}}}(t),r=i.toPoint(0),o=i.toPoint(t.length);n.position={start:r,end:o}}return n}case"#documentType":return n={type:"doctype"},jD(e,t,n),n;case"#text":{const i=t;return n={type:"text",value:i.value},jD(e,i,n),n}default:return n=function(e,t){const n=e.schema;e.schema=t.namespaceURI===UD.svg?_D:SD;let i=-1;const r={};for(;++i<t.attrs.length;){const e=t.attrs[i],n=(e.prefix?e.prefix+":":"")+e.name;qD.call(XD,n)||(r[n]=e.value)}const o=("svg"===e.schema.space?LD:MD)(t.tagName,r,ZD(e,t.childNodes));if(jD(e,t,o),"template"===o.tagName){const n=t,i=n.sourceCodeLocation,r=i&&i.startTag&&WD(i.startTag),a=i&&i.endTag&&WD(i.endTag),s=zD(e,n.content);r&&a&&e.file&&(s.position={start:r.end,end:a.start}),o.content=s}return e.schema=n,o}(e,t),n}}function ZD(e,t){let n=-1;const i=[];for(;++n<t.length;){const r=zD(e,t[n]);i.push(r)}return i}function jD(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const i=function(e,t,n){const i=WD(n);if("element"===t.type){const r=t.children[t.children.length-1];if(i&&!n.endTag&&r&&r.position&&r.position.end&&(i.end=Object.assign({},r.position.end)),e.verbose){const i={};let r;if(n.attrs)for(r in n.attrs)qD.call(n.attrs,r)&&(i[yD(e.schema,r).property]=WD(n.attrs[r]));n.startTag;const o=WD(n.startTag),a=n.endTag?WD(n.endTag):void 0,s={opening:o};a&&(s.closing=a),s.properties=i,t.data={position:s}}}return i}(e,n,t.sourceCodeLocation);i&&(e.location=!0,n.position=i)}}function WD(e){const t=GD({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=GD({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function GD(e){return e.line&&e.column?e:void 0}const VD={}.hasOwnProperty;function YD(e,t){const n=t||{};function i(t){let n=i.invalid;const r=i.handlers;if(t&&VD.call(t,e)){const o=String(t[e]);n=VD.call(r,o)?r[o]:i.unknown}for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];if(n)return n.call(this,t,...a)}return i.handlers=n.handlers||{},i.invalid=n.invalid,i.unknown=n.unknown,i}const HD={},KD={}.hasOwnProperty,JD=YD("type",{handlers:{root:function(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=tv(e.children,n,t),nv(e,n),n},element:function(e,t){const n=t;let i=n;"element"===e.type&&"svg"===e.tagName.toLowerCase()&&"html"===n.space&&(i=_D);const r=[];let o;if(e.properties)for(o in e.properties)if("children"!==o&&KD.call(e.properties,o)){const t=ev(i,o,e.properties[o]);t&&r.push(t)}const a=i.space,s={nodeName:e.tagName,tagName:e.tagName,attrs:r,namespaceURI:UD[a],childNodes:[],parentNode:null};return s.childNodes=tv(e.children,s,i),nv(e,s),"template"===e.tagName&&e.content&&(s.content=function(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=tv(e.children,n,t),nv(e,n),n}(e.content,i)),s},text:function(e){const t={nodeName:"#text",value:e.value,parentNode:null};return nv(e,t),t},comment:function(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return nv(e,t),t},doctype:function(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return nv(e,t),t}}});function ev(e,t,n){const i=yD(e,t);if(!1===n||null==n||"number"==typeof n&&Number.isNaN(n)||!n&&i.boolean)return;Array.isArray(n)&&(n=i.commaSeparated?wD(n):RD(n));const r={name:i.attribute,value:!0===n?"":String(n)};if(i.space&&"html"!==i.space&&"svg"!==i.space){const e=r.name.indexOf(":");e<0?r.prefix="":(r.name=r.name.slice(e+1),r.prefix=i.attribute.slice(0,e)),r.namespace=UD[i.space]}return r}function tv(e,t,n){let i=-1;const r=[];if(e)for(;++i<e.length;){const o=JD(e[i],n);o.parentNode=t,r.push(o)}return r}function nv(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const iv=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],rv=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),ov="";var av;!function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"}(av||(av={}));const sv="[CDATA[",uv="doctype",cv="script";function lv(e){return e>=55296&&e<=57343}function dv(e){return 32!==e&&10!==e&&13!==e&&9!==e&&12!==e&&e>=1&&e<=31||e>=127&&e<=159}function hv(e){return e>=64976&&e<=65007||rv.has(e)}var pv,fv;!function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"}(pv||(pv={}));class mv{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,t){const{line:n,col:i,offset:r}=this,o=i+t,a=r+t;return{code:e,startLine:n,endLine:n,startCol:o,endCol:o,startOffset:a,endOffset:a}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const t=this.html.charCodeAt(this.pos+1);if(function(e){return e>=56320&&e<=57343}(t))return this.pos++,this._addGap(),function(e,t){return 1024*(e-55296)+9216+t}(e,t)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,av.EOF;return this._err(pv.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,t){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=t}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,t){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(t)return this.html.startsWith(e,this.pos);for(let t=0;t<e.length;t++)if((32|this.html.charCodeAt(this.pos+t))!==e.charCodeAt(t))return!1;return!0}peek(e){const t=this.pos+e;if(t>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,av.EOF;const n=this.html.charCodeAt(t);return n===av.CARRIAGE_RETURN?av.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,av.EOF;let e=this.html.charCodeAt(this.pos);return e===av.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,av.LINE_FEED):e===av.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,lv(e)&&(e=this._processSurrogate(e)),null===this.handler.onParseError||e>31&&e<127||e===av.LINE_FEED||e===av.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){dv(e)?this._err(pv.controlCharacterInInputStream):hv(e)&&this._err(pv.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}function Ov(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}!function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"}(fv||(fv={}));const gv=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),Dv=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var vv,Ev,Cv,bv,kv,yv,Tv,Av,Sv;function _v(e){return e>=vv.ZERO&&e<=vv.NINE}function Fv(e){return e>=vv.UPPER_A&&e<=vv.UPPER_F||e>=vv.LOWER_A&&e<=vv.LOWER_F}function wv(e){return e===vv.EQUALS||function(e){return e>=vv.UPPER_A&&e<=vv.UPPER_Z||e>=vv.LOWER_A&&e<=vv.LOWER_Z||_v(e)}(e)}!function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"}(vv||(vv={})),function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"}(Ev||(Ev={})),function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"}(Cv||(Cv={})),function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"}(bv||(bv={}));class xv{constructor(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=Cv.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=bv.Strict}startEntity(e){this.decodeMode=e,this.state=Cv.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case Cv.EntityStart:return e.charCodeAt(t)===vv.NUM?(this.state=Cv.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=Cv.NamedEntity,this.stateNamedEntity(e,t));case Cv.NumericStart:return this.stateNumericStart(e,t);case Cv.NumericDecimal:return this.stateNumericDecimal(e,t);case Cv.NumericHex:return this.stateNumericHex(e,t);case Cv.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===vv.LOWER_X?(this.state=Cv.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=Cv.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,n,i){if(t!==n){const r=n-t;this.result=this.result*Math.pow(i,r)+Number.parseInt(e.substr(t,r),i),this.consumed+=r}}stateNumericHex(e,t){const n=t;for(;t<e.length;){const i=e.charCodeAt(t);if(!_v(i)&&!Fv(i))return this.addToNumericResult(e,n,t,16),this.emitNumericEntity(i,3);t+=1}return this.addToNumericResult(e,n,t,16),-1}stateNumericDecimal(e,t){const n=t;for(;t<e.length;){const i=e.charCodeAt(t);if(!_v(i))return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(i,2);t+=1}return this.addToNumericResult(e,n,t,10),-1}emitNumericEntity(e,t){var n;if(this.consumed<=t)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===vv.SEMI)this.consumed+=1;else if(this.decodeMode===bv.Strict)return 0;return this.emitCodePoint(function(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=Dv.get(e))&&void 0!==t?t:e}(this.result),this.consumed),this.errors&&(e!==vv.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:n}=this;let i=n[this.treeIndex],r=(i&Ev.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const o=e.charCodeAt(t);if(this.treeIndex=Pv(n,i,this.treeIndex+Math.max(1,r),o),this.treeIndex<0)return 0===this.result||this.decodeMode===bv.Attribute&&(0===r||wv(o))?0:this.emitNotTerminatedNamedEntity();if(i=n[this.treeIndex],r=(i&Ev.VALUE_LENGTH)>>14,0!==r){if(o===vv.SEMI)return this.emitNamedEntityData(this.treeIndex,r,this.consumed+this.excess);this.decodeMode!==bv.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:n}=this,i=(n[t]&Ev.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,i,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,n){const{decodeTree:i}=this;return this.emitCodePoint(1===t?i[e]&~Ev.VALUE_LENGTH:i[e+1],n),3===t&&this.emitCodePoint(i[e+2],n),n}end(){var e;switch(this.state){case Cv.NamedEntity:return 0===this.result||this.decodeMode===bv.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case Cv.NumericDecimal:return this.emitNumericEntity(0,2);case Cv.NumericHex:return this.emitNumericEntity(0,3);case Cv.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Cv.EntityStart:return 0}}}function Pv(e,t,n,i){const r=(t&Ev.BRANCH_LENGTH)>>7,o=t&Ev.JUMP_TABLE;if(0===r)return 0!==o&&i===o?n:-1;if(o){const t=i-o;return t<0||t>=r?-1:e[n+t]-1}let a=n,s=a+r-1;for(;a<=s;){const t=a+s>>>1,n=e[t];if(n<i)a=t+1;else{if(!(n>i))return e[t+r];s=t-1}}return-1}!function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"}(kv||(kv={})),function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"}(yv||(yv={})),function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"}(Tv||(Tv={})),function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"}(Av||(Av={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"}(Sv||(Sv={}));const Rv=new Map([[Av.A,Sv.A],[Av.ADDRESS,Sv.ADDRESS],[Av.ANNOTATION_XML,Sv.ANNOTATION_XML],[Av.APPLET,Sv.APPLET],[Av.AREA,Sv.AREA],[Av.ARTICLE,Sv.ARTICLE],[Av.ASIDE,Sv.ASIDE],[Av.B,Sv.B],[Av.BASE,Sv.BASE],[Av.BASEFONT,Sv.BASEFONT],[Av.BGSOUND,Sv.BGSOUND],[Av.BIG,Sv.BIG],[Av.BLOCKQUOTE,Sv.BLOCKQUOTE],[Av.BODY,Sv.BODY],[Av.BR,Sv.BR],[Av.BUTTON,Sv.BUTTON],[Av.CAPTION,Sv.CAPTION],[Av.CENTER,Sv.CENTER],[Av.CODE,Sv.CODE],[Av.COL,Sv.COL],[Av.COLGROUP,Sv.COLGROUP],[Av.DD,Sv.DD],[Av.DESC,Sv.DESC],[Av.DETAILS,Sv.DETAILS],[Av.DIALOG,Sv.DIALOG],[Av.DIR,Sv.DIR],[Av.DIV,Sv.DIV],[Av.DL,Sv.DL],[Av.DT,Sv.DT],[Av.EM,Sv.EM],[Av.EMBED,Sv.EMBED],[Av.FIELDSET,Sv.FIELDSET],[Av.FIGCAPTION,Sv.FIGCAPTION],[Av.FIGURE,Sv.FIGURE],[Av.FONT,Sv.FONT],[Av.FOOTER,Sv.FOOTER],[Av.FOREIGN_OBJECT,Sv.FOREIGN_OBJECT],[Av.FORM,Sv.FORM],[Av.FRAME,Sv.FRAME],[Av.FRAMESET,Sv.FRAMESET],[Av.H1,Sv.H1],[Av.H2,Sv.H2],[Av.H3,Sv.H3],[Av.H4,Sv.H4],[Av.H5,Sv.H5],[Av.H6,Sv.H6],[Av.HEAD,Sv.HEAD],[Av.HEADER,Sv.HEADER],[Av.HGROUP,Sv.HGROUP],[Av.HR,Sv.HR],[Av.HTML,Sv.HTML],[Av.I,Sv.I],[Av.IMG,Sv.IMG],[Av.IMAGE,Sv.IMAGE],[Av.INPUT,Sv.INPUT],[Av.IFRAME,Sv.IFRAME],[Av.KEYGEN,Sv.KEYGEN],[Av.LABEL,Sv.LABEL],[Av.LI,Sv.LI],[Av.LINK,Sv.LINK],[Av.LISTING,Sv.LISTING],[Av.MAIN,Sv.MAIN],[Av.MALIGNMARK,Sv.MALIGNMARK],[Av.MARQUEE,Sv.MARQUEE],[Av.MATH,Sv.MATH],[Av.MENU,Sv.MENU],[Av.META,Sv.META],[Av.MGLYPH,Sv.MGLYPH],[Av.MI,Sv.MI],[Av.MO,Sv.MO],[Av.MN,Sv.MN],[Av.MS,Sv.MS],[Av.MTEXT,Sv.MTEXT],[Av.NAV,Sv.NAV],[Av.NOBR,Sv.NOBR],[Av.NOFRAMES,Sv.NOFRAMES],[Av.NOEMBED,Sv.NOEMBED],[Av.NOSCRIPT,Sv.NOSCRIPT],[Av.OBJECT,Sv.OBJECT],[Av.OL,Sv.OL],[Av.OPTGROUP,Sv.OPTGROUP],[Av.OPTION,Sv.OPTION],[Av.P,Sv.P],[Av.PARAM,Sv.PARAM],[Av.PLAINTEXT,Sv.PLAINTEXT],[Av.PRE,Sv.PRE],[Av.RB,Sv.RB],[Av.RP,Sv.RP],[Av.RT,Sv.RT],[Av.RTC,Sv.RTC],[Av.RUBY,Sv.RUBY],[Av.S,Sv.S],[Av.SCRIPT,Sv.SCRIPT],[Av.SEARCH,Sv.SEARCH],[Av.SECTION,Sv.SECTION],[Av.SELECT,Sv.SELECT],[Av.SOURCE,Sv.SOURCE],[Av.SMALL,Sv.SMALL],[Av.SPAN,Sv.SPAN],[Av.STRIKE,Sv.STRIKE],[Av.STRONG,Sv.STRONG],[Av.STYLE,Sv.STYLE],[Av.SUB,Sv.SUB],[Av.SUMMARY,Sv.SUMMARY],[Av.SUP,Sv.SUP],[Av.TABLE,Sv.TABLE],[Av.TBODY,Sv.TBODY],[Av.TEMPLATE,Sv.TEMPLATE],[Av.TEXTAREA,Sv.TEXTAREA],[Av.TFOOT,Sv.TFOOT],[Av.TD,Sv.TD],[Av.TH,Sv.TH],[Av.THEAD,Sv.THEAD],[Av.TITLE,Sv.TITLE],[Av.TR,Sv.TR],[Av.TRACK,Sv.TRACK],[Av.TT,Sv.TT],[Av.U,Sv.U],[Av.UL,Sv.UL],[Av.SVG,Sv.SVG],[Av.VAR,Sv.VAR],[Av.WBR,Sv.WBR],[Av.XMP,Sv.XMP]]);function Iv(e){var t;return null!==(t=Rv.get(e))&&void 0!==t?t:Sv.UNKNOWN}const Qv=Sv,Nv={[kv.HTML]:new Set([Qv.ADDRESS,Qv.APPLET,Qv.AREA,Qv.ARTICLE,Qv.ASIDE,Qv.BASE,Qv.BASEFONT,Qv.BGSOUND,Qv.BLOCKQUOTE,Qv.BODY,Qv.BR,Qv.BUTTON,Qv.CAPTION,Qv.CENTER,Qv.COL,Qv.COLGROUP,Qv.DD,Qv.DETAILS,Qv.DIR,Qv.DIV,Qv.DL,Qv.DT,Qv.EMBED,Qv.FIELDSET,Qv.FIGCAPTION,Qv.FIGURE,Qv.FOOTER,Qv.FORM,Qv.FRAME,Qv.FRAMESET,Qv.H1,Qv.H2,Qv.H3,Qv.H4,Qv.H5,Qv.H6,Qv.HEAD,Qv.HEADER,Qv.HGROUP,Qv.HR,Qv.HTML,Qv.IFRAME,Qv.IMG,Qv.INPUT,Qv.LI,Qv.LINK,Qv.LISTING,Qv.MAIN,Qv.MARQUEE,Qv.MENU,Qv.META,Qv.NAV,Qv.NOEMBED,Qv.NOFRAMES,Qv.NOSCRIPT,Qv.OBJECT,Qv.OL,Qv.P,Qv.PARAM,Qv.PLAINTEXT,Qv.PRE,Qv.SCRIPT,Qv.SECTION,Qv.SELECT,Qv.SOURCE,Qv.STYLE,Qv.SUMMARY,Qv.TABLE,Qv.TBODY,Qv.TD,Qv.TEMPLATE,Qv.TEXTAREA,Qv.TFOOT,Qv.TH,Qv.THEAD,Qv.TITLE,Qv.TR,Qv.TRACK,Qv.UL,Qv.WBR,Qv.XMP]),[kv.MATHML]:new Set([Qv.MI,Qv.MO,Qv.MN,Qv.MS,Qv.MTEXT,Qv.ANNOTATION_XML]),[kv.SVG]:new Set([Qv.TITLE,Qv.FOREIGN_OBJECT,Qv.DESC]),[kv.XLINK]:new Set,[kv.XML]:new Set,[kv.XMLNS]:new Set},Bv=new Set([Qv.H1,Qv.H2,Qv.H3,Qv.H4,Qv.H5,Qv.H6]);var Mv;Av.STYLE,Av.SCRIPT,Av.XMP,Av.IFRAME,Av.NOEMBED,Av.NOFRAMES,Av.PLAINTEXT,function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"}(Mv||(Mv={}));const Lv={DATA:Mv.DATA,RCDATA:Mv.RCDATA,RAWTEXT:Mv.RAWTEXT,SCRIPT_DATA:Mv.SCRIPT_DATA,PLAINTEXT:Mv.PLAINTEXT,CDATA_SECTION:Mv.CDATA_SECTION};function $v(e){return e>=av.LATIN_CAPITAL_A&&e<=av.LATIN_CAPITAL_Z}function Uv(e){return function(e){return e>=av.LATIN_SMALL_A&&e<=av.LATIN_SMALL_Z}(e)||$v(e)}function qv(e){return Uv(e)||function(e){return e>=av.DIGIT_0&&e<=av.DIGIT_9}(e)}function Xv(e){return e+32}function zv(e){return e===av.SPACE||e===av.LINE_FEED||e===av.TABULATION||e===av.FORM_FEED}function Zv(e){return zv(e)||e===av.SOLIDUS||e===av.GREATER_THAN_SIGN}class jv{constructor(e,t){this.options=e,this.handler=t,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=Mv.DATA,this.returnState=Mv.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new mv(t),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new xv(gv,(e,t)=>{this.preprocessor.pos=this.entityStartPos+t-1,this._flushCodePointConsumedAsCharacterReference(e)},t.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(pv.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:e=>{this._err(pv.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+e)},validateNumericCharacterReference:e=>{const t=function(e){return e===av.NULL?pv.nullCharacterReference:e>1114111?pv.characterReferenceOutsideUnicodeRange:lv(e)?pv.surrogateCharacterReference:hv(e)?pv.noncharacterCharacterReference:dv(e)||e===av.CARRIAGE_RETURN?pv.controlCharacterReference:null}(e);t&&this._err(t,1)}}:void 0)}_err(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;var n,i;null===(i=(n=this.handler).onParseError)||void 0===i||i.call(n,this.preprocessor.getError(e,t))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||null==e||e())}write(e,t,n){this.active=!0,this.preprocessor.write(e,t),this._runParsingLoop(),this.paused||null==n||n()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0)}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let t=0;t<e;t++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,t){return!!this.preprocessor.startsWith(e,t)&&(this._advanceBy(e.length-1),!0)}_createStartTagToken(){this.currentToken={type:fv.START_TAG,tagName:"",tagID:Sv.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:fv.END_TAG,tagName:"",tagID:Sv.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:fv.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:fv.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,t){this.currentCharacterToken={type:e,chars:t,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,t;const n=this.currentToken;null===Ov(n,this.currentAttr.name)?(n.attrs.push(this.currentAttr),n.location&&this.currentLocation&&((null!==(e=(t=n.location).attrs)&&void 0!==e?e:t.attrs=Object.create(null))[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue())):this._err(pv.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=Iv(e.tagName),e.type===fv.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(pv.endTagWithAttributes),e.selfClosing&&this._err(pv.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case fv.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case fv.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case fv.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:fv.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,t){if(this.currentCharacterToken){if(this.currentCharacterToken.type===e)return void(this.currentCharacterToken.chars+=t);this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk()}this._createCharacterToken(e,t)}_emitCodePoint(e){const t=zv(e)?fv.WHITESPACE_CHARACTER:e===av.NULL?fv.NULL_CHARACTER:fv.CHARACTER;this._appendCharToCurrentCharacterToken(t,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(fv.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=Mv.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?bv.Attribute:bv.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===Mv.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===Mv.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===Mv.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case Mv.DATA:this._stateData(e);break;case Mv.RCDATA:this._stateRcdata(e);break;case Mv.RAWTEXT:this._stateRawtext(e);break;case Mv.SCRIPT_DATA:this._stateScriptData(e);break;case Mv.PLAINTEXT:this._statePlaintext(e);break;case Mv.TAG_OPEN:this._stateTagOpen(e);break;case Mv.END_TAG_OPEN:this._stateEndTagOpen(e);break;case Mv.TAG_NAME:this._stateTagName(e);break;case Mv.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(e);break;case Mv.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(e);break;case Mv.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(e);break;case Mv.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(e);break;case Mv.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(e);break;case Mv.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(e);break;case Mv.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(e);break;case Mv.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(e);break;case Mv.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(e);break;case Mv.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(e);break;case Mv.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(e);break;case Mv.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(e);break;case Mv.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(e);break;case Mv.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(e);break;case Mv.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(e);break;case Mv.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(e);break;case Mv.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(e);break;case Mv.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(e);break;case Mv.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(e);break;case Mv.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(e);break;case Mv.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(e);break;case Mv.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(e);break;case Mv.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(e);break;case Mv.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(e);break;case Mv.ATTRIBUTE_NAME:this._stateAttributeName(e);break;case Mv.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(e);break;case Mv.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(e);break;case Mv.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(e);break;case Mv.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(e);break;case Mv.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(e);break;case Mv.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(e);break;case Mv.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(e);break;case Mv.BOGUS_COMMENT:this._stateBogusComment(e);break;case Mv.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(e);break;case Mv.COMMENT_START:this._stateCommentStart(e);break;case Mv.COMMENT_START_DASH:this._stateCommentStartDash(e);break;case Mv.COMMENT:this._stateComment(e);break;case Mv.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(e);break;case Mv.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(e);break;case Mv.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(e);break;case Mv.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(e);break;case Mv.COMMENT_END_DASH:this._stateCommentEndDash(e);break;case Mv.COMMENT_END:this._stateCommentEnd(e);break;case Mv.COMMENT_END_BANG:this._stateCommentEndBang(e);break;case Mv.DOCTYPE:this._stateDoctype(e);break;case Mv.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(e);break;case Mv.DOCTYPE_NAME:this._stateDoctypeName(e);break;case Mv.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(e);break;case Mv.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(e);break;case Mv.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(e);break;case Mv.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(e);break;case Mv.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(e);break;case Mv.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(e);break;case Mv.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break;case Mv.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(e);break;case Mv.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(e);break;case Mv.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(e);break;case Mv.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(e);break;case Mv.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(e);break;case Mv.BOGUS_DOCTYPE:this._stateBogusDoctype(e);break;case Mv.CDATA_SECTION:this._stateCdataSection(e);break;case Mv.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(e);break;case Mv.CDATA_SECTION_END:this._stateCdataSectionEnd(e);break;case Mv.CHARACTER_REFERENCE:this._stateCharacterReference();break;case Mv.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(e);break;default:throw new Error("Unknown state")}}_stateData(e){switch(e){case av.LESS_THAN_SIGN:this.state=Mv.TAG_OPEN;break;case av.AMPERSAND:this._startCharacterReference();break;case av.NULL:this._err(pv.unexpectedNullCharacter),this._emitCodePoint(e);break;case av.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case av.AMPERSAND:this._startCharacterReference();break;case av.LESS_THAN_SIGN:this.state=Mv.RCDATA_LESS_THAN_SIGN;break;case av.NULL:this._err(pv.unexpectedNullCharacter),this._emitChars(ov);break;case av.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case av.LESS_THAN_SIGN:this.state=Mv.RAWTEXT_LESS_THAN_SIGN;break;case av.NULL:this._err(pv.unexpectedNullCharacter),this._emitChars(ov);break;case av.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case av.LESS_THAN_SIGN:this.state=Mv.SCRIPT_DATA_LESS_THAN_SIGN;break;case av.NULL:this._err(pv.unexpectedNullCharacter),this._emitChars(ov);break;case av.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case av.NULL:this._err(pv.unexpectedNullCharacter),this._emitChars(ov);break;case av.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateTagOpen(e){if(Uv(e))this._createStartTagToken(),this.state=Mv.TAG_NAME,this._stateTagName(e);else switch(e){case av.EXCLAMATION_MARK:this.state=Mv.MARKUP_DECLARATION_OPEN;break;case av.SOLIDUS:this.state=Mv.END_TAG_OPEN;break;case av.QUESTION_MARK:this._err(pv.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=Mv.BOGUS_COMMENT,this._stateBogusComment(e);break;case av.EOF:this._err(pv.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(pv.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=Mv.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(Uv(e))this._createEndTagToken(),this.state=Mv.TAG_NAME,this._stateTagName(e);else switch(e){case av.GREATER_THAN_SIGN:this._err(pv.missingEndTagName),this.state=Mv.DATA;break;case av.EOF:this._err(pv.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(pv.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=Mv.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const t=this.currentToken;switch(e){case av.SPACE:case av.LINE_FEED:case av.TABULATION:case av.FORM_FEED:this.state=Mv.BEFORE_ATTRIBUTE_NAME;break;case av.SOLIDUS:this.state=Mv.SELF_CLOSING_START_TAG;break;case av.GREATER_THAN_SIGN:this.state=Mv.DATA,this.emitCurrentTagToken();break;case av.NULL:this._err(pv.unexpectedNullCharacter),t.tagName+=ov;break;case av.EOF:this._err(pv.eofInTag),this._emitEOFToken();break;default:t.tagName+=String.fromCodePoint($v(e)?Xv(e):e)}}_stateRcdataLessThanSign(e){e===av.SOLIDUS?this.state=Mv.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=Mv.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){Uv(e)?(this.state=Mv.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=Mv.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();switch(this._createEndTagToken(),this.currentToken.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case av.SPACE:case av.LINE_FEED:case av.TABULATION:case av.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=Mv.BEFORE_ATTRIBUTE_NAME,!1;case av.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=Mv.SELF_CLOSING_START_TAG,!1;case av.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=Mv.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Mv.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===av.SOLIDUS?this.state=Mv.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=Mv.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){Uv(e)?(this.state=Mv.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=Mv.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Mv.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case av.SOLIDUS:this.state=Mv.SCRIPT_DATA_END_TAG_OPEN;break;case av.EXCLAMATION_MARK:this.state=Mv.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=Mv.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){Uv(e)?(this.state=Mv.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=Mv.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Mv.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===av.HYPHEN_MINUS?(this.state=Mv.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=Mv.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===av.HYPHEN_MINUS?(this.state=Mv.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=Mv.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case av.HYPHEN_MINUS:this.state=Mv.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case av.LESS_THAN_SIGN:this.state=Mv.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case av.NULL:this._err(pv.unexpectedNullCharacter),this._emitChars(ov);break;case av.EOF:this._err(pv.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case av.HYPHEN_MINUS:this.state=Mv.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case av.LESS_THAN_SIGN:this.state=Mv.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case av.NULL:this._err(pv.unexpectedNullCharacter),this.state=Mv.SCRIPT_DATA_ESCAPED,this._emitChars(ov);break;case av.EOF:this._err(pv.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=Mv.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case av.HYPHEN_MINUS:this._emitChars("-");break;case av.LESS_THAN_SIGN:this.state=Mv.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case av.GREATER_THAN_SIGN:this.state=Mv.SCRIPT_DATA,this._emitChars(">");break;case av.NULL:this._err(pv.unexpectedNullCharacter),this.state=Mv.SCRIPT_DATA_ESCAPED,this._emitChars(ov);break;case av.EOF:this._err(pv.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=Mv.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===av.SOLIDUS?this.state=Mv.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Uv(e)?(this._emitChars("<"),this.state=Mv.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=Mv.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){Uv(e)?(this.state=Mv.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=Mv.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Mv.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(cv,!1)&&Zv(this.preprocessor.peek(6))){this._emitCodePoint(e);for(let e=0;e<6;e++)this._emitCodePoint(this._consume());this.state=Mv.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=Mv.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case av.HYPHEN_MINUS:this.state=Mv.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case av.LESS_THAN_SIGN:this.state=Mv.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case av.NULL:this._err(pv.unexpectedNullCharacter),this._emitChars(ov);break;case av.EOF:this._err(pv.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case av.HYPHEN_MINUS:this.state=Mv.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case av.LESS_THAN_SIGN:this.state=Mv.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case av.NULL:this._err(pv.unexpectedNullCharacter),this.state=Mv.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(ov);break;case av.EOF:this._err(pv.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=Mv.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case av.HYPHEN_MINUS:this._emitChars("-");break;case av.LESS_THAN_SIGN:this.state=Mv.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case av.GREATER_THAN_SIGN:this.state=Mv.SCRIPT_DATA,this._emitChars(">");break;case av.NULL:this._err(pv.unexpectedNullCharacter),this.state=Mv.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(ov);break;case av.EOF:this._err(pv.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=Mv.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===av.SOLIDUS?(this.state=Mv.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=Mv.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(cv,!1)&&Zv(this.preprocessor.peek(6))){this._emitCodePoint(e);for(let e=0;e<6;e++)this._emitCodePoint(this._consume());this.state=Mv.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=Mv.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case av.SPACE:case av.LINE_FEED:case av.TABULATION:case av.FORM_FEED:break;case av.SOLIDUS:case av.GREATER_THAN_SIGN:case av.EOF:this.state=Mv.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case av.EQUALS_SIGN:this._err(pv.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=Mv.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=Mv.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case av.SPACE:case av.LINE_FEED:case av.TABULATION:case av.FORM_FEED:case av.SOLIDUS:case av.GREATER_THAN_SIGN:case av.EOF:this._leaveAttrName(),this.state=Mv.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case av.EQUALS_SIGN:this._leaveAttrName(),this.state=Mv.BEFORE_ATTRIBUTE_VALUE;break;case av.QUOTATION_MARK:case av.APOSTROPHE:case av.LESS_THAN_SIGN:this._err(pv.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break;case av.NULL:this._err(pv.unexpectedNullCharacter),this.currentAttr.name+=ov;break;default:this.currentAttr.name+=String.fromCodePoint($v(e)?Xv(e):e)}}_stateAfterAttributeName(e){switch(e){case av.SPACE:case av.LINE_FEED:case av.TABULATION:case av.FORM_FEED:break;case av.SOLIDUS:this.state=Mv.SELF_CLOSING_START_TAG;break;case av.EQUALS_SIGN:this.state=Mv.BEFORE_ATTRIBUTE_VALUE;break;case av.GREATER_THAN_SIGN:this.state=Mv.DATA,this.emitCurrentTagToken();break;case av.EOF:this._err(pv.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=Mv.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case av.SPACE:case av.LINE_FEED:case av.TABULATION:case av.FORM_FEED:break;case av.QUOTATION_MARK:this.state=Mv.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case av.APOSTROPHE:this.state=Mv.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case av.GREATER_THAN_SIGN:this._err(pv.missingAttributeValue),this.state=Mv.DATA,this.emitCurrentTagToken();break;default:this.state=Mv.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case av.QUOTATION_MARK:this.state=Mv.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case av.AMPERSAND:this._startCharacterReference();break;case av.NULL:this._err(pv.unexpectedNullCharacter),this.currentAttr.value+=ov;break;case av.EOF:this._err(pv.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case av.APOSTROPHE:this.state=Mv.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case av.AMPERSAND:this._startCharacterReference();break;case av.NULL:this._err(pv.unexpectedNullCharacter),this.currentAttr.value+=ov;break;case av.EOF:this._err(pv.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case av.SPACE:case av.LINE_FEED:case av.TABULATION:case av.FORM_FEED:this._leaveAttrValue(),this.state=Mv.BEFORE_ATTRIBUTE_NAME;break;case av.AMPERSAND:this._startCharacterReference();break;case av.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=Mv.DATA,this.emitCurrentTagToken();break;case av.NULL:this._err(pv.unexpectedNullCharacter),this.currentAttr.value+=ov;break;case av.QUOTATION_MARK:case av.APOSTROPHE:case av.LESS_THAN_SIGN:case av.EQUALS_SIGN:case av.GRAVE_ACCENT:this._err(pv.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break;case av.EOF:this._err(pv.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case av.SPACE:case av.LINE_FEED:case av.TABULATION:case av.FORM_FEED:this._leaveAttrValue(),this.state=Mv.BEFORE_ATTRIBUTE_NAME;break;case av.SOLIDUS:this._leaveAttrValue(),this.state=Mv.SELF_CLOSING_START_TAG;break;case av.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=Mv.DATA,this.emitCurrentTagToken();break;case av.EOF:this._err(pv.eofInTag),this._emitEOFToken();break;default:this._err(pv.missingWhitespaceBetweenAttributes),this.state=Mv.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case av.GREATER_THAN_SIGN:this.currentToken.selfClosing=!0,this.state=Mv.DATA,this.emitCurrentTagToken();break;case av.EOF:this._err(pv.eofInTag),this._emitEOFToken();break;default:this._err(pv.unexpectedSolidusInTag),this.state=Mv.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const t=this.currentToken;switch(e){case av.GREATER_THAN_SIGN:this.state=Mv.DATA,this.emitCurrentComment(t);break;case av.EOF:this.emitCurrentComment(t),this._emitEOFToken();break;case av.NULL:this._err(pv.unexpectedNullCharacter),t.data+=ov;break;default:t.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch("--",!0)?(this._createCommentToken(3),this.state=Mv.COMMENT_START):this._consumeSequenceIfMatch(uv,!1)?(this.currentLocation=this.getCurrentLocation(8),this.state=Mv.DOCTYPE):this._consumeSequenceIfMatch(sv,!0)?this.inForeignNode?this.state=Mv.CDATA_SECTION:(this._err(pv.cdataInHtmlContent),this._createCommentToken(8),this.currentToken.data="[CDATA[",this.state=Mv.BOGUS_COMMENT):this._ensureHibernation()||(this._err(pv.incorrectlyOpenedComment),this._createCommentToken(2),this.state=Mv.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case av.HYPHEN_MINUS:this.state=Mv.COMMENT_START_DASH;break;case av.GREATER_THAN_SIGN:{this._err(pv.abruptClosingOfEmptyComment),this.state=Mv.DATA;const e=this.currentToken;this.emitCurrentComment(e);break}default:this.state=Mv.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const t=this.currentToken;switch(e){case av.HYPHEN_MINUS:this.state=Mv.COMMENT_END;break;case av.GREATER_THAN_SIGN:this._err(pv.abruptClosingOfEmptyComment),this.state=Mv.DATA,this.emitCurrentComment(t);break;case av.EOF:this._err(pv.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=Mv.COMMENT,this._stateComment(e)}}_stateComment(e){const t=this.currentToken;switch(e){case av.HYPHEN_MINUS:this.state=Mv.COMMENT_END_DASH;break;case av.LESS_THAN_SIGN:t.data+="<",this.state=Mv.COMMENT_LESS_THAN_SIGN;break;case av.NULL:this._err(pv.unexpectedNullCharacter),t.data+=ov;break;case av.EOF:this._err(pv.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const t=this.currentToken;switch(e){case av.EXCLAMATION_MARK:t.data+="!",this.state=Mv.COMMENT_LESS_THAN_SIGN_BANG;break;case av.LESS_THAN_SIGN:t.data+="<";break;default:this.state=Mv.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===av.HYPHEN_MINUS?this.state=Mv.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=Mv.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===av.HYPHEN_MINUS?this.state=Mv.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=Mv.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==av.GREATER_THAN_SIGN&&e!==av.EOF&&this._err(pv.nestedComment),this.state=Mv.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const t=this.currentToken;switch(e){case av.HYPHEN_MINUS:this.state=Mv.COMMENT_END;break;case av.EOF:this._err(pv.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=Mv.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const t=this.currentToken;switch(e){case av.GREATER_THAN_SIGN:this.state=Mv.DATA,this.emitCurrentComment(t);break;case av.EXCLAMATION_MARK:this.state=Mv.COMMENT_END_BANG;break;case av.HYPHEN_MINUS:t.data+="-";break;case av.EOF:this._err(pv.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--",this.state=Mv.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const t=this.currentToken;switch(e){case av.HYPHEN_MINUS:t.data+="--!",this.state=Mv.COMMENT_END_DASH;break;case av.GREATER_THAN_SIGN:this._err(pv.incorrectlyClosedComment),this.state=Mv.DATA,this.emitCurrentComment(t);break;case av.EOF:this._err(pv.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--!",this.state=Mv.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case av.SPACE:case av.LINE_FEED:case av.TABULATION:case av.FORM_FEED:this.state=Mv.BEFORE_DOCTYPE_NAME;break;case av.GREATER_THAN_SIGN:this.state=Mv.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break;case av.EOF:{this._err(pv.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._err(pv.missingWhitespaceBeforeDoctypeName),this.state=Mv.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if($v(e))this._createDoctypeToken(String.fromCharCode(Xv(e))),this.state=Mv.DOCTYPE_NAME;else switch(e){case av.SPACE:case av.LINE_FEED:case av.TABULATION:case av.FORM_FEED:break;case av.NULL:this._err(pv.unexpectedNullCharacter),this._createDoctypeToken(ov),this.state=Mv.DOCTYPE_NAME;break;case av.GREATER_THAN_SIGN:{this._err(pv.missingDoctypeName),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=Mv.DATA;break}case av.EOF:{this._err(pv.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=Mv.DOCTYPE_NAME}}_stateDoctypeName(e){const t=this.currentToken;switch(e){case av.SPACE:case av.LINE_FEED:case av.TABULATION:case av.FORM_FEED:this.state=Mv.AFTER_DOCTYPE_NAME;break;case av.GREATER_THAN_SIGN:this.state=Mv.DATA,this.emitCurrentDoctype(t);break;case av.NULL:this._err(pv.unexpectedNullCharacter),t.name+=ov;break;case av.EOF:this._err(pv.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.name+=String.fromCodePoint($v(e)?Xv(e):e)}}_stateAfterDoctypeName(e){const t=this.currentToken;switch(e){case av.SPACE:case av.LINE_FEED:case av.TABULATION:case av.FORM_FEED:break;case av.GREATER_THAN_SIGN:this.state=Mv.DATA,this.emitCurrentDoctype(t);break;case av.EOF:this._err(pv.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._consumeSequenceIfMatch("public",!1)?this.state=Mv.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch("system",!1)?this.state=Mv.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(pv.invalidCharacterSequenceAfterDoctypeName),t.forceQuirks=!0,this.state=Mv.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const t=this.currentToken;switch(e){case av.SPACE:case av.LINE_FEED:case av.TABULATION:case av.FORM_FEED:this.state=Mv.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case av.QUOTATION_MARK:this._err(pv.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=Mv.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case av.APOSTROPHE:this._err(pv.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=Mv.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case av.GREATER_THAN_SIGN:this._err(pv.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=Mv.DATA,this.emitCurrentDoctype(t);break;case av.EOF:this._err(pv.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(pv.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=Mv.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case av.SPACE:case av.LINE_FEED:case av.TABULATION:case av.FORM_FEED:break;case av.QUOTATION_MARK:t.publicId="",this.state=Mv.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case av.APOSTROPHE:t.publicId="",this.state=Mv.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case av.GREATER_THAN_SIGN:this._err(pv.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=Mv.DATA,this.emitCurrentDoctype(t);break;case av.EOF:this._err(pv.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(pv.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=Mv.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case av.QUOTATION_MARK:this.state=Mv.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case av.NULL:this._err(pv.unexpectedNullCharacter),t.publicId+=ov;break;case av.GREATER_THAN_SIGN:this._err(pv.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=Mv.DATA;break;case av.EOF:this._err(pv.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case av.APOSTROPHE:this.state=Mv.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case av.NULL:this._err(pv.unexpectedNullCharacter),t.publicId+=ov;break;case av.GREATER_THAN_SIGN:this._err(pv.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=Mv.DATA;break;case av.EOF:this._err(pv.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case av.SPACE:case av.LINE_FEED:case av.TABULATION:case av.FORM_FEED:this.state=Mv.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case av.GREATER_THAN_SIGN:this.state=Mv.DATA,this.emitCurrentDoctype(t);break;case av.QUOTATION_MARK:this._err(pv.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=Mv.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case av.APOSTROPHE:this._err(pv.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=Mv.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case av.EOF:this._err(pv.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(pv.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Mv.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const t=this.currentToken;switch(e){case av.SPACE:case av.LINE_FEED:case av.TABULATION:case av.FORM_FEED:break;case av.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=Mv.DATA;break;case av.QUOTATION_MARK:t.systemId="",this.state=Mv.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case av.APOSTROPHE:t.systemId="",this.state=Mv.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case av.EOF:this._err(pv.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(pv.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Mv.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const t=this.currentToken;switch(e){case av.SPACE:case av.LINE_FEED:case av.TABULATION:case av.FORM_FEED:this.state=Mv.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case av.QUOTATION_MARK:this._err(pv.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=Mv.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case av.APOSTROPHE:this._err(pv.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=Mv.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case av.GREATER_THAN_SIGN:this._err(pv.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Mv.DATA,this.emitCurrentDoctype(t);break;case av.EOF:this._err(pv.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(pv.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Mv.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case av.SPACE:case av.LINE_FEED:case av.TABULATION:case av.FORM_FEED:break;case av.QUOTATION_MARK:t.systemId="",this.state=Mv.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case av.APOSTROPHE:t.systemId="",this.state=Mv.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case av.GREATER_THAN_SIGN:this._err(pv.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Mv.DATA,this.emitCurrentDoctype(t);break;case av.EOF:this._err(pv.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(pv.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Mv.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case av.QUOTATION_MARK:this.state=Mv.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case av.NULL:this._err(pv.unexpectedNullCharacter),t.systemId+=ov;break;case av.GREATER_THAN_SIGN:this._err(pv.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=Mv.DATA;break;case av.EOF:this._err(pv.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case av.APOSTROPHE:this.state=Mv.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case av.NULL:this._err(pv.unexpectedNullCharacter),t.systemId+=ov;break;case av.GREATER_THAN_SIGN:this._err(pv.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=Mv.DATA;break;case av.EOF:this._err(pv.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case av.SPACE:case av.LINE_FEED:case av.TABULATION:case av.FORM_FEED:break;case av.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=Mv.DATA;break;case av.EOF:this._err(pv.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(pv.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=Mv.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const t=this.currentToken;switch(e){case av.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=Mv.DATA;break;case av.NULL:this._err(pv.unexpectedNullCharacter);break;case av.EOF:this.emitCurrentDoctype(t),this._emitEOFToken()}}_stateCdataSection(e){switch(e){case av.RIGHT_SQUARE_BRACKET:this.state=Mv.CDATA_SECTION_BRACKET;break;case av.EOF:this._err(pv.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===av.RIGHT_SQUARE_BRACKET?this.state=Mv.CDATA_SECTION_END:(this._emitChars("]"),this.state=Mv.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case av.GREATER_THAN_SIGN:this.state=Mv.DATA;break;case av.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=Mv.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0){if(!this.preprocessor.lastChunkWritten)return this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,void(this.preprocessor.endOfChunkHit=!0);e=this.entityDecoder.end()}0===e?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(av.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&qv(this.preprocessor.peek(1))?Mv.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){qv(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===av.SEMICOLON&&this._err(pv.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const Wv=new Set([Sv.DD,Sv.DT,Sv.LI,Sv.OPTGROUP,Sv.OPTION,Sv.P,Sv.RB,Sv.RP,Sv.RT,Sv.RTC]),Gv=new Set([...Wv,Sv.CAPTION,Sv.COLGROUP,Sv.TBODY,Sv.TD,Sv.TFOOT,Sv.TH,Sv.THEAD,Sv.TR]),Vv=new Set([Sv.APPLET,Sv.CAPTION,Sv.HTML,Sv.MARQUEE,Sv.OBJECT,Sv.TABLE,Sv.TD,Sv.TEMPLATE,Sv.TH]),Yv=new Set([...Vv,Sv.OL,Sv.UL]),Hv=new Set([...Vv,Sv.BUTTON]),Kv=new Set([Sv.ANNOTATION_XML,Sv.MI,Sv.MN,Sv.MO,Sv.MS,Sv.MTEXT]),Jv=new Set([Sv.DESC,Sv.FOREIGN_OBJECT,Sv.TITLE]),eE=new Set([Sv.TR,Sv.TEMPLATE,Sv.HTML]),tE=new Set([Sv.TBODY,Sv.TFOOT,Sv.THEAD,Sv.TEMPLATE,Sv.HTML]),nE=new Set([Sv.TABLE,Sv.TEMPLATE,Sv.HTML]),iE=new Set([Sv.TD,Sv.TH]);class rE{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,t,n){this.treeAdapter=t,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=Sv.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===Sv.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===kv.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,t){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=t,this.currentTagId=t,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,t,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,t){const n=this._indexOf(e);this.items[n]=t,n===this.stackTop&&(this.current=t)}insertAfter(e,t,n){const i=this._indexOf(e)+1;this.items.splice(i,0,t),this.tagIDs.splice(i,0,n),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&void 0!==this.currentTagId&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(e){let t=this.stackTop+1;do{t=this.tagIDs.lastIndexOf(e,t-1)}while(t>0&&this.treeAdapter.getNamespaceURI(this.items[t])!==kv.HTML);this.shortenToLength(Math.max(t,0))}shortenToLength(e){for(;this.stackTop>=e;){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,this.stackTop<e)}}popUntilElementPopped(e){const t=this._indexOf(e);this.shortenToLength(Math.max(t,0))}popUntilPopped(e,t){const n=this._indexOfTagNames(e,t);this.shortenToLength(Math.max(n,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(Bv,kv.HTML)}popUntilTableCellPopped(){this.popUntilPopped(iE,kv.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,t){for(let n=this.stackTop;n>=0;n--)if(e.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===t)return n;return-1}clearBackTo(e,t){const n=this._indexOfTagNames(e,t);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(nE,kv.HTML)}clearBackToTableBodyContext(){this.clearBackTo(tE,kv.HTML)}clearBackToTableRowContext(){this.clearBackTo(eE,kv.HTML)}remove(e){const t=this._indexOf(e);t>=0&&(t===this.stackTop?this.pop():(this.items.splice(t,1),this.tagIDs.splice(t,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===Sv.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const t=this._indexOf(e)-1;return t>=0?this.items[t]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===Sv.HTML}hasInDynamicScope(e,t){for(let n=this.stackTop;n>=0;n--){const i=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case kv.HTML:if(i===e)return!0;if(t.has(i))return!1;break;case kv.SVG:if(Jv.has(i))return!1;break;case kv.MATHML:if(Kv.has(i))return!1}}return!0}hasInScope(e){return this.hasInDynamicScope(e,Vv)}hasInListItemScope(e){return this.hasInDynamicScope(e,Yv)}hasInButtonScope(e){return this.hasInDynamicScope(e,Hv)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const t=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case kv.HTML:if(Bv.has(t))return!0;if(Vv.has(t))return!1;break;case kv.SVG:if(Jv.has(t))return!1;break;case kv.MATHML:if(Kv.has(t))return!1}}return!0}hasInTableScope(e){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===kv.HTML)switch(this.tagIDs[t]){case e:return!0;case Sv.TABLE:case Sv.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===kv.HTML)switch(this.tagIDs[e]){case Sv.TBODY:case Sv.THEAD:case Sv.TFOOT:return!0;case Sv.TABLE:case Sv.HTML:return!1}return!0}hasInSelectScope(e){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===kv.HTML)switch(this.tagIDs[t]){case e:return!0;case Sv.OPTION:case Sv.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;void 0!==this.currentTagId&&Wv.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;void 0!==this.currentTagId&&Gv.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;void 0!==this.currentTagId&&this.currentTagId!==e&&Gv.has(this.currentTagId);)this.pop()}}var oE;!function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"}(oE||(oE={}));const aE={type:oE.Marker};class sE{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,t){const n=[],i=t.length,r=this.treeAdapter.getTagName(e),o=this.treeAdapter.getNamespaceURI(e);for(let e=0;e<this.entries.length;e++){const t=this.entries[e];if(t.type===oE.Marker)break;const{element:a}=t;if(this.treeAdapter.getTagName(a)===r&&this.treeAdapter.getNamespaceURI(a)===o){const t=this.treeAdapter.getAttrList(a);t.length===i&&n.push({idx:e,attrs:t})}}return n}_ensureNoahArkCondition(e){if(this.entries.length<3)return;const t=this.treeAdapter.getAttrList(e),n=this._getNoahArkConditionCandidates(e,t);if(n.length<3)return;const i=new Map(t.map(e=>[e.name,e.value]));let r=0;for(let e=0;e<n.length;e++){const t=n[e];t.attrs.every(e=>i.get(e.name)===e.value)&&(r+=1,r>=3&&this.entries.splice(t.idx,1))}}insertMarker(){this.entries.unshift(aE)}pushElement(e,t){this._ensureNoahArkCondition(e),this.entries.unshift({type:oE.Element,element:e,token:t})}insertElementAfterBookmark(e,t){const n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:oE.Element,element:e,token:t})}removeEntry(e){const t=this.entries.indexOf(e);-1!==t&&this.entries.splice(t,1)}clearToLastMarker(){const e=this.entries.indexOf(aE);-1===e?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const t=this.entries.find(t=>t.type===oE.Marker||this.treeAdapter.getTagName(t.element)===e);return t&&t.type===oE.Element?t:null}getElementEntry(e){return this.entries.find(t=>t.type===oE.Element&&t.element===e)}}const uE={createDocument:()=>({nodeName:"#document",mode:Tv.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(e,t,n)=>({nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}),createCommentNode:e=>({nodeName:"#comment",data:e,parentNode:null}),createTextNode:e=>({nodeName:"#text",value:e,parentNode:null}),appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const i=e.childNodes.indexOf(n);e.childNodes.splice(i,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent:e=>e.content,setDocumentType(e,t,n,i){const r=e.childNodes.find(e=>"#documentType"===e.nodeName);if(r)r.name=t,r.publicId=n,r.systemId=i;else{const r={nodeName:"#documentType",name:t,publicId:n,systemId:i,parentNode:null};uE.appendChild(e,r)}},setDocumentMode(e,t){e.mode=t},getDocumentMode:e=>e.mode,detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(uE.isTextNode(n))return void(n.value+=t)}uE.appendChild(e,uE.createTextNode(t))},insertTextBefore(e,t,n){const i=e.childNodes[e.childNodes.indexOf(n)-1];i&&uE.isTextNode(i)?i.value+=t:uE.insertBefore(e,uE.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(e=>e.name));for(let i=0;i<t.length;i++)n.has(t[i].name)||e.attrs.push(t[i])},getFirstChild:e=>e.childNodes[0],getChildNodes:e=>e.childNodes,getParentNode:e=>e.parentNode,getAttrList:e=>e.attrs,getTagName:e=>e.tagName,getNamespaceURI:e=>e.namespaceURI,getTextNodeContent:e=>e.value,getCommentNodeContent:e=>e.data,getDocumentTypeNodeName:e=>e.name,getDocumentTypeNodePublicId:e=>e.publicId,getDocumentTypeNodeSystemId:e=>e.systemId,isTextNode:e=>"#text"===e.nodeName,isCommentNode:e=>"#comment"===e.nodeName,isDocumentTypeNode:e=>"#documentType"===e.nodeName,isElementNode:e=>Object.prototype.hasOwnProperty.call(e,"tagName"),setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation:e=>e.sourceCodeLocation,updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation=Be(Be({},e.sourceCodeLocation),t)}},cE="html",lE=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],dE=[...lE,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],hE=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),pE=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],fE=[...pE,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function mE(e,t){return t.some(t=>e.startsWith(t))}const OE=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),gE=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:kv.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:kv.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:kv.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:kv.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:kv.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:kv.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:kv.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:kv.XML}],["xml:space",{prefix:"xml",name:"space",namespace:kv.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:kv.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:kv.XMLNS}]]),DE=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),vE=new Set([Sv.B,Sv.BIG,Sv.BLOCKQUOTE,Sv.BODY,Sv.BR,Sv.CENTER,Sv.CODE,Sv.DD,Sv.DIV,Sv.DL,Sv.DT,Sv.EM,Sv.EMBED,Sv.H1,Sv.H2,Sv.H3,Sv.H4,Sv.H5,Sv.H6,Sv.HEAD,Sv.HR,Sv.I,Sv.IMG,Sv.LI,Sv.LISTING,Sv.MENU,Sv.META,Sv.NOBR,Sv.OL,Sv.P,Sv.PRE,Sv.RUBY,Sv.S,Sv.SMALL,Sv.SPAN,Sv.STRONG,Sv.STRIKE,Sv.SUB,Sv.SUP,Sv.TABLE,Sv.TT,Sv.U,Sv.UL,Sv.VAR]);function EE(e){for(let t=0;t<e.attrs.length;t++)if("definitionurl"===e.attrs[t].name){e.attrs[t].name="definitionURL";break}}function CE(e){for(let t=0;t<e.attrs.length;t++){const n=OE.get(e.attrs[t].name);null!=n&&(e.attrs[t].name=n)}}function bE(e){for(let t=0;t<e.attrs.length;t++){const n=gE.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}var kE;!function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"}(kE||(kE={}));const yE={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},TE=new Set([Sv.TABLE,Sv.TBODY,Sv.TFOOT,Sv.THEAD,Sv.TR]),AE={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:uE,onParseError:null};let SE=class{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.fragmentContext=n,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=kE.INITIAL,this.originalInsertionMode=kE.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options=Be(Be({},AE),e),this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!=t?t:this.treeAdapter.createDocument(),this.tokenizer=new jv(this.options,this),this.activeFormattingElements=new sE(this.treeAdapter),this.fragmentContextID=n?Iv(this.treeAdapter.getTagName(n)):Sv.UNKNOWN,this._setContextModes(null!=n?n:this.document,this.fragmentContextID),this.openElements=new rE(this.document,this.treeAdapter,this)}static parse(e,t){const n=new this(t);return n.tokenizer.write(e,!0),n.document}static getFragmentParser(e,t){const n=Be(Be({},AE),t);null!=e||(e=n.treeAdapter.createElement(Av.TEMPLATE,kv.HTML,[]));const i=n.treeAdapter.createElement("documentmock",kv.HTML,[]),r=new this(n,i,e);return r.fragmentContextID===Sv.TEMPLATE&&r.tmplInsertionModeStack.unshift(kE.IN_TEMPLATE),r._initTokenizerForFragmentParsing(),r._insertFakeRootElement(),r._resetInsertionMode(),r._findFormInFragmentContext(),r}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,t),t}_err(e,t,n){var i;if(!this.onParseError)return;const r=null!==(i=e.location)&&void 0!==i?i:yE,o={code:t,startLine:r.startLine,startCol:r.startCol,startOffset:r.startOffset,endLine:n?r.startLine:r.endLine,endCol:n?r.startCol:r.endCol,endOffset:n?r.startOffset:r.endOffset};this.onParseError(o)}onItemPush(e,t,n){var i,r;null===(r=(i=this.treeAdapter).onItemPush)||void 0===r||r.call(i,e),n&&this.openElements.stackTop>0&&this._setContextModes(e,t)}onItemPop(e,t){var n,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),null===(i=(n=this.treeAdapter).onItemPop)||void 0===i||i.call(n,e,this.openElements.current),t){let e,t;0===this.openElements.stackTop&&this.fragmentContext?(e=this.fragmentContext,t=this.fragmentContextID):({current:e,currentTagId:t}=this.openElements),this._setContextModes(e,t)}}_setContextModes(e,t){const n=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===kv.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&void 0!==e&&void 0!==t&&!this._isIntegrationPoint(t,e)}_switchToTextParsing(e,t){this._insertElement(e,kv.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=kE.TEXT}switchToPlaintextParsing(){this.insertionMode=kE.TEXT,this.originalInsertionMode=kE.IN_BODY,this.tokenizer.state=Lv.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===Av.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===kv.HTML)switch(this.fragmentContextID){case Sv.TITLE:case Sv.TEXTAREA:this.tokenizer.state=Lv.RCDATA;break;case Sv.STYLE:case Sv.XMP:case Sv.IFRAME:case Sv.NOEMBED:case Sv.NOFRAMES:case Sv.NOSCRIPT:this.tokenizer.state=Lv.RAWTEXT;break;case Sv.SCRIPT:this.tokenizer.state=Lv.SCRIPT_DATA;break;case Sv.PLAINTEXT:this.tokenizer.state=Lv.PLAINTEXT}}_setDocumentType(e){const t=e.name||"",n=e.publicId||"",i=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,t,n,i),e.location){const t=this.treeAdapter.getChildNodes(this.document).find(e=>this.treeAdapter.isDocumentTypeNode(e));t&&this.treeAdapter.setNodeSourceCodeLocation(t,e.location)}}_attachElementToTree(e,t){if(this.options.sourceCodeLocationInfo){const n=t&&Be(Be({},t),{},{startTag:t});this.treeAdapter.setNodeSourceCodeLocation(e,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const t=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(null!=t?t:this.document,e)}}_appendElement(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location)}_insertElement(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID)}_insertFakeElement(e,t){const n=this.treeAdapter.createElement(e,kv.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,t)}_insertTemplate(e){const t=this.treeAdapter.createElement(e.tagName,kv.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t,e.location),this.openElements.push(t,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(Av.HTML,kv.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,Sv.HTML)}_appendCommentNode(e,t){const n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,e.location)}_insertCharacters(e){let t,n;if(this._shouldFosterParentOnInsertion()?(({parent:t,beforeElement:n}=this._findFosterParentingLocation()),n?this.treeAdapter.insertTextBefore(t,e.chars,n):this.treeAdapter.insertText(t,e.chars)):(t=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(t,e.chars)),!e.location)return;const i=this.treeAdapter.getChildNodes(t),r=n?i.lastIndexOf(n):i.length,o=i[r-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:t,endCol:n,endOffset:i}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:t,endCol:n,endOffset:i})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,e.location)}_adoptNodes(e,t){for(let n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n)}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){const n=t.location,i=this.treeAdapter.getTagName(e),r=t.type===fv.END_TAG&&i===t.tagName?{endTag:Be({},n),endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,r)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let t,n;return 0===this.openElements.stackTop&&this.fragmentContext?(t=this.fragmentContext,n=this.fragmentContextID):({current:t,currentTagId:n}=this.openElements),(e.tagID!==Sv.SVG||this.treeAdapter.getTagName(t)!==Av.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(t)!==kv.MATHML)&&(this.tokenizer.inForeignNode||(e.tagID===Sv.MGLYPH||e.tagID===Sv.MALIGNMARK)&&void 0!==n&&!this._isIntegrationPoint(n,t,kv.HTML))}_processToken(e){switch(e.type){case fv.CHARACTER:this.onCharacter(e);break;case fv.NULL_CHARACTER:this.onNullCharacter(e);break;case fv.COMMENT:this.onComment(e);break;case fv.DOCTYPE:this.onDoctype(e);break;case fv.START_TAG:this._processStartTag(e);break;case fv.END_TAG:this.onEndTag(e);break;case fv.EOF:this.onEof(e);break;case fv.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(e)}}_isIntegrationPoint(e,t,n){return function(e,t,n,i){return(!i||i===kv.HTML)&&function(e,t,n){if(t===kv.MATHML&&e===Sv.ANNOTATION_XML)for(let e=0;e<n.length;e++)if(n[e].name===yv.ENCODING){const t=n[e].value.toLowerCase();return"text/html"===t||"application/xhtml+xml"===t}return t===kv.SVG&&(e===Sv.FOREIGN_OBJECT||e===Sv.DESC||e===Sv.TITLE)}(e,t,n)||(!i||i===kv.MATHML)&&function(e,t){return t===kv.MATHML&&(e===Sv.MI||e===Sv.MO||e===Sv.MN||e===Sv.MS||e===Sv.MTEXT)}(e,t)}(e,this.treeAdapter.getNamespaceURI(t),this.treeAdapter.getAttrList(t),n)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const t=this.activeFormattingElements.entries.findIndex(e=>e.type===oE.Marker||this.openElements.contains(e.element));for(let n=-1===t?e-1:t-1;n>=0;n--){const e=this.activeFormattingElements.entries[n];this._insertElement(e.token,this.treeAdapter.getNamespaceURI(e.element)),e.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=kE.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(Sv.P),this.openElements.popUntilTagNamePopped(Sv.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(0===e&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case Sv.TR:return void(this.insertionMode=kE.IN_ROW);case Sv.TBODY:case Sv.THEAD:case Sv.TFOOT:return void(this.insertionMode=kE.IN_TABLE_BODY);case Sv.CAPTION:return void(this.insertionMode=kE.IN_CAPTION);case Sv.COLGROUP:return void(this.insertionMode=kE.IN_COLUMN_GROUP);case Sv.TABLE:return void(this.insertionMode=kE.IN_TABLE);case Sv.BODY:return void(this.insertionMode=kE.IN_BODY);case Sv.FRAMESET:return void(this.insertionMode=kE.IN_FRAMESET);case Sv.SELECT:return void this._resetInsertionModeForSelect(e);case Sv.TEMPLATE:return void(this.insertionMode=this.tmplInsertionModeStack[0]);case Sv.HTML:return void(this.insertionMode=this.headElement?kE.AFTER_HEAD:kE.BEFORE_HEAD);case Sv.TD:case Sv.TH:if(e>0)return void(this.insertionMode=kE.IN_CELL);break;case Sv.HEAD:if(e>0)return void(this.insertionMode=kE.IN_HEAD)}this.insertionMode=kE.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){const e=this.openElements.tagIDs[t];if(e===Sv.TEMPLATE)break;if(e===Sv.TABLE)return void(this.insertionMode=kE.IN_SELECT_IN_TABLE)}this.insertionMode=kE.IN_SELECT}_isElementCausesFosterParenting(e){return TE.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&void 0!==this.openElements.currentTagId&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const t=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case Sv.TEMPLATE:if(this.treeAdapter.getNamespaceURI(t)===kv.HTML)return{parent:this.treeAdapter.getTemplateContent(t),beforeElement:null};break;case Sv.TABLE:{const n=this.treeAdapter.getParentNode(t);return n?{parent:n,beforeElement:t}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)}_isSpecialElement(e,t){const n=this.treeAdapter.getNamespaceURI(e);return Nv[n].has(t)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){e._insertCharacters(t),e.framesetOk=!1}(this,e);else switch(this.insertionMode){case kE.INITIAL:BE(this,e);break;case kE.BEFORE_HTML:ME(this,e);break;case kE.BEFORE_HEAD:LE(this,e);break;case kE.IN_HEAD:qE(this,e);break;case kE.IN_HEAD_NO_SCRIPT:XE(this,e);break;case kE.AFTER_HEAD:zE(this,e);break;case kE.IN_BODY:case kE.IN_CAPTION:case kE.IN_CELL:case kE.IN_TEMPLATE:WE(this,e);break;case kE.TEXT:case kE.IN_SELECT:case kE.IN_SELECT_IN_TABLE:this._insertCharacters(e);break;case kE.IN_TABLE:case kE.IN_TABLE_BODY:case kE.IN_ROW:nC(this,e);break;case kE.IN_TABLE_TEXT:sC(this,e);break;case kE.IN_COLUMN_GROUP:dC(this,e);break;case kE.AFTER_BODY:EC(this,e);break;case kE.AFTER_AFTER_BODY:CC(this,e)}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){t.chars=ov,e._insertCharacters(t)}(this,e);else switch(this.insertionMode){case kE.INITIAL:BE(this,e);break;case kE.BEFORE_HTML:ME(this,e);break;case kE.BEFORE_HEAD:LE(this,e);break;case kE.IN_HEAD:qE(this,e);break;case kE.IN_HEAD_NO_SCRIPT:XE(this,e);break;case kE.AFTER_HEAD:zE(this,e);break;case kE.TEXT:this._insertCharacters(e);break;case kE.IN_TABLE:case kE.IN_TABLE_BODY:case kE.IN_ROW:nC(this,e);break;case kE.IN_COLUMN_GROUP:dC(this,e);break;case kE.AFTER_BODY:EC(this,e);break;case kE.AFTER_AFTER_BODY:CC(this,e)}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML)QE(this,e);else switch(this.insertionMode){case kE.INITIAL:case kE.BEFORE_HTML:case kE.BEFORE_HEAD:case kE.IN_HEAD:case kE.IN_HEAD_NO_SCRIPT:case kE.AFTER_HEAD:case kE.IN_BODY:case kE.IN_TABLE:case kE.IN_CAPTION:case kE.IN_COLUMN_GROUP:case kE.IN_TABLE_BODY:case kE.IN_ROW:case kE.IN_CELL:case kE.IN_SELECT:case kE.IN_SELECT_IN_TABLE:case kE.IN_TEMPLATE:case kE.IN_FRAMESET:case kE.AFTER_FRAMESET:QE(this,e);break;case kE.IN_TABLE_TEXT:uC(this,e);break;case kE.AFTER_BODY:!function(e,t){e._appendCommentNode(t,e.openElements.items[0])}(this,e);break;case kE.AFTER_AFTER_BODY:case kE.AFTER_AFTER_FRAMESET:!function(e,t){e._appendCommentNode(t,e.document)}(this,e)}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case kE.INITIAL:!function(e,t){e._setDocumentType(t);const n=t.forceQuirks?Tv.QUIRKS:function(e){if(e.name!==cE)return Tv.QUIRKS;const{systemId:t}=e;if(t&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===t.toLowerCase())return Tv.QUIRKS;let{publicId:n}=e;if(null!==n){if(n=n.toLowerCase(),hE.has(n))return Tv.QUIRKS;let e=null===t?dE:lE;if(mE(n,e))return Tv.QUIRKS;if(e=null===t?pE:fE,mE(n,e))return Tv.LIMITED_QUIRKS}return Tv.NO_QUIRKS}(t);(function(e){return e.name===cE&&null===e.publicId&&(null===e.systemId||"about:legacy-compat"===e.systemId)})(t)||e._err(t,pv.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=kE.BEFORE_HTML}(this,e);break;case kE.BEFORE_HEAD:case kE.IN_HEAD:case kE.IN_HEAD_NO_SCRIPT:case kE.AFTER_HEAD:this._err(e,pv.misplacedDoctype);break;case kE.IN_TABLE_TEXT:uC(this,e)}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,pv.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?function(e,t){if(function(e){const t=e.tagID;return t===Sv.FONT&&e.attrs.some(e=>{let{name:t}=e;return t===yv.COLOR||t===yv.SIZE||t===yv.FACE})||vE.has(t)}(t))bC(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),i=e.treeAdapter.getNamespaceURI(n);i===kv.MATHML?EE(t):i===kv.SVG&&(function(e){const t=DE.get(e.tagName);null!=t&&(e.tagName=t,e.tagID=Iv(e.tagName))}(t),CE(t)),bE(t),t.selfClosing?e._appendElement(t,i):e._insertElement(t,i),t.ackSelfClosing=!0}}(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case kE.INITIAL:BE(this,e);break;case kE.BEFORE_HTML:!function(e,t){t.tagID===Sv.HTML?(e._insertElement(t,kv.HTML),e.insertionMode=kE.BEFORE_HEAD):ME(e,t)}(this,e);break;case kE.BEFORE_HEAD:!function(e,t){switch(t.tagID){case Sv.HTML:KE(e,t);break;case Sv.HEAD:e._insertElement(t,kv.HTML),e.headElement=e.openElements.current,e.insertionMode=kE.IN_HEAD;break;default:LE(e,t)}}(this,e);break;case kE.IN_HEAD:$E(this,e);break;case kE.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case Sv.HTML:KE(e,t);break;case Sv.BASEFONT:case Sv.BGSOUND:case Sv.HEAD:case Sv.LINK:case Sv.META:case Sv.NOFRAMES:case Sv.STYLE:$E(e,t);break;case Sv.NOSCRIPT:e._err(t,pv.nestedNoscriptInHead);break;default:XE(e,t)}}(this,e);break;case kE.AFTER_HEAD:!function(e,t){switch(t.tagID){case Sv.HTML:KE(e,t);break;case Sv.BODY:e._insertElement(t,kv.HTML),e.framesetOk=!1,e.insertionMode=kE.IN_BODY;break;case Sv.FRAMESET:e._insertElement(t,kv.HTML),e.insertionMode=kE.IN_FRAMESET;break;case Sv.BASE:case Sv.BASEFONT:case Sv.BGSOUND:case Sv.LINK:case Sv.META:case Sv.NOFRAMES:case Sv.SCRIPT:case Sv.STYLE:case Sv.TEMPLATE:case Sv.TITLE:e._err(t,pv.abandonedHeadElementChild),e.openElements.push(e.headElement,Sv.HEAD),$E(e,t),e.openElements.remove(e.headElement);break;case Sv.HEAD:e._err(t,pv.misplacedStartTagForHeadElement);break;default:zE(e,t)}}(this,e);break;case kE.IN_BODY:KE(this,e);break;case kE.IN_TABLE:iC(this,e);break;case kE.IN_TABLE_TEXT:uC(this,e);break;case kE.IN_CAPTION:!function(e,t){const n=t.tagID;cC.has(n)?e.openElements.hasInTableScope(Sv.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(Sv.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=kE.IN_TABLE,iC(e,t)):KE(e,t)}(this,e);break;case kE.IN_COLUMN_GROUP:lC(this,e);break;case kE.IN_TABLE_BODY:hC(this,e);break;case kE.IN_ROW:fC(this,e);break;case kE.IN_CELL:!function(e,t){const n=t.tagID;cC.has(n)?(e.openElements.hasInTableScope(Sv.TD)||e.openElements.hasInTableScope(Sv.TH))&&(e._closeTableCell(),fC(e,t)):KE(e,t)}(this,e);break;case kE.IN_SELECT:OC(this,e);break;case kE.IN_SELECT_IN_TABLE:!function(e,t){const n=t.tagID;n===Sv.CAPTION||n===Sv.TABLE||n===Sv.TBODY||n===Sv.TFOOT||n===Sv.THEAD||n===Sv.TR||n===Sv.TD||n===Sv.TH?(e.openElements.popUntilTagNamePopped(Sv.SELECT),e._resetInsertionMode(),e._processStartTag(t)):OC(e,t)}(this,e);break;case kE.IN_TEMPLATE:!function(e,t){switch(t.tagID){case Sv.BASE:case Sv.BASEFONT:case Sv.BGSOUND:case Sv.LINK:case Sv.META:case Sv.NOFRAMES:case Sv.SCRIPT:case Sv.STYLE:case Sv.TEMPLATE:case Sv.TITLE:$E(e,t);break;case Sv.CAPTION:case Sv.COLGROUP:case Sv.TBODY:case Sv.TFOOT:case Sv.THEAD:e.tmplInsertionModeStack[0]=kE.IN_TABLE,e.insertionMode=kE.IN_TABLE,iC(e,t);break;case Sv.COL:e.tmplInsertionModeStack[0]=kE.IN_COLUMN_GROUP,e.insertionMode=kE.IN_COLUMN_GROUP,lC(e,t);break;case Sv.TR:e.tmplInsertionModeStack[0]=kE.IN_TABLE_BODY,e.insertionMode=kE.IN_TABLE_BODY,hC(e,t);break;case Sv.TD:case Sv.TH:e.tmplInsertionModeStack[0]=kE.IN_ROW,e.insertionMode=kE.IN_ROW,fC(e,t);break;default:e.tmplInsertionModeStack[0]=kE.IN_BODY,e.insertionMode=kE.IN_BODY,KE(e,t)}}(this,e);break;case kE.AFTER_BODY:!function(e,t){t.tagID===Sv.HTML?KE(e,t):EC(e,t)}(this,e);break;case kE.IN_FRAMESET:!function(e,t){switch(t.tagID){case Sv.HTML:KE(e,t);break;case Sv.FRAMESET:e._insertElement(t,kv.HTML);break;case Sv.FRAME:e._appendElement(t,kv.HTML),t.ackSelfClosing=!0;break;case Sv.NOFRAMES:$E(e,t)}}(this,e);break;case kE.AFTER_FRAMESET:!function(e,t){switch(t.tagID){case Sv.HTML:KE(e,t);break;case Sv.NOFRAMES:$E(e,t)}}(this,e);break;case kE.AFTER_AFTER_BODY:!function(e,t){t.tagID===Sv.HTML?KE(e,t):CC(e,t)}(this,e);break;case kE.AFTER_AFTER_FRAMESET:!function(e,t){switch(t.tagID){case Sv.HTML:KE(e,t);break;case Sv.NOFRAMES:$E(e,t)}}(this,e)}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?function(e,t){if(t.tagID===Sv.P||t.tagID===Sv.BR)return bC(e),void e._endTagOutsideForeignContent(t);for(let n=e.openElements.stackTop;n>0;n--){const i=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(i)===kv.HTML){e._endTagOutsideForeignContent(t);break}const r=e.treeAdapter.getTagName(i);if(r.toLowerCase()===t.tagName){t.tagName=r,e.openElements.shortenToLength(n);break}}}(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case kE.INITIAL:BE(this,e);break;case kE.BEFORE_HTML:!function(e,t){const n=t.tagID;(n===Sv.HTML||n===Sv.HEAD||n===Sv.BODY||n===Sv.BR)&&ME(e,t)}(this,e);break;case kE.BEFORE_HEAD:!function(e,t){const n=t.tagID;n===Sv.HEAD||n===Sv.BODY||n===Sv.HTML||n===Sv.BR?LE(e,t):e._err(t,pv.endTagWithoutMatchingOpenElement)}(this,e);break;case kE.IN_HEAD:!function(e,t){switch(t.tagID){case Sv.HEAD:e.openElements.pop(),e.insertionMode=kE.AFTER_HEAD;break;case Sv.BODY:case Sv.BR:case Sv.HTML:qE(e,t);break;case Sv.TEMPLATE:UE(e,t);break;default:e._err(t,pv.endTagWithoutMatchingOpenElement)}}(this,e);break;case kE.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case Sv.NOSCRIPT:e.openElements.pop(),e.insertionMode=kE.IN_HEAD;break;case Sv.BR:XE(e,t);break;default:e._err(t,pv.endTagWithoutMatchingOpenElement)}}(this,e);break;case kE.AFTER_HEAD:!function(e,t){switch(t.tagID){case Sv.BODY:case Sv.HTML:case Sv.BR:zE(e,t);break;case Sv.TEMPLATE:UE(e,t);break;default:e._err(t,pv.endTagWithoutMatchingOpenElement)}}(this,e);break;case kE.IN_BODY:eC(this,e);break;case kE.TEXT:!function(e,t){var n;t.tagID===Sv.SCRIPT&&(null===(n=e.scriptHandler)||void 0===n||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}(this,e);break;case kE.IN_TABLE:rC(this,e);break;case kE.IN_TABLE_TEXT:uC(this,e);break;case kE.IN_CAPTION:!function(e,t){const n=t.tagID;switch(n){case Sv.CAPTION:case Sv.TABLE:e.openElements.hasInTableScope(Sv.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(Sv.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=kE.IN_TABLE,n===Sv.TABLE&&rC(e,t));break;case Sv.BODY:case Sv.COL:case Sv.COLGROUP:case Sv.HTML:case Sv.TBODY:case Sv.TD:case Sv.TFOOT:case Sv.TH:case Sv.THEAD:case Sv.TR:break;default:eC(e,t)}}(this,e);break;case kE.IN_COLUMN_GROUP:!function(e,t){switch(t.tagID){case Sv.COLGROUP:e.openElements.currentTagId===Sv.COLGROUP&&(e.openElements.pop(),e.insertionMode=kE.IN_TABLE);break;case Sv.TEMPLATE:UE(e,t);break;case Sv.COL:break;default:dC(e,t)}}(this,e);break;case kE.IN_TABLE_BODY:pC(this,e);break;case kE.IN_ROW:mC(this,e);break;case kE.IN_CELL:!function(e,t){const n=t.tagID;switch(n){case Sv.TD:case Sv.TH:e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=kE.IN_ROW);break;case Sv.TABLE:case Sv.TBODY:case Sv.TFOOT:case Sv.THEAD:case Sv.TR:e.openElements.hasInTableScope(n)&&(e._closeTableCell(),mC(e,t));break;case Sv.BODY:case Sv.CAPTION:case Sv.COL:case Sv.COLGROUP:case Sv.HTML:break;default:eC(e,t)}}(this,e);break;case kE.IN_SELECT:gC(this,e);break;case kE.IN_SELECT_IN_TABLE:!function(e,t){const n=t.tagID;n===Sv.CAPTION||n===Sv.TABLE||n===Sv.TBODY||n===Sv.TFOOT||n===Sv.THEAD||n===Sv.TR||n===Sv.TD||n===Sv.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(Sv.SELECT),e._resetInsertionMode(),e.onEndTag(t)):gC(e,t)}(this,e);break;case kE.IN_TEMPLATE:!function(e,t){t.tagID===Sv.TEMPLATE&&UE(e,t)}(this,e);break;case kE.AFTER_BODY:vC(this,e);break;case kE.IN_FRAMESET:!function(e,t){t.tagID===Sv.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==Sv.FRAMESET&&(e.insertionMode=kE.AFTER_FRAMESET))}(this,e);break;case kE.AFTER_FRAMESET:!function(e,t){t.tagID===Sv.HTML&&(e.insertionMode=kE.AFTER_AFTER_FRAMESET)}(this,e);break;case kE.AFTER_AFTER_BODY:CC(this,e)}}onEof(e){switch(this.insertionMode){case kE.INITIAL:BE(this,e);break;case kE.BEFORE_HTML:ME(this,e);break;case kE.BEFORE_HEAD:LE(this,e);break;case kE.IN_HEAD:qE(this,e);break;case kE.IN_HEAD_NO_SCRIPT:XE(this,e);break;case kE.AFTER_HEAD:zE(this,e);break;case kE.IN_BODY:case kE.IN_TABLE:case kE.IN_CAPTION:case kE.IN_COLUMN_GROUP:case kE.IN_TABLE_BODY:case kE.IN_ROW:case kE.IN_CELL:case kE.IN_SELECT:case kE.IN_SELECT_IN_TABLE:tC(this,e);break;case kE.TEXT:!function(e,t){e._err(t,pv.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}(this,e);break;case kE.IN_TABLE_TEXT:uC(this,e);break;case kE.IN_TEMPLATE:DC(this,e);break;case kE.AFTER_BODY:case kE.IN_FRAMESET:case kE.AFTER_FRAMESET:case kE.AFTER_AFTER_BODY:case kE.AFTER_AFTER_FRAMESET:NE(this,e)}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===av.LINE_FEED)){if(1===e.chars.length)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode)this._insertCharacters(e);else switch(this.insertionMode){case kE.IN_HEAD:case kE.IN_HEAD_NO_SCRIPT:case kE.AFTER_HEAD:case kE.TEXT:case kE.IN_COLUMN_GROUP:case kE.IN_SELECT:case kE.IN_SELECT_IN_TABLE:case kE.IN_FRAMESET:case kE.AFTER_FRAMESET:this._insertCharacters(e);break;case kE.IN_BODY:case kE.IN_CAPTION:case kE.IN_CELL:case kE.IN_TEMPLATE:case kE.AFTER_BODY:case kE.AFTER_AFTER_BODY:case kE.AFTER_AFTER_FRAMESET:jE(this,e);break;case kE.IN_TABLE:case kE.IN_TABLE_BODY:case kE.IN_ROW:nC(this,e);break;case kE.IN_TABLE_TEXT:aC(this,e)}}};function _E(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):JE(e,t),n}function FE(e,t){let n=null,i=e.openElements.stackTop;for(;i>=0;i--){const r=e.openElements.items[i];if(r===t.element)break;e._isSpecialElement(r,e.openElements.tagIDs[i])&&(n=r)}return n||(e.openElements.shortenToLength(Math.max(i,0)),e.activeFormattingElements.removeEntry(t)),n}function wE(e,t,n){let i=t,r=e.openElements.getCommonAncestor(t);for(let o=0,a=r;a!==n;o++,a=r){r=e.openElements.getCommonAncestor(a);const n=e.activeFormattingElements.getElementEntry(a),s=n&&o>=3;!n||s?(s&&e.activeFormattingElements.removeEntry(n),e.openElements.remove(a)):(a=xE(e,n),i===t&&(e.activeFormattingElements.bookmark=n),e.treeAdapter.detachNode(i),e.treeAdapter.appendChild(a,i),i=a)}return i}function xE(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),i=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,i),t.element=i,i}function PE(e,t,n){const i=Iv(e.treeAdapter.getTagName(t));if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const r=e.treeAdapter.getNamespaceURI(t);i===Sv.TEMPLATE&&r===kv.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function RE(e,t,n){const i=e.treeAdapter.getNamespaceURI(n.element),{token:r}=n,o=e.treeAdapter.createElement(r.tagName,i,r.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,r),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,o,r.tagID)}function IE(e,t){for(let n=0;n<8;n++){const n=_E(e,t);if(!n)break;const i=FE(e,n);if(!i)break;e.activeFormattingElements.bookmark=n;const r=wE(e,i,n.element),o=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(r),o&&PE(e,o,r),RE(e,i,n)}}function QE(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function NE(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let i=e.openElements.stackTop;i>=n;i--)e._setEndLocation(e.openElements.items[i],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const n=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(n);if(i&&!i.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){const n=e.openElements.items[1],i=e.treeAdapter.getNodeSourceCodeLocation(n);i&&!i.endTag&&e._setEndLocation(n,t)}}}}function BE(e,t){e._err(t,pv.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Tv.QUIRKS),e.insertionMode=kE.BEFORE_HTML,e._processToken(t)}function ME(e,t){e._insertFakeRootElement(),e.insertionMode=kE.BEFORE_HEAD,e._processToken(t)}function LE(e,t){e._insertFakeElement(Av.HEAD,Sv.HEAD),e.headElement=e.openElements.current,e.insertionMode=kE.IN_HEAD,e._processToken(t)}function $E(e,t){switch(t.tagID){case Sv.HTML:KE(e,t);break;case Sv.BASE:case Sv.BASEFONT:case Sv.BGSOUND:case Sv.LINK:case Sv.META:e._appendElement(t,kv.HTML),t.ackSelfClosing=!0;break;case Sv.TITLE:e._switchToTextParsing(t,Lv.RCDATA);break;case Sv.NOSCRIPT:e.options.scriptingEnabled?e._switchToTextParsing(t,Lv.RAWTEXT):(e._insertElement(t,kv.HTML),e.insertionMode=kE.IN_HEAD_NO_SCRIPT);break;case Sv.NOFRAMES:case Sv.STYLE:e._switchToTextParsing(t,Lv.RAWTEXT);break;case Sv.SCRIPT:e._switchToTextParsing(t,Lv.SCRIPT_DATA);break;case Sv.TEMPLATE:e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=kE.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(kE.IN_TEMPLATE);break;case Sv.HEAD:e._err(t,pv.misplacedStartTagForHeadElement);break;default:qE(e,t)}}function UE(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==Sv.TEMPLATE&&e._err(t,pv.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(Sv.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,pv.endTagWithoutMatchingOpenElement)}function qE(e,t){e.openElements.pop(),e.insertionMode=kE.AFTER_HEAD,e._processToken(t)}function XE(e,t){const n=t.type===fv.EOF?pv.openElementsLeftAfterEof:pv.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=kE.IN_HEAD,e._processToken(t)}function zE(e,t){e._insertFakeElement(Av.BODY,Sv.BODY),e.insertionMode=kE.IN_BODY,ZE(e,t)}function ZE(e,t){switch(t.type){case fv.CHARACTER:WE(e,t);break;case fv.WHITESPACE_CHARACTER:jE(e,t);break;case fv.COMMENT:QE(e,t);break;case fv.START_TAG:KE(e,t);break;case fv.END_TAG:eC(e,t);break;case fv.EOF:tC(e,t)}}function jE(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function WE(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function GE(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,kv.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function VE(e){const t=Ov(e,yv.TYPE);return null!=t&&"hidden"===t.toLowerCase()}function YE(e,t){e._switchToTextParsing(t,Lv.RAWTEXT)}function HE(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,kv.HTML)}function KE(e,t){switch(t.tagID){case Sv.I:case Sv.S:case Sv.B:case Sv.U:case Sv.EM:case Sv.TT:case Sv.BIG:case Sv.CODE:case Sv.FONT:case Sv.SMALL:case Sv.STRIKE:case Sv.STRONG:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,kv.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case Sv.A:!function(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(Av.A);n&&(IE(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,kv.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case Sv.H1:case Sv.H2:case Sv.H3:case Sv.H4:case Sv.H5:case Sv.H6:!function(e,t){e.openElements.hasInButtonScope(Sv.P)&&e._closePElement(),void 0!==e.openElements.currentTagId&&Bv.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,kv.HTML)}(e,t);break;case Sv.P:case Sv.DL:case Sv.OL:case Sv.UL:case Sv.DIV:case Sv.DIR:case Sv.NAV:case Sv.MAIN:case Sv.MENU:case Sv.ASIDE:case Sv.CENTER:case Sv.FIGURE:case Sv.FOOTER:case Sv.HEADER:case Sv.HGROUP:case Sv.DIALOG:case Sv.DETAILS:case Sv.ADDRESS:case Sv.ARTICLE:case Sv.SEARCH:case Sv.SECTION:case Sv.SUMMARY:case Sv.FIELDSET:case Sv.BLOCKQUOTE:case Sv.FIGCAPTION:!function(e,t){e.openElements.hasInButtonScope(Sv.P)&&e._closePElement(),e._insertElement(t,kv.HTML)}(e,t);break;case Sv.LI:case Sv.DD:case Sv.DT:!function(e,t){e.framesetOk=!1;const n=t.tagID;for(let t=e.openElements.stackTop;t>=0;t--){const i=e.openElements.tagIDs[t];if(n===Sv.LI&&i===Sv.LI||(n===Sv.DD||n===Sv.DT)&&(i===Sv.DD||i===Sv.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==Sv.ADDRESS&&i!==Sv.DIV&&i!==Sv.P&&e._isSpecialElement(e.openElements.items[t],i))break}e.openElements.hasInButtonScope(Sv.P)&&e._closePElement(),e._insertElement(t,kv.HTML)}(e,t);break;case Sv.BR:case Sv.IMG:case Sv.WBR:case Sv.AREA:case Sv.EMBED:case Sv.KEYGEN:GE(e,t);break;case Sv.HR:!function(e,t){e.openElements.hasInButtonScope(Sv.P)&&e._closePElement(),e._appendElement(t,kv.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}(e,t);break;case Sv.RB:case Sv.RTC:!function(e,t){e.openElements.hasInScope(Sv.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,kv.HTML)}(e,t);break;case Sv.RT:case Sv.RP:!function(e,t){e.openElements.hasInScope(Sv.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(Sv.RTC),e._insertElement(t,kv.HTML)}(e,t);break;case Sv.PRE:case Sv.LISTING:!function(e,t){e.openElements.hasInButtonScope(Sv.P)&&e._closePElement(),e._insertElement(t,kv.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}(e,t);break;case Sv.XMP:!function(e,t){e.openElements.hasInButtonScope(Sv.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Lv.RAWTEXT)}(e,t);break;case Sv.SVG:!function(e,t){e._reconstructActiveFormattingElements(),CE(t),bE(t),t.selfClosing?e._appendElement(t,kv.SVG):e._insertElement(t,kv.SVG),t.ackSelfClosing=!0}(e,t);break;case Sv.HTML:!function(e,t){0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}(e,t);break;case Sv.BASE:case Sv.LINK:case Sv.META:case Sv.STYLE:case Sv.TITLE:case Sv.SCRIPT:case Sv.BGSOUND:case Sv.BASEFONT:case Sv.TEMPLATE:$E(e,t);break;case Sv.BODY:!function(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}(e,t);break;case Sv.FORM:!function(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(Sv.P)&&e._closePElement(),e._insertElement(t,kv.HTML),n||(e.formElement=e.openElements.current))}(e,t);break;case Sv.NOBR:!function(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(Sv.NOBR)&&(IE(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,kv.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case Sv.MATH:!function(e,t){e._reconstructActiveFormattingElements(),EE(t),bE(t),t.selfClosing?e._appendElement(t,kv.MATHML):e._insertElement(t,kv.MATHML),t.ackSelfClosing=!0}(e,t);break;case Sv.TABLE:!function(e,t){e.treeAdapter.getDocumentMode(e.document)!==Tv.QUIRKS&&e.openElements.hasInButtonScope(Sv.P)&&e._closePElement(),e._insertElement(t,kv.HTML),e.framesetOk=!1,e.insertionMode=kE.IN_TABLE}(e,t);break;case Sv.INPUT:!function(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,kv.HTML),VE(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}(e,t);break;case Sv.PARAM:case Sv.TRACK:case Sv.SOURCE:!function(e,t){e._appendElement(t,kv.HTML),t.ackSelfClosing=!0}(e,t);break;case Sv.IMAGE:!function(e,t){t.tagName=Av.IMG,t.tagID=Sv.IMG,GE(e,t)}(e,t);break;case Sv.BUTTON:!function(e,t){e.openElements.hasInScope(Sv.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(Sv.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,kv.HTML),e.framesetOk=!1}(e,t);break;case Sv.APPLET:case Sv.OBJECT:case Sv.MARQUEE:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,kv.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}(e,t);break;case Sv.IFRAME:!function(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Lv.RAWTEXT)}(e,t);break;case Sv.SELECT:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,kv.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===kE.IN_TABLE||e.insertionMode===kE.IN_CAPTION||e.insertionMode===kE.IN_TABLE_BODY||e.insertionMode===kE.IN_ROW||e.insertionMode===kE.IN_CELL?kE.IN_SELECT_IN_TABLE:kE.IN_SELECT}(e,t);break;case Sv.OPTION:case Sv.OPTGROUP:!function(e,t){e.openElements.currentTagId===Sv.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,kv.HTML)}(e,t);break;case Sv.NOEMBED:case Sv.NOFRAMES:YE(e,t);break;case Sv.FRAMESET:!function(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,kv.HTML),e.insertionMode=kE.IN_FRAMESET)}(e,t);break;case Sv.TEXTAREA:!function(e,t){e._insertElement(t,kv.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Lv.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=kE.TEXT}(e,t);break;case Sv.NOSCRIPT:e.options.scriptingEnabled?YE(e,t):HE(e,t);break;case Sv.PLAINTEXT:!function(e,t){e.openElements.hasInButtonScope(Sv.P)&&e._closePElement(),e._insertElement(t,kv.HTML),e.tokenizer.state=Lv.PLAINTEXT}(e,t);break;case Sv.COL:case Sv.TH:case Sv.TD:case Sv.TR:case Sv.HEAD:case Sv.FRAME:case Sv.TBODY:case Sv.TFOOT:case Sv.THEAD:case Sv.CAPTION:case Sv.COLGROUP:break;default:HE(e,t)}}function JE(e,t){const n=t.tagName,i=t.tagID;for(let t=e.openElements.stackTop;t>0;t--){const r=e.openElements.items[t],o=e.openElements.tagIDs[t];if(i===o&&(i!==Sv.UNKNOWN||e.treeAdapter.getTagName(r)===n)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.stackTop>=t&&e.openElements.shortenToLength(t);break}if(e._isSpecialElement(r,o))break}}function eC(e,t){switch(t.tagID){case Sv.A:case Sv.B:case Sv.I:case Sv.S:case Sv.U:case Sv.EM:case Sv.TT:case Sv.BIG:case Sv.CODE:case Sv.FONT:case Sv.NOBR:case Sv.SMALL:case Sv.STRIKE:case Sv.STRONG:IE(e,t);break;case Sv.P:!function(e){e.openElements.hasInButtonScope(Sv.P)||e._insertFakeElement(Av.P,Sv.P),e._closePElement()}(e);break;case Sv.DL:case Sv.UL:case Sv.OL:case Sv.DIR:case Sv.DIV:case Sv.NAV:case Sv.PRE:case Sv.MAIN:case Sv.MENU:case Sv.ASIDE:case Sv.BUTTON:case Sv.CENTER:case Sv.FIGURE:case Sv.FOOTER:case Sv.HEADER:case Sv.HGROUP:case Sv.DIALOG:case Sv.ADDRESS:case Sv.ARTICLE:case Sv.DETAILS:case Sv.SEARCH:case Sv.SECTION:case Sv.SUMMARY:case Sv.LISTING:case Sv.FIELDSET:case Sv.BLOCKQUOTE:case Sv.FIGCAPTION:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}(e,t);break;case Sv.LI:!function(e){e.openElements.hasInListItemScope(Sv.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(Sv.LI),e.openElements.popUntilTagNamePopped(Sv.LI))}(e);break;case Sv.DD:case Sv.DT:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}(e,t);break;case Sv.H1:case Sv.H2:case Sv.H3:case Sv.H4:case Sv.H5:case Sv.H6:!function(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}(e);break;case Sv.BR:!function(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(Av.BR,Sv.BR),e.openElements.pop(),e.framesetOk=!1}(e);break;case Sv.BODY:!function(e,t){if(e.openElements.hasInScope(Sv.BODY)&&(e.insertionMode=kE.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}(e,t);break;case Sv.HTML:!function(e,t){e.openElements.hasInScope(Sv.BODY)&&(e.insertionMode=kE.AFTER_BODY,vC(e,t))}(e,t);break;case Sv.FORM:!function(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(Sv.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(Sv.FORM):n&&e.openElements.remove(n))}(e);break;case Sv.APPLET:case Sv.OBJECT:case Sv.MARQUEE:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}(e,t);break;case Sv.TEMPLATE:UE(e,t);break;default:JE(e,t)}}function tC(e,t){e.tmplInsertionModeStack.length>0?DC(e,t):NE(e,t)}function nC(e,t){if(void 0!==e.openElements.currentTagId&&TE.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=kE.IN_TABLE_TEXT,t.type){case fv.CHARACTER:sC(e,t);break;case fv.WHITESPACE_CHARACTER:aC(e,t)}else oC(e,t)}function iC(e,t){switch(t.tagID){case Sv.TD:case Sv.TH:case Sv.TR:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Av.TBODY,Sv.TBODY),e.insertionMode=kE.IN_TABLE_BODY,hC(e,t)}(e,t);break;case Sv.STYLE:case Sv.SCRIPT:case Sv.TEMPLATE:$E(e,t);break;case Sv.COL:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Av.COLGROUP,Sv.COLGROUP),e.insertionMode=kE.IN_COLUMN_GROUP,lC(e,t)}(e,t);break;case Sv.FORM:!function(e,t){!e.formElement&&0===e.openElements.tmplCount&&(e._insertElement(t,kv.HTML),e.formElement=e.openElements.current,e.openElements.pop())}(e,t);break;case Sv.TABLE:!function(e,t){e.openElements.hasInTableScope(Sv.TABLE)&&(e.openElements.popUntilTagNamePopped(Sv.TABLE),e._resetInsertionMode(),e._processStartTag(t))}(e,t);break;case Sv.TBODY:case Sv.TFOOT:case Sv.THEAD:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,kv.HTML),e.insertionMode=kE.IN_TABLE_BODY}(e,t);break;case Sv.INPUT:!function(e,t){VE(t)?e._appendElement(t,kv.HTML):oC(e,t),t.ackSelfClosing=!0}(e,t);break;case Sv.CAPTION:!function(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,kv.HTML),e.insertionMode=kE.IN_CAPTION}(e,t);break;case Sv.COLGROUP:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,kv.HTML),e.insertionMode=kE.IN_COLUMN_GROUP}(e,t);break;default:oC(e,t)}}function rC(e,t){switch(t.tagID){case Sv.TABLE:e.openElements.hasInTableScope(Sv.TABLE)&&(e.openElements.popUntilTagNamePopped(Sv.TABLE),e._resetInsertionMode());break;case Sv.TEMPLATE:UE(e,t);break;case Sv.BODY:case Sv.CAPTION:case Sv.COL:case Sv.COLGROUP:case Sv.HTML:case Sv.TBODY:case Sv.TD:case Sv.TFOOT:case Sv.TH:case Sv.THEAD:case Sv.TR:break;default:oC(e,t)}}function oC(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,ZE(e,t),e.fosterParentingEnabled=n}function aC(e,t){e.pendingCharacterTokens.push(t)}function sC(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function uC(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)oC(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const cC=new Set([Sv.CAPTION,Sv.COL,Sv.COLGROUP,Sv.TBODY,Sv.TD,Sv.TFOOT,Sv.TH,Sv.THEAD,Sv.TR]);function lC(e,t){switch(t.tagID){case Sv.HTML:KE(e,t);break;case Sv.COL:e._appendElement(t,kv.HTML),t.ackSelfClosing=!0;break;case Sv.TEMPLATE:$E(e,t);break;default:dC(e,t)}}function dC(e,t){e.openElements.currentTagId===Sv.COLGROUP&&(e.openElements.pop(),e.insertionMode=kE.IN_TABLE,e._processToken(t))}function hC(e,t){switch(t.tagID){case Sv.TR:e.openElements.clearBackToTableBodyContext(),e._insertElement(t,kv.HTML),e.insertionMode=kE.IN_ROW;break;case Sv.TH:case Sv.TD:e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(Av.TR,Sv.TR),e.insertionMode=kE.IN_ROW,fC(e,t);break;case Sv.CAPTION:case Sv.COL:case Sv.COLGROUP:case Sv.TBODY:case Sv.TFOOT:case Sv.THEAD:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=kE.IN_TABLE,iC(e,t));break;default:iC(e,t)}}function pC(e,t){const n=t.tagID;switch(t.tagID){case Sv.TBODY:case Sv.TFOOT:case Sv.THEAD:e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=kE.IN_TABLE);break;case Sv.TABLE:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=kE.IN_TABLE,rC(e,t));break;case Sv.BODY:case Sv.CAPTION:case Sv.COL:case Sv.COLGROUP:case Sv.HTML:case Sv.TD:case Sv.TH:case Sv.TR:break;default:rC(e,t)}}function fC(e,t){switch(t.tagID){case Sv.TH:case Sv.TD:e.openElements.clearBackToTableRowContext(),e._insertElement(t,kv.HTML),e.insertionMode=kE.IN_CELL,e.activeFormattingElements.insertMarker();break;case Sv.CAPTION:case Sv.COL:case Sv.COLGROUP:case Sv.TBODY:case Sv.TFOOT:case Sv.THEAD:case Sv.TR:e.openElements.hasInTableScope(Sv.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=kE.IN_TABLE_BODY,hC(e,t));break;default:iC(e,t)}}function mC(e,t){switch(t.tagID){case Sv.TR:e.openElements.hasInTableScope(Sv.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=kE.IN_TABLE_BODY);break;case Sv.TABLE:e.openElements.hasInTableScope(Sv.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=kE.IN_TABLE_BODY,pC(e,t));break;case Sv.TBODY:case Sv.TFOOT:case Sv.THEAD:(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(Sv.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=kE.IN_TABLE_BODY,pC(e,t));break;case Sv.BODY:case Sv.CAPTION:case Sv.COL:case Sv.COLGROUP:case Sv.HTML:case Sv.TD:case Sv.TH:break;default:rC(e,t)}}function OC(e,t){switch(t.tagID){case Sv.HTML:KE(e,t);break;case Sv.OPTION:e.openElements.currentTagId===Sv.OPTION&&e.openElements.pop(),e._insertElement(t,kv.HTML);break;case Sv.OPTGROUP:e.openElements.currentTagId===Sv.OPTION&&e.openElements.pop(),e.openElements.currentTagId===Sv.OPTGROUP&&e.openElements.pop(),e._insertElement(t,kv.HTML);break;case Sv.HR:e.openElements.currentTagId===Sv.OPTION&&e.openElements.pop(),e.openElements.currentTagId===Sv.OPTGROUP&&e.openElements.pop(),e._appendElement(t,kv.HTML),t.ackSelfClosing=!0;break;case Sv.INPUT:case Sv.KEYGEN:case Sv.TEXTAREA:case Sv.SELECT:e.openElements.hasInSelectScope(Sv.SELECT)&&(e.openElements.popUntilTagNamePopped(Sv.SELECT),e._resetInsertionMode(),t.tagID!==Sv.SELECT&&e._processStartTag(t));break;case Sv.SCRIPT:case Sv.TEMPLATE:$E(e,t)}}function gC(e,t){switch(t.tagID){case Sv.OPTGROUP:e.openElements.stackTop>0&&e.openElements.currentTagId===Sv.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===Sv.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===Sv.OPTGROUP&&e.openElements.pop();break;case Sv.OPTION:e.openElements.currentTagId===Sv.OPTION&&e.openElements.pop();break;case Sv.SELECT:e.openElements.hasInSelectScope(Sv.SELECT)&&(e.openElements.popUntilTagNamePopped(Sv.SELECT),e._resetInsertionMode());break;case Sv.TEMPLATE:UE(e,t)}}function DC(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(Sv.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):NE(e,t)}function vC(e,t){var n;if(t.tagID===Sv.HTML){if(e.fragmentContext||(e.insertionMode=kE.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===Sv.HTML){e._setEndLocation(e.openElements.items[0],t);const i=e.openElements.items[1];i&&(null===(n=e.treeAdapter.getNodeSourceCodeLocation(i))||void 0===n||!n.endTag)&&e._setEndLocation(i,t)}}else EC(e,t)}function EC(e,t){e.insertionMode=kE.IN_BODY,ZE(e,t)}function CC(e,t){e.insertionMode=kE.IN_BODY,ZE(e,t)}function bC(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==kv.HTML&&void 0!==e.openElements.currentTagId&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}Av.AREA,Av.BASE,Av.BASEFONT,Av.BGSOUND,Av.BR,Av.COL,Av.EMBED,Av.FRAME,Av.HR,Av.IMG,Av.INPUT,Av.KEYGEN,Av.LINK,Av.META,Av.PARAM,Av.SOURCE,Av.TRACK,Av.WBR;const kC=function(e){if(null==e)return TC;if("function"==typeof e)return yC(e);if("object"==typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=kC(e[n]);return yC(function(){let e=-1;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];for(;++e<t.length;)if(t[e].apply(this,i))return!0;return!1})}(e):function(e){const t=e;return yC(function(n){const i=n;let r;for(r in e)if(i[r]!==t[r])return!1;return!0})}(e);if("string"==typeof e)return function(e){return yC(function(t){return t&&t.type===e})}(e);throw new Error("Expected function, string, or object as test")};function yC(e){return function(t,n,i){return!(!function(e){return null!==e&&"object"==typeof e&&"type"in e}(t)||!e.call(this,t,"number"==typeof n?n:void 0,i||void 0))}}function TC(){return!0}const AC=[],SC=!0,_C=!1,FC="skip";function wC(e,t,n,i){let r;"function"==typeof t&&"function"!=typeof n?(i=n,n=t):r=t;const o=kC(r),a=i?-1:1;!function e(r,s,u){const c=r&&"object"==typeof r?r:{};if("string"==typeof c.type){const e="string"==typeof c.tagName?c.tagName:"string"==typeof c.name?c.name:void 0;Object.defineProperty(l,"name",{value:"node ("+r.type+(e?"<"+e+">":"")+")"})}return l;function l(){let c,l,d,h=AC;if((!t||o(r,s,u[u.length-1]||void 0))&&(h=function(e){return Array.isArray(e)?e:"number"==typeof e?[SC,e]:null==e?AC:[e]}(n(r,u)),h[0]===_C))return h;if("children"in r&&r.children){const t=r;if(t.children&&h[0]!==FC)for(l=(i?t.children.length:-1)+a,d=u.concat(t);l>-1&&l<t.children.length;){const n=t.children[l];if(c=e(n,l,d)(),c[0]===_C)return c;l="number"==typeof c[1]?c[1]:l+a}}return h}}(e,void 0,[])()}function xC(e,t,n,i){let r,o,a;"function"==typeof t&&"function"!=typeof n?(o=void 0,a=t,r=n):(o=t,a=n,r=i),wC(e,o,function(e,t){const n=t[t.length-1],i=n?n.children.indexOf(e):void 0;return a(e,i,n)},r)}const PC=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,RC=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),IC={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function QC(e,t){const n=function(e){const t="root"===e.type?e.children[0]:e;return!(!t||"doctype"!==t.type&&("element"!==t.type||"html"!==t.tagName.toLowerCase()))}(e),i=YD("type",{handlers:{root:BC,element:MC,text:LC,comment:UC,doctype:$C,raw:qC},unknown:XC}),r={parser:n?new SE(IC):SE.getFragmentParser(void 0,IC),handle(e){i(e,r)},stitches:!1,options:t||{}};i(e,r),zC(r,Qg());const o=function(e,t){const n=t||{};return zD({file:n.file||void 0,location:!1,schema:"svg"===n.space?_D:SD,verbose:n.verbose||!1},e)}(n?r.parser.document:r.parser.getFragment(),{file:r.options.file});return r.stitches&&xC(o,"comment",function(e,t,n){const i=e;if(i.value.stitch&&n&&void 0!==t)return n.children[t]=i.value.stitch,t}),"root"===o.type&&1===o.children.length&&o.children[0].type===e.type?o.children[0]:o}function NC(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function BC(e,t){NC(e.children,t)}function MC(e,t){(function(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Lv.PLAINTEXT)return;zC(t,Qg(e));const i=t.parser.openElements.current;let r="namespaceURI"in i?i.namespaceURI:UD.html;r===UD.html&&"svg"===n&&(r=UD.svg);const o=function(e,t){return JD(e,"svg"===(t||HD).space?_D:SD)}(Be(Be({},e),{},{children:[]}),{space:r===UD.svg?"svg":"html"}),a={type:fv.START_TAG,tagName:n,tagID:Iv(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in o?o.attrs:[],location:jC(e)};t.parser.currentToken=a,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n})(e,t),NC(e.children,t),function(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&iv.includes(n)||t.parser.tokenizer.state===Lv.PLAINTEXT)return;zC(t,Ig(e));const i={type:fv.END_TAG,tagName:n,tagID:Iv(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:jC(e)};t.parser.currentToken=i,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Lv.RCDATA||t.parser.tokenizer.state===Lv.RAWTEXT||t.parser.tokenizer.state===Lv.SCRIPT_DATA)&&(t.parser.tokenizer.state=Lv.DATA)}(e,t)}function LC(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:fv.CHARACTER,chars:e.value,location:jC(e)};zC(t,Qg(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function $C(e,t){const n={type:fv.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:jC(e)};zC(t,Qg(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function UC(e,t){const n=e.value,i={type:fv.COMMENT,data:n,location:jC(e)};zC(t,Qg(e)),t.parser.currentToken=i,t.parser._processToken(t.parser.currentToken)}function qC(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,ZC(t,Qg(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(PC,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),72===t.parser.tokenizer.state||78===t.parser.tokenizer.state){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const e=t.parser.tokenizer._consume();t.parser.tokenizer._callState(e)}}function XC(e,t){const n=e;if(!t.options.passThrough||!t.options.passThrough.includes(n.type)){let e="";throw RC.has(n.type)&&(e=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+e)}!function(e,t){t.stitches=!0;const n=function(e){return Rg("children"in e?Be(Be({},e),{},{children:[]}):e)}(e);if("children"in e&&"children"in n){const i=QC({type:"root",children:e.children},t.options);n.children=i.children}UC({type:"comment",value:{stitch:n}},t)}(n,t)}function zC(e,t){ZC(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Lv.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function ZC(e,t){if(t&&void 0!==t.offset){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=1-t.column,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function jC(e){const t=Qg(e)||{line:void 0,column:void 0,offset:void 0},n=Ig(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function WC(e){return function(t,n){return QC(t,Be(Be({},e),{},{file:n}))}}function GC(e){let{defaultOrigin:t="",allowedLinkPrefixes:n=[],allowedImagePrefixes:i=[],allowDataImages:r=!1,allowedProtocols:o=[],blockedImageClass:a="inline-block bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 px-3 py-1 rounded text-sm",blockedLinkClass:s="text-gray-500"}=e;const u=n.length&&!n.every(e=>"*"===e),c=i.length&&!i.every(e=>"*"===e);if(!t&&(u||c))throw new Error("defaultOrigin is required when allowedLinkPrefixes or allowedImagePrefixes are provided");return e=>{xC(e,eb(t,n,i,r,o,a,s))}}function VC(e,t){if("string"!=typeof e)return null;try{return new URL(e)}catch(n){if(t)try{return new URL(e,t)}catch(e){return null}if(e.startsWith("/")||e.startsWith("./")||e.startsWith("../"))try{return new URL(e,"http://example.com")}catch(e){return null}return null}}const YC=new Set(["https:","http:","irc:","ircs:","mailto:","xmpp:","blob:"]),HC=new Set(["javascript:","data:","file:","vbscript:"]);function KC(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];if(!e)return null;if("string"==typeof e&&e.startsWith("#")&&!r)try{if(new URL(e,"http://example.com").hash===e)return e}catch(e){}if("string"==typeof e&&e.startsWith("data:"))return r&&i&&e.startsWith("data:image/")?e:null;if("string"==typeof e&&e.startsWith("blob:")){try{if("blob:"===new URL(e).protocol&&e.length>5){const t=e.substring(5);if(t&&t.length>0&&"invalid"!==t)return e}}catch(e){return null}return null}const a=VC(e,n);if(!a||HC.has(a.protocol)||!(YC.has(a.protocol)||o.includes(a.protocol)||o.includes("*")))return null;if("mailto:"===a.protocol||!a.protocol.match(/^https?:$/))return a.href;const s=function(e){return"string"==typeof e&&(e.startsWith("/")||e.startsWith("./")||e.startsWith("../"))}(e);return a&&t.some(e=>{const t=VC(e,n);return!(!t||t.origin!==a.origin)&&a.href.startsWith(t.href)})?s?a.pathname+a.search+a.hash:a.href:t.includes("*")?"https:"!==a.protocol&&"http:"!==a.protocol?null:s?a.pathname+a.search+a.hash:a.href:null}const JC=Symbol("node-seen"),eb=(e,t,n,i,r,o,a)=>{const s=(u,c,l)=>{if("element"!==u.type||u[JC])return SC;if("a"===u.tagName){const n=KC(u.properties.href,t,e,!1,!1,r);return null===n?(u[JC]=!0,xC(u,s),l&&"number"==typeof c&&(l.children[c]={type:"element",tagName:"span",properties:{title:"Blocked URL: "+String(u.properties.href),class:a},children:[...u.children,{type:"text",value:" [blocked]"}]}),FC):(u.properties.href=n,u.properties.target="_blank",u.properties.rel="noopener noreferrer",SC)}if("img"===u.tagName){const t=KC(u.properties.src,n,e,i,!0,r);return null===t?(u[JC]=!0,xC(u,s),l&&"number"==typeof c&&(l.children[c]={type:"element",tagName:"span",properties:{class:o},children:[{type:"text",value:"[Image blocked: "+String(u.properties.alt||"No description")+"]"}]}),FC):(u.properties.src=t,SC)}return SC};return s},tb=42,nb=95,ib=126,rb="emphasisSequence",ob="strongSequence",ab=Db(/[A-Za-z]/),sb=Db(/[\dA-Za-z]/),ub=Db(/[#-'*+\--9=?A-Z^-~]/);function cb(e){return null!==e&&(e<32||127===e)}const lb=Db(/\d/),db=Db(/[\dA-Fa-f]/),hb=Db(/[!-/:-@[-`{-~]/);function pb(e){return null!==e&&e<-2}function fb(e){return null!==e&&(e<0||32===e)}function mb(e){return-2===e||-1===e||32===e}const Ob=Db(new RegExp("\\p{P}|\\p{S}","u")),gb=Db(/\s/);function Db(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}var vb=Object.defineProperty;function Eb(e){if(!e||e<4352)return!1;switch(function(e){return function(e){if(!Number.isSafeInteger(e))throw new TypeError("Expected a code point, got `".concat(typeof e,"`."))}(e),function(e){return function(e){return 161===e||164===e||167===e||168===e||170===e||173===e||174===e||e>=176&&e<=180||e>=182&&e<=186||e>=188&&e<=191||198===e||208===e||215===e||216===e||e>=222&&e<=225||230===e||e>=232&&e<=234||236===e||237===e||240===e||242===e||243===e||e>=247&&e<=250||252===e||254===e||257===e||273===e||275===e||283===e||294===e||295===e||299===e||e>=305&&e<=307||312===e||e>=319&&e<=322||324===e||e>=328&&e<=331||333===e||338===e||339===e||358===e||359===e||363===e||462===e||464===e||466===e||468===e||470===e||472===e||474===e||476===e||593===e||609===e||708===e||711===e||e>=713&&e<=715||717===e||720===e||e>=728&&e<=731||733===e||735===e||e>=768&&e<=879||e>=913&&e<=929||e>=931&&e<=937||e>=945&&e<=961||e>=963&&e<=969||1025===e||e>=1040&&e<=1103||1105===e||8208===e||e>=8211&&e<=8214||8216===e||8217===e||8220===e||8221===e||e>=8224&&e<=8226||e>=8228&&e<=8231||8240===e||8242===e||8243===e||8245===e||8251===e||8254===e||8308===e||8319===e||e>=8321&&e<=8324||8364===e||8451===e||8453===e||8457===e||8467===e||8470===e||8481===e||8482===e||8486===e||8491===e||8531===e||8532===e||e>=8539&&e<=8542||e>=8544&&e<=8555||e>=8560&&e<=8569||8585===e||e>=8592&&e<=8601||8632===e||8633===e||8658===e||8660===e||8679===e||8704===e||8706===e||8707===e||8711===e||8712===e||8715===e||8719===e||8721===e||8725===e||8730===e||e>=8733&&e<=8736||8739===e||8741===e||e>=8743&&e<=8748||8750===e||e>=8756&&e<=8759||8764===e||8765===e||8776===e||8780===e||8786===e||8800===e||8801===e||e>=8804&&e<=8807||8810===e||8811===e||8814===e||8815===e||8834===e||8835===e||8838===e||8839===e||8853===e||8857===e||8869===e||8895===e||8978===e||e>=9312&&e<=9449||e>=9451&&e<=9547||e>=9552&&e<=9587||e>=9600&&e<=9615||e>=9618&&e<=9621||9632===e||9633===e||e>=9635&&e<=9641||9650===e||9651===e||9654===e||9655===e||9660===e||9661===e||9664===e||9665===e||e>=9670&&e<=9672||9675===e||e>=9678&&e<=9681||e>=9698&&e<=9701||9711===e||9733===e||9734===e||9737===e||9742===e||9743===e||9756===e||9758===e||9792===e||9794===e||9824===e||9825===e||e>=9827&&e<=9829||e>=9831&&e<=9834||9836===e||9837===e||9839===e||9886===e||9887===e||9919===e||e>=9926&&e<=9933||e>=9935&&e<=9939||e>=9941&&e<=9953||9955===e||9960===e||9961===e||e>=9963&&e<=9969||9972===e||e>=9974&&e<=9977||9979===e||9980===e||9982===e||9983===e||10045===e||e>=10102&&e<=10111||e>=11094&&e<=11097||e>=12872&&e<=12879||e>=57344&&e<=63743||e>=65024&&e<=65039||65533===e||e>=127232&&e<=127242||e>=127248&&e<=127277||e>=127280&&e<=127337||e>=127344&&e<=127373||127375===e||127376===e||e>=127387&&e<=127404||e>=917760&&e<=917999||e>=983040&&e<=1048573||e>=1048576&&e<=1114109}(e)?"ambiguous":function(e){return 12288===e||e>=65281&&e<=65376||e>=65504&&e<=65510}(e)?"fullwidth":8361===e||e>=65377&&e<=65470||e>=65474&&e<=65479||e>=65482&&e<=65487||e>=65490&&e<=65495||e>=65498&&e<=65500||e>=65512&&e<=65518?"halfwidth":e>=32&&e<=126||162===e||163===e||165===e||166===e||172===e||175===e||e>=10214&&e<=10221||10629===e||10630===e?"narrow":function(e){return e>=4352&&e<=4447||8986===e||8987===e||9001===e||9002===e||e>=9193&&e<=9196||9200===e||9203===e||9725===e||9726===e||9748===e||9749===e||e>=9776&&e<=9783||e>=9800&&e<=9811||9855===e||e>=9866&&e<=9871||9875===e||9889===e||9898===e||9899===e||9917===e||9918===e||9924===e||9925===e||9934===e||9940===e||9962===e||9970===e||9971===e||9973===e||9978===e||9981===e||9989===e||9994===e||9995===e||10024===e||10060===e||10062===e||e>=10067&&e<=10069||10071===e||e>=10133&&e<=10135||10160===e||10175===e||11035===e||11036===e||11088===e||11093===e||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12287||e>=12289&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12591||e>=12593&&e<=12686||e>=12688&&e<=12773||e>=12783&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=94176&&e<=94180||e>=94192&&e<=94198||e>=94208&&e<=101589||e>=101631&&e<=101662||e>=101760&&e<=101874||e>=110576&&e<=110579||e>=110581&&e<=110587||110589===e||110590===e||e>=110592&&e<=110882||110898===e||e>=110928&&e<=110930||110933===e||e>=110948&&e<=110951||e>=110960&&e<=111355||e>=119552&&e<=119638||e>=119648&&e<=119670||126980===e||127183===e||127374===e||e>=127377&&e<=127386||e>=127488&&e<=127490||e>=127504&&e<=127547||e>=127552&&e<=127560||127568===e||127569===e||e>=127584&&e<=127589||e>=127744&&e<=127776||e>=127789&&e<=127797||e>=127799&&e<=127868||e>=127870&&e<=127891||e>=127904&&e<=127946||e>=127951&&e<=127955||e>=127968&&e<=127984||127988===e||e>=127992&&e<=128062||128064===e||e>=128066&&e<=128252||e>=128255&&e<=128317||e>=128331&&e<=128334||e>=128336&&e<=128359||128378===e||128405===e||128406===e||128420===e||e>=128507&&e<=128591||e>=128640&&e<=128709||128716===e||e>=128720&&e<=128722||e>=128725&&e<=128728||e>=128732&&e<=128735||128747===e||128748===e||e>=128756&&e<=128764||e>=128992&&e<=129003||129008===e||e>=129292&&e<=129338||e>=129340&&e<=129349||e>=129351&&e<=129535||e>=129648&&e<=129660||e>=129664&&e<=129674||e>=129678&&e<=129734||129736===e||e>=129741&&e<=129756||e>=129759&&e<=129770||e>=129775&&e<=129784||e>=131072&&e<=196605||e>=196608&&e<=262141}(e)?"wide":"neutral"}(e)}(e)){case"fullwidth":case"halfwidth":return!0;case"wide":return!function(e){return new RegExp("^\\p{Emoji_Presentation}","u").test(String.fromCodePoint(e))}(e);case"narrow":return!1;case"ambiguous":return 917760<=e&&e<=917999&&null;case"neutral":return new RegExp("^\\p{sc=Hangul}","u").test(String.fromCodePoint(e))}}var Cb,bb=yb(new RegExp("\\p{P}|\\p{S}","u")),kb=yb(/\s/);function yb(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCodePoint(t))}}function Tb(e){if(null===e||fb(e)||kb(e))return 1;let t=0;if(e>=4352){if(function(e){return null!==e&&e>=65024&&e<=65038}(e))return Cb.nonEmojiGeneralUseVS;switch(Eb(e)){case null:return Cb.ivs;case!0:t|=Cb.cjk}}return bb(e)&&(t|=2),t}function Ab(e,t,n){if(!function(e){return e===Cb.nonEmojiGeneralUseVS}(e))return e;const i=t(),r=Tb(i);return!i||Sb(r)?e:function(e,t){return!(65025!==t||!e||e<8216||8216!==e&&8217!==e&&8220!==e&&8221!==e)}(i,n)?Cb.cjkPunctuation:function(e){return e&~Cb.ivs}(r)}function Sb(e){return!!(1&e)}function _b(e){return 2===(e&Cb.cjkPunctuation)}function Fb(e){return!!(e&Cb.cjk)}function wb(e){return!!(e&Cb.spaceOrPunctuation)}function xb(e){return!!(e&&e>=55296&&e<=56319)}function Pb(e){return!!(e&&e>=56320&&e<=57343)}function Rb(e,t,n){if(t._bufferIndex<2)return e;const i=n({start:Be(Be({},t),{},{_bufferIndex:t._bufferIndex-2}),end:t}).codePointAt(0);return i&&i>=65536?i:e}(e=>{e.spaceOrPunctuation=3,e.cjk=4096,e.cjkPunctuation=4098,e.ivs=8192,e.cjkOrIvs=12288,e.nonEmojiGeneralUseVS=16384,e.variationSelector=24576,e.ivsToCjkRightShift=1})(Cb||(Cb={}));var Ib=class{constructor(e,t,n){this.previousCode=e,this.nowPoint=t,this.sliceSerialize=n,((e,t,n)=>{((e,t,n)=>{t in e?vb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,t+"",n)})(this,"cachedValue")}value(){return void 0===this.cachedValue&&(this.cachedValue=function(e,t,n){const i=e>=65536?2:1;if(t._bufferIndex<1+i)return null;const r=t._bufferIndex-i-2,o=n({start:Be(Be({},t),{},{_bufferIndex:r>=0?r:0}),end:Be(Be({},t),{},{_bufferIndex:t._bufferIndex-i})}),a=o.charCodeAt(o.length-1);if(Number.isNaN(a))return null;if(o.length<2||a<56320||57343<a)return a;const s=o.codePointAt(0);return s&&s>=65536?s:a}(this.previousCode,this.nowPoint,this.sliceSerialize)),this.cachedValue}};function Qb(e,t,n){const i=n({start:t,end:Be(Be({},t),{},{_bufferIndex:t._bufferIndex+2})}).codePointAt(0);return i&&i>=65536?i:e}function Nb(e,t,n,i){const r=e.length;let o,a=0;if(t=t<0?-t>r?0:r+t:t>r?r:t,n=n>0?n:0,i.length<1e4)o=Array.from(i),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<i.length;)o=i.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function Bb(e,t){return e.length>0?(Nb(e,e.length,0,t),e):t}function Mb(e,t,n){const i=[];let r=-1;for(;++r<e.length;){const o=e[r].resolveAll;o&&!i.includes(o)&&(t=o(t,n),i.push(o))}return t}var Lb={name:"attention",resolveAll:function(e,t){let n,i,r,o,a,s,u,c,l=-1;for(;++l<e.length;)if("enter"===e[l][0]&&"attentionSequence"===e[l][1].type&&e[l][1]._close)for(n=l;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[l][1]).charCodeAt(0)){if((e[n][1]._close||e[l][1]._open)&&(e[l][1].end.offset-e[l][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[l][1].end.offset-e[l][1].start.offset)%3))continue;s=e[n][1].end.offset-e[n][1].start.offset>1&&e[l][1].end.offset-e[l][1].start.offset>1?2:1;const d=Be({},e[n][1].end),h=Be({},e[l][1].start);$b(d,-s),$b(h,s),o={type:s>1?ob:rb,start:d,end:Be({},e[n][1].end)},a={type:s>1?ob:rb,start:Be({},e[l][1].start),end:h},r={type:s>1?"strongText":"emphasisText",start:Be({},e[n][1].end),end:Be({},e[l][1].start)},i={type:s>1?"strong":"emphasis",start:Be({},o.start),end:Be({},a.end)},e[n][1].end=Be({},o.start),e[l][1].start=Be({},a.end),u=[],e[n][1].end.offset-e[n][1].start.offset&&(u=Bb(u,[["enter",e[n][1],t],["exit",e[n][1],t]])),u=Bb(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",r,t]]),t.parser.constructs.insideSpan.null,u=Bb(u,Mb(t.parser.constructs.insideSpan.null,e.slice(n+1,l),t)),u=Bb(u,[["exit",r,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[l][1].end.offset-e[l][1].start.offset?(c=2,u=Bb(u,[["enter",e[l][1],t],["exit",e[l][1],t]])):c=0,Nb(e,n-1,l-n+3,u),l=n+u.length-c-2;break}for(l=-1;++l<e.length;)"attentionSequence"===e[l][1].type&&(e[l][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,{now:i,sliceSerialize:r,previous:o}=this,a=Pb(o)?Rb(o,i(),r):o,s=Tb(a),u=new Ib(a,i(),r),c=Ab(s,u.value.bind(u),a);let l;return function(t){return l=t,e.enter("attentionSequence"),d(t)};function d(o){if(o===l)return e.consume(o),d;const s=e.exit("attentionSequence"),u=Tb(xb(o)?Qb(o,i(),r):o),h=_b(c),p=h||Sb(c),f=_b(u),m=f||Sb(u),O=function(e){return!!(e&Cb.cjkOrIvs)}(c),g=!m||f&&(p||O)||n.includes(o),D=!p||h&&(m||Fb(u))||n.includes(a);return s._open=!!(42===l?g:g&&(wb(c)||!D)),s._close=!!(42===l?D:D&&(wb(u)||!g)),t(o)}}};function $b(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}function Ub(e,t){const n=String(e);if("string"!=typeof t)throw new TypeError("Expected character");let i=0,r=n.indexOf(t);for(;-1!==r;)i++,r=n.indexOf(t,r+t.length);return i}function qb(e){return"string"==typeof e?new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e),"g"):e}function Xb(e){return"function"==typeof e?e:function(){return e}}const zb="phrasing",Zb=["autolink","link","image","label"];function jb(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Wb(e){this.config.enter.autolinkProtocol.call(this,e)}function Gb(e){this.config.exit.autolinkProtocol.call(this,e)}function Vb(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Yb(e){this.config.exit.autolinkEmail.call(this,e)}function Hb(e){this.exit(e)}function Kb(e){!function(e,t,n){const i=kC((n||{}).ignore||[]),r=function(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let i=-1;for(;++i<n.length;){const e=n[i];t.push([qb(e[0]),Xb(e[1])])}return t}(t);let o=-1;for(;++o<r.length;)wC(e,"text",a);function a(e,t){let n,a=-1;for(;++a<t.length;){const e=t[a],r=n?n.children:void 0;if(i(e,r?r.indexOf(e):void 0,n))return;n=e}if(n)return function(e,t){const n=t[t.length-1],i=r[o][0],a=r[o][1];let s=0;const u=n.children.indexOf(e);let c=!1,l=[];i.lastIndex=0;let d=i.exec(e.value);for(;d;){const n=d.index,r={index:d.index,input:d.input,stack:[...t,e]};let o=a(...d,r);if("string"==typeof o&&(o=o.length>0?{type:"text",value:o}:void 0),!1===o?i.lastIndex=n+1:(s!==n&&l.push({type:"text",value:e.value.slice(s,n)}),Array.isArray(o)?l.push(...o):o&&l.push(o),s=n+d[0].length,c=!0),!i.global)break;d=i.exec(e.value)}return c?(s<e.value.length&&l.push({type:"text",value:e.value.slice(s)}),n.children.splice(u,1,...l)):l=[e],u+l.length}(e,t)}}(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Jb],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),ek]],{ignore:["link","linkReference"]})}function Jb(e,t,n,i,r){let o="";if(!tk(r)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!function(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}(n)))return!1;const a=function(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],i=n.indexOf(")");const r=Ub(e,"(");let o=Ub(e,")");for(;-1!==i&&r>o;)e+=n.slice(0,i+1),n=n.slice(i+1),i=n.indexOf(")"),o++;return[e,n]}(n+i);if(!a[0])return!1;const s={type:"link",title:null,url:o+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[s,{type:"text",value:a[1]}]:s}function ek(e,t,n,i){return!(!tk(i,!0)||/[-\d_]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function tk(e,t){const n=e.input.charCodeAt(e.index-1);return(0===e.index||gb(n)||Ob(n))&&(!t||47!==n)}function nk(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}function ik(){this.buffer()}function rk(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function ok(){this.buffer()}function ak(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function sk(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=nk(this.sliceSerialize(e)).toLowerCase(),n.label=t}function uk(e){this.exit(e)}function ck(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=nk(this.sliceSerialize(e)).toLowerCase(),n.label=t}function lk(e){this.exit(e)}function dk(e,t,n,i){const r=n.createTracker(i);let o=r.move("[^");const a=n.enter("footnoteReference"),s=n.enter("reference");return o+=r.move(n.safe(n.associationId(e),{after:"]",before:o})),s(),a(),o+=r.move("]"),o}function hk(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:function(e,n,i,r){const o=i.createTracker(r);let a=o.move("[^");const s=i.enter("footnoteDefinition"),u=i.enter("label");return a+=o.move(i.safe(i.associationId(e),{before:a,after:"]"})),u(),a+=o.move("]:"),e.children&&e.children.length>0&&(o.shift(4),a+=o.move((t?"\n":" ")+i.indentLines(i.containerFlow(e,o.current()),t?fk:pk))),s(),a},footnoteReference:dk},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]}}function pk(e,t,n){return 0===t?e:fk(e,0,n)}function fk(e,t,n){return(n?"":"    ")+e}dk.peek=function(){return"["};const mk=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];function Ok(e){this.enter({type:"delete",children:[]},e)}function gk(e){this.exit(e)}function Dk(e,t,n,i){const r=n.createTracker(i),o=n.enter("strikethrough");let a=r.move("~~");return a+=n.containerPhrasing(e,Be(Be({},r.current()),{},{before:a,after:"~"})),a+=r.move("~~"),o(),a}function vk(e){return e.length}function Ek(e){return null==e?"":String(e)}function Ck(e){const t="string"==typeof e?e.codePointAt(0):0;return 67===t||99===t?99:76===t||108===t?108:82===t||114===t?114:0}function bk(e,t,n){return">"+(n?"":" ")+e}function kk(e,t){return yk(e,t.inConstruct,!0)&&!yk(e,t.notInConstruct,!1)}function yk(e,t,n){if("string"==typeof t&&(t=[t]),!t||0===t.length)return n;let i=-1;for(;++i<t.length;)if(e.includes(t[i]))return!0;return!1}function Tk(e,t,n,i){let r=-1;for(;++r<n.unsafe.length;)if("\n"===n.unsafe[r].character&&kk(n.stack,n.unsafe[r]))return/[ \t]/.test(i.before)?"":" ";return"\\\n"}function Ak(e,t,n){return(n?"":"    ")+e}function Sk(e){const t=e.options.quote||'"';if('"'!==t&&"'"!==t)throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function _k(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Fk(e){return null===e||fb(e)||gb(e)?1:Ob(e)?2:void 0}function wk(e,t,n){const i=Fk(e),r=Fk(t);return void 0===i?void 0===r?"_"===n?{inside:!0,outside:!0}:{inside:!1,outside:!1}:1===r?{inside:!0,outside:!0}:{inside:!1,outside:!0}:1===i?void 0===r?{inside:!1,outside:!1}:1===r?{inside:!0,outside:!0}:{inside:!1,outside:!1}:void 0===r?{inside:!1,outside:!1}:1===r?{inside:!0,outside:!1}:{inside:!1,outside:!1}}function xk(e,t,n,i){const r=function(e){const t=e.options.emphasis||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}(n),o=n.enter("emphasis"),a=n.createTracker(i),s=a.move(r);let u=a.move(n.containerPhrasing(e,Be({after:r,before:s},a.current())));const c=u.charCodeAt(0),l=wk(i.before.charCodeAt(i.before.length-1),c,r);l.inside&&(u=_k(c)+u.slice(1));const d=u.charCodeAt(u.length-1),h=wk(i.after.charCodeAt(0),d,r);h.inside&&(u=u.slice(0,-1)+_k(d));const p=a.move(r);return o(),n.attentionEncodeSurroundingInfo={after:h.outside,before:l.outside},s+u+p}Dk.peek=function(){return"~"},xk.peek=function(e,t,n){return n.options.emphasis||"*"};const Pk={};function Rk(e,t){return Ik(e,"boolean"!=typeof Pk.includeImageAlt||Pk.includeImageAlt,"boolean"!=typeof Pk.includeHtml||Pk.includeHtml)}function Ik(e,t,n){if(function(e){return!(!e||"object"!=typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Qk(e.children,t,n)}return Array.isArray(e)?Qk(e,t,n):""}function Qk(e,t,n){const i=[];let r=-1;for(;++r<e.length;)i[r]=Ik(e[r],t,n);return i.join("")}function Nk(e){return e.value||""}function Bk(e,t,n,i){const r=Sk(n),o='"'===r?"Quote":"Apostrophe",a=n.enter("image");let s=n.enter("label");const u=n.createTracker(i);let c=u.move("![");return c+=u.move(n.safe(e.alt,Be({before:c,after:"]"},u.current()))),c+=u.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(e.url,Be({before:c,after:">"},u.current()))),c+=u.move(">")):(s=n.enter("destinationRaw"),c+=u.move(n.safe(e.url,Be({before:c,after:e.title?" ":")"},u.current())))),s(),e.title&&(s=n.enter("title".concat(o)),c+=u.move(" "+r),c+=u.move(n.safe(e.title,Be({before:c,after:r},u.current()))),c+=u.move(r),s()),c+=u.move(")"),a(),c}function Mk(e,t,n,i){const r=e.referenceType,o=n.enter("imageReference");let a=n.enter("label");const s=n.createTracker(i);let u=s.move("![");const c=n.safe(e.alt,Be({before:u,after:"]"},s.current()));u+=s.move(c+"]["),a();const l=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),Be({before:u,after:"]"},s.current()));return a(),n.stack=l,o(),"full"!==r&&c&&c===d?"shortcut"===r?u=u.slice(0,-1):u+=s.move("]"):u+=s.move(d+"]"),u}function Lk(e,t,n){let i=e.value||"",r="`",o=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(i);)r+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++o<n.unsafe.length;){const e=n.unsafe[o],t=n.compilePattern(e);let r;if(e.atBreak)for(;r=t.exec(i);){let e=r.index;10===i.charCodeAt(e)&&13===i.charCodeAt(e-1)&&e--,i=i.slice(0,e)+" "+i.slice(r.index+1)}}return r+i+r}function $k(e,t){const n=Rk(e);return!(t.options.resourceLink||!e.url||e.title||!e.children||1!==e.children.length||"text"!==e.children[0].type||n!==e.url&&"mailto:"+n!==e.url||!/^[a-z][a-z+.-]+:/i.test(e.url)||/[\0- <>\u007F]/.test(e.url))}function Uk(e,t,n,i){const r=Sk(n),o='"'===r?"Quote":"Apostrophe",a=n.createTracker(i);let s,u;if($k(e,n)){const t=n.stack;n.stack=[],s=n.enter("autolink");let i=a.move("<");return i+=a.move(n.containerPhrasing(e,Be({before:i,after:">"},a.current()))),i+=a.move(">"),s(),n.stack=t,i}s=n.enter("link"),u=n.enter("label");let c=a.move("[");return c+=a.move(n.containerPhrasing(e,Be({before:c,after:"]("},a.current()))),c+=a.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(e.url,Be({before:c,after:">"},a.current()))),c+=a.move(">")):(u=n.enter("destinationRaw"),c+=a.move(n.safe(e.url,Be({before:c,after:e.title?" ":")"},a.current())))),u(),e.title&&(u=n.enter("title".concat(o)),c+=a.move(" "+r),c+=a.move(n.safe(e.title,Be({before:c,after:r},a.current()))),c+=a.move(r),u()),c+=a.move(")"),s(),c}function qk(e,t,n,i){const r=e.referenceType,o=n.enter("linkReference");let a=n.enter("label");const s=n.createTracker(i);let u=s.move("[");const c=n.containerPhrasing(e,Be({before:u,after:"]"},s.current()));u+=s.move(c+"]["),a();const l=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),Be({before:u,after:"]"},s.current()));return a(),n.stack=l,o(),"full"!==r&&c&&c===d?"shortcut"===r?u=u.slice(0,-1):u+=s.move("]"):u+=s.move(d+"]"),u}function Xk(e){const t=e.options.bullet||"*";if("*"!==t&&"+"!==t&&"-"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function zk(e){const t=e.options.rule||"*";if("*"!==t&&"-"!==t&&"_"!==t)throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}Nk.peek=function(){return"<"},Bk.peek=function(){return"!"},Mk.peek=function(){return"!"},Lk.peek=function(){return"`"},Uk.peek=function(e,t,n){return $k(e,n)?"<":"["},qk.peek=function(){return"["};const Zk=kC(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function jk(e,t,n,i){const r=function(e){const t=e.options.strong||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}(n),o=n.enter("strong"),a=n.createTracker(i),s=a.move(r+r);let u=a.move(n.containerPhrasing(e,Be({after:r,before:s},a.current())));const c=u.charCodeAt(0),l=wk(i.before.charCodeAt(i.before.length-1),c,r);l.inside&&(u=_k(c)+u.slice(1));const d=u.charCodeAt(u.length-1),h=wk(i.after.charCodeAt(0),d,r);h.inside&&(u=u.slice(0,-1)+_k(d));const p=a.move(r+r);return o(),n.attentionEncodeSurroundingInfo={after:h.outside,before:l.outside},s+u+p}jk.peek=function(e,t,n){return n.options.strong||"*"};const Wk={blockquote:function(e,t,n,i){const r=n.enter("blockquote"),o=n.createTracker(i);o.move("> "),o.shift(2);const a=n.indentLines(n.containerFlow(e,o.current()),bk);return r(),a},break:Tk,code:function(e,t,n,i){const r=function(e){const t=e.options.fence||"`";if("`"!==t&&"~"!==t)throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}(n),o=e.value||"",a="`"===r?"GraveAccent":"Tilde";if(function(e,t){return!(!1!==t.options.fences||!e.value||e.lang||!/[^ \r\n]/.test(e.value)||/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}(e,n)){const e=n.enter("codeIndented"),t=n.indentLines(o,Ak);return e(),t}const s=n.createTracker(i),u=r.repeat(Math.max(function(e,t){const n=String(e);let i=n.indexOf(t),r=i,o=0,a=0;if("string"!=typeof t)throw new TypeError("Expected substring");for(;-1!==i;)i===r?++o>a&&(a=o):o=1,r=i+t.length,i=n.indexOf(t,r);return a}(o,r)+1,3)),c=n.enter("codeFenced");let l=s.move(u);if(e.lang){const t=n.enter("codeFencedLang".concat(a));l+=s.move(n.safe(e.lang,Be({before:l,after:" ",encode:["`"]},s.current()))),t()}if(e.lang&&e.meta){const t=n.enter("codeFencedMeta".concat(a));l+=s.move(" "),l+=s.move(n.safe(e.meta,Be({before:l,after:"\n",encode:["`"]},s.current()))),t()}return l+=s.move("\n"),o&&(l+=s.move(o+"\n")),l+=s.move(u),c(),l},definition:function(e,t,n,i){const r=Sk(n),o='"'===r?"Quote":"Apostrophe",a=n.enter("definition");let s=n.enter("label");const u=n.createTracker(i);let c=u.move("[");return c+=u.move(n.safe(n.associationId(e),Be({before:c,after:"]"},u.current()))),c+=u.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(e.url,Be({before:c,after:">"},u.current()))),c+=u.move(">")):(s=n.enter("destinationRaw"),c+=u.move(n.safe(e.url,Be({before:c,after:e.title?" ":"\n"},u.current())))),s(),e.title&&(s=n.enter("title".concat(o)),c+=u.move(" "+r),c+=u.move(n.safe(e.title,Be({before:c,after:r},u.current()))),c+=u.move(r),s()),a(),c},emphasis:xk,hardBreak:Tk,heading:function(e,t,n,i){const r=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(i);if(function(e,t){let n=!1;return xC(e,function(e){if("value"in e&&/\r?\n|\r/.test(e.value)||"break"===e.type)return n=!0,_C}),!(e.depth&&!(e.depth<3)||!Rk(e)||!t.options.setext&&!n)}(e,n)){const t=n.enter("headingSetext"),i=n.enter("phrasing"),a=n.containerPhrasing(e,Be(Be({},o.current()),{},{before:"\n",after:"\n"}));return i(),t(),a+"\n"+(1===r?"=":"-").repeat(a.length-(Math.max(a.lastIndexOf("\r"),a.lastIndexOf("\n"))+1))}const a="#".repeat(r),s=n.enter("headingAtx"),u=n.enter("phrasing");o.move(a+" ");let c=n.containerPhrasing(e,Be({before:"# ",after:"\n"},o.current()));return/^[\t ]/.test(c)&&(c=_k(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),u(),s(),c},html:Nk,image:Bk,imageReference:Mk,inlineCode:Lk,link:Uk,linkReference:qk,list:function(e,t,n,i){const r=n.enter("list"),o=n.bulletCurrent;let a=e.ordered?function(e){const t=e.options.bulletOrdered||".";if("."!==t&&")"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}(n):Xk(n);const s=e.ordered?"."===a?")":".":function(e){const t=Xk(e),n=e.options.bulletOther;if(!n)return"*"===t?"-":"*";if("*"!==n&&"+"!==n&&"-"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}(n);let u=!(!t||!n.bulletLastUsed)&&a===n.bulletLastUsed;if(!e.ordered){const t=e.children?e.children[0]:void 0;if(("*"===a||"-"===a)&&t&&(!t.children||!t.children[0])&&"list"===n.stack[n.stack.length-1]&&"listItem"===n.stack[n.stack.length-2]&&"list"===n.stack[n.stack.length-3]&&"listItem"===n.stack[n.stack.length-4]&&0===n.indexStack[n.indexStack.length-1]&&0===n.indexStack[n.indexStack.length-2]&&0===n.indexStack[n.indexStack.length-3]&&(u=!0),zk(n)===a&&t){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n&&"listItem"===n.type&&n.children&&n.children[0]&&"thematicBreak"===n.children[0].type){u=!0;break}}}}u&&(a=s),n.bulletCurrent=a;const c=n.containerFlow(e,i);return n.bulletLastUsed=a,n.bulletCurrent=o,r(),c},listItem:function(e,t,n,i){const r=function(e){const t=e.options.listItemIndent||"one";if("tab"!==t&&"one"!==t&&"mixed"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}(n);let o=n.bulletCurrent||Xk(n);t&&"list"===t.type&&t.ordered&&(o=("number"==typeof t.start&&t.start>-1?t.start:1)+(!1===n.options.incrementListMarker?0:t.children.indexOf(e))+o);let a=o.length+1;("tab"===r||"mixed"===r&&(t&&"list"===t.type&&t.spread||e.spread))&&(a=4*Math.ceil(a/4));const s=n.createTracker(i);s.move(o+" ".repeat(a-o.length)),s.shift(a);const u=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,s.current()),function(e,t,n){return t?(n?"":" ".repeat(a))+e:(n?o:o+" ".repeat(a-o.length))+e});return u(),c},paragraph:function(e,t,n,i){const r=n.enter("paragraph"),o=n.enter("phrasing"),a=n.containerPhrasing(e,i);return o(),r(),a},root:function(e,t,n,i){return(e.children.some(function(e){return Zk(e)})?n.containerPhrasing:n.containerFlow).call(n,e,i)},strong:jk,text:function(e,t,n,i){return n.safe(e.value,i)},thematicBreak:function(e,t,n){const i=(zk(n)+(n.options.ruleSpaces?" ":"")).repeat(function(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}(n));return n.options.ruleSpaces?i.slice(0,-1):i}},Gk=document.createElement("i");function Vk(e){const t="&"+e+";";Gk.innerHTML=t;const n=Gk.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&n!==t&&n}function Yk(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||!(65535&~n)||65534==(65535&n)||n>1114111?"":String.fromCodePoint(n)}const Hk=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Kk(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return Yk(n.slice(t?2:1),t?16:10)}return Vk(n)||e}function Jk(e){const t=e._align;this.enter({type:"table",align:t.map(function(e){return"none"===e?null:e}),children:[]},e),this.data.inTable=!0}function ey(e){this.exit(e),this.data.inTable=void 0}function ty(e){this.enter({type:"tableRow",children:[]},e)}function ny(e){this.exit(e)}function iy(e){this.enter({type:"tableCell",children:[]},e)}function ry(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,oy));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function oy(e,t){return"|"===t?t:e}function ay(e){const t=e||{},n=t.tableCellPadding,i=t.tablePipeAlign,r=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[\t :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:function(e,t,n){let i=Wk.inlineCode(e,t,n);return n.stack.includes("tableCell")&&(i=i.replace(/\|/g,"\\$&")),i},table:function(e,t,n,i){return s(function(e,t,n){const i=e.children;let r=-1;const o=[],a=t.enter("table");for(;++r<i.length;)o[r]=u(i[r],t,n);return a(),o}(e,n,i),e.align)},tableCell:a,tableRow:function(e,t,n,i){const r=s([u(e,n,i)]);return r.slice(0,r.indexOf("\n"))}}};function a(e,t,n,i){const r=n.enter("tableCell"),a=n.enter("phrasing"),s=n.containerPhrasing(e,Be(Be({},i),{},{before:o,after:o}));return a(),r(),s}function s(e,t){return function(e,t){const n=t||{},i=(n.align||[]).concat(),r=n.stringLength||vk,o=[],a=[],s=[],u=[];let c=0,l=-1;for(;++l<e.length;){const t=[],i=[];let o=-1;for(e[l].length>c&&(c=e[l].length);++o<e[l].length;){const a=Ek(e[l][o]);if(!1!==n.alignDelimiters){const e=r(a);i[o]=e,(void 0===u[o]||e>u[o])&&(u[o]=e)}t.push(a)}a[l]=t,s[l]=i}let d=-1;if("object"==typeof i&&"length"in i)for(;++d<c;)o[d]=Ck(i[d]);else{const e=Ck(i);for(;++d<c;)o[d]=e}d=-1;const h=[],p=[];for(;++d<c;){const e=o[d];let t="",i="";99===e?(t=":",i=":"):108===e?t=":":114===e&&(i=":");let r=!1===n.alignDelimiters?1:Math.max(1,u[d]-t.length-i.length);const a=t+"-".repeat(r)+i;!1!==n.alignDelimiters&&(r=t.length+r+i.length,r>u[d]&&(u[d]=r),p[d]=r),h[d]=a}a.splice(1,0,h),s.splice(1,0,p),l=-1;const f=[];for(;++l<a.length;){const e=a[l],t=s[l];d=-1;const i=[];for(;++d<c;){const r=e[d]||"";let a="",s="";if(!1!==n.alignDelimiters){const e=u[d]-(t[d]||0),n=o[d];114===n?a=" ".repeat(e):99===n?e%2?(a=" ".repeat(e/2+.5),s=" ".repeat(e/2-.5)):(a=" ".repeat(e/2),s=a):s=" ".repeat(e)}!1!==n.delimiterStart&&!d&&i.push("|"),!1!==n.padding&&!(!1===n.alignDelimiters&&""===r)&&(!1!==n.delimiterStart||d)&&i.push(" "),!1!==n.alignDelimiters&&i.push(a),i.push(r),!1!==n.alignDelimiters&&i.push(s),!1!==n.padding&&i.push(" "),(!1!==n.delimiterEnd||d!==c-1)&&i.push("|")}f.push(!1===n.delimiterEnd?i.join("").replace(/ +$/,""):i.join(""))}return f.join("\n")}(e,{align:t,alignDelimiters:i,padding:n,stringLength:r})}function u(e,t,n){const i=e.children;let r=-1;const o=[],s=t.enter("tableRow");for(;++r<i.length;)o[r]=a(i[r],0,t,n);return s(),o}}function sy(e){const t=this.stack[this.stack.length-2];t.type,t.checked="taskListCheckValueChecked"===e.type}function uy(e){const t=this.stack[this.stack.length-2];if(t&&"listItem"===t.type&&"boolean"==typeof t.checked){const e=this.stack[this.stack.length-1];e.type;const n=e.children[0];if(n&&"text"===n.type){const i=t.children;let r,o=-1;for(;++o<i.length;){const e=i[o];if("paragraph"===e.type){r=e;break}}r===e&&(n.value=n.value.slice(1),0===n.value.length?e.children.shift():e.position&&n.position&&"number"==typeof n.position.start.offset&&(n.position.start.column++,n.position.start.offset++,e.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function cy(e,t,n,i){const r=e.children[0],o="boolean"==typeof e.checked&&r&&"paragraph"===r.type,a="["+(e.checked?"x":" ")+"] ",s=n.createTracker(i);o&&s.move(a);let u=Wk.listItem(e,t,n,Be(Be({},i),s.current()));return o&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(e){return e+a})),u}const ly={}.hasOwnProperty;function dy(e){const t={};let n=-1;for(;++n<e.length;)hy(t,e[n]);return t}function hy(e,t){let n;for(n in t){const i=(ly.call(e,n)?e[n]:void 0)||(e[n]={}),r=t[n];let o;if(r)for(o in r){ly.call(i,o)||(i[o]=[]);const e=r[o];py(i[o],Array.isArray(e)?e:e?[e]:[])}}}function py(e,t){let n=-1;const i=[];for(;++n<t.length;)("after"===t[n].add?e:i).push(t[n]);Nb(e,0,0,i)}const fy={tokenize:function(e,t,n){let i=0;return function t(o){return(87===o||119===o)&&i<3?(i++,e.consume(o),t):46===o&&3===i?(e.consume(o),r):n(o)};function r(e){return null===e?n(e):t(e)}},partial:!0},my={tokenize:function(e,t,n){let i,r,o;return a;function a(t){return 46===t||95===t?e.check(gy,u,s)(t):null===t||fb(t)||gb(t)||45!==t&&Ob(t)?u(t):(o=!0,e.consume(t),a)}function s(t){return 95===t?i=!0:(r=i,i=void 0),e.consume(t),a}function u(e){return r||i||!o?n(e):t(e)}},partial:!0},Oy={tokenize:function(e,t){let n=0,i=0;return r;function r(a){return 40===a?(n++,e.consume(a),r):41===a&&i<n?o(a):33===a||34===a||38===a||39===a||41===a||42===a||44===a||46===a||58===a||59===a||60===a||63===a||93===a||95===a||126===a?e.check(gy,t,o)(a):null===a||fb(a)||gb(a)?t(a):(e.consume(a),r)}function o(t){return 41===t&&i++,e.consume(t),r}},partial:!0},gy={tokenize:function(e,t,n){return i;function i(a){return 33===a||34===a||39===a||41===a||42===a||44===a||46===a||58===a||59===a||63===a||95===a||126===a?(e.consume(a),i):38===a?(e.consume(a),o):93===a?(e.consume(a),r):60===a||null===a||fb(a)||gb(a)?t(a):n(a)}function r(e){return null===e||40===e||91===e||fb(e)||gb(e)?t(e):i(e)}function o(e){return ab(e)?a(e):n(e)}function a(t){return 59===t?(e.consume(t),i):ab(t)?(e.consume(t),a):n(t)}},partial:!0},Dy={tokenize:function(e,t,n){return function(t){return e.consume(t),i};function i(e){return sb(e)?n(e):t(e)}},partial:!0},vy={name:"wwwAutolink",tokenize:function(e,t,n){const i=this;return function(t){return 87!==t&&119!==t||!yy.call(i,i.previous)||_y(i.events)?n(t):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(fy,e.attempt(my,e.attempt(Oy,r),n),n)(t))};function r(n){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(n)}},previous:yy},Ey={name:"protocolAutolink",tokenize:function(e,t,n){const i=this;let r="",o=!1;return function(t){return 72!==t&&104!==t||!Ty.call(i,i.previous)||_y(i.events)?n(t):(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),r+=String.fromCodePoint(t),e.consume(t),a)};function a(t){if(ab(t)&&r.length<5)return r+=String.fromCodePoint(t),e.consume(t),a;if(58===t){const n=r.toLowerCase();if("http"===n||"https"===n)return e.consume(t),s}return n(t)}function s(t){return 47===t?(e.consume(t),o?u:(o=!0,s)):n(t)}function u(t){return null===t||cb(t)||fb(t)||gb(t)||Ob(t)?n(t):e.attempt(my,e.attempt(Oy,c),n)(t)}function c(n){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(n)}},previous:Ty},Cy={name:"emailAutolink",tokenize:function(e,t,n){const i=this;let r,o;return function(t){return Sy(t)&&Ay.call(i,i.previous)&&!_y(i.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(t)):n(t)};function a(t){return Sy(t)?(e.consume(t),a):64===t?(e.consume(t),s):n(t)}function s(t){return 46===t?e.check(Dy,c,u)(t):45===t||95===t||sb(t)?(o=!0,e.consume(t),s):c(t)}function u(t){return e.consume(t),r=!0,s}function c(a){return o&&r&&ab(i.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(a)):n(a)}},previous:Ay},by={};let ky=48;for(;ky<123;)by[ky]=Cy,ky++,58===ky?ky=65:91===ky&&(ky=97);function yy(e){return null===e||40===e||42===e||95===e||91===e||93===e||126===e||fb(e)}function Ty(e){return!ab(e)}function Ay(e){return!(47===e||Sy(e))}function Sy(e){return 43===e||45===e||46===e||95===e||sb(e)}function _y(e){let t=e.length,n=!1;for(;t--;){const i=e[t][1];if(("labelLink"===i.type||"labelImage"===i.type)&&!i._balanced){n=!0;break}if(i._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function Fy(e){const t=[];let n=-1,i=0,r=0;for(;++n<e.length;){const o=e.charCodeAt(n);let a="";if(37===o&&sb(e.charCodeAt(n+1))&&sb(e.charCodeAt(n+2)))r=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const t=e.charCodeAt(n+1);o<56320&&t>56319&&t<57344?(a=String.fromCharCode(o,t),r=1):a=""}else a=String.fromCharCode(o);a&&(t.push(e.slice(i,n),encodeURIComponent(a)),i=n+r+1,a=""),r&&(n+=r,r=0)}return t.join("")+e.slice(i)}by[43]=Cy,by[45]=Cy,by[46]=Cy,by[95]=Cy,by[72]=[Cy,Ey],by[104]=[Cy,Ey],by[87]=[Cy,vy],by[119]=[Cy,vy];const wy={name:"attention",resolveAll:function(e,t){let n,i,r,o,a,s,u,c,l=-1;for(;++l<e.length;)if("enter"===e[l][0]&&"attentionSequence"===e[l][1].type&&e[l][1]._close)for(n=l;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[l][1]).charCodeAt(0)){if((e[n][1]._close||e[l][1]._open)&&(e[l][1].end.offset-e[l][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[l][1].end.offset-e[l][1].start.offset)%3))continue;s=e[n][1].end.offset-e[n][1].start.offset>1&&e[l][1].end.offset-e[l][1].start.offset>1?2:1;const d=Be({},e[n][1].end),h=Be({},e[l][1].start);xy(d,-s),xy(h,s),o={type:s>1?"strongSequence":"emphasisSequence",start:d,end:Be({},e[n][1].end)},a={type:s>1?"strongSequence":"emphasisSequence",start:Be({},e[l][1].start),end:h},r={type:s>1?"strongText":"emphasisText",start:Be({},e[n][1].end),end:Be({},e[l][1].start)},i={type:s>1?"strong":"emphasis",start:Be({},o.start),end:Be({},a.end)},e[n][1].end=Be({},o.start),e[l][1].start=Be({},a.end),u=[],e[n][1].end.offset-e[n][1].start.offset&&(u=Bb(u,[["enter",e[n][1],t],["exit",e[n][1],t]])),u=Bb(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",r,t]]),u=Bb(u,Mb(t.parser.constructs.insideSpan.null,e.slice(n+1,l),t)),u=Bb(u,[["exit",r,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[l][1].end.offset-e[l][1].start.offset?(c=2,u=Bb(u,[["enter",e[l][1],t],["exit",e[l][1],t]])):c=0,Nb(e,n-1,l-n+3,u),l=n+u.length-c-2;break}for(l=-1;++l<e.length;)"attentionSequence"===e[l][1].type&&(e[l][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,r=Fk(i);let o;return function(t){return o=t,e.enter("attentionSequence"),a(t)};function a(s){if(s===o)return e.consume(s),a;const u=e.exit("attentionSequence"),c=Fk(s),l=!c||2===c&&r||n.includes(s),d=!r||2===r&&c||n.includes(i);return u._open=!!(42===o?l:l&&(r||!d)),u._close=!!(42===o?d:d&&(c||!l)),t(s)}}};function xy(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Py={name:"autolink",tokenize:function(e,t,n){let i=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),r};function r(t){return ab(t)?(e.consume(t),o):64===t?n(t):u(t)}function o(e){return 43===e||45===e||46===e||sb(e)?(i=1,a(e)):u(e)}function a(t){return 58===t?(e.consume(t),i=0,s):(43===t||45===t||46===t||sb(t))&&i++<32?(e.consume(t),a):(i=0,u(t))}function s(i){return 62===i?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(i),e.exit("autolinkMarker"),e.exit("autolink"),t):null===i||32===i||60===i||cb(i)?n(i):(e.consume(i),s)}function u(t){return 64===t?(e.consume(t),c):ub(t)?(e.consume(t),u):n(t)}function c(e){return sb(e)?l(e):n(e)}function l(n){return 46===n?(e.consume(n),i=0,c):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):d(n)}function d(t){if((45===t||sb(t))&&i++<63){const n=45===t?d:l;return e.consume(t),n}return n(t)}}};function Ry(e,t,n,i){const r=i?i-1:Number.POSITIVE_INFINITY;let o=0;return function(i){return mb(i)?(e.enter(n),a(i)):t(i)};function a(i){return mb(i)&&o++<r?(e.consume(i),a):(e.exit(n),t(i))}}const Iy={partial:!0,tokenize:function(e,t,n){return function(t){return mb(t)?Ry(e,i,"linePrefix")(t):i(t)};function i(e){return null===e||pb(e)?t(e):n(e)}}},Qy={continuation:{tokenize:function(e,t,n){const i=this;return function(t){return mb(t)?Ry(e,r,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):r(t)};function r(i){return e.attempt(Qy,t,n)(i)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){const i=this;return function(t){if(62===t){const n=i.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),r}return n(t)};function r(n){return mb(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}}},Ny={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),i};function i(i){return hb(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}},By={name:"characterReference",tokenize:function(e,t,n){const i=this;let r,o,a=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),s};function s(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),r=31,o=sb,c(t))}function u(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),r=6,o=db,c):(e.enter("characterReferenceValue"),r=7,o=lb,c(t))}function c(s){if(59===s&&a){const r=e.exit("characterReferenceValue");return o!==sb||Vk(i.sliceSerialize(r))?(e.enter("characterReferenceMarker"),e.consume(s),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(s)}return o(s)&&a++<r?(e.consume(s),c):n(s)}}},My={partial:!0,tokenize:function(e,t,n){const i=this;return function(t){return null===t?n(t):(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r)};function r(e){return i.parser.lazy[i.now().line]?n(e):t(e)}}},Ly={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){const i=this,r={partial:!0,tokenize:function(e,t,n){let r=0;return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a};function a(t){return e.enter("codeFencedFence"),mb(t)?Ry(e,u,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):u(t)}function u(t){return t===o?(e.enter("codeFencedFenceSequence"),c(t)):n(t)}function c(t){return t===o?(r++,e.consume(t),c):r>=s?(e.exit("codeFencedFenceSequence"),mb(t)?Ry(e,l,"whitespace")(t):l(t)):n(t)}function l(i){return null===i||pb(i)?(e.exit("codeFencedFence"),t(i)):n(i)}}};let o,a=0,s=0;return function(t){return function(t){const n=i.events[i.events.length-1];return a=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,o=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(t)}(t)};function u(t){return t===o?(s++,e.consume(t),u):s<3?n(t):(e.exit("codeFencedFenceSequence"),mb(t)?Ry(e,c,"whitespace")(t):c(t))}function c(n){return null===n||pb(n)?(e.exit("codeFencedFence"),i.interrupt?t(n):e.check(My,p,D)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),l(n))}function l(t){return null===t||pb(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(t)):mb(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ry(e,d,"whitespace")(t)):96===t&&t===o?n(t):(e.consume(t),l)}function d(t){return null===t||pb(t)?c(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(t))}function h(t){return null===t||pb(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(t)):96===t&&t===o?n(t):(e.consume(t),h)}function p(t){return e.attempt(r,D,f)(t)}function f(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),m}function m(t){return a>0&&mb(t)?Ry(e,O,"linePrefix",a+1)(t):O(t)}function O(t){return null===t||pb(t)?e.check(My,p,D)(t):(e.enter("codeFlowValue"),g(t))}function g(t){return null===t||pb(t)?(e.exit("codeFlowValue"),O(t)):(e.consume(t),g)}function D(n){return e.exit("codeFenced"),t(n)}}},$y={name:"codeIndented",tokenize:function(e,t,n){const i=this;return function(t){return e.enter("codeIndented"),Ry(e,r,"linePrefix",5)(t)};function r(e){const t=i.events[i.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?o(e):n(e)}function o(t){return null===t?s(t):pb(t)?e.attempt(Uy,o,s)(t):(e.enter("codeFlowValue"),a(t))}function a(t){return null===t||pb(t)?(e.exit("codeFlowValue"),o(t)):(e.consume(t),a)}function s(n){return e.exit("codeIndented"),t(n)}}},Uy={partial:!0,tokenize:function(e,t,n){const i=this;return r;function r(t){return i.parser.lazy[i.now().line]?n(t):pb(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r):Ry(e,o,"linePrefix",5)(t)}function o(e){const o=i.events[i.events.length-1];return o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?t(e):pb(e)?r(e):n(e)}}},qy={name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,n,i=e.length-4,r=3;if(!("lineEnding"!==e[r][1].type&&"space"!==e[r][1].type||"lineEnding"!==e[i][1].type&&"space"!==e[i][1].type))for(t=r;++t<i;)if("codeTextData"===e[t][1].type){e[r][1].type="codeTextPadding",e[i][1].type="codeTextPadding",r+=2,i-=2;break}for(t=r-1,i++;++t<=i;)void 0===n?t!==i&&"lineEnding"!==e[t][1].type&&(n=t):(t===i||"lineEnding"===e[t][1].type)&&(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),i-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let i,r,o=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),a(t)};function a(t){return 96===t?(e.consume(t),o++,a):(e.exit("codeTextSequence"),s(t))}function s(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),s):96===t?(r=e.enter("codeTextSequence"),i=0,c(t)):pb(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s):(e.enter("codeTextData"),u(t))}function u(t){return null===t||32===t||96===t||pb(t)?(e.exit("codeTextData"),s(t)):(e.consume(t),u)}function c(n){return 96===n?(e.consume(n),i++,c):i===o?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(r.type="codeTextData",u(n))}}};class Xy{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null!=t?t:Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const i=t||0;this.setCursor(Math.trunc(e));const r=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&zy(this.left,n),r.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),zy(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),zy(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);zy(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);zy(this.left,t.reverse())}}}function zy(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Zy(e){const t={};let n,i,r,o,a,s,u,c=-1;const l=new Xy(e);for(;++c<l.length;){for(;c in t;)c=t[c];if(n=l.get(c),c&&"chunkFlow"===n[1].type&&"listItemPrefix"===l.get(c-1)[1].type&&(s=n[1]._tokenizer.events,r=0,r<s.length&&"lineEndingBlank"===s[r][1].type&&(r+=2),r<s.length&&"content"===s[r][1].type))for(;++r<s.length&&"content"!==s[r][1].type;)"chunkText"===s[r][1].type&&(s[r][1]._isInFirstContentOfListItem=!0,r++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,jy(l,c)),c=t[c],u=!0);else if(n[1]._container){for(r=c,i=void 0;r--;)if(o=l.get(r),"lineEnding"===o[1].type||"lineEndingBlank"===o[1].type)"enter"===o[0]&&(i&&(l.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=r);else if("linePrefix"!==o[1].type&&"listItemIndent"!==o[1].type)break;i&&(n[1].end=Be({},l.get(i)[1].start),a=l.slice(i,c),a.unshift(n),l.splice(i,c-i+1,a))}}return Nb(e,0,Number.POSITIVE_INFINITY,l.slice(0)),!u}function jy(e,t){const n=e.get(t)[1],i=e.get(t)[2];let r=t-1;const o=[];let a=n._tokenizer;a||(a=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const s=a.events,u=[],c={};let l,d,h=-1,p=n,f=0,m=0;const O=[m];for(;p;){for(;e.get(++r)[1]!==p;);o.push(r),p._tokenizer||(l=i.sliceStream(p),p.next||l.push(null),d&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(l),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++h<s.length;)"exit"===s[h][0]&&"enter"===s[h-1][0]&&s[h][1].type===s[h-1][1].type&&s[h][1].start.line!==s[h][1].end.line&&(m=h+1,O.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):O.pop(),h=O.length;h--;){const t=s.slice(O[h],O[h+1]),n=o.pop();u.push([n,n+t.length-1]),e.splice(n,2,t)}for(u.reverse(),h=-1;++h<u.length;)c[f+u[h][0]]=f+u[h][1],f+=u[h][1]-u[h][0]-1;return c}const Wy={resolve:function(e){return Zy(e),e},tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(t)};function i(t){return null===t?r(t):pb(t)?e.check(Gy,o,r)(t):(e.consume(t),i)}function r(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function o(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}},Gy={partial:!0,tokenize:function(e,t,n){const i=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Ry(e,r,"linePrefix")};function r(r){if(null===r||pb(r))return n(r);const o=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?t(r):e.interrupt(i.parser.constructs.flow,n,t)(r)}}};function Vy(e,t,n,i,r,o,a,s,u){const c=u||Number.POSITIVE_INFINITY;let l=0;return function(t){return 60===t?(e.enter(i),e.enter(r),e.enter(o),e.consume(t),e.exit(o),d):null===t||32===t||41===t||cb(t)?n(t):(e.enter(i),e.enter(a),e.enter(s),e.enter("chunkString",{contentType:"string"}),f(t))};function d(n){return 62===n?(e.enter(o),e.consume(n),e.exit(o),e.exit(r),e.exit(i),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),h(n))}function h(t){return 62===t?(e.exit("chunkString"),e.exit(s),d(t)):null===t||60===t||pb(t)?n(t):(e.consume(t),92===t?p:h)}function p(t){return 60===t||62===t||92===t?(e.consume(t),h):h(t)}function f(r){return l||null!==r&&41!==r&&!fb(r)?l<c&&40===r?(e.consume(r),l++,f):41===r?(e.consume(r),l--,f):null===r||32===r||40===r||cb(r)?n(r):(e.consume(r),92===r?m:f):(e.exit("chunkString"),e.exit(s),e.exit(a),e.exit(i),t(r))}function m(t){return 40===t||41===t||92===t?(e.consume(t),f):f(t)}}function Yy(e,t,n,i,r,o){const a=this;let s,u=0;return function(t){return e.enter(i),e.enter(r),e.consume(t),e.exit(r),e.enter(o),c};function c(d){return u>999||null===d||91===d||93===d&&!s||94===d&&!u&&"_hiddenFootnoteSupport"in a.parser.constructs?n(d):93===d?(e.exit(o),e.enter(r),e.consume(d),e.exit(r),e.exit(i),t):pb(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),l(d))}function l(t){return null===t||91===t||93===t||pb(t)||u++>999?(e.exit("chunkString"),c(t)):(e.consume(t),s||(s=!mb(t)),92===t?d:l)}function d(t){return 91===t||92===t||93===t?(e.consume(t),u++,l):l(t)}}function Hy(e,t,n,i,r,o){let a;return function(t){return 34===t||39===t||40===t?(e.enter(i),e.enter(r),e.consume(t),e.exit(r),a=40===t?41:t,s):n(t)};function s(n){return n===a?(e.enter(r),e.consume(n),e.exit(r),e.exit(i),t):(e.enter(o),u(n))}function u(t){return t===a?(e.exit(o),s(a)):null===t?n(t):pb(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Ry(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===a||null===t||pb(t)?(e.exit("chunkString"),u(t)):(e.consume(t),92===t?l:c)}function l(t){return t===a||92===t?(e.consume(t),c):c(t)}}function Ky(e,t){let n;return function i(r){return pb(r)?(e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),n=!0,i):mb(r)?Ry(e,i,n?"linePrefix":"lineSuffix")(r):t(r)}}const Jy={name:"definition",tokenize:function(e,t,n){const i=this;let r;return function(t){return e.enter("definition"),function(t){return Yy.call(i,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function o(t){return r=nk(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),a):n(t)}function a(t){return fb(t)?Ky(e,s)(t):s(t)}function s(t){return Vy(e,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function u(t){return e.attempt(eT,c,c)(t)}function c(t){return mb(t)?Ry(e,l,"whitespace")(t):l(t)}function l(o){return null===o||pb(o)?(e.exit("definition"),i.parser.defined.push(r),t(o)):n(o)}}},eT={partial:!0,tokenize:function(e,t,n){return function(t){return fb(t)?Ky(e,i)(t):n(t)};function i(t){return Hy(e,r,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function r(t){return mb(t)?Ry(e,o,"whitespace")(t):o(t)}function o(e){return null===e||pb(e)?t(e):n(e)}}},tT={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),i};function i(i){return pb(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}},nT={name:"headingAtx",resolve:function(e,t){let n,i,r=e.length-2,o=3;return"whitespace"===e[o][1].type&&(o+=2),r-2>o&&"whitespace"===e[r][1].type&&(r-=2),"atxHeadingSequence"===e[r][1].type&&(o===r-1||r-4>o&&"whitespace"===e[r-2][1].type)&&(r-=o+1===r?2:4),r>o&&(n={type:"atxHeadingText",start:e[o][1].start,end:e[r][1].end},i={type:"chunkText",start:e[o][1].start,end:e[r][1].end,contentType:"text"},Nb(e,o,r-o+1,[["enter",n,t],["enter",i,t],["exit",i,t],["exit",n,t]])),e},tokenize:function(e,t,n){let i=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),r(t)}(t)};function r(t){return 35===t&&i++<6?(e.consume(t),r):null===t||fb(t)?(e.exit("atxHeadingSequence"),o(t)):n(t)}function o(n){return 35===n?(e.enter("atxHeadingSequence"),a(n)):null===n||pb(n)?(e.exit("atxHeading"),t(n)):mb(n)?Ry(e,o,"whitespace")(n):(e.enter("atxHeadingText"),s(n))}function a(t){return 35===t?(e.consume(t),a):(e.exit("atxHeadingSequence"),o(t))}function s(t){return null===t||35===t||fb(t)?(e.exit("atxHeadingText"),o(t)):(e.consume(t),s)}}},iT=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],rT=["pre","script","style","textarea"],oT={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););return t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e},tokenize:function(e,t,n){const i=this;let r,o,a,s,u;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),c}(t)};function c(s){return 33===s?(e.consume(s),l):47===s?(e.consume(s),o=!0,p):63===s?(e.consume(s),r=3,i.interrupt?t:I):ab(s)?(e.consume(s),a=String.fromCharCode(s),f):n(s)}function l(o){return 45===o?(e.consume(o),r=2,d):91===o?(e.consume(o),r=5,s=0,h):ab(o)?(e.consume(o),r=4,i.interrupt?t:I):n(o)}function d(r){return 45===r?(e.consume(r),i.interrupt?t:I):n(r)}function h(r){return r==="CDATA[".charCodeAt(s++)?(e.consume(r),6===s?i.interrupt?t:A:h):n(r)}function p(t){return ab(t)?(e.consume(t),a=String.fromCharCode(t),f):n(t)}function f(s){if(null===s||47===s||62===s||fb(s)){const u=47===s,c=a.toLowerCase();return u||o||!rT.includes(c)?iT.includes(a.toLowerCase())?(r=6,u?(e.consume(s),m):i.interrupt?t(s):A(s)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(s):o?O(s):g(s)):(r=1,i.interrupt?t(s):A(s))}return 45===s||sb(s)?(e.consume(s),a+=String.fromCharCode(s),f):n(s)}function m(r){return 62===r?(e.consume(r),i.interrupt?t:A):n(r)}function O(t){return mb(t)?(e.consume(t),O):y(t)}function g(t){return 47===t?(e.consume(t),y):58===t||95===t||ab(t)?(e.consume(t),D):mb(t)?(e.consume(t),g):y(t)}function D(t){return 45===t||46===t||58===t||95===t||sb(t)?(e.consume(t),D):v(t)}function v(t){return 61===t?(e.consume(t),E):mb(t)?(e.consume(t),v):g(t)}function E(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),u=t,C):mb(t)?(e.consume(t),E):b(t)}function C(t){return t===u?(e.consume(t),u=null,k):null===t||pb(t)?n(t):(e.consume(t),C)}function b(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||fb(t)?v(t):(e.consume(t),b)}function k(e){return 47===e||62===e||mb(e)?g(e):n(e)}function y(t){return 62===t?(e.consume(t),T):n(t)}function T(t){return null===t||pb(t)?A(t):mb(t)?(e.consume(t),T):n(t)}function A(t){return 45===t&&2===r?(e.consume(t),w):60===t&&1===r?(e.consume(t),x):62===t&&4===r?(e.consume(t),Q):63===t&&3===r?(e.consume(t),I):93===t&&5===r?(e.consume(t),R):!pb(t)||6!==r&&7!==r?null===t||pb(t)?(e.exit("htmlFlowData"),S(t)):(e.consume(t),A):(e.exit("htmlFlowData"),e.check(aT,N,S)(t))}function S(t){return e.check(sT,_,N)(t)}function _(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),F}function F(t){return null===t||pb(t)?S(t):(e.enter("htmlFlowData"),A(t))}function w(t){return 45===t?(e.consume(t),I):A(t)}function x(t){return 47===t?(e.consume(t),a="",P):A(t)}function P(t){if(62===t){const n=a.toLowerCase();return rT.includes(n)?(e.consume(t),Q):A(t)}return ab(t)&&a.length<8?(e.consume(t),a+=String.fromCharCode(t),P):A(t)}function R(t){return 93===t?(e.consume(t),I):A(t)}function I(t){return 62===t?(e.consume(t),Q):45===t&&2===r?(e.consume(t),I):A(t)}function Q(t){return null===t||pb(t)?(e.exit("htmlFlowData"),N(t)):(e.consume(t),Q)}function N(n){return e.exit("htmlFlow"),t(n)}}},aT={partial:!0,tokenize:function(e,t,n){return function(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Iy,t,n)}}},sT={partial:!0,tokenize:function(e,t,n){const i=this;return function(t){return pb(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r):n(t)};function r(e){return i.parser.lazy[i.now().line]?n(e):t(e)}}},uT={name:"htmlText",tokenize:function(e,t,n){const i=this;let r,o,a;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),s};function s(t){return 33===t?(e.consume(t),u):47===t?(e.consume(t),E):63===t?(e.consume(t),D):ab(t)?(e.consume(t),k):n(t)}function u(t){return 45===t?(e.consume(t),c):91===t?(e.consume(t),o=0,p):ab(t)?(e.consume(t),g):n(t)}function c(t){return 45===t?(e.consume(t),h):n(t)}function l(t){return null===t?n(t):45===t?(e.consume(t),d):pb(t)?(a=l,P(t)):(e.consume(t),l)}function d(t){return 45===t?(e.consume(t),h):l(t)}function h(e){return 62===e?x(e):45===e?d(e):l(e)}function p(t){return t==="CDATA[".charCodeAt(o++)?(e.consume(t),6===o?f:p):n(t)}function f(t){return null===t?n(t):93===t?(e.consume(t),m):pb(t)?(a=f,P(t)):(e.consume(t),f)}function m(t){return 93===t?(e.consume(t),O):f(t)}function O(t){return 62===t?x(t):93===t?(e.consume(t),O):f(t)}function g(t){return null===t||62===t?x(t):pb(t)?(a=g,P(t)):(e.consume(t),g)}function D(t){return null===t?n(t):63===t?(e.consume(t),v):pb(t)?(a=D,P(t)):(e.consume(t),D)}function v(e){return 62===e?x(e):D(e)}function E(t){return ab(t)?(e.consume(t),C):n(t)}function C(t){return 45===t||sb(t)?(e.consume(t),C):b(t)}function b(t){return pb(t)?(a=b,P(t)):mb(t)?(e.consume(t),b):x(t)}function k(t){return 45===t||sb(t)?(e.consume(t),k):47===t||62===t||fb(t)?y(t):n(t)}function y(t){return 47===t?(e.consume(t),x):58===t||95===t||ab(t)?(e.consume(t),T):pb(t)?(a=y,P(t)):mb(t)?(e.consume(t),y):x(t)}function T(t){return 45===t||46===t||58===t||95===t||sb(t)?(e.consume(t),T):A(t)}function A(t){return 61===t?(e.consume(t),S):pb(t)?(a=A,P(t)):mb(t)?(e.consume(t),A):y(t)}function S(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),r=t,_):pb(t)?(a=S,P(t)):mb(t)?(e.consume(t),S):(e.consume(t),F)}function _(t){return t===r?(e.consume(t),r=void 0,w):null===t?n(t):pb(t)?(a=_,P(t)):(e.consume(t),_)}function F(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||fb(t)?y(t):(e.consume(t),F)}function w(e){return 47===e||62===e||fb(e)?y(e):n(e)}function x(i){return 62===i?(e.consume(i),e.exit("htmlTextData"),e.exit("htmlText"),t):n(i)}function P(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),R}function R(t){return mb(t)?Ry(e,I,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):I(t)}function I(t){return e.enter("htmlTextData"),a(t)}}},cT={name:"labelEnd",resolveAll:function(e){let t=-1;const n=[];for(;++t<e.length;){const i=e[t][1];if(n.push(e[t]),"labelImage"===i.type||"labelLink"===i.type||"labelEnd"===i.type){const e="labelImage"===i.type?4:2;i.type="data",t+=e}}return e.length!==n.length&&Nb(e,0,e.length,n),e},resolveTo:function(e,t){let n,i,r,o,a=e.length,s=0;for(;a--;)if(n=e[a][1],i){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[a][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(r){if("enter"===e[a][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(i=a,"labelLink"!==n.type)){s=2;break}}else"labelEnd"===n.type&&(r=a);const u={type:"labelLink"===e[i][1].type?"link":"image",start:Be({},e[i][1].start),end:Be({},e[e.length-1][1].end)},c={type:"label",start:Be({},e[i][1].start),end:Be({},e[r][1].end)},l={type:"labelText",start:Be({},e[i+s+2][1].end),end:Be({},e[r-2][1].start)};return o=[["enter",u,t],["enter",c,t]],o=Bb(o,e.slice(i+1,i+s+3)),o=Bb(o,[["enter",l,t]]),o=Bb(o,Mb(t.parser.constructs.insideSpan.null,e.slice(i+s+4,r-3),t)),o=Bb(o,[["exit",l,t],e[r-2],e[r-1],["exit",c,t]]),o=Bb(o,e.slice(r+1)),o=Bb(o,[["exit",u,t]]),Nb(e,i,e.length,o),e},tokenize:function(e,t,n){const i=this;let r,o,a=i.events.length;for(;a--;)if(("labelImage"===i.events[a][1].type||"labelLink"===i.events[a][1].type)&&!i.events[a][1]._balanced){r=i.events[a][1];break}return function(t){return r?r._inactive?l(t):(o=i.parser.defined.includes(nk(i.sliceSerialize({start:r.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),s):n(t)};function s(t){return 40===t?e.attempt(lT,c,o?c:l)(t):91===t?e.attempt(dT,c,o?u:l)(t):o?c(t):l(t)}function u(t){return e.attempt(hT,c,l)(t)}function c(e){return t(e)}function l(e){return r._balanced=!0,n(e)}}},lT={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),i};function i(t){return fb(t)?Ky(e,r)(t):r(t)}function r(t){return 41===t?c(t):Vy(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function o(t){return fb(t)?Ky(e,s)(t):c(t)}function a(e){return n(e)}function s(t){return 34===t||39===t||40===t?Hy(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):c(t)}function u(t){return fb(t)?Ky(e,c)(t):c(t)}function c(i){return 41===i?(e.enter("resourceMarker"),e.consume(i),e.exit("resourceMarker"),e.exit("resource"),t):n(i)}}},dT={tokenize:function(e,t,n){const i=this;return function(t){return Yy.call(i,e,r,o,"reference","referenceMarker","referenceString")(t)};function r(e){return i.parser.defined.includes(nk(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function o(e){return n(e)}}},hT={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),i};function i(i){return 93===i?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}},pT={name:"labelStartImage",resolveAll:cT.resolveAll,tokenize:function(e,t,n){const i=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),r};function r(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),o):n(t)}function o(e){return 94===e&&"_hiddenFootnoteSupport"in i.parser.constructs?n(e):t(e)}}},fT={name:"labelStartLink",resolveAll:cT.resolveAll,tokenize:function(e,t,n){const i=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),r};function r(e){return 94===e&&"_hiddenFootnoteSupport"in i.parser.constructs?n(e):t(e)}}},mT={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Ry(e,t,"linePrefix")}}},OT={name:"thematicBreak",tokenize:function(e,t,n){let i,r=0;return function(t){return e.enter("thematicBreak"),function(e){return i=e,o(e)}(t)};function o(o){return o===i?(e.enter("thematicBreakSequence"),a(o)):r>=3&&(null===o||pb(o))?(e.exit("thematicBreak"),t(o)):n(o)}function a(t){return t===i?(e.consume(t),r++,a):(e.exit("thematicBreakSequence"),mb(t)?Ry(e,o,"whitespace")(t):o(t))}}},gT={continuation:{tokenize:function(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(Iy,function(n){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Ry(e,t,"listItemIndent",i.containerState.size+1)(n)},function(n){return i.containerState.furtherBlankLines||!mb(n)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,r(n)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(vT,t,r)(n))});function r(r){return i.containerState._closeFlow=!0,i.interrupt=void 0,Ry(e,e.attempt(gT,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(r)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){const i=this,r=i.events[i.events.length-1];let o=r&&"linePrefix"===r[1].type?r[2].sliceSerialize(r[1],!0).length:0,a=0;return function(t){const r=i.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===r?!i.containerState.marker||t===i.containerState.marker:lb(t)){if(i.containerState.type||(i.containerState.type=r,e.enter(r,{_container:!0})),"listUnordered"===r)return e.enter("listItemPrefix"),42===t||45===t?e.check(OT,n,u)(t):u(t);if(!i.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(t)}return n(t)};function s(t){return lb(t)&&++a<10?(e.consume(t),s):(!i.interrupt||a<2)&&(i.containerState.marker?t===i.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),u(t)):n(t)}function u(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||t,e.check(Iy,i.interrupt?n:c,e.attempt(DT,d,l))}function c(e){return i.containerState.initialBlankLine=!0,o++,d(e)}function l(t){return mb(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),d):n(t)}function d(n){return i.containerState.size=o+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}}},DT={partial:!0,tokenize:function(e,t,n){const i=this;return Ry(e,function(e){const r=i.events[i.events.length-1];return!mb(e)&&r&&"listItemPrefixWhitespace"===r[1].type?t(e):n(e)},"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},vT={partial:!0,tokenize:function(e,t,n){const i=this;return Ry(e,function(e){const r=i.events[i.events.length-1];return r&&"listItemIndent"===r[1].type&&r[2].sliceSerialize(r[1],!0).length===i.containerState.size?t(e):n(e)},"listItemIndent",i.containerState.size+1)}},ET={name:"setextUnderline",resolveTo:function(e,t){let n,i,r,o=e.length;for(;o--;)if("enter"===e[o][0]){if("content"===e[o][1].type){n=o;break}"paragraph"===e[o][1].type&&(i=o)}else"content"===e[o][1].type&&e.splice(o,1),!r&&"definition"===e[o][1].type&&(r=o);const a={type:"setextHeading",start:Be({},e[n][1].start),end:Be({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",r?(e.splice(i,0,["enter",a,t]),e.splice(r+1,0,["exit",e[n][1],t]),e[n][1].end=Be({},e[r][1].end)):e[n][1]=a,e.push(["exit",a,t]),e},tokenize:function(e,t,n){const i=this;let r;return function(t){let a,s=i.events.length;for(;s--;)if("lineEnding"!==i.events[s][1].type&&"linePrefix"!==i.events[s][1].type&&"content"!==i.events[s][1].type){a="paragraph"===i.events[s][1].type;break}return i.parser.lazy[i.now().line]||!i.interrupt&&!a?n(t):(e.enter("setextHeadingLine"),r=t,function(t){return e.enter("setextHeadingLineSequence"),o(t)}(t))};function o(t){return t===r?(e.consume(t),o):(e.exit("setextHeadingLineSequence"),mb(t)?Ry(e,a,"lineSuffix")(t):a(t))}function a(i){return null===i||pb(i)?(e.exit("setextHeadingLine"),t(i)):n(i)}}},CT={tokenize:function(e,t,n){const i=this;return Ry(e,function(e){const r=i.events[i.events.length-1];return r&&"gfmFootnoteDefinitionIndent"===r[1].type&&4===r[2].sliceSerialize(r[1],!0).length?t(e):n(e)},"gfmFootnoteDefinitionIndent",5)},partial:!0};function bT(e,t,n){const i=this;let r=i.events.length;const o=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let a;for(;r--;){const e=i.events[r][1];if("labelImage"===e.type){a=e;break}if("gfmFootnoteCall"===e.type||"labelLink"===e.type||"label"===e.type||"image"===e.type||"link"===e.type)break}return function(r){if(!a||!a._balanced)return n(r);const s=nk(i.sliceSerialize({start:a.end,end:i.now()}));return 94===s.codePointAt(0)&&o.includes(s.slice(1))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(r),e.exit("gfmFootnoteCallLabelMarker"),t(r)):n(r)}}function kT(e,t){let n=e.length;for(;n--;)if("labelImage"===e[n][1].type&&"enter"===e[n][0]){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},s=[e[n+1],e[n+2],["enter",i,t],e[n+3],e[n+4],["enter",r,t],["exit",r,t],["enter",o,t],["enter",a,t],["exit",a,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",i,t]];return e.splice(n,e.length-n+1,...s),e}function yT(e,t,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o,a=0;return function(t){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(t),e.exit("gfmFootnoteCallLabelMarker"),s};function s(t){return 94!==t?n(t):(e.enter("gfmFootnoteCallMarker"),e.consume(t),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(s){if(a>999||93===s&&!o||null===s||91===s||fb(s))return n(s);if(93===s){e.exit("chunkString");const o=e.exit("gfmFootnoteCallString");return r.includes(nk(i.sliceSerialize(o)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(s),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(s)}return fb(s)||(o=!0),a++,e.consume(s),92===s?c:u}function c(t){return 91===t||92===t||93===t?(e.consume(t),a++,u):u(t)}}function TT(e,t,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o,a,s=0;return function(t){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),u};function u(t){return 94===t?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(t)}function c(t){if(s>999||93===t&&!a||null===t||91===t||fb(t))return n(t);if(93===t){e.exit("chunkString");const n=e.exit("gfmFootnoteDefinitionLabelString");return o=nk(i.sliceSerialize(n)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),d}return fb(t)||(a=!0),s++,e.consume(t),92===t?l:c}function l(t){return 91===t||92===t||93===t?(e.consume(t),s++,c):c(t)}function d(t){return 58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),r.includes(o)||r.push(o),Ry(e,h,"gfmFootnoteDefinitionWhitespace")):n(t)}function h(e){return t(e)}}function AT(e,t,n){return e.check(Iy,t,e.attempt(CT,t,n))}function ST(e){e.exit("gfmFootnoteDefinition")}function _T(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:function(e,n,i){const r=this.previous,o=this.events;let a=0;return function(t){return 126===r&&"characterEscape"!==o[o.length-1][1].type?i(t):(e.enter("strikethroughSequenceTemporary"),s(t))};function s(o){const u=Fk(r);if(126===o)return a>1?i(o):(e.consume(o),a++,s);if(a<2&&!t)return i(o);const c=e.exit("strikethroughSequenceTemporary"),l=Fk(o);return c._open=!l||2===l&&!!u,c._close=!u||2===u&&!!l,n(o)}},resolveAll:function(e,t){let n=-1;for(;++n<e.length;)if("enter"===e[n][0]&&"strikethroughSequenceTemporary"===e[n][1].type&&e[n][1]._close){let i=n;for(;i--;)if("exit"===e[i][0]&&"strikethroughSequenceTemporary"===e[i][1].type&&e[i][1]._open&&e[n][1].end.offset-e[n][1].start.offset===e[i][1].end.offset-e[i][1].start.offset){e[n][1].type="strikethroughSequence",e[i][1].type="strikethroughSequence";const r={type:"strikethrough",start:Object.assign({},e[i][1].start),end:Object.assign({},e[n][1].end)},o={type:"strikethroughText",start:Object.assign({},e[i][1].end),end:Object.assign({},e[n][1].start)},a=[["enter",r,t],["enter",e[i][1],t],["exit",e[i][1],t],["enter",o,t]],s=t.parser.constructs.insideSpan.null;s&&Nb(a,a.length,0,Mb(s,e.slice(i+1,n),t)),Nb(a,a.length,0,[["exit",o,t],["enter",e[n][1],t],["exit",e[n][1],t],["exit",r,t]]),Nb(e,i-1,n-i+3,a),n=i+a.length-2;break}}for(n=-1;++n<e.length;)"strikethroughSequenceTemporary"===e[n][1].type&&(e[n][1].type="data");return e}};return null==t&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}}}class FT{constructor(){this.map=[]}add(e,t,n){!function(e,t,n,i){let r=0;if(0!==n||0!==i.length){for(;r<e.map.length;){if(e.map[r][0]===t)return e.map[r][1]+=n,void e.map[r][2].push(...i);r+=1}e.map.push([t,n,i])}}(this,e,t,n)}consume(e){if(this.map.sort(function(e,t){return e[0]-t[0]}),0===this.map.length)return;let t=this.map.length;const n=[];for(;t>0;)t-=1,n.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];n.push(e.slice()),e.length=0;let i=n.pop();for(;i;){for(const t of i)e.push(t);i=n.pop()}this.map.length=0}}function wT(e,t){let n=!1;const i=[];for(;t<e.length;){const r=e[t];if(n){if("enter"===r[0])"tableContent"===r[1].type&&i.push("tableDelimiterMarker"===e[t+1][1].type?"left":"none");else if("tableContent"===r[1].type){if("tableDelimiterMarker"===e[t-1][1].type){const e=i.length-1;i[e]="left"===i[e]?"center":"right"}}else if("tableDelimiterRow"===r[1].type)break}else"enter"===r[0]&&"tableDelimiterRow"===r[1].type&&(n=!0);t+=1}return i}function xT(e,t,n){const i=this;let r,o=0,a=0;return function(e){let t=i.events.length-1;for(;t>-1;){const e=i.events[t][1].type;if("lineEnding"!==e&&"linePrefix"!==e)break;t--}const r=t>-1?i.events[t][1].type:null,o="tableHead"===r||"tableRow"===r?E:s;return o===E&&i.parser.lazy[i.now().line]?n(e):o(e)};function s(t){return e.enter("tableHead"),e.enter("tableRow"),function(e){return 124===e||(r=!0,a+=1),u(e)}(t)}function u(t){return null===t?n(t):pb(t)?a>1?(a=0,i.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),d):n(t):mb(t)?Ry(e,u,"whitespace")(t):(a+=1,r&&(r=!1,o+=1),124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),r=!0,u):(e.enter("data"),c(t)))}function c(t){return null===t||124===t||fb(t)?(e.exit("data"),u(t)):(e.consume(t),92===t?l:c)}function l(t){return 92===t||124===t?(e.consume(t),c):c(t)}function d(t){return i.interrupt=!1,i.parser.lazy[i.now().line]?n(t):(e.enter("tableDelimiterRow"),r=!1,mb(t)?Ry(e,h,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):h(t))}function h(t){return 45===t||58===t?f(t):124===t?(r=!0,e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),p):v(t)}function p(t){return mb(t)?Ry(e,f,"whitespace")(t):f(t)}function f(t){return 58===t?(a+=1,r=!0,e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),m):45===t?(a+=1,m(t)):null===t||pb(t)?D(t):v(t)}function m(t){return 45===t?(e.enter("tableDelimiterFiller"),O(t)):v(t)}function O(t){return 45===t?(e.consume(t),O):58===t?(r=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),g):(e.exit("tableDelimiterFiller"),g(t))}function g(t){return mb(t)?Ry(e,D,"whitespace")(t):D(t)}function D(n){return 124===n?h(n):(null===n||pb(n))&&r&&o===a?(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(n)):v(n)}function v(e){return n(e)}function E(t){return e.enter("tableRow"),C(t)}function C(n){return 124===n?(e.enter("tableCellDivider"),e.consume(n),e.exit("tableCellDivider"),C):null===n||pb(n)?(e.exit("tableRow"),t(n)):mb(n)?Ry(e,C,"whitespace")(n):(e.enter("data"),b(n))}function b(t){return null===t||124===t||fb(t)?(e.exit("data"),C(t)):(e.consume(t),92===t?k:b)}function k(t){return 92===t||124===t?(e.consume(t),b):b(t)}}function PT(e,t){let n,i,r,o=-1,a=!0,s=0,u=[0,0,0,0],c=[0,0,0,0],l=!1,d=0;const h=new FT;for(;++o<e.length;){const p=e[o],f=p[1];"enter"===p[0]?"tableHead"===f.type?(l=!1,0!==d&&(IT(h,t,d,n,i),i=void 0,d=0),n={type:"table",start:Object.assign({},f.start),end:Object.assign({},f.end)},h.add(o,0,[["enter",n,t]])):"tableRow"===f.type||"tableDelimiterRow"===f.type?(a=!0,r=void 0,u=[0,0,0,0],c=[0,o+1,0,0],l&&(l=!1,i={type:"tableBody",start:Object.assign({},f.start),end:Object.assign({},f.end)},h.add(o,0,[["enter",i,t]])),s="tableDelimiterRow"===f.type?2:i?3:1):!s||"data"!==f.type&&"tableDelimiterMarker"!==f.type&&"tableDelimiterFiller"!==f.type?"tableCellDivider"===f.type&&(a?a=!1:(0!==u[1]&&(c[0]=c[1],r=RT(h,t,u,s,void 0,r)),u=c,c=[u[1],o,0,0])):(a=!1,0===c[2]&&(0!==u[1]&&(c[0]=c[1],r=RT(h,t,u,s,void 0,r),u=[0,0,0,0]),c[2]=o)):"tableHead"===f.type?(l=!0,d=o):"tableRow"===f.type||"tableDelimiterRow"===f.type?(d=o,0!==u[1]?(c[0]=c[1],r=RT(h,t,u,s,o,r)):0!==c[1]&&(r=RT(h,t,c,s,o,r)),s=0):s&&("data"===f.type||"tableDelimiterMarker"===f.type||"tableDelimiterFiller"===f.type)&&(c[3]=o)}for(0!==d&&IT(h,t,d,n,i),h.consume(t.events),o=-1;++o<t.events.length;){const e=t.events[o];"enter"===e[0]&&"table"===e[1].type&&(e[1]._align=wT(t.events,o))}return e}function RT(e,t,n,i,r,o){const a=1===i?"tableHeader":2===i?"tableDelimiter":"tableData";0!==n[0]&&(o.end=Object.assign({},QT(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const s=QT(t.events,n[1]);if(o={type:a,start:Object.assign({},s),end:Object.assign({},s)},e.add(n[1],0,[["enter",o,t]]),0!==n[2]){const r=QT(t.events,n[2]),o=QT(t.events,n[3]),a={type:"tableContent",start:Object.assign({},r),end:Object.assign({},o)};if(e.add(n[2],0,[["enter",a,t]]),2!==i){const i=t.events[n[2]],r=t.events[n[3]];if(i[1].end=Object.assign({},r[1].end),i[1].type="chunkText",i[1].contentType="text",n[3]>n[2]+1){const t=n[2]+1,i=n[3]-n[2]-1;e.add(t,i,[])}}e.add(n[3]+1,0,[["exit",a,t]])}return void 0!==r&&(o.end=Object.assign({},QT(t.events,r)),e.add(r,0,[["exit",o,t]]),o=void 0),o}function IT(e,t,n,i,r){const o=[],a=QT(t.events,n);r&&(r.end=Object.assign({},a),o.push(["exit",r,t])),i.end=Object.assign({},a),o.push(["exit",i,t]),e.add(n+1,0,o)}function QT(e,t){const n=e[t],i="enter"===n[0]?"start":"end";return n[1][i]}const NT={name:"tasklistCheck",tokenize:function(e,t,n){const i=this;return function(t){return null===i.previous&&i._gfmTasklistFirstContentOfListItem?(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),r):n(t)};function r(t){return fb(t)?(e.enter("taskListCheckValueUnchecked"),e.consume(t),e.exit("taskListCheckValueUnchecked"),o):88===t||120===t?(e.enter("taskListCheckValueChecked"),e.consume(t),e.exit("taskListCheckValueChecked"),o):n(t)}function o(t){return 93===t?(e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(t)}function a(i){return pb(i)?t(i):mb(i)?e.check({tokenize:BT},t,n)(i):n(i)}}};function BT(e,t,n){return Ry(e,function(e){return null===e?n(e):t(e)},"whitespace")}const MT={},LT=1024;let $T=0;class UT{constructor(e,t){this.from=e,this.to=t}}class qT{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.id=$T++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=ZT.match(e)),t=>{let n=e(t);return void 0===n?null:[this,n]}}}qT.closedBy=new qT({deserialize:e=>e.split(" ")}),qT.openedBy=new qT({deserialize:e=>e.split(" ")}),qT.group=new qT({deserialize:e=>e.split(" ")}),qT.isolate=new qT({deserialize:e=>{if(e&&"rtl"!=e&&"ltr"!=e&&"auto"!=e)throw new RangeError("Invalid value for isolate: "+e);return e||"auto"}}),qT.contextHash=new qT({perNode:!0}),qT.lookAhead=new qT({perNode:!0}),qT.mounted=new qT({perNode:!0});class XT{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}static get(e){return e&&e.props&&e.props[qT.mounted.id]}}const zT=Object.create(null);class ZT{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.name=e,this.props=t,this.id=n,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):zT,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),i=new ZT(e.name||"",t,e.id,n);if(e.props)for(let n of e.props)if(Array.isArray(n)||(n=n(i)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[n[0].id]=n[1]}return i}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(qT.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let i of n.split(" "))t[i]=e[n];return e=>{for(let n=e.prop(qT.group),i=-1;i<(n?n.length:0);i++){let r=t[i<0?e.name:n[i]];if(r)return r}}}}ZT.none=new ZT("",Object.create(null),0,8);class jT{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(){let e=[];for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(let t of this.types){let i=null;for(let e of n){let n=e(t);if(n){i||(i=Object.assign({},t.props));let e=n[1],r=n[0];r.combine&&r.id in i&&(e=r.combine(i[r.id],e)),i[r.id]=e}}e.push(i?new ZT(t.name,i,t.id,t.flags):t)}return new jT(e)}}const WT=new WeakMap,GT=new WeakMap;var VT;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(VT||(VT={}));class YT{constructor(e,t,n,i,r){if(this.type=e,this.children=t,this.positions=n,this.length=i,this.props=null,r&&r.length){this.props=Object.create(null);for(let[e,t]of r)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=XT.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let e of this.children){let n=e.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new cA(this.topNode,e)}cursorAt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=WT.get(this)||this.topNode,i=new cA(n);return i.moveTo(e,t),WT.set(this,i._tree),i}get topNode(){return new nA(this,0,0,null)}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=eA(WT.get(this)||this.topNode,e,t,!1);return WT.set(this,n),n}resolveInner(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=eA(GT.get(this)||this.topNode,e,t,!0);return GT.set(this,n),n}resolveStack(e){return function(e,t,n){let i=e.resolveInner(t,n),r=null;for(let e=i instanceof nA?i:i.context.parent;e;e=e.parent)if(e.index<0){let o=e.parent;(r||(r=[i])).push(o.resolve(t,n)),e=o}else{let o=XT.get(e.tree);if(o&&o.overlay&&o.overlay[0].from<=t&&o.overlay[o.overlay.length-1].to>=t){let a=new nA(o.tree,o.overlay[0].from+e.from,-1,e);(r||(r=[i])).push(eA(a,t,n,!1))}}return r?sA(r):i}(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}iterate(e){let{enter:t,leave:n,from:i=0,to:r=this.length}=e,o=e.mode||0,a=(o&VT.IncludeAnonymous)>0;for(let e=this.cursor(o|VT.IncludeAnonymous);;){let o=!1;if(e.from<=r&&e.to>=i&&(!a&&e.type.isAnonymous||!1!==t(e))){if(e.firstChild())continue;o=!0}for(;o&&n&&(a||!e.type.isAnonymous)&&n(e),!e.nextSibling();){if(!e.parent())return;o=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.children.length<=8?this:pA(ZT.none,this.children,this.positions,0,this.children.length,0,this.length,(e,t,n)=>new YT(this.type,e,t,n,this.propValues),e.makeTree||((e,t,n)=>new YT(ZT.none,e,t,n)))}static build(e){return function(e){var t;let{buffer:n,nodeSet:i,maxBufferLength:r=LT,reused:o=[],minRepeatType:a=i.types.length}=e,s=Array.isArray(n)?new HT(n,n.length):n,u=i.types,c=0,l=0;function d(e,t,n,O,g,D){let{id:v,start:E,end:C,size:b}=s,k=l,y=c;if(b<0){if(s.next(),-1==b){let t=o[v];return n.push(t),void O.push(E-e)}if(-3==b)return void(c=v);if(-4==b)return void(l=v);throw new RangeError("Unrecognized record size: ".concat(b))}let T,A,S=u[v],_=E-e;if(C-E<=r&&(A=function(e,t){let n=s.fork(),i=0,o=0,u=0,c=n.end-r,l={size:0,start:0,skip:0};e:for(let r=n.pos-e;n.pos>r;){let e=n.size;if(n.id==t&&e>=0){l.size=i,l.start=o,l.skip=u,u+=4,i+=4,n.next();continue}let s=n.pos-e;if(e<0||s<r||n.start<c)break;let d=n.id>=a?4:0,h=n.start;for(n.next();n.pos>s;){if(n.size<0){if(-3!=n.size&&-4!=n.size)break e;d+=4}else n.id>=a&&(d+=4);n.next()}o=h,i+=e,u+=d}return(t<0||i==e)&&(l.size=i,l.start=o,l.skip=u),l.size>4?l:void 0}(s.pos-t,g))){let t=new Uint16Array(A.size-A.skip),n=s.pos-A.size,r=t.length;for(;s.pos>n;)r=m(A.start,t,r);T=new KT(t,C-A.start,i),_=A.start-e}else{let e=s.pos-b;s.next();let t=[],n=[],i=v>=a?v:-1,o=0,u=C;for(;s.pos>e;)i>=0&&s.id==i&&s.size>=0?(s.end<=u-r&&(p(t,n,E,o,s.end,u,i,k,y),o=t.length,u=s.end),s.next()):D>2500?h(E,e,t,n):d(E,e,t,n,i,D+1);if(i>=0&&o>0&&o<t.length&&p(t,n,E,o,E,u,i,k,y),t.reverse(),n.reverse(),i>-1&&o>0){let e=function(e,t){return(n,i,r)=>{let o,a,s=0,u=n.length-1;if(u>=0&&(o=n[u])instanceof YT){if(!u&&o.type==e&&o.length==r)return o;(a=o.prop(qT.lookAhead))&&(s=i[u]+o.length+a)}return f(e,n,i,r,s,t)}}(S,y);T=pA(S,t,n,0,t.length,0,C-E,e,e)}else T=f(S,t,n,C-E,k-C,y)}n.push(T),O.push(_)}function h(e,t,n,o){let a=[],u=0,c=-1;for(;s.pos>t;){let{id:e,start:t,end:n,size:i}=s;if(i>4)s.next();else{if(c>-1&&t<c)break;c<0&&(c=n-r),a.push(e,t,n),u++,s.next()}}if(u){let t=new Uint16Array(4*u),r=a[a.length-2];for(let e=a.length-3,n=0;e>=0;e-=3)t[n++]=a[e],t[n++]=a[e+1]-r,t[n++]=a[e+2]-r,t[n++]=n;n.push(new KT(t,a[2]-r,i)),o.push(r-e)}}function p(e,t,n,r,o,a,s,u,c){let l=[],d=[];for(;e.length>r;)l.push(e.pop()),d.push(t.pop()+n-o);e.push(f(i.types[s],l,d,a-o,u-a,c)),t.push(o-n)}function f(e,t,n,i,r,o,a){if(o){let e=[qT.contextHash,o];a=a?[e].concat(a):[e]}if(r>25){let e=[qT.lookAhead,r];a=a?[e].concat(a):[e]}return new YT(e,t,n,i,a)}function m(e,t,n){let{id:i,start:r,end:o,size:u}=s;if(s.next(),u>=0&&i<a){let a=n;if(u>4){let i=s.pos-(u-4);for(;s.pos>i;)n=m(e,t,n)}t[--n]=a,t[--n]=o-e,t[--n]=r-e,t[--n]=i}else-3==u?c=i:-4==u&&(l=i);return n}let O=[],g=[];for(;s.pos>0;)d(e.start||0,e.bufferStart||0,O,g,-1,0);let D=null!==(t=e.length)&&void 0!==t?t:O.length?g[0]+O[0].length:0;return new YT(u[e.topID],O.reverse(),g.reverse(),D)}(e)}}YT.empty=new YT(ZT.none,[],[],0);class HT{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new HT(this.buffer,this.index)}}class KT{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return ZT.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],i=this.set.types[t],r=i.name;if(/\W/.test(r)&&!i.isError&&(r=JSON.stringify(r)),n==(e+=4))return r;let o=[];for(;e<n;)o.push(this.childString(e)),e=this.buffer[e+3];return r+"("+o.join(",")+")"}findChild(e,t,n,i,r){let{buffer:o}=this,a=-1;for(let s=e;s!=t&&!(JT(r,i,o[s+1],o[s+2])&&(a=s,n>0));s=o[s+3]);return a}slice(e,t,n){let i=this.buffer,r=new Uint16Array(t-e),o=0;for(let a=e,s=0;a<t;){r[s++]=i[a++],r[s++]=i[a++]-n;let t=r[s++]=i[a++]-n;r[s++]=i[a++]-e,o=Math.max(o,t)}return new KT(r,o,this.set)}}function JT(e,t,n,i){switch(e){case-2:return n<t;case-1:return i>=t&&n<t;case 0:return n<t&&i>t;case 1:return n<=t&&i>t;case 2:return i>t;case 4:return!0}}function eA(e,t,n,i){for(var r;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){let t=!i&&e instanceof nA&&e.index<0?null:e.parent;if(!t)return e;e=t}let o=i?0:VT.IgnoreOverlays;if(i)for(let i=e,a=i.parent;a;i=a,a=i.parent)i instanceof nA&&i.index<0&&(null===(r=a.enter(t,n,o))||void 0===r?void 0:r.from)!=i.from&&(e=a);for(;;){let i=e.enter(t,n,o);if(!i)return e;e=i}}class tA{cursor(){return new cA(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)}getChild(e){let t=iA(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null);return t.length?t[0]:null}getChildren(e){return iA(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}resolve(e){return eA(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!1)}resolveInner(e){return eA(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!0)}matchContext(e){return rA(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),n=this;for(;t;){let e=t.lastChild;if(!e||e.to!=t.to)break;e.type.isError&&e.from==e.to?(n=t,t=e.prevSibling):t=e}return n}get node(){return this}get next(){return this.parent}}class nA extends tA{constructor(e,t,n,i){super(),this._tree=e,this.from=t,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;for(let o=this;;){for(let{children:a,positions:s}=o._tree,u=t>0?a.length:-1;e!=u;e+=t){let u=a[e],c=s[e]+o.from;if(JT(i,n,c,c+u.length))if(u instanceof KT){if(r&VT.ExcludeBuffers)continue;let a=u.findChild(0,u.buffer.length,t,n-c,i);if(a>-1)return new aA(new oA(o,u,e,c),null,a)}else if(r&VT.IncludeAnonymous||!u.type.isAnonymous||lA(u)){let a;if(!(r&VT.IgnoreMounts)&&(a=XT.get(u))&&!a.overlay)return new nA(a.tree,c,e,o);let s=new nA(u,c,e,o);return r&VT.IncludeAnonymous||!s.type.isAnonymous?s:s.nextChild(t<0?u.children.length-1:0,t,n,i)}}if(r&VT.IncludeAnonymous||!o.type.isAnonymous||(e=o.index>=0?o.index+t:t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,t){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(i&VT.IgnoreOverlays)&&(n=XT.get(this._tree))&&n.overlay){let i=e-this.from;for(let{from:e,to:r}of n.overlay)if((t>0?e<=i:e<i)&&(t<0?r>=i:r>i))return new nA(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function iA(e,t,n,i){let r=e.cursor(),o=[];if(!r.firstChild())return o;if(null!=n)for(let e=!1;!e;)if(e=r.type.is(n),!r.nextSibling())return o;for(;;){if(null!=i&&r.type.is(i))return o;if(r.type.is(t)&&o.push(r.node),!r.nextSibling())return null==i?o:[]}}function rA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-1;for(let i=e;n>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(t[n]&&t[n]!=i.name)return!1;n--}}return!0}class oA{constructor(e,t,n,i){this.parent=e,this.buffer=t,this.index=n,this.start=i}}class aA extends tA{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){super(),this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:i}=this.context,r=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,n);return r<0?null:new aA(this.context,this,r)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,t){if((arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)&VT.ExcludeBuffers)return null;let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return i<0?null:new aA(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new aA(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new aA(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,i=this.index+4,r=n.buffer[this.index+3];if(r>i){let o=n.buffer[this.index+1];e.push(n.slice(i,r,o)),t.push(0)}return new YT(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function sA(e){if(!e.length)return null;let t=0,n=e[0];for(let i=1;i<e.length;i++){let r=e[i];(r.from>n.from||r.to<n.to)&&(n=r,t=i)}let i=n instanceof nA&&n.index<0?null:n.parent,r=e.slice();return i?r[t]=i:r.splice(t,1),new uA(r,n)}class uA{constructor(e,t){this.heads=e,this.node=t}get next(){return sA(this.heads)}}class cA{get name(){return this.type.name}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof nA)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:n,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=n+i.buffer[e+1],this.to=n+i.buffer[e+2],!0}yield(e){return!!e&&(e instanceof nA?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:i}=this.buffer,r=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,n);return!(r<0)&&(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.mode;return this.buffer?!(n&VT.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&VT.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&VT.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let e=n<0?0:this.stack[n]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(e)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(i.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:n}=i)}else({index:t,_parent:n}=this._tree);for(;n;({index:t,_parent:n}=n))if(t>-1)for(let i=t+e,r=e<0?-1:n._tree.children.length;i!=r;i+=e){let e=n._tree.children[i];if(this.mode&VT.IncludeAnonymous||e instanceof KT||!e.type.isAnonymous||lA(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(1,e)}prev(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(-1,e)}moveTo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let i=this.index,r=this.stack.length;r>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,n=r+1;break e}i=this.stack[--r]}for(let e=n;e<this.stack.length;e++)t=new aA(this.buffer,t,this.stack[e]);return this.bufferNode=new aA(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let i=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,i=!0}}}matchContext(e){if(!this.buffer)return rA(this.node.parent,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let i=e.length-1,r=this.stack.length-1;i>=0;r--){if(r<0)return rA(this._tree,e,i);let o=n[t.buffer[this.stack[r]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function lA(e){return e.children.some(e=>e instanceof KT||!e.type.isAnonymous||lA(e))}const dA=new WeakMap;function hA(e,t){if(!e.isAnonymous||t instanceof KT||t.type!=e)return 1;let n=dA.get(t);if(null==n){n=1;for(let i of t.children){if(i.type!=e||!(i instanceof YT)){n=1;break}n+=hA(e,i)}dA.set(t,n)}return n}function pA(e,t,n,i,r,o,a,s,u){let c=0;for(let n=i;n<r;n++)c+=hA(e,t[n]);let l=Math.ceil(1.5*c/8),d=[],h=[];return function t(n,i,r,a,s){for(let c=r;c<a;){let r=c,p=i[c],f=hA(e,n[c]);for(c++;c<a;c++){let t=hA(e,n[c]);if(f+t>=l)break;f+=t}if(c==r+1){if(f>l){let e=n[r];t(e.children,e.positions,0,e.children.length,i[r]+s);continue}d.push(n[r])}else{let t=i[c-1]+n[c-1].length-p;d.push(pA(e,n,i,r,c,p,t,null,u))}h.push(p+s-o)}}(t,n,i,r,0),(s||u)(d,h,a)}class fA{startParse(e,t,n){return"string"==typeof e&&(e=new mA(e)),n=n?n.length?n.map(e=>new UT(e.from,e.to)):[new UT(0,0)]:[new UT(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let i=this.startParse(e,t,n);for(;;){let e=i.advance();if(e)return e}}}class mA{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new qT({perNode:!0});let OA=0,gA=class e{constructor(e,t,n,i){this.name=e,this.set=t,this.base=n,this.modified=i,this.id=OA++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e="".concat(t.name,"(").concat(e,")"));return e}static define(t,n){let i="string"==typeof t?t:"?";if(t instanceof e&&(n=t),null!=n&&n.base)throw new Error("Can not derive from a modified tag");let r=new e(i,[],null,[]);if(r.set.push(r),n)for(let e of n.set)r.set.push(e);return r}static defineModifier(e){let t=new vA(e);return e=>e.modified.indexOf(t)>-1?e:vA.get(e.base||e,e.modified.concat(t).sort((e,t)=>e.id-t.id))}},DA=0;class vA{constructor(e){this.name=e,this.instances=[],this.id=DA++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find(n=>n.base==e&&function(e,t){return e.length==t.length&&e.every((e,n)=>e==t[n])}(t,n.modified));if(n)return n;let i=[],r=new gA(e.name,i,e,t);for(let e of t)e.instances.push(r);let o=function(e){let t=[[]];for(let n=0;n<e.length;n++)for(let i=0,r=t.length;i<r;i++)t.push(t[i].concat(e[n]));return t.sort((e,t)=>t.length-e.length)}(t);for(let t of e.set)if(!t.modified.length)for(let e of o)i.push(vA.get(t,e));return r}}function EA(e){let t=Object.create(null);for(let n in e){let i=e[n];Array.isArray(i)||(i=[i]);for(let e of n.split(" "))if(e){let n=[],r=2,o=e;for(let t=0;;){if("..."==o&&t>0&&t+3==e.length){r=1;break}let i=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!i)throw new RangeError("Invalid path: "+e);if(n.push("*"==i[0]?"":'"'==i[0][0]?JSON.parse(i[0]):i[0]),t+=i[0].length,t==e.length)break;let a=e[t++];if(t==e.length&&"!"==a){r=0;break}if("/"!=a)throw new RangeError("Invalid path: "+e);o=e.slice(t)}let a=n.length-1,s=n[a];if(!s)throw new RangeError("Invalid path: "+e);let u=new bA(i,r,a>0?n.slice(0,a):null);t[s]=u.sort(t[s])}}return CA.add(t)}const CA=new qT({combine(e,t){let n,i,r;for(;e||t;){if(!e||t&&e.depth>=t.depth?(r=t,t=t.next):(r=e,e=e.next),n&&n.mode==r.mode&&!r.context&&!n.context)continue;let o=new bA(r.tags,r.mode,r.context);n?n.next=o:i=o,n=o}return i}});class bA{constructor(e,t,n,i){this.tags=e,this.mode=t,this.context=n,this.next=i}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}bA.empty=new bA([],2,null);class kA{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,i,r){let{type:o,from:a,to:s}=e;if(a>=n||s<=t)return;o.isTop&&(r=this.highlighters.filter(e=>!e.scope||e.scope(o)));let u=i,c=function(e){let t=e.type.prop(CA);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}(e)||bA.empty,l=function(e,t){let n=null;for(let i of e){let e=i.style(t);e&&(n=n?n+" "+e:e)}return n}(r,c.tags);if(l&&(u&&(u+=" "),u+=l,1==c.mode&&(i+=(i?" ":"")+l)),this.startSpan(Math.max(t,a),u),c.opaque)return;let d=e.tree&&e.tree.prop(qT.mounted);if(d&&d.overlay){let o=e.node.enter(d.overlay[0].from+a,1),c=this.highlighters.filter(e=>!e.scope||e.scope(d.tree.type)),l=e.firstChild();for(let h=0,p=a;;h++){let f=h<d.overlay.length?d.overlay[h]:null,m=f?f.from+a:s,O=Math.max(t,p),g=Math.min(n,m);if(O<g&&l)for(;e.from<g&&(this.highlightRange(e,O,g,i,r),this.startSpan(Math.min(g,e.to),u),!(e.to>=m)&&e.nextSibling()););if(!f||m>n)break;p=f.to+a,p>t&&(this.highlightRange(o.cursor(),Math.max(t,f.from+a),Math.min(n,p),"",c),this.startSpan(Math.min(n,p),u))}l&&e.parent()}else if(e.firstChild()){d&&(i="");do{if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,i,r),this.startSpan(Math.min(n,e.to),u)}}while(e.nextSibling());e.parent()}}}const yA=gA.define,TA=yA(),AA=yA(),SA=yA(AA),_A=yA(AA),FA=yA(),wA=yA(FA),xA=yA(FA),PA=yA(),RA=yA(PA),IA=yA(),QA=yA(),NA=yA(),BA=yA(NA),MA=yA(),LA={comment:TA,lineComment:yA(TA),blockComment:yA(TA),docComment:yA(TA),name:AA,variableName:yA(AA),typeName:SA,tagName:yA(SA),propertyName:_A,attributeName:yA(_A),className:yA(AA),labelName:yA(AA),namespace:yA(AA),macroName:yA(AA),literal:FA,string:wA,docString:yA(wA),character:yA(wA),attributeValue:yA(wA),number:xA,integer:yA(xA),float:yA(xA),bool:yA(FA),regexp:yA(FA),escape:yA(FA),color:yA(FA),url:yA(FA),keyword:IA,self:yA(IA),null:yA(IA),atom:yA(IA),unit:yA(IA),modifier:yA(IA),operatorKeyword:yA(IA),controlKeyword:yA(IA),definitionKeyword:yA(IA),moduleKeyword:yA(IA),operator:QA,derefOperator:yA(QA),arithmeticOperator:yA(QA),logicOperator:yA(QA),bitwiseOperator:yA(QA),compareOperator:yA(QA),updateOperator:yA(QA),definitionOperator:yA(QA),typeOperator:yA(QA),controlOperator:yA(QA),punctuation:NA,separator:yA(NA),bracket:BA,angleBracket:yA(BA),squareBracket:yA(BA),paren:yA(BA),brace:yA(BA),content:PA,heading:RA,heading1:yA(RA),heading2:yA(RA),heading3:yA(RA),heading4:yA(RA),heading5:yA(RA),heading6:yA(RA),contentSeparator:yA(PA),list:yA(PA),quote:yA(PA),emphasis:yA(PA),strong:yA(PA),link:yA(PA),monospace:yA(PA),strikethrough:yA(PA),inserted:yA(),deleted:yA(),changed:yA(),invalid:yA(),meta:MA,documentMeta:yA(MA),annotation:yA(MA),processingInstruction:yA(MA),definition:gA.defineModifier("definition"),constant:gA.defineModifier("constant"),function:gA.defineModifier("function"),standard:gA.defineModifier("standard"),local:gA.defineModifier("local"),special:gA.defineModifier("special")};for(let e in LA){let t=LA[e];t instanceof gA&&(t.name=e)}const $A=function(e){let t=Object.create(null);for(let n of e)if(Array.isArray(n.tag))for(let e of n.tag)t[e.id]=n.class;else t[n.tag.id]=n.class;let{scope:n,all:i=null}={};return{style:e=>{let n=i;for(let i of e)for(let e of i.set){let i=t[e.id];if(i){n=n?n+" "+i:i;break}}return n},scope:n}}([{tag:LA.link,class:"tok-link"},{tag:LA.heading,class:"tok-heading"},{tag:LA.emphasis,class:"tok-emphasis"},{tag:LA.strong,class:"tok-strong"},{tag:LA.keyword,class:"tok-keyword"},{tag:LA.atom,class:"tok-atom"},{tag:LA.bool,class:"tok-bool"},{tag:LA.url,class:"tok-url"},{tag:LA.labelName,class:"tok-labelName"},{tag:LA.inserted,class:"tok-inserted"},{tag:LA.deleted,class:"tok-deleted"},{tag:LA.literal,class:"tok-literal"},{tag:LA.string,class:"tok-string"},{tag:LA.number,class:"tok-number"},{tag:[LA.regexp,LA.escape,LA.special(LA.string)],class:"tok-string2"},{tag:LA.variableName,class:"tok-variableName"},{tag:LA.local(LA.variableName),class:"tok-variableName tok-local"},{tag:LA.definition(LA.variableName),class:"tok-variableName tok-definition"},{tag:LA.special(LA.variableName),class:"tok-variableName2"},{tag:LA.definition(LA.propertyName),class:"tok-propertyName tok-definition"},{tag:LA.typeName,class:"tok-typeName"},{tag:LA.namespace,class:"tok-namespace"},{tag:LA.className,class:"tok-className"},{tag:LA.macroName,class:"tok-macroName"},{tag:LA.propertyName,class:"tok-propertyName"},{tag:LA.operator,class:"tok-operator"},{tag:LA.comment,class:"tok-comment"},{tag:LA.meta,class:"tok-meta"},{tag:LA.invalid,class:"tok-invalid"},{tag:LA.punctuation,class:"tok-punctuation"}]);function UA(e,t){const n=[];let i=0;return function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length,o=new kA(i,Array.isArray(t)?t:[t],n);o.highlightRange(e.cursor(),i,r,"",o.highlighters),o.flush(r)}(t,$A,(t,r,o)=>{t>i&&n.push({type:"text",value:e.slice(i,t)}),n.push({type:"element",tagName:"span",properties:{className:o},children:[{type:"text",value:e.slice(t,r)}]}),i=r}),i<e.length&&n.push({type:"text",value:e.slice(i)}),{type:"root",children:n}}const qA=/^(?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088F\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5C\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDC-\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC7\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDB0-\uDDDB\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF2-\uDFF6]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDEC0-\uDEDE\uDEE0-\uDEE2\uDEE4\uDEE5\uDEE7-\uDEED\uDEF0-\uDEF4\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79])(?:[\$0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u0870-\u0887\u0889-\u088F\u0897-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5C\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDC-\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1-\u0CF3\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECE\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1715\u171F-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1ABF-\u1ADD\u1AE0-\u1AEB\u1B00-\u1B4C\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA827\uA82C\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF65-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDD40-\uDD65\uDD69-\uDD6D\uDD6F-\uDD85\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDEC2-\uDEC7\uDEFA-\uDF1C\uDF27\uDF30-\uDF50\uDF70-\uDF85\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC75\uDC7F-\uDCBA\uDCC2\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E-\uDE41\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7-\uDFC0\uDFC2\uDFC5\uDFC7-\uDFCA\uDFCC-\uDFD3\uDFE1\uDFE2]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E-\uDC61\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39\uDF40-\uDF46]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEB0-\uDEF8\uDF60-\uDF67\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDDB0-\uDDDB\uDDE0-\uDDE9\uDEE0-\uDEF6\uDF00-\uDF10\uDF12-\uDF3A\uDF3E-\uDF42\uDF50-\uDF5A\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC40-\uDC55\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE7F\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFE4\uDFF0-\uDFF6]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD833[\uDCF0-\uDCF9\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC30-\uDC6D\uDC8F\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAE\uDEC0-\uDEF9]|\uD839[\uDCD0-\uDCF9\uDDD0-\uDDFA\uDEC0-\uDEDE\uDEE0-\uDEF5\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]|\uDB40[\uDD00-\uDDEF])*$/,XA=/^(?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088F\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5C\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDC-\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC7\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDB0-\uDDDB\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF2-\uDFF6]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDEC0-\uDEDE\uDEE0-\uDEE2\uDEE4\uDEE5\uDEE7-\uDEED\uDEF0-\uDEF4\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79])(?:[\$\x2D0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u0870-\u0887\u0889-\u088F\u0897-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5C\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDC-\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1-\u0CF3\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECE\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1715\u171F-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1ABF-\u1ADD\u1AE0-\u1AEB\u1B00-\u1B4C\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA827\uA82C\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF65-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDD40-\uDD65\uDD69-\uDD6D\uDD6F-\uDD85\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDEC2-\uDEC7\uDEFA-\uDF1C\uDF27\uDF30-\uDF50\uDF70-\uDF85\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC75\uDC7F-\uDCBA\uDCC2\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E-\uDE41\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7-\uDFC0\uDFC2\uDFC5\uDFC7-\uDFCA\uDFCC-\uDFD3\uDFE1\uDFE2]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E-\uDC61\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39\uDF40-\uDF46]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEB0-\uDEF8\uDF60-\uDF67\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDDB0-\uDDDB\uDDE0-\uDDE9\uDEE0-\uDEF6\uDF00-\uDF10\uDF12-\uDF3A\uDF3E-\uDF42\uDF50-\uDF5A\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC40-\uDC55\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE7F\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFE4\uDFF0-\uDFF6]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD833[\uDCF0-\uDCF9\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC30-\uDC6D\uDC8F\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAE\uDEC0-\uDEF9]|\uD839[\uDCD0-\uDCF9\uDDD0-\uDDFA\uDEC0-\uDEDE\uDEE0-\uDEF5\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]|\uDB40[\uDD00-\uDDEF])*$/,zA={};function ZA(e,t){return(zA.jsx?XA:qA).test(e)}const jA=/[ \t\n\f\r]/g;function WA(e){return""===e.replace(jA,"")}function GA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var VA,YA,HA,KA={};var JA,eS,tS,nS={};const iS=GA(function(){if(tS)return eS;tS=1;var e=(eS&&eS.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(function(){if(HA)return KA;HA=1;var e=KA&&KA.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(KA,"__esModule",{value:!0}),KA.default=function(e,n){let i=null;if(!e||"string"!=typeof e)return i;const r=(0,t.default)(e),o="function"==typeof n;return r.forEach(e=>{if("declaration"!==e.type)return;const{property:t,value:r}=e;o?n(t,r,e):r&&(i=i||{},i[t]=r)}),i};const t=e(function(){if(YA)return VA;YA=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,s=/^\s+|\s+$/g,u="";function c(e){return e?e.replace(s,u):u}return VA=function(s,l){if("string"!=typeof s)throw new TypeError("First argument must be a string");if(!s)return[];l=l||{};var d=1,h=1;function p(e){var n=e.match(t);n&&(d+=n.length);var i=e.lastIndexOf("\n");h=~i?e.length-i:h+e.length}function f(){var e={line:d,column:h};return function(t){return t.position=new m(e),D(),t}}function m(e){this.start=e,this.end={line:d,column:h},this.source=l.source}function O(e){var t=new Error(l.source+":"+d+":"+h+": "+e);if(t.reason=e,t.filename=l.source,t.line=d,t.column=h,t.source=s,!l.silent)throw t}function g(e){var t=e.exec(s);if(t){var n=t[0];return p(n),s=s.slice(n.length),t}}function D(){g(n)}function v(e){var t;for(e=e||[];t=E();)!1!==t&&e.push(t);return e}function E(){var e=f();if("/"==s.charAt(0)&&"*"==s.charAt(1)){for(var t=2;u!=s.charAt(t)&&("*"!=s.charAt(t)||"/"!=s.charAt(t+1));)++t;if(t+=2,u===s.charAt(t-1))return O("End of comment missing");var n=s.slice(2,t-2);return h+=2,p(n),s=s.slice(t),h+=2,e({type:"comment",comment:n})}}function C(){var t=f(),n=g(i);if(n){if(E(),!g(r))return O("property missing ':'");var s=g(o),l=t({type:"declaration",property:c(n[0].replace(e,u)),value:s?c(s[0].replace(e,u)):u});return g(a),l}}return m.prototype.content=s,D(),function(){var e,t=[];for(v(t);e=C();)!1!==e&&(t.push(e),v(t));return t}()}}());return KA}()),t=function(){if(JA)return nS;JA=1,Object.defineProperty(nS,"__esModule",{value:!0}),nS.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,o=function(e,t){return t.toUpperCase()},a=function(e,t){return"".concat(t,"-")};return nS.camelCase=function(s,u){return void 0===u&&(u={}),function(t){return!t||n.test(t)||e.test(t)}(s)?s:(s=s.toLowerCase(),(s=u.reactCompat?s.replace(r,a):s.replace(i,a)).replace(t,o))},nS}();function n(n,i){var r={};return!n||"string"!=typeof n||(0,e.default)(n,function(e,n){e&&n&&(r[(0,t.camelCase)(e,i)]=n)}),r}return n.default=n,eS=n}());function rS(e){return e&&"object"==typeof e?"position"in e||"type"in e?aS(e.position):"start"in e||"end"in e?aS(e):"line"in e||"column"in e?oS(e):"":""}function oS(e){return sS(e&&e.line)+":"+sS(e&&e.column)}function aS(e){return oS(e&&e.start)+"-"+oS(e&&e.end)}function sS(e){return e&&"number"==typeof e?e:1}class uS extends Error{constructor(e,t,n){super(),"string"==typeof t&&(n=t,t=void 0);let i="",r={},o=!1;if(t&&(r="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:Be({},t)),"string"==typeof e?i=e:!r.cause&&e&&(o=!0,i=e.message,r.cause=e),!r.ruleId&&!r.source&&"string"==typeof n){const e=n.indexOf(":");-1===e?r.ruleId=n:(r.source=n.slice(0,e),r.ruleId=n.slice(e+1))}if(!r.place&&r.ancestors&&r.ancestors){const e=r.ancestors[r.ancestors.length-1];e&&(r.place=e.position)}const a=r.place&&"start"in r.place?r.place.start:r.place;this.ancestors=r.ancestors||void 0,this.cause=r.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=rS(r.place)||"1:1",this.place=r.place||void 0,this.reason=this.message,this.ruleId=r.ruleId||void 0,this.source=r.source||void 0,this.stack=o&&r.cause&&"string"==typeof r.cause.stack?r.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}uS.prototype.file="",uS.prototype.name="",uS.prototype.reason="",uS.prototype.message="",uS.prototype.stack="",uS.prototype.column=void 0,uS.prototype.line=void 0,uS.prototype.ancestors=void 0,uS.prototype.cause=void 0,uS.prototype.fatal=void 0,uS.prototype.place=void 0,uS.prototype.ruleId=void 0,uS.prototype.source=void 0;const cS={}.hasOwnProperty,lS=new Map,dS=/[A-Z]/g,hS=new Set(["table","tbody","thead","tfoot","tr"]),pS=new Set(["td","th"]),fS="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function mS(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let i;if(t.development){if("function"!=typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=function(e,t){return function(n,i,r,o){const a=Array.isArray(r.children),s=Qg(n);return t(i,r,o,a,{columnNumber:s?s.column-1:void 0,fileName:e,lineNumber:s?s.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!=typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!=typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");i=function(e,t,n){return function(e,i,r,o){const a=Array.isArray(r.children)?n:t;return o?a(i,r,o):a(i,r)}}(0,t.jsx,t.jsxs)}const r={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?_D:SD,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},o=OS(r,e,void 0);return o&&"string"!=typeof o?o:r.create(e,r.Fragment,{children:o||void 0},void 0)}function OS(e,t,n){return"element"===t.type?function(e,t,n){const i=e.schema;let r=i;"svg"===t.tagName.toLowerCase()&&"html"===i.space&&(r=_D,e.schema=r),e.ancestors.push(t);const o=CS(e,t.tagName,!1),a=function(e,t){const n={};let i,r;for(r in t.properties)if("children"!==r&&cS.call(t.properties,r)){const o=ES(e,r,t.properties[r]);if(o){const[r,a]=o;e.tableCellAlignToStyle&&"align"===r&&"string"==typeof a&&pS.has(t.tagName)?i=a:n[r]=a}}return i&&((n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=i),n}(e,t);let s=vS(e,t);return hS.has(t.tagName)&&(s=s.filter(function(e){return"string"!=typeof e||!function(e){return"object"==typeof e?"text"===e.type&&WA(e.value):WA(e)}(e)})),gS(e,a,o,t),DS(a,s),e.ancestors.pop(),e.schema=i,e.create(t,o,a,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}bS(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const i=e.schema;let r=i;"svg"===t.name&&"html"===i.space&&(r=_D,e.schema=r),e.ancestors.push(t);const o=null===t.name?e.Fragment:CS(e,t.name,!0),a=function(e,t){const n={};for(const i of t.attributes)if("mdxJsxExpressionAttribute"===i.type)if(i.data&&i.data.estree&&e.evaluater){const t=i.data.estree.body[0];t.type;const r=t.expression;r.type;const o=r.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else bS(e,t.position);else{const r=i.name;let o;if(i.value&&"object"==typeof i.value)if(i.value.data&&i.value.data.estree&&e.evaluater){const t=i.value.data.estree.body[0];t.type,o=e.evaluater.evaluateExpression(t.expression)}else bS(e,t.position);else o=null===i.value||i.value;n[r]=o}return n}(e,t),s=vS(e,t);return gS(e,a,o,t),DS(a,s),e.ancestors.pop(),e.schema=i,e.create(t,o,a,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);bS(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const i={};return DS(i,vS(e,t)),e.create(t,e.Fragment,i,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function gS(e,t,n,i){"string"!=typeof n&&n!==e.Fragment&&e.passNode&&(t.node=i)}function DS(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function vS(e,t){const n=[];let i=-1;const r=e.passKeys?new Map:lS;for(;++i<t.children.length;){const o=t.children[i];let a;if(e.passKeys){const e="element"===o.type?o.tagName:"mdxJsxFlowElement"===o.type||"mdxJsxTextElement"===o.type?o.name:void 0;if(e){const t=r.get(e)||0;a=e+"-"+t,r.set(e,t+1)}}const s=OS(e,o,a);void 0!==s&&n.push(s)}return n}function ES(e,t,n){const i=yD(e.schema,t);if(!(null==n||"number"==typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?wD(n):RD(n)),"style"===i.property){let t="object"==typeof n?n:function(e,t){try{return iS(t,{reactCompat:!0})}catch(t){if(e.ignoreInvalidStyle)return{};const n=t,i=new uS("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=fS+"#cannot-parse-style-attribute",i}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)cS.call(e,n)&&(t[kS(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&i.space?ED[i.property]||i.property:i.attribute,n]}}function CS(e,t,n){let i;if(n)if(t.includes(".")){const e=t.split(".");let n,r=-1;for(;++r<e.length;){const t=ZA(e[r])?{type:"Identifier",name:e[r]}:{type:"Literal",value:e[r]};n=n?{type:"MemberExpression",object:n,property:t,computed:!(!r||"Literal"!==t.type),optional:!1}:t}i=n}else i=ZA(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else i={type:"Literal",value:t};if("Literal"===i.type){const t=i.value;return cS.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(i);bS(e)}function bS(e,t){const n=new uS("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=fS+"#cannot-handle-mdx-estrees-without-createevaluater",n}function kS(e){let t=e.replace(dS,yS);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function yS(e){return"-"+e.toLowerCase()}class TS{constructor(e,t,n,i,r,o,a,s,u){let c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,l=arguments.length>10?arguments[10]:void 0;this.p=e,this.stack=t,this.state=n,this.reducePos=i,this.pos=r,this.score=o,this.buffer=a,this.bufferBase=s,this.curContext=u,this.lookAhead=c,this.parent=l}toString(){return"[".concat(this.stack.filter((e,t)=>t%3==0).concat(this.state),"]@").concat(this.pos).concat(this.score?"!"+this.score:"")}static start(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=e.parser.context;return new TS(e,[],t,n,n,0,[],0,i?new AS(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let n=e>>19,i=65535&e,{parser:r}=this.p,o=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),a=r.dynamicPrecedence(i);if(a&&(this.score+=a),0==n)return this.pushState(r.getGoto(this.state,i,!0),this.reducePos),i<r.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,o?8:4,!0),void this.reduceContext(i,this.reducePos);let s=this.stack.length-3*(n-1)-(262144&e?6:0),u=s?this.stack[s-2]:this.p.ranges[0].from,c=this.reducePos-u;c>=2e3&&(null===(t=this.p.parser.nodeSet.types[i])||void 0===t||!t.isAnonymous)&&(u==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=u,this.p.lastBigReductionSize=c));let l=s?this.stack[s-1]:0,d=this.bufferBase+this.buffer.length-l;if(i<r.minRepeatTerm||131072&e){let e=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,u,e,d+4,!0)}if(262144&e)this.state=this.stack[s];else{let e=this.stack[s-3];this.state=r.getGoto(e,i,!0)}for(;this.stack.length>s;)this.stack.pop();this.reduceContext(i,u)}storeNode(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let e=this,i=this.buffer.length;if(0==i&&e.parent&&(i=e.bufferBase-e.parent.bufferBase,e=e.parent),i>0&&0==e.buffer[i-4]&&e.buffer[i-1]>-1){if(t==n)return;if(e.buffer[i-2]>=t)return void(e.buffer[i-2]=n)}}if(r&&this.pos!=n){let r=this.buffer.length;if(r>0&&(0!=this.buffer[r-4]||this.buffer[r-1]<0)){let e=!1;for(let t=r;t>0&&this.buffer[t-2]>n;t-=4)if(this.buffer[t-1]>=0){e=!0;break}if(e)for(;r>0&&this.buffer[r-2]>n;)this.buffer[r]=this.buffer[r-4],this.buffer[r+1]=this.buffer[r-3],this.buffer[r+2]=this.buffer[r-2],this.buffer[r+3]=this.buffer[r-1],r-=4,i>4&&(i-=4)}this.buffer[r]=e,this.buffer[r+1]=t,this.buffer[r+2]=n,this.buffer[r+3]=i}else this.buffer.push(e,t,n,i)}shift(e,t,n,i){if(131072&e)this.pushState(65535&e,this.pos);else if(262144&e)this.pos=i,this.shiftContext(t,n),t<=this.p.parser.maxNode&&this.buffer.push(t,n,i,4);else{let r=e,{parser:o}=this.p;(i>this.pos||t<=o.maxNode)&&(this.pos=i,o.stateFlag(r,1)||(this.reducePos=i)),this.pushState(r,n),this.shiftContext(t,n),t<=o.maxNode&&this.buffer.push(t,n,i,4)}}apply(e,t,n,i){65536&e?this.reduce(e):this.shift(e,t,n,i)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(n,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new TS(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new SS(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==n)return!1;if(!(65536&n))return!0;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let n=[];for(let i,r=0;r<t.length;r+=2)(i=t[r+1])!=this.state&&this.p.parser.hasAction(i,e)&&n.push(t[r],i);if(this.stack.length<120)for(let e=0;n.length<8&&e<t.length;e+=2){let i=t[e+1];n.some((e,t)=>1&t&&e==i)||n.push(t[e],i)}t=n}let n=[];for(let e=0;e<t.length&&n.length<4;e+=2){let i=t[e+1];if(i==this.state)continue;let r=this.split();r.pushState(i,this.pos),r.storeNode(0,r.pos,r.pos,4,!0),r.shiftContext(t[e],this.pos),r.reducePos=this.pos,r.score-=200,n.push(r)}return n}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(65536&t))return!1;if(!e.validAction(this.state,t)){let n=t>>19,i=65535&t,r=this.stack.length-3*n;if(r<0||e.getGoto(this.stack[r],i,!1)<0){let e=this.findForcedReduction();if(null==e)return!1;t=e}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],n=(i,r)=>{if(!t.includes(i))return t.push(i),e.allActions(i,t=>{if(!(393216&t))if(65536&t){let n=(t>>19)-r;if(n>1){let i=65535&t,r=this.stack.length-3*n;if(r>=0&&e.getGoto(this.stack[r],i,!1)>=0)return n<<19|65536|i}}else{let e=n(t,r+1);if(null!=e)return e}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new AS(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){return!(e<=this.lookAhead||(this.emitLookAhead(),this.lookAhead=e,0))}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class AS{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class SS{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,n=e>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class _S{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.bufferBase+e.buffer.length;return new _S(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new _S(this.stack,this.pos,this.index)}}function FS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uint16Array;if("string"!=typeof e)return e;let n=null;for(let i=0,r=0;i<e.length;){let o=0;for(;;){let t=e.charCodeAt(i++),n=!1;if(126==t){o=65535;break}t>=92&&t--,t>=34&&t--;let r=t-32;if(r>=46&&(r-=46,n=!0),o+=r,n)break;o*=46}n?n[r++]=o:n=new t(o)}return n}class wS{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const xS=new wS;class PS{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=xS,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,i=this.rangeIndex,r=this.pos+e;for(;r<n.from;){if(!i)return null;let e=this.ranges[--i];r-=n.from-e.to,n=e}for(;t<0?r>n.to:r>=n.to;){if(i==this.ranges.length-1)return null;let e=this.ranges[++i];r+=e.from-n.to,n=e}return r}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t,n,i=this.chunkOff+e;if(i>=0&&i<this.chunk.length)t=this.pos+e,n=this.chunk.charCodeAt(i);else{let i=this.resolveOffset(e,1);if(null==i)return-1;if(t=i,t>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(t-this.chunk2Pos);else{let e=this.rangeIndex,i=this.range;for(;i.to<=t;)i=this.ranges[++e];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>i.to&&(this.chunk2=this.chunk2.slice(0,i.to-t)),n=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),n}acceptToken(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t?this.resolveOffset(t,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=xS,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(n+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return n}}class RS{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:n}=t.p;NS(this.data,e,t,this.id,n.data,n.tokenPrecTable)}}RS.prototype.contextual=RS.prototype.fallback=RS.prototype.extend=!1;class IS{constructor(e,t,n){this.precTable=t,this.elseToken=n,this.data="string"==typeof e?FS(e):e}token(e,t){let n=e.pos,i=0;for(;;){let n=e.next<0,r=e.resolveOffset(1,1);if(NS(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(null==this.elseToken)return;if(n||i++,null==r)break;e.reset(r,e.token)}i&&(e.reset(n,e.token),e.acceptToken(this.elseToken,i))}}IS.prototype.contextual=RS.prototype.fallback=RS.prototype.extend=!1;class QS{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function NS(e,t,n,i,r,o){let a=0,s=1<<i,{dialect:u}=n.p.parser;e:for(;0!=(s&e[a]);){let n=e[a+1];for(let i=a+3;i<n;i+=2)if((e[i+1]&s)>0){let n=e[i];if(u.allows(n)&&(-1==t.token.value||t.token.value==n||MS(n,t.token.value,r,o))){t.acceptToken(n);break}}let i=t.next,c=0,l=e[a+2];if(!(t.next<0&&l>c&&65535==e[n+3*l-3])){for(;c<l;){let r=c+l>>1,o=n+r+(r<<1),s=e[o],u=e[o+1]||65536;if(i<s)l=r;else{if(!(i>=u)){a=e[o+2],t.advance();continue e}c=r+1}}break}a=e[n+3*l-1]}}function BS(e,t,n){for(let i,r=t;65535!=(i=e[r]);r++)if(i==n)return r-t;return-1}function MS(e,t,n,i){let r=BS(n,i,t);return r<0||BS(n,i,e)<r}const LS=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG);let $S=null;function US(e,t,n){let i=e.cursor(VT.IncludeAnonymous);for(i.moveTo(t);;)if(!(n<0?i.childBefore(t):i.childAfter(t)))for(;;){if((n<0?i.to<t:i.from>t)&&!i.type.isError)return n<0?Math.max(0,Math.min(i.to-1,t-25)):Math.min(e.length,Math.max(i.from+1,t+25));if(n<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return n<0?0:e.length}}let qS=class{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?US(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?US(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],i=this.index[t];if(i==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let r=n.children[i],o=this.start[t]+n.positions[i];if(o>e)return this.nextStart=o,null;if(r instanceof YT){if(o==e){if(o<this.safeFrom)return null;let e=o+r.length;if(e<=this.safeTo){let t=r.prop(qT.lookAhead);if(!t||e+t<this.fragment.to)return r}}this.index[t]++,o+r.length>=Math.max(this.safeFrom,e)&&(this.trees.push(r),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+r.length}}};class XS{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(e=>new wS)}getActions(e){let t=0,n=null,{parser:i}=e.p,{tokenizers:r}=i,o=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,s=0;for(let i=0;i<r.length;i++){if(!(1<<i&o))continue;let u=r[i],c=this.tokens[i];if((!n||u.fallback)&&((u.contextual||c.start!=e.pos||c.mask!=o||c.context!=a)&&(this.updateCachedToken(c,u,e),c.mask=o,c.context=a),c.lookAhead>c.end+25&&(s=Math.max(c.lookAhead,s)),0!=c.value)){let i=t;if(c.extended>-1&&(t=this.addActions(e,c.extended,c.end,t)),t=this.addActions(e,c.value,c.end,t),!u.extend&&(n=c,t>i))break}}for(;this.actions.length>t;)this.actions.pop();return s&&e.setLookAhead(s),!n&&e.pos==this.stream.end&&(n=new wS,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new wS,{pos:n,p:i}=e;return t.start=n,t.end=Math.min(n+1,i.stream.end),t.value=n==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,n){let i=this.stream.clipPos(n.pos);if(t.token(this.stream.reset(i,e),n),e.value>-1){let{parser:t}=n.p;for(let i=0;i<t.specialized.length;i++)if(t.specialized[i]==e.value){let r=t.specializers[i](this.stream.read(e.start,e.end),n);if(r>=0&&n.p.parser.dialect.allows(r>>1)){1&r?e.extended=r>>1:e.value=r>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,t,n,i){for(let t=0;t<i;t+=3)if(this.actions[t]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=n,i}addActions(e,t,n,i){let{state:r}=e,{parser:o}=e.p,{data:a}=o;for(let e=0;e<2;e++)for(let s=o.stateSlot(r,e?2:1);;s+=3){if(65535==a[s]){if(1!=a[s+1]){0==i&&2==a[s+1]&&(i=this.putAction(YS(a,s+2),t,n,i));break}s=YS(a,s+2)}a[s]==t&&(i=this.putAction(YS(a,s+1),t,n,i))}return i}}class zS{constructor(e,t,n,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new PS(t,i),this.tokens=new XS(e,this.stream),this.topTerm=e.top[1];let{from:r}=i[0];this.stacks=[TS.start(this,e.top[0],r)],this.fragments=n.length&&this.stream.end-r>4*e.bufferLength?new qS(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e,t,n=this.stacks,i=this.minStackPos,r=this.stacks=[];if(this.bigReductionCount>300&&1==n.length){let[e]=n;for(;e.forceReduce()&&e.stack.length&&e.stack[e.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<n.length;o++){let a=n[o];for(;;){if(this.tokens.mainToken=null,a.pos>i)r.push(a);else{if(this.advanceStack(a,r,n))continue;{e||(e=[],t=[]),e.push(a);let n=this.tokens.getMainToken(a);t.push(n.value,n.end)}}break}}if(!r.length){let t=e&&function(e){let t=null;for(let n of e){let e=n.p.stoppedAt;(n.pos==n.p.stream.end||null!=e&&n.pos>e)&&n.p.parser.stateFlag(n.state,2)&&(!t||t.score<n.score)&&(t=n)}return t}(e);if(t)return LS&&console.log("Finish with "+this.stackID(t)),this.stackToTree(t);if(this.parser.strict)throw LS&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+i);this.recovering||(this.recovering=5)}if(this.recovering&&e){let n=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,r);if(n)return LS&&console.log("Force-finish "+this.stackID(n)),this.stackToTree(n.forceAll())}if(this.recovering){let e=1==this.recovering?1:3*this.recovering;if(r.length>e)for(r.sort((e,t)=>t.score-e.score);r.length>e;)r.pop();r.some(e=>e.reducePos>i)&&this.recovering--}else if(r.length>1){e:for(let e=0;e<r.length-1;e++){let t=r[e];for(let n=e+1;n<r.length;n++){let i=r[n];if(t.sameState(i)||t.buffer.length>500&&i.buffer.length>500){if(!((t.score-i.score||t.buffer.length-i.buffer.length)>0)){r.splice(e--,1);continue e}r.splice(n--,1)}}}r.length>12&&(r.sort((e,t)=>t.score-e.score),r.splice(12,r.length-12))}this.minStackPos=r[0].pos;for(let e=1;e<r.length;e++)r[e].pos<this.minStackPos&&(this.minStackPos=r[e].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,n){let i=e.pos,{parser:r}=this,o=LS?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let t=e.curContext&&e.curContext.tracker.strict,n=t?e.curContext.hash:0;for(let a=this.fragments.nodeAt(i);a;){let i=this.parser.nodeSet.types[a.type.id]==a.type?r.getGoto(e.state,a.type.id):-1;if(i>-1&&a.length&&(!t||(a.prop(qT.contextHash)||0)==n))return e.useNode(a,i),LS&&console.log(o+this.stackID(e)+" (via reuse of ".concat(r.getName(a.type.id),")")),!0;if(!(a instanceof YT)||0==a.children.length||a.positions[0]>0)break;let s=a.children[0];if(!(s instanceof YT&&0==a.positions[0]))break;a=s}}let a=r.stateSlot(e.state,4);if(a>0)return e.reduce(a),LS&&console.log(o+this.stackID(e)+" (via always-reduce ".concat(r.getName(65535&a),")")),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let s=this.tokens.getActions(e);for(let a=0;a<s.length;){let u=s[a++],c=s[a++],l=s[a++],d=a==s.length||!n,h=d?e:e.split(),p=this.tokens.mainToken;if(h.apply(u,c,p?p.start:h.pos,l),LS&&console.log(o+this.stackID(h)+" (via ".concat(65536&u?"reduce of ".concat(r.getName(65535&u)):"shift"," for ").concat(r.getName(c)," @ ").concat(i).concat(h==e?"":", split",")")),d)return!0;h.pos>i?t.push(h):n.push(h)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return ZS(e,t),!0}}runRecovery(e,t,n){let i=null,r=!1;for(let o=0;o<e.length;o++){let a=e[o],s=t[o<<1],u=t[1+(o<<1)],c=LS?this.stackID(a)+" -> ":"";if(a.deadEnd&&(r||(r=!0,a.restart(),LS&&console.log(c+this.stackID(a)+" (restarted)"),this.advanceFully(a,n))))continue;let l=a.split(),d=c;for(let e=0;e<10&&l.forceReduce()&&(LS&&console.log(d+this.stackID(l)+" (via force-reduce)"),!this.advanceFully(l,n));e++)LS&&(d=this.stackID(l)+" -> ");for(let e of a.recoverByInsert(s))LS&&console.log(c+this.stackID(e)+" (via recover-insert)"),this.advanceFully(e,n);this.stream.end>a.pos?(u==a.pos&&(u++,s=0),a.recoverByDelete(s,u),LS&&console.log(c+this.stackID(a)+" (via recover-delete ".concat(this.parser.getName(s),")")),ZS(a,n)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(e){return e.close(),YT.build({buffer:_S.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=($S||($S=new WeakMap)).get(e);return t||$S.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function ZS(e,t){for(let n=0;n<t.length;n++){let i=t[n];if(i.pos==e.pos&&i.sameState(e))return void(t[n].score<e.score&&(t[n]=e))}t.push(e)}class jS{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||0==this.disabled[e]}}const WS=e=>e;class GS{constructor(e){this.start=e.start,this.shift=e.shift||WS,this.reduce=e.reduce||WS,this.reuse=e.reuse||WS,this.hash=e.hash||(()=>0),this.strict=!1!==e.strict}}class VS extends fA{constructor(e){if(super(),this.wrappers=[],14!=e.version)throw new RangeError("Parser version (".concat(e.version,") doesn't match runtime version (14)"));let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let n=0;n<e.repeatNodeCount;n++)t.push("");let n=Object.keys(e.topRules).map(t=>e.topRules[t][1]),i=[];for(let e=0;e<t.length;e++)i.push([]);function r(e,t,n){i[e].push([t,t.deserialize(String(n))])}if(e.nodeProps)for(let t of e.nodeProps){let e=t[0];"string"==typeof e&&(e=qT[e]);for(let n=1;n<t.length;){let i=t[n++];if(i>=0)r(i,e,t[n++]);else{let o=t[n+-i];for(let a=-i;a>0;a--)r(t[n++],e,o);n++}}}this.nodeSet=new jT(t.map((t,r)=>ZT.define({name:r>=this.minRepeatTerm?void 0:t,id:r,props:i[r],top:n.indexOf(r)>-1,error:0==r,skipped:e.skippedNodes&&e.skippedNodes.indexOf(r)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=LT;let o=FS(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let e=0;e<this.specializerSpecs.length;e++)this.specialized[e]=this.specializerSpecs[e].term;this.specializers=this.specializerSpecs.map(HS),this.states=FS(e.states,Uint32Array),this.data=FS(e.stateData),this.goto=FS(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(e=>"number"==typeof e?new RS(o,e):e),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let i=new zS(this,e,t,n);for(let r of this.wrappers)i=r(i,e,t,n);return i}getGoto(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.goto;if(t>=i[0])return-1;for(let r=i[t+1];;){let t=i[r++],o=1&t,a=i[r++];if(o&&n)return a;for(let n=r+(t>>1);r<n;r++)if(i[r]==e)return a;if(o)return-1}}hasAction(e,t){let n=this.data;for(let i=0;i<2;i++)for(let r,o=this.stateSlot(e,i?2:1);;o+=3){if(65535==(r=n[o])){if(1!=n[o+1]){if(2==n[o+1])return YS(n,o+2);break}r=n[o=YS(n,o+2)]}if(r==t||0==r)return YS(n,o+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,e=>e==t||null)}allActions(e,t){let n=this.stateSlot(e,4),i=n?t(n):void 0;for(let n=this.stateSlot(e,1);null==i;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=YS(this.data,n+2)}i=t(YS(this.data,n+1))}return i}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=YS(this.data,n+2)}if(!(1&this.data[n+2])){let e=this.data[n+1];t.some((t,n)=>1&n&&t==e)||t.push(this.data[n],e)}}return t}configure(e){let t=Object.assign(Object.create(VS.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError("Invalid top rule name ".concat(e.top));t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(t=>{let n=e.tokenizers.find(e=>e.from==t);return n?n.to:t})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((n,i)=>{let r=e.specializers.find(e=>e.from==n.external);if(!r)return n;let o=Object.assign(Object.assign({},n),{external:r.to});return t.specializers[i]=HS(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map(()=>!1);if(e)for(let i of e.split(" ")){let e=t.indexOf(i);e>=0&&(n[e]=!0)}let i=null;for(let e=0;e<t.length;e++)if(!n[e])for(let n,r=this.dialects[t[e]];65535!=(n=this.data[r++]);)(i||(i=new Uint8Array(this.maxTerm+1)))[n]=1;return new jS(e,n,i)}static deserialize(e){return new VS(e)}}function YS(e,t){return e[t]|e[t+1]<<16}function HS(e){if(e.external){let t=e.extend?1:0;return(n,i)=>e.external(n,i)<<1|t}return e.get}const KS={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},JS={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},e_={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function t_(e){return 45==e||46==e||58==e||e>=65&&e<=90||95==e||e>=97&&e<=122||e>=161}let n_=null,i_=null,r_=0;function o_(e,t){let n=e.pos+t;if(r_==n&&i_==e)return n_;let i=e.peek(t),r="";for(;t_(i);)r+=String.fromCharCode(i),i=e.peek(++t);return i_=e,r_=n,n_=r?r.toLowerCase():i==a_||i==s_?void 0:null}const a_=63,s_=33;function u_(e,t){this.name=e,this.parent=t}const c_=[6,10,7,8,9],l_=new GS({start:null,shift:(e,t,n,i)=>c_.indexOf(t)>-1?new u_(o_(i,1)||"",e):e,reduce:(e,t)=>21==t&&e?e.parent:e,reuse(e,t,n,i){let r=t.type.id;return 6==r||37==r?new u_(o_(i,1)||"",e):e},strict:!1}),d_=new QS((e,t)=>{if(60!=e.next)return void(e.next<0&&t.context&&e.acceptToken(58));e.advance();let n=47==e.next;n&&e.advance();let i=o_(e,0);if(void 0===i)return;if(!i)return e.acceptToken(n?15:14);let r=t.context?t.context.name:null;if(n){if(i==r)return e.acceptToken(11);if(r&&JS[r])return e.acceptToken(58,-2);if(t.dialectEnabled(0))return e.acceptToken(12);for(let e=t.context;e;e=e.parent)if(e.name==i)return;e.acceptToken(13)}else{if("script"==i)return e.acceptToken(7);if("style"==i)return e.acceptToken(8);if("textarea"==i)return e.acceptToken(9);if(KS.hasOwnProperty(i))return e.acceptToken(10);r&&e_[r]&&e_[r][i]?e.acceptToken(58,-1):e.acceptToken(6)}},{contextual:!0}),h_=new QS(e=>{for(let t=0,n=0;;n++){if(e.next<0){n&&e.acceptToken(59);break}if(45==e.next)t++;else{if(62==e.next&&t>=2){n>=3&&e.acceptToken(59,-2);break}t=0}e.advance()}}),p_=new QS((e,t)=>{if(47==e.next&&62==e.peek(1)){let n=t.dialectEnabled(1)||function(e){for(;e;e=e.parent)if("svg"==e.name||"math"==e.name)return!0;return!1}(t.context);e.acceptToken(n?5:4,2)}else 62==e.next&&e.acceptToken(4,1)});function f_(e,t,n){let i=2+e.length;return new QS(r=>{for(let o=0,a=0,s=0;;s++){if(r.next<0){s&&r.acceptToken(t);break}if(0==o&&60==r.next||1==o&&47==r.next||o>=2&&o<i&&r.next==e.charCodeAt(o-2))o++,a++;else{if(o==i&&62==r.next){s>a?r.acceptToken(t,-a):r.acceptToken(n,-(a-2));break}if((10==r.next||13==r.next)&&s){r.acceptToken(t,1);break}o=a=0}r.advance()}})}const m_=f_("script",55,1),O_=f_("style",56,2),g_=f_("textarea",57,3),D_=EA({"Text RawText IncompleteTag IncompleteCloseTag":LA.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":LA.angleBracket,TagName:LA.tagName,"MismatchedCloseTag/TagName":[LA.tagName,LA.invalid],AttributeName:LA.attributeName,"AttributeValue UnquotedAttributeValue":LA.attributeValue,Is:LA.definitionOperator,"EntityReference CharacterReference":LA.character,Comment:LA.blockComment,ProcessingInst:LA.processingInstruction,DoctypeDecl:LA.documentMeta}),v_=VS.deserialize({version:14,states:",xOVO!rOOO!ZQ#tO'#CrO!`Q#tO'#C{O!eQ#tO'#DOO!jQ#tO'#DRO!oQ#tO'#DTO!tOaO'#CqO#PObO'#CqO#[OdO'#CqO$kO!rO'#CqOOO`'#Cq'#CqO$rO$fO'#DUO$zQ#tO'#DWO%PQ#tO'#DXOOO`'#Dl'#DlOOO`'#DZ'#DZQVO!rOOO%UQ&rO,59^O%aQ&rO,59gO%lQ&rO,59jO%wQ&rO,59mO&SQ&rO,59oOOOa'#D_'#D_O&_OaO'#CyO&jOaO,59]OOOb'#D`'#D`O&rObO'#C|O&}ObO,59]OOOd'#Da'#DaO'VOdO'#DPO'bOdO,59]OOO`'#Db'#DbO'jO!rO,59]O'qQ#tO'#DSOOO`,59],59]OOOp'#Dc'#DcO'vO$fO,59pOOO`,59p,59pO(OQ#|O,59rO(TQ#|O,59sOOO`-E7X-E7XO(YQ&rO'#CtOOQW'#D['#D[O(hQ&rO1G.xOOOa1G.x1G.xOOO`1G/Z1G/ZO(sQ&rO1G/ROOOb1G/R1G/RO)OQ&rO1G/UOOOd1G/U1G/UO)ZQ&rO1G/XOOO`1G/X1G/XO)fQ&rO1G/ZOOOa-E7]-E7]O)qQ#tO'#CzOOO`1G.w1G.wOOOb-E7^-E7^O)vQ#tO'#C}OOOd-E7_-E7_O){Q#tO'#DQOOO`-E7`-E7`O*QQ#|O,59nOOOp-E7a-E7aOOO`1G/[1G/[OOO`1G/^1G/^OOO`1G/_1G/_O*VQ,UO,59`OOQW-E7Y-E7YOOOa7+$d7+$dOOO`7+$u7+$uOOOb7+$m7+$mOOOd7+$p7+$pOOO`7+$s7+$sO*bQ#|O,59fO*gQ#|O,59iO*lQ#|O,59lOOO`1G/Y1G/YO*qO7[O'#CwO+SOMhO'#CwOOQW1G.z1G.zOOO`1G/Q1G/QOOO`1G/T1G/TOOO`1G/W1G/WOOOO'#D]'#D]O+eO7[O,59cOOQW,59c,59cOOOO'#D^'#D^O+vOMhO,59cOOOO-E7Z-E7ZOOQW1G.}1G.}OOOO-E7[-E7[",stateData:",c~O!_OS~OUSOVPOWQOXROYTO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O|_O!eZO~OgaO~OgbO~OgcO~OgdO~OgeO~O!XfOPmP![mP~O!YiOQpP![pP~O!ZlORsP![sP~OUSOVPOWQOXROYTOZqO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O!eZO~O![rO~P#gO!]sO!fuO~OgvO~OgwO~OS|OT}OiyO~OS!POT}OiyO~OS!ROT}OiyO~OS!TOT}OiyO~OS}OT}OiyO~O!XfOPmX![mX~OP!WO![!XO~O!YiOQpX![pX~OQ!ZO![!XO~O!ZlORsX![sX~OR!]O![!XO~O![!XO~P#gOg!_O~O!]sO!f!aO~OS!bO~OS!cO~Oj!dOShXThXihX~OS!fOT!gOiyO~OS!hOT!gOiyO~OS!iOT!gOiyO~OS!jOT!gOiyO~OS!gOT!gOiyO~Og!kO~Og!lO~Og!mO~OS!nO~Ol!qO!a!oO!c!pO~OS!rO~OS!sO~OS!tO~Ob!uOc!uOd!uO!a!wO!b!uO~Ob!xOc!xOd!xO!c!wO!d!xO~Ob!uOc!uOd!uO!a!{O!b!uO~Ob!xOc!xOd!xO!c!{O!d!xO~OT~cbd!ey|!e~",goto:"%q!aPPPPPPPPPPPPPPPPPPPPP!b!hP!nPP!zP!}#Q#T#Z#^#a#g#j#m#s#y!bP!b!bP$P$V$m$s$y%P%V%]%cPPPPPPPP%iX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:68,context:l_,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,22,31,34,37,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,30,33,36,38,"OpenTag"],["group",-10,14,15,18,19,20,21,40,41,42,43,"Entity",17,"Entity TextContent",-3,29,32,35,"TextContent Entity"],["isolate",-11,22,30,31,33,34,36,37,38,39,42,43,"ltr",-3,27,28,40,""]],propSources:[D_],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|caPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bXaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UVaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pTaPOv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!dpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({WaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!b`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!b`!dpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYlWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]`aP!b`!dp!_^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebiSlWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXiSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vciSaP!b`!dpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!ahaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WiiSlWd!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zblWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOb!R!R7tP;=`<%l7S!Z8OYlWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{iiSlWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbiSlWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QciSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXiSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TalWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOc!R!RAwP;=`<%lAY!ZBRYlWc!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbiSlWc!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbiSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXiSc!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!cxaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYliSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_kiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_XaP!b`!dp!fQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZiSgQaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!b`!dpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!b`!dp!ePOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!b`!dpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!b`!dpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!b`!dpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!b`!dpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!b`!dpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!b`!dpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!b`!dpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!dpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO|PP!-nP;=`<%l!-Sq!-xS!dp|POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!b`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!b`|POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!b`!dp|POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!b`!dpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!b`!dpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!b`!dpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!b`!dpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!b`!dpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!b`!dpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!dpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOyPP!7TP;=`<%l!6Vq!7]V!dpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!dpyPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!b`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!b`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!b`yPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!b`!dpyPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXjSaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[m_,O_,g_,p_,d_,h_,0,1,2,3,4,5],topRules:{Document:[0,16]},dialects:{noMatch:0,selfClosing:515},tokenPrec:517}),E_=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],C_=new GS({start:!1,shift:(e,t)=>5==t||6==t||320==t?e:321==t,strict:!1}),b_=new QS((e,t)=>{let{next:n}=e;(125==n||-1==n||t.context)&&e.acceptToken(318)},{contextual:!0,fallback:!0}),k_=new QS((e,t)=>{let n,{next:i}=e;E_.indexOf(i)>-1||47==i&&(47==(n=e.peek(1))||42==n)||125!=i&&59!=i&&-1!=i&&!t.context&&e.acceptToken(316)},{contextual:!0}),y_=new QS((e,t)=>{91==e.next&&!t.context&&e.acceptToken(317)},{contextual:!0}),T_=new QS((e,t)=>{let{next:n}=e;if(43==n||45==n){if(e.advance(),n==e.next){e.advance();let n=!t.context&&t.canShift(1);e.acceptToken(n?1:2)}}else 63==n&&46==e.peek(1)&&(e.advance(),e.advance(),(e.next<48||e.next>57)&&e.acceptToken(3))},{contextual:!0});function A_(e,t){return e>=65&&e<=90||e>=97&&e<=122||95==e||e>=192||!t&&e>=48&&e<=57}const S_=new QS((e,t)=>{if(60!=e.next||!t.dialectEnabled(0)||(e.advance(),47==e.next))return;let n=0;for(;E_.indexOf(e.next)>-1;)e.advance(),n++;if(A_(e.next,!0)){for(e.advance(),n++;A_(e.next,!1);)e.advance(),n++;for(;E_.indexOf(e.next)>-1;)e.advance(),n++;if(44==e.next)return;for(let t=0;;t++){if(7==t){if(!A_(e.next,!0))return;break}if(e.next!="extends".charCodeAt(t))break;e.advance(),n++}}e.acceptToken(4,-n)}),__=EA({"get set async static":LA.modifier,"for while do if else switch try catch finally return throw break continue default case defer":LA.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":LA.operatorKeyword,"let var const using function class extends":LA.definitionKeyword,"import export from":LA.moduleKeyword,"with debugger new":LA.keyword,TemplateString:LA.special(LA.string),super:LA.atom,BooleanLiteral:LA.bool,this:LA.self,null:LA.null,Star:LA.modifier,VariableName:LA.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":LA.function(LA.variableName),VariableDefinition:LA.definition(LA.variableName),Label:LA.labelName,PropertyName:LA.propertyName,PrivatePropertyName:LA.special(LA.propertyName),"CallExpression/MemberExpression/PropertyName":LA.function(LA.propertyName),"FunctionDeclaration/VariableDefinition":LA.function(LA.definition(LA.variableName)),"ClassDeclaration/VariableDefinition":LA.definition(LA.className),"NewExpression/VariableName":LA.className,PropertyDefinition:LA.definition(LA.propertyName),PrivatePropertyDefinition:LA.definition(LA.special(LA.propertyName)),UpdateOp:LA.updateOperator,"LineComment Hashbang":LA.lineComment,BlockComment:LA.blockComment,Number:LA.number,String:LA.string,Escape:LA.escape,ArithOp:LA.arithmeticOperator,LogicOp:LA.logicOperator,BitOp:LA.bitwiseOperator,CompareOp:LA.compareOperator,RegExp:LA.regexp,Equals:LA.definitionOperator,Arrow:LA.function(LA.punctuation),": Spread":LA.punctuation,"( )":LA.paren,"[ ]":LA.squareBracket,"{ }":LA.brace,"InterpolationStart InterpolationEnd":LA.special(LA.brace),".":LA.derefOperator,", ;":LA.separator,"@":LA.meta,TypeName:LA.typeName,TypeDefinition:LA.definition(LA.typeName),"type enum interface implements namespace module declare":LA.definitionKeyword,"abstract global Privacy readonly override":LA.modifier,"is keyof unique infer asserts":LA.operatorKeyword,JSXAttributeValue:LA.attributeValue,JSXText:LA.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":LA.angleBracket,"JSXIdentifier JSXNameSpacedName":LA.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":LA.attributeName,"JSXBuiltin/JSXIdentifier":LA.standard(LA.tagName)}),F_={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},w_={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},x_={__proto__:null,"<":193},P_=VS.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:C_,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[__],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[k_,y_,T_,S_,2,3,4,5,6,7,8,9,10,11,12,13,14,b_,new IS("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new IS("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:e=>F_[e]||-1},{term:343,get:e=>w_[e]||-1},{term:95,get:e=>x_[e]||-1}],tokenPrec:15201}),R_=EA({String:LA.string,Number:LA.number,"True False":LA.bool,PropertyName:LA.propertyName,Null:LA.null,", :":LA.separator,"[ ]":LA.squareBracket,"{ }":LA.brace}),I_=VS.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[R_],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0});class Q_{static create(e,t,n,i,r){return new Q_(e,t,n,i+(i<<8)+e+(t<<4)|0,r,[],[])}constructor(e,t,n,i,r,o,a){this.type=e,this.value=t,this.from=n,this.hash=i,this.end=r,this.children=o,this.positions=a,this.hashProp=[[qT.contextHash,i]]}addChild(e,t){e.prop(qT.contextHash)!=this.hash&&(e=new YT(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(t)}toTree(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.end,n=this.children.length-1;return n>=0&&(t=Math.max(t,this.positions[n]+this.children[n].length+this.from)),new YT(e.types[this.type],this.children,this.positions,t-this.from).balance({makeTree:(e,t,n)=>new YT(ZT.none,e,t,n,this.hashProp)})}}var N_;!function(e){e[e.Document=1]="Document",e[e.CodeBlock=2]="CodeBlock",e[e.FencedCode=3]="FencedCode",e[e.Blockquote=4]="Blockquote",e[e.HorizontalRule=5]="HorizontalRule",e[e.BulletList=6]="BulletList",e[e.OrderedList=7]="OrderedList",e[e.ListItem=8]="ListItem",e[e.ATXHeading1=9]="ATXHeading1",e[e.ATXHeading2=10]="ATXHeading2",e[e.ATXHeading3=11]="ATXHeading3",e[e.ATXHeading4=12]="ATXHeading4",e[e.ATXHeading5=13]="ATXHeading5",e[e.ATXHeading6=14]="ATXHeading6",e[e.SetextHeading1=15]="SetextHeading1",e[e.SetextHeading2=16]="SetextHeading2",e[e.HTMLBlock=17]="HTMLBlock",e[e.LinkReference=18]="LinkReference",e[e.Paragraph=19]="Paragraph",e[e.CommentBlock=20]="CommentBlock",e[e.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",e[e.Escape=22]="Escape",e[e.Entity=23]="Entity",e[e.HardBreak=24]="HardBreak",e[e.Emphasis=25]="Emphasis",e[e.StrongEmphasis=26]="StrongEmphasis",e[e.Link=27]="Link",e[e.Image=28]="Image",e[e.InlineCode=29]="InlineCode",e[e.HTMLTag=30]="HTMLTag",e[e.Comment=31]="Comment",e[e.ProcessingInstruction=32]="ProcessingInstruction",e[e.Autolink=33]="Autolink",e[e.HeaderMark=34]="HeaderMark",e[e.QuoteMark=35]="QuoteMark",e[e.ListMark=36]="ListMark",e[e.LinkMark=37]="LinkMark",e[e.EmphasisMark=38]="EmphasisMark",e[e.CodeMark=39]="CodeMark",e[e.CodeText=40]="CodeText",e[e.CodeInfo=41]="CodeInfo",e[e.LinkTitle=42]="LinkTitle",e[e.LinkLabel=43]="LinkLabel",e[e.URL=44]="URL"}(N_||(N_={}));class B_{constructor(e,t){this.start=e,this.content=t,this.marks=[],this.parsers=[]}}class M_{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return q_(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n<e;n++)t+=9==this.text.charCodeAt(n)?4-t%4:1;return t}findColumn(e){let t=0;for(let n=0;t<this.text.length&&n<e;t++)n+=9==this.text.charCodeAt(t)?4-n%4:1;return t}scrub(){if(!this.baseIndent)return this.text;let e="";for(let t=0;t<this.basePos;t++)e+=" ";return e+this.text.slice(this.basePos)}}function L_(e,t,n){if(n.pos==n.text.length||e!=t.block&&n.indent>=t.stack[n.depth+1].value+n.baseIndent)return!0;if(n.indent>=n.baseIndent+4)return!1;let i=(e.type==N_.OrderedList?V_:G_)(n,t,!1);return i>0&&(e.type!=N_.BulletList||j_(n,t,!1)<0)&&n.text.charCodeAt(n.pos+i-1)==e.value}const $_={[N_.Blockquote]:(e,t,n)=>62==n.next&&(n.markers.push(kF(N_.QuoteMark,t.lineStart+n.pos,t.lineStart+n.pos+1)),n.moveBase(n.pos+(U_(n.text.charCodeAt(n.pos+1))?2:1)),e.end=t.lineStart+n.text.length,!0),[N_.ListItem]:(e,t,n)=>!(n.indent<n.baseIndent+e.value&&n.next>-1||(n.moveBaseColumn(n.baseIndent+e.value),0)),[N_.OrderedList]:L_,[N_.BulletList]:L_,[N_.Document]:()=>!0};function U_(e){return 32==e||9==e||10==e||13==e}function q_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(;t<e.length&&U_(e.charCodeAt(t));)t++;return t}function X_(e,t,n){for(;t>n&&U_(e.charCodeAt(t-1));)t--;return t}function z_(e){if(96!=e.next&&126!=e.next)return-1;let t=e.pos+1;for(;t<e.text.length&&e.text.charCodeAt(t)==e.next;)t++;if(t<e.pos+3)return-1;if(96==e.next)for(let n=t;n<e.text.length;n++)if(96==e.text.charCodeAt(n))return-1;return t}function Z_(e){return 62!=e.next?-1:32==e.text.charCodeAt(e.pos+1)?2:1}function j_(e,t,n){if(42!=e.next&&45!=e.next&&95!=e.next)return-1;let i=1;for(let t=e.pos+1;t<e.text.length;t++){let n=e.text.charCodeAt(t);if(n==e.next)i++;else if(!U_(n))return-1}return n&&45==e.next&&H_(e)>-1&&e.depth==t.stack.length&&t.parser.leafBlockParsers.indexOf(cF.SetextHeading)>-1||i<3?-1:1}function W_(e,t){for(let n=e.stack.length-1;n>=0;n--)if(e.stack[n].type==t)return!0;return!1}function G_(e,t,n){return 45!=e.next&&43!=e.next&&42!=e.next||e.pos!=e.text.length-1&&!U_(e.text.charCodeAt(e.pos+1))||!(!n||W_(t,N_.BulletList)||e.skipSpace(e.pos+2)<e.text.length)?-1:1}function V_(e,t,n){let i=e.pos,r=e.next;for(;r>=48&&r<=57;){if(i++,i==e.text.length)return-1;r=e.text.charCodeAt(i)}return i==e.pos||i>e.pos+9||46!=r&&41!=r||i<e.text.length-1&&!U_(e.text.charCodeAt(i+1))||n&&!W_(t,N_.OrderedList)&&(e.skipSpace(i+1)==e.text.length||i>e.pos+1||49!=e.next)?-1:i+1-e.pos}function Y_(e){if(35!=e.next)return-1;let t=e.pos+1;for(;t<e.text.length&&35==e.text.charCodeAt(t);)t++;if(t<e.text.length&&32!=e.text.charCodeAt(t))return-1;let n=t-e.pos;return n>6?-1:n}function H_(e){if(45!=e.next&&61!=e.next||e.indent>=e.baseIndent+4)return-1;let t=e.pos+1;for(;t<e.text.length&&e.text.charCodeAt(t)==e.next;)t++;let n=t;for(;t<e.text.length&&U_(e.text.charCodeAt(t));)t++;return t==e.text.length?n:-1}const K_=/^[ \t]*$/,J_=/-->/,eF=/\?>/,tF=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,J_],[/^\s*<\?/,eF],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,K_],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,K_]];function nF(e,t,n){if(60!=e.next)return-1;let i=e.text.slice(e.pos);for(let e=0,t=tF.length-(n?1:0);e<t;e++)if(tF[e][0].test(i))return e;return-1}function iF(e,t){let n=e.countIndent(t,e.pos,e.indent),i=e.countIndent(e.skipSpace(t),t,n);return i>=n+5?n+1:i}function rF(e,t,n){let i=e.length-1;i>=0&&e[i].to==t&&e[i].type==N_.CodeText?e[i].to=n:e.push(kF(N_.CodeText,t,n))}const oF={LinkReference:void 0,IndentedCode(e,t){let n=t.baseIndent+4;if(t.indent<n)return!1;let i=t.findColumn(n),r=e.lineStart+i,o=e.lineStart+t.text.length,a=[],s=[];for(rF(a,r,o);e.nextLine()&&t.depth>=e.stack.length;)if(t.pos==t.text.length){rF(s,e.lineStart-1,e.lineStart);for(let e of t.markers)s.push(e)}else{if(t.indent<n)break;{if(s.length){for(let e of s)e.type==N_.CodeText?rF(a,e.from,e.to):a.push(e);s=[]}rF(a,e.lineStart-1,e.lineStart);for(let e of t.markers)a.push(e);o=e.lineStart+t.text.length;let n=e.lineStart+t.findColumn(t.baseIndent+4);n<o&&rF(a,n,o)}}return s.length&&(s=s.filter(e=>e.type!=N_.CodeText),s.length&&(t.markers=s.concat(t.markers))),e.addNode(e.buffer.writeElements(a,-r).finish(N_.CodeBlock,o-r),r),!0},FencedCode(e,t){let n=z_(t);if(n<0)return!1;let i=e.lineStart+t.pos,r=t.next,o=n-t.pos,a=t.skipSpace(n),s=X_(t.text,t.text.length,a),u=[kF(N_.CodeMark,i,i+o)];a<s&&u.push(kF(N_.CodeInfo,e.lineStart+a,e.lineStart+s));for(let n=!0;e.nextLine()&&t.depth>=e.stack.length;n=!1){let i=t.pos;if(t.indent-t.baseIndent<4)for(;i<t.text.length&&t.text.charCodeAt(i)==r;)i++;if(i-t.pos>=o&&t.skipSpace(i)==t.text.length){for(let e of t.markers)u.push(e);u.push(kF(N_.CodeMark,e.lineStart+t.pos,e.lineStart+i)),e.nextLine();break}{n||rF(u,e.lineStart-1,e.lineStart);for(let e of t.markers)u.push(e);let i=e.lineStart+t.basePos,r=e.lineStart+t.text.length;i<r&&rF(u,i,r)}}return e.addNode(e.buffer.writeElements(u,-i).finish(N_.FencedCode,e.prevLineEnd()-i),i),!0},Blockquote(e,t){let n=Z_(t);return!(n<0)&&(e.startContext(N_.Blockquote,t.pos),e.addNode(N_.QuoteMark,e.lineStart+t.pos,e.lineStart+t.pos+1),t.moveBase(t.pos+n),null)},HorizontalRule(e,t){if(j_(t,e,!1)<0)return!1;let n=e.lineStart+t.pos;return e.nextLine(),e.addNode(N_.HorizontalRule,n),!0},BulletList(e,t){let n=G_(t,e,!1);if(n<0)return!1;e.block.type!=N_.BulletList&&e.startContext(N_.BulletList,t.basePos,t.next);let i=iF(t,t.pos+1);return e.startContext(N_.ListItem,t.basePos,i-t.baseIndent),e.addNode(N_.ListMark,e.lineStart+t.pos,e.lineStart+t.pos+n),t.moveBaseColumn(i),null},OrderedList(e,t){let n=V_(t,e,!1);if(n<0)return!1;e.block.type!=N_.OrderedList&&e.startContext(N_.OrderedList,t.basePos,t.text.charCodeAt(t.pos+n-1));let i=iF(t,t.pos+n);return e.startContext(N_.ListItem,t.basePos,i-t.baseIndent),e.addNode(N_.ListMark,e.lineStart+t.pos,e.lineStart+t.pos+n),t.moveBaseColumn(i),null},ATXHeading(e,t){let n=Y_(t);if(n<0)return!1;let i=t.pos,r=e.lineStart+i,o=X_(t.text,t.text.length,i),a=o;for(;a>i&&t.text.charCodeAt(a-1)==t.next;)a--;(a==o||a==i||!U_(t.text.charCodeAt(a-1)))&&(a=t.text.length);let s=e.buffer.write(N_.HeaderMark,0,n).writeElements(e.parser.parseInline(t.text.slice(i+n+1,a),r+n+1),-r);a<t.text.length&&s.write(N_.HeaderMark,a-i,o-i);let u=s.finish(N_.ATXHeading1-1+n,t.text.length-i);return e.nextLine(),e.addNode(u,r),!0},HTMLBlock(e,t){let n=nF(t,0,!1);if(n<0)return!1;let i=e.lineStart+t.pos,r=tF[n][1],o=[],a=r!=K_;for(;!r.test(t.text)&&e.nextLine();){if(t.depth<e.stack.length){a=!1;break}for(let e of t.markers)o.push(e)}a&&e.nextLine();let s=r==J_?N_.CommentBlock:r==eF?N_.ProcessingInstructionBlock:N_.HTMLBlock,u=e.prevLineEnd();return e.addNode(e.buffer.writeElements(o,-i).finish(s,u-i),i),!0},SetextHeading:void 0};class aF{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,t,n){if(-1==this.stage)return!1;let i=n.content+"\n"+t.scrub(),r=this.advance(i);return r>-1&&r<i.length&&this.complete(e,n,r)}finish(e,t){return(2==this.stage||3==this.stage)&&q_(t.content,this.pos)==t.content.length&&this.complete(e,t,t.content.length)}complete(e,t,n){return e.addLeafElement(t,kF(N_.LinkReference,this.start,this.start+n,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(!1===e&&(this.stage=-1),!1)}advance(e){for(;;){if(-1==this.stage)return-1;if(0==this.stage){if(!this.nextStage(IF(e,this.pos,this.start,!0)))return-1;if(58!=e.charCodeAt(this.pos))return this.stage=-1;this.elts.push(kF(N_.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else{if(1!=this.stage){if(2==this.stage){let t=q_(e,this.pos),n=0;if(t>this.pos){let i=RF(e,t,this.start);if(i){let t=sF(e,i.to-this.start);t>0&&(this.nextStage(i),n=t)}}return n||(n=sF(e,this.pos)),n>0&&n<e.length?n:-1}return sF(e,this.pos)}if(!this.nextStage(PF(e,q_(e,this.pos),this.start)))return-1}}}}function sF(e,t){for(;t<e.length;t++){let n=e.charCodeAt(t);if(10==n)break;if(!U_(n))return-1}return t}class uF{nextLine(e,t,n){let i=t.depth<e.stack.length?-1:H_(t),r=t.next;if(i<0)return!1;let o=kF(N_.HeaderMark,e.lineStart+t.pos,e.lineStart+i);return e.nextLine(),e.addLeafElement(n,kF(61==r?N_.SetextHeading1:N_.SetextHeading2,n.start,e.prevLineEnd(),[...e.parser.parseInline(n.content,n.start),o])),!0}finish(){return!1}}const cF={LinkReference:(e,t)=>91==t.content.charCodeAt(0)?new aF(t):null,SetextHeading:()=>new uF},lF=[(e,t)=>Y_(t)>=0,(e,t)=>z_(t)>=0,(e,t)=>Z_(t)>=0,(e,t)=>G_(t,e,!0)>=0,(e,t)=>V_(t,e,!0)>=0,(e,t)=>j_(t,e,!0)>=0,(e,t)=>nF(t,0,!0)>=0],dF={text:"",end:0};class hF{constructor(e,t,n,i){this.parser=e,this.input=t,this.ranges=i,this.line=new M_,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=i[i.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=i[0].from,this.block=Q_.create(N_.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=n.length?new MF(n,t):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(null!=this.stoppedAt&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(let t=0;;){let n=e.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;t<e.markers.length&&(!n||e.markers[t].from<n.end);){let n=e.markers[t++];this.addNode(n.type,n.from,n.to)}if(!n)break;this.finishContext()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let t of this.parser.blockParsers)if(t){let n=t(this,e);if(0!=n){if(1==n)return null;e.forward();continue e}}break}let t=new B_(this.lineStart+e.pos,e.text.slice(e.pos));for(let e of this.parser.leafBlockParsers)if(e){let n=e(this,t);n&&t.parsers.push(n)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4)for(let n of this.parser.endLeafBlock)if(n(this,e,t))break e;for(let n of t.parsers)if(n.nextLine(this,e,t))return null;t.content+="\n"+e.scrub();for(let n of e.markers)t.marks.push(n)}return this.finishLeaf(t),null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let t=this.fragments.takeNodes(this);return!!t&&(this.absoluteLineStart+=t,this.lineStart=LF(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0)}get depth(){return this.stack.length}parentType(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.depth-1;return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let t=dF;if(t.end=e,e>=this.to)t.text="";else if(t.text=this.lineChunkAt(e),t.end+=t.text.length,this.ranges.length>1){let e=this.absoluteLineStart,n=this.rangeI;for(;this.ranges[n].to<t.end;){n++;let i=this.ranges[n].from,r=this.lineChunkAt(i);t.end=i+r.length,t.text=t.text.slice(0,this.ranges[n-1].to-e)+r,e=t.end-t.text.length}}return t}readLine(){let{line:e}=this,{text:t,end:n}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=n,e.reset(t);e.depth<this.stack.length;e.depth++){let t=this.stack[e.depth],n=this.parser.skipContextMarkup[t.type];if(!n)throw new Error("Unhandled block context "+N_[t.type]);let i=this.line.markers.length;if(!n(t,this,e)){this.line.markers.length>i&&(t.end=this.line.markers[this.line.markers.length-1].to),e.forward();break}e.forward()}}lineChunkAt(e){let t,n=this.input.chunk(e);if(this.input.lineChunks)t="\n"==n?"":n;else{let e=n.indexOf("\n");t=e<0?n:n.slice(0,e)}return e+t.length>this.to?t.slice(0,this.to-e):t}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.block=Q_.create(e,n,this.lineStart+t,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.startContext(this.parser.getNodeType(e),t,n)}addNode(e,t,n){"number"==typeof e&&(e=new YT(this.parser.nodeSet.types[e],vF,vF,(null!=n?n:this.prevLineEnd())-t)),this.block.addChild(e,t-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,t){this.addNode(this.buffer.writeElements(NF(t.children,e.marks),-t.from).finish(t.type,t.to-t.from),t.from)}finishContext(){let e=this.stack.pop(),t=this.stack[this.stack.length-1];t.addChild(e.toTree(this.parser.nodeSet),e.from-t.from),this.block=t}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?pF(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let t of e.parsers)if(t.finish(this,e))return;let t=NF(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(t,-e.start).finish(N_.Paragraph,e.content.length),e.start)}elt(e,t,n,i){return"string"==typeof e?kF(this.parser.getNodeType(e),t,n,i):new bF(e,t)}get buffer(){return new EF(this.parser.nodeSet)}}function pF(e,t,n,i,r){let o=e[t].to,a=[],s=[],u=n.from+i;function c(n,r){for(;r?n>=o:n>o;){let r=e[t+1].from-o;i+=r,n+=r,t++,o=e[t].to}}for(let l=n.firstChild;l;l=l.nextSibling){c(l.from+i,!0);let n,d=l.from+i,h=r.get(l.tree);h?n=h:l.to+i>o?(n=pF(e,t,l,i,r),c(l.to+i,!1)):n=l.toTree(),a.push(n),s.push(d-u)}return c(n.to+i,!1),new YT(n.type,a,s,n.to+i-u,n.tree?n.tree.propValues:void 0)}class fF extends fA{constructor(e,t,n,i,r,o,a,s,u){super(),this.nodeSet=e,this.blockParsers=t,this.leafBlockParsers=n,this.blockNames=i,this.endLeafBlock=r,this.skipContextMarkup=o,this.inlineParsers=a,this.inlineNames=s,this.wrappers=u,this.nodeTypes=Object.create(null);for(let t of e.types)this.nodeTypes[t.name]=t.id}createParse(e,t,n){let i=new hF(this,e,t,n);for(let r of this.wrappers)i=r(i,e,t,n);return i}configure(e){let t=OF(e);if(!t)return this;let{nodeSet:n,skipContextMarkup:i}=this,r=this.blockParsers.slice(),o=this.leafBlockParsers.slice(),a=this.blockNames.slice(),s=this.inlineParsers.slice(),u=this.inlineNames.slice(),c=this.endLeafBlock.slice(),l=this.wrappers;if(mF(t.defineNodes)){i=Object.assign({},i);let e,r=n.types.slice();for(let n of t.defineNodes){let{name:t,block:o,composite:a,style:s}="string"==typeof n?{name:n}:n;if(r.some(e=>e.name==t))continue;a&&(i[r.length]=(e,t,n)=>a(t,n,e.value));let u=r.length,c=a?["Block","BlockContext"]:o?u>=N_.ATXHeading1&&u<=N_.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;r.push(ZT.define({id:u,name:t,props:c&&[[qT.group,c]]})),s&&(e||(e={}),Array.isArray(s)||s instanceof gA?e[t]=s:Object.assign(e,s))}n=new jT(r),e&&(n=n.extend(EA(e)))}if(mF(t.props)&&(n=n.extend(...t.props)),mF(t.remove))for(let e of t.remove){let t=this.blockNames.indexOf(e),n=this.inlineNames.indexOf(e);t>-1&&(r[t]=o[t]=void 0),n>-1&&(s[n]=void 0)}if(mF(t.parseBlock))for(let e of t.parseBlock){let t=a.indexOf(e.name);if(t>-1)r[t]=e.parse,o[t]=e.leaf;else{let t=e.before?gF(a,e.before):e.after?gF(a,e.after)+1:a.length-1;r.splice(t,0,e.parse),o.splice(t,0,e.leaf),a.splice(t,0,e.name)}e.endLeaf&&c.push(e.endLeaf)}if(mF(t.parseInline))for(let e of t.parseInline){let t=u.indexOf(e.name);if(t>-1)s[t]=e.parse;else{let t=e.before?gF(u,e.before):e.after?gF(u,e.after)+1:u.length-1;s.splice(t,0,e.parse),u.splice(t,0,e.name)}}return t.wrap&&(l=l.concat(t.wrap)),new fF(n,r,o,a,c,i,s,u,l)}getNodeType(e){let t=this.nodeTypes[e];if(null==t)throw new RangeError("Unknown node type '".concat(e,"'"));return t}parseInline(e,t){let n=new QF(this,e,t);e:for(let e=t;e<n.end;){let t=n.char(e);for(let i of this.inlineParsers)if(i){let r=i(n,t,e);if(r>=0){e=r;continue e}}e++}return n.resolveMarkers(0)}}function mF(e){return null!=e&&e.length>0}function OF(e){if(!Array.isArray(e))return e;if(0==e.length)return null;let t=OF(e[0]);if(1==e.length)return t;let n=OF(e.slice(1));if(!n||!t)return t||n;let i=(e,t)=>(e||vF).concat(t||vF),r=t.wrap,o=n.wrap;return{props:i(t.props,n.props),defineNodes:i(t.defineNodes,n.defineNodes),parseBlock:i(t.parseBlock,n.parseBlock),parseInline:i(t.parseInline,n.parseInline),remove:i(t.remove,n.remove),wrap:r?o?(e,t,n,i)=>r(o(e,t,n,i),t,n,i):r:o}}function gF(e,t){let n=e.indexOf(t);if(n<0)throw new RangeError("Position specified relative to unknown parser ".concat(t));return n}let DF=[ZT.none];for(let e,t=1;e=N_[t];t++)DF[t]=ZT.define({id:t,name:e,props:t>=N_.Escape?[]:[[qT.group,t in $_?["Block","BlockContext"]:["Block","LeafBlock"]]],top:"Document"==e});const vF=[];class EF{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.content.push(e,t,n,4+4*i),this}writeElements(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n of e)n.writeTo(this,t);return this}finish(e,t){return YT.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:t})}}let CF=class{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:vF;this.type=e,this.from=t,this.to=n,this.children=i}writeTo(e,t){let n=e.content.length;e.writeElements(this.children,t),e.content.push(this.type,this.from+t,this.to+t,e.content.length+4-n)}toTree(e){return new EF(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class bF{constructor(e,t){this.tree=e,this.from=t}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return vF}writeTo(e,t){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+t,this.to+t,-1)}toTree(){return this.tree}}function kF(e,t,n,i){return new CF(e,t,n,i)}const yF={resolve:"Emphasis",mark:"EmphasisMark"},TF={resolve:"Emphasis",mark:"EmphasisMark"},AF={},SF={};class _F{constructor(e,t,n,i){this.type=e,this.from=t,this.to=n,this.side=i}}let FF=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{FF=new RegExp("[\\p{S}|\\p{P}]","u")}catch(e){}const wF={Escape(e,t,n){if(92!=t||n==e.end-1)return-1;let i=e.char(n+1);for(let t=0;t<32;t++)if("!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~".charCodeAt(t)==i)return e.append(kF(N_.Escape,n,n+2));return-1},Entity(e,t,n){if(38!=t)return-1;let i=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(e.slice(n+1,n+31));return i?e.append(kF(N_.Entity,n,n+1+i[0].length)):-1},InlineCode(e,t,n){if(96!=t||n&&96==e.char(n-1))return-1;let i=n+1;for(;i<e.end&&96==e.char(i);)i++;let r=i-n,o=0;for(;i<e.end;i++)if(96==e.char(i)){if(o++,o==r&&96!=e.char(i+1))return e.append(kF(N_.InlineCode,n,i+1,[kF(N_.CodeMark,n,n+r),kF(N_.CodeMark,i+1-r,i+1)]))}else o=0;return-1},HTMLTag(e,t,n){if(60!=t||n==e.end-1)return-1;let i=e.slice(n+1,e.end),r=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(i);if(r)return e.append(kF(N_.Autolink,n,n+1+r[0].length,[kF(N_.LinkMark,n,n+1),kF(N_.URL,n+1,n+r[0].length),kF(N_.LinkMark,n+r[0].length,n+1+r[0].length)]));let o=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(i);if(o)return e.append(kF(N_.Comment,n,n+1+o[0].length));let a=/^\?[^]*?\?>/.exec(i);if(a)return e.append(kF(N_.ProcessingInstruction,n,n+1+a[0].length));let s=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(i);return s?e.append(kF(N_.HTMLTag,n,n+1+s[0].length)):-1},Emphasis(e,t,n){if(95!=t&&42!=t)return-1;let i=n+1;for(;e.char(i)==t;)i++;let r=e.slice(n-1,n),o=e.slice(i,i+1),a=FF.test(r),s=FF.test(o),u=/\s|^$/.test(r),c=/\s|^$/.test(o),l=!c&&(!s||u||a),d=!u&&(!a||c||s),h=l&&(42==t||!d||a),p=d&&(42==t||!l||s);return e.append(new _F(95==t?yF:TF,n,i,(h?1:0)|(p?2:0)))},HardBreak(e,t,n){if(92==t&&10==e.char(n+1))return e.append(kF(N_.HardBreak,n,n+2));if(32==t){let t=n+1;for(;32==e.char(t);)t++;if(10==e.char(t)&&t>=n+2)return e.append(kF(N_.HardBreak,n,t+1))}return-1},Link:(e,t,n)=>91==t?e.append(new _F(AF,n,n+1,1)):-1,Image:(e,t,n)=>33==t&&91==e.char(n+1)?e.append(new _F(SF,n,n+2,1)):-1,LinkEnd(e,t,n){if(93!=t)return-1;for(let t=e.parts.length-1;t>=0;t--){let i=e.parts[t];if(i instanceof _F&&(i.type==AF||i.type==SF)){if(!i.side||e.skipSpace(i.to)==n&&!/[(\[]/.test(e.slice(n+1,n+2)))return e.parts[t]=null,-1;let r=e.takeContent(t),o=e.parts[t]=xF(e,r,i.type==AF?N_.Link:N_.Image,i.from,n+1);if(i.type==AF)for(let n=0;n<t;n++){let t=e.parts[n];t instanceof _F&&t.type==AF&&(t.side=0)}return o.to}}return-1}};function xF(e,t,n,i,r){let{text:o}=e,a=e.char(r),s=r;if(t.unshift(kF(N_.LinkMark,i,i+(n==N_.Image?2:1))),t.push(kF(N_.LinkMark,r-1,r)),40==a){let n,i=e.skipSpace(r+1),a=PF(o,i-e.offset,e.offset);a&&(i=e.skipSpace(a.to),i!=a.to&&(n=RF(o,i-e.offset,e.offset),n&&(i=e.skipSpace(n.to)))),41==e.char(i)&&(t.push(kF(N_.LinkMark,r,r+1)),s=i+1,a&&t.push(a),n&&t.push(n),t.push(kF(N_.LinkMark,i,s)))}else if(91==a){let n=IF(o,r-e.offset,e.offset,!1);n&&(t.push(n),s=n.to)}return kF(n,i,s,t)}function PF(e,t,n){if(60==e.charCodeAt(t)){for(let i=t+1;i<e.length;i++){let r=e.charCodeAt(i);if(62==r)return kF(N_.URL,t+n,i+1+n);if(60==r||10==r)return!1}return null}{let i=0,r=t;for(let t=!1;r<e.length;r++){let n=e.charCodeAt(r);if(U_(n))break;if(t)t=!1;else if(40==n)i++;else if(41==n){if(!i)break;i--}else 92==n&&(t=!0)}return r>t?kF(N_.URL,t+n,r+n):r==e.length&&null}}function RF(e,t,n){let i=e.charCodeAt(t);if(39!=i&&34!=i&&40!=i)return!1;let r=40==i?41:i;for(let i=t+1,o=!1;i<e.length;i++){let a=e.charCodeAt(i);if(o)o=!1;else{if(a==r)return kF(N_.LinkTitle,t+n,i+1+n);92==a&&(o=!0)}}return null}function IF(e,t,n,i){for(let r=!1,o=t+1,a=Math.min(e.length,o+999);o<a;o++){let a=e.charCodeAt(o);if(r)r=!1;else{if(93==a)return!i&&kF(N_.LinkLabel,t+n,o+1+n);if(i&&!U_(a)&&(i=!1),91==a)return!1;92==a&&(r=!0)}}return null}class QF{constructor(e,t,n){this.parser=e,this.text=t,this.offset=n,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,t){return this.text.slice(e-this.offset,t-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,t,n,i,r){return this.append(new _F(e,t,n,(i?1:0)|(r?2:0)))}get hasOpenLink(){for(let e=this.parts.length-1;e>=0;e--){let t=this.parts[e];if(t instanceof _F&&(t.type==AF||t.type==SF))return!0}return!1}addElement(e){return this.append(e)}resolveMarkers(e){for(let t=e;t<this.parts.length;t++){let n=this.parts[t];if(!(n instanceof _F&&n.type.resolve&&2&n.side))continue;let i,r=n.type==yF||n.type==TF,o=n.to-n.from,a=t-1;for(;a>=e;a--){let e=this.parts[a];if(e instanceof _F&&1&e.side&&e.type==n.type&&!(r&&(1&n.side||2&e.side)&&(e.to-e.from+o)%3==0&&((e.to-e.from)%3||o%3))){i=e;break}}if(!i)continue;let s=n.type.resolve,u=[],c=i.from,l=n.to;if(r){let e=Math.min(2,i.to-i.from,o);c=i.to-e,l=n.from+e,s=1==e?"Emphasis":"StrongEmphasis"}i.type.mark&&u.push(this.elt(i.type.mark,c,i.to));for(let e=a+1;e<t;e++)this.parts[e]instanceof CF&&u.push(this.parts[e]),this.parts[e]=null;n.type.mark&&u.push(this.elt(n.type.mark,n.from,l));let d=this.elt(s,c,l,u);this.parts[a]=r&&i.from!=c?new _F(i.type,i.from,c,i.side):null,(this.parts[t]=r&&n.to!=l?new _F(n.type,l,n.to,n.side):null)?this.parts.splice(t,0,d):this.parts[t]=d}let t=[];for(let n=e;n<this.parts.length;n++){let e=this.parts[n];e instanceof CF&&t.push(e)}return t}findOpeningDelimiter(e){for(let t=this.parts.length-1;t>=0;t--){let n=this.parts[t];if(n instanceof _F&&n.type==e&&1&n.side)return t}return null}takeContent(e){let t=this.resolveMarkers(e);return this.parts.length=e,t}getDelimiterAt(e){let t=this.parts[e];return t instanceof _F?t:null}skipSpace(e){return q_(this.text,e-this.offset)+this.offset}elt(e,t,n,i){return"string"==typeof e?kF(this.parser.getNodeType(e),t,n,i):new bF(e,t)}}function NF(e,t){if(!t.length)return e;if(!e.length)return t;let n=e.slice(),i=0;for(let e of t){for(;i<n.length&&n[i].to<e.to;)i++;if(i<n.length&&n[i].from<e.from){let t=n[i];t instanceof CF&&(n[i]=new CF(t.type,t.from,t.to,NF(t.children,[e])))}else n.splice(i++,0,e)}return n}QF.linkStart=AF,QF.imageStart=SF;const BF=[N_.CodeBlock,N_.ListItem,N_.OrderedList,N_.BulletList];class MF{constructor(e,t){this.fragments=e,this.input=t,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,t){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let e=this.fragment.to;for(;e>0&&"\n"!=this.input.read(e-1,e);)e--;this.fragmentEnd=e?e-1:0}let n=this.cursor;n||(n=this.cursor=this.fragment.tree.cursor(),n.firstChild());let i=e+this.fragment.offset;for(;n.to<=i;)if(!n.parent())return!1;for(;;){if(n.from>=i)return this.fragment.from<=t;if(!n.childAfter(i))return!1}}matches(e){let t=this.cursor.tree;return t&&t.prop(qT.contextHash)==e}takeNodes(e){let t=this.cursor,n=this.fragment.offset,i=this.fragmentEnd-(this.fragment.openEnd?1:0),r=e.absoluteLineStart,o=r,a=e.block.children.length,s=o,u=a;for(;;){if(t.to-n>i){if(t.type.isAnonymous&&t.firstChild())continue;break}let r=LF(t.from-n,e.ranges);if(t.to-n<=e.ranges[e.rangeI].to)e.addNode(t.tree,r);else{let n=new YT(e.parser.nodeSet.types[N_.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(n,t.tree),e.addNode(n,r)}if(t.type.is("Block")&&(BF.indexOf(t.type.id)<0?(o=t.to-n,a=e.block.children.length):(o=s,a=u,s=t.to-n,u=e.block.children.length)),!t.nextSibling())break}for(;e.block.children.length>a;)e.block.children.pop(),e.block.positions.pop();return o-r}}function LF(e,t){let n=e;for(let i=1;i<t.length;i++){let r=t[i-1].to,o=t[i].from;r<e&&(n-=o-r)}return n}const $F=EA({"Blockquote/...":LA.quote,HorizontalRule:LA.contentSeparator,"ATXHeading1/... SetextHeading1/...":LA.heading1,"ATXHeading2/... SetextHeading2/...":LA.heading2,"ATXHeading3/...":LA.heading3,"ATXHeading4/...":LA.heading4,"ATXHeading5/...":LA.heading5,"ATXHeading6/...":LA.heading6,"Comment CommentBlock":LA.comment,Escape:LA.escape,Entity:LA.character,"Emphasis/...":LA.emphasis,"StrongEmphasis/...":LA.strong,"Link/... Image/...":LA.link,"OrderedList/... BulletList/...":LA.list,"BlockQuote/...":LA.quote,"InlineCode CodeText":LA.monospace,"URL Autolink":LA.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":LA.processingInstruction,"CodeInfo LinkLabel":LA.labelName,LinkTitle:LA.string,Paragraph:LA.content}),UF=new fF(new jT(DF).extend($F),Object.keys(oF).map(e=>oF[e]),Object.keys(oF).map(e=>cF[e]),Object.keys(oF),lF,$_,Object.keys(wF).map(e=>wF[e]),Object.keys(wF),[]);LA.special(LA.content),LA.processingInstruction,LA.special(LA.content),LA.processingInstruction;const qF=10,XF=new Set([25,49,50,263,65,130,56,57,238,62,63,72,73,77,60,61,151,152,155,112]);function zF(e){return e==qF||13==e}function ZF(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}const jF=new QS((e,t)=>{let n;if(e.next<0)e.acceptToken(199);else if(t.context.flags&GF)zF(e.next)&&e.acceptToken(198,1);else if(((n=e.peek(-1))<0||zF(n))&&t.canShift(197)){let t=0;for(;32==e.next||9==e.next;)e.advance(),t++;(e.next==qF||13==e.next||35==e.next)&&e.acceptToken(197,-t)}else zF(e.next)&&e.acceptToken(196,1)},{contextual:!0}),WF=new QS((e,t)=>{let n=t.context;if(n.flags)return;let i=e.peek(-1);if(i==qF||13==i){let t=0,i=0;for(;;){if(32==e.next)t++;else{if(9!=e.next)break;t+=8-t%8}e.advance(),i++}t!=n.indent&&e.next!=qF&&13!=e.next&&35!=e.next&&(t<n.indent?e.acceptToken(195,-i):e.acceptToken(194))}}),GF=1,VF=4,YF=8,HF=16,KF=32;function JF(e,t,n){this.parent=e,this.indent=t,this.flags=n,this.hash=(e?e.hash+e.hash<<8:0)+t+(t<<4)+n+(n<<6)}const ew=new JF(null,0,0),tw=new Map([[241,0],[242,VF],[243,YF],[244,YF|VF],[245,HF],[246,HF|VF],[247,HF|YF],[248,HF|YF|VF],[249,KF],[250,KF|VF],[251,KF|YF],[252,KF|YF|VF],[253,KF|HF],[254,KF|HF|VF],[255,KF|HF|YF],[256,KF|HF|YF|VF]].map(e=>{let[t,n]=e;return[t,2|n]})),nw=new GS({start:ew,reduce:(e,t,n,i)=>e.flags&GF&&XF.has(t)||(71==t||72==t)&&2&e.flags?e.parent:e,shift:(e,t,n,i)=>194==t?new JF(e,function(e){let t=0;for(let n=0;n<e.length;n++)t+=9==e.charCodeAt(n)?8-t%8:1;return t}(i.read(i.pos,n.pos)),0):195==t?e.parent:24==t||55==t||59==t||3==t?new JF(e,0,GF):tw.has(t)?new JF(e,0,tw.get(t)|e.flags&GF):e,hash:e=>e.hash}),iw=new QS(e=>{for(let t=0;t<5;t++){if(e.next!="print".charCodeAt(t))return;e.advance()}if(!/\w/.test(String.fromCharCode(e.next)))for(let t=0;;t++){let n=e.peek(t);if(32!=n&&9!=n)return void(40!=n&&46!=n&&n!=qF&&13!=n&&35!=n&&e.acceptToken(1))}}),rw=new QS((e,t)=>{let{flags:n}=t.context,i=n&VF?34:39,r=(n&YF)>0,o=!(n&HF),a=(n&KF)>0,s=e.pos;for(;!(e.next<0);)if(a&&123==e.next){if(123!=e.peek(1)){if(e.pos==s)return void e.acceptToken(3,1);break}e.advance(2)}else{if(o&&92==e.next){if(e.pos==s){e.advance();let t=e.next;return t>=0&&(e.advance(),ow(e,t)),void e.acceptToken(2)}break}if(92==e.next&&!o&&e.peek(1)>-1)e.advance(2);else{if(e.next==i&&(!r||e.peek(1)==i&&e.peek(2)==i)){if(e.pos==s)return void e.acceptToken(201,r?3:1);break}if(e.next==qF){if(r)e.advance();else if(e.pos==s)return void e.acceptToken(201);break}e.advance()}}e.pos>s&&e.acceptToken(200)});function ow(e,t){if(111==t)for(let t=0;t<2&&e.next>=48&&e.next<=55;t++)e.advance();else if(120==t)for(let t=0;t<2&&ZF(e.next);t++)e.advance();else if(117==t)for(let t=0;t<4&&ZF(e.next);t++)e.advance();else if(85==t)for(let t=0;t<8&&ZF(e.next);t++)e.advance();else if(78==t&&123==e.next){for(e.advance();e.next>=0&&125!=e.next&&39!=e.next&&34!=e.next&&e.next!=qF;)e.advance();125==e.next&&e.advance()}}const aw=EA({'async "*" "**" FormatConversion FormatSpec':LA.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":LA.controlKeyword,"in not and or is del":LA.operatorKeyword,"from def class global nonlocal lambda":LA.definitionKeyword,import:LA.moduleKeyword,"with as print":LA.keyword,Boolean:LA.bool,None:LA.null,VariableName:LA.variableName,"CallExpression/VariableName":LA.function(LA.variableName),"FunctionDefinition/VariableName":LA.function(LA.definition(LA.variableName)),"ClassDefinition/VariableName":LA.definition(LA.className),PropertyName:LA.propertyName,"CallExpression/MemberExpression/PropertyName":LA.function(LA.propertyName),Comment:LA.lineComment,Number:LA.number,String:LA.string,FormatString:LA.special(LA.string),Escape:LA.escape,UpdateOp:LA.updateOperator,"ArithOp!":LA.arithmeticOperator,BitOp:LA.bitwiseOperator,CompareOp:LA.compareOperator,AssignOp:LA.definitionOperator,Ellipsis:LA.punctuation,At:LA.meta,"( )":LA.paren,"[ ]":LA.squareBracket,"{ }":LA.brace,".":LA.derefOperator,", ;":LA.separator}),sw={__proto__:null,await:44,or:54,and:56,in:60,not:62,is:64,if:70,else:72,lambda:76,yield:94,from:96,async:102,for:104,None:162,True:164,False:164,del:178,pass:182,break:186,continue:190,return:194,raise:202,import:206,as:208,global:212,nonlocal:214,assert:218,type:223,elif:236,while:240,try:246,except:248,finally:250,with:254,def:258,class:268,match:279,case:285},uw=VS.deserialize({version:14,states:"##jO`QeOOP$}OSOOO&WQtO'#HUOOQS'#Co'#CoOOQS'#Cp'#CpO'vQdO'#CnO*UQtO'#HTOOQS'#HU'#HUOOQS'#DU'#DUOOQS'#HT'#HTO*rQdO'#D_O+VQdO'#DfO+gQdO'#DjO+zOWO'#DuO,VOWO'#DvO.[QtO'#GuOOQS'#Gu'#GuO'vQdO'#GtO0ZQtO'#GtOOQS'#Eb'#EbO0rQdO'#EcOOQS'#Gs'#GsO0|QdO'#GrOOQV'#Gr'#GrO1XQdO'#FYOOQS'#G^'#G^O1^QdO'#FXOOQV'#IS'#ISOOQV'#Gq'#GqOOQV'#Fq'#FqQ`QeOOO'vQdO'#CqO1lQdO'#C}O1sQdO'#DRO2RQdO'#HYO2cQtO'#EVO'vQdO'#EWOOQS'#EY'#EYOOQS'#E['#E[OOQS'#E^'#E^O2wQdO'#E`O3_QdO'#EdO3rQdO'#EfO3zQtO'#EfO1XQdO'#EiO0rQdO'#ElO1XQdO'#EnO0rQdO'#EtO0rQdO'#EwO4VQdO'#EyO4^QdO'#FOO4iQdO'#EzO0rQdO'#FOO1XQdO'#FQO1XQdO'#FVO4nQdO'#F[P4uOdO'#GpPOOO)CBd)CBdOOQS'#Ce'#CeOOQS'#Cf'#CfOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Cl'#ClO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO5TQdO'#DoOOQS,5:Y,5:YO5hQdO'#HdOOQS,5:],5:]O5uQ!fO,5:]O5zQtO,59YO1lQdO,59bO1lQdO,59bO1lQdO,59bO8jQdO,59bO8oQdO,59bO8vQdO,59jO8}QdO'#HTO:TQdO'#HSOOQS'#HS'#HSOOQS'#D['#D[O:lQdO,59aO'vQdO,59aO:zQdO,59aOOQS,59y,59yO;PQdO,5:RO'vQdO,5:ROOQS,5:Q,5:QO;_QdO,5:QO;dQdO,5:XO'vQdO,5:XO'vQdO,5:VOOQS,5:U,5:UO;uQdO,5:UO;zQdO,5:WOOOW'#Fy'#FyO<POWO,5:aOOQS,5:a,5:aO<[QdO'#HwOOOW'#Dw'#DwOOOW'#Fz'#FzO<lOWO,5:bOOQS,5:b,5:bOOQS'#F}'#F}O<zQtO,5:iO?lQtO,5=`O@VQ#xO,5=`O@vQtO,5=`OOQS,5:},5:}OA_QeO'#GWOBqQdO,5;^OOQV,5=^,5=^OB|QtO'#IPOCkQdO,5;tOOQS-E:[-E:[OOQV,5;s,5;sO4dQdO'#FQOOQV-E9o-E9oOCsQtO,59]OEzQtO,59iOFeQdO'#HVOFpQdO'#HVO1XQdO'#HVOF{QdO'#DTOGTQdO,59mOGYQdO'#HZO'vQdO'#HZO0rQdO,5=tOOQS,5=t,5=tO0rQdO'#EROOQS'#ES'#ESOGwQdO'#GPOHXQdO,58|OHXQdO,58|O*xQdO,5:oOHgQtO'#H]OOQS,5:r,5:rOOQS,5:z,5:zOHzQdO,5;OOI]QdO'#IOO1XQdO'#H}OOQS,5;Q,5;QOOQS'#GT'#GTOIqQtO,5;QOJPQdO,5;QOJUQdO'#IQOOQS,5;T,5;TOJdQdO'#H|OOQS,5;W,5;WOJuQdO,5;YO4iQdO,5;`O4iQdO,5;cOJ}QtO'#ITO'vQdO'#ITOKXQdO,5;eO4VQdO,5;eO0rQdO,5;jO1XQdO,5;lOK^QeO'#EuOLjQgO,5;fO!!kQdO'#IUO4iQdO,5;jO!!vQdO,5;lO!#OQdO,5;qO!#ZQtO,5;vO'vQdO,5;vPOOO,5=[,5=[P!#bOSO,5=[P!#jOdO,5=[O!&bQtO1G.jO!&iQtO1G.jO!)YQtO1G.jO!)dQtO1G.jO!+}QtO1G.jO!,bQtO1G.jO!,uQdO'#HcO!-TQtO'#GuO0rQdO'#HcO!-_QdO'#HbOOQS,5:Z,5:ZO!-gQdO,5:ZO!-lQdO'#HeO!-wQdO'#HeO!.[QdO,5>OOOQS'#Ds'#DsOOQS1G/w1G/wOOQS1G.|1G.|O!/[QtO1G.|O!/cQtO1G.|O1lQdO1G.|O!0OQdO1G/UOOQS'#DZ'#DZO0rQdO,59tOOQS1G.{1G.{O!0VQdO1G/eO!0gQdO1G/eO!0oQdO1G/fO'vQdO'#H[O!0tQdO'#H[O!0yQtO1G.{O!1ZQdO,59iO!2aQdO,5=zO!2qQdO,5=zO!2yQdO1G/mO!3OQtO1G/mOOQS1G/l1G/lO!3`QdO,5=uO!4VQdO,5=uO0rQdO1G/qO!4tQdO1G/sO!4yQtO1G/sO!5ZQtO1G/qOOQS1G/p1G/pOOQS1G/r1G/rOOOW-E9w-E9wOOQS1G/{1G/{O!5kQdO'#HxO0rQdO'#HxO!5|QdO,5>cOOOW-E9x-E9xOOQS1G/|1G/|OOQS-E9{-E9{O!6[Q#xO1G2zO!6{QtO1G2zO'vQdO,5<jOOQS,5<j,5<jOOQS-E9|-E9|OOQS,5<r,5<rOOQS-E:U-E:UOOQV1G0x1G0xO1XQdO'#GRO!7dQtO,5>kOOQS1G1`1G1`O!8RQdO1G1`OOQS'#DV'#DVO0rQdO,5=qOOQS,5=q,5=qO!8WQdO'#FrO!8cQdO,59oO!8kQdO1G/XO!8uQtO,5=uOOQS1G3`1G3`OOQS,5:m,5:mO!9fQdO'#GtOOQS,5<k,5<kOOQS-E9}-E9}O!9wQdO1G.hOOQS1G0Z1G0ZO!:VQdO,5=wO!:gQdO,5=wO0rQdO1G0jO0rQdO1G0jO!:xQdO,5>jO!;ZQdO,5>jO1XQdO,5>jO!;lQdO,5>iOOQS-E:R-E:RO!;qQdO1G0lO!;|QdO1G0lO!<RQdO,5>lO!<aQdO,5>lO!<oQdO,5>hO!=VQdO,5>hO!=hQdO'#EpO0rQdO1G0tO!=sQdO1G0tO!=xQgO1G0zO!AvQgO1G0}O!EqQdO,5>oO!E{QdO,5>oO!FTQtO,5>oO0rQdO1G1PO!F_QdO1G1PO4iQdO1G1UO!!vQdO1G1WOOQV,5;a,5;aO!FdQfO,5;aO!FiQgO1G1QO!JjQdO'#GZO4iQdO1G1QO4iQdO1G1QO!JzQdO,5>pO!KXQdO,5>pO1XQdO,5>pOOQV1G1U1G1UO!KaQdO'#FSO!KrQ!fO1G1WO!KzQdO1G1WOOQV1G1]1G1]O4iQdO1G1]O!LPQdO1G1]O!LXQdO'#F^OOQV1G1b1G1bO!#ZQtO1G1bPOOO1G2v1G2vP!L^OSO1G2vOOQS,5=},5=}OOQS'#Dp'#DpO0rQdO,5=}O!LfQdO,5=|O!LyQdO,5=|OOQS1G/u1G/uO!MRQdO,5>PO!McQdO,5>PO!MkQdO,5>PO!NOQdO,5>PO!N`QdO,5>POOQS1G3j1G3jOOQS7+$h7+$hO!8kQdO7+$pO#!RQdO1G.|O#!YQdO1G.|OOQS1G/`1G/`OOQS,5<`,5<`O'vQdO,5<`OOQS7+%P7+%PO#!aQdO7+%POOQS-E9r-E9rOOQS7+%Q7+%QO#!qQdO,5=vO'vQdO,5=vOOQS7+$g7+$gO#!vQdO7+%PO##OQdO7+%QO##TQdO1G3fOOQS7+%X7+%XO##eQdO1G3fO##mQdO7+%XOOQS,5<_,5<_O'vQdO,5<_O##rQdO1G3aOOQS-E9q-E9qO#$iQdO7+%]OOQS7+%_7+%_O#$wQdO1G3aO#%fQdO7+%_O#%kQdO1G3gO#%{QdO1G3gO#&TQdO7+%]O#&YQdO,5>dO#&sQdO,5>dO#&sQdO,5>dOOQS'#Dx'#DxO#'UO&jO'#DzO#'aO`O'#HyOOOW1G3}1G3}O#'fQdO1G3}O#'nQdO1G3}O#'yQ#xO7+(fO#(jQtO1G2UP#)TQdO'#GOOOQS,5<m,5<mOOQS-E:P-E:POOQS7+&z7+&zOOQS1G3]1G3]OOQS,5<^,5<^OOQS-E9p-E9pOOQS7+$s7+$sO#)bQdO,5=`O#){QdO,5=`O#*^QtO,5<aO#*qQdO1G3cOOQS-E9s-E9sOOQS7+&U7+&UO#+RQdO7+&UO#+aQdO,5<nO#+uQdO1G4UOOQS-E:Q-E:QO#,WQdO1G4UOOQS1G4T1G4TOOQS7+&W7+&WO#,iQdO7+&WOOQS,5<p,5<pO#,tQdO1G4WOOQS-E:S-E:SOOQS,5<l,5<lO#-SQdO1G4SOOQS-E:O-E:OO1XQdO'#EqO#-jQdO'#EqO#-uQdO'#IRO#-}QdO,5;[OOQS7+&`7+&`O0rQdO7+&`O#.SQgO7+&fO!JmQdO'#GXO4iQdO7+&fO4iQdO7+&iO#2QQtO,5<tO'vQdO,5<tO#2[QdO1G4ZOOQS-E:W-E:WO#2fQdO1G4ZO4iQdO7+&kO0rQdO7+&kOOQV7+&p7+&pO!KrQ!fO7+&rO!KzQdO7+&rO`QeO1G0{OOQV-E:X-E:XO4iQdO7+&lO4iQdO7+&lOOQV,5<u,5<uO#2nQdO,5<uO!JmQdO,5<uOOQV7+&l7+&lO#2yQgO7+&lO#6tQdO,5<vO#7PQdO1G4[OOQS-E:Y-E:YO#7^QdO1G4[O#7fQdO'#IWO#7tQdO'#IWO1XQdO'#IWOOQS'#IW'#IWO#8PQdO'#IVOOQS,5;n,5;nO#8XQdO,5;nO0rQdO'#FUOOQV7+&r7+&rO4iQdO7+&rOOQV7+&w7+&wO4iQdO7+&wO#8^QfO,5;xOOQV7+&|7+&|POOO7+(b7+(bO#8cQdO1G3iOOQS,5<c,5<cO#8qQdO1G3hOOQS-E9u-E9uO#9UQdO,5<dO#9aQdO,5<dO#9tQdO1G3kOOQS-E9v-E9vO#:UQdO1G3kO#:^QdO1G3kO#:nQdO1G3kO#:UQdO1G3kOOQS<<H[<<H[O#:yQtO1G1zOOQS<<Hk<<HkP#;WQdO'#FtO8vQdO1G3bO#;eQdO1G3bO#;jQdO<<HkOOQS<<Hl<<HlO#;zQdO7+)QOOQS<<Hs<<HsO#<[QtO1G1yP#<{QdO'#FsO#=YQdO7+)RO#=jQdO7+)RO#=rQdO<<HwO#=wQdO7+({OOQS<<Hy<<HyO#>nQdO,5<bO'vQdO,5<bOOQS-E9t-E9tOOQS<<Hw<<HwOOQS,5<g,5<gO0rQdO,5<gO#>sQdO1G4OOOQS-E9y-E9yO#?^QdO1G4OO<[QdO'#H{OOOO'#D{'#D{OOOO'#F|'#F|O#?oO&jO,5:fOOOW,5>e,5>eOOOW7+)i7+)iO#?zQdO7+)iO#@SQdO1G2zO#@mQdO1G2zP'vQdO'#FuO0rQdO<<IpO1XQdO1G2YP1XQdO'#GSO#AOQdO7+)pO#AaQdO7+)pOOQS<<Ir<<IrP1XQdO'#GUP0rQdO'#GQOOQS,5;],5;]O#ArQdO,5>mO#BQQdO,5>mOOQS1G0v1G0vOOQS<<Iz<<IzOOQV-E:V-E:VO4iQdO<<JQOOQV,5<s,5<sO4iQdO,5<sOOQV<<JQ<<JQOOQV<<JT<<JTO#BYQtO1G2`P#BdQdO'#GYO#BkQdO7+)uO#BuQgO<<JVO4iQdO<<JVOOQV<<J^<<J^O4iQdO<<J^O!KrQ!fO<<J^O#FpQgO7+&gOOQV<<JW<<JWO#FzQgO<<JWOOQV1G2a1G2aO1XQdO1G2aO#JuQdO1G2aO4iQdO<<JWO1XQdO1G2bP0rQdO'#G[O#KQQdO7+)vO#K_QdO7+)vOOQS'#FT'#FTO0rQdO,5>rO#KgQdO,5>rO#KrQdO,5>rO#K}QdO,5>qO#L`QdO,5>qOOQS1G1Y1G1YOOQS,5;p,5;pOOQV<<Jc<<JcO#LhQdO1G1dOOQS7+)T7+)TP#LmQdO'#FwO#L}QdO1G2OO#MbQdO1G2OO#MrQdO1G2OP#M}QdO'#FxO#N[QdO7+)VO#NlQdO7+)VO#NlQdO7+)VO#NtQdO7+)VO$ UQdO7+(|O8vQdO7+(|OOQSAN>VAN>VO$ oQdO<<LmOOQSAN>cAN>cO0rQdO1G1|O$!PQtO1G1|P$!ZQdO'#FvOOQS1G2R1G2RP$!hQdO'#F{O$!uQdO7+)jO$#`QdO,5>gOOOO-E9z-E9zOOOW<<MT<<MTO$#nQdO7+(fOOQSAN?[AN?[OOQS7+'t7+'tO$$XQdO<<M[OOQS,5<q,5<qO$$jQdO1G4XOOQS-E:T-E:TOOQVAN?lAN?lOOQV1G2_1G2_O4iQdOAN?qO$$xQgOAN?qOOQVAN?xAN?xO4iQdOAN?xOOQV<<JR<<JRO4iQdOAN?rO4iQdO7+'{OOQV7+'{7+'{O1XQdO7+'{OOQVAN?rAN?rOOQS7+'|7+'|O$(sQdO<<MbOOQS1G4^1G4^O0rQdO1G4^OOQS,5<w,5<wO$)QQdO1G4]OOQS-E:Z-E:ZOOQU'#G_'#G_O$)cQfO7+'OO$)nQdO'#F_O$*uQdO7+'jO$+VQdO7+'jOOQS7+'j7+'jO$+bQdO<<LqO$+rQdO<<LqO$+rQdO<<LqO$+zQdO'#H^OOQS<<Lh<<LhO$,UQdO<<LhOOQS7+'h7+'hOOQS'#D|'#D|OOOO1G4R1G4RO$,oQdO1G4RO$,wQdO1G4RP!=hQdO'#GVOOQVG25]G25]O4iQdOG25]OOQVG25dG25dOOQVG25^G25^OOQV<<Kg<<KgO4iQdO<<KgOOQS7+)x7+)xP$-SQdO'#G]OOQU-E:]-E:]OOQV<<Jj<<JjO$-vQtO'#FaOOQS'#Fc'#FcO$.WQdO'#FbO$.xQdO'#FbOOQS'#Fb'#FbO$.}QdO'#IYO$)nQdO'#FiO$)nQdO'#FiO$/fQdO'#FjO$)nQdO'#FkO$/mQdO'#IZOOQS'#IZ'#IZO$0[QdO,5;yOOQS<<KU<<KUO$0dQdO<<KUO$0tQdOANB]O$1UQdOANB]O$1^QdO'#H_OOQS'#H_'#H_O1sQdO'#DcO$1wQdO,5=xOOQSANBSANBSOOOO7+)m7+)mO$2`QdO7+)mOOQVLD*wLD*wOOQVANARANARO5uQ!fO'#GaO$2hQtO,5<SO$)nQdO'#FmOOQS,5<W,5<WOOQS'#Fd'#FdO$3YQdO,5;|O$3_QdO,5;|OOQS'#Fg'#FgO$)nQdO'#G`O$4PQdO,5<QO$4kQdO,5>tO$4{QdO,5>tO1XQdO,5<PO$5^QdO,5<TO$5cQdO,5<TO$)nQdO'#I[O$5hQdO'#I[O$5mQdO,5<UOOQS,5<V,5<VO0rQdO'#FpOOQU1G1e1G1eO4iQdO1G1eOOQSAN@pAN@pO$5rQdOG27wO$6SQdO,59}OOQS1G3d1G3dOOOO<<MX<<MXOOQS,5<{,5<{OOQS-E:_-E:_O$6XQtO'#FaO$6`QdO'#I]O$6nQdO'#I]O$6vQdO,5<XOOQS1G1h1G1hO$6{QdO1G1hO$7QQdO,5<zOOQS-E:^-E:^O$7lQdO,5=OO$8TQdO1G4`OOQS-E:b-E:bOOQS1G1k1G1kOOQS1G1o1G1oO$8eQdO,5>vO$)nQdO,5>vOOQS1G1p1G1pOOQS,5<[,5<[OOQU7+'P7+'PO$+zQdO1G/iO$)nQdO,5<YO$8sQdO,5>wO$8zQdO,5>wOOQS1G1s1G1sOOQS7+'S7+'SP$)nQdO'#GdO$9SQdO1G4bO$9^QdO1G4bO$9fQdO1G4bOOQS7+%T7+%TO$9tQdO1G1tO$:SQtO'#FaO$:ZQdO,5<}OOQS,5<},5<}O$:iQdO1G4cOOQS-E:a-E:aO$)nQdO,5<|O$:pQdO,5<|O$:uQdO7+)|OOQS-E:`-E:`O$;PQdO7+)|O$)nQdO,5<ZP$)nQdO'#GcO$;XQdO1G2hO$)nQdO1G2hP$;gQdO'#GbO$;nQdO<<MhO$;xQdO1G1uO$<WQdO7+(SO8vQdO'#C}O8vQdO,59bO8vQdO,59bO8vQdO,59bO$<fQtO,5=`O8vQdO1G.|O0rQdO1G/XO0rQdO7+$pP$<yQdO'#GOO'vQdO'#GtO$=WQdO,59bO$=]QdO,59bO$=dQdO,59mO$=iQdO1G/UO1sQdO'#DRO8vQdO,59j",stateData:"$>S~O%cOS%^OSSOS%]PQ~OPdOVaOfoOhYOopOs!POvqO!PrO!Q{O!T!SO!U!RO!XZO!][O!h`O!r`O!s`O!t`O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#l!QO#o!TO#s!UO#u!VO#z!WO#}hO$P!XO%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~O%]!YO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%j![O%k!]O%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aO~Ok%xXl%xXm%xXn%xXo%xXp%xXs%xXz%xX{%xX!x%xX#g%xX%[%xX%_%xX%z%xXg%xX!T%xX!U%xX%{%xX!W%xX![%xX!Q%xX#[%xXt%xX!m%xX~P%SOfoOhYO!XZO!][O!h`O!r`O!s`O!t`O%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~Oz%wX{%wX#g%wX%[%wX%_%wX%z%wX~Ok!pOl!qOm!oOn!oOo!rOp!sOs!tO!x%wX~P)pOV!zOg!|Oo0cOv0qO!PrO~P'vOV#OOo0cOv0qO!W#PO~P'vOV#SOa#TOo0cOv0qO![#UO~P'vOQ#XO%`#XO%a#ZO~OQ#^OR#[O%`#^O%a#`O~OV%iX_%iXa%iXh%iXk%iXl%iXm%iXn%iXo%iXp%iXs%iXz%iX!X%iX!f%iX%j%iX%k%iX%l%iX%m%iX%n%iX%o%iX%p%iX%q%iX%r%iX%s%iXg%iX!T%iX!U%iX~O&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O{%iX!x%iX#g%iX%[%iX%_%iX%z%iX%{%iX!W%iX![%iX!Q%iX#[%iXt%iX!m%iX~P,eOz#dO{%hX!x%hX#g%hX%[%hX%_%hX%z%hX~Oo0cOv0qO~P'vO#g#gO%[#iO%_#iO~O%uWO~O!T#nO#u!VO#z!WO#}hO~OopO~P'vOV#sOa#tO%uWO{wP~OV#xOo0cOv0qO!Q#yO~P'vO{#{O!x$QO%z#|O#g!yX%[!yX%_!yX~OV#xOo0cOv0qO#g#SX%[#SX%_#SX~P'vOo0cOv0qO#g#WX%[#WX%_#WX~P'vOh$WO%uWO~O!f$YO!r$YO%uWO~OV$eO~P'vO!U$gO#s$hO#u$iO~O{$jO~OV$qO~P'vOS$sO%[$rO%_$rO%c$tO~OV$}Oa$}Og%POo0cOv0qO~P'vOo0cOv0qO{%SO~P'vO&Y%UO~Oa!bOh!iO!X!kO!f!mOVba_bakbalbambanbaobapbasbazba{ba!xba#gba%[ba%_ba%jba%kba%lba%mba%nba%oba%pba%qba%rba%sba%zbagba!Tba!Uba%{ba!Wba![ba!Qba#[batba!mba~On%ZO~Oo%ZO~P'vOo0cO~P'vOk0eOl0fOm0dOn0dOo0mOp0nOs0rOg%wX!T%wX!U%wX%{%wX!W%wX![%wX!Q%wX#[%wX!m%wX~P)pO%{%]Og%vXz%vX!T%vX!U%vX!W%vX{%vX~Og%_Oz%`O!T%dO!U%cO~Og%_O~Oz%gO!T%dO!U%cO!W&SX~O!W%kO~Oz%lO{%nO!T%dO!U%cO![%}X~O![%rO~O![%sO~OQ#XO%`#XO%a%uO~OV%wOo0cOv0qO!PrO~P'vOQ#^OR#[O%`#^O%a%zO~OV!qa_!qaa!qah!qak!qal!qam!qan!qao!qap!qas!qaz!qa{!qa!X!qa!f!qa!x!qa#g!qa%[!qa%_!qa%j!qa%k!qa%l!qa%m!qa%n!qa%o!qa%p!qa%q!qa%r!qa%s!qa%z!qag!qa!T!qa!U!qa%{!qa!W!qa![!qa!Q!qa#[!qat!qa!m!qa~P#yOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P%SOV&OOopOvqO{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P'vOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#g$zX%[$zX%_$zX~P'vO#g#gO%[&TO%_&TO~O!f&UOh&sX%[&sXz&sX#[&sX#g&sX%_&sX#Z&sXg&sX~Oh!iO%[&WO~Okealeameaneaoeapeaseazea{ea!xea#gea%[ea%_ea%zeagea!Tea!Uea%{ea!Wea![ea!Qea#[eatea!mea~P%SOsqazqa{qa#gqa%[qa%_qa%zqa~Ok!pOl!qOm!oOn!oOo!rOp!sO!xqa~PEcO%z&YOz%yX{%yX~O%uWOz%yX{%yX~Oz&]O{wX~O{&_O~Oz%lO#g%}X%[%}X%_%}Xg%}X{%}X![%}X!m%}X%z%}X~OV0lOo0cOv0qO!PrO~P'vO%z#|O#gUa%[Ua%_Ua~Oz&hO#g&PX%[&PX%_&PXn&PX~P%SOz&kO!Q&jO#g#Wa%[#Wa%_#Wa~Oz&lO#[&nO#g&rX%[&rX%_&rXg&rX~O!f$YO!r$YO#Z&qO%uWO~O#Z&qO~Oz&sO#g&tX%[&tX%_&tX~Oz&uO#g&pX%[&pX%_&pX{&pX~O!X&wO%z&xO~Oz&|On&wX~P%SOn'PO~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO%['UO~P'vOt'YO#p'WO#q'XOP#naV#naf#nah#nao#nas#nav#na!P#na!Q#na!T#na!U#na!X#na!]#na!h#na!r#na!s#na!t#na!{#na!}#na#P#na#R#na#T#na#X#na#Z#na#^#na#_#na#a#na#c#na#l#na#o#na#s#na#u#na#z#na#}#na$P#na%X#na%o#na%p#na%t#na%u#na&Z#na&[#na&]#na&^#na&_#na&`#na&a#na&b#na&c#na&d#na&e#na&f#na&g#na&h#na&i#na&j#na%Z#na%_#na~Oz'ZO#[']O{&xX~Oh'_O!X&wO~Oh!iO{$jO!X&wO~O{'eO~P%SO%['hO%_'hO~OS'iO%['hO%_'hO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%k!]O~P!#uO%kWi~P!#uOV!aO_!aOa!bOh!iO!X!kO!f!mO%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%m!_O%n!_O~P!&pO%mWi%nWi~P!&pOa!bOh!iO!X!kO!f!mOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%mWi%nWi%oWi%pWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~OV!aO_!aO%q!aO%r!aO%s!aO~P!)nOVWi_Wi%qWi%rWi%sWi~P!)nO!T%dO!U%cOg&VXz&VX~O%z'kO%{'kO~P,eOz'mOg&UX~Og'oO~Oz'pO{'rO!W&XX~Oo0cOv0qOz'pO{'sO!W&XX~P'vO!W'uO~Om!oOn!oOo!rOp!sOkjisjizji{ji!xji#gji%[ji%_ji%zji~Ol!qO~P!.aOlji~P!.aOk0eOl0fOm0dOn0dOo0mOp0nO~Ot'wO~P!/jOV'|Og'}Oo0cOv0qO~P'vOg'}Oz(OO~Og(QO~O!U(SO~Og(TOz(OO!T%dO!U%cO~P%SOk0eOl0fOm0dOn0dOo0mOp0nOgqa!Tqa!Uqa%{qa!Wqa![qa!Qqa#[qatqa!mqa~PEcOV'|Oo0cOv0qO!W&Sa~P'vOz(WO!W&Sa~O!W(XO~Oz(WO!T%dO!U%cO!W&Sa~P%SOV(]Oo0cOv0qO![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~P'vOz(^O![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~O![(aO~Oz(^O!T%dO!U%cO![%}a~P%SOz(dO!T%dO!U%cO![&Ta~P%SOz(gO{&lX![&lX!m&lX%z&lX~O{(kO![(mO!m(nO%z(jO~OV&OOopOvqO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~P'vOz(pO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~O!f&UOh&sa%[&saz&sa#[&sa#g&sa%_&sa#Z&sag&sa~O%[(uO~OV#sOa#tO%uWO~Oz&]O{wa~OopOvqO~P'vOz(^O#g%}a%[%}a%_%}ag%}a{%}a![%}a!m%}a%z%}a~P%SOz(zO#g%hX%[%hX%_%hX%z%hX~O%z#|O#gUi%[Ui%_Ui~O#g&Pa%[&Pa%_&Pan&Pa~P'vOz(}O#g&Pa%[&Pa%_&Pan&Pa~O%uWO#g&ra%[&ra%_&rag&ra~Oz)SO#g&ra%[&ra%_&rag&ra~Og)VO~OV)WOh$WO%uWO~O#Z)XO~O%uWO#g&ta%[&ta%_&ta~Oz)ZO#g&ta%[&ta%_&ta~Oo0cOv0qO#g&pa%[&pa%_&pa{&pa~P'vOz)^O#g&pa%[&pa%_&pa{&pa~OV)`Oa)`O%uWO~O%z)eO~Ot)hO#j)gOP#hiV#hif#hih#hio#his#hiv#hi!P#hi!Q#hi!T#hi!U#hi!X#hi!]#hi!h#hi!r#hi!s#hi!t#hi!{#hi!}#hi#P#hi#R#hi#T#hi#X#hi#Z#hi#^#hi#_#hi#a#hi#c#hi#l#hi#o#hi#s#hi#u#hi#z#hi#}#hi$P#hi%X#hi%o#hi%p#hi%t#hi%u#hi&Z#hi&[#hi&]#hi&^#hi&_#hi&`#hi&a#hi&b#hi&c#hi&d#hi&e#hi&f#hi&g#hi&h#hi&i#hi&j#hi%Z#hi%_#hi~Ot)iOP#kiV#kif#kih#kio#kis#kiv#ki!P#ki!Q#ki!T#ki!U#ki!X#ki!]#ki!h#ki!r#ki!s#ki!t#ki!{#ki!}#ki#P#ki#R#ki#T#ki#X#ki#Z#ki#^#ki#_#ki#a#ki#c#ki#l#ki#o#ki#s#ki#u#ki#z#ki#}#ki$P#ki%X#ki%o#ki%p#ki%t#ki%u#ki&Z#ki&[#ki&]#ki&^#ki&_#ki&`#ki&a#ki&b#ki&c#ki&d#ki&e#ki&f#ki&g#ki&h#ki&i#ki&j#ki%Z#ki%_#ki~OV)kOn&wa~P'vOz)lOn&wa~Oz)lOn&wa~P%SOn)pO~O%Y)tO~Ot)wO#p'WO#q)vOP#niV#nif#nih#nio#nis#niv#ni!P#ni!Q#ni!T#ni!U#ni!X#ni!]#ni!h#ni!r#ni!s#ni!t#ni!{#ni!}#ni#P#ni#R#ni#T#ni#X#ni#Z#ni#^#ni#_#ni#a#ni#c#ni#l#ni#o#ni#s#ni#u#ni#z#ni#}#ni$P#ni%X#ni%o#ni%p#ni%t#ni%u#ni&Z#ni&[#ni&]#ni&^#ni&_#ni&`#ni&a#ni&b#ni&c#ni&d#ni&e#ni&f#ni&g#ni&h#ni&i#ni&j#ni%Z#ni%_#ni~OV)zOo0cOv0qO{$jO~P'vOo0cOv0qO{&xa~P'vOz*OO{&xa~OV*SOa*TOg*WO%q*UO%uWO~O{$jO&{*YO~Oh'_O~Oh!iO{$jO~O%[*_O~O%[*aO%_*aO~OV$}Oa$}Oo0cOv0qOg&Ua~P'vOz*dOg&Ua~Oo0cOv0qO{*gO!W&Xa~P'vOz*hO!W&Xa~Oo0cOv0qOz*hO{*kO!W&Xa~P'vOo0cOv0qOz*hO!W&Xa~P'vOz*hO{*kO!W&Xa~Om0dOn0dOo0mOp0nOgjikjisjizji!Tji!Uji%{ji!Wji{ji![ji#gji%[ji%_ji!Qji#[jitji!mji%zji~Ol0fO~P!NkOlji~P!NkOV'|Og*pOo0cOv0qO~P'vOn*rO~Og*pOz*tO~Og*uO~OV'|Oo0cOv0qO!W&Si~P'vOz*vO!W&Si~O!W*wO~OV(]Oo0cOv0qO![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~P'vOz*zO!T%dO!U%cO![&Ti~Oz*}O![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~O![+OO~Oa+QOo0cOv0qO![&Ti~P'vOz*zO![&Ti~O![+SO~OV+UOo0cOv0qO{&la![&la!m&la%z&la~P'vOz+VO{&la![&la!m&la%z&la~O!]+YO&n+[O![!nX~O![+^O~O{(kO![+_O~O{(kO![+_O!m+`O~OV&OOopOvqO{%hq!x%hq#g%hq%[%hq%_%hq%z%hq~P'vOz$ri{$ri!x$ri#g$ri%[$ri%_$ri%z$ri~P%SOV&OOopOvqO~P'vOV&OOo0cOv0qO#g%ha%[%ha%_%ha%z%ha~P'vOz+aO#g%ha%[%ha%_%ha%z%ha~Oz$ia#g$ia%[$ia%_$ian$ia~P%SO#g&Pi%[&Pi%_&Pin&Pi~P'vOz+dO#g#Wq%[#Wq%_#Wq~O#[+eOz$va#g$va%[$va%_$vag$va~O%uWO#g&ri%[&ri%_&rig&ri~Oz+gO#g&ri%[&ri%_&rig&ri~OV+iOh$WO%uWO~O%uWO#g&ti%[&ti%_&ti~Oo0cOv0qO#g&pi%[&pi%_&pi{&pi~P'vO{#{Oz#eX!W#eX~Oz+mO!W&uX~O!W+oO~Ot+rO#j)gOP#hqV#hqf#hqh#hqo#hqs#hqv#hq!P#hq!Q#hq!T#hq!U#hq!X#hq!]#hq!h#hq!r#hq!s#hq!t#hq!{#hq!}#hq#P#hq#R#hq#T#hq#X#hq#Z#hq#^#hq#_#hq#a#hq#c#hq#l#hq#o#hq#s#hq#u#hq#z#hq#}#hq$P#hq%X#hq%o#hq%p#hq%t#hq%u#hq&Z#hq&[#hq&]#hq&^#hq&_#hq&`#hq&a#hq&b#hq&c#hq&d#hq&e#hq&f#hq&g#hq&h#hq&i#hq&j#hq%Z#hq%_#hq~On$|az$|a~P%SOV)kOn&wi~P'vOz+yOn&wi~Oz,TO{$jO#[,TO~O#q,VOP#nqV#nqf#nqh#nqo#nqs#nqv#nq!P#nq!Q#nq!T#nq!U#nq!X#nq!]#nq!h#nq!r#nq!s#nq!t#nq!{#nq!}#nq#P#nq#R#nq#T#nq#X#nq#Z#nq#^#nq#_#nq#a#nq#c#nq#l#nq#o#nq#s#nq#u#nq#z#nq#}#nq$P#nq%X#nq%o#nq%p#nq%t#nq%u#nq&Z#nq&[#nq&]#nq&^#nq&_#nq&`#nq&a#nq&b#nq&c#nq&d#nq&e#nq&f#nq&g#nq&h#nq&i#nq&j#nq%Z#nq%_#nq~O#[,WOz%Oa{%Oa~Oo0cOv0qO{&xi~P'vOz,YO{&xi~O{#{O%z,[Og&zXz&zX~O%uWOg&zXz&zX~Oz,`Og&yX~Og,bO~O%Y,eO~O!T%dO!U%cOg&Viz&Vi~OV$}Oa$}Oo0cOv0qOg&Ui~P'vO{,hOz$la!W$la~Oo0cOv0qO{,iOz$la!W$la~P'vOo0cOv0qO{*gO!W&Xi~P'vOz,lO!W&Xi~Oo0cOv0qOz,lO!W&Xi~P'vOz,lO{,oO!W&Xi~Og$hiz$hi!W$hi~P%SOV'|Oo0cOv0qO~P'vOn,qO~OV'|Og,rOo0cOv0qO~P'vOV'|Oo0cOv0qO!W&Sq~P'vOz$gi![$gi#g$gi%[$gi%_$gig$gi{$gi!m$gi%z$gi~P%SOV(]Oo0cOv0qO~P'vOa+QOo0cOv0qO![&Tq~P'vOz,sO![&Tq~O![,tO~OV(]Oo0cOv0qO![%}q#g%}q%[%}q%_%}qg%}q{%}q!m%}q%z%}q~P'vO{,uO~OV+UOo0cOv0qO{&li![&li!m&li%z&li~P'vOz,zO{&li![&li!m&li%z&li~O!]+YO&n+[O![!na~O{(kO![,}O~OV&OOo0cOv0qO#g%hi%[%hi%_%hi%z%hi~P'vOz-OO#g%hi%[%hi%_%hi%z%hi~O%uWO#g&rq%[&rq%_&rqg&rq~Oz-RO#g&rq%[&rq%_&rqg&rq~OV)`Oa)`O%uWO!W&ua~Oz-TO!W&ua~On$|iz$|i~P%SOV)kO~P'vOV)kOn&wq~P'vOt-XOP#myV#myf#myh#myo#mys#myv#my!P#my!Q#my!T#my!U#my!X#my!]#my!h#my!r#my!s#my!t#my!{#my!}#my#P#my#R#my#T#my#X#my#Z#my#^#my#_#my#a#my#c#my#l#my#o#my#s#my#u#my#z#my#}#my$P#my%X#my%o#my%p#my%t#my%u#my&Z#my&[#my&]#my&^#my&_#my&`#my&a#my&b#my&c#my&d#my&e#my&f#my&g#my&h#my&i#my&j#my%Z#my%_#my~O%Z-]O%_-]O~P`O#q-^OP#nyV#nyf#nyh#nyo#nys#nyv#ny!P#ny!Q#ny!T#ny!U#ny!X#ny!]#ny!h#ny!r#ny!s#ny!t#ny!{#ny!}#ny#P#ny#R#ny#T#ny#X#ny#Z#ny#^#ny#_#ny#a#ny#c#ny#l#ny#o#ny#s#ny#u#ny#z#ny#}#ny$P#ny%X#ny%o#ny%p#ny%t#ny%u#ny&Z#ny&[#ny&]#ny&^#ny&_#ny&`#ny&a#ny&b#ny&c#ny&d#ny&e#ny&f#ny&g#ny&h#ny&i#ny&j#ny%Z#ny%_#ny~Oz-aO{$jO#[-aO~Oo0cOv0qO{&xq~P'vOz-dO{&xq~O%z,[Og&zaz&za~O{#{Og&zaz&za~OV*SOa*TO%q*UO%uWOg&ya~Oz-hOg&ya~O$S-lO~OV$}Oa$}Oo0cOv0qO~P'vOo0cOv0qO{-mOz$li!W$li~P'vOo0cOv0qOz$li!W$li~P'vO{-mOz$li!W$li~Oo0cOv0qO{*gO~P'vOo0cOv0qO{*gO!W&Xq~P'vOz-pO!W&Xq~Oo0cOv0qOz-pO!W&Xq~P'vOs-sO!T%dO!U%cOg&Oq!W&Oq![&Oqz&Oq~P!/jOa+QOo0cOv0qO![&Ty~P'vOz$ji![$ji~P%SOa+QOo0cOv0qO~P'vOV+UOo0cOv0qO~P'vOV+UOo0cOv0qO{&lq![&lq!m&lq%z&lq~P'vO{(kO![-xO!m-yO%z-wO~OV&OOo0cOv0qO#g%hq%[%hq%_%hq%z%hq~P'vO%uWO#g&ry%[&ry%_&ryg&ry~OV)`Oa)`O%uWO!W&ui~Ot-}OP#m!RV#m!Rf#m!Rh#m!Ro#m!Rs#m!Rv#m!R!P#m!R!Q#m!R!T#m!R!U#m!R!X#m!R!]#m!R!h#m!R!r#m!R!s#m!R!t#m!R!{#m!R!}#m!R#P#m!R#R#m!R#T#m!R#X#m!R#Z#m!R#^#m!R#_#m!R#a#m!R#c#m!R#l#m!R#o#m!R#s#m!R#u#m!R#z#m!R#}#m!R$P#m!R%X#m!R%o#m!R%p#m!R%t#m!R%u#m!R&Z#m!R&[#m!R&]#m!R&^#m!R&_#m!R&`#m!R&a#m!R&b#m!R&c#m!R&d#m!R&e#m!R&f#m!R&g#m!R&h#m!R&i#m!R&j#m!R%Z#m!R%_#m!R~Oo0cOv0qO{&xy~P'vOV*SOa*TO%q*UO%uWOg&yi~O$S-lO%Z.VO%_.VO~OV.aOh._O!X.^O!].`O!h.YO!s.[O!t.[O%p.XO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O~Oo0cOv0qOz$lq!W$lq~P'vO{.fOz$lq!W$lq~Oo0cOv0qO{*gO!W&Xy~P'vOz.gO!W&Xy~Oo0cOv.kO~P'vOs-sO!T%dO!U%cOg&Oy!W&Oy![&Oyz&Oy~P!/jO{(kO![.nO~O{(kO![.nO!m.oO~OV*SOa*TO%q*UO%uWO~Oh.tO!f.rOz$TX#[$TX%j$TXg$TX~Os$TX{$TX!W$TX![$TX~P$-bO%o.vO%p.vOs$UXz$UX{$UX#[$UX%j$UX!W$UXg$UX![$UX~O!h.xO~Oz.|O#[/OO%j.yOs&|X{&|X!W&|Xg&|X~Oa/RO~P$)zOh.tOs&}Xz&}X{&}X#[&}X%j&}X!W&}Xg&}X![&}X~Os/VO{$jO~Oo0cOv0qOz$ly!W$ly~P'vOo0cOv0qO{*gO!W&X!R~P'vOz/ZO!W&X!R~Og&RXs&RX!T&RX!U&RX!W&RX![&RXz&RX~P!/jOs-sO!T%dO!U%cOg&Qa!W&Qa![&Qaz&Qa~O{(kO![/^O~O!f.rOh$[as$[az$[a{$[a#[$[a%j$[a!W$[ag$[a![$[a~O!h/eO~O%o.vO%p.vOs$Uaz$Ua{$Ua#[$Ua%j$Ua!W$Uag$Ua![$Ua~O%j.yOs$Yaz$Ya{$Ya#[$Ya!W$Yag$Ya![$Ya~Os&|a{&|a!W&|ag&|a~P$)nOz/jOs&|a{&|a!W&|ag&|a~O!W/mO~Og/mO~O{/oO~O![/pO~Oo0cOv0qO{*gO!W&X!Z~P'vO{/sO~O%z/tO~P$-bOz/uO#[/OO%j.yOg'PX~Oz/uOg'PX~Og/wO~O!h/xO~O#[/OOs%Saz%Sa{%Sa%j%Sa!W%Sag%Sa![%Sa~O#[/OO%j.yOs%Waz%Wa{%Wa!W%Wag%Wa~Os&|i{&|i!W&|ig&|i~P$)nOz/zO#[/OO%j.yO!['Oa~Og'Pa~P$)nOz0SOg'Pa~Oa0UO!['Oi~P$)zOz0WO!['Oi~Oz0WO#[/OO%j.yO!['Oi~O#[/OO%j.yOg$biz$bi~O%z0ZO~P$-bO#[/OO%j.yOg%Vaz%Va~Og'Pi~P$)nO{0^O~Oa0UO!['Oq~P$)zOz0`O!['Oq~O#[/OO%j.yOz%Ui![%Ui~Oa0UO~P$)zOa0UO!['Oy~P$)zO#[/OO%j.yOg$ciz$ci~O#[/OO%j.yOz%Uq![%Uq~Oz+aO#g%ha%[%ha%_%ha%z%ha~P%SOV&OOo0cOv0qO~P'vOn0hO~Oo0hO~P'vO{0iO~Ot0jO~P!/jO&]&Z&j&h&i&g&f&d&e&c&b&`&a&_&^&[%u~",goto:"!=j'QPPPPPP'RP'Z*s+[+t,_,y-fP.SP'Z.r.r'ZPPP'Z2[PPPPPP2[5PPP5PP7b7k=sPP=v>h>kPP'Z'ZPP>zPP'Z'ZPP'Z'Z'Z'Z'Z?O?w'ZP?zP@QDXGuGyPG|HWH['ZPPPH_Hk'RP'R'RP'RP'RP'RP'RP'R'R'RP'RPP'RPP'RP'RPHqH}IVPI^IdPI^PI^I^PPPI^PKrPK{LVL]KrPI^LfPI^PLmLsPLwM]MzNeLwLwNkNxLwLwLwLw! ^! d! g! l! o! y!!P!!]!!o!!u!#P!#V!#s!#y!$P!$Z!$a!$g!$y!%T!%Z!%a!%k!%q!%w!%}!&T!&Z!&e!&k!&u!&{!'U!'[!'k!'s!'}!(UPPPPPPPPPPP!([!(_!(e!(n!(x!)TPPPPPPPPPPPP!-u!/Z!3^!6oPP!6w!7W!7a!8Y!8P!8c!8i!8l!8o!8r!8z!9jPPPPPPPPPPPPPPPPP!9m!9q!9wP!:]!:a!:m!:v!;S!;j!;m!;p!;v!;|!<S!<VP!<_!<h!=d!=g]eOn#g$j)t,P'}`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r{!cQ#c#p$R$d$p%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g}!dQ#c#p$R$d$p$u%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!P!eQ#c#p$R$d$p$u$v%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!R!fQ#c#p$R$d$p$u$v$w%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!T!gQ#c#p$R$d$p$u$v$w$x%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!V!hQ#c#p$R$d$p$u$v$w$x$y%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!Z!hQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g'}TOTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r&eVOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0r%oXOYZ[dnrxy}!P!Q!U!i!k#[#d#g#y#{#}$Q$h$j$}%S%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#vqQ/[.kR0o0q't`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rh#jhz{$W$Z&l&q)S)X+f+g-RW#rq&].k0qQ$]|Q$a!OQ$n!VQ$o!WW$|!i'm*d,gS&[#s#tQ'S$iQ(s&UQ)U&nU)Y&s)Z+jW)a&w+m-T-{Q*Q']W*R'_,`-h.TQ+l)`S,_*S*TQ-Q+eQ-_,TQ-c,WQ.R-al.W-l.^._.a.z.|/R/j/o/t/y0U0Z0^Q/S.`Q/a.tQ/l/OU0P/u0S0[X0V/z0W0_0`R&Z#r!_!wYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZR%^!vQ!{YQ%x#[Q&d#}Q&g$QR,{+YT.j-s/s!Y!jQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gQ&X#kQ'c$oR*^'dR'l$|Q%V!mR/_.r'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rS#a_#b!P.[-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rT#a_#bT#^^#_R(o%xa(l%x(n(o+`,{-y-z.oT+[(k+]R-z,{Q$PsQ+l)aQ,^*RR-e,_X#}s$O$P&fQ&y$aQ'a$nQ'd$oR)s'SQ)b&wV-S+m-T-{ZgOn$j)t,PXkOn)t,PQ$k!TQ&z$bQ&{$cQ'^$mQ'b$oQ)q'RQ)x'WQ){'XQ)|'YQ*Z'`S*]'c'dQ+s)gQ+u)hQ+v)iQ+z)oS+|)r*[Q,Q)vQ,R)wS,S)y)zQ,d*^Q-V+rQ-W+tQ-Y+{S-Z+},OQ-`,UQ-b,VQ-|-XQ.O-[Q.P-^Q.Q-_Q.p-}Q.q.RQ/W.dR/r/XWkOn)t,PR#mjQ'`$nS)r'S'aR,O)sQ,]*RR-f,^Q*['`Q+})rR-[,OZiOjn)t,PQ'f$pR*`'gT-j,e-ku.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^t.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^Q/S.`X0V/z0W0_0`!P.Z-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`Q.w.YR/f.xg.z.].{/b/i/n/|0O0Q0]0a0bu.b-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^X.u.W.b/a0PR/c.tV0R/u0S0[R/X.dQnOS#on,PR,P)tQ&^#uR(x&^S%m#R#wS(_%m(bT(b%p&`Q%a!yQ%h!}W(P%a%h(U(YQ(U%eR(Y%jQ&i$RR)O&iQ(e%qQ*{(`T+R(e*{Q'n%OR*e'nS'q%R%SY*i'q*j,m-q.hU*j'r's'tU,m*k*l*mS-q,n,oR.h-rQ#Y]R%t#YQ#_^R%y#_Q(h%vS+W(h+XR+X(iQ+](kR,|+]Q#b_R%{#bQ#ebQ%}#cW&Q#e%}({+bQ({&cR+b0gQ$OsS&e$O&fR&f$PQ&v$_R)_&vQ&V#jR(t&VQ&m$VS)T&m+hR+h)UQ$Z{R&p$ZQ&t$]R)[&tQ+n)bR-U+nQ#hfR&S#hQ)f&zR+q)fQ&}$dS)m&})nR)n'OQ'V$kR)u'VQ'[$lS*P'[,ZR,Z*QQ,a*VR-i,aWjOn)t,PR#ljQ-k,eR.U-kd.{.]/b/i/n/|0O0Q0]0a0bR/h.{U.s.W/a0PR/`.sQ/{/nS0X/{0YR0Y/|S/v/b/cR0T/vQ.}.]R/k.}R!ZPXmOn)t,PWlOn)t,PR'T$jYfOn$j)t,PR&R#g[sOn#g$j)t,PR&d#}&dQOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0rQ!nTQ#caQ#poU$Rt%c(SS$d!R$gQ$p!XQ$u!cQ$v!dQ$w!eQ$x!fQ$y!gQ$z!hQ%e!zQ%j#OQ%p#SQ%q#TQ&`#xQ'O$eQ'g$qQ(q&OU(|&h(}+cW)j&|)l+x+yQ*o'|Q*x(]Q+w)kQ,v+QR0g0lQ!yYQ!}ZQ$b!PQ$c!QQ%R!kQ't%S^'{%`%g(O(W*q*t*v^*f'p*h,k,l-p.g/ZQ*l'rQ*m'sQ+t)gQ,j*gQ,n*kQ-n,hQ-o,iQ-r,oQ.e-mR/Y.f[bOn#g$j)t,P!^!vYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZQ#R[Q#fdS#wrxQ$UyW$_}$Q'P)pS$l!U$hW${!i'm*d,gS%v#[+Y`&P#d%|(p(r(z+a-O0kQ&a#yQ&b#{Q&c#}Q'j$}Q'z%^W([%l(^*y*}Q(`%nQ(i%wQ(v&ZS(y&_0iQ)P&jQ)Q&kU)]&u)^+kQ)d&xQ)y'WY)}'Z*O,X,Y-dQ*b'lS*n'w0jW+P(d*z,s,wW+T(g+V,y,zQ+p)eQ,U)zQ,c*YQ,x+UQ-P+dQ-e,]Q-v,uQ.S-fR/q/VhUOn#d#g$j%|&_'w(p(r)t,P%U!uYZ[drxy}!P!Q!U!i!k#[#y#{#}$Q$h$}%S%^%`%g%l%n%w&Z&j&k&u&x'P'W'Z'l'm'p'r's(O(W(^(d(g(z)^)e)g)p)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#qpW%W!o!s0d0nQ%X!pQ%Y!qQ%[!tQ%f0cS'v%Z0hQ'x0eQ'y0fQ,p*rQ-u,qS.i-s/sR0p0rU#uq.k0qR(w&][cOn#g$j)t,PZ!xY#[#}$Q+YQ#W[Q#zrR$TxQ%b!yQ%i!}Q%o#RQ'j${Q(V%eQ(Z%jQ(c%pQ(f%qQ*|(`Q,f*bQ-t,pQ.m-uR/].lQ$StQ(R%cR*s(SQ.l-sR/}/sR#QZR#V[R%Q!iQ%O!iV*c'm*d,g!Z!lQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gR%T!kT#]^#_Q%x#[R,{+YQ(m%xS+_(n(oQ,}+`Q-x,{S.n-y-zR/^.oT+Z(k+]Q$`}Q&g$QQ)o'PR+{)pQ$XzQ)W&qR+i)XQ$XzQ&o$WQ)W&qR+i)XQ#khW$Vz$W&q)XQ$[{Q&r$ZZ)R&l)S+f+g-RR$^|R)c&wXlOn)t,PQ$f!RR'Q$gQ$m!UR'R$hR*X'_Q*V'_V-g,`-h.TQ.d-lQ/P.^R/Q._U.]-l.^._Q/U.aQ/b.tQ/g.zU/i.|/j/yQ/n/RQ/|/oQ0O/tU0Q/u0S0[Q0]0UQ0a0ZR0b0^R/T.`R/d.t",nodeNames:" print Escape { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatSelfDoc FormatConversion FormatSpec FormatReplacement FormatSelfDoc ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:277,context:nw,nodeProps:[["isolate",-5,4,71,72,73,77,""],["group",-15,6,85,87,88,90,92,94,96,98,99,100,102,105,108,110,"Statement Statement",-22,8,18,21,25,40,49,50,56,57,60,61,62,63,64,67,70,71,72,79,80,81,82,"Expression",-10,114,116,119,121,122,126,128,133,135,138,"Statement",-9,143,144,147,148,150,151,152,153,154,"Pattern"],["openedBy",23,"(",54,"[",58,"{"],["closedBy",24,")",55,"]",59,"}"]],propSources:[aw],skippedNodes:[0,4],repeatNodeCount:34,tokenData:"!2|~R!`OX%TXY%oY[%T[]%o]p%Tpq%oqr'ars)Yst*xtu%Tuv,dvw-hwx.Uxy/tyz0[z{0r{|2S|}2p}!O3W!O!P4_!P!Q:Z!Q!R;k!R![>_![!]Do!]!^Es!^!_FZ!_!`Gk!`!aHX!a!b%T!b!cIf!c!dJU!d!eK^!e!hJU!h!i!#f!i!tJU!t!u!,|!u!wJU!w!x!.t!x!}JU!}#O!0S#O#P&o#P#Q!0j#Q#R!1Q#R#SJU#S#T%T#T#UJU#U#VK^#V#YJU#Y#Z!#f#Z#fJU#f#g!,|#g#iJU#i#j!.t#j#oJU#o#p!1n#p#q!1s#q#r!2a#r#s!2f#s$g%T$g;'SJU;'S;=`KW<%lOJU`%YT&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T`%lP;=`<%l%To%v]&n`%c_OX%TXY%oY[%T[]%o]p%Tpq%oq#O%T#O#P&o#P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To&tX&n`OY%TYZ%oZ]%T]^%o^#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc'f[&n`O!_%T!_!`([!`#T%T#T#U(r#U#f%T#f#g(r#g#h(r#h#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(cTmR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(yT!mR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk)aV&n`&[ZOr%Trs)vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk){V&n`Or%Trs*bs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk*iT&n`&^ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To+PZS_&n`OY*xYZ%TZ]*x]^%T^#o*x#o#p+r#p#q*x#q#r+r#r;'S*x;'S;=`,^<%lO*x_+wTS_OY+rZ]+r^;'S+r;'S;=`,W<%lO+r_,ZP;=`<%l+ro,aP;=`<%l*xj,kV%rQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-XT!xY&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-oV%lQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.]V&n`&ZZOw%Twx.rx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.wV&n`Ow%Twx/^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/eT&n`&]ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/{ThZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc0cTgR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk0yXVZ&n`Oz%Tz{1f{!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk1mVaR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk2ZV%oZ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc2wTzR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To3_W%pZ&n`O!_%T!_!`-Q!`!a3w!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Td4OT&{S&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk4fX!fQ&n`O!O%T!O!P5R!P!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5WV&n`O!O%T!O!P5m!P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5tT!rZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti6[a!hX&n`O!Q%T!Q![6T![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S6T#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti7fZ&n`O{%T{|8X|}%T}!O8X!O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8^V&n`O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8z]!hX&n`O!Q%T!Q![8s![!l%T!l!m9s!m#R%T#R#S8s#S#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti9zT!hX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk:bX%qR&n`O!P%T!P!Q:}!Q!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj;UV%sQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti;ro!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!d%T!d!e?q!e!g%T!g!h7a!h!l%T!l!m9s!m!q%T!q!rA]!r!z%T!z!{Bq!{#R%T#R#S>_#S#U%T#U#V?q#V#X%T#X#Y7a#Y#^%T#^#_9s#_#c%T#c#dA]#d#l%T#l#mBq#m#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti=xV&n`O!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti>fc!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S>_#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti?vY&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti@mY!hX&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiAbX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBUX!hX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBv]&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiCv]!hX&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToDvV{_&n`O!_%T!_!`E]!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TcEdT%{R&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkEzT#gZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkFbXmR&n`O!^%T!^!_F}!_!`([!`!a([!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjGUV%mQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkGrV%zZ&n`O!_%T!_!`([!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkH`WmR&n`O!_%T!_!`([!`!aHx!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjIPV%nQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkIoV_Q#}P&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToJ_]&n`&YS%uZO!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoKZP;=`<%lJUoKge&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!tJU!t!uLx!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#gLx#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoMRa&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUkN_V&n`&`ZOr%TrsNts#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkNyV&n`Or%Trs! `s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! gT&n`&bZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! }V&n`&_ZOw%Twx!!dx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!!iV&n`Ow%Twx!#Ox#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!#VT&n`&aZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!#oe&n`&YS%uZOr%Trs!%Qsw%Twx!&px!Q%T!Q![JU![!c%T!c!tJU!t!u!(`!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#g!(`#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!%XV&n`&dZOr%Trs!%ns#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!%sV&n`Or%Trs!&Ys#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&aT&n`&fZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&wV&n`&cZOw%Twx!'^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!'cV&n`Ow%Twx!'xx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!(PT&n`&eZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!(ia&n`&YS%uZOr%Trs!)nsw%Twx!+^x!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!)uV&n`&hZOr%Trs!*[s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*aV&n`Or%Trs!*vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*}T&n`&jZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!+eV&n`&gZOw%Twx!+zx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,PV&n`Ow%Twx!,fx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,mT&n`&iZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!-Vi&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!dJU!d!eLx!e!hJU!h!i!(`!i!}JU!}#R%T#R#SJU#S#T%T#T#UJU#U#VLx#V#YJU#Y#Z!(`#Z#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUo!.}a&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!0ZT!XZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc!0qT!WR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj!1XV%kQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!1sO!]~k!1zV%jR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!2fO![~i!2mT%tX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T",tokenizers:[iw,WF,jF,rw,0,1,2,3,4],topRules:{Script:[0,5]},specialized:[{term:221,get:e=>sw[e]||-1}],tokenPrec:7668});function cw(e){return 45==e||46==e||58==e||e>=65&&e<=90||95==e||e>=97&&e<=122||e>=161}function lw(e){return 9==e||10==e||13==e||32==e}let dw=null,hw=null,pw=0;function fw(e,t){let n=e.pos+t;if(hw==e&&pw==n)return dw;for(;lw(e.peek(t));)t++;let i="";for(;;){let n=e.peek(t);if(!cw(n))break;i+=String.fromCharCode(n),t++}return hw=e,pw=n,dw=i||null}function mw(e,t){this.name=e,this.parent=t}const Ow=new GS({start:null,shift:(e,t,n,i)=>1==t?new mw(fw(i,1)||"",e):e,reduce:(e,t)=>11==t&&e?e.parent:e,reuse(e,t,n,i){let r=t.type.id;return 1==r||13==r?new mw(fw(i,1)||"",e):e},strict:!1}),gw=new QS((e,t)=>{if(60==e.next)if(e.advance(),47==e.next){e.advance();let n=fw(e,0);if(!n)return e.acceptToken(5);if(t.context&&n==t.context.name)return e.acceptToken(2);for(let i=t.context;i;i=i.parent)if(i.name==n)return e.acceptToken(3,-2);e.acceptToken(4)}else if(33!=e.next&&63!=e.next)return e.acceptToken(1)},{contextual:!0});function Dw(e,t){return new QS(n=>{let i=0,r=t.charCodeAt(0);e:for(;!(n.next<0);n.advance(),i++)if(n.next==r){for(let e=1;e<t.length;e++)if(n.peek(e)!=t.charCodeAt(e))continue e;break}i&&n.acceptToken(e)})}const vw=Dw(36,"--\x3e"),Ew=Dw(37,"?>"),Cw=Dw(38,"]]>"),bw=EA({Text:LA.content,"StartTag StartCloseTag EndTag SelfCloseEndTag":LA.angleBracket,TagName:LA.tagName,"MismatchedCloseTag/TagName":[LA.tagName,LA.invalid],AttributeName:LA.attributeName,AttributeValue:LA.attributeValue,Is:LA.definitionOperator,"EntityReference CharacterReference":LA.character,Comment:LA.blockComment,ProcessingInst:LA.processingInstruction,DoctypeDecl:LA.documentMeta,Cdata:LA.special(LA.string)}),kw=VS.deserialize({version:14,states:",lOQOaOOOrOxO'#CfOzOpO'#CiO!tOaO'#CgOOOP'#Cg'#CgO!{OrO'#CrO#TOtO'#CsO#]OpO'#CtOOOP'#DT'#DTOOOP'#Cv'#CvQQOaOOOOOW'#Cw'#CwO#eOxO,59QOOOP,59Q,59QOOOO'#Cx'#CxO#mOpO,59TO#uO!bO,59TOOOP'#C|'#C|O$TOaO,59RO$[OpO'#CoOOOP,59R,59ROOOQ'#C}'#C}O$dOrO,59^OOOP,59^,59^OOOS'#DO'#DOO$lOtO,59_OOOP,59_,59_O$tOpO,59`O$|OpO,59`OOOP-E6t-E6tOOOW-E6u-E6uOOOP1G.l1G.lOOOO-E6v-E6vO%UO!bO1G.oO%UO!bO1G.oO%dOpO'#CkO%lO!bO'#CyO%zO!bO1G.oOOOP1G.o1G.oOOOP1G.w1G.wOOOP-E6z-E6zOOOP1G.m1G.mO&VOpO,59ZO&_OpO,59ZOOOQ-E6{-E6{OOOP1G.x1G.xOOOS-E6|-E6|OOOP1G.y1G.yO&gOpO1G.zO&gOpO1G.zOOOP1G.z1G.zO&oO!bO7+$ZO&}O!bO7+$ZOOOP7+$Z7+$ZOOOP7+$c7+$cO'YOpO,59VO'bOpO,59VO'mO!bO,59eOOOO-E6w-E6wO'{OpO1G.uO'{OpO1G.uOOOP1G.u1G.uO(TOpO7+$fOOOP7+$f7+$fO(]O!bO<<GuOOOP<<Gu<<GuOOOP<<G}<<G}O'bOpO1G.qO'bOpO1G.qO(hO#tO'#CnO(vO&jO'#CnOOOO1G.q1G.qO)UOpO7+$aOOOP7+$a7+$aOOOP<<HQ<<HQOOOPAN=aAN=aOOOPAN=iAN=iO'bOpO7+$]OOOO7+$]7+$]OOOO'#Cz'#CzO)^O#tO,59YOOOO,59Y,59YOOOO'#C{'#C{O)lO&jO,59YOOOP<<G{<<G{OOOO<<Gw<<GwOOOO-E6x-E6xOOOO1G.t1G.tOOOO-E6y-E6y",stateData:")z~OPQOSVOTWOVWOWWOXWOiXOyPO!QTO!SUO~OvZOx]O~O^`Oz^O~OPQOQcOSVOTWOVWOWWOXWOyPO!QTO!SUO~ORdO~P!SOteO!PgO~OuhO!RjO~O^lOz^O~OvZOxoO~O^qOz^O~O[vO`sOdwOz^O~ORyO~P!SO^{Oz^O~OteO!P}O~OuhO!R!PO~O^!QOz^O~O[!SOz^O~O[!VO`sOd!WOz^O~Oa!YOz^O~Oz^O[mX`mXdmX~O[!VO`sOd!WO~O^!]Oz^O~O[!_Oz^O~O[!aOz^O~O[!cO`sOd!dOz^O~O[!cO`sOd!dO~Oa!eOz^O~Oz^O{!gO}!hO~Oz^O[ma`madma~O[!kOz^O~O[!lOz^O~O[!mO`sOd!nO~OW!qOX!qO{!sO|!qO~OW!tOX!tO}!sO!O!tO~O[!vOz^O~OW!qOX!qO{!yO|!qO~OW!tOX!tO}!yO!O!tO~O",goto:"%cxPPPPPPPPPPyyP!PP!VPP!`!jP!pyyyP!v!|#S$[$k$q$w$}%TPPPP%ZXWORYbXRORYb_t`qru!T!U!bQ!i!YS!p!e!fR!w!oQdRRybXSORYbQYORmYQ[PRn[Q_QQkVjp_krz!R!T!X!Z!^!`!f!j!oQr`QzcQ!RlQ!TqQ!XsQ!ZtQ!^{Q!`!QQ!f!YQ!j!]R!o!eQu`S!UqrU![u!U!bR!b!TQ!r!gR!x!rQ!u!hR!z!uQbRRxbQfTR|fQiUR!OiSXOYTaRb",nodeNames:" StartTag StartCloseTag MissingCloseTag StartCloseTag StartCloseTag Document Text EntityReference CharacterReference Cdata Element EndTag OpenTag TagName Attribute AttributeName Is AttributeValue CloseTag SelfCloseEndTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag DoctypeDecl",maxTerm:50,context:Ow,nodeProps:[["closedBy",1,"SelfCloseEndTag EndTag",13,"CloseTag MissingCloseTag"],["openedBy",12,"StartTag StartCloseTag",19,"OpenTag",20,"StartTag"],["isolate",-6,13,18,19,21,22,24,""]],propSources:[bw],skippedNodes:[0],repeatNodeCount:9,tokenData:"!)v~R!YOX$qXY)iYZ)iZ]$q]^)i^p$qpq)iqr$qrs*vsv$qvw+fwx/ix}$q}!O0[!O!P$q!P!Q2z!Q![$q![!]4n!]!^$q!^!_8U!_!`!#t!`!a!$l!a!b!%d!b!c$q!c!}4n!}#P$q#P#Q!'W#Q#R$q#R#S4n#S#T$q#T#o4n#o%W$q%W%o4n%o%p$q%p&a4n&a&b$q&b1p4n1p4U$q4U4d4n4d4e$q4e$IS4n$IS$I`$q$I`$Ib4n$Ib$Kh$q$Kh%#t4n%#t&/x$q&/x&Et4n&Et&FV$q&FV;'S4n;'S;:j8O;:j;=`)c<%l?&r$q?&r?Ah4n?Ah?BY$q?BY?Mn4n?MnO$qi$zXVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qa%nVVP!O`Ov%gwx&Tx!^%g!^!_&o!_;'S%g;'S;=`'W<%lO%gP&YTVPOv&Tw!^&T!_;'S&T;'S;=`&i<%lO&TP&lP;=`<%l&T`&tS!O`Ov&ox;'S&o;'S;=`'Q<%lO&o`'TP;=`<%l&oa'ZP;=`<%l%gX'eWVP|WOr'^rs&Tsv'^w!^'^!^!_'}!_;'S'^;'S;=`(i<%lO'^W(ST|WOr'}sv'}w;'S'};'S;=`(c<%lO'}W(fP;=`<%l'}X(lP;=`<%l'^h(vV|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oh)`P;=`<%l(oi)fP;=`<%l$qo)t`VP|W!O`zUOX$qXY)iYZ)iZ]$q]^)i^p$qpq)iqr$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk+PV{YVP!O`Ov%gwx&Tx!^%g!^!_&o!_;'S%g;'S;=`'W<%lO%g~+iast,n![!]-r!c!}-r#R#S-r#T#o-r%W%o-r%p&a-r&b1p-r4U4d-r4e$IS-r$I`$Ib-r$Kh%#t-r&/x&Et-r&FV;'S-r;'S;:j/c?&r?Ah-r?BY?Mn-r~,qQ!Q![,w#l#m-V~,zQ!Q![,w!]!^-Q~-VOX~~-YR!Q![-c!c!i-c#T#Z-c~-fS!Q![-c!]!^-Q!c!i-c#T#Z-c~-ug}!O-r!O!P-r!Q![-r![!]-r!]!^/^!c!}-r#R#S-r#T#o-r$}%O-r%W%o-r%p&a-r&b1p-r1p4U-r4U4d-r4e$IS-r$I`$Ib-r$Je$Jg-r$Kh%#t-r&/x&Et-r&FV;'S-r;'S;:j/c?&r?Ah-r?BY?Mn-r~/cOW~~/fP;=`<%l-rk/rW}bVP|WOr'^rs&Tsv'^w!^'^!^!_'}!_;'S'^;'S;=`(i<%lO'^k0eZVP|W!O`Or$qrs%gsv$qwx'^x}$q}!O1W!O!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk1aZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a2S!a;'S$q;'S;=`)c<%lO$qk2_X!PQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qm3TZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a3v!a;'S$q;'S;=`)c<%lO$qm4RXdSVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qo4{!P`S^QVP|W!O`Or$qrs%gsv$qwx'^x}$q}!O4n!O!P4n!P!Q$q!Q![4n![!]4n!]!^$q!^!_(o!_!c$q!c!}4n!}#R$q#R#S4n#S#T$q#T#o4n#o$}$q$}%O4n%O%W$q%W%o4n%o%p$q%p&a4n&a&b$q&b1p4n1p4U4n4U4d4n4d4e$q4e$IS4n$IS$I`$q$I`$Ib4n$Ib$Je$q$Je$Jg4n$Jg$Kh$q$Kh%#t4n%#t&/x$q&/x&Et4n&Et&FV$q&FV;'S4n;'S;:j8O;:j;=`)c<%l?&r$q?&r?Ah4n?Ah?BY$q?BY?Mn4n?MnO$qo8RP;=`<%l4ni8]Y|W!O`Oq(oqr8{rs&osv(owx'}x!a(o!a!b!#U!b;'S(o;'S;=`)]<%lO(oi9S_|W!O`Or(ors&osv(owx'}x}(o}!O:R!O!f(o!f!g;e!g!}(o!}#ODh#O#W(o#W#XLp#X;'S(o;'S;=`)]<%lO(oi:YX|W!O`Or(ors&osv(owx'}x}(o}!O:u!O;'S(o;'S;=`)]<%lO(oi;OV!QP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oi;lX|W!O`Or(ors&osv(owx'}x!q(o!q!r<X!r;'S(o;'S;=`)]<%lO(oi<`X|W!O`Or(ors&osv(owx'}x!e(o!e!f<{!f;'S(o;'S;=`)]<%lO(oi=SX|W!O`Or(ors&osv(owx'}x!v(o!v!w=o!w;'S(o;'S;=`)]<%lO(oi=vX|W!O`Or(ors&osv(owx'}x!{(o!{!|>c!|;'S(o;'S;=`)]<%lO(oi>jX|W!O`Or(ors&osv(owx'}x!r(o!r!s?V!s;'S(o;'S;=`)]<%lO(oi?^X|W!O`Or(ors&osv(owx'}x!g(o!g!h?y!h;'S(o;'S;=`)]<%lO(oi@QY|W!O`Or?yrs@psv?yvwA[wxBdx!`?y!`!aCr!a;'S?y;'S;=`Db<%lO?ya@uV!O`Ov@pvxA[x!`@p!`!aAy!a;'S@p;'S;=`B^<%lO@pPA_TO!`A[!`!aAn!a;'SA[;'S;=`As<%lOA[PAsOiPPAvP;=`<%lA[aBQSiP!O`Ov&ox;'S&o;'S;=`'Q<%lO&oaBaP;=`<%l@pXBiX|WOrBdrsA[svBdvwA[w!`Bd!`!aCU!a;'SBd;'S;=`Cl<%lOBdXC]TiP|WOr'}sv'}w;'S'};'S;=`(c<%lO'}XCoP;=`<%lBdiC{ViP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oiDeP;=`<%l?yiDoZ|W!O`Or(ors&osv(owx'}x!e(o!e!fEb!f#V(o#V#WIr#W;'S(o;'S;=`)]<%lO(oiEiX|W!O`Or(ors&osv(owx'}x!f(o!f!gFU!g;'S(o;'S;=`)]<%lO(oiF]X|W!O`Or(ors&osv(owx'}x!c(o!c!dFx!d;'S(o;'S;=`)]<%lO(oiGPX|W!O`Or(ors&osv(owx'}x!v(o!v!wGl!w;'S(o;'S;=`)]<%lO(oiGsX|W!O`Or(ors&osv(owx'}x!c(o!c!dH`!d;'S(o;'S;=`)]<%lO(oiHgX|W!O`Or(ors&osv(owx'}x!}(o!}#OIS#O;'S(o;'S;=`)]<%lO(oiI]V|W!O`yPOr(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oiIyX|W!O`Or(ors&osv(owx'}x#W(o#W#XJf#X;'S(o;'S;=`)]<%lO(oiJmX|W!O`Or(ors&osv(owx'}x#T(o#T#UKY#U;'S(o;'S;=`)]<%lO(oiKaX|W!O`Or(ors&osv(owx'}x#h(o#h#iK|#i;'S(o;'S;=`)]<%lO(oiLTX|W!O`Or(ors&osv(owx'}x#T(o#T#UH`#U;'S(o;'S;=`)]<%lO(oiLwX|W!O`Or(ors&osv(owx'}x#c(o#c#dMd#d;'S(o;'S;=`)]<%lO(oiMkX|W!O`Or(ors&osv(owx'}x#V(o#V#WNW#W;'S(o;'S;=`)]<%lO(oiN_X|W!O`Or(ors&osv(owx'}x#h(o#h#iNz#i;'S(o;'S;=`)]<%lO(oi! RX|W!O`Or(ors&osv(owx'}x#m(o#m#n! n#n;'S(o;'S;=`)]<%lO(oi! uX|W!O`Or(ors&osv(owx'}x#d(o#d#e!!b#e;'S(o;'S;=`)]<%lO(oi!!iX|W!O`Or(ors&osv(owx'}x#X(o#X#Y?y#Y;'S(o;'S;=`)]<%lO(oi!#_V!SP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(ok!$PXaQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qo!$wX[UVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk!%mZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a!&`!a;'S$q;'S;=`)c<%lO$qk!&kX!RQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk!'aZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_#P$q#P#Q!(S#Q;'S$q;'S;=`)c<%lO$qk!(]ZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a!)O!a;'S$q;'S;=`)c<%lO$qk!)ZXxQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$q",tokenizers:[gw,vw,Ew,Cw,0,1,2,3,4],topRules:{Document:[0,6]},tokenPrec:0}),yw=63;class Tw{constructor(e,t,n){this.parent=e,this.depth=t,this.type=n,this.hash=(e?e.hash+e.hash<<8:0)+t+(t<<4)+n}}function Aw(e,t){for(let n=0,i=t-e.pos-1;;i--,n++){let t=e.peek(i);if(_w(t)||-1==t)return n}}function Sw(e){return 32==e||9==e}function _w(e){return 10==e||13==e}function Fw(e){return Sw(e)||_w(e)}function ww(e){return e<0||Fw(e)}Tw.top=new Tw(null,-1,0);const xw=new GS({start:Tw.top,reduce:(e,t)=>3!=e.type||20!=t&&34!=t?e:e.parent,shift(e,t,n,i){if(3==t)return new Tw(e,Aw(i,i.pos),1);if(65==t||5==t)return new Tw(e,Aw(i,i.pos),2);if(t==yw)return e.parent;if(19==t||33==t)return new Tw(e,0,3);if(13==t&&4==e.type)return e.parent;if(47==t){let t=/[1-9]/.exec(i.read(i.pos,n.pos));if(t)return new Tw(e,e.depth+ +t[0],4)}return e},hash:e=>e.hash});function Pw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.peek(n)==t&&e.peek(n+1)==t&&e.peek(n+2)==t&&ww(e.peek(n+3))}const Rw=new QS((e,t)=>{if(-1==e.next&&t.canShift(64))return e.acceptToken(64);let n=e.peek(-1);if((_w(n)||n<0)&&3!=t.context.type){if(Pw(e,45)){if(!t.canShift(yw))return e.acceptToken(1,3);e.acceptToken(yw)}if(Pw(e,46)){if(!t.canShift(yw))return e.acceptToken(2,3);e.acceptToken(yw)}let n=0;for(;32==e.next;)n++,e.advance();(n<t.context.depth||n==t.context.depth&&1==t.context.type&&(45!=e.next||!ww(e.peek(1))))&&-1!=e.next&&!_w(e.next)&&35!=e.next&&e.acceptToken(yw,-n)}},{contextual:!0}),Iw=new QS((e,t)=>{if(3!=t.context.type)if(45==e.next)e.advance(),ww(e.next)&&e.acceptToken(1==t.context.type&&t.context.depth==Aw(e,e.pos-1)?4:3);else if(63==e.next)e.advance(),ww(e.next)&&e.acceptToken(2==t.context.type&&t.context.depth==Aw(e,e.pos-1)?6:5);else{let n=e.pos;for(;;)if(Sw(e.next)){if(e.pos==n)return;e.advance()}else if(33==e.next)Bw(e);else{if(38!=e.next){if(42==e.next){Mw(e);break}if(39==e.next||34==e.next){if(Lw(e,!0))break;return}if(91==e.next||123==e.next){if(!$w(e))return;break}Xw(e,!0,!1,0);break}Mw(e)}for(;Sw(e.next);)e.advance();if(58==e.next){if(e.pos==n&&t.canShift(29))return;ww(e.peek(1))&&e.acceptTokenTo(2==t.context.type&&t.context.depth==Aw(e,n)?66:65,n)}}else 63==e.next&&(e.advance(),ww(e.next)&&e.acceptToken(7))},{contextual:!0});function Qw(e){return e>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70}function Nw(e,t){return 37==e.next?(e.advance(),Qw(e.next)&&e.advance(),Qw(e.next)&&e.advance(),!0):!!(function(e){return e>32&&e<127&&34!=e&&37!=e&&44!=e&&60!=e&&62!=e&&92!=e&&94!=e&&96!=e&&123!=e&&124!=e&&125!=e}(e.next)||t&&44==e.next)&&(e.advance(),!0)}function Bw(e){if(e.advance(),60==e.next){for(e.advance();;)if(!Nw(e,!0)){62==e.next&&e.advance();break}}else for(;Nw(e,!1););}function Mw(e){for(e.advance();!ww(e.next)&&"f"!=Uw(e.tag);)e.advance()}function Lw(e,t){let n=e.next,i=!1,r=e.pos;for(e.advance();;){let o=e.next;if(o<0)break;if(e.advance(),o==n){if(39!=o)break;if(39!=e.next)break;e.advance()}else if(92==o&&34==n)e.next>=0&&e.advance();else if(_w(o)){if(t)return!1;i=!0}else if(t&&e.pos>=r+1024)return!1}return!i}function $w(e){for(let t=[],n=e.pos+1024;;)if(91==e.next||123==e.next)t.push(e.next),e.advance();else if(39==e.next||34==e.next){if(!Lw(e,!0))return!1}else if(93==e.next||125==e.next){if(t[t.length-1]!=e.next-2)return!1;if(t.pop(),e.advance(),!t.length)return!0}else{if(e.next<0||e.pos>n||_w(e.next))return!1;e.advance()}}function Uw(e){return e<33?"u":e>125?"s":"iiisiiissisfissssssssssssisssiiissssssssssssssssssssssssssfsfssissssssssssssssssssssssssssfif"[e-33]}function qw(e,t){let n=Uw(e);return"u"!=n&&!(t&&"f"==n)}function Xw(e,t,n,i){if("s"!=Uw(e.next)&&(63!=e.next&&58!=e.next&&45!=e.next||!qw(e.peek(1),n)))return!1;e.advance();let r=e.pos;for(;;){let o=e.next,a=0,s=i+1;for(;Fw(o);){if(_w(o)){if(t)return!1;s=0}else s++;o=e.peek(++a)}if(!(o>=0&&(58==o?qw(e.peek(a+1),n):35==o?32!=e.peek(a-1):qw(o,n)))||!n&&s<=i||0==s&&!n&&(Pw(e,45,a)||Pw(e,46,a)))break;if(t&&"f"==Uw(o))return!1;for(let t=a;t>=0;t--)e.advance();if(t&&e.pos>r+1024)return!1}return!0}const zw=new QS((e,t)=>{if(33==e.next)Bw(e),e.acceptToken(12);else if(38==e.next||42==e.next){let t=38==e.next?10:11;Mw(e),e.acceptToken(t)}else 39==e.next||34==e.next?(Lw(e,!1),e.acceptToken(9)):Xw(e,!1,3==t.context.type,t.context.depth)&&e.acceptToken(8)}),Zw=new QS((e,t)=>{let n=4==t.context.type?t.context.depth:-1,i=e.pos;e:for(;;){let r=0,o=e.next;for(;32==o;)o=e.peek(++r);if(!r&&(Pw(e,45,r)||Pw(e,46,r))||!_w(o)&&(n<0&&(n=Math.max(t.context.depth+1,r)),r<n))break;for(;;){if(e.next<0)break e;let t=_w(e.next);if(e.advance(),t)continue e;i=e.pos}}e.acceptTokenTo(13,i)}),jw=EA({DirectiveName:LA.keyword,DirectiveContent:LA.attributeValue,"DirectiveEnd DocEnd":LA.meta,QuotedLiteral:LA.string,BlockLiteralHeader:LA.special(LA.string),BlockLiteralContent:LA.content,Literal:LA.content,"Key/Literal Key/QuotedLiteral":LA.definition(LA.propertyName),"Anchor Alias":LA.labelName,Tag:LA.typeName,Comment:LA.lineComment,": , -":LA.separator,"?":LA.punctuation,"[ ]":LA.squareBracket,"{ }":LA.brace}),Ww=VS.deserialize({version:14,states:"5lQ!ZQgOOO#PQfO'#CpO#uQfO'#DOOOQR'#Dv'#DvO$qQgO'#DRO%gQdO'#DUO%nQgO'#DUO&ROaO'#D[OOQR'#Du'#DuO&{QgO'#D^O'rQgO'#D`OOQR'#Dt'#DtO(iOqO'#DbOOQP'#Dj'#DjO(zQaO'#CmO)YQgO'#CmOOQP'#Cm'#CmQ)jQaOOQ)uQgOOQ]QgOOO*PQdO'#CrO*nQdO'#CtOOQO'#Dw'#DwO+]Q`O'#CxO+hQdO'#CwO+rQ`O'#CwOOQO'#Cv'#CvO+wQdO'#CvOOQO'#Cq'#CqO,UQ`O,59[O,^QfO,59[OOQR,59[,59[OOQO'#Cx'#CxO,eQ`O'#DPO,pQdO'#DPOOQO'#Dx'#DxO,zQdO'#DxO-XQ`O,59jO-aQfO,59jOOQR,59j,59jOOQR'#DS'#DSO-hQcO,59mO-sQgO'#DVO.TQ`O'#DVO.YQcO,59pOOQR'#DX'#DXO#|QfO'#DWO.hQcO'#DWOOQR,59v,59vO.yOWO,59vO/OOaO,59vO/WOaO,59vO/cQgO'#D_OOQR,59x,59xO0VQgO'#DaOOQR,59z,59zOOQP,59|,59|O0yOaO,59|O1ROaO,59|O1aOqO,59|OOQP-E7h-E7hO1oQgO,59XOOQP,59X,59XO2PQaO'#DeO2_QgO'#DeO2oQgO'#DkOOQP'#Dk'#DkQ)jQaOOO3PQdO'#CsOOQO,59^,59^O3kQdO'#CuOOQO,59`,59`OOQO,59c,59cO4VQdO,59cO4aQdO'#CzO4kQ`O'#CzOOQO,59b,59bOOQU,5:Q,5:QOOQR1G.v1G.vO4pQ`O1G.vOOQU-E7d-E7dO4xQdO,59kOOQO,59k,59kO5SQdO'#DQO5^Q`O'#DQOOQO,5:d,5:dOOQU,5:R,5:ROOQR1G/U1G/UO5cQ`O1G/UOOQU-E7e-E7eO5kQgO'#DhO5xQcO1G/XOOQR1G/X1G/XOOQR,59q,59qO6TQgO,59qO6eQdO'#DiO6lQgO'#DiO7PQcO1G/[OOQR1G/[1G/[OOQR,59r,59rO#|QfO,59rOOQR1G/b1G/bO7_OWO1G/bO7dOaO1G/bOOQR,59y,59yOOQR,59{,59{OOQP1G/h1G/hO7lOaO1G/hO7tOaO1G/hO8POaO1G/hOOQP1G.s1G.sO8_QgO,5:POOQP,5:P,5:POOQP,5:V,5:VOOQP-E7i-E7iOOQO,59_,59_OOQO,59a,59aOOQO1G.}1G.}OOQO,59f,59fO8oQdO,59fOOQR7+$b7+$bP,XQ`O'#DfOOQO1G/V1G/VOOQO,59l,59lO8yQdO,59lOOQR7+$p7+$pP9TQ`O'#DgOOQR'#DT'#DTOOQR,5:S,5:SOOQR-E7f-E7fOOQR7+$s7+$sOOQR1G/]1G/]O9YQgO'#DYO9jQ`O'#DYOOQR,5:T,5:TO#|QfO'#DZO9oQcO'#DZOOQR-E7g-E7gOOQR7+$v7+$vOOQR1G/^1G/^OOQR7+$|7+$|O:QOWO7+$|OOQP7+%S7+%SO:VOaO7+%SO:_OaO7+%SOOQP1G/k1G/kOOQO1G/Q1G/QOOQO1G/W1G/WOOQR,59t,59tO:jQgO,59tOOQR,59u,59uO#|QfO,59uOOQR<<Hh<<HhOOQP<<Hn<<HnO:zOaO<<HnOOQR1G/`1G/`OOQR1G/a1G/aOOQPAN>YAN>Y",stateData:";S~O!fOS!gOS^OS~OP_OQbORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!V[O!cTO~O`cO~P]OVkOWROXROYeOZfO[dOcPOmhOqQO~OboO~P!bOVtOWROXROYeOZfO[dOcPOmrOqQO~OpwO~P#WORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!cTO~OSvP!avP!bvP~P#|OWROXROYeOZfO[dOcPOqQO~OmzO~P%OOm!OOUzP!azP!bzP!dzP~P#|O^!SO!b!QO!f!TO!g!RO~ORSOTUOWROXROcPOqQO!PVO!cTO~OY!UOP!QXQ!QX!V!QX!`!QXS!QX!a!QX!b!QXU!QXm!QX!d!QX~P&aO[!WOP!SXQ!SX!V!SX!`!SXS!SX!a!SX!b!SXU!SXm!SX!d!SX~P&aO^!ZO!W![O!b!YO!f!]O!g!YO~OP!_O!V[OQaX!`aX~OPaXQaX!VaX!`aX~P#|OP!bOQ!cO!V[O~OP_O!V[O~P#|OWROXROY!fOcPOqQObfXmfXofXpfX~OWROXRO[!hOcPOqQObhXmhXohXphX~ObeXmlXoeX~ObkXokX~P%OOm!kO~Om!lObnPonP~P%OOb!pOo!oO~Ob!pO~P!bOm!sOosXpsX~OosXpsX~P%OOm!uOotPptP~P%OOo!xOp!yO~Op!yO~P#WOS!|O!a#OO!b#OO~OUyX!ayX!byX!dyX~P#|Om#QO~OU#SO!a#UO!b#UO!d#RO~Om#WOUzX!azX!bzX!dzX~O]#XO~O!b#XO!g#YO~O^#ZO!b#XO!g#YO~OP!RXQ!RX!V!RX!`!RXS!RX!a!RX!b!RXU!RXm!RX!d!RX~P&aOP!TXQ!TX!V!TX!`!TXS!TX!a!TX!b!TXU!TXm!TX!d!TX~P&aO!b#^O!g#^O~O^#_O!b#^O!f#`O!g#^O~O^#_O!W#aO!b#^O!g#^O~OPaaQaa!Vaa!`aa~P#|OP#cO!V[OQ!XX!`!XX~OP!XXQ!XX!V!XX!`!XX~P#|OP_O!V[OQ!_X!`!_X~P#|OWROXROcPOqQObgXmgXogXpgX~OWROXROcPOqQObiXmiXoiXpiX~Obkaoka~P%OObnXonX~P%OOm#kO~Ob#lOo!oO~Oosapsa~P%OOotXptX~P%OOm#pO~Oo!xOp#qO~OSwP!awP!bwP~P#|OS!|O!a#vO!b#vO~OUya!aya!bya!dya~P#|Om#xO~P%OOm#{OU}P!a}P!b}P!d}P~P#|OU#SO!a$OO!b$OO!d#RO~O]$QO~O!b$QO!g$RO~O!b$SO!g$SO~O^$TO!b$SO!g$SO~O^$TO!b$SO!f$UO!g$SO~OP!XaQ!Xa!V!Xa!`!Xa~P#|Obnaona~P%OOotapta~P%OOo!xO~OU|X!a|X!b|X!d|X~P#|Om$ZO~Om$]OU}X!a}X!b}X!d}X~O]$^O~O!b$_O!g$_O~O^$`O!b$_O!g$_O~OU|a!a|a!b|a!d|a~P#|O!b$cO!g$cO~O",goto:",]!mPPPPPPPPPPPPPPPPP!nPP!v#v#|$`#|$c$f$j$nP%VPPP!v%Y%^%a%{&O%a&R&U&X&_&b%aP&e&{&e'O'RPP']'a'g'm's'y(XPPPPPPPP(_)e*X+c,VUaObcR#e!c!{ROPQSTUXY_bcdehknrtvz!O!U!W!_!b!c!f!h!k!l!s!u!|#Q#R#S#W#c#k#p#x#{$Z$]QmPR!qnqfPQThknrtv!k!l!s!u#R#k#pR!gdR!ieTlPnTjPnSiPnSqQvQ{TQ!mkQ!trQ!vtR#y#RR!nkTsQvR!wt!RWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]RySR#t!|R|TR|UQ!PUR#|#SR#z#RR#z#SyZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]R!VXR!XYa]O^abc!a!c!eT!da!eQnPR!rnQvQR!{vQ!}yR#u!}Q#T|R#}#TW^Obc!cS!^^!aT!aa!eQ!eaR#f!eW`Obc!cQxSS}U#SQ!`_Q#PzQ#V!OQ#b!_Q#d!bQ#s!|Q#w#QQ$P#WQ$V#cQ$Y#xQ$[#{Q$a$ZR$b$]xZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]Q!VXQ!XYQ#[!UR#]!W!QWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]pfPQThknrtv!k!l!s!u#R#k#pQ!gdQ!ieQ#g!fR#h!hSgPn^pQTkrtv#RQ!jhQ#i!kQ#j!lQ#n!sQ#o!uQ$W#kR$X#pQuQR!zv",nodeNames:" DirectiveEnd DocEnd - - ? ? ? Literal QuotedLiteral Anchor Alias Tag BlockLiteralContent Comment Stream BOM Document ] [ FlowSequence Item Tagged Anchored Anchored Tagged FlowMapping Pair Key : Pair , } { FlowMapping Pair Pair BlockSequence Item Item BlockMapping Pair Pair Key Pair Pair BlockLiteral BlockLiteralHeader Tagged Anchored Anchored Tagged Directive DirectiveName DirectiveContent Document",maxTerm:74,context:xw,nodeProps:[["isolate",-3,8,9,14,""],["openedBy",18,"[",32,"{"],["closedBy",19,"]",33,"}"]],propSources:[jw],skippedNodes:[0],repeatNodeCount:6,tokenData:"-Y~RnOX#PXY$QYZ$]Z]#P]^$]^p#Ppq$Qqs#Pst$btu#Puv$yv|#P|}&e}![#P![!]'O!]!`#P!`!a'i!a!}#P!}#O*g#O#P#P#P#Q+Q#Q#o#P#o#p+k#p#q'i#q#r,U#r;'S#P;'S;=`#z<%l?HT#P?HT?HU,o?HUO#PQ#UU!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PQ#kTOY#PZs#Pt;'S#P;'S;=`#z<%lO#PQ#}P;=`<%l#P~$VQ!f~XY$Qpq$Q~$bO!g~~$gS^~OY$bZ;'S$b;'S;=`$s<%lO$b~$vP;=`<%l$bR%OX!WQOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR%rX!WQ!VPOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR&bP;=`<%l%kR&lUoP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'VUmP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'p[!PP!WQOY#PZp#Ppq#hq{#P{|(f|}#P}!O(f!O!R#P!R![)p![;'S#P;'S;=`#z<%lO#PR(mW!PP!WQOY#PZp#Ppq#hq!R#P!R![)V![;'S#P;'S;=`#z<%lO#PR)^U!PP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR)wY!PP!WQOY#PZp#Ppq#hq{#P{|)V|}#P}!O)V!O;'S#P;'S;=`#z<%lO#PR*nUcP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+XUbP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+rUqP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,]UpP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,vU`P!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#P",tokenizers:[Rw,Iw,zw,Zw,0,1],topRules:{Stream:[0,15]},tokenPrec:0}),Gw=Pt({}),Vw={html:v_,js:P_.configure({dialect:"js"}),jsx:P_.configure({dialect:"jsx"}),ts:P_.configure({dialect:"ts"}),tsx:P_.configure({dialect:"tsx"}),json:I_,md:UF,py:uw,xml:kw,yaml:Ww},Yw={html:"html",htm:"html",javascript:"js",js:"js",jsx:"jsx",typescript:"ts",ts:"ts",tsx:"tsx",json:"json",markdown:"md",md:"md",python:"py",py:"py",xml:"xml",yaml:"yaml",yml:"yaml"},Hw=Mn(e=>{const t=vn(Gw);if(void 0===e.language||void 0===t[e.language])return Vt(ct,{children:e.code});const n=t[e.language].parse(e.code);return Vt(ct,{children:mS(UA(e.code,n),{Fragment:ct,jsx:Vt,jsxs:Vt})})}),Kw=Object.assign(function(e){let{children:t,className:n}=e,i=Qe(e,d);return Vt("div",Be(Be({className:eg("group relative my-4 self-stretch rounded-bubble bg-base-active shadow-header overflow-hidden",n)},i),{},{children:t}))},{Actions:function(e){let{children:t,className:n}=e,i=Qe(e,h);return Vt("div",Be(Be({className:eg("absolute top-1 right-1 z-10 flex items-center gap-1 transition-opacity duration-200 ease-out opacity-0 pointer-events-none group-hover:opacity-100 group-hover:pointer-events-auto group-focus-within:opacity-100 group-focus-within:pointer-events-auto",n)},i),{},{children:t}))},Content:function(e){let{children:t,className:n}=e;return Vt("div",Be(Be({className:n},Qe(e,p)),{},{children:t}))}}),Jw=Pt(""),ex=e=>{let{code:t,language:n,className:i}=e,r=Qe(e,f);const o=Yw[n],{isCopied:a,copyToClipboard:s,disabled:u}=function(){let{code:e,onCopy:t,onError:n,timeout:i=2e3}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=dr(!1),o=mn(0),a=vn(Jw),{isAnimating:s}=vn(GI),u=null!=e?e:a,c=Dn(async()=>{var e;if(typeof window>"u"||null==(e=null==navigator?void 0:navigator.clipboard)||!e.writeText)null==n||n(new Error("Clipboard API not available"));else try{r.value||(await navigator.clipboard.writeText(u),r.value=!0,null==t||t(),o.current=window.setTimeout(()=>{r.value=!1},i))}catch(e){null==n||n(e)}},[u,r,t,n,i]);return pn(()=>()=>{window.clearTimeout(o.current)},[]),{isCopied:r,copyToClipboard:c,disabled:s}}({code:t}),c=hm(),l=dr(!1),d=function(){const e=Hr("syntax-highlight-theme"),t=Hf();return hr(()=>{var n,i,r;const o=null!==(n=e.value)&&void 0!==n?n:t.value.syntax_highlight_theme;if("light"===o||"dark"===o)return o;const a=null!==(i=null==(r=t.value.styles)?void 0:r.base_active)&&void 0!==i?i:jr.base_active,s=new Lr(a);return s.isValid&&s.isDark()?"dark":"light"})}();return Vt(Jw.Provider,{value:t,children:Vt(Kw,{"data-code-block-container":!0,"data-language":n,children:[Vt(Kw.Actions,{children:[Vt(mg,{"aria-label":c.wrap.value,disabled:u,icon:"wrap",onClick:()=>l.value=!l.value,variant:"md-button",children:c.wrap.value}),Vt(mg,{"aria-label":a.value?c.copied.value:c.copy.value,disabled:u,icon:a.value?"check":"copy",onClick:s,variant:"md-button",children:a.value?c.copied.value:c.copy.value})]}),Vt(Kw.Content,{className:eg(l.value?"overflow-x-hidden":"overflow-x-auto"),children:Vt("div",Be(Be({className:eg("pt-1.5 pb-2",i),"data-code-block":!0,"data-language":n,"data-syntax-theme":d.value},r),{},{children:Vt("pre",{className:eg("m-0 font-mono text-[13px] px-4 py-1.5",l.value?"whitespace-pre-wrap overflow-x-hidden":"whitespace-pre overflow-x-auto"),children:Vt("code",{className:eg("block",l.value?"whitespace-pre-wrap break-all":"whitespace-pre"),children:Vt(Hw,{code:t,language:o})})})}))})]})})};function tx(e){const{headers:t,rows:n}=e;if(0===t.length)return"";const i=[],r=t.map(e=>e.replace(/\|/g,"\\|"));i.push("| ".concat(r.join(" | ")," |")),i.push("| ".concat(t.map(()=>"---").join(" | ")," |"));for(const e of n){const n=[...e];for(;n.length<t.length;)n.push("");const r=n.map(e=>e.replace(/\|/g,"\\|"));i.push("| ".concat(r.join(" | ")," |"))}return i.join("\n")}const nx=e=>{let{children:t,className:n}=e,i=Qe(e,O);const{isCopied:r,copyTableData:o,disabled:a}=function(){let{onCopy:e,onError:t,timeout:n=2e3}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=dr(!1),r=mn(0),{isAnimating:o}=vn(GI);return pn(()=>()=>{window.clearTimeout(r.current)},[]),{isCopied:i,copyTableData:async o=>{var a;if(typeof window>"u"||null==(a=null==navigator?void 0:navigator.clipboard)||!a.write)null==t||t(new Error("Clipboard API not available"));else try{if(!i.value){const a=o.currentTarget.closest('[data-streamdown="table-wrapper"]'),s=null==a?void 0:a.querySelector("table");if(!s)return void(null==t||t(new Error("Table not found")));const u=function(e){var t,n;const i=[],r=[],o=e.querySelectorAll("thead th");for(const e of Array.from(o))i.push((null==(t=e.textContent)?void 0:t.trim())||"");const a=e.querySelectorAll("tbody tr");for(const e of Array.from(a)){const t=[],i=e.querySelectorAll("td");for(const e of Array.from(i))t.push((null==(n=e.textContent)?void 0:n.trim())||"");r.push(t)}return{headers:i,rows:r}}(s),c=new ClipboardItem({"text/plain":tx(u),"text/html":new Blob([s.outerHTML],{type:"text/html"})});await navigator.clipboard.write([c]),i.value=!0,null==e||e(),r.current=window.setTimeout(()=>i.value=!1,n)}}catch(e){null==t||t(e)}},disabled:o}}(),s=hm();return Vt(Kw,{"data-streamdown":"table-wrapper",children:[Vt(Kw.Actions,{children:Vt(mg,{"aria-label":r.value?s.copied.value:s.copy.value,disabled:a,icon:r.value?"check":"copy",onClick:o,variant:"md-button",children:r.value?s.copied.value:s.copy.value})}),Vt(Kw.Content,{className:"overflow-x-auto",children:Vt("table",Be(Be({className:eg("w-full border-collapse border border-base-border",n),"data-streamdown":"table"},i),{},{children:t}))})]})},ix=/language-([^\s]+)/;function rx(e,t){return e.className===t.className&&function(e,t){if(!(null!=e&&e.position||null!=t&&t.position))return!0;if(null==e||!e.position||null==t||!t.position)return!1;const n=e.position.start,i=t.position.start,r=e.position.end,o=t.position.end;return(null==n?void 0:n.line)===(null==i?void 0:i.line)&&(null==n?void 0:n.column)===(null==i?void 0:i.column)&&(null==r?void 0:r.line)===(null==o?void 0:o.line)&&(null==r?void 0:r.column)===(null==o?void 0:o.column)}(e.node,t.node)}const ox=Mn(e=>{let{children:t,className:n,node:i}=e,r=Qe(e,g);return Vt("ol",Be(Be({className:eg("ml-4 mb-2 list-outside list-decimal whitespace-normal text-sm",n),"data-streamdown":"ordered-list"},r),{},{children:t}))},(e,t)=>rx(e,t));ox.displayName="MarkdownOl";const ax=Mn(e=>{let{children:t,className:n,node:i}=e,r=Qe(e,D);return Vt("li",Be(Be({className:eg("py-1",n),"data-streamdown":"list-item"},r),{},{children:t}))},(e,t)=>rx(e,t));ax.displayName="MarkdownLi";const sx=Mn(e=>{let{children:t,className:n,node:i}=e,r=Qe(e,v);return Vt("ul",Be(Be({className:eg("ml-4 list-outside list-disc whitespace-normal text-sm",n),"data-streamdown":"unordered-list"},r),{},{children:t}))},(e,t)=>rx(e,t));sx.displayName="MarkdownUl";const ux=Mn(e=>{let{className:t,node:n}=e,i=Qe(e,E);return Vt("hr",Be({className:eg("my-6 border-base-border",t),"data-streamdown":"horizontal-rule"},i))},(e,t)=>rx(e,t));ux.displayName="MarkdownHr";const cx=Mn(e=>{let{children:t,className:n,node:i}=e,r=Qe(e,C);return Vt("span",Be(Be({className:eg("font-medium",n),"data-streamdown":"strong"},r),{},{children:t}))},(e,t)=>rx(e,t));cx.displayName="MarkdownStrong";const lx=Mn(e=>{let{children:t,className:n,href:i,node:r}=e,o=Qe(e,b);const a="streamdown:incomplete-link"===i;return Vt("a",Be(Be({className:eg("wrap-anywhere font-medium underline",n),"data-incomplete":a,"data-streamdown":"link",href:i,rel:"noreferrer",target:"_blank"},o),{},{children:t}))},(e,t)=>rx(e,t)&&e.href===t.href);lx.displayName="MarkdownA";const dx=Mn(e=>{let{children:t,className:n,node:i}=e,r=Qe(e,k);return Vt("h1",Be(Be({className:eg("mt-6 mb-2 text-base-primary font-semibold text-xl",n),"data-streamdown":"heading-1"},r),{},{children:t}))},(e,t)=>rx(e,t));dx.displayName="MarkdownH1";const hx=Mn(e=>{let{children:t,className:n,node:i}=e,r=Qe(e,y);return Vt("h2",Be(Be({className:eg("mt-3 mb-2 text-base-primary font-semibold text-lg",n),"data-streamdown":"heading-2"},r),{},{children:t}))},(e,t)=>rx(e,t));hx.displayName="MarkdownH2";const px=Mn(e=>{let{children:t,className:n,node:i}=e,r=Qe(e,T);return Vt("h3",Be(Be({className:eg("mt-3 mb-1 text-base-primary font-semibold text-md",n),"data-streamdown":"heading-3"},r),{},{children:t}))},(e,t)=>rx(e,t));px.displayName="MarkdownH3";const fx=Mn(e=>{let{children:t,className:n,node:i}=e,r=Qe(e,A);return Vt("h4",Be(Be({className:eg("mt-3 mb-1 text-base-primary font-semibold text-sm",n),"data-streamdown":"heading-4"},r),{},{children:t}))},(e,t)=>rx(e,t));fx.displayName="MarkdownH4";const mx=Mn(e=>{let{children:t,className:n,node:i}=e,r=Qe(e,S);return Vt("h5",Be(Be({className:eg("mt-3 mb-0.5 text-base-primary font-semibold text-sm",n),"data-streamdown":"heading-5"},r),{},{children:t}))},(e,t)=>rx(e,t));mx.displayName="MarkdownH5";const Ox=Mn(e=>{let{children:t,className:n,node:i}=e,r=Qe(e,_);return Vt("h6",Be(Be({className:eg("mt-3 text-base-primary font-semibold text-sm",n),"data-streamdown":"heading-6"},r),{},{children:t}))},(e,t)=>rx(e,t));Ox.displayName="MarkdownH6";const gx=Mn(e=>{let{node:t}=e,n=Qe(e,F);return Vt(nx,Be({},n))},(e,t)=>rx(e,t));gx.displayName="MarkdownTable";const Dx=Mn(e=>{let{children:t,className:n,node:i}=e,r=Qe(e,w);return Vt("thead",Be(Be({className:eg("bg-base-active/80",n),"data-streamdown":"table-header"},r),{},{children:t}))},(e,t)=>rx(e,t));Dx.displayName="MarkdownThead";const vx=Mn(e=>{let{children:t,className:n,node:i}=e,r=Qe(e,x);return Vt("tbody",Be(Be({className:eg("divide-y divide-base-border bg-base-active/40",n),"data-streamdown":"table-body"},r),{},{children:t}))},(e,t)=>rx(e,t));vx.displayName="MarkdownTbody";const Ex=Mn(e=>{let{children:t,className:n,node:i}=e,r=Qe(e,P);return Vt("tr",Be(Be({className:eg("border-base-border border-b",n),"data-streamdown":"table-row"},r),{},{children:t}))},(e,t)=>rx(e,t));Ex.displayName="MarkdownTr";const Cx=Mn(e=>{let{children:t,className:n,node:i}=e,r=Qe(e,R);return Vt("th",Be(Be({className:eg("whitespace-nowrap px-4 py-2 text-left font-medium text-sm",n),"data-streamdown":"table-header-cell"},r),{},{children:t}))},(e,t)=>rx(e,t));Cx.displayName="MarkdownTh";const bx=Mn(e=>{let{children:t,className:n,node:i}=e,r=Qe(e,I);return Vt("td",Be(Be({className:eg("px-4 py-2 text-sm",n),"data-streamdown":"table-cell"},r),{},{children:t}))},(e,t)=>rx(e,t));bx.displayName="MarkdownTd";const kx=Mn(e=>{let{children:t,className:n,node:i}=e,r=Qe(e,Q);return Vt("blockquote",Be(Be({className:eg("my-4 border-base-subtle/30 border-l-4 pl-4 text-base-subtle italic",n),"data-streamdown":"blockquote"},r),{},{children:t}))},(e,t)=>rx(e,t));kx.displayName="MarkdownBlockquote";const yx=Mn(e=>{let{children:t,className:n,node:i}=e,r=Qe(e,N);return Vt("sup",Be(Be({className:eg("text-sm",n),"data-streamdown":"superscript"},r),{},{children:t}))},(e,t)=>rx(e,t));yx.displayName="MarkdownSup";const Tx=Mn(e=>{let{children:t,className:n,node:i}=e,r=Qe(e,B);return Vt("sub",Be(Be({className:eg("text-sm",n),"data-streamdown":"subscript"},r),{},{children:t}))},(e,t)=>rx(e,t));Tx.displayName="MarkdownSub";const Ax=Mn(e=>{let{children:t,className:n,node:i}=e,r=Qe(e,M);if("data-footnotes"in r){const e=e=>{var t,n;if(!Ci(e))return!1;const i=e,r=Array.isArray(i.props.children)?i.props.children:[i.props.children];let o=!1,a=!1;for(const e of r)if(e)if("string"==typeof e)""!==e.trim()&&(o=!0);else if(Ci(e))if(void 0!==(null==(t=e.props)?void 0:t["data-footnote-backref"]))a=!0;else{const t=Array.isArray(e.props.children)?e.props.children:[e.props.children];for(const e of t){if("string"==typeof e&&""!==e.trim()){o=!0;break}if(Ci(e)&&void 0===(null==(n=e.props)?void 0:n["data-footnote-backref"])){o=!0;break}}}return a&&!o},i=Array.isArray(t)?t.map(t=>{if(!Ci(t))return t;if(t.type===ox){const n=(Array.isArray(t.props.children)?t.props.children:[t.props.children]).filter(t=>!e(t));return 0===n.length?null:Be(Be({},t),{},{props:Be(Be({},t.props),{},{children:n})})}return t}):t;return(Array.isArray(i)?i.some(e=>null!==e):null!==i)?Vt("section",Be(Be({className:n},r),{},{children:i})):null}return Vt("section",Be(Be({className:n},r),{},{children:t}))},(e,t)=>rx(e,t));Ax.displayName="MarkdownSection";const Sx=Mn(e=>{var t;let{node:n,className:i,children:r}=e,o=Qe(e,L);var a,s;if((null==(a=null==n?void 0:n.position)?void 0:a.start.line)===(null==(s=null==n?void 0:n.position)?void 0:s.end.line))return Vt("code",Be(Be({className:eg("rounded bg-base-active px-1.5 py-0.5 font-mono text-sm",i),"data-streamdown":"inline-code"},o),{},{children:r}));const u="string"==typeof i?i.match(ix):null,c=null!==(t=null==u?void 0:u.at(1))&&void 0!==t?t:"";let l="";if(Ci(r)){const e=r;e.props&&"object"==typeof e.props&&"children"in e.props&&"string"==typeof e.props.children&&(l=e.props.children)}else"string"==typeof r&&(l=r);return Vt(ex,{code:l,"data-language":c,"data-streamdown":"code-block",language:c})},(e,t)=>rx(e,t));Sx.displayName="MarkdownCode";const _x=Mn(e=>{let{node:t,className:n,src:i,alt:r}=e,o=Qe(e,m);const{downloadImage:a,disabled:s}=function(e){let{src:t,alt:n,onError:i}=e;const{isAnimating:r}=vn(GI);return{downloadImage:Dn(async()=>{var e;if(t)try{const i=await(await fetch(t.toString())).blob(),r=new URL(t.toString(),window.location.origin).pathname.split("/").pop()||"",o=r.includes(".")&&(null==(e=r.split(".").pop())?void 0:e.length)<=4;let a="";if(o)a=r;else{const e=i.type;let t="png";e.includes("jpeg")||e.includes("jpg")?t="jpg":e.includes("png")?t="png":e.includes("svg")?t="svg":e.includes("gif")?t="gif":e.includes("webp")&&(t="webp"),a="".concat((n||r||"image").toString().replace(/\.[^/.]+$/,""),".").concat(t)}((e,t,n)=>{const i="string"==typeof t?new Blob([t],{type:n}):t,r=URL.createObjectURL(i),o=document.createElement("a");o.href=r,o.download=e,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r)})(a,i,i.type)}catch(e){console.error("Failed to download image:",e),null==i||i(e)}},[t,n,i]),disabled:r}}({src:(null==i?void 0:i.toString())||"",alt:null==r?void 0:r.toString()}),u=hm();return i?Vt(Kw,{className:"inline-block self-auto","data-streamdown":"image-wrapper",children:[Vt(Kw.Actions,{children:Vt(mg,{"aria-label":u.download.value,disabled:s,icon:"download",onClick:a,variant:"md-button",children:u.download.value})}),Vt(Kw.Content,{children:Vt("img",Be({alt:r,className:eg("max-w-full",n),"data-streamdown":"image",src:i},o))})]}):null},(e,t)=>rx(e,t));_x.displayName="MarkdownImg";const Fx=Mn(e=>{let{children:t,className:n,node:i}=e,r=Qe(e,$);const o=(Array.isArray(t)?t:[t]).filter(e=>null!=e&&""!==e);return o.some(e=>{var t,n;return Ci(e)&&"img"===(null==(n=null==(t=null==e?void 0:e.props)?void 0:t.node)?void 0:n.tagName)})?1===o.length?Vt(ct,{children:t}):Vt("div",Be(Be({className:eg("text-sm",n)},r),{},{children:t})):Vt("p",Be(Be({className:eg("text-sm mb-3",n)},r),{},{children:t}))},(e,t)=>rx(e,t));Fx.displayName="MarkdownParagraph";const wx={ol:ox,li:ax,ul:sx,hr:ux,strong:cx,a:lx,h1:dx,h2:hx,h3:px,h4:fx,h5:mx,h6:Ox,table:gx,thead:Dx,tbody:vx,tr:Ex,th:Cx,td:bx,blockquote:kx,code:Sx,img:_x,pre:ct,sup:yx,sub:Tx,p:Fx,section:Ax},xx={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,function(n){if(null!==n)return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Ry(e,t,"linePrefix");e.consume(n)},function(t){return e.enter("paragraph"),i(t)});let n;return t;function i(t){const i=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=i),n=i,r(t)}function r(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):pb(t)?(e.consume(t),e.exit("chunkText"),i):(e.consume(t),r)}}},Px={tokenize:function(e){const t=this,n=[];let i,r,o,a=0;return s;function s(i){if(a<n.length){const r=n[a];return t.containerState=r[1],e.attempt(r[0].continuation,u,c)(i)}return c(i)}function u(e){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&D();const n=t.events.length;let r,o=n;for(;o--;)if("exit"===t.events[o][0]&&"chunkFlow"===t.events[o][1].type){r=t.events[o][1].end;break}g(a);let s=n;for(;s<t.events.length;)t.events[s][1].end=Be({},r),s++;return Nb(t.events,o+1,0,t.events.slice(n)),t.events.length=s,c(e)}return s(e)}function c(r){if(a===n.length){if(!i)return h(r);if(i.currentConstruct&&i.currentConstruct.concrete)return f(r);t.interrupt=!(!i.currentConstruct||i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Rx,l,d)(r)}function l(e){return i&&D(),g(a),h(e)}function d(e){return t.parser.lazy[t.now().line]=a!==n.length,o=t.now().offset,f(e)}function h(n){return t.containerState={},e.attempt(Rx,p,f)(n)}function p(e){return a++,n.push([t.currentConstruct,t.containerState]),h(e)}function f(n){return null===n?(i&&D(),g(0),void e.consume(n)):(i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:r}),m(n))}function m(n){return null===n?(O(e.exit("chunkFlow"),!0),g(0),void e.consume(n)):pb(n)?(e.consume(n),O(e.exit("chunkFlow")),a=0,t.interrupt=void 0,s):(e.consume(n),m)}function O(e,n){const s=t.sliceStream(e);if(n&&s.push(null),e.previous=r,r&&(r.next=e),r=e,i.defineSkip(e.start),i.write(s),t.parser.lazy[e.start.line]){let e=i.events.length;for(;e--;)if(i.events[e][1].start.offset<o&&(!i.events[e][1].end||i.events[e][1].end.offset>o))return;const n=t.events.length;let r,s,u=n;for(;u--;)if("exit"===t.events[u][0]&&"chunkFlow"===t.events[u][1].type){if(r){s=t.events[u][1].end;break}r=!0}for(g(a),e=n;e<t.events.length;)t.events[e][1].end=Be({},s),e++;Nb(t.events,u+1,0,t.events.slice(n)),t.events.length=e}}function g(i){let r=n.length;for(;r-- >i;){const i=n[r];t.containerState=i[1],i[0].exit.call(t,e)}n.length=i}function D(){i.write([null]),r=void 0,i=void 0,t.containerState._closeFlow=void 0}}},Rx={tokenize:function(e,t,n){return Ry(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},Ix={tokenize:function(e){const t=this,n=e.attempt(Iy,function(i){if(null!==i)return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n;e.consume(i)},e.attempt(this.parser.constructs.flowInitial,i,Ry(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Wy,i)),"linePrefix")));return n;function i(i){if(null!==i)return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(i)}}},Qx={resolveAll:Lx()},Nx=Mx("string"),Bx=Mx("text");function Mx(e){return{resolveAll:Lx("text"===e?$x:void 0),tokenize:function(t){const n=this,i=this.parser.constructs[e],r=t.attempt(i,o,a);return o;function o(e){return u(e)?r(e):a(e)}function a(e){if(null!==e)return t.enter("data"),t.consume(e),s;t.consume(e)}function s(e){return u(e)?(t.exit("data"),r(e)):(t.consume(e),s)}function u(e){if(null===e)return!0;const t=i[e];let r=-1;if(t)for(;++r<t.length;){const e=t[r];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}}function Lx(e){return function(t,n){let i,r=-1;for(;++r<=t.length;)void 0===i?t[r]&&"data"===t[r][1].type&&(i=r,r++):(!t[r]||"data"!==t[r][1].type)&&(r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),r=i+2),i=void 0);return e?e(t,n):t}}function $x(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const i=e[n-1][1],r=t.sliceStream(i);let o,a=r.length,s=-1,u=0;for(;a--;){const e=r[a];if("string"==typeof e){for(s=e.length;32===e.charCodeAt(s-1);)u++,s--;if(s)break;s=-1}else if(-2===e)o=!0,u++;else if(-1!==e){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(u=0),u){const r={type:n===e.length||o||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:i.start._bufferIndex+s,_index:i.start._index+a,line:i.end.line,column:i.end.column-u,offset:i.end.offset-u},end:Be({},i.end)};i.end=Be({},r.start),i.start.offset===i.end.offset?Object.assign(i,r):(e.splice(n,0,["enter",r,t],["exit",r,t]),n+=2)}n++}return e}const Ux={42:gT,43:gT,45:gT,48:gT,49:gT,50:gT,51:gT,52:gT,53:gT,54:gT,55:gT,56:gT,57:gT,62:Qy},qx={91:Jy},Xx={[-2]:$y,[-1]:$y,32:$y},zx={35:nT,42:OT,45:[ET,OT],60:oT,61:ET,95:OT,96:Ly,126:Ly},Zx={38:By,92:Ny},jx={[-5]:mT,[-4]:mT,[-3]:mT,33:pT,38:By,42:wy,60:[Py,uT],91:fT,92:[tT,Ny],93:cT,95:wy,96:qy},Wx={null:[wy,Qx]},Gx=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:qx,disable:{null:[]},document:Ux,flow:zx,flowInitial:Xx,insideSpan:Wx,string:Zx,text:jx},Symbol.toStringTag,{value:"Module"}));const Vx=/[\0\t\n\r]/g,Yx={}.hasOwnProperty;function Hx(e,t,n){return"string"!=typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:r(D),autolinkProtocol:l,autolinkEmail:l,atxHeading:r(m),blockQuote:r(function(){return{type:"blockquote",children:[]}}),characterEscape:l,characterReference:l,codeFenced:r(f),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:r(f,o),codeText:r(function(){return{type:"inlineCode",value:""}},o),codeTextData:l,data:l,codeFlowValue:l,definition:r(function(){return{type:"definition",identifier:"",label:null,title:null,url:""}}),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:r(function(){return{type:"emphasis",children:[]}}),hardBreakEscape:r(O),hardBreakTrailing:r(O),htmlFlow:r(g,o),htmlFlowData:l,htmlText:r(g,o),htmlTextData:l,image:r(function(){return{type:"image",title:null,url:"",alt:null}}),label:o,link:r(D),listItem:r(function(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}),listItemValue:function(e){this.data.expectingFirstListItemValue&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0)},listOrdered:r(v,function(){this.data.expectingFirstListItemValue=!0}),listUnordered:r(v),paragraph:r(function(){return{type:"paragraph",children:[]}}),reference:function(){this.data.referenceType="collapsed"},referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:r(m),strong:r(function(){return{type:"strong",children:[]}}),thematicBreak:r(function(){return{type:"thematicBreak"}})},exit:{atxHeading:s(),atxHeadingSequence:function(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}},autolink:s(),autolinkEmail:function(e){d.call(this,e),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)},autolinkProtocol:function(e){d.call(this,e),this.stack[this.stack.length-1].url=this.sliceSerialize(e)},blockQuote:s(),characterEscapeValue:d,characterReferenceMarkerHexadecimal:p,characterReferenceMarkerNumeric:p,characterReferenceValue:function(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let i;n?(i=Yk(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0):i=Vk(t),this.stack[this.stack.length-1].value+=i},characterReference:function(e){this.stack.pop().position.end=Kx(e.end)},codeFenced:s(function(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}),codeFencedFence:function(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)},codeFencedFenceInfo:function(){const e=this.resume();this.stack[this.stack.length-1].lang=e},codeFencedFenceMeta:function(){const e=this.resume();this.stack[this.stack.length-1].meta=e},codeFlowValue:d,codeIndented:s(function(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}),codeText:s(function(){const e=this.resume();this.stack[this.stack.length-1].value=e}),codeTextData:d,data:d,definition:s(),definitionDestinationString:function(){const e=this.resume();this.stack[this.stack.length-1].url=e},definitionLabelString:function(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=nk(this.sliceSerialize(e)).toLowerCase()},definitionTitleString:function(){const e=this.resume();this.stack[this.stack.length-1].title=e},emphasis:s(),hardBreakEscape:s(h),hardBreakTrailing:s(h),htmlFlow:s(function(){const e=this.resume();this.stack[this.stack.length-1].value=e}),htmlFlowData:d,htmlText:s(function(){const e=this.resume();this.stack[this.stack.length-1].value=e}),htmlTextData:d,image:s(function(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}),label:function(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t},labelText:function(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(Hk,Kk)}(t),n.identifier=nk(t).toLowerCase()},lineEnding:function(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak)return n.children[n.children.length-1].position.end=Kx(e.end),void(this.data.atHardBreak=void 0);!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(l.call(this,e),d.call(this,e))},link:s(function(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}),listItem:s(),listOrdered:s(),listUnordered:s(),paragraph:s(),referenceString:function(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=nk(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"},resourceDestinationString:function(){const e=this.resume();this.stack[this.stack.length-1].url=e},resourceTitleString:function(){const e=this.resume();this.stack[this.stack.length-1].title=e},resource:function(){this.data.inReference=void 0},setextHeading:s(function(){this.data.setextHeadingSlurpLineEnding=void 0}),setextHeadingLineSequence:function(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2},setextHeadingText:function(){this.data.setextHeadingSlurpLineEnding=!0},strong:s(),thematicBreak:s()}};Jx(t,(e||{}).mdastExtensions||[]);const n={};return function(e){let r={type:"root",children:[]};const s={stack:[r],tokenStack:[],config:t,enter:a,exit:u,buffer:o,resume:c,data:n},l=[];let d=-1;for(;++d<e.length;)"listOrdered"!==e[d][1].type&&"listUnordered"!==e[d][1].type||("enter"===e[d][0]?l.push(d):d=i(e,l.pop(),d));for(d=-1;++d<e.length;){const n=t[e[d][0]];Yx.call(n,e[d][1].type)&&n[e[d][1].type].call(Object.assign({sliceSerialize:e[d][2].sliceSerialize},s),e[d][1])}if(s.tokenStack.length>0){const e=s.tokenStack[s.tokenStack.length-1];(e[1]||tP).call(s,void 0,e[0])}for(r.position={start:Kx(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:Kx(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},d=-1;++d<t.transforms.length;)r=t.transforms[d](r)||r;return r};function i(e,t,n){let i,r,o,a,s=t-1,u=-1,c=!1;for(;++s<=n;){const t=e[s];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?u++:u--,a=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(i&&!a&&!u&&!o&&(o=s),a=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:a=void 0}if(!u&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===u&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(i){let a=s;for(r=void 0;a--;){const t=e[a];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;r&&(e[r][1].type="lineEndingBlank",c=!0),t[1].type="lineEnding",r=a}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}o&&(!r||o<r)&&(i._spread=!0),i.end=Object.assign({},r?e[r][1].start:t[1].end),e.splice(r||s,0,["exit",i,t[2]]),s++,n++}if("listItemPrefix"===t[1].type){const r={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};i=r,e.splice(s,0,["enter",r,t[2]]),s++,n++,o=void 0,a=!0}}}return e[t][1]._spread=c,n}function r(e,t){return function(n){a.call(this,e(n),n),t&&t.call(this,n)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:Kx(t.start),end:void 0}}function s(e){return function(t){e&&e.call(this,t),u.call(this,t)}}function u(e,t){const n=this.stack.pop(),i=this.tokenStack.pop();if(!i)throw new Error("Cannot close `"+e.type+"` ("+rS({start:e.start,end:e.end})+"): its not open");i[0].type!==e.type&&(t?t.call(this,e,i[0]):(i[1]||tP).call(this,e,i[0])),n.position.end=Kx(e.end)}function c(){return Rk(this.stack.pop())}function l(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];(!n||"text"!==n.type)&&(n={type:"text",value:""},n.position={start:Kx(e.start),end:void 0},t.push(n)),this.stack.push(n)}function d(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=Kx(e.end)}function h(){this.data.atHardBreak=!0}function p(e){this.data.characterReferenceType=e.type}function f(){return{type:"code",lang:null,meta:null,value:""}}function m(){return{type:"heading",depth:0,children:[]}}function O(){return{type:"break"}}function g(){return{type:"html",value:""}}function D(){return{type:"link",title:null,url:"",children:[]}}function v(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}}(n)(function(e){for(;!Zy(e););return e}(function(e){const t={constructs:dy([Gx,...(e||{}).extensions||[]]),content:n(xx),defined:[],document:n(Px),flow:n(Ix),lazy:{},string:n(Nx),text:n(Bx)};return t;function n(e){return function(n){return function(e,t,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const r={},o=[];let a=[],s=[];const u={attempt:m(function(e,t){O(e,t.from)}),check:m(f),consume:function(e){pb(e)?(i.line++,i.column=1,i.offset+=-3===e?2:1,g()):-1!==e&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===a[i._index].length&&(i._bufferIndex=-1,i._index++)),c.previous=e},enter:function(e,t){const n=t||{};return n.type=e,n.start=h(),c.events.push(["enter",n,c]),s.push(n),n},exit:function(e){const t=s.pop();return t.end=h(),c.events.push(["exit",t,c]),t},interrupt:m(f,{interrupt:!0})},c={code:null,containerState:{},defineSkip:function(e){r[e.line]=e.column,g()},events:[],now:h,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let n=-1;const i=[];let r;for(;++n<e.length;){const o=e[n];let a;if("string"==typeof o)a=o;else switch(o){case-5:a="\r";break;case-4:a="\n";break;case-3:a="\r\n";break;case-2:a=t?" ":"\t";break;case-1:if(!t&&r)continue;a=" ";break;default:a=String.fromCharCode(o)}r=-2===o,i.push(a)}return i.join("")}(d(e),t)},sliceStream:d,write:function(e){return a=Bb(a,e),function(){let e;for(;i._index<a.length;){const t=a[i._index];if("string"==typeof t)for(e=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===e&&i._bufferIndex<t.length;)p(t.charCodeAt(i._bufferIndex));else p(t)}}(),null!==a[a.length-1]?[]:(O(t,0),c.events=Mb(o,c.events,c),c.events)}};let l=t.tokenize.call(c,u);return t.resolveAll&&o.push(t),c;function d(e){return function(e,t){const n=t.start._index,i=t.start._bufferIndex,r=t.end._index,o=t.end._bufferIndex;let a;if(n===r)a=[e[n].slice(i,o)];else{if(a=e.slice(n,r),i>-1){const e=a[0];"string"==typeof e?a[0]=e.slice(i):a.shift()}o>0&&a.push(e[r].slice(0,o))}return a}(a,e)}function h(){const{_bufferIndex:e,_index:t,line:n,column:r,offset:o}=i;return{_bufferIndex:e,_index:t,line:n,column:r,offset:o}}function p(e){l=l(e)}function f(e,t){t.restore()}function m(e,t){return function(n,r,o){let a,l,d,p;return Array.isArray(n)?m(n):"tokenize"in n?m([n]):(f=n,function(e){const t=null!==e&&f[e],n=null!==e&&f.null;return m([...Array.isArray(t)?t:t?[t]:[],...Array.isArray(n)?n:n?[n]:[]])(e)});var f;function m(e){return a=e,l=0,0===e.length?o:O(e[l])}function O(e){return function(n){return p=function(){const e=h(),t=c.previous,n=c.currentConstruct,r=c.events.length,o=Array.from(s);return{from:r,restore:function(){i=e,c.previous=t,c.currentConstruct=n,c.events.length=r,s=o,g()}}}(),d=e,e.partial||(c.currentConstruct=e),e.name&&c.parser.constructs.disable.null.includes(e.name)?v():e.tokenize.call(t?Object.assign(Object.create(c),t):c,u,D,v)(n)}}function D(t){return e(d,p),r}function v(e){return p.restore(),++l<a.length?O(a[l]):o}}}function O(e,t){e.resolveAll&&!o.includes(e)&&o.push(e),e.resolve&&Nb(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function g(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}(t,e,n)}}}(n).document().write(function(){let e,t=1,n="",i=!0;return function(r,o,a){const s=[];let u,c,l,d,h;for(r=n+("string"==typeof r?r.toString():new TextDecoder(o||void 0).decode(r)),l=0,n="",i&&(65279===r.charCodeAt(0)&&l++,i=void 0);l<r.length;){if(Vx.lastIndex=l,u=Vx.exec(r),d=u&&void 0!==u.index?u.index:r.length,h=r.charCodeAt(d),!u){n=r.slice(l);break}if(10===h&&l===d&&e)s.push(-3),e=void 0;else switch(e&&(s.push(-5),e=void 0),l<d&&(s.push(r.slice(l,d)),t+=d-l),h){case 0:s.push(65533),t++;break;case 9:for(c=4*Math.ceil(t/4),s.push(-2);t++<c;)s.push(-1);break;case 10:s.push(-4),t=1;break;default:e=!0,t=1}l=d+1}return a&&(e&&s.push(-5),n&&s.push(n),s.push(null)),s}}()(e,t,!0))))}function Kx(e){return{line:e.line,column:e.column,offset:e.offset}}function Jx(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?Jx(e,i):eP(e,i)}}function eP(e,t){let n;for(n in t)if(Yx.call(t,n))switch(n){case"canContainEols":{const i=t[n];i&&e[n].push(...i);break}case"transforms":{const i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{const i=t[n];i&&Object.assign(e[n],i);break}}}function tP(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+rS({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+rS({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+rS({start:t.start,end:t.end})+") is still open")}function nP(e){const t=this;t.parser=function(n){return Hx(n,Be(Be(Be({},t.data("settings")),e),{},{extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]}))}}function iP(e,t){const n=t.referenceType;let i="]";if("collapsed"===n?i+="[]":"full"===n&&(i+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+i}];const r=e.all(t),o=r[0];o&&"text"===o.type?o.value="["+o.value:r.unshift({type:"text",value:"["});const a=r[r.length-1];return a&&"text"===a.type?a.value+=i:r.push({type:"text",value:i}),r}function rP(e){const t=e.spread;return null!=t?t:e.children.length>1}function oP(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),r=0;const o=[];for(;i;)o.push(aP(t.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=n.exec(t);return o.push(aP(t.slice(r),r>0,!1)),o.join("")}function aP(e,t,n){let i=0,r=e.length;if(t){let t=e.codePointAt(i);for(;9===t||32===t;)i++,t=e.codePointAt(i)}if(n){let t=e.codePointAt(r-1);for(;9===t||32===t;)r--,t=e.codePointAt(r-1)}return r>i?e.slice(i,r):""}const sP={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",i={},r=t.lang?t.lang.split(/\s+/):[];r.length>0&&(i.className=["language-"+r[0]]);let o={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),r=Fy(i.toLowerCase()),o=e.footnoteOrder.indexOf(i);let a,s=e.footnoteCounts.get(i);void 0===s?(s=0,e.footnoteOrder.push(i),a=e.footnoteOrder.length):a=o+1,s+=1,e.footnoteCounts.set(i,s);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+r,id:n+"fnref-"+r+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,u);const c={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,c),e.applyData(t,c)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return iP(e,t);const r={src:Fy(i.url||""),alt:t.alt};null!==i.title&&void 0!==i.title&&(r.title=i.title);const o={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,o),e.applyData(t,o)},image:function(e,t){const n={src:Fy(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return iP(e,t);const r={href:Fy(i.url||"")};null!==i.title&&void 0!==i.title&&(r.title=i.title);const o={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)},link:function(e,t){const n={href:Fy(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)},listItem:function(e,t,n){const i=e.all(t),r=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=rP(n[i])}return t}(n):rP(t),o={},a=[];if("boolean"==typeof t.checked){const e=i[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},i.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<i.length;){const e=i[s];(r||0!==s||"element"!==e.type||"p"!==e.tagName)&&a.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||r?a.push(e):a.push(...e.children)}const u=i[i.length-1];u&&(r||"element"!==u.type||"p"!==u.tagName)&&a.push({type:"text",value:"\n"});const c={type:"element",tagName:"li",properties:o,children:a};return e.patch(t,c),e.applyData(t,c)},list:function(e,t){const n={},i=e.all(t);let r=-1;for("number"==typeof t.start&&1!==t.start&&(n.start=t.start);++r<i.length;){const e=i[r];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),i=n.shift(),r=[];if(i){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],n),r.push(n)}if(n.length>0){const i={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=Qg(t.children[1]),a=Ig(t.children[t.children.length-1]);o&&a&&(i.position={start:o,end:a}),r.push(i)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const i=n?n.children:void 0,r=0===(i?i.indexOf(t):1)?"th":"td",o=n&&"table"===n.type?n.align:void 0,a=o?o.length:t.children.length;let s=-1;const u=[];for(;++s<a;){const n=t.children[s],i={},a=o?o[s]:void 0;a&&(i.align=a);let c={type:"element",tagName:r,properties:i,children:[]};n&&(c.children=e.all(n),e.patch(n,c),c=e.applyData(n,c)),u.push(c)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)},text:function(e,t){const n={type:"text",value:oP(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:uP,yaml:uP,definition:uP,footnoteDefinition:uP};function uP(){}function cP(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function lP(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const dP={}.hasOwnProperty,hP={};function pP(e,t){const n=t||hP,i=new Map,r=new Map,o=new Map,a=Be(Be({},sP),n.handlers),s={all:function(e){const t=[];if("children"in e){const n=e.children;let i=-1;for(;++i<n.length;){const r=s.one(n[i],e);if(r){if(i&&"break"===n[i-1].type&&(!Array.isArray(r)&&"text"===r.type&&(r.value=DP(r.value)),!Array.isArray(r)&&"element"===r.type)){const e=r.children[0];e&&"text"===e.type&&(e.value=DP(e.value))}Array.isArray(r)?t.push(...r):t.push(r)}}}return t},applyData:mP,definitionById:i,footnoteById:r,footnoteCounts:o,footnoteOrder:[],handlers:a,one:function(e,t){const n=e.type,i=s.handlers[n];if(dP.call(s.handlers,n)&&i)return i(s,e,t);if(s.options.passThrough&&s.options.passThrough.includes(n)){if("children"in e){const{children:t}=e,n=Qe(e,U),i=Rg(n);return i.children=s.all(e),i}return Rg(e)}return(s.options.unknownHandler||OP)(s,e,t)},options:n,patch:fP,wrap:gP};return xC(e,function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?i:r,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}}),s}function fP(e,t){e.position&&(t.position=Bg(e))}function mP(e,t){let n=t;if(e&&e.data){const t=e.data.hName,i=e.data.hChildren,r=e.data.hProperties;"string"==typeof t&&("element"===n.type?n.tagName=t:n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}),"element"===n.type&&r&&Object.assign(n.properties,Rg(r)),"children"in n&&n.children&&null!=i&&(n.children=i)}return n}function OP(e,t){const n=t.data||{},i=!("value"in t)||dP.call(n,"hProperties")||dP.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,i),e.applyData(t,i)}function gP(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:"\n"});++i<e.length;)i&&n.push({type:"text",value:"\n"}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function DP(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function vP(e,t){const n=pP(e,t),i=n.one(e,void 0),r=function(e){const t="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||cP,i=e.options.footnoteBackLabel||lP,r=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let u=-1;for(;++u<e.footnoteOrder.length;){const r=e.footnoteById.get(e.footnoteOrder[u]);if(!r)continue;const o=e.all(r),a=String(r.identifier).toUpperCase(),c=Fy(a.toLowerCase());let l=0;const d=[],h=e.footnoteCounts.get(a);for(;void 0!==h&&++l<=h;){d.length>0&&d.push({type:"text",value:" "});let e="string"==typeof n?n:n(u,l);"string"==typeof e&&(e={type:"text",value:e}),d.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+c+(l>1?"-"+l:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof i?i:i(u,l),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const p=o[o.length-1];if(p&&"element"===p.type&&"p"===p.tagName){const e=p.children[p.children.length-1];e&&"text"===e.type?e.value+=" ":p.children.push({type:"text",value:" "}),p.children.push(...d)}else o.push(...d);const f={type:"element",tagName:"li",properties:{id:t+"fn-"+c},children:e.wrap(o,!0)};e.patch(r,f),s.push(f)}if(0!==s.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:Be(Be({},Rg(a)),{},{id:"footnote-label"}),children:[{type:"text",value:r}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:"\n"}]}}(n),o=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&o.children.push({type:"text",value:"\n"},r),o}function EP(e,t){return e&&"run"in e?async function(n,i){const r=vP(n,Be({file:i},t));await e.run(r,i)}:function(n,i){return vP(n,Be({file:i},e||t))}}function CP(e){if(e)throw e}var bP,kP,yP=function(){if(kP)return bP;kP=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===t.call(e)},o=function(n){if(!n||"[object Object]"!==t.call(n))return!1;var i,r=e.call(n,"constructor"),o=n.constructor&&n.constructor.prototype&&e.call(n.constructor.prototype,"isPrototypeOf");if(n.constructor&&!r&&!o)return!1;for(i in n);return typeof i>"u"||e.call(n,i)},a=function(e,t){n&&"__proto__"===t.name?n(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},s=function(t,n){if("__proto__"===n){if(!e.call(t,n))return;if(i)return i(t,n).value}return t[n]};return bP=function e(){var t,n,i,u,c,l,d=arguments[0],h=1,p=arguments.length,f=!1;for("boolean"==typeof d&&(f=d,d=arguments[1]||{},h=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});h<p;++h)if(null!=(t=arguments[h]))for(n in t)i=s(d,n),d!==(u=s(t,n))&&(f&&u&&(o(u)||(c=r(u)))?(c?(c=!1,l=i&&r(i)?i:[]):l=i&&o(i)?i:{},a(d,{name:n,newValue:e(f,l,u)})):typeof u<"u"&&a(d,{name:n,newValue:u}));return d},bP}();const TP=GA(yP);function AP(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)}const SP=function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');PP(e);let n,i=0,r=-1,o=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;o--;)if(47===e.codePointAt(o)){if(n){i=o+1;break}}else r<0&&(n=!0,r=o+1);return r<0?"":e.slice(i,r)}if(t===e)return"";let a=-1,s=t.length-1;for(;o--;)if(47===e.codePointAt(o)){if(n){i=o+1;break}}else a<0&&(n=!0,a=o+1),s>-1&&(e.codePointAt(o)===t.codePointAt(s--)?s<0&&(r=o):(s=-1,r=a));return i===r?r=a:r<0&&(r=e.length),e.slice(i,r)},_P=function(e){if(PP(e),0===e.length)return".";let t,n=-1,i=e.length;for(;--i;)if(47===e.codePointAt(i)){if(t){n=i;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},FP=function(e){PP(e);let t,n=e.length,i=-1,r=0,o=-1,a=0;for(;n--;){const s=e.codePointAt(n);if(47!==s)i<0&&(t=!0,i=n+1),46===s?o<0?o=n:1!==a&&(a=1):o>-1&&(a=-1);else if(t){r=n+1;break}}return o<0||i<0||0===a||1===a&&o===i-1&&o===r+1?"":e.slice(o,i)},wP=function(){let e,t=-1;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];for(;++t<i.length;)PP(i[t]),i[t]&&(e=void 0===e?i[t]:e+"/"+i[t]);return void 0===e?".":function(e){PP(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,i,r="",o=0,a=-1,s=0,u=-1;for(;++u<=e.length;){if(u<e.length)n=e.codePointAt(u);else{if(47===n)break;n=47}if(47===n){if(a!==u-1&&1!==s)if(a!==u-1&&2===s){if(r.length<2||2!==o||46!==r.codePointAt(r.length-1)||46!==r.codePointAt(r.length-2))if(r.length>2){if(i=r.lastIndexOf("/"),i!==r.length-1){i<0?(r="",o=0):(r=r.slice(0,i),o=r.length-1-r.lastIndexOf("/")),a=u,s=0;continue}}else if(r.length>0){r="",o=0,a=u,s=0;continue}t&&(r=r.length>0?r+"/..":"..",o=2)}else r.length>0?r+="/"+e.slice(a+1,u):r=e.slice(a+1,u),o=u-a-1;a=u,s=0}else 46===n&&s>-1?s++:s=-1}return r}(e,!t);return 0===n.length&&!t&&(n="."),n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/"),t?"/"+n:n}(e)},xP="/";function PP(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const RP=function(){return"/"};function IP(e){return!!(null!==e&&"object"==typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}const QP=["history","path","basename","stem","extname","dirname"];class NP{constructor(e){let t;t=e?IP(e)?{path:e}:"string"==typeof e||function(e){return!!(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":RP(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,i=-1;for(;++i<QP.length;){const e=QP[i];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)QP.includes(n)||(this[n]=t[n])}get basename(){return"string"==typeof this.path?SP(this.path):void 0}set basename(e){MP(e,"basename"),BP(e,"basename"),this.path=wP(this.dirname||"",e)}get dirname(){return"string"==typeof this.path?_P(this.path):void 0}set dirname(e){LP(this.basename,"dirname"),this.path=wP(e||"",this.basename)}get extname(){return"string"==typeof this.path?FP(this.path):void 0}set extname(e){if(BP(e,"extname"),LP(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=wP(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){IP(e)&&(e=function(e){if("string"==typeof e)e=new URL(e);else if(!IP(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}(e)),MP(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"==typeof this.path?SP(this.path,this.extname):void 0}set stem(e){MP(e,"stem"),BP(e,"stem"),this.path=wP(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const i=this.message(e,t,n);throw i.fatal=!0,i}info(e,t,n){const i=this.message(e,t,n);return i.fatal=void 0,i}message(e,t,n){const i=new uS(e,t,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return void 0===this.value?"":"string"==typeof this.value?this.value:new TextDecoder(e||void 0).decode(this.value)}}function BP(e,t){if(e&&e.includes(xP))throw new Error("`"+t+"` cannot be a path: did not expect `"+xP+"`")}function MP(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function LP(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const $P=function(e){const t=this.constructor.prototype,n=t[e],i=function(){return n.apply(i,arguments)};return Object.setPrototypeOf(i,t),i},UP={}.hasOwnProperty;class qP extends $P{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=function(){const e=[],t={run:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];let r=-1;const o=n.pop();if("function"!=typeof o)throw new TypeError("Expected function as last argument, not "+o);!function t(i){const a=e[++r];let s=-1;if(i)o(i);else{for(var u=arguments.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=arguments[l];for(;++s<n.length;)(null===c[s]||void 0===c[s])&&(c[s]=n[s]);n=c,a?function(e,t){let n;return function(){for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];const s=e.length>o.length;let u;s&&o.push(i);try{u=e.apply(this,o)}catch(e){if(s&&n)throw e;return i(e)}s||(u&&u.then&&"function"==typeof u.then?u.then(r,i):u instanceof Error?i(u):r(u))};function i(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];n||(n=!0,t(e,...r))}function r(e){i(null,e)}}(a,t)(...c):o(null,...c)}}(null,...n)},use:function(n){if("function"!=typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}()}copy(){const e=new qP;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(TP(!0,{},this.namespace)),e}data(e,t){return"string"==typeof e?2===arguments.length?(jP("data",this.frozen),this.namespace[e]=t,this):UP.call(this.namespace,e)&&this.namespace[e]||void 0:e?(jP("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const i=t.call(e,...n);"function"==typeof i&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=VP(e),n=this.parser||this.Parser;return zP("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),zP("process",this.parser||this.Parser),ZP("process",this.compiler||this.Compiler),t?i(void 0,t):new Promise(i);function i(i,r){const o=VP(e),a=n.parse(o);function s(e,n){e||!n?r(e):i?i(n):t(void 0,n)}n.run(a,o,function(e,t,i){if(e||!t||!i)return s(e);const r=t,o=n.stringify(r,i);!function(e){return"string"==typeof e||function(e){return!!(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)}(o)?i.result=o:i.value=o,s(e,i)})}}processSync(e){let t,n=!1;return this.freeze(),zP("processSync",this.parser||this.Parser),ZP("processSync",this.compiler||this.Compiler),this.process(e,function(e,i){n=!0,CP(e),t=i}),GP("processSync","process",n),t}run(e,t,n){WP(e),this.freeze();const i=this.transformers;return!n&&"function"==typeof t&&(n=t,t=void 0),n?r(void 0,n):new Promise(r);function r(r,o){const a=VP(t);i.run(e,a,function(t,i,a){const s=i||e;t?o(t):r?r(s):n(void 0,s,a)})}}runSync(e,t){let n,i=!1;return this.run(e,t,function(e,t){CP(e),n=t,i=!0}),GP("runSync","run",i),n}stringify(e,t){this.freeze();const n=VP(t),i=this.compiler||this.Compiler;return ZP("stringify",i),WP(e),i(e,n)}use(e){const t=this.attachers,n=this.namespace;for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];if(jP("use",this.frozen),null!=e)if("function"==typeof e)c(e,r);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?u(e):s(e)}return this;function a(e){if("function"==typeof e)c(e,[]);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;c(t,n)}else s(e)}}function s(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(e.plugins),e.settings&&(n.settings=TP(!0,n.settings,e.settings))}function u(e){let t=-1;if(null!=e){if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;)a(e[t])}}function c(e,n){let i=-1,r=-1;for(;++i<t.length;)if(t[i][0]===e){r=i;break}if(-1===r)t.push([e,...n]);else if(n.length>0){let[i,...o]=n;const a=t[r][1];AP(a)&&AP(i)&&(i=TP(!0,a,i)),t[r]=[e,i,...o]}}}}const XP=(new qP).freeze();function zP(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function ZP(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function jP(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function WP(e){if(!AP(e)||"string"!=typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function GP(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function VP(e){return function(e){return!!(e&&"object"==typeof e&&"message"in e&&"messages"in e)}(e)?e:new NP(e)}const YP=[],HP={allowDangerousHtml:!0},KP=new WeakMap,JP=new class{constructor(){Je(this,"cache",new Map),Je(this,"keyCache",new WeakMap),Je(this,"maxSize",100)}generateCacheKey(e){const t=this.keyCache.get(e);if(t)return t;const n=e.rehypePlugins,i=e.remarkPlugins,r=e.remarkRehypeOptions;if(!(n||i||r)){const t="default";return this.keyCache.set(e,t),t}const o=e=>{if(!e||0===e.length)return"";let t="";for(let n=0;n<e.length;n+=1){const i=e[n];if(n>0&&(t+=","),Array.isArray(i)){const[e,n]=i;if("function"==typeof e){let n=KP.get(e);n||(n=e.name,KP.set(e,n)),t+=n}else t+=String(e);t+=":",t+=JSON.stringify(n)}else if("function"==typeof i){let e=KP.get(i);e||(e=i.name,KP.set(i,e)),t+=e}else t+=String(i)}return t},a=o(n),s=o(i),u=r?JSON.stringify(r):"",c="".concat(s,"::").concat(a,"::").concat(u);return this.keyCache.set(e,c),c}get(e){const t=this.generateCacheKey(e),n=this.cache.get(t);return n&&(this.cache.delete(t),this.cache.set(t,n)),n}set(e,t){const n=this.generateCacheKey(e);if(this.cache.size>=this.maxSize){const e=this.cache.keys().next().value;e&&this.cache.delete(e)}this.cache.set(n,t)}clear(){this.cache.clear()}},eR=e=>{const t=tR(e),n=e.children||"";return iR(t.runSync(t.parse(n),n),e)},tR=e=>{const t=JP.get(e);if(t)return t;const n=nR(e);return JP.set(e,n),n},nR=e=>{const t=e.rehypePlugins||YP,n=e.remarkPlugins||YP,i=e.remarkRehypeOptions?Be(Be({},HP),e.remarkRehypeOptions):HP;return XP().use(nP).use(n).use(EP,i).use(t)},iR=(e,t)=>mS(e,{Fragment:ct,components:t.components,ignoreInvalidStyle:!0,jsx:Vt,jsxs:Vt,passKeys:!0,passNode:!0});function rR(e){return e.startsWith("https://")||e.startsWith("http://")}function oR(e){const{allowedHosts:t,includeWww:n,allowHttp:i}=e;if(0===t.length)return[];if(t.includes("*"))return["*"];const r=new Set;for(const e of t){const t=e.trim();if(!t)continue;if(rR(t)){r.add(t);continue}const o=t.replace(/\.$/,"");r.add("https://".concat(o)),i&&r.add("http://".concat(o)),n&&!o.startsWith("www.")&&(r.add("https://www.".concat(o)),i&&r.add("http://www.".concat(o)))}return[...r]}var aR={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function sR(e){aR=e}var uR={exec:()=>null};function cR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="string"==typeof e?e:e.source,i={replace:(e,t)=>{let r="string"==typeof t?t:t.source;return r=r.replace(dR.caret,"$1"),n=n.replace(e,r),i},getRegex:()=>new RegExp(n,t)};return i}var lR=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch(e){return!1}})(),dR={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088F\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5C\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDC-\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDD40-\uDD65\uDD6F-\uDD85\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC7\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDDB0-\uDDDB\uDDE0-\uDDE9\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDF50-\uDF59\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D\uDD30-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE96\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF2-\uDFF6]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD833[\uDCF0-\uDCF9]|\uD834[\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDCD0-\uDCEB\uDCF0-\uDCF9\uDDD0-\uDDED\uDDF0-\uDDFA\uDEC0-\uDEDE\uDEE0-\uDEE2\uDEE4\uDEE5\uDEE7-\uDEED\uDEF0-\uDEF4\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79])/,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp("^( {0,3}".concat(e,")((?:[\t ][^\\n]*)?(?:\\n|$))")),nextBulletRegex:e=>new RegExp("^ {0,".concat(Math.min(3,e-1),"}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))")),hrRegex:e=>new RegExp("^ {0,".concat(Math.min(3,e-1),"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)")),fencesBeginRegex:e=>new RegExp("^ {0,".concat(Math.min(3,e-1),"}(?:```|~~~)")),headingBeginRegex:e=>new RegExp("^ {0,".concat(Math.min(3,e-1),"}#")),htmlBeginRegex:e=>new RegExp("^ {0,".concat(Math.min(3,e-1),"}<(?:[a-z].*>|!--)"),"i")},hR=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,pR=/(?:[*+-]|\d{1,9}[.)])/,fR=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,mR=cR(fR).replace(/bull/g,pR).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),OR=cR(fR).replace(/bull/g,pR).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),gR=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,DR=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,vR=cR(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",DR).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),ER=cR(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,pR).getRegex(),CR="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",bR=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,kR=cR("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",bR).replace("tag",CR).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),yR=cR(gR).replace("hr",hR).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",CR).getRegex(),TR={blockquote:cR(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",yR).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:vR,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:hR,html:kR,lheading:mR,list:ER,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:yR,table:uR,text:/^[^\n]+/},AR=cR("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",hR).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",CR).getRegex(),SR=Be(Be({},TR),{},{lheading:OR,table:AR,paragraph:cR(gR).replace("hr",hR).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",AR).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",CR).getRegex()}),_R=Be(Be({},TR),{},{html:cR("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",bR).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:uR,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:cR(gR).replace("hr",hR).replace("heading"," *#{1,6} *[^\n]").replace("lheading",mR).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),FR=/^( {2,}|\\)\n(?!\s*$)/,wR=/(?:[!-\/:-@\[-`\{-~\xA1-\xA9\xAB\xAC\xAE-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u0482\u055A-\u055F\u0589\u058A\u058D-\u058F\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060F\u061B\u061D-\u061F\u066A-\u066D\u06D4\u06DE\u06E9\u06FD\u06FE\u0700-\u070D\u07F6-\u07F9\u07FE\u07FF\u0830-\u083E\u085E\u0888\u0964\u0965\u0970\u09F2\u09F3\u09FA\u09FB\u09FD\u0A76\u0AF0\u0AF1\u0B70\u0BF3-\u0BFA\u0C77\u0C7F\u0C84\u0D4F\u0D79\u0DF4\u0E3F\u0E4F\u0E5A\u0E5B\u0F01-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F85\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u104A-\u104F\u109E\u109F\u10FB\u1360-\u1368\u1390-\u1399\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DB\u1800-\u180A\u1940\u1944\u1945\u19DE-\u19FF\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2010-\u2027\u2030-\u205E\u207A-\u207E\u208A-\u208E\u20A0-\u20C1\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2775\u2794-\u2B73\u2B76-\u2BFF\u2CE5-\u2CEA\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3001-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u303F\u309B\u309C\u30A0\u30FB\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAA77-\uAA79\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDCF\uFDFC-\uFDFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD00-\uDD02\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDC77\uDC78\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEC8\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDD8E\uDD8F\uDEAD\uDED0-\uDED8\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3F]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFD5-\uDFF1\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3F\uDF44\uDF45]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F[\uDC9C\uDC9F]|\uD833[\uDC00-\uDCEF\uDCFA-\uDCFC\uDD00-\uDEB3\uDEBA-\uDED0\uDEE0-\uDEF0\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE8B]|\uD838[\uDD4F\uDEFF]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED8\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDCD0-\uDCD8\uDD00-\uDE57\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF\uDFFA])/,xR=/(?:[\t-\r -\/:-@\[-`\{-~\xA0-\xA9\xAB\xAC\xAE-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u0482\u055A-\u055F\u0589\u058A\u058D-\u058F\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060F\u061B\u061D-\u061F\u066A-\u066D\u06D4\u06DE\u06E9\u06FD\u06FE\u0700-\u070D\u07F6-\u07F9\u07FE\u07FF\u0830-\u083E\u085E\u0888\u0964\u0965\u0970\u09F2\u09F3\u09FA\u09FB\u09FD\u0A76\u0AF0\u0AF1\u0B70\u0BF3-\u0BFA\u0C77\u0C7F\u0C84\u0D4F\u0D79\u0DF4\u0E3F\u0E4F\u0E5A\u0E5B\u0F01-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F85\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u104A-\u104F\u109E\u109F\u10FB\u1360-\u1368\u1390-\u1399\u1400\u166D\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DB\u1800-\u180A\u1940\u1944\u1945\u19DE-\u19FF\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2000-\u200A\u2010-\u2029\u202F-\u205F\u207A-\u207E\u208A-\u208E\u20A0-\u20C1\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2775\u2794-\u2B73\u2B76-\u2BFF\u2CE5-\u2CEA\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u303F\u309B\u309C\u30A0\u30FB\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAA77-\uAA79\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDCF\uFDFC-\uFDFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD00-\uDD02\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDC77\uDC78\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEC8\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDD8E\uDD8F\uDEAD\uDED0-\uDED8\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3F]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFD5-\uDFF1\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3F\uDF44\uDF45]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F[\uDC9C\uDC9F]|\uD833[\uDC00-\uDCEF\uDCFA-\uDCFC\uDD00-\uDEB3\uDEBA-\uDED0\uDEE0-\uDEF0\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE8B]|\uD838[\uDD4F\uDEFF]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED8\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDCD0-\uDCD8\uDD00-\uDE57\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF\uDFFA])/,PR=/(?:[\0-\x08\x0E-\x1F0-9A-Za-z\x7F-\x9F\xAA\xAD\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376-\u037D\u037F-\u0383\u0386\u0388-\u03F5\u03F7-\u0481\u0483-\u0559\u0560-\u0588\u058B\u058C\u0590-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7-\u05F2\u05F5-\u0605\u0610-\u061A\u061C\u0620-\u0669\u066E-\u06D3\u06D5-\u06DD\u06DF-\u06E8\u06EA-\u06FC\u06FF\u070E-\u07F5\u07FA-\u07FD\u0800-\u082F\u083F-\u085D\u085F-\u0887\u0889-\u0963\u0966-\u096F\u0971-\u09F1\u09F4-\u09F9\u09FC\u09FE-\u0A75\u0A77-\u0AEF\u0AF2-\u0B6F\u0B71-\u0BF2\u0BFB-\u0C76\u0C78-\u0C7E\u0C80-\u0C83\u0C85-\u0D4E\u0D50-\u0D78\u0D7A-\u0DF3\u0DF5-\u0E3E\u0E40-\u0E4E\u0E50-\u0E59\u0E5C-\u0F00\u0F18\u0F19\u0F20-\u0F33\u0F35\u0F37\u0F39\u0F3E-\u0F84\u0F86-\u0FBD\u0FC6\u0FCD\u0FDB-\u1049\u1050-\u109D\u10A0-\u10FA\u10FC-\u135F\u1369-\u138F\u139A-\u13FF\u1401-\u166C\u166F-\u167F\u1681-\u169A\u169D-\u16EA\u16EE-\u1734\u1737-\u17D3\u17D7\u17DC-\u17FF\u180B-\u193F\u1941-\u1943\u1946-\u19DD\u1A00-\u1A1D\u1A20-\u1A9F\u1AA7\u1AAE-\u1B4D\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BFB\u1C00-\u1C3A\u1C40-\u1C7D\u1C80-\u1CBF\u1CC8-\u1CD2\u1CD4-\u1FBC\u1FBE\u1FC2-\u1FCC\u1FD0-\u1FDC\u1FE0-\u1FEC\u1FF0-\u1FFC\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u2079\u207F-\u2089\u208F-\u209F\u20C2-\u20FF\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u218C-\u218F\u242A-\u243F\u244B-\u249B\u24EA-\u24FF\u2776-\u2793\u2B74\u2B75\u2C00-\u2CE4\u2CEB-\u2CF8\u2CFD\u2D00-\u2D6F\u2D71-\u2DFF\u2E2F\u2E5E-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3040-\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u318F\u3192-\u3195\u31A0-\u31BF\u31E6-\u31EE\u31F0-\u31FF\u321F-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48F\uA4C7-\uA4FD\uA500-\uA60C\uA610-\uA672\uA674-\uA67D\uA67F-\uA6F1\uA6F8-\uA6FF\uA717-\uA71F\uA722-\uA788\uA78B-\uA827\uA82C-\uA835\uA83A-\uA873\uA878-\uA8CD\uA8D0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA95E\uA960-\uA9C0\uA9CE-\uA9DD\uA9E0-\uAA5B\uAA60-\uAA76\uAA7A-\uAADD\uAAE0-\uAAEF\uAAF2-\uAB5A\uAB5C-\uAB69\uAB6C-\uABEA\uABEC-\uD7FF\uE000-\uFB28\uFB2A-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDD0-\uFDFB\uFE00-\uFE0F\uFE1A-\uFE2F\uFE53\uFE67\uFE6C-\uFEFE\uFF00\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFDF\uFFE7\uFFEF-\uFFFB\uFFFE\uFFFF]|\uD800[\uDC00-\uDCFF\uDD03-\uDD36\uDD40-\uDD78\uDD8A\uDD8B\uDD8F\uDD9D-\uDD9F\uDDA1-\uDDCF\uDDFD-\uDF9E\uDFA0-\uDFCF\uDFD1-\uDFFF]|\uD801[\uDC00-\uDD6E\uDD70-\uDFFF]|\uD802[\uDC00-\uDC56\uDC58-\uDC76\uDC79-\uDD1E\uDD20-\uDD3E\uDD40-\uDE4F\uDE59-\uDE7E\uDE80-\uDEC7\uDEC9-\uDEEF\uDEF7-\uDF38\uDF40-\uDF98\uDF9D-\uDFFF]|\uD803[\uDC00-\uDD6D\uDD6F-\uDD8D\uDD90-\uDEAC\uDEAE-\uDECF\uDED9-\uDF54\uDF5A-\uDF85\uDF8A-\uDFFF]|\uD804[\uDC00-\uDC46\uDC4E-\uDCBA\uDCBD\uDCC2-\uDD3F\uDD44-\uDD73\uDD76-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDDE0-\uDE37\uDE3E-\uDEA8\uDEAA-\uDFD3\uDFD6\uDFD9-\uDFFF]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5C\uDC5E-\uDCC5\uDCC7-\uDDC0\uDDD8-\uDE40\uDE44-\uDE5F\uDE6D-\uDEB8\uDEBA-\uDF3B\uDF40-\uDFFF]|\uD806[\uDC00-\uDC3A\uDC3C-\uDD43\uDD47-\uDDE1\uDDE3-\uDE3E\uDE47-\uDE99\uDE9D\uDEA3-\uDEFF\uDF0A-\uDFE0\uDFE2-\uDFFF]|\uD807[\uDC00-\uDC40\uDC46-\uDC6F\uDC72-\uDEF6\uDEF9-\uDF42\uDF50-\uDFD4\uDFF2-\uDFFE]|[\uD808\uD80A\uD80C-\uD819\uD81C-\uD82E\uD830-\uD832\uD837\uD83F-\uDBFF][\uDC00-\uDFFF]|\uD809[\uDC00-\uDC6F\uDC75-\uDFFF]|\uD80B[\uDC00-\uDFF0\uDFF3-\uDFFF]|\uD81A[\uDC00-\uDE6D\uDE70-\uDEF4\uDEF6-\uDF36\uDF40-\uDF43\uDF46-\uDFFF]|\uD81B[\uDC00-\uDD6C\uDD70-\uDE96\uDE9B-\uDFE1\uDFE3-\uDFFF]|\uD82F[\uDC00-\uDC9B\uDC9D\uDC9E\uDCA0-\uDFFF]|\uD833[\uDCF0-\uDCF9\uDCFD-\uDCFF\uDEB4-\uDEB9\uDED1-\uDEDF\uDEF1-\uDF4F\uDFC4-\uDFFF]|\uD834[\uDCF6-\uDCFF\uDD27\uDD28\uDD65-\uDD69\uDD6D-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDDEB-\uDDFF\uDE42-\uDE44\uDE46-\uDEFF\uDF57-\uDFFF]|\uD835[\uDC00-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE8C-\uDFFF]|\uD838[\uDC00-\uDD4E\uDD50-\uDEFE\uDF00-\uDFFF]|\uD839[\uDC00-\uDDFE\uDE00-\uDFFF]|\uD83A[\uDC00-\uDD5D\uDD60-\uDFFF]|\uD83B[\uDC00-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDD2D\uDD2F-\uDEEF\uDEF2-\uDFFF]|\uD83C[\uDC2C-\uDC2F\uDC94-\uDC9F\uDCAF\uDCB0\uDCC0\uDCD0\uDCF6-\uDD0C\uDDAE-\uDDE5\uDE03-\uDE0F\uDE3C-\uDE3F\uDE49-\uDE4F\uDE52-\uDE5F\uDE66-\uDEFF]|\uD83D[\uDED9-\uDEDB\uDEED-\uDEEF\uDEFD-\uDEFF\uDFDA-\uDFDF\uDFEC-\uDFEF\uDFF1-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE\uDCAF\uDCBC-\uDCBF\uDCC2-\uDCCF\uDCD9-\uDCFF\uDE58-\uDE5F\uDE6E\uDE6F\uDE7D-\uDE7F\uDE8B-\uDE8D\uDEC7\uDEC9-\uDECC\uDEDD\uDEDE\uDEEB-\uDEEE\uDEF9-\uDEFF\uDF93\uDFF0-\uDFF9\uDFFB-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,RR=cR(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,xR).getRegex(),IR=/(?!~)(?:[!-\/:-@\[-`\{-~\xA1-\xA9\xAB\xAC\xAE-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u0482\u055A-\u055F\u0589\u058A\u058D-\u058F\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060F\u061B\u061D-\u061F\u066A-\u066D\u06D4\u06DE\u06E9\u06FD\u06FE\u0700-\u070D\u07F6-\u07F9\u07FE\u07FF\u0830-\u083E\u085E\u0888\u0964\u0965\u0970\u09F2\u09F3\u09FA\u09FB\u09FD\u0A76\u0AF0\u0AF1\u0B70\u0BF3-\u0BFA\u0C77\u0C7F\u0C84\u0D4F\u0D79\u0DF4\u0E3F\u0E4F\u0E5A\u0E5B\u0F01-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F85\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u104A-\u104F\u109E\u109F\u10FB\u1360-\u1368\u1390-\u1399\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DB\u1800-\u180A\u1940\u1944\u1945\u19DE-\u19FF\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2010-\u2027\u2030-\u205E\u207A-\u207E\u208A-\u208E\u20A0-\u20C1\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2775\u2794-\u2B73\u2B76-\u2BFF\u2CE5-\u2CEA\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3001-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u303F\u309B\u309C\u30A0\u30FB\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAA77-\uAA79\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDCF\uFDFC-\uFDFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD00-\uDD02\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDC77\uDC78\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEC8\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDD8E\uDD8F\uDEAD\uDED0-\uDED8\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3F]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFD5-\uDFF1\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3F\uDF44\uDF45]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F[\uDC9C\uDC9F]|\uD833[\uDC00-\uDCEF\uDCFA-\uDCFC\uDD00-\uDEB3\uDEBA-\uDED0\uDEE0-\uDEF0\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE8B]|\uD838[\uDD4F\uDEFF]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED8\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDCD0-\uDCD8\uDD00-\uDE57\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF\uDFFA])/,QR=cR(/link|precode-code|html/,"g").replace("link",Re(/\[(?:[^\[\]`]|(`+)[^`]+\1(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/,{a:1})).replace("precode-",lR?"(?<!`)()":"(^^|[^`])").replace("code",Re(/(`+)[^`]+\1(?!`)/,{b:1})).replace("html",/<(?! )[^<>]*?>/).getRegex(),NR=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,BR=cR(NR,"u").replace(/punct/g,wR).getRegex(),MR=cR(NR,"u").replace(/punct/g,IR).getRegex(),LR="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",$R=cR(LR,"gu").replace(/notPunctSpace/g,PR).replace(/punctSpace/g,xR).replace(/punct/g,wR).getRegex(),UR=cR(LR,"gu").replace(/notPunctSpace/g,/(?:(?:[\0-\x08\x0E-\x1F0-9A-Za-z\x7F-\x9F\xAA\xAD\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376-\u037D\u037F-\u0383\u0386\u0388-\u03F5\u03F7-\u0481\u0483-\u0559\u0560-\u0588\u058B\u058C\u0590-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7-\u05F2\u05F5-\u0605\u0610-\u061A\u061C\u0620-\u0669\u066E-\u06D3\u06D5-\u06DD\u06DF-\u06E8\u06EA-\u06FC\u06FF\u070E-\u07F5\u07FA-\u07FD\u0800-\u082F\u083F-\u085D\u085F-\u0887\u0889-\u0963\u0966-\u096F\u0971-\u09F1\u09F4-\u09F9\u09FC\u09FE-\u0A75\u0A77-\u0AEF\u0AF2-\u0B6F\u0B71-\u0BF2\u0BFB-\u0C76\u0C78-\u0C7E\u0C80-\u0C83\u0C85-\u0D4E\u0D50-\u0D78\u0D7A-\u0DF3\u0DF5-\u0E3E\u0E40-\u0E4E\u0E50-\u0E59\u0E5C-\u0F00\u0F18\u0F19\u0F20-\u0F33\u0F35\u0F37\u0F39\u0F3E-\u0F84\u0F86-\u0FBD\u0FC6\u0FCD\u0FDB-\u1049\u1050-\u109D\u10A0-\u10FA\u10FC-\u135F\u1369-\u138F\u139A-\u13FF\u1401-\u166C\u166F-\u167F\u1681-\u169A\u169D-\u16EA\u16EE-\u1734\u1737-\u17D3\u17D7\u17DC-\u17FF\u180B-\u193F\u1941-\u1943\u1946-\u19DD\u1A00-\u1A1D\u1A20-\u1A9F\u1AA7\u1AAE-\u1B4D\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BFB\u1C00-\u1C3A\u1C40-\u1C7D\u1C80-\u1CBF\u1CC8-\u1CD2\u1CD4-\u1FBC\u1FBE\u1FC2-\u1FCC\u1FD0-\u1FDC\u1FE0-\u1FEC\u1FF0-\u1FFC\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u2079\u207F-\u2089\u208F-\u209F\u20C2-\u20FF\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u218C-\u218F\u242A-\u243F\u244B-\u249B\u24EA-\u24FF\u2776-\u2793\u2B74\u2B75\u2C00-\u2CE4\u2CEB-\u2CF8\u2CFD\u2D00-\u2D6F\u2D71-\u2DFF\u2E2F\u2E5E-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3040-\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u318F\u3192-\u3195\u31A0-\u31BF\u31E6-\u31EE\u31F0-\u31FF\u321F-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48F\uA4C7-\uA4FD\uA500-\uA60C\uA610-\uA672\uA674-\uA67D\uA67F-\uA6F1\uA6F8-\uA6FF\uA717-\uA71F\uA722-\uA788\uA78B-\uA827\uA82C-\uA835\uA83A-\uA873\uA878-\uA8CD\uA8D0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA95E\uA960-\uA9C0\uA9CE-\uA9DD\uA9E0-\uAA5B\uAA60-\uAA76\uAA7A-\uAADD\uAAE0-\uAAEF\uAAF2-\uAB5A\uAB5C-\uAB69\uAB6C-\uABEA\uABEC-\uD7FF\uE000-\uFB28\uFB2A-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDD0-\uFDFB\uFE00-\uFE0F\uFE1A-\uFE2F\uFE53\uFE67\uFE6C-\uFEFE\uFF00\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFDF\uFFE7\uFFEF-\uFFFB\uFFFE\uFFFF]|\uD800[\uDC00-\uDCFF\uDD03-\uDD36\uDD40-\uDD78\uDD8A\uDD8B\uDD8F\uDD9D-\uDD9F\uDDA1-\uDDCF\uDDFD-\uDF9E\uDFA0-\uDFCF\uDFD1-\uDFFF]|\uD801[\uDC00-\uDD6E\uDD70-\uDFFF]|\uD802[\uDC00-\uDC56\uDC58-\uDC76\uDC79-\uDD1E\uDD20-\uDD3E\uDD40-\uDE4F\uDE59-\uDE7E\uDE80-\uDEC7\uDEC9-\uDEEF\uDEF7-\uDF38\uDF40-\uDF98\uDF9D-\uDFFF]|\uD803[\uDC00-\uDD6D\uDD6F-\uDD8D\uDD90-\uDEAC\uDEAE-\uDECF\uDED9-\uDF54\uDF5A-\uDF85\uDF8A-\uDFFF]|\uD804[\uDC00-\uDC46\uDC4E-\uDCBA\uDCBD\uDCC2-\uDD3F\uDD44-\uDD73\uDD76-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDDE0-\uDE37\uDE3E-\uDEA8\uDEAA-\uDFD3\uDFD6\uDFD9-\uDFFF]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5C\uDC5E-\uDCC5\uDCC7-\uDDC0\uDDD8-\uDE40\uDE44-\uDE5F\uDE6D-\uDEB8\uDEBA-\uDF3B\uDF40-\uDFFF]|\uD806[\uDC00-\uDC3A\uDC3C-\uDD43\uDD47-\uDDE1\uDDE3-\uDE3E\uDE47-\uDE99\uDE9D\uDEA3-\uDEFF\uDF0A-\uDFE0\uDFE2-\uDFFF]|\uD807[\uDC00-\uDC40\uDC46-\uDC6F\uDC72-\uDEF6\uDEF9-\uDF42\uDF50-\uDFD4\uDFF2-\uDFFE]|[\uD808\uD80A\uD80C-\uD819\uD81C-\uD82E\uD830-\uD832\uD837\uD83F-\uDBFF][\uDC00-\uDFFF]|\uD809[\uDC00-\uDC6F\uDC75-\uDFFF]|\uD80B[\uDC00-\uDFF0\uDFF3-\uDFFF]|\uD81A[\uDC00-\uDE6D\uDE70-\uDEF4\uDEF6-\uDF36\uDF40-\uDF43\uDF46-\uDFFF]|\uD81B[\uDC00-\uDD6C\uDD70-\uDE96\uDE9B-\uDFE1\uDFE3-\uDFFF]|\uD82F[\uDC00-\uDC9B\uDC9D\uDC9E\uDCA0-\uDFFF]|\uD833[\uDCF0-\uDCF9\uDCFD-\uDCFF\uDEB4-\uDEB9\uDED1-\uDEDF\uDEF1-\uDF4F\uDFC4-\uDFFF]|\uD834[\uDCF6-\uDCFF\uDD27\uDD28\uDD65-\uDD69\uDD6D-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDDEB-\uDDFF\uDE42-\uDE44\uDE46-\uDEFF\uDF57-\uDFFF]|\uD835[\uDC00-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE8C-\uDFFF]|\uD838[\uDC00-\uDD4E\uDD50-\uDEFE\uDF00-\uDFFF]|\uD839[\uDC00-\uDDFE\uDE00-\uDFFF]|\uD83A[\uDC00-\uDD5D\uDD60-\uDFFF]|\uD83B[\uDC00-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDD2D\uDD2F-\uDEEF\uDEF2-\uDFFF]|\uD83C[\uDC2C-\uDC2F\uDC94-\uDC9F\uDCAF\uDCB0\uDCC0\uDCD0\uDCF6-\uDD0C\uDDAE-\uDDE5\uDE03-\uDE0F\uDE3C-\uDE3F\uDE49-\uDE4F\uDE52-\uDE5F\uDE66-\uDEFF]|\uD83D[\uDED9-\uDEDB\uDEED-\uDEEF\uDEFD-\uDEFF\uDFDA-\uDFDF\uDFEC-\uDFEF\uDFF1-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE\uDCAF\uDCBC-\uDCBF\uDCC2-\uDCCF\uDCD9-\uDCFF\uDE58-\uDE5F\uDE6E\uDE6F\uDE7D-\uDE7F\uDE8B-\uDE8D\uDEC7\uDEC9-\uDECC\uDEDD\uDEDE\uDEEB-\uDEEE\uDEF9-\uDEFF\uDF93\uDFF0-\uDFF9\uDFFB-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])|~)/).replace(/punctSpace/g,/(?!~)(?:[\t-\r -\/:-@\[-`\{-~\xA0-\xA9\xAB\xAC\xAE-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u0482\u055A-\u055F\u0589\u058A\u058D-\u058F\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060F\u061B\u061D-\u061F\u066A-\u066D\u06D4\u06DE\u06E9\u06FD\u06FE\u0700-\u070D\u07F6-\u07F9\u07FE\u07FF\u0830-\u083E\u085E\u0888\u0964\u0965\u0970\u09F2\u09F3\u09FA\u09FB\u09FD\u0A76\u0AF0\u0AF1\u0B70\u0BF3-\u0BFA\u0C77\u0C7F\u0C84\u0D4F\u0D79\u0DF4\u0E3F\u0E4F\u0E5A\u0E5B\u0F01-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F85\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u104A-\u104F\u109E\u109F\u10FB\u1360-\u1368\u1390-\u1399\u1400\u166D\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DB\u1800-\u180A\u1940\u1944\u1945\u19DE-\u19FF\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2000-\u200A\u2010-\u2029\u202F-\u205F\u207A-\u207E\u208A-\u208E\u20A0-\u20C1\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2775\u2794-\u2B73\u2B76-\u2BFF\u2CE5-\u2CEA\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u303F\u309B\u309C\u30A0\u30FB\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAA77-\uAA79\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDCF\uFDFC-\uFDFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD00-\uDD02\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDC77\uDC78\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEC8\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDD8E\uDD8F\uDEAD\uDED0-\uDED8\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3F]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFD5-\uDFF1\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3F\uDF44\uDF45]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F[\uDC9C\uDC9F]|\uD833[\uDC00-\uDCEF\uDCFA-\uDCFC\uDD00-\uDEB3\uDEBA-\uDED0\uDEE0-\uDEF0\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE8B]|\uD838[\uDD4F\uDEFF]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED8\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDCD0-\uDCD8\uDD00-\uDE57\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF\uDFFA])/).replace(/punct/g,IR).getRegex(),qR=cR("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,PR).replace(/punctSpace/g,xR).replace(/punct/g,wR).getRegex(),XR=cR(/\\(punct)/,"gu").replace(/punct/g,wR).getRegex(),zR=cR(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),ZR=cR(bR).replace("(?:--\x3e|$)","--\x3e").getRegex(),jR=cR("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",ZR).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),WR=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,GR=cR(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",WR).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),VR=cR(/^!?\[(label)\]\[(ref)\]/).replace("label",WR).replace("ref",DR).getRegex(),YR=cR(/^!?\[(ref)\](?:\[\])?/).replace("ref",DR).getRegex(),HR=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,KR={_backpedal:uR,anyPunctuation:XR,autolink:zR,blockSkip:QR,br:FR,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:uR,emStrongLDelim:BR,emStrongRDelimAst:$R,emStrongRDelimUnd:qR,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:GR,nolink:YR,punctuation:RR,reflink:VR,reflinkSearch:cR("reflink|nolink(?!\\()","g").replace("reflink",VR).replace("nolink",YR).getRegex(),tag:jR,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:uR},JR=Be(Be({},KR),{},{link:cR(/^!?\[(label)\]\((.*?)\)/).replace("label",WR).getRegex(),reflink:cR(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",WR).getRegex()}),eI=Be(Be({},KR),{},{emStrongRDelimAst:UR,emStrongLDelim:MR,url:cR(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",HR).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:cR(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",HR).getRegex()}),tI=Be(Be({},eI),{},{br:cR(FR).replace("{2,}","*").getRegex(),text:cR(eI.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),nI={normal:TR,gfm:SR,pedantic:_R},iI={normal:KR,gfm:eI,breaks:tI,pedantic:JR},rI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},oI=e=>rI[e];function aI(e,t){if(t){if(dR.escapeTest.test(e))return e.replace(dR.escapeReplace,oI)}else if(dR.escapeTestNoEncode.test(e))return e.replace(dR.escapeReplaceNoEncode,oI);return e}function sI(e){try{e=encodeURI(e).replace(dR.percentDecode,"%")}catch(e){return null}return e}function uI(e,t){var n;let i=e.replace(dR.findPipe,(e,t,n)=>{let i=!1,r=t;for(;--r>=0&&"\\"===n[r];)i=!i;return i?"|":" |"}).split(dR.splitPipe),r=0;if(i[0].trim()||i.shift(),i.length>0&&!(null!=(n=i.at(-1))&&n.trim())&&i.pop(),t)if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(dR.slashPipe,"|");return i}function cI(e,t,n){let i=e.length;if(0===i)return"";let r=0;for(;r<i&&e.charAt(i-r-1)===t;)r++;return e.slice(0,i-r)}function lI(e,t,n,i,r){let o=t.href,a=t.title||null,s=e[1].replace(r.other.outputLinkReplace,"$1");i.state.inLink=!0;let u={type:"!"===e[0].charAt(0)?"image":"link",raw:n,href:o,title:a,text:s,tokens:i.inlineTokens(s)};return i.state.inLink=!1,u}var dI,hI=class{constructor(e){Je(this,"options"),Je(this,"rules"),Je(this,"lexer"),this.options=e||aR}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let e=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:cI(e,"\n")}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let e=t[0],n=function(e,t,n){let i=e.match(n.other.indentCodeCompensation);if(null===i)return t;let r=i[1];return t.split("\n").map(e=>{let t=e.match(n.other.beginningSpace);if(null===t)return e;let[i]=t;return i.length>=r.length?e.slice(r.length):e}).join("\n")}(e,t[3]||"",this.rules);return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(this.rules.other.endingHash.test(e)){let t=cI(e,"#");(this.options.pedantic||!t||this.rules.other.endingSpaceChar.test(t))&&(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:cI(t[0],"\n")}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let e=cI(t[0],"\n").split("\n"),n="",i="",r=[];for(;e.length>0;){let t,o=!1,a=[];for(t=0;t<e.length;t++)if(this.rules.other.blockquoteStart.test(e[t]))a.push(e[t]),o=!0;else{if(o)break;a.push(e[t])}e=e.slice(t);let s=a.join("\n"),u=s.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");n=n?"".concat(n,"\n").concat(s):s,i=i?"".concat(i,"\n").concat(u):u;let c=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,r,!0),this.lexer.state.top=c,0===e.length)break;let l=r.at(-1);if("code"===(null==l?void 0:l.type))break;if("blockquote"===(null==l?void 0:l.type)){let t=l,o=t.raw+"\n"+e.join("\n"),a=this.blockquote(o);r[r.length-1]=a,n=n.substring(0,n.length-t.raw.length)+a.raw,i=i.substring(0,i.length-t.text.length)+a.text;break}if("list"===(null==l?void 0:l.type)){let t=l,o=t.raw+"\n"+e.join("\n"),a=this.list(o);r[r.length-1]=a,n=n.substring(0,n.length-l.raw.length)+a.raw,i=i.substring(0,i.length-t.raw.length)+a.raw,e=o.substring(r.at(-1).raw.length).split("\n");continue}}return{type:"blockquote",raw:n,tokens:r,text:i}}}list(e){var t,n;let i=this.rules.block.list.exec(e);if(i){let r=i[1].trim(),o=r.length>1,a={type:"list",raw:"",ordered:o,start:o?+r.slice(0,-1):"",loose:!1,items:[]};r=o?"\\d{1,9}\\".concat(r.slice(-1)):"\\".concat(r),this.options.pedantic&&(r=o?r:"[*+-]");let s=this.rules.other.listItemRegex(r),u=!1;for(;e;){let t=!1,n="",r="";if(!(i=s.exec(e))||this.rules.block.hr.test(e))break;n=i[0],e=e.substring(n.length);let o=i[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,e=>" ".repeat(3*e.length)),c=e.split("\n",1)[0],l=!o.trim(),d=0;if(this.options.pedantic?(d=2,r=o.trimStart()):l?d=i[1].length+1:(d=i[2].search(this.rules.other.nonSpaceChar),d=d>4?1:d,r=o.slice(d),d+=i[1].length),l&&this.rules.other.blankLine.test(c)&&(n+=c+"\n",e=e.substring(c.length+1),t=!0),!t){let t=this.rules.other.nextBulletRegex(d),i=this.rules.other.hrRegex(d),a=this.rules.other.fencesBeginRegex(d),s=this.rules.other.headingBeginRegex(d),u=this.rules.other.htmlBeginRegex(d);for(;e;){let h,p=e.split("\n",1)[0];if(c=p,this.options.pedantic?(c=c.replace(this.rules.other.listReplaceNesting,"  "),h=c):h=c.replace(this.rules.other.tabCharGlobal,"    "),a.test(c)||s.test(c)||u.test(c)||t.test(c)||i.test(c))break;if(h.search(this.rules.other.nonSpaceChar)>=d||!c.trim())r+="\n"+h.slice(d);else{if(l||o.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||a.test(o)||s.test(o)||i.test(o))break;r+="\n"+c}!l&&!c.trim()&&(l=!0),n+=p+"\n",e=e.substring(p.length+1),o=h.slice(d)}}a.loose||(u?a.loose=!0:this.rules.other.doubleBlankLine.test(n)&&(u=!0)),a.items.push({type:"list_item",raw:n,task:!!this.options.gfm&&this.rules.other.listIsTask.test(r),loose:!1,text:r,tokens:[]}),a.raw+=n}let c=a.items.at(-1);if(!c)return;c.raw=c.raw.trimEnd(),c.text=c.text.trimEnd(),a.raw=a.raw.trimEnd();for(let e of a.items){if(this.lexer.state.top=!1,e.tokens=this.lexer.blockTokens(e.text,[]),e.task){if(e.text=e.text.replace(this.rules.other.listReplaceTask,""),"text"===(null==(t=e.tokens[0])?void 0:t.type)||"paragraph"===(null==(n=e.tokens[0])?void 0:n.type)){e.tokens[0].raw=e.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),e.tokens[0].text=e.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let e=this.lexer.inlineQueue.length-1;e>=0;e--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[e].src)){this.lexer.inlineQueue[e].src=this.lexer.inlineQueue[e].src.replace(this.rules.other.listReplaceTask,"");break}}let i=this.rules.other.listTaskCheckbox.exec(e.raw);if(i){let t={type:"checkbox",raw:i[0]+" ",checked:"[ ]"!==i[0]};e.checked=t.checked,a.loose?e.tokens[0]&&["paragraph","text"].includes(e.tokens[0].type)&&"tokens"in e.tokens[0]&&e.tokens[0].tokens?(e.tokens[0].raw=t.raw+e.tokens[0].raw,e.tokens[0].text=t.raw+e.tokens[0].text,e.tokens[0].tokens.unshift(t)):e.tokens.unshift({type:"paragraph",raw:t.raw,text:t.raw,tokens:[t]}):e.tokens.unshift(t)}}if(!a.loose){let t=e.tokens.filter(e=>"space"===e.type),n=t.length>0&&t.some(e=>this.rules.other.anyLine.test(e.raw));a.loose=n}}if(a.loose)for(let e of a.items){e.loose=!0;for(let t of e.tokens)"text"===t.type&&(t.type="paragraph")}return a}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let e=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:i}}}table(e){var t;let n=this.rules.block.table.exec(e);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;let i=uI(n[1]),r=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=null!=(t=n[3])&&t.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],a={type:"table",raw:n[0],header:[],align:[],rows:[]};if(i.length===r.length){for(let e of r)this.rules.other.tableAlignRight.test(e)?a.align.push("right"):this.rules.other.tableAlignCenter.test(e)?a.align.push("center"):this.rules.other.tableAlignLeft.test(e)?a.align.push("left"):a.align.push(null);for(let e=0;e<i.length;e++)a.header.push({text:i[e],tokens:this.lexer.inline(i[e]),header:!0,align:a.align[e]});for(let e of o)a.rows.push(uI(e,a.header.length).map((e,t)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:a.align[t]})));return a}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let e=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(e)){if(!this.rules.other.endAngleBracket.test(e))return;let t=cI(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{let e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let i=0;i<e.length;i++)if("\\"===e[i])i++;else if(e[i]===t[0])n++;else if(e[i]===t[1]&&(n--,n<0))return i;return n>0?-2:-1}(t[2],"()");if(-2===e)return;if(e>-1){let n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],i="";if(this.options.pedantic){let e=this.rules.other.pedanticHrefTitle.exec(n);e&&(n=e[1],i=e[3])}else i=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(n=this.options.pedantic&&!this.rules.other.endAngleBracket.test(e)?n.slice(1):n.slice(1,-1)),lI(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=t[(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!e){let e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return lI(n,e,n[0],this.lexer,this.rules)}}emStrong(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=this.rules.inline.emStrongLDelim.exec(e);if(!(!i||i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!i[1]&&!i[2]||!n||this.rules.inline.punctuation.exec(n))){let n,r,o=[...i[0]].length-1,a=o,s=0,u="*"===i[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,t=t.slice(-1*e.length+o);null!=(i=u.exec(t));){if(n=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!n)continue;if(r=[...n].length,i[3]||i[4]){a+=r;continue}if((i[5]||i[6])&&o%3&&!((o+r)%3)){s+=r;continue}if(a-=r,a>0)continue;r=Math.min(r,r+a+s);let t=[...i[0]][0].length,u=e.slice(0,o+i.index+t+r);if(Math.min(o,r)%2){let e=u.slice(1,-1);return{type:"em",raw:u,text:e,tokens:this.lexer.inlineTokens(e)}}let c=u.slice(2,-2);return{type:"strong",raw:u,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(e),i=this.rules.other.startingSpaceChar.test(e)&&this.rules.other.endingSpaceChar.test(e);return n&&i&&(e=e.substring(1,e.length-1)),{type:"codespan",raw:t[0],text:e}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=t[1],n="mailto:"+e):(e=t[1],n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){var t;let n;if(n=this.rules.inline.url.exec(e)){let e,r;if("@"===n[2])e=n[0],r="mailto:"+e;else{let o;do{var i;o=n[0],n[0]=null!==(i=null==(t=this.rules.inline._backpedal.exec(n[0]))?void 0:t[0])&&void 0!==i?i:""}while(o!==n[0]);e=n[0],r="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let e=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:e}}}},pI=class e{constructor(e){Je(this,"tokens"),Je(this,"options"),Je(this,"state"),Je(this,"inlineQueue"),Je(this,"tokenizer"),this.tokens=[],this.tokens.links=Object.create(null),this.options=e||aR,this.options.tokenizer=this.options.tokenizer||new hI,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:dR,block:nI.normal,inline:iI.normal};this.options.pedantic?(t.block=nI.pedantic,t.inline=iI.pedantic):this.options.gfm&&(t.block=nI.gfm,this.options.breaks?t.inline=iI.breaks:t.inline=iI.gfm),this.tokenizer.rules=t}static get rules(){return{block:nI,inline:iI}}static lex(t,n){return new e(n).lex(t)}static lexInline(t,n){return new e(n).inlineTokens(t)}lex(e){e=e.replace(dR.carriageReturn,"\n"),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){let t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var i,r,o;for(this.options.pedantic&&(e=e.replace(dR.tabCharGlobal,"    ").replace(dR.spaceLine,""));e;){let a;if(null!=(r=null==(i=this.options.extensions)?void 0:i.block)&&r.some(n=>!!(a=n.call({lexer:this},e,t))&&(e=e.substring(a.raw.length),t.push(a),!0)))continue;if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length);let n=t.at(-1);1===a.raw.length&&void 0!==n?n.raw+="\n":t.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length);let n=t.at(-1);"paragraph"===(null==n?void 0:n.type)||"text"===(null==n?void 0:n.type)?(n.raw+=(n.raw.endsWith("\n")?"":"\n")+a.raw,n.text+="\n"+a.text,this.inlineQueue.at(-1).src=n.text):t.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length);let n=t.at(-1);"paragraph"===(null==n?void 0:n.type)||"text"===(null==n?void 0:n.type)?(n.raw+=(n.raw.endsWith("\n")?"":"\n")+a.raw,n.text+="\n"+a.raw,this.inlineQueue.at(-1).src=n.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title},t.push(a));continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),t.push(a);continue}let s=e;if(null!=(o=this.options.extensions)&&o.startBlock){let t,n=1/0,i=e.slice(1);this.options.extensions.startBlock.forEach(e=>{t=e.call({lexer:this},i),"number"==typeof t&&t>=0&&(n=Math.min(n,t))}),n<1/0&&n>=0&&(s=e.substring(0,n+1))}if(this.state.top&&(a=this.tokenizer.paragraph(s))){let i=t.at(-1);n&&"paragraph"===(null==i?void 0:i.type)?(i.raw+=(i.raw.endsWith("\n")?"":"\n")+a.raw,i.text+="\n"+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):t.push(a),n=s.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length);let n=t.at(-1);"text"===(null==n?void 0:n.type)?(n.raw+=(n.raw.endsWith("\n")?"":"\n")+a.raw,n.text+="\n"+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=n.text):t.push(a);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var i,r,o,a,s;let u,c=e,l=null;if(this.tokens.links){let e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(l=this.tokenizer.rules.inline.reflinkSearch.exec(c));)e.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(l=this.tokenizer.rules.inline.anyPunctuation.exec(c));)c=c.slice(0,l.index)+"++"+c.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(l=this.tokenizer.rules.inline.blockSkip.exec(c));)u=l[2]?l[2].length:0,c=c.slice(0,l.index+u)+"["+"a".repeat(l[0].length-u-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);c=null!==(t=null==(r=null==(i=this.options.hooks)?void 0:i.emStrongMask)?void 0:r.call({lexer:this},c))&&void 0!==t?t:c;let d=!1,h="";for(;e;){let t;if(d||(h=""),d=!1,null!=(a=null==(o=this.options.extensions)?void 0:o.inline)&&a.some(i=>!!(t=i.call({lexer:this},e,n))&&(e=e.substring(t.raw.length),n.push(t),!0)))continue;if(t=this.tokenizer.escape(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.tag(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.link(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(t.raw.length);let i=n.at(-1);"text"===t.type&&"text"===(null==i?void 0:i.type)?(i.raw+=t.raw,i.text+=t.text):n.push(t);continue}if(t=this.tokenizer.emStrong(e,c,h)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.codespan(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.br(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.del(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.autolink(e)){e=e.substring(t.raw.length),n.push(t);continue}if(!this.state.inLink&&(t=this.tokenizer.url(e))){e=e.substring(t.raw.length),n.push(t);continue}let i=e;if(null!=(s=this.options.extensions)&&s.startInline){let t,n=1/0,r=e.slice(1);this.options.extensions.startInline.forEach(e=>{t=e.call({lexer:this},r),"number"==typeof t&&t>=0&&(n=Math.min(n,t))}),n<1/0&&n>=0&&(i=e.substring(0,n+1))}if(t=this.tokenizer.inlineText(i)){e=e.substring(t.raw.length),"_"!==t.raw.slice(-1)&&(h=t.raw.slice(-1)),d=!0;let i=n.at(-1);"text"===(null==i?void 0:i.type)?(i.raw+=t.raw,i.text+=t.text):n.push(t);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return n}},fI=class{constructor(e){Je(this,"options"),Je(this,"parser"),this.options=e||aR}space(e){return""}code(e){let{text:t,lang:n,escaped:i}=e;var r;let o=null==(r=(n||"").match(dR.notSpaceStart))?void 0:r[0],a=t.replace(dR.endingNewline,"")+"\n";return o?'<pre><code class="language-'+aI(o)+'">'+(i?a:aI(a,!0))+"</code></pre>\n":"<pre><code>"+(i?a:aI(a,!0))+"</code></pre>\n"}blockquote(e){let{tokens:t}=e;return"<blockquote>\n".concat(this.parser.parse(t),"</blockquote>\n")}html(e){let{text:t}=e;return t}def(e){return""}heading(e){let{tokens:t,depth:n}=e;return"<h".concat(n,">").concat(this.parser.parseInline(t),"</h").concat(n,">\n")}hr(e){return"<hr>\n"}list(e){let t=e.ordered,n=e.start,i="";for(let t=0;t<e.items.length;t++){let n=e.items[t];i+=this.listitem(n)}let r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+i+"</"+r+">\n"}listitem(e){return"<li>".concat(this.parser.parse(e.tokens),"</li>\n")}checkbox(e){let{checked:t}=e;return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph(e){let{tokens:t}=e;return"<p>".concat(this.parser.parseInline(t),"</p>\n")}table(e){let t="",n="";for(let t=0;t<e.header.length;t++)n+=this.tablecell(e.header[t]);t+=this.tablerow({text:n});let i="";for(let t=0;t<e.rows.length;t++){let r=e.rows[t];n="";for(let e=0;e<r.length;e++)n+=this.tablecell(r[e]);i+=this.tablerow({text:n})}return i&&(i="<tbody>".concat(i,"</tbody>")),"<table>\n<thead>\n"+t+"</thead>\n"+i+"</table>\n"}tablerow(e){let{text:t}=e;return"<tr>\n".concat(t,"</tr>\n")}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?"<".concat(n,' align="').concat(e.align,'">'):"<".concat(n,">"))+t+"</".concat(n,">\n")}strong(e){let{tokens:t}=e;return"<strong>".concat(this.parser.parseInline(t),"</strong>")}em(e){let{tokens:t}=e;return"<em>".concat(this.parser.parseInline(t),"</em>")}codespan(e){let{text:t}=e;return"<code>".concat(aI(t,!0),"</code>")}br(e){return"<br>"}del(e){let{tokens:t}=e;return"<del>".concat(this.parser.parseInline(t),"</del>")}link(e){let{href:t,title:n,tokens:i}=e,r=this.parser.parseInline(i),o=sI(t);if(null===o)return r;t=o;let a='<a href="'+t+'"';return n&&(a+=' title="'+aI(n)+'"'),a+=">"+r+"</a>",a}image(e){let{href:t,title:n,text:i,tokens:r}=e;r&&(i=this.parser.parseInline(r,this.parser.textRenderer));let o=sI(t);if(null===o)return aI(i);t=o;let a='<img src="'.concat(t,'" alt="').concat(i,'"');return n&&(a+=' title="'.concat(aI(n),'"')),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:aI(e.text)}},mI=class{strong(e){let{text:t}=e;return t}em(e){let{text:t}=e;return t}codespan(e){let{text:t}=e;return t}del(e){let{text:t}=e;return t}html(e){let{text:t}=e;return t}text(e){let{text:t}=e;return t}link(e){let{text:t}=e;return""+t}image(e){let{text:t}=e;return""+t}br(){return""}checkbox(e){let{raw:t}=e;return t}},OI=class e{constructor(e){Je(this,"options"),Je(this,"renderer"),Je(this,"textRenderer"),this.options=e||aR,this.options.renderer=this.options.renderer||new fI,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new mI}static parse(t,n){return new e(n).parse(t)}static parseInline(t,n){return new e(n).parseInline(t)}parse(e){var t,n;let i="";for(let r=0;r<e.length;r++){let o=e[r];if(null!=(n=null==(t=this.options.extensions)?void 0:t.renderers)&&n[o.type]){let e=o,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(e.type)){i+=t||"";continue}}let a=o;switch(a.type){case"space":i+=this.renderer.space(a);break;case"hr":i+=this.renderer.hr(a);break;case"heading":i+=this.renderer.heading(a);break;case"code":i+=this.renderer.code(a);break;case"table":i+=this.renderer.table(a);break;case"blockquote":i+=this.renderer.blockquote(a);break;case"list":i+=this.renderer.list(a);break;case"checkbox":i+=this.renderer.checkbox(a);break;case"html":i+=this.renderer.html(a);break;case"def":i+=this.renderer.def(a);break;case"paragraph":i+=this.renderer.paragraph(a);break;case"text":i+=this.renderer.text(a);break;default:{let e='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return i}parseInline(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.renderer;var n,i;let r="";for(let o=0;o<e.length;o++){let a=e[o];if(null!=(i=null==(n=this.options.extensions)?void 0:n.renderers)&&i[a.type]){let e=this.options.extensions.renderers[a.type].call({parser:this},a);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){r+=e||"";continue}}let s=a;switch(s.type){case"escape":case"text":r+=t.text(s);break;case"html":r+=t.html(s);break;case"link":r+=t.link(s);break;case"image":r+=t.image(s);break;case"checkbox":r+=t.checkbox(s);break;case"strong":r+=t.strong(s);break;case"em":r+=t.em(s);break;case"codespan":r+=t.codespan(s);break;case"br":r+=t.br(s);break;case"del":r+=t.del(s);break;default:{let e='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return r}},gI=(dI=class{constructor(e){Je(this,"options"),Je(this,"block"),this.options=e||aR}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?pI.lex:pI.lexInline}provideParser(){return this.block?OI.parse:OI.parseInline}},Je(dI,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),Je(dI,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),dI),DI=new class{constructor(){Je(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),Je(this,"options",this.setOptions),Je(this,"parse",this.parseMarkdown(!0)),Je(this,"parseInline",this.parseMarkdown(!1)),Je(this,"Parser",OI),Je(this,"Renderer",fI),Je(this,"TextRenderer",mI),Je(this,"Lexer",pI),Je(this,"Tokenizer",hI),Je(this,"Hooks",gI),this.use(...arguments)}walkTokens(e,t){var n,i;let r=[];for(let o of e)switch(r=r.concat(t.call(this,o)),o.type){case"table":{let e=o;for(let n of e.header)r=r.concat(this.walkTokens(n.tokens,t));for(let n of e.rows)for(let e of n)r=r.concat(this.walkTokens(e.tokens,t));break}case"list":{let e=o;r=r.concat(this.walkTokens(e.items,t));break}default:{let e=o;null!=(i=null==(n=this.defaults.extensions)?void 0:n.childTokens)&&i[e.type]?this.defaults.extensions.childTokens[e.type].forEach(n=>{let i=e[n].flat(1/0);r=r.concat(this.walkTokens(i,t))}):e.tokens&&(r=r.concat(this.walkTokens(e.tokens,t)))}}return r}use(){var e=this;let t=this.defaults.extensions||{renderers:{},childTokens:{}};for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return i.forEach(n=>{let i=Be({},n);if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){let n=t.renderers[e.name];t.renderers[e.name]=n?function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];let o=e.renderer.apply(this,i);return!1===o&&(o=n.apply(this,i)),o}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");let n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)}),i.extensions=t),n.renderer){let e=this.defaults.renderer||new fI(this.defaults);for(let t in n.renderer){if(!(t in e))throw new Error("renderer '".concat(t,"' does not exist"));if(["options","parser"].includes(t))continue;let i=t,r=n.renderer[i],o=e[i];e[i]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];let a=r.apply(e,n);return!1===a&&(a=o.apply(e,n)),a||""}}i.renderer=e}if(n.tokenizer){let e=this.defaults.tokenizer||new hI(this.defaults);for(let t in n.tokenizer){if(!(t in e))throw new Error("tokenizer '".concat(t,"' does not exist"));if(["options","rules","lexer"].includes(t))continue;let i=t,r=n.tokenizer[i],o=e[i];e[i]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];let a=r.apply(e,n);return!1===a&&(a=o.apply(e,n)),a}}i.tokenizer=e}if(n.hooks){let t=this.defaults.hooks||new gI;for(let i in n.hooks){if(!(i in t))throw new Error("hook '".concat(i,"' does not exist"));if(["options","block"].includes(i))continue;let r=i,o=n.hooks[r],a=t[r];gI.passThroughHooks.has(i)?t[r]=e=>{if(this.defaults.async&&gI.passThroughHooksRespectAsync.has(i))return(async()=>{let n=await o.call(t,e);return a.call(t,n)})();let n=o.call(t,e);return a.call(t,n)}:t[r]=function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];if(e.defaults.async)return(async()=>{let e=await o.apply(t,i);return!1===e&&(e=await a.apply(t,i)),e})();let s=o.apply(t,i);return!1===s&&(s=a.apply(t,i)),s}}i.hooks=t}if(n.walkTokens){let e=this.defaults.walkTokens,t=n.walkTokens;i.walkTokens=function(n){let i=[];return i.push(t.call(this,n)),e&&(i=i.concat(e.call(this,n))),i}}this.defaults=Be(Be({},this.defaults),i)}),this}setOptions(e){return this.defaults=Be(Be({},this.defaults),e),this}lexer(e,t){return pI.lex(e,null!=t?t:this.defaults)}parser(e,t){return OI.parse(e,null!=t?t:this.defaults)}parseMarkdown(e){return(t,n)=>{let i=Be({},n),r=Be(Be({},this.defaults),i),o=this.onError(!!r.silent,!!r.async);if(!0===this.defaults.async&&!1===i.async)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||null===t)return o(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(r.hooks&&(r.hooks.options=r,r.hooks.block=e),r.async)return(async()=>{let n=r.hooks?await r.hooks.preprocess(t):t,i=await(r.hooks?await r.hooks.provideLexer():e?pI.lex:pI.lexInline)(n,r),o=r.hooks?await r.hooks.processAllTokens(i):i;r.walkTokens&&await Promise.all(this.walkTokens(o,r.walkTokens));let a=await(r.hooks?await r.hooks.provideParser():e?OI.parse:OI.parseInline)(o,r);return r.hooks?await r.hooks.postprocess(a):a})().catch(o);try{r.hooks&&(t=r.hooks.preprocess(t));let n=(r.hooks?r.hooks.provideLexer():e?pI.lex:pI.lexInline)(t,r);r.hooks&&(n=r.hooks.processAllTokens(n)),r.walkTokens&&this.walkTokens(n,r.walkTokens);let i=(r.hooks?r.hooks.provideParser():e?OI.parse:OI.parseInline)(n,r);return r.hooks&&(i=r.hooks.postprocess(i)),i}catch(e){return o(e)}}}onError(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){let e="<p>An error occurred:</p><pre>"+aI(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}};function vI(e,t){return DI.parse(e,t)}vI.options=vI.setOptions=function(e){return DI.setOptions(e),vI.defaults=DI.defaults,sR(vI.defaults),vI},vI.getDefaults=function(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},vI.defaults=aR,vI.use=function(){return DI.use(...arguments),vI.defaults=DI.defaults,sR(vI.defaults),vI},vI.walkTokens=function(e,t){return DI.walkTokens(e,t)},vI.parseInline=DI.parseInline,vI.Parser=OI,vI.parser=OI.parse,vI.Renderer=fI,vI.TextRenderer=mI,vI.Lexer=pI,vI.lexer=pI.lex,vI.Tokenizer=hI,vI.Hooks=gI,vI.parse=vI,vI.options,vI.setOptions,vI.use,vI.walkTokens,vI.parseInline,OI.parse,pI.lex;const EI=/\[\^[^\]\s]{1,200}\](?!:)/,CI=/\[\^[^\]\s]{1,200}\]:/,bI=/<\/(\w+)>/,kI=/<(\w+)[\s>]/,yI=e=>{let t=0;for(;t<e.length&&(" "===e[t]||"\t"===e[t]||"\n"===e[t]||"\r"===e[t]);)t+=1;return t+1<e.length&&"$"===e[t]&&"$"===e[t+1]},TI=e=>{let t=e.length-1;for(;t>=0&&(" "===e[t]||"\t"===e[t]||"\n"===e[t]||"\r"===e[t]);)t-=1;return t>=1&&"$"===e[t]&&"$"===e[t-1]},AI=e=>{let t=0;for(let n=0;n<e.length-1;n+=1)"$"===e[n]&&"$"===e[n+1]&&(t+=1,n+=1);return t},SI=/(\*\*)([^*]*?)$/,_I=/(__)([^_]*?)$/,FI=/(\*\*\*)([^*]*?)$/,wI=/(\*)([^*]*?)$/,xI=/(_)([^_]*?)$/,PI=/(`)([^`]*?)$/,RI=/(~~)([^~]*?)$/,II=/^[\s_~*`]*$/,QI=/^[\s]*[-*+][\s]+$/,NI=/(?:[0-9A-Z_a-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088F\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5C\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDC-\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDD40-\uDD65\uDD6F-\uDD85\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC7\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDDB0-\uDDDB\uDDE0-\uDDE9\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDF50-\uDF59\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D\uDD30-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE96\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF2-\uDFF6]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD833[\uDCF0-\uDCF9]|\uD834[\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDCD0-\uDCEB\uDCF0-\uDCF9\uDDD0-\uDDED\uDDF0-\uDDFA\uDEC0-\uDEDE\uDEE0-\uDEE2\uDEE4\uDEE5\uDEE7-\uDEED\uDEF0-\uDEF4\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79])/,BI=/^```[^`\n]*```?$/,MI=/^\*{4,}$/,LI=e=>{if(!e)return!1;const t=e.charCodeAt(0);return t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122||95===t||NI.test(e)},$I=e=>{const t=(e.match(/```/g)||[]).length;return t>0&&t%2==0&&e.includes("\n")},UI=(e,t)=>{let n=1;for(let i=t+1;i<e.length;i+=1)if("["===e[i])n+=1;else if("]"===e[i]&&(n-=1,0===n))return i;return-1},qI=(e,t)=>{let n=!1,i=!1;for(let r=0;r<t;r+=1)"```"!==e.substring(r,r+3)?!i&&"`"===e[r]&&(n=!n):(i=!i,r+=2);return n||i},XI=(e,t)=>{let n=!1,i=!1;for(let r=0;r<e.length&&r<t;r+=1)"\\"!==e[r]||"$"!==e[r+1]?"$"===e[r]&&("$"===e[r+1]?(i=!i,r+=1,n=!1):i||(n=!n)):r+=1;return n||i},zI=(e,t)=>{const n="```"===e.substring(t,t+3),i=t>0&&"```"===e.substring(t-1,t+2),r=t>1&&"```"===e.substring(t-2,t+1);return n||i||r},ZI=e=>{if(!e||"string"!=typeof e)return e;let t=e;const n=(e=>{const t=e.lastIndexOf("](");if(-1!==t&&!qI(e,t)&&!e.substring(t+2).includes(")")){const n=((e,t)=>{let n=1;for(let i=t-1;i>=0;i-=1)if("]"===e[i])n+=1;else if("["===e[i]&&(n-=1,0===n))return i;return-1})(e,t);if(-1!==n&&!qI(e,n)){const i=n>0&&"!"===e[n-1],r=i?n-1:n,o=e.substring(0,r),a=e.substring(n+1,t);return i?o:"".concat(o,"[").concat(a,"](streamdown:incomplete-link)")}}for(let t=e.length-1;t>=0;t-=1)if("["===e[t]&&!qI(e,t)){const n=t>0&&"!"===e[t-1],i=n?t-1:t;if(!e.substring(t+1).includes("]")){const t=e.substring(0,i);return n?t:"".concat(e,"](streamdown:incomplete-link)")}if(-1===UI(e,t)){const t=e.substring(0,i);return n?t:"".concat(e,"](streamdown:incomplete-link)")}}return e})(t);return n.endsWith("](streamdown:incomplete-link)")?n:(t=n,t=(e=>{if($I(e)||MI.test(e))return e;const t=e.match(FI);if(t){const n=t[2];if(!n||II.test(n))return e;if((e=>{let t=0,n=0;for(let i=0;i<e.length;i+=1)"*"===e[i]?n+=1:(n>=3&&(t+=Math.floor(n/3)),n=0);return n>=3&&(t+=Math.floor(n/3)),t})(e)%2==1)return"".concat(e,"***")}return e})(t),t=(e=>{if($I(e))return e;const t=e.match(SI);if(t){const n=t[2];if(!n||II.test(n))return e;const i=e.lastIndexOf(t[1]),r=e.substring(0,i).lastIndexOf("\n"),o=-1===r?0:r+1,a=e.substring(o,i);if(QI.test(a)&&n.includes("\n"))return e;if((e.match(/\*\*/g)||[]).length%2==1)return"".concat(e,"**")}return e})(t),t=(e=>{const t=e.match(_I);if(t){const n=t[2];if(!n||II.test(n))return e;const i=e.lastIndexOf(t[1]),r=e.substring(0,i).lastIndexOf("\n"),o=-1===r?0:r+1,a=e.substring(o,i);if(QI.test(a)&&n.includes("\n"))return e;if((e.match(/__/g)||[]).length%2==1)return"".concat(e,"__")}return e})(t),t=(e=>{if($I(e))return e;if(e.match(wI)){let t=-1;for(let n=0;n<e.length;n+=1)if("*"===e[n]&&"*"!==e[n-1]&&"*"!==e[n+1]&&"\\"!==e[n-1]){const i=n>0?e[n-1]:"",r=n<e.length-1?e[n+1]:"";if(i&&r&&LI(i)&&LI(r))continue;t=n;break}if(-1===t)return e;const n=e.substring(t+1);if(!n||II.test(n))return e;if((e=>{let t=0;const n=e.length;for(let i=0;i<n;i+=1){if("*"!==e[i])continue;const r=i>0?e[i-1]:"",o=i<n-1?e[i+1]:"";if("\\"===r||"*"===r||"*"===o||r&&o&&LI(r)&&LI(o))continue;let a=0;for(let t=i-1;t>=0;t-=1)if("\n"===e[t]){a=t+1;break}let s=!0;for(let t=a;t<i;t+=1)if(" "!==e[t]&&"\t"!==e[t]){s=!1;break}s&&(" "===o||"\t"===o)||(t+=1)}return t})(e)%2==1)return"".concat(e,"*")}return e})(t),t=(e=>{if($I(e))return e;if(e.match(xI)){let t=-1;for(let n=0;n<e.length;n+=1)if("_"===e[n]&&"_"!==e[n-1]&&"_"!==e[n+1]&&"\\"!==e[n-1]&&!XI(e,n)){const i=n>0?e[n-1]:"",r=n<e.length-1?e[n+1]:"";if(i&&r&&LI(i)&&LI(r))continue;t=n;break}if(-1===t)return e;const n=e.substring(t+1);if(!n||II.test(n))return e;if((e=>{const t=e.includes("$");let n=0;const i=e.length;for(let r=0;r<i;r+=1){if("_"!==e[r])continue;const o=r>0?e[r-1]:"",a=r<i-1?e[r+1]:"";"\\"!==o&&(t&&XI(e,r)||"_"===o||"_"===a||o&&a&&LI(o)&&LI(a)||(n+=1))}return n})(e)%2==1){let t=e.length;for(;t>0&&"\n"===e[t-1];)t-=1;if(t<e.length){const n=e.slice(0,t),i=e.slice(t);return"".concat(n,"_").concat(i)}return"".concat(e,"_")}}return e})(t),t=(e=>{if(e.match(BI)&&!e.includes("\n"))return e.endsWith("``")&&!e.endsWith("```")?"".concat(e,"`"):e;const t=(e.match(/```/g)||[]).length,n=t%2==1;if(t>0&&t%2==0&&e.includes("\n")||(e.endsWith("```\n")||e.endsWith("```"))&&t%2==0)return e;const i=e.match(PI);if(i&&!n){const t=i[2];if(!t||II.test(t))return e;if((e=>{let t=0;for(let n=0;n<e.length;n+=1)"`"===e[n]&&!zI(e,n)&&(t+=1);return t})(e)%2==1)return"".concat(e,"`")}return e})(t),t=(e=>{const t=e.match(RI);if(t){const n=t[2];if(!n||II.test(n))return e;if((e.match(/~~/g)||[]).length%2==1)return"".concat(e,"~~")}return e})(t),t)};function jI(e){var t;const n=function(){if(window.location!==window.parent.location){const{ancestorOrigins:e}=document.location;if(e&&e.length)return e[0];if(document.referrer)try{return new URL(document.referrer).origin}catch(e){}}return document.location.origin}(),i=[n,...oR(e)];return[WC,[Wg,Be(Be({},Lg),{},{protocols:Be(Be({},Lg.protocols),{},{src:[...(null==(t=Lg.protocols)?void 0:t.src)||[],"data"]})})],[GC,{allowedImagePrefixes:["*"],allowedLinkPrefixes:i,allowedProtocols:["*"],defaultOrigin:n,allowDataImages:!0}]]}const WI=[[function(e){const t=e||MT,n=this.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),r=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),o=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(function(e){return dy([{text:by},{document:{91:{name:"gfmFootnoteDefinition",tokenize:TT,continuation:{tokenize:AT},exit:ST}},text:{91:{name:"gfmFootnoteCall",tokenize:yT},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:bT,resolveTo:kT}}},_T(e),{flow:{null:{name:"table",tokenize:xT,resolveAll:PT}}},{text:{91:NT}}])}(t)),r.push([{transforms:[Kb],enter:{literalAutolink:jb,literalAutolinkEmail:Wb,literalAutolinkHttp:Wb,literalAutolinkWww:Wb},exit:{literalAutolink:Hb,literalAutolinkEmail:Yb,literalAutolinkHttp:Gb,literalAutolinkWww:Vb}},{enter:{gfmFootnoteCallString:ik,gfmFootnoteCall:rk,gfmFootnoteDefinitionLabelString:ok,gfmFootnoteDefinition:ak},exit:{gfmFootnoteCallString:sk,gfmFootnoteCall:uk,gfmFootnoteDefinitionLabelString:ck,gfmFootnoteDefinition:lk}},{canContainEols:["delete"],enter:{strikethrough:Ok},exit:{strikethrough:gk}},{enter:{table:Jk,tableData:iy,tableHeader:iy,tableRow:ty},exit:{codeText:ry,table:ey,tableData:ny,tableHeader:ny,tableRow:ny}},{exit:{taskListCheckValueChecked:sy,taskListCheckValueUnchecked:sy,paragraph:uy}}]),o.push(function(e){return{extensions:[{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:zb,notInConstruct:Zb},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:zb,notInConstruct:Zb},{character:":",before:"[ps]",after:"\\/",inConstruct:zb,notInConstruct:Zb}]},hk(e),{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:mk}],handlers:{delete:Dk}},ay(e),{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:cy}}]}}(t))},{}],[function(){const e=this.data();(e.micromarkExtensions||(e.micromarkExtensions=[])).push({text:{[tb]:Lb,[nb]:Lb},insideSpan:{null:[Lb]}})},{}],[function(e){const t=this.data();(t.micromarkExtensions||(t.micromarkExtensions=[])).push(function(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:function(e,n,i){const{now:r,sliceSerialize:o,previous:a}=this,s=Pb(a)?Rb(a,r(),o):a,u=Tb(s),c=new Ib(s,r(),o),l=Ab(u,c.value.bind(c),s),d=this.events;let h=0;return function(t){return s===ib&&"characterEscape"!==d[d.length-1][1].type?i(t):(e.enter("strikethroughSequenceTemporary"),p(t))};function p(a){const u=Tb(s);if(a===ib)return h>1?i(a):(e.consume(a),h++,p);if(h<2&&!t)return i(a);const c=e.exit("strikethroughSequenceTemporary"),d=Tb(xb(a)?Qb(a,r(),o):a),f=_b(l)||Sb(l),m=_b(d)||Sb(d),O=Fb(l)||function(e){return e===Cb.ivs}(u);return c._open=!m||2===d&&(f||O),c._close=!f||2===u&&(m||Fb(d)),n(a)}},resolveAll:function(e,t){let n=-1;for(;++n<e.length;)if("enter"===e[n][0]&&"strikethroughSequenceTemporary"===e[n][1].type&&e[n][1]._close){let i=n;for(;i--;)if("exit"===e[i][0]&&"strikethroughSequenceTemporary"===e[i][1].type&&e[i][1]._open&&e[n][1].end.offset-e[n][1].start.offset===e[i][1].end.offset-e[i][1].start.offset){e[n][1].type="strikethroughSequence",e[i][1].type="strikethroughSequence";const r={type:"strikethrough",start:Object.assign({},e[i][1].start),end:Object.assign({},e[n][1].end)},o={type:"strikethroughText",start:Object.assign({},e[i][1].end),end:Object.assign({},e[n][1].start)},a=[["enter",r,t],["enter",e[i][1],t],["exit",e[i][1],t],["enter",o,t]],s=t.parser.constructs.insideSpan.null;s&&Nb(a,a.length,0,Mb(s,e.slice(i+1,n),t)),Nb(a,a.length,0,[["exit",o,t],["enter",e[n][1],t],["exit",e[n][1],t],["exit",r,t]]),Nb(e,i-1,n-i+3,a),n=i+a.length-2;break}}for(n=-1;++n<e.length;)"strikethroughSequenceTemporary"===e[n][1].type&&(e[n][1].type="data");return e}};return null==t&&(t=!0),{text:{[ib]:n},insideSpan:{null:[n]},attentionMarkers:{null:[ib]}}}(e))},{}]],GI=Pt({isAnimating:!1}),VI=Mn(e=>{let{content:t,shouldParseIncompleteMarkdown:n,markdownOptions:i}=e;const r=gn(()=>"string"==typeof t&&n?ZI(t.trim()):t,[t,n]);return Vt(eR,Be(Be({},i),{},{children:r}))},(e,t)=>e.content===t.content&&e.shouldParseIncompleteMarkdown===t.shouldParseIncompleteMarkdown&&e.markdownOptions===t.markdownOptions),YI=Mn(e=>{let{children:t,parseIncompleteMarkdown:n=!0,className:i,isAnimating:r=!1,linkConfig:o}=e;const a=Cn(),s=gn(()=>(e=>{const t=EI.test(e),n=CI.test(e);if(t||n)return[e];const i=pI.lex(e,{gfm:!0}),r=[],o=[];for(const e of i){const t=e.raw,n=r.length;if(o.length>0){if(r[n-1]+=t,"html"===e.type){const e=t.match(bI);if(e){const t=e[1];o.at(-1)===t&&o.pop()}}}else{if("html"===e.type&&e.block){const e=t.match(kI);if(e){const n=e[1];t.includes("</".concat(n,">"))||o.push(n)}}if("$$"===t.trim()&&n>0){const e=r[n-1],i=yI(e),o=AI(e);if(i&&o%2==1){r[n-1]=e+t;continue}}if(n>0&&TI(t)){const e=r[n-1],i=yI(e),o=AI(e),a=AI(t);if(i&&o%2==1&&!yI(t)&&1===a){r[n-1]=e+t;continue}}r.push(t)}}return r})("string"==typeof t?t:""),[t]),u=gn(()=>({components:wx,rehypePlugins:jI(o),remarkPlugins:WI}),[o]);return Vt(Gw.Provider,{value:Vw,children:Vt(GI.Provider,{value:{isAnimating:r},children:Vt("div",{className:eg("markdown *:first:mt-0 *:last:mb-0",i),children:s.map((e,t)=>Vt(VI,{content:e,shouldParseIncompleteMarkdown:n,markdownOptions:u},"".concat(a,"-block-").concat(t)))})})})},(e,t)=>e.children===t.children&&e.isAnimating===t.isAnimating&&e.className===t.className&&e.parseIncompleteMarkdown===t.parseIncompleteMarkdown&&e.linkConfig===t.linkConfig);function HI(e){let{entry:t}=e;const n=function(){const e=Hr("markdown-link-allowed-hosts"),t=Hr("markdown-link-include-www"),n=Hr("markdown-link-allow-http"),i=Hf();return hr(()=>{var r,o,a,s;let u=[];if(e.value)u=e.value.split(",").map(e=>e.trim()).filter(Boolean);else{const e=i.value.markdown_link_allowed_hosts;e&&e.length>0&&(u=e.some(e=>"*"===e.hostname)?["*"]:e.map(e=>e.hostname))}return{allowedHosts:u,includeWww:null===(r=null!==(o=Zt(t.value))&&void 0!==o?o:i.value.markdown_link_include_www)||void 0===r||r,allowHttp:null===(a=null!==(s=Zt(n.value))&&void 0!==s?s:i.value.markdown_link_allow_http)||void 0===a||a}})}(),i=Hf().value.strip_audio_tags?function(e){return e.replace(yg,"").trim()}(t.message):t.message;return Vt("div",{className:"pr-8",children:Vt(YI,{linkConfig:n.value,children:i})})}function KI(e){let{entry:t}=e;const{previewUrl:n}=mm();return Vt("div",{className:Lm("flex gap-2.5 transition-[opacity,transform] duration-200 data-hidden:opacity-0 data-hidden:scale-75","user"===t.role?"justify-end pl-16 origin-top-right":"pr-16 origin-top-left"),children:["agent"===t.role&&Vt("img",{src:n,alt:"AI agent avatar",className:"bg-base-border shrink-0 w-5 h-5 rounded-full"}),Vt("div",{dir:"auto",className:Lm("px-3 py-2.5 rounded-bubble text-sm min-w-0 wrap-break-word whitespace-pre-wrap","user"===t.role?"bg-accent text-accent-primary":"bg-base-active text-base-primary"),children:t.message})]})}function JI(e){let{entry:t}=e;const n=hm(),{lastId:i}=Gf(),r=function(){const e=Hf();return hr(()=>{var t,n;return null!==(t=null==(n=e.value.end_feedback)?void 0:n.type)&&void 0!==t?t:null})}();return Vt("div",{className:"px-8 flex flex-col",children:["rating"===r.value&&Vt(kg,{}),Vt("div",{className:"text-xs text-base-subtle text-center transition-opacity duration-200 data-hidden:opacity-0",children:["user"===t.role?n.user_ended_conversation:n.agent_ended_conversation,Vt("br",{}),i.value&&Vt("span",{className:"break-all",children:[n.conversation_id,": ",i.value]})]})]})}function eQ(e){let{entry:t}=e;const n=hm(),{lastId:i}=Gf();return Vt("div",{className:"px-8 text-xs text-base-error text-center transition-opacity duration-200 data-hidden:opacity-0",children:[n.error_occurred,Vt("br",{}),t.message,i.value&&Vt(ct,{children:[Vt("br",{}),Vt("span",{className:"text-base-subtle break-all",children:[n.conversation_id,": ",i.value]})]})]})}function tQ(e){let{entry:t}=e;const n=hm();return Vt("div",{className:"px-8 text-xs text-base-subtle text-center transition-opacity duration-200 data-hidden:opacity-0",children:"text"===t.mode?n.switched_to_text_mode:n.switched_to_voice_mode})}function nQ(e){var t;let{entry:n}=e;const i=hm(),r=null!==(t=n.status)&&void 0!==t?t:Xf;return Vt("div",{className:"-my-4 first:mt-0 last:mb-0 flex items-center",children:Vt("div",{className:"flex items-center h-7 px-2 gap-1 rounded-button border border-base-border bg-base",children:[r===Xf&&Vt(ct,{children:[Vt(cg,{name:"loader",size:"md",className:"animate-spin shrink-0"}),Vt("span",{className:"text-xs leading-4",children:i.agent_working})]}),r===zf&&Vt(Qm,{active:!0,initial:!1,children:Vt("span",{className:"flex items-center gap-1 transition-[opacity,transform] duration-200 data-hidden:opacity-0 data-hidden:scale-75",children:[Vt(cg,{name:"check",size:"sm",className:"shrink-0"}),Vt("span",{className:"text-xs leading-4",children:i.agent_done})]})}),r===Zf&&Vt(Qm,{active:!0,initial:!1,children:Vt("span",{className:"flex items-center gap-1 transition-[opacity,transform] duration-200 data-hidden:opacity-0 data-hidden:scale-75",children:[Vt(cg,{name:"x",size:"sm",className:"shrink-0 text-base-error"}),Vt("span",{className:"text-xs text-base-error leading-4",children:i.agent_error})]})})]})})}function iQ(e){return"disconnection"===e.type?Vt(JI,{entry:e}):"mode_toggle"===e.type?Vt(tQ,{entry:e}):"error"===e.type?Vt(eQ,{entry:e}):"tool_call"===e.type?Vt(nQ,{entry:e}):"agent"===e.role?Vt(HI,{entry:e}):Vt(KI,{entry:e})}function rQ(e){let{entry:t,animateIn:n}=e;return Vt(Qm,{initial:!n,active:!0,children:iQ(t)})}function oQ(e){let{scrollPinned:t,transcript:n}=e;const{scrollContainer:i,contentRef:r,handleScroll:o,handleWheel:a,handleTouchStart:s,handleTouchMove:u,firstRender:c}=function(e){let{scrollPinned:t}=e;const n=mn(null),i=mn(null),r=mn(!0),o=Dn(()=>{const e=n.current;e&&e.scrollTo({top:e.scrollHeight,behavior:"smooth"})},[]),a=Dn(e=>{e.deltaY<0&&(t.value=!1)},[t]),s=mn(null),u=Dn(e=>{const t=e.touches[0];t&&(s.current=t.clientY)},[]),c=Dn(e=>{const n=e.touches[0];n&&null!==s.current&&(n.clientY>s.current&&(t.value=!1),s.current=n.clientY)},[t]),l=Dn(()=>{const e=n.current;if(!e)return;const{scrollTop:i,scrollHeight:r,clientHeight:o}=e;r-i-o<=16&&(t.value=!0)},[t]);return pn(()=>{r.current=!1;const e=i.current,a=n.current;if(!e||!a)return;let s=e.getBoundingClientRect().height;const u=new ResizeObserver(e=>{let[n]=e;const i=n.contentRect.height,r=i>s;s=i,r&&t.peek()&&o()});return u.observe(e),()=>u.disconnect()},[t,o]),{scrollContainer:n,contentRef:i,handleScroll:l,handleWheel:a,handleTouchStart:u,handleTouchMove:c,firstRender:r}}({scrollPinned:t});return Vt("div",{ref:i,className:"px-4 pt-20 pb-4 grow overflow-y-auto z-2",onScroll:o,onWheel:a,onTouchStart:s,onTouchMove:u,children:Vt("div",{ref:r,className:"flex flex-col gap-6",children:n.value.map((e,t)=>Vt(rQ,{entry:e,animateIn:!c.current},"".concat(t,"-").concat(e.conversationIndex)))})})}function aQ(e){let{className:t}=e,n=Qe(e,q);return Vt("textarea",Be({className:Lm("px-3 py-[calc(theme(spacing.2)-1px)] border text-sm text-base-primary bg-base border-base-border rounded-input focus-ring resize-none [field-sizing:content] placeholder:text-base-subtle",t)},n))}function sQ(){const e=hm(),{rating:t,feedbackText:n}=ig(),i=Dn(e=>{n.value=e.currentTarget.value},[]);return Vt("div",{className:"grow flex flex-col overflow-y-auto overflow-x-hidden px-4",children:Vt("div",{className:"flex flex-col gap-8 min-h-full pt-4 pb-2",children:[Vt("div",{className:"flex flex-col items-center justify-center gap-3",children:[Vt(lg,{orbColor:"var(--el-base-subtle)",circleBackgroundColor:"var(--el-base)",starColor:"var(--el-base-primary)",className:"w-20 h-22"}),null!==t.value&&Vt(Eg,{rating:t.value,min:1,max:5}),Vt("div",{className:"text-center",children:[Vt("p",{className:"text-sm text-base-primary font-medium",children:e.thanks_for_feedback}),Vt("p",{className:"text-sm text-base-subtle",children:e.thanks_for_feedback_details})]})]}),Vt(aQ,{className:"w-full min-h-[6lh]",placeholder:e.follow_up_feedback_placeholder,rows:6,value:n,onInput:i})]})})}function uQ(){const e=hm(),{currentContent:t}=ag(),{submitFeedback:n}=ig(),i=Dn(()=>{n(),t.value="transcript"},[n]);return Vt("div",{className:"shrink-0 overflow-hidden flex p-3 items-end justify-end",children:Vt(mg,{variant:"primary",onClick:i,children:e.submit})})}function cQ(e,t){let[n,i]=t;return Math.min(i,Math.max(n,e))}function lQ(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(i){if(null==e||e(i),!1===n||!i.defaultPrevented)return null==t?void 0:t(i)}}function dQ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];const i=()=>{const t=n.map(e=>Pt(e));return function(n){const i=(null==n?void 0:n[e])||t;return gn(()=>({["__scope".concat(e)]:Be(Be({},n),{},{[e]:i})}),[n,i])}};return i.scopeName=e,[function(t,i){const r=Pt(i),o=n.length;n=[...n,i];const a=t=>{var n;const{scope:i,children:a}=t,s=Qe(t,X),u=(null==(n=null==i?void 0:i[e])?void 0:n[o])||r,c=gn(()=>s,Object.values(s));return Vt(u.Provider,{value:c,children:a})};return a.displayName=t+"Provider",[a,function(n,a){var s;const u=vn((null==(s=null==a?void 0:a[e])?void 0:s[o])||r);if(u)return u;if(void 0!==i)return i;throw new Error("`".concat(n,"` must be used within `").concat(t,"`"))}]},hQ(i,...t)]}function hQ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t[0];if(1===t.length)return i;const r=()=>{const e=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){const n=e.reduce((e,n)=>{let{useScope:i,scopeName:r}=n;const o=i(t)["__scope".concat(r)];return Be(Be({},e),o)},{});return gn(()=>({["__scope".concat(i.scopeName)]:n}),[n])}};return r.scopeName=i.scopeName,r}function pQ(e){const t=fQ(e),n=Un((e,n)=>{const{children:i}=e,r=Qe(e,z),o=Xn.toArray(i),a=o.find(OQ);if(a){const e=a.props.children,i=o.map(t=>t===a?Xn.count(e)>1?Xn.only(null):Ci(e)?e.props.children:null:t);return Vt(t,Be(Be({},r),{},{ref:n,children:Ci(e)?yi(e,void 0,i):null}))}return Vt(t,Be(Be({},r),{},{ref:n,children:i}))});return n.displayName="".concat(e,".Slot"),n}function fQ(e){const t=Un((e,t)=>{const{children:n}=e,i=Qe(e,Z);if(Ci(n)){const e=function(e){var t,n;let i=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,r=i&&"isReactWarning"in i&&i.isReactWarning;return r?e.ref:(i=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,r=i&&"isReactWarning"in i&&i.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}(n),r=function(e,t){const n=Be({},t);for(const i in t){const r=e[i],o=t[i];/^on[A-Z]/.test(i)?r&&o?n[i]=function(){const e=o(...arguments);return r(...arguments),e}:r&&(n[i]=r):"style"===i?n[i]=Be(Be({},r),o):"className"===i&&(n[i]=[r,o].filter(Boolean).join(" "))}return Be(Be({},e),n)}(i,n.props);return n.type!==ct&&(r.ref=t?bm(t,e):e),yi(n,r)}return Xn.count(n)>1?Xn.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var mQ=Symbol("radix.slottable");function OQ(e){return Ci(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===mQ}var gQ=Pt(void 0),DQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=pQ("Primitive.".concat(t)),i=Un((e,i)=>{const{asChild:r}=e,o=Qe(e,W),a=r?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),Vt(a,Be(Be({},o),{},{ref:i}))});return i.displayName="Primitive.".concat(t),Be(Be({},e),{},{[t]:i})},{});function vQ(e){const t=mn(e);return pn(()=>{t.current=e}),gn(()=>function(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return null==(e=t.current)?void 0:e.call(t,...i)},[])}var EQ,CQ="dismissableLayer.update",bQ=Pt({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kQ=Un((e,t)=>{var n;const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:s,onDismiss:u}=e,c=Qe(e,G),l=vn(bQ),[d,h]=dn(null),p=null!==(n=null==d?void 0:d.ownerDocument)&&void 0!==n?n:null==globalThis?void 0:globalThis.document,[,f]=dn({}),m=km(t,e=>h(e)),O=Array.from(l.layers),[g]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),D=O.indexOf(g),v=d?O.indexOf(d):-1,E=l.layersWithOutsidePointerEventsDisabled.size>0,C=v>=D,b=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null==globalThis?void 0:globalThis.document;const n=vQ(e),i=mn(!1),r=mn(()=>{});return pn(()=>{const e=e=>{if(e.target&&!i.current){let i=function(){AQ("dismissableLayer.pointerDownOutside",n,o,{discrete:!0})};const o={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",r.current),r.current=i,t.addEventListener("click",r.current,{once:!0})):i()}else t.removeEventListener("click",r.current);i.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",e),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}(e=>{const t=e.target,n=[...l.branches].some(e=>e.contains(t));!C||n||(null==o||o(e),null==s||s(e),e.defaultPrevented||null==u||u())},p),k=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null==globalThis?void 0:globalThis.document;const n=vQ(e),i=mn(!1);return pn(()=>{const e=e=>{e.target&&!i.current&&AQ("dismissableLayer.focusOutside",n,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}(e=>{const t=e.target;[...l.branches].some(e=>e.contains(t))||(null==a||a(e),null==s||s(e),e.defaultPrevented||null==u||u())},p);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null==globalThis?void 0:globalThis.document;const n=vQ(e);pn(()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{v===l.layers.size-1&&(null==r||r(e),!e.defaultPrevented&&u&&(e.preventDefault(),u()))},p),pn(()=>{if(d)return i&&(0===l.layersWithOutsidePointerEventsDisabled.size&&(EQ=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(d)),l.layers.add(d),TQ(),()=>{i&&1===l.layersWithOutsidePointerEventsDisabled.size&&(p.body.style.pointerEvents=EQ)}},[d,p,i,l]),pn(()=>()=>{d&&(l.layers.delete(d),l.layersWithOutsidePointerEventsDisabled.delete(d),TQ())},[d,l]),pn(()=>{const e=()=>f({});return document.addEventListener(CQ,e),()=>document.removeEventListener(CQ,e)},[]),Vt(DQ.div,Be(Be({},c),{},{ref:m,style:Be({pointerEvents:E?C?"auto":"none":void 0},e.style),onFocusCapture:lQ(e.onFocusCapture,k.onFocusCapture),onBlurCapture:lQ(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:lQ(e.onPointerDownCapture,b.onPointerDownCapture)}))});kQ.displayName="DismissableLayer";var yQ=Un((e,t)=>{const n=vn(bQ),i=mn(null),r=km(t,i);return pn(()=>{const e=i.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),Vt(DQ.div,Be(Be({},e),{},{ref:r}))});function TQ(){const e=new CustomEvent(CQ);document.dispatchEvent(e)}function AQ(e,t,n,i){let{discrete:r}=i;const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?function(e,t){e&&_i(()=>e.dispatchEvent(t))}(o,a):o.dispatchEvent(a)}yQ.displayName="DismissableLayerBranch";var SQ=0;function _Q(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var FQ="focusScope.autoFocusOnMount",wQ="focusScope.autoFocusOnUnmount",xQ={bubbles:!1,cancelable:!0},PQ=Un((e,t)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:o}=e,a=Qe(e,V),[s,u]=dn(null),c=vQ(r),l=vQ(o),d=mn(null),h=km(t,e=>u(e)),p=mn({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;pn(()=>{if(i){let e=function(e){if(p.paused||!s)return;const t=e.target;s.contains(t)?d.current=t:NQ(d.current,{select:!0})},t=function(e){if(p.paused||!s)return;const t=e.relatedTarget;null!==t&&(s.contains(t)||NQ(d.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&NQ(s)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const i=new MutationObserver(n);return s&&i.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),i.disconnect()}}},[i,s,p.paused]),pn(()=>{if(s){BQ.add(p);const e=document.activeElement;if(!s.contains(e)){const t=new CustomEvent(FQ,xQ);s.addEventListener(FQ,c),s.dispatchEvent(t),t.defaultPrevented||(function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=document.activeElement;for(const i of e)if(NQ(i,{select:t}),document.activeElement!==n)return}(function(e){return e.filter(e=>"A"!==e.tagName)}(RQ(s)),{select:!0}),document.activeElement===e&&NQ(s))}return()=>{s.removeEventListener(FQ,c),setTimeout(()=>{const t=new CustomEvent(wQ,xQ);s.addEventListener(wQ,l),s.dispatchEvent(t),t.defaultPrevented||NQ(null!=e?e:document.body,{select:!0}),s.removeEventListener(wQ,l),BQ.remove(p)},0)}}},[s,c,l,p]);const f=Dn(e=>{if(!n&&!i||p.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=document.activeElement;if(t&&r){const t=e.currentTarget,[i,o]=function(e){const t=RQ(e);return[IQ(t,e),IQ(t.reverse(),e)]}(t);i&&o?e.shiftKey||r!==o?e.shiftKey&&r===i&&(e.preventDefault(),n&&NQ(o,{select:!0})):(e.preventDefault(),n&&NQ(i,{select:!0})):r===t&&e.preventDefault()}},[n,i,p.paused]);return Vt(DQ.div,Be(Be({tabIndex:-1},a),{},{ref:h,onKeyDown:f}))});function RQ(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function IQ(e,t){for(const n of e)if(!QQ(n,{upTo:t}))return n}function QQ(e,t){let{upTo:n}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function NQ(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}PQ.displayName="FocusScope";var BQ=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null==n||n.pause()),e=MQ(e,t),e.unshift(t)},remove(t){var n;e=MQ(e,t),null==(n=e[0])||n.resume()}}}();function MQ(e,t){const n=[...e],i=n.indexOf(t);return-1!==i&&n.splice(i,1),n}var LQ=null!=globalThis&&globalThis.document?fn:()=>{},$Q=Pi[" useId ".trim().toString()]||(()=>{}),UQ=0;function qQ(e){const[t,n]=dn($Q());return LQ(()=>{n(e=>null!=e?e:String(UQ++))},[e]),t?"radix-".concat(t):""}const XQ=["top","right","bottom","left"],zQ=Math.min,ZQ=Math.max,jQ=Math.round,WQ=Math.floor,GQ=e=>({x:e,y:e}),VQ={left:"right",right:"left",bottom:"top",top:"bottom"},YQ={start:"end",end:"start"};function HQ(e,t,n){return ZQ(e,zQ(t,n))}function KQ(e,t){return"function"==typeof e?e(t):e}function JQ(e){return e.split("-")[0]}function eN(e){return e.split("-")[1]}function tN(e){return"x"===e?"y":"x"}function nN(e){return"y"===e?"height":"width"}const iN=new Set(["top","bottom"]);function rN(e){return iN.has(JQ(e))?"y":"x"}function oN(e){return tN(rN(e))}function aN(e){return e.replace(/start|end/g,e=>YQ[e])}const sN=["left","right"],uN=["right","left"],cN=["top","bottom"],lN=["bottom","top"];function dN(e){return e.replace(/left|right|bottom|top/g,e=>VQ[e])}function hN(e){return"number"!=typeof e?function(e){return Be({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function pN(e){const{x:t,y:n,width:i,height:r}=e;return{width:i,height:r,top:n,left:t,right:t+i,bottom:n+r,x:t,y:n}}function fN(e,t,n){let{reference:i,floating:r}=e;const o=rN(t),a=oN(t),s=nN(a),u=JQ(t),c="y"===o,l=i.x+i.width/2-r.width/2,d=i.y+i.height/2-r.height/2,h=i[s]/2-r[s]/2;let p;switch(u){case"top":p={x:l,y:i.y-r.height};break;case"bottom":p={x:l,y:i.y+i.height};break;case"right":p={x:i.x+i.width,y:d};break;case"left":p={x:i.x-r.width,y:d};break;default:p={x:i.x,y:i.y}}switch(eN(t)){case"start":p[a]-=h*(n&&c?-1:1);break;case"end":p[a]+=h*(n&&c?-1:1)}return p}async function mN(e,t){var n;void 0===t&&(t={});const{x:i,y:r,platform:o,rects:a,elements:s,strategy:u}=e,{boundary:c="clippingAncestors",rootBoundary:l="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=KQ(t,e),f=hN(p),m=s[h?"floating"===d?"reference":"floating":d],O=pN(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(m)))||n?m:m.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:l,strategy:u})),g="floating"===d?{x:i,y:r,width:a.floating.width,height:a.floating.height}:a.reference,D=await(null==o.getOffsetParent?void 0:o.getOffsetParent(s.floating)),v=await(null==o.isElement?void 0:o.isElement(D))&&await(null==o.getScale?void 0:o.getScale(D))||{x:1,y:1},E=pN(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:g,offsetParent:D,strategy:u}):g);return{top:(O.top-E.top+f.top)/v.y,bottom:(E.bottom-O.bottom+f.bottom)/v.y,left:(O.left-E.left+f.left)/v.x,right:(E.right-O.right+f.right)/v.x}}function ON(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function gN(e){return XQ.some(t=>e[t]>=0)}const DN=new Set(["left","top"]);function vN(){return typeof window<"u"}function EN(e){return kN(e)?(e.nodeName||"").toLowerCase():"#document"}function CN(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function bN(e){var t;return null==(t=(kN(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function kN(e){return!!vN()&&(e instanceof Node||e instanceof CN(e).Node)}function yN(e){return!!vN()&&(e instanceof Element||e instanceof CN(e).Element)}function TN(e){return!!vN()&&(e instanceof HTMLElement||e instanceof CN(e).HTMLElement)}function AN(e){return!(!vN()||typeof ShadowRoot>"u")&&(e instanceof ShadowRoot||e instanceof CN(e).ShadowRoot)}const SN=new Set(["inline","contents"]);function _N(e){const{overflow:t,overflowX:n,overflowY:i,display:r}=$N(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!SN.has(r)}const FN=new Set(["table","td","th"]);function wN(e){return FN.has(EN(e))}const xN=[":popover-open",":modal"];function PN(e){return xN.some(t=>{try{return e.matches(t)}catch(e){return!1}})}const RN=["transform","translate","scale","rotate","perspective"],IN=["transform","translate","scale","rotate","perspective","filter"],QN=["paint","layout","strict","content"];function NN(e){const t=BN(),n=yN(e)?$N(e):e;return RN.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||IN.some(e=>(n.willChange||"").includes(e))||QN.some(e=>(n.contain||"").includes(e))}function BN(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const MN=new Set(["html","body","#document"]);function LN(e){return MN.has(EN(e))}function $N(e){return CN(e).getComputedStyle(e)}function UN(e){return yN(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function qN(e){if("html"===EN(e))return e;const t=e.assignedSlot||e.parentNode||AN(e)&&e.host||bN(e);return AN(t)?t.host:t}function XN(e){const t=qN(e);return LN(t)?e.ownerDocument?e.ownerDocument.body:e.body:TN(t)&&_N(t)?t:XN(t)}function zN(e,t,n){var i;void 0===t&&(t=[]),void 0===n&&(n=!0);const r=XN(e),o=r===(null==(i=e.ownerDocument)?void 0:i.body),a=CN(r);if(o){const e=ZN(a);return t.concat(a,a.visualViewport||[],_N(r)?r:[],e&&n?zN(e):[])}return t.concat(r,zN(r,[],n))}function ZN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function jN(e){const t=$N(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const r=TN(e),o=r?e.offsetWidth:n,a=r?e.offsetHeight:i,s=jQ(n)!==o||jQ(i)!==a;return s&&(n=o,i=a),{width:n,height:i,$:s}}function WN(e){return yN(e)?e:e.contextElement}function GN(e){const t=WN(e);if(!TN(t))return GQ(1);const n=t.getBoundingClientRect(),{width:i,height:r,$:o}=jN(t);let a=(o?jQ(n.width):n.width)/i,s=(o?jQ(n.height):n.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const VN=GQ(0);function YN(e){const t=CN(e);return BN()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:VN}function HN(e,t,n,i){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=e.getBoundingClientRect(),o=WN(e);let a=GQ(1);t&&(i?yN(i)&&(a=GN(i)):a=GN(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==CN(e))&&t}(o,n,i)?YN(o):GQ(0);let u=(r.left+s.x)/a.x,c=(r.top+s.y)/a.y,l=r.width/a.x,d=r.height/a.y;if(o){const e=CN(o),t=i&&yN(i)?CN(i):i;let n=e,r=ZN(n);for(;r&&i&&t!==n;){const e=GN(r),t=r.getBoundingClientRect(),i=$N(r),o=t.left+(r.clientLeft+parseFloat(i.paddingLeft))*e.x,a=t.top+(r.clientTop+parseFloat(i.paddingTop))*e.y;u*=e.x,c*=e.y,l*=e.x,d*=e.y,u+=o,c+=a,n=CN(r),r=ZN(n)}}return pN({width:l,height:d,x:u,y:c})}function KN(e,t){const n=UN(e).scrollLeft;return t?t.left+n:HN(bN(e)).left+n}function JN(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-KN(e,n),y:n.top+t.scrollTop}}const eB=new Set(["absolute","fixed"]);function tB(e,t,n){let i;if("viewport"===t)i=function(e,t){const n=CN(e),i=bN(e),r=n.visualViewport;let o=i.clientWidth,a=i.clientHeight,s=0,u=0;if(r){o=r.width,a=r.height;const e=BN();(!e||e&&"fixed"===t)&&(s=r.offsetLeft,u=r.offsetTop)}const c=KN(i);if(c<=0){const e=i.ownerDocument,t=e.body,n=getComputedStyle(t),r="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,a=Math.abs(i.clientWidth-t.clientWidth-r);a<=25&&(o-=a)}else c<=25&&(o+=c);return{width:o,height:a,x:s,y:u}}(e,n);else if("document"===t)i=function(e){const t=bN(e),n=UN(e),i=e.ownerDocument.body,r=ZQ(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),o=ZQ(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let a=-n.scrollLeft+KN(e);const s=-n.scrollTop;return"rtl"===$N(i).direction&&(a+=ZQ(t.clientWidth,i.clientWidth)-r),{width:r,height:o,x:a,y:s}}(bN(e));else if(yN(t))i=function(e,t){const n=HN(e,!0,"fixed"===t),i=n.top+e.clientTop,r=n.left+e.clientLeft,o=TN(e)?GN(e):GQ(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:r*o.x,y:i*o.y}}(t,n);else{const n=YN(e);i={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return pN(i)}function nB(e,t){const n=qN(e);return!(n===t||!yN(n)||LN(n))&&("fixed"===$N(n).position||nB(n,t))}function iB(e,t){const n=t.get(e);if(n)return n;let i=zN(e,[],!1).filter(e=>yN(e)&&"body"!==EN(e)),r=null;const o="fixed"===$N(e).position;let a=o?qN(e):e;for(;yN(a)&&!LN(a);){const t=$N(a),n=NN(a);!n&&"fixed"===t.position&&(r=null),(o?!n&&!r:!n&&"static"===t.position&&r&&eB.has(r.position)||_N(a)&&!n&&nB(e,a))?i=i.filter(e=>e!==a):r=t,a=qN(a)}return t.set(e,i),i}function rB(e,t,n){const i=TN(t),r=bN(t),o="fixed"===n,a=HN(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const u=GQ(0);function c(){u.x=KN(r)}if(i||!i&&!o)if(("body"!==EN(t)||_N(r))&&(s=UN(t)),i){const e=HN(t,!0,o,t);u.x=e.x+t.clientLeft,u.y=e.y+t.clientTop}else r&&c();o&&!i&&r&&c();const l=!r||i||o?GQ(0):JN(r,s);return{x:a.left+s.scrollLeft-u.x-l.x,y:a.top+s.scrollTop-u.y-l.y,width:a.width,height:a.height}}function oB(e){return"static"===$N(e).position}function aB(e,t){if(!TN(e)||"fixed"===$N(e).position)return null;if(t)return t(e);let n=e.offsetParent;return bN(e)===n&&(n=n.ownerDocument.body),n}function sB(e,t){const n=CN(e);if(PN(e))return n;if(!TN(e)){let t=qN(e);for(;t&&!LN(t);){if(yN(t)&&!oB(t))return t;t=qN(t)}return n}let i=aB(e,t);for(;i&&wN(i)&&oB(i);)i=aB(i,t);return i&&LN(i)&&oB(i)&&!NN(i)?n:i||function(e){let t=qN(e);for(;TN(t)&&!LN(t);){if(NN(t))return t;if(PN(t))return null;t=qN(t)}return null}(e)||n}const uB={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:i,strategy:r}=e;const o="fixed"===r,a=bN(i),s=!!t&&PN(t.floating);if(i===a||s&&o)return n;let u={scrollLeft:0,scrollTop:0},c=GQ(1);const l=GQ(0),d=TN(i);if((d||!d&&!o)&&(("body"!==EN(i)||_N(a))&&(u=UN(i)),TN(i))){const e=HN(i);c=GN(i),l.x=e.x+i.clientLeft,l.y=e.y+i.clientTop}const h=!a||d||o?GQ(0):JN(a,u);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+l.x+h.x,y:n.y*c.y-u.scrollTop*c.y+l.y+h.y}},getDocumentElement:bN,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:i,strategy:r}=e;const o=[..."clippingAncestors"===n?PN(t)?[]:iB(t,this._c):[].concat(n),i],a=o[0],s=o.reduce((e,n)=>{const i=tB(t,n,r);return e.top=ZQ(i.top,e.top),e.right=zQ(i.right,e.right),e.bottom=zQ(i.bottom,e.bottom),e.left=ZQ(i.left,e.left),e},tB(t,a,r));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:sB,getElementRects:async function(e){const t=this.getOffsetParent||sB,n=this.getDimensions,i=await n(e.floating);return{reference:rB(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=jN(e);return{width:t,height:n}},getScale:GN,isElement:yN,isRTL:function(e){return"rtl"===$N(e).direction}};function cB(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}const lB=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:r,middlewareData:o,rects:a,initialPlacement:s,platform:u,elements:c}=t,l=KQ(e,t),{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:O=!0}=l,g=Qe(l,Y);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const D=JQ(r),v=rN(s),E=JQ(s)===s,C=await(null==u.isRTL?void 0:u.isRTL(c.floating)),b=p||(E||!O?[dN(s)]:function(e){const t=dN(e);return[aN(e),t,aN(t)]}(s)),k="none"!==m;!p&&k&&b.push(...function(e,t,n,i){const r=eN(e);let o=function(e,t,n){switch(e){case"top":case"bottom":return n?t?uN:sN:t?sN:uN;case"left":case"right":return t?cN:lN;default:return[]}}(JQ(e),"start"===n,i);return r&&(o=o.map(e=>e+"-"+r),t&&(o=o.concat(o.map(aN)))),o}(s,O,m,C));const y=[s,...b],T=await mN(t,g),A=[];let S=(null==(i=o.flip)?void 0:i.overflows)||[];if(d&&A.push(T[D]),h){const e=function(e,t,n){void 0===n&&(n=!1);const i=eN(e),r=oN(e),o=nN(r);let a="x"===r?i===(n?"end":"start")?"right":"left":"start"===i?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=dN(a)),[a,dN(a)]}(r,a,C);A.push(T[e[0]],T[e[1]])}if(S=[...S,{placement:r,overflows:A}],!A.every(e=>e<=0)){var _,F;const e=((null==(_=o.flip)?void 0:_.index)||0)+1,t=y[e];if(t&&("alignment"!==h||v===rN(t)||S.every(e=>rN(e.placement)!==v||e.overflows[0]>0)))return{data:{index:e,overflows:S},reset:{placement:t}};let n=null==(F=S.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:F.placement;if(!n)switch(f){case"bestFit":{var w;const e=null==(w=S.filter(e=>{if(k){const t=rN(e.placement);return t===v||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:w[0];e&&(n=e);break}case"initialPlacement":n=s}if(r!==n)return{reset:{placement:n}}}return{}}}},dB=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:r,rects:o,platform:a,elements:s,middlewareData:u}=t,{element:c,padding:l=0}=KQ(e,t)||{};if(null==c)return{};const d=hN(l),h={x:n,y:i},p=oN(r),f=nN(p),m=await a.getDimensions(c),O="y"===p,g=O?"top":"left",D=O?"bottom":"right",v=O?"clientHeight":"clientWidth",E=o.reference[f]+o.reference[p]-h[p]-o.floating[f],C=h[p]-o.reference[p],b=await(null==a.getOffsetParent?void 0:a.getOffsetParent(c));let k=b?b[v]:0;(!k||!await(null==a.isElement?void 0:a.isElement(b)))&&(k=s.floating[v]||o.floating[f]);const y=E/2-C/2,T=k/2-m[f]/2-1,A=zQ(d[g],T),S=zQ(d[D],T),_=A,F=k-m[f]-S,w=k/2-m[f]/2+y,x=HQ(_,w,F),P=!u.arrow&&null!=eN(r)&&w!==x&&o.reference[f]/2-(w<_?A:S)-m[f]/2<0,R=P?w<_?w-_:w-F:0;return{[p]:h[p]+R,data:Be({[p]:x,centerOffset:w-x-R},P&&{alignmentOffset:R}),reset:P}}});var hB=typeof document<"u"?fn:function(){};function pB(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,i,r;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;0!==i--;)if(!pB(e[i],t[i]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(i=n;0!==i--;)if(!{}.hasOwnProperty.call(t,r[i]))return!1;for(i=n;0!==i--;){const n=r[i];if(!("_owner"===n&&e.$$typeof||pB(e[n],t[n])))return!1}return!0}return e!=e&&t!=t}function fB(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function mB(e,t){const n=fB(e);return Math.round(t*n)/n}function OB(e){const t=mn(e);return hB(()=>{t.current=e}),t}const gB=(e,t)=>Be(Be({},function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:r,y:o,placement:a,middlewareData:s}=t,u=await async function(e,t){const{placement:n,platform:i,elements:r}=e,o=await(null==i.isRTL?void 0:i.isRTL(r.floating)),a=JQ(n),s=eN(n),u="y"===rN(n),c=DN.has(a)?-1:1,l=o&&u?-1:1,d=KQ(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:f}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"==typeof f&&(p="end"===s?-1*f:f),u?{x:p*l,y:h*c}:{x:h*c,y:p*l}}(t,e);return a===(null==(n=s.offset)?void 0:n.placement)&&null!=(i=s.arrow)&&i.alignmentOffset?{}:{x:r+u.x,y:o+u.y,data:Be(Be({},u),{},{placement:a})}}}}(e)),{},{options:[e,t]}),DB=(e,t)=>Be(Be({},function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:r}=t,o=KQ(e,t),{mainAxis:a=!0,crossAxis:s=!1,limiter:u={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}}}=o,c=Qe(o,K),l={x:n,y:i},d=await mN(t,c),h=rN(JQ(r)),p=tN(h);let f=l[p],m=l[h];if(a){const e="y"===p?"bottom":"right";f=HQ(f+d["y"===p?"top":"left"],f,f-d[e])}if(s){const e="y"===h?"bottom":"right";m=HQ(m+d["y"===h?"top":"left"],m,m-d[e])}const O=u.fn(Be(Be({},t),{},{[p]:f,[h]:m}));return Be(Be({},O),{},{data:{x:O.x-n,y:O.y-i,enabled:{[p]:a,[h]:s}}})}}}(e)),{},{options:[e,t]}),vB=(e,t)=>Be(Be({},function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:r,rects:o,middlewareData:a}=t,{offset:s=0,mainAxis:u=!0,crossAxis:c=!0}=KQ(e,t),l={x:n,y:i},d=rN(r),h=tN(d);let p=l[h],f=l[d];const m=KQ(s,t),O="number"==typeof m?{mainAxis:m,crossAxis:0}:Be({mainAxis:0,crossAxis:0},m);if(u){const e="y"===h?"height":"width",t=o.reference[h]-o.floating[e]+O.mainAxis,n=o.reference[h]+o.reference[e]-O.mainAxis;p<t?p=t:p>n&&(p=n)}if(c){var g,D;const e="y"===h?"width":"height",t=DN.has(JQ(r)),n=o.reference[d]-o.floating[e]+(t&&(null==(g=a.offset)?void 0:g[d])||0)+(t?0:O.crossAxis),i=o.reference[d]+o.reference[e]+(t?0:(null==(D=a.offset)?void 0:D[d])||0)-(t?O.crossAxis:0);f<n?f=n:f>i&&(f=i)}return{[h]:p,[d]:f}}}}(e)),{},{options:[e,t]}),EB=(e,t)=>Be(Be({},lB(e)),{},{options:[e,t]}),CB=(e,t)=>Be(Be({},function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,i;const{placement:r,rects:o,platform:a,elements:s}=t,u=KQ(e,t),{apply:c=()=>{}}=u,l=Qe(u,J),d=await mN(t,l),h=JQ(r),p=eN(r),f="y"===rN(r),{width:m,height:O}=o.floating;let g,D;"top"===h||"bottom"===h?(g=h,D=p===(await(null==a.isRTL?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(D=h,g="end"===p?"top":"bottom");const v=O-d.top-d.bottom,E=m-d.left-d.right,C=zQ(O-d[g],v),b=zQ(m-d[D],E),k=!t.middlewareData.shift;let y=C,T=b;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(T=E),null!=(i=t.middlewareData.shift)&&i.enabled.y&&(y=v),k&&!p){const e=ZQ(d.left,0),t=ZQ(d.right,0),n=ZQ(d.top,0),i=ZQ(d.bottom,0);f?T=m-2*(0!==e||0!==t?e+t:ZQ(d.left,d.right)):y=O-2*(0!==n||0!==i?n+i:ZQ(d.top,d.bottom))}await c(Be(Be({},t),{},{availableWidth:T,availableHeight:y}));const A=await a.getDimensions(s.floating);return m!==A.width||O!==A.height?{reset:{rects:!0}}:{}}}}(e)),{},{options:[e,t]}),bB=(e,t)=>Be(Be({},function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,i=KQ(e,t),{strategy:r="referenceHidden"}=i,o=Qe(i,H);switch(r){case"referenceHidden":{const e=ON(await mN(t,Be(Be({},o),{},{elementContext:"reference"})),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:gN(e)}}}case"escaped":{const e=ON(await mN(t,Be(Be({},o),{},{altBoundary:!0})),n.floating);return{data:{escapedOffsets:e,escaped:gN(e)}}}default:return{}}}}}(e)),{},{options:[e,t]}),kB=(e,t)=>Be(Be({},(e=>({name:"arrow",options:e,fn(t){const{element:n,padding:i}="function"==typeof e?e(t):e;return n&&function(e){return{}.hasOwnProperty.call(e,"current")}(n)?null!=n.current?dB({element:n.current,padding:i}).fn(t):{}:n?dB({element:n,padding:i}).fn(t):{}}}))(e)),{},{options:[e,t]});var yB=Un((e,t)=>{const{children:n,width:i=10,height:r=5}=e,o=Qe(e,ee);return Vt(DQ.svg,Be(Be({},o),{},{ref:t,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:Vt("polygon",{points:"0,0 30,0 15,10"})}))});yB.displayName="Arrow";var TB=yB,AB="Popper",[SB,_B]=dQ(AB),[FB,wB]=SB(AB),xB=e=>{const{__scopePopper:t,children:n}=e,[i,r]=dn(null);return Vt(FB,{scope:t,anchor:i,onAnchorChange:r,children:n})};xB.displayName=AB;var PB="PopperAnchor",RB=Un((e,t)=>{const{__scopePopper:n,virtualRef:i}=e,r=Qe(e,te),o=wB(PB,n),a=mn(null),s=km(t,a),u=mn(null);return pn(()=>{const e=u.current;u.current=(null==i?void 0:i.current)||a.current,e!==u.current&&o.onAnchorChange(u.current)}),i?null:Vt(DQ.div,Be(Be({},r),{},{ref:s}))});RB.displayName=PB;var IB="PopperContent",[QB,NB]=SB(IB),BB=Un((e,t)=>{var n,i,r,o,a,s,u,c;const{__scopePopper:l,side:d="bottom",sideOffset:h=0,align:p="center",alignOffset:f=0,arrowPadding:m=0,avoidCollisions:O=!0,collisionBoundary:g=[],collisionPadding:D=0,sticky:v="partial",hideWhenDetached:E=!1,updatePositionStrategy:C="optimized",onPlaced:b}=e,k=Qe(e,ne),y=wB(IB,l),[T,A]=dn(null),S=km(t,e=>A(e)),[_,F]=dn(null),w=function(e){const[t,n]=dn(void 0);return LQ(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t)||!t.length)return;const i=t[0];let r,o;if("borderBoxSize"in i){const e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,o=t.blockSize}else r=e.offsetWidth,o=e.offsetHeight;n({width:r,height:o})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}(_),x=null!==(n=null==w?void 0:w.width)&&void 0!==n?n:0,P=null!==(i=null==w?void 0:w.height)&&void 0!==i?i:0,R=d+("center"!==p?"-"+p:""),I="number"==typeof D?D:Be({top:0,right:0,bottom:0,left:0},D),Q=Array.isArray(g)?g:[g],N=Q.length>0,B={padding:I,boundary:Q.filter(UB),altBoundary:N},{refs:M,floatingStyles:L,placement:$,isPositioned:U,middlewareData:q}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:u,open:c}=e,[l,d]=dn({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=dn(i);pB(h,i)||p(i);const[f,m]=dn(null),[O,g]=dn(null),D=Dn(e=>{e!==b.current&&(b.current=e,m(e))},[]),v=Dn(e=>{e!==k.current&&(k.current=e,g(e))},[]),E=o||f,C=a||O,b=mn(null),k=mn(null),y=mn(l),T=null!=u,A=OB(u),S=OB(r),_=OB(c),F=Dn(()=>{if(!b.current||!k.current)return;const e={placement:t,strategy:n,middleware:h};S.current&&(e.platform=S.current),((e,t,n)=>{const i=new Map,r=Be({platform:uB},n),o=Be(Be({},r.platform),{},{_c:i});return(async(e,t,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),u=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:r}),{x:l,y:d}=fN(c,i,u),h=i,p={},f=0;for(let n=0;n<s.length;n++){const{name:o,fn:m}=s[n],{x:O,y:g,data:D,reset:v}=await m({x:l,y:d,initialPlacement:i,placement:h,strategy:r,middlewareData:p,rects:c,platform:a,elements:{reference:e,floating:t}});l=null!=O?O:l,d=null!=g?g:d,p=Be(Be({},p),{},{[o]:Be(Be({},p[o]),D)}),v&&f<=50&&(f++,"object"==typeof v&&(v.placement&&(h=v.placement),v.rects&&(c=!0===v.rects?await a.getElementRects({reference:e,floating:t,strategy:r}):v.rects),({x:l,y:d}=fN(c,h,u))),n=-1)}return{x:l,y:d,placement:h,strategy:r,middlewareData:p}})(e,t,Be(Be({},r),{},{platform:o}))})(b.current,k.current,e).then(e=>{const t=Be(Be({},e),{},{isPositioned:!1!==_.current});w.current&&!pB(y.current,t)&&(y.current=t,_i(()=>{d(t)}))})},[h,t,n,S,_]);hB(()=>{!1===c&&y.current.isPositioned&&(y.current.isPositioned=!1,d(e=>Be(Be({},e),{},{isPositioned:!1})))},[c]);const w=mn(!1);hB(()=>(w.current=!0,()=>{w.current=!1}),[]),hB(()=>{if(E&&(b.current=E),C&&(k.current=C),E&&C){if(A.current)return A.current(E,C,F);F()}},[E,C,F,A,T]);const x=gn(()=>({reference:b,floating:k,setReference:D,setFloating:v}),[D,v]),P=gn(()=>({reference:E,floating:C}),[E,C]),R=gn(()=>{const e={position:n,left:0,top:0};if(!P.floating)return e;const t=mB(P.floating,l.x),i=mB(P.floating,l.y);return s?Be(Be({},e),{},{transform:"translate("+t+"px, "+i+"px)"},fB(P.floating)>=1.5&&{willChange:"transform"}):{position:n,left:t,top:i}},[n,s,P.floating,l.x,l.y]);return gn(()=>Be(Be({},l),{},{update:F,refs:x,elements:P,floatingStyles:R}),[l,F,x,P,R])}({strategy:"fixed",placement:R,whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,t,n,i){void 0===i&&(i={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:u=!1}=i,c=WN(e),l=r||o?[...c?zN(c):[],...zN(t)]:[];l.forEach(e=>{r&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)});const d=c&&s?function(e,t){let n,i=null;const r=bN(e);function o(){var e;clearTimeout(n),null==(e=i)||e.disconnect(),i=null}return function a(s,u){void 0===s&&(s=!1),void 0===u&&(u=1),o();const c=e.getBoundingClientRect(),{left:l,top:d,width:h,height:p}=c;if(s||t(),!h||!p)return;const f={rootMargin:-WQ(d)+"px "+-WQ(r.clientWidth-(l+h))+"px "+-WQ(r.clientHeight-(d+p))+"px "+-WQ(l)+"px",threshold:ZQ(0,zQ(1,u))||1};let m=!0;function O(t){const i=t[0].intersectionRatio;if(i!==u){if(!m)return a();i?a(!1,i):n=setTimeout(()=>{a(!1,1e-7)},1e3)}1===i&&!cB(c,e.getBoundingClientRect())&&a(),m=!1}try{i=new IntersectionObserver(O,Be(Be({},f),{},{root:r.ownerDocument}))}catch(e){i=new IntersectionObserver(O,f)}i.observe(e)}(!0),o}(c,n):null;let h=-1,p=null;a&&(p=new ResizeObserver(e=>{let[i]=e;i&&i.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var e;null==(e=p)||e.observe(t)})),n()}),c&&!u&&p.observe(c),p.observe(t));let f,m=u?HN(e):null;return u&&function t(){const i=HN(e);m&&!cB(m,i)&&n(),m=i,f=requestAnimationFrame(t)}(),n(),()=>{var e;l.forEach(e=>{r&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)}),null==d||d(),null==(e=p)||e.disconnect(),p=null,u&&cancelAnimationFrame(f)}}(...t,{animationFrame:"always"===C})},elements:{reference:y.anchor},middleware:[gB({mainAxis:h+P,alignmentAxis:f}),O&&DB(Be({mainAxis:!0,crossAxis:!1,limiter:"partial"===v?vB():void 0},B)),O&&EB(Be({},B)),CB(Be(Be({},B),{},{apply:e=>{let{elements:t,rects:n,availableWidth:i,availableHeight:r}=e;const{width:o,height:a}=n.reference,s=t.floating.style;s.setProperty("--radix-popper-available-width","".concat(i,"px")),s.setProperty("--radix-popper-available-height","".concat(r,"px")),s.setProperty("--radix-popper-anchor-width","".concat(o,"px")),s.setProperty("--radix-popper-anchor-height","".concat(a,"px"))}})),_&&kB({element:_,padding:m}),qB({arrowWidth:x,arrowHeight:P}),E&&bB(Be({strategy:"referenceHidden"},B))]}),[X,z]=XB($),Z=vQ(b);LQ(()=>{U&&(null==Z||Z())},[U,Z]);const j=null==(r=q.arrow)?void 0:r.x,W=null==(o=q.arrow)?void 0:o.y,G=0!==(null==(a=q.arrow)?void 0:a.centerOffset),[V,Y]=dn();return LQ(()=>{T&&Y(window.getComputedStyle(T).zIndex)},[T]),Vt("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:Be(Be({},L),{},{transform:U?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:V,"--radix-popper-transform-origin":[null==(s=q.transformOrigin)?void 0:s.x,null==(u=q.transformOrigin)?void 0:u.y].join(" ")},(null==(c=q.hide)?void 0:c.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:Vt(QB,{scope:l,placedSide:X,onArrowChange:F,arrowX:j,arrowY:W,shouldHideArrow:G,children:Vt(DQ.div,Be(Be({"data-side":X,"data-align":z},k),{},{ref:S,style:Be(Be({},k.style),{},{animation:U?void 0:"none"})}))})})});BB.displayName=IB;var MB="PopperArrow",LB={top:"bottom",right:"left",bottom:"top",left:"right"},$B=Un(function(e,t){const{__scopePopper:n}=e,i=Qe(e,ie),r=NB(MB,n),o=LB[r.placedSide];return Vt("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:Vt(TB,Be(Be({},i),{},{ref:t,style:Be(Be({},i.style),{},{display:"block"})}))})});function UB(e){return null!==e}$B.displayName=MB;var qB=e=>({name:"transformOrigin",options:e,fn(t){var n,i,r,o,a;const{placement:s,rects:u,middlewareData:c}=t,l=0!==(null==(r=c.arrow)?void 0:r.centerOffset),d=l?0:e.arrowWidth,h=l?0:e.arrowHeight,[p,f]=XB(s),m={start:"0%",center:"50%",end:"100%"}[f],O=(null!==(n=null==(o=c.arrow)?void 0:o.x)&&void 0!==n?n:0)+d/2,g=(null!==(i=null==(a=c.arrow)?void 0:a.y)&&void 0!==i?i:0)+h/2;let D="",v="";return"bottom"===p?(D=l?m:"".concat(O,"px"),v="".concat(-h,"px")):"top"===p?(D=l?m:"".concat(O,"px"),v="".concat(u.floating.height+h,"px")):"right"===p?(D="".concat(-h,"px"),v=l?m:"".concat(g,"px")):"left"===p&&(D="".concat(u.floating.width+h,"px"),v=l?m:"".concat(g,"px")),{data:{x:D,y:v}}}});function XB(e){const[t,n="center"]=e.split("-");return[t,n]}var zB=xB,ZB=RB,jB=BB,WB=$B,GB=Un((e,t)=>{var n;const{container:i}=e,r=Qe(e,re),[o,a]=dn(!1);LQ(()=>a(!0),[]);const s=i||o&&(null==(n=null==globalThis?void 0:globalThis.document)?void 0:n.body);return s?xi.createPortal(Vt(DQ.div,Be(Be({},r),{},{ref:t})),s):null});GB.displayName="Portal";var VB=Pi[" useInsertionEffect ".trim().toString()]||LQ;function YB(e){let{prop:t,defaultProp:n,onChange:i=()=>{},caller:r}=e;const[o,a,s]=function(e){let{defaultProp:t,onChange:n}=e;const[i,r]=dn(t),o=mn(i),a=mn(n);return VB(()=>{a.current=n},[n]),pn(()=>{var e;o.current!==i&&(null==(e=a.current)||e.call(a,i),o.current=i)},[i,o]),[i,r,a]}({defaultProp:n,onChange:i}),u=void 0!==t,c=u?t:o;{const e=mn(void 0!==t);pn(()=>{const t=e.current;t!==u&&console.warn("".concat(r," is changing from ").concat(t?"controlled":"uncontrolled"," to ").concat(u?"controlled":"uncontrolled",". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.")),e.current=u},[u,r])}return[c,Dn(e=>{var n;if(u){const i=function(e){return"function"==typeof e}(e)?e(t):e;i!==t&&(null==(n=s.current)||n.call(s,i))}else a(e)},[u,t,a,s])]}var HB=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),KB=Un((e,t)=>Vt(DQ.span,Be(Be({},e),{},{ref:t,style:Be(Be({},HB),e.style)})));KB.displayName="VisuallyHidden";var JB=new WeakMap,eM=new WeakMap,tM={},nM=0,iM=function(e){return e&&(e.host||iM(e.parentNode))},rM=function(e,t,n){void 0===n&&(n="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),r=function(e){return typeof document>"u"?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live], script"))),function(e,t,n,i){var r=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=iM(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return!!e})}(t,Array.isArray(e)?e:[e]);tM[n]||(tM[n]=new WeakMap);var o=tM[n],a=[],s=new Set,u=new Set(r),c=function(e){!e||s.has(e)||(s.add(e),c(e.parentNode))};r.forEach(c);var l=function(e){!e||u.has(e)||Array.prototype.forEach.call(e.children,function(e){if(s.has(e))l(e);else try{var t=e.getAttribute(i),r=null!==t&&"false"!==t,u=(JB.get(e)||0)+1,c=(o.get(e)||0)+1;JB.set(e,u),o.set(e,c),a.push(e),1===u&&r&&eM.set(e,!0),1===c&&e.setAttribute(n,"true"),r||e.setAttribute(i,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return l(t),s.clear(),nM++,function(){a.forEach(function(e){var t=JB.get(e)-1,r=o.get(e)-1;JB.set(e,t),o.set(e,r),t||(eM.has(e)||e.removeAttribute(i),eM.delete(e)),r||e.removeAttribute(n)}),--nM||(JB=new WeakMap,JB=new WeakMap,eM=new WeakMap,tM={})}}(i,r,n,"aria-hidden")):function(){return null}},oM=function(){return oM=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},oM.apply(this,arguments)};function aM(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}var sM="right-scroll-bar-position",uM="width-before-scroll-bar";function cM(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var lM=typeof window<"u"?fn:pn,dM=new WeakMap;function hM(e){return e}var pM=function(e){var t=e.sideCar,n=aM(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return at(i,oM({},n))};pM.isSideCarExport=!0;var fM=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=hM);var n=[],i=!1;return{read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:null},useMedium:function(e){var r=t(e,i);return n.push(r),function(){n=n.filter(function(e){return e!==r})}},assignSyncMedium:function(e){for(i=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){i=!0;var t=[];if(n.length){var r=n;n=[],r.forEach(e),t=n}var o=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(o)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}}}();return t.options=oM({async:!0,ssr:!1},e),t}(),mM=function(){},OM=Un(function(e,t){var n=mn(null),i=dn({onScrollCapture:mM,onWheelCapture:mM,onTouchMoveCapture:mM}),r=i[0],o=i[1],a=e.forwardProps,s=e.children,u=e.className,c=e.removeScrollBar,l=e.enabled,d=e.shards,h=e.sideCar,p=e.noRelative,f=e.noIsolation,m=e.inert,O=e.allowPinchZoom,g=e.as,D=void 0===g?"div":g,v=e.gapMode,E=aM(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,b=function(e){var t=function(e,t){var n=dn(function(){return{value:null,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}})[0];return n.callback=t,n.facade}(0,function(t){return e.forEach(function(e){return cM(e,t)})});return lM(function(){var n=dM.get(t);if(n){var i=new Set(n),r=new Set(e),o=t.current;i.forEach(function(e){r.has(e)||cM(e,null)}),r.forEach(function(e){i.has(e)||cM(e,o)})}dM.set(t,e)},[e]),t}([n,t]),k=oM(oM({},E),r);return at(ct,null,l&&at(C,{sideCar:fM,removeScrollBar:c,shards:d,noRelative:p,noIsolation:f,inert:m,setCallbacks:o,allowPinchZoom:!!O,lockRef:n,gapMode:v}),a?yi(Xn.only(s),oM(oM({},k),{ref:b})):at(D,oM({},k,{className:u,ref:b}),s))});OM.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},OM.classNames={fullWidth:uM,zeroRight:sM};var gM=function(){var e=0,t=null;return{add:function(i){0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=n.nc;return t&&e.setAttribute("nonce",t),e}())&&(function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}(t,i),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},DM=function(){var e=function(){var e=gM();return function(t,n){pn(function(){return e.add(t),function(){e.remove()}},[t&&n])}}();return function(t){var n=t.styles,i=t.dynamic;return e(n,i),null}},vM={left:0,top:0,right:0,gap:0},EM=function(e){return parseInt(e||"",10)||0},CM=DM(),bM="data-scroll-locked",kM=function(e,t,n,i){var r=e.left,o=e.top,a=e.right,s=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(i,";\n   padding-right: ").concat(s,"px ").concat(i,";\n  }\n  body[").concat(bM,"] {\n    overflow: hidden ").concat(i,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(i,";"),"margin"===n&&"\n    padding-left: ".concat(r,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(i,";\n    "),"padding"===n&&"padding-right: ".concat(s,"px ").concat(i,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(sM," {\n    right: ").concat(s,"px ").concat(i,";\n  }\n  \n  .").concat(uM," {\n    margin-right: ").concat(s,"px ").concat(i,";\n  }\n  \n  .").concat(sM," .").concat(sM," {\n    right: 0 ").concat(i,";\n  }\n  \n  .").concat(uM," .").concat(uM," {\n    margin-right: 0 ").concat(i,";\n  }\n  \n  body[").concat(bM,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},yM=function(){var e=parseInt(document.body.getAttribute(bM)||"0",10);return isFinite(e)?e:0},TM=function(e){var t=e.noRelative,n=e.noImportant,i=e.gapMode,r=void 0===i?"margin":i;pn(function(){return document.body.setAttribute(bM,(yM()+1).toString()),function(){var e=yM()-1;e<=0?document.body.removeAttribute(bM):document.body.setAttribute(bM,e.toString())}},[]);var o=gn(function(){return function(e){if(void 0===e&&(e="margin"),typeof window>"u")return vM;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],i=t["padding"===e?"paddingTop":"marginTop"],r=t["padding"===e?"paddingRight":"marginRight"];return[EM(n),EM(i),EM(r)]}(e),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}}(r)},[r]);return at(CM,{styles:kM(o,!t,r,n?"":"!important")})},AM=!1;if(typeof window<"u")try{var SM=Object.defineProperty({},"passive",{get:function(){return AM=!0,!0}});window.addEventListener("test",SM,SM),window.removeEventListener("test",SM,SM)}catch(e){AM=!1}var _M=!!AM&&{passive:!1},FM=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},wM=function(e,t){var n=t.ownerDocument,i=t;do{if(typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host),xM(e,i)){var r=PM(e,i);if(r[1]>r[2])return!0}i=i.parentNode}while(i&&i!==n.body);return!1},xM=function(e,t){return"v"===e?function(e){return FM(e,"overflowY")}(t):function(e){return FM(e,"overflowX")}(t)},PM=function(e,t){return"v"===e?function(e){return[e.scrollTop,e.scrollHeight,e.clientHeight]}(t):function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t)},RM=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},IM=function(e){return[e.deltaX,e.deltaY]},QM=function(e){return e&&"current"in e?e.current:e},NM=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},BM=0,MM=[];function LM(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $M=function(e){return e.useMedium(function(e){var t=mn([]),n=mn([0,0]),i=mn(),r=dn(BM++)[0],o=dn(DM)[0],a=mn(e);pn(function(){a.current=e},[e]),pn(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var t=function(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(QM),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var s=Dn(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!a.current.allowPinchZoom;var r,o=RM(e),s=n.current,u="deltaX"in e?e.deltaX:s[0]-o[0],c="deltaY"in e?e.deltaY:s[1]-o[1],l=e.target,d=Math.abs(u)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===l.type)return!1;var h=window.getSelection(),p=h&&h.anchorNode;if(p&&(p===l||p.contains(l)))return!1;var f=wM(d,l);if(!f)return!0;if(f?r=d:(r="v"===d?"h":"v",f=wM(d,l)),!f)return!1;if(!i.current&&"changedTouches"in e&&(u||c)&&(i.current=r),!r)return!0;var m=i.current||r;return function(e,t,n,i){var r=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),o=r*i,a=n.target,s=t.contains(a),u=!1,c=o>0,l=0,d=0;do{if(!a)break;var h=PM(e,a),p=h[0],f=h[1]-h[2]-r*p;(p||f)&&xM(e,a)&&(l+=f,d+=p);var m=a.parentNode;a=m&&m.nodeType===Node.DOCUMENT_FRAGMENT_NODE?m.host:m}while(!s&&a!==document.body||s&&(t.contains(a)||t===a));return(c&&Math.abs(l)<1||!c&&Math.abs(d)<1)&&(u=!0),u}(m,t,e,"h"===m?u:c)},[]),u=Dn(function(e){var n=e;if(MM.length&&MM[MM.length-1]===o){var i="deltaY"in n?IM(n):RM(n),r=t.current.filter(function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,i)})[0];if(r&&r.should)return void(n.cancelable&&n.preventDefault());if(!r){var u=(a.current.shards||[]).map(QM).filter(Boolean).filter(function(e){return e.contains(n.target)});(u.length>0?s(n,u[0]):!a.current.noIsolation)&&n.cancelable&&n.preventDefault()}}},[]),c=Dn(function(e,n,i,r){var o={name:e,delta:n,target:i,should:r,shadowParent:LM(i)};t.current.push(o),setTimeout(function(){t.current=t.current.filter(function(e){return e!==o})},1)},[]),l=Dn(function(e){n.current=RM(e),i.current=void 0},[]),d=Dn(function(t){c(t.type,IM(t),t.target,s(t,e.lockRef.current))},[]),h=Dn(function(t){c(t.type,RM(t),t.target,s(t,e.lockRef.current))},[]);pn(function(){return MM.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",u,_M),document.addEventListener("touchmove",u,_M),document.addEventListener("touchstart",l,_M),function(){MM=MM.filter(function(e){return e!==o}),document.removeEventListener("wheel",u,_M),document.removeEventListener("touchmove",u,_M),document.removeEventListener("touchstart",l,_M)}},[]);var p=e.removeScrollBar;return at(ct,null,e.inert?at(o,{styles:NM(r)}):null,p?at(TM,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}),pM}(fM);var UM=Un(function(e,t){return at(OM,oM({},e,{ref:t,sideCar:$M}))});UM.classNames=OM.classNames;var qM=[" ","Enter","ArrowUp","ArrowDown"],XM=[" ","Enter"],zM="Select",[ZM,jM,WM]=function(e){const t=e+"CollectionProvider",[n,i]=dQ(t),[r,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=e=>{const{scope:t,children:n}=e,i=xi.useRef(null),o=xi.useRef(new Map).current;return Vt(r,{scope:t,itemMap:o,collectionRef:i,children:n})};a.displayName=t;const s=e+"CollectionSlot",u=pQ(s),c=xi.forwardRef((e,t)=>{const{scope:n,children:i}=e,r=km(t,o(s,n).collectionRef);return Vt(u,{ref:r,children:i})});c.displayName=s;const l=e+"CollectionItemSlot",d="data-radix-collection-item",h=pQ(l),p=xi.forwardRef((e,t)=>{const{scope:n,children:i}=e,r=Qe(e,j),a=xi.useRef(null),s=km(t,a),u=o(l,n);return xi.useEffect(()=>(u.itemMap.set(a,Be({ref:a},r)),()=>{u.itemMap.delete(a)})),Vt(h,{[d]:"",ref:s,children:i})});return p.displayName=l,[{Provider:a,Slot:c,ItemSlot:p},function(t){const n=o(e+"CollectionConsumer",t);return xi.useCallback(()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll("[".concat(d,"]")));return Array.from(n.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current))},[n.collectionRef,n.itemMap])},i]}(zM),[GM]=dQ(zM,[WM,_B]),VM=_B(),[YM,HM]=GM(zM),[KM,JM]=GM(zM),eL=e=>{const{__scopeSelect:t,children:n,open:i,defaultOpen:r,onOpenChange:o,value:a,defaultValue:s,onValueChange:u,dir:c,name:l,autoComplete:d,disabled:h,required:p,form:f}=e,m=VM(t),[O,g]=dn(null),[D,v]=dn(null),[E,C]=dn(!1),b=function(e){const t=vn(gQ);return e||t||"ltr"}(c),[k,y]=YB({prop:i,defaultProp:null!=r&&r,onChange:o,caller:zM}),[T,A]=YB({prop:a,defaultProp:s,onChange:u,caller:zM}),S=mn(null),_=!O||f||!!O.closest("form"),[F,w]=dn(new Set),x=Array.from(F).map(e=>e.props.value).join(";");return Vt(zB,Be(Be({},m),{},{children:Vt(YM,{required:p,scope:t,trigger:O,onTriggerChange:g,valueNode:D,onValueNodeChange:v,valueNodeHasChildren:E,onValueNodeHasChildrenChange:C,contentId:qQ(),value:T,onValueChange:A,open:k,onOpenChange:y,dir:b,triggerPointerDownPosRef:S,disabled:h,children:[Vt(ZM.Provider,{scope:t,children:Vt(KM,{scope:e.__scopeSelect,onNativeOptionAdd:Dn(e=>{w(t=>new Set(t).add(e))},[]),onNativeOptionRemove:Dn(e=>{w(t=>{const n=new Set(t);return n.delete(e),n})},[]),children:n})}),_?Vt(qL,{"aria-hidden":!0,required:p,tabIndex:-1,name:l,autoComplete:d,value:T,onChange:e=>A(e.target.value),disabled:h,form:f,children:[void 0===T?Vt("option",{value:""}):null,Array.from(F)]},x):null]})}))};eL.displayName=zM;var tL="SelectTrigger",nL=Un((e,t)=>{const{__scopeSelect:n,disabled:i=!1}=e,r=Qe(e,oe),o=VM(n),a=HM(tL,n),s=a.disabled||i,u=km(t,a.onTriggerChange),c=jM(n),l=mn("touch"),[d,h,p]=zL(e=>{const t=c().filter(e=>!e.disabled),n=t.find(e=>e.value===a.value),i=ZL(t,e,n);void 0!==i&&a.onValueChange(i.value)}),f=e=>{s||(a.onOpenChange(!0),p()),e&&(a.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return Vt(ZB,Be(Be({asChild:!0},o),{},{children:Vt(DQ.button,Be(Be({type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":XL(a.value)?"":void 0},r),{},{ref:u,onClick:lQ(r.onClick,e=>{e.currentTarget.focus(),"mouse"!==l.current&&f(e)}),onPointerDown:lQ(r.onPointerDown,e=>{l.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(f(e),e.preventDefault())}),onKeyDown:lQ(r.onKeyDown,e=>{const t=""!==d.current;!(e.ctrlKey||e.altKey||e.metaKey)&&1===e.key.length&&h(e.key),(!t||" "!==e.key)&&qM.includes(e.key)&&(f(),e.preventDefault())})}))}))});nL.displayName=tL;var iL="SelectValue",rL=Un((e,t)=>{const{__scopeSelect:n,className:i,style:r,children:o,placeholder:a=""}=e,s=Qe(e,ae),u=HM(iL,n),{onValueNodeHasChildrenChange:c}=u,l=void 0!==o,d=km(t,u.onValueNodeChange);return LQ(()=>{c(l)},[c,l]),Vt(DQ.span,Be(Be({},s),{},{ref:d,style:{pointerEvents:"none"},children:XL(u.value)?Vt(ct,{children:a}):o}))});rL.displayName=iL;var oL=Un((e,t)=>{const{__scopeSelect:n,children:i}=e,r=Qe(e,se);return Vt(DQ.span,Be(Be({"aria-hidden":!0},r),{},{ref:t,children:i||""}))});oL.displayName="SelectIcon";var aL=e=>Vt(GB,Be({asChild:!0},e));aL.displayName="SelectPortal";var sL="SelectContent",uL=Un((e,t)=>{const n=HM(sL,e.__scopeSelect),[i,r]=dn();if(LQ(()=>{r(new DocumentFragment)},[]),!n.open){const t=i;return t?ti(Vt(lL,{scope:e.__scopeSelect,children:Vt(ZM.Slot,{scope:e.__scopeSelect,children:Vt("div",{children:e.children})})}),t):null}return Vt(pL,Be(Be({},e),{},{ref:t}))});uL.displayName=sL;var cL=10,[lL,dL]=GM(sL),hL=pQ("SelectContent.RemoveScroll"),pL=Un((e,t)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:o,onPointerDownOutside:a,side:s,sideOffset:u,align:c,alignOffset:l,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:f,hideWhenDetached:m,avoidCollisions:O}=e,g=Qe(e,ue),D=HM(sL,n),[v,E]=dn(null),[C,b]=dn(null),k=km(t,e=>E(e)),[y,T]=dn(null),[A,S]=dn(null),_=jM(n),[F,w]=dn(!1),x=mn(!1);pn(()=>{if(v)return rM(v)},[v]),pn(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:_Q()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:_Q()),SQ++,()=>{1===SQ&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),SQ--}},[]);const P=Dn(e=>{const[t,...n]=_().map(e=>e.ref.current),[i]=n.slice(-1),r=document.activeElement;for(const n of e)if(n===r||(null==n||n.scrollIntoView({block:"nearest"}),n===t&&C&&(C.scrollTop=0),n===i&&C&&(C.scrollTop=C.scrollHeight),null==n||n.focus(),document.activeElement!==r))return},[_,C]),R=Dn(()=>P([y,v]),[P,y,v]);pn(()=>{F&&R()},[F,R]);const{onOpenChange:I,triggerPointerDownPosRef:Q}=D;pn(()=>{if(v){let e={x:0,y:0};const t=t=>{var n,i,r,o;e={x:Math.abs(Math.round(t.pageX)-(null!==(n=null==(r=Q.current)?void 0:r.x)&&void 0!==n?n:0)),y:Math.abs(Math.round(t.pageY)-(null!==(i=null==(o=Q.current)?void 0:o.y)&&void 0!==i?i:0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():v.contains(n.target)||I(!1),document.removeEventListener("pointermove",t),Q.current=null};return null!==Q.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}},[v,I,Q]),pn(()=>{const e=()=>I(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[I]);const[N,B]=zL(e=>{const t=_().filter(e=>!e.disabled),n=t.find(e=>e.ref.current===document.activeElement),i=ZL(t,e,n);i&&setTimeout(()=>i.ref.current.focus())}),M=Dn((e,t,n)=>{const i=!x.current&&!n;(void 0!==D.value&&D.value===t||i)&&(T(e),i&&(x.current=!0))},[D.value]),L=Dn(()=>null==v?void 0:v.focus(),[v]),$=Dn((e,t,n)=>{const i=!x.current&&!n;(void 0!==D.value&&D.value===t||i)&&S(e)},[D.value]),U="popper"===i?mL:fL,q=U===mL?{side:s,sideOffset:u,align:c,alignOffset:l,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:f,hideWhenDetached:m,avoidCollisions:O}:{};return Vt(lL,{scope:n,content:v,viewport:C,onViewportChange:b,itemRefCallback:M,selectedItem:y,onItemLeave:L,itemTextRefCallback:$,focusSelectedItem:R,selectedItemText:A,position:i,isPositioned:F,searchRef:N,children:Vt(UM,{as:hL,allowPinchZoom:!0,children:Vt(PQ,{asChild:!0,trapped:D.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:lQ(r,e=>{var t;null==(t=D.trigger)||t.focus({preventScroll:!0}),e.preventDefault()}),children:Vt(kQ,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:Vt(U,Be(Be(Be({role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:e=>e.preventDefault()},g),q),{},{onPlaced:()=>w(!0),ref:k,style:Be({display:"flex",flexDirection:"column",outline:"none"},g.style),onKeyDown:lQ(g.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),!t&&1===e.key.length&&B(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=_().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,i=t.indexOf(n);t=t.slice(i+1)}setTimeout(()=>P(t)),e.preventDefault()}})}))})})})})});pL.displayName="SelectContentImpl";var fL=Un((e,t)=>{const{__scopeSelect:n,onPlaced:i}=e,r=Qe(e,ce),o=HM(sL,n),a=dL(sL,n),[s,u]=dn(null),[c,l]=dn(null),d=km(t,e=>l(e)),h=jM(n),p=mn(!1),f=mn(!0),{viewport:m,selectedItem:O,selectedItemText:g,focusSelectedItem:D}=a,v=Dn(()=>{if(o.trigger&&o.valueNode&&s&&c&&m&&O&&g){const e=o.trigger.getBoundingClientRect(),t=c.getBoundingClientRect(),n=o.valueNode.getBoundingClientRect(),r=g.getBoundingClientRect();if("rtl"!==o.dir){const i=r.left-t.left,o=n.left-i,a=e.left-o,u=e.width+a,c=Math.max(u,t.width),l=window.innerWidth-cL,d=cQ(o,[cL,Math.max(cL,l-c)]);s.style.minWidth=u+"px",s.style.left=d+"px"}else{const i=t.right-r.right,o=window.innerWidth-n.right-i,a=window.innerWidth-e.right-o,u=e.width+a,c=Math.max(u,t.width),l=window.innerWidth-cL,d=cQ(o,[cL,Math.max(cL,l-c)]);s.style.minWidth=u+"px",s.style.right=d+"px"}const a=h(),u=window.innerHeight-2*cL,l=m.scrollHeight,d=window.getComputedStyle(c),f=parseInt(d.borderTopWidth,10),D=parseInt(d.paddingTop,10),v=parseInt(d.borderBottomWidth,10),E=f+D+l+parseInt(d.paddingBottom,10)+v,C=Math.min(5*O.offsetHeight,E),b=window.getComputedStyle(m),k=parseInt(b.paddingTop,10),y=parseInt(b.paddingBottom,10),T=e.top+e.height/2-cL,A=u-T,S=O.offsetHeight/2,_=f+D+(O.offsetTop+S),F=E-_;if(_<=T){const e=a.length>0&&O===a[a.length-1].ref.current;s.style.bottom="0px";const t=c.clientHeight-m.offsetTop-m.offsetHeight,n=_+Math.max(A,S+(e?y:0)+t+v);s.style.height=n+"px"}else{const e=a.length>0&&O===a[0].ref.current;s.style.top="0px";const t=Math.max(T,f+m.offsetTop+(e?k:0)+S)+F;s.style.height=t+"px",m.scrollTop=_-T+m.offsetTop}s.style.margin="".concat(cL,"px 0"),s.style.minHeight=C+"px",s.style.maxHeight=u+"px",null==i||i(),requestAnimationFrame(()=>p.current=!0)}},[h,o.trigger,o.valueNode,s,c,m,O,g,o.dir,i]);LQ(()=>v(),[v]);const[E,C]=dn();LQ(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const b=Dn(e=>{e&&!0===f.current&&(v(),null==D||D(),f.current=!1)},[v,D]);return Vt(OL,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:b,children:Vt("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:Vt(DQ.div,Be(Be({},r),{},{ref:d,style:Be({boxSizing:"border-box",maxHeight:"100%"},r.style)}))})})});fL.displayName="SelectItemAlignedPosition";var mL=Un((e,t)=>{const{__scopeSelect:n,align:i="start",collisionPadding:r=cL}=e,o=Qe(e,le),a=VM(n);return Vt(jB,Be(Be(Be({},a),o),{},{ref:t,align:i,collisionPadding:r,style:Be(Be({boxSizing:"border-box"},o.style),{},{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});mL.displayName="SelectPopperPosition";var[OL,gL]=GM(sL,{}),DL="SelectViewport",vL=Un((e,t)=>{const{__scopeSelect:n,nonce:i}=e,r=Qe(e,de),o=dL(DL,n),a=gL(DL,n),s=km(t,o.onViewportChange),u=mn(0);return Vt(ct,{children:[Vt("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),Vt(ZM.Slot,{scope:n,children:Vt(DQ.div,Be(Be({"data-radix-select-viewport":"",role:"presentation"},r),{},{ref:s,style:Be({position:"relative",flex:1,overflow:"hidden auto"},r.style),onScroll:lQ(r.onScroll,e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:i}=a;if(null!=i&&i.current&&n){const e=Math.abs(u.current-t.scrollTop);if(e>0){const i=window.innerHeight-2*cL,r=parseFloat(n.style.minHeight),o=parseFloat(n.style.height),a=Math.max(r,o);if(a<i){const r=a+e,o=Math.min(i,r),s=r-o;n.style.height=o+"px","0px"===n.style.bottom&&(t.scrollTop=s>0?s:0,n.style.justifyContent="flex-end")}}}u.current=t.scrollTop})}))})]})});vL.displayName=DL;var EL="SelectGroup",[CL,bL]=GM(EL),kL=Un((e,t)=>{const{__scopeSelect:n}=e,i=Qe(e,he),r=qQ();return Vt(CL,{scope:n,id:r,children:Vt(DQ.div,Be(Be({role:"group","aria-labelledby":r},i),{},{ref:t}))})});kL.displayName=EL;var yL="SelectLabel",TL=Un((e,t)=>{const{__scopeSelect:n}=e,i=Qe(e,pe),r=bL(yL,n);return Vt(DQ.div,Be(Be({id:r.id},i),{},{ref:t}))});TL.displayName=yL;var AL="SelectItem",[SL,_L]=GM(AL),FL=Un((e,t)=>{const{__scopeSelect:n,value:i,disabled:r=!1,textValue:o}=e,a=Qe(e,fe),s=HM(AL,n),u=dL(AL,n),c=s.value===i,[l,d]=dn(null!=o?o:""),[h,p]=dn(!1),f=km(t,e=>{var t;return null==(t=u.itemRefCallback)?void 0:t.call(u,e,i,r)}),m=qQ(),O=mn("touch"),g=()=>{r||(s.onValueChange(i),s.onOpenChange(!1))};if(""===i)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return Vt(SL,{scope:n,value:i,disabled:r,textId:m,isSelected:c,onItemTextChange:Dn(e=>{d(t=>{var n;return t||(null!==(n=null==e?void 0:e.textContent)&&void 0!==n?n:"").trim()})},[]),children:Vt(ZM.ItemSlot,{scope:n,value:i,disabled:r,textValue:l,children:Vt(DQ.div,Be(Be({role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1},a),{},{ref:f,onFocus:lQ(a.onFocus,()=>p(!0)),onBlur:lQ(a.onBlur,()=>p(!1)),onClick:lQ(a.onClick,()=>{"mouse"!==O.current&&g()}),onPointerUp:lQ(a.onPointerUp,()=>{"mouse"===O.current&&g()}),onPointerDown:lQ(a.onPointerDown,e=>{O.current=e.pointerType}),onPointerMove:lQ(a.onPointerMove,e=>{var t;O.current=e.pointerType,r?null==(t=u.onItemLeave)||t.call(u):"mouse"===O.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:lQ(a.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null==(t=u.onItemLeave)||t.call(u))}),onKeyDown:lQ(a.onKeyDown,e=>{var t;""!==(null==(t=u.searchRef)?void 0:t.current)&&" "===e.key||(XM.includes(e.key)&&g()," "===e.key&&e.preventDefault())})}))})})});FL.displayName=AL;var wL="SelectItemText",xL=Un((e,t)=>{const{__scopeSelect:n,className:i,style:r}=e,o=Qe(e,me),a=HM(wL,n),s=dL(wL,n),u=_L(wL,n),c=JM(wL,n),[l,d]=dn(null),h=km(t,e=>d(e),u.onItemTextChange,e=>{var t;return null==(t=s.itemTextRefCallback)?void 0:t.call(s,e,u.value,u.disabled)}),p=null==l?void 0:l.textContent,f=gn(()=>Vt("option",{value:u.value,disabled:u.disabled,children:p},u.value),[u.disabled,u.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:O}=c;return LQ(()=>(m(f),()=>O(f)),[m,O,f]),Vt(ct,{children:[Vt(DQ.span,Be(Be({id:u.textId},o),{},{ref:h})),u.isSelected&&a.valueNode&&!a.valueNodeHasChildren?ti(o.children,a.valueNode):null]})});xL.displayName=wL;var PL="SelectItemIndicator",RL=Un((e,t)=>{const{__scopeSelect:n}=e,i=Qe(e,Oe);return _L(PL,n).isSelected?Vt(DQ.span,Be(Be({"aria-hidden":!0},i),{},{ref:t})):null});RL.displayName=PL;var IL="SelectScrollUpButton",QL=Un((e,t)=>{const n=dL(IL,e.__scopeSelect),i=gL(IL,e.__scopeSelect),[r,o]=dn(!1),a=km(t,i.onScrollButtonChange);return LQ(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollTop>0;o(e)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),r?Vt(ML,Be(Be({},e),{},{ref:a,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null});QL.displayName=IL;var NL="SelectScrollDownButton",BL=Un((e,t)=>{const n=dL(NL,e.__scopeSelect),i=gL(NL,e.__scopeSelect),[r,o]=dn(!1),a=km(t,i.onScrollButtonChange);return LQ(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;o(n)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),r?Vt(ML,Be(Be({},e),{},{ref:a,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null});BL.displayName=NL;var ML=Un((e,t)=>{const{__scopeSelect:n,onAutoScroll:i}=e,r=Qe(e,ge),o=dL("SelectScrollButton",n),a=mn(null),s=jM(n),u=Dn(()=>{null!==a.current&&(window.clearInterval(a.current),a.current=null)},[]);return pn(()=>()=>u(),[u]),LQ(()=>{var e;const t=s().find(e=>e.ref.current===document.activeElement);null==(e=null==t?void 0:t.ref.current)||e.scrollIntoView({block:"nearest"})},[s]),Vt(DQ.div,Be(Be({"aria-hidden":!0},r),{},{ref:t,style:Be({flexShrink:0},r.style),onPointerDown:lQ(r.onPointerDown,()=>{null===a.current&&(a.current=window.setInterval(i,50))}),onPointerMove:lQ(r.onPointerMove,()=>{var e;null==(e=o.onItemLeave)||e.call(o),null===a.current&&(a.current=window.setInterval(i,50))}),onPointerLeave:lQ(r.onPointerLeave,()=>{u()})}))}),LL=Un((e,t)=>{const{__scopeSelect:n}=e,i=Qe(e,De);return Vt(DQ.div,Be(Be({"aria-hidden":!0},i),{},{ref:t}))});LL.displayName="SelectSeparator";var $L="SelectArrow",UL=Un((e,t)=>{const{__scopeSelect:n}=e,i=Qe(e,ve),r=VM(n),o=HM($L,n),a=dL($L,n);return o.open&&"popper"===a.position?Vt(WB,Be(Be(Be({},r),i),{},{ref:t})):null});UL.displayName=$L;var qL=Un((e,t)=>{let{__scopeSelect:n,value:i}=e,r=Qe(e,Ee);const o=mn(null),a=km(t,o),s=function(e){const t=mn({value:e,previous:e});return gn(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(i);return pn(()=>{const e=o.current;if(!e)return;const t=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(s!==i&&n){const t=new Event("change",{bubbles:!0});n.call(e,i),e.dispatchEvent(t)}},[s,i]),Vt(DQ.select,Be(Be({},r),{},{style:Be(Be({},HB),r.style),ref:a,defaultValue:i}))});function XL(e){return""===e||void 0===e}function zL(e){const t=vQ(e),n=mn(""),i=mn(0),r=Dn(e=>{const r=n.current+e;t(r),function e(t){n.current=t,window.clearTimeout(i.current),""!==t&&(i.current=window.setTimeout(()=>e(""),1e3))}(r)},[t]),o=Dn(()=>{n.current="",window.clearTimeout(i.current)},[]);return pn(()=>()=>window.clearTimeout(i.current),[]),[n,r,o]}function ZL(e,t,n){const i=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,r=n?e.indexOf(n):-1;let o=function(e,t){return e.map((n,i)=>e[(t+i)%e.length])}(e,Math.max(r,0));1===i.length&&(o=o.filter(e=>e!==n));const a=o.find(e=>e.textValue.toLowerCase().startsWith(i.toLowerCase()));return a!==n?a:void 0}qL.displayName="SelectBubbleInput";var jL=eL,WL=nL,GL=oL,VL=aL,YL=uL,HL=vL,KL=FL,JL=xL,e$=RL,t$=QL,n$=BL;const i$={sm:"w-4 h-4",md:"w-6 h-6"};function r$(e){let{size:t="md",flagCode:n,className:i}=e,r=Qe(e,Ce);return Vt("img",Be({className:Lm("rounded-full object-cover",i$[t],i),src:"https://storage.googleapis.com/eleven-public-cdn/images/flags/circle-flags/".concat(n,".svg"),alt:"".concat(n.toUpperCase()," flag")},r))}function o$(e){let{children:t}=e,n=Qe(e,be);const[i,r]=dn(!1),{language:o,setLanguage:a,options:s}=oo(),u=Dm();return Vt(jL,{open:i,value:o.value.languageCode,onValueChange:e=>{a(e),r(!1)},onOpenChange:e=>{e&&r(!0)},children:[t,Vt(VL,{container:u,children:Vt(YL,Be(Be({className:"overflow-hidden bg-base border border-base-border rounded-dropdown-sheet max-h-[min(384px,var(--radix-select-content-available-height))] min-w-[var(--radix-select-trigger-width)] z-10",position:"popper",sideOffset:8,align:"end",side:"top",onPointerDownOutside:()=>r(!1),onCloseAutoFocus:()=>r(!1),onEscapeKeyDown:()=>r(!1)},n),{},{children:[Vt(t$,{className:"flex items-center justify-center h-6 bg-base text-base-subtle cursor-default",children:Vt(cg,{size:"xs",name:"chevron-up"})}),Vt(HL,{className:"p-1.5",children:s.value.map(e=>Vt(KL,{value:e.languageCode,className:"flex select-none items-center p-1.5 pr-3 gap-2 cursor-pointer rounded-input relative focus-visible:outline-hidden data-highlighted:bg-base-active text-sm",children:[Vt(r$,{flagCode:e.flagCode}),Vt(JL,{children:e.name}),Vt(e$,{className:"text-base-primary p-1.5 -mr-1.5 ml-auto",children:Vt(cg,{size:"xs",name:"check"})})]},e.languageCode))}),Vt(n$,{className:"flex items-center justify-center h-6 bg-base text-base-subtle cursor-default",children:Vt(cg,{size:"xs",name:"chevron-down"})})]}))})]})}function a$(e){let{className:t}=e,n=Qe(e,ke);const i=hm(),{language:r,showPicker:o}=oo();return o.value?Vt(o$,{align:"center",children:Vt(WL,Be(Be({className:Lm("h-9 min-w-max rounded-button focus-ring px-2 flex gap-2 items-center text-base-primary bg-base hover:bg-base-hover active:bg-base-active font-medium",t),"aria-label":i.change_language},n),{},{children:[Vt(r$,{size:"sm",flagCode:r.value.flagCode}),r.value.name,Vt(GL,{className:"text-base-subtle",asChild:!0,children:Vt(cg,{size:"xs",name:"chevron-down"})})]}))}):null}function s$(e){let{className:t}=e,n=Qe(e,ye);const{status:i,isSpeaking:r}=Gf(),o=Jf(),{isTextMode:a}=am(),s=hm(),u=hr(()=>"connected"!==i.value?s.connecting_status.value:o.value||a.value?s.chatting_status.value:r.value?s.speaking_status.value:s.listening_status.value),[c,l]=dn(u.peek());return vr(()=>{const e=u.value;if("connected"!==i.value||!r.value){const t=setTimeout(()=>{l(e)},500);return()=>clearTimeout(t)}l(e)}),Vt("div",Be(Be({className:Lm("py-1.5 px-3 bg-base-active overflow-hidden rounded-bubble text-sm",t)},n),{},{children:Vt(Qm,{initial:!1,active:!0,children:Vt("div",{className:"animate-text whitespace-nowrap transition-[opacity,transform] ease-out duration-200 data-hidden:opacity-0 transform data-hidden:translate-y-2",children:c})},c)}))}const u$=Pt(void 0);function c$(e){let{children:t,initialVariant:n="compact"}=e;const i=dr("compact"!==n),r=dr(typeof window<"u"&&window.innerWidth<768);pn(()=>{const e=()=>{r.value=window.innerWidth<768};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const o=Dn(()=>{i.value=!i.value},[i]),a=hr(()=>i.value?r.value?"fullscreen":"expanded":"compact"),s=gn(()=>({variant:a,toggleSize:o}),[a,o]);return Vt(u$.Provider,{value:s,children:t})}function l$(){return Gr(u$)}function d$(e){const t=hm(),{mode:n,setMode:i,isTextMode:r}=am(),o=Dn(()=>{const e="text"===n.peek()?"voice":"text";i(e)},[i,n]);return Vt(mg,Be({"aria-label":r.value?t.voice_mode:t.text_mode,icon:r.value?"soundwave":"chat",onClick:o},e))}function h$(e){let{showBackButton:t,onBackClick:n,showStatusLabel:i,showLanguageSelector:r,showConversationModeToggle:o,showExpandButton:a}=e;const s=hm(),{toggleSize:u,variant:c}=l$(),l=hr(()=>"compact"===c.value?"Expand widget":"Collapse widget");return Vt("div",{className:"w-full relative shrink-0 z-10",children:[Vt("div",{className:"h-16 absolute top-0 w-full bg-base"}),Vt("div",{className:"h-4 absolute top-16 w-full bg-gradient-to-b from-base to-transparent backdrop-blur-[1px] [mask-image:linear-gradient(to_bottom,black,transparent)] shadow-scroll-fade-bottom"}),Vt("div",{className:"h-16 top-0 absolute flex flex-row items-center justify-center w-full",children:[Vt("div",{className:"absolute start-3 flex gap-2 items-center",children:[t?Vt(mg,{variant:"ghost",onClick:n,"aria-label":s.go_back,className:"h-8 w-8",children:Vt(cg,{name:"chevron-up",className:"-rotate-90",size:"xs"})}):Vt("div",{className:"relative w-8 h-8"}),Vt(Qm,{active:i,children:Vt(s$,{className:"transition-opacity data-hidden:opacity-0"})})]}),Vt("div",{className:"absolute flex flex-row items-center gap-2 ms-auto end-3",children:[Vt(Qm,{active:r,children:Vt("div",{className:"transition-[opacity,transform] duration-200 data-hidden:opacity-0 data-hidden:-translate-y-4",children:Vt(a$,{})})}),Vt(Qm,{active:o,children:Vt(d$,{variant:"ghost",className:"h-8 w-8 transition-opacity data-hidden:opacity-0"})}),Vt(Qm,{active:a,children:Vt(mg,{variant:"ghost",onClick:u,"aria-label":l,className:"h-8 w-8 transition-opacity data-hidden:opacity-0",children:Vt(cg,{name:"compact"===c.value?"maximize":"minimize",size:"sm"})})})]})]})]})}function p$(e){let{iconOnly:t,isDisconnected:n,children:i}=e,r=Qe(e,Te);const{endSession:o,startSession:a}=Gf(),s=hm();return Vt(mg,Be(Be({variant:n?"primary":"secondary",icon:n?"phone":"phone-off",onClick:n?e=>a(e.currentTarget):o,"aria-label":n?s.start_call:s.end_call},r),{},{children:t?void 0:null!=i?i:n?s.start_call:s.end_call}))}function f$(e,t,n){try{const i=new CustomEvent("elevenlabs-convai:".concat(e),{bubbles:!0,composed:!0,detail:n});t.dispatchEvent(i)}catch(t){console.error("[ConversationalAI] Could not trigger ".concat(e," event:"),t)}}function m$(e,t){return f$("setExpanded",e,t)}function O$(e){const t=hm(),{isMuted:n,isMutingEnabled:i,setIsMuted:r}=cm(),o=Dn(e=>{const t=!n.peek();r(t),f$("setMicMuted",e.currentTarget,{micMuted:t})},[r]);return i.value?Vt(mg,Be({"aria-label":t.mute_microphone,"aria-pressed":n.value,icon:n.value?"mic-off":"mic",onClick:o},e)):null}function g$(e){let{showTranscript:t,scrollPinned:n}=e;const i=tm(),r=dr(""),o=dr(!1),{isDisconnected:a,startSession:s,sendUserMessage:u}=Gf(),c=Dn(async e=>{e.preventDefault();const t=r.value.trim();t&&(n.value=!0,r.value="",a.value?await s(e.currentTarget,{initialMessage:t}):u(t))},[r,n,a,s,u]);return Vt("div",{className:"sticky bottom-0 pointer-events-none z-10 max-h-[50%] flex flex-col",children:[Vt("div",{className:"absolute top-0 left-0 right-0 h-4 -translate-y-full bg-gradient-to-t from-base to-transparent pointer-events-none backdrop-blur-[1px] [mask-image:linear-gradient(to_top,black,transparent)] shadow-scroll-fade-top"}),Vt("div",{className:"relative w-full px-3 pb-3 flex flex-col items-center pointer-events-auto min-h-0",children:[i.value&&Vt("div",{className:eg("bg-base relative flex flex-col min-h-0 rounded-[calc(var(--el-sheet-radius)-8px)] border border-base-border w-full transition-shadow overflow-hidden",o.value&&"ring-2 ring-accent"),children:[Vt(D$,{userMessage:r,isFocused:o,onSendMessage:c}),Vt("div",{className:"absolute bottom-0 left-0 right-0 flex gap-1.5 items-center justify-end px-3 pb-3 pt-2 pointer-events-none",children:Vt("div",{className:"pointer-events-auto flex gap-1.5 items-center",children:Vt(v$,{userMessage:r,onSendMessage:c,showTranscript:t})})})]}),!i.value&&Vt("div",{className:"w-full flex gap-1.5 items-center justify-end",children:Vt(v$,{userMessage:r,onSendMessage:c,showTranscript:t})})]})]})}function D$(e){let{userMessage:t,isFocused:n,onSendMessage:i}=e;const r=hm(),o=Jf(),{isDisconnected:a,conversationIndex:s,sendUserActivity:u}=Gf(),c=Dn(e=>{t.value=e.currentTarget.value},[t]),l=Dn(async e=>{"Enter"===e.key&&!e.shiftKey&&await i(e)},[i]),d=Dn(()=>{n.value=!0},[n]),h=Dn(()=>{n.value=!1},[n]);return Vt("textarea",{"aria-label":r.input_label,value:t.value,onInput:u,onChange:c,onKeyDown:l,onFocus:d,onBlur:h,placeholder:o.value?a.value&&s.value>0?r.input_placeholder_new_conversation.value:r.input_placeholder_text_only.value:r.input_placeholder.value,className:"w-full h-full resize-none bg-base leading-5 outline-hidden text-sm text-base-primary placeholder:text-base-subtle p-3 pb-[60px] min-h-18 max-h-full field-sizing-content"})}function v$(e){let{userMessage:t,onSendMessage:n,showTranscript:i=!1}=e;const r=hm(),o=Jf(),a=tm(),{isDisconnected:s,status:u}=Gf(),{isTextMode:c}=am(),l=hr(()=>!!t.value.trim()),d=hr(()=>a.value),h=hr(()=>!s.value||!o.value&&i);return Vt(ct,{children:[Vt(dg,{visible:hr(()=>!o.value&&!s.value&&!c.value).value,children:Vt(O$,{className:"bg-base text-base-primary hover:bg-base-hover active:bg-base-active"})}),Vt(dg,{visible:h.value,children:Vt(p$,{iconOnly:!0,isDisconnected:s.value,disabled:"disconnecting"===u.value||"connecting"===u.value,className:"bg-base text-base-primary hover:bg-base-hover active:bg-base-active"})}),d.value&&Vt(mg,{icon:"send",onClick:n,variant:"primary",disabled:!l.value,"aria-label":r.send_message.value})]})}const E$=new Float32Array([-1,1,-1,-1,1,1,1,-1]),C$=class e{constructor(t){Je(this,"gl"),Je(this,"program"),Je(this,"startTime"),Je(this,"targetSpeed",0),Je(this,"speed",.5),Je(this,"rafId",null),Je(this,"resizeObserver"),Je(this,"colorA",[0,0,0]),Je(this,"colorB",[0,0,0]),Je(this,"offsets",new Float32Array(7).map(()=>Math.random()*Math.PI*2)),Je(this,"copyNoiseImage",()=>{this.gl&&(this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,e.noiseImage),this.gl.generateMipmap(this.gl.TEXTURE_2D))}),Je(this,"toDataURL",()=>this.gl.canvas.toDataURL("image/png")),Je(this,"render",()=>{if(!this.gl)return void(this.rafId=null);const e=(performance.now()-this.startTime)/1e3;this.gl.uniform1f(this.gl.getUniformLocation(this.program,"uTime"),e),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.rafId=requestAnimationFrame(this.render)});const n=t.getContext("webgl2",{depth:!1,stencil:!1});this.gl=n,this.program=this.setupProgram("#version 300 es\nprecision highp float;\n\nuniform float uTime;\nuniform float uOffsets[7];\nuniform vec3 uColor1;\nuniform vec3 uColor2;\nuniform sampler2D uPerlinTexture;\n\nin vec2 vUv;\n\nout vec4 outColor;\n\nconst float PI = 3.14159265358979323846;\n\n// Draw a single oval with soft edges and calculate its gradient color\nbool drawOval(vec2 polarUv, vec2 polarCenter, float a, float b, bool reverseGradient, float softness, out vec4 color) {\n    vec2 p = polarUv - polarCenter;\n    float oval = (p.x * p.x) / (a * a) + (p.y * p.y) / (b * b);\n    \n    float edge = smoothstep(1.0, 1.0 - softness, oval);\n    \n    if (edge > 0.0) {\n        float gradient = reverseGradient ? (1.0 - (p.x / a + 1.0) / 2.0) : ((p.x / a + 1.0) / 2.0);\n        color = vec4(vec3(gradient), 0.8 * edge);\n        return true;\n    }\n    return false;\n}\n\n// Map grayscale value to a 4-color ramp (color1, color2, color3, color4)\nvec3 colorRamp(float grayscale, vec3 color1, vec3 color2, vec3 color3, vec3 color4) {\n    if (grayscale < 0.33) {\n        return mix(color1, color2, grayscale * 3.0);\n    } else if (grayscale < 0.66) {\n        return mix(color2, color3, (grayscale - 0.33) * 3.0);\n    } else {\n        return mix(color3, color4, (grayscale - 0.66) * 3.0);\n    }\n}\n\nvec2 hash2(vec2 p) {\n    return fract(sin(vec2(dot(p, vec2(127.1, 311.7)), dot(p, vec2(269.5, 183.3)))) * 43758.5453);\n}\n\n// 2D noise for the ring\nfloat noise2D(vec2 p) {\n    vec2 i = floor(p);\n    vec2 f = fract(p);\n    \n    vec2 u = f * f * (3.0 - 2.0 * f);\n    float n = mix(\n        mix(dot(hash2(i + vec2(0.0, 0.0)), f - vec2(0.0, 0.0)),\n            dot(hash2(i + vec2(1.0, 0.0)), f - vec2(1.0, 0.0)), u.x),\n        mix(dot(hash2(i + vec2(0.0, 1.0)), f - vec2(0.0, 1.0)),\n            dot(hash2(i + vec2(1.0, 1.0)), f - vec2(1.0, 1.0)), u.x),\n        u.y\n    );\n\n    return 0.5 + 0.5 * n;\n}\n\nfloat sharpRing(vec2 uv, float theta, float time) {\n    float ringStart = 1.0;\n    float ringWidth = 0.5;\n    float noiseScale = 5.0;\n    \n    vec2 noiseCoord = vec2(theta / (2.0 * PI), time * 0.1);\n    noiseCoord *= noiseScale;\n    \n    float noise = noise2D(noiseCoord);\n    noise = (noise - 0.5) * 4.0;\n    \n    return ringStart + noise * ringWidth * 1.5;\n}\n\nfloat smoothRing(vec2 uv, float time) {\n    float angle = atan(uv.y, uv.x);\n    if (angle < 0.0) angle += 2.0 * PI;\n    \n    vec2 noiseCoord = vec2(angle / (2.0 * PI), time * 0.1);\n    noiseCoord *= 6.0;\n    \n    float noise = noise2D(noiseCoord);\n    noise = (noise - 0.5) * 8.0;\n    \n    float ringStart = 0.9;\n    float ringWidth = 0.3;\n    \n    return ringStart + noise * ringWidth;\n}\n\nvoid main() {\n    // Normalize vUv to be centered around (0.0, 0.0)\n    vec2 uv = vUv * 2.0 - 1.0;\n\n    // Convert uv to polar coordinates\n    float radius = length(uv);\n    float theta = atan(uv.y, uv.x);\n    if (theta < 0.0) theta += 2.0 * PI; // Normalize theta to [0, 2*PI]\n\n    // Initialize the base color to white\n    vec4 color = vec4(1.0, 1.0, 1.0, 1.0);\n\n    // Original parameters for the ovals in polar coordinates\n    float originalCenters[7] = float[7](0.0, 0.5 * PI, 1.0 * PI, 1.5 * PI, 2.0 * PI, 2.5 * PI, 3.0 * PI);\n\n    // Parameters for the animated centers in polar coordinates\n    float centers[7];\n    for (int i = 0; i < 7; i++) {\n        centers[i] = originalCenters[i] + 0.5 * sin(uTime / 20.0 + uOffsets[i]);\n    }\n\n    float a, b;\n    vec4 ovalColor;\n\n    // Check if the pixel is inside any of the ovals\n    for (int i = 0; i < 7; i++) {\n        float noise = texture(uPerlinTexture, vec2(mod(centers[i] + uTime * 0.05, 1.0), 0.5)).r;\n        a = noise * 1.5; // Increased variance: goes from 0.0 to 1.0\n        b = noise * 4.5; // Tall semi-minor axis\n        bool reverseGradient = (i % 2 == 1); // Reverse gradient for every second oval\n\n        // Calculate the distance in polar coordinates\n        float distTheta = abs(theta - centers[i]);\n        if (distTheta > PI) distTheta = 2.0 * PI - distTheta; // Shortest distance on circle\n        float distRadius = radius;\n\n        float softness = 0.4; // Controls edge softness (e.g. how much blur is applied to the ovals)\n\n        // Check if the pixel is inside the oval in polar coordinates\n        if (drawOval(vec2(distTheta, distRadius), vec2(0.0, 0.0), a, b, reverseGradient, softness, ovalColor)) {\n            // Blend the oval color with the existing color\n            color.rgb = mix(color.rgb, ovalColor.rgb, ovalColor.a);\n            color.a = max(color.a, ovalColor.a); // Max alpha\n        }\n    }\n    \n    // Calculate both noisy rings\n    float ringRadius1 = sharpRing(uv, theta, uTime);\n    float ringRadius2 = smoothRing(uv, uTime);\n    \n    // Blend both rings\n    float ringAlpha1 = (radius >= ringRadius1) ? 0.3 : 0.0;\n    float ringAlpha2 = smoothstep(ringRadius2 - 0.05, ringRadius2 + 0.05, radius) * 0.25;\n    \n    float totalRingAlpha = max(ringAlpha1, ringAlpha2);\n    \n    // Apply screen blend mode for combined rings\n    vec3 ringColor = vec3(1.0); // White ring color\n    color.rgb = 1.0 - (1.0 - color.rgb) * (1.0 - ringColor * totalRingAlpha);\n\n    // Define colours to ramp against greyscale (could increase the amount of colours in the ramp)\n    vec3 color1 = vec3(0.0, 0.0, 0.0); // Black\n    vec3 color2 = uColor1; // Darker Color\n    vec3 color3 = uColor2; // Lighter Color\n    vec3 color4 = vec3(1.0, 1.0, 1.0); // White\n\n    // Convert grayscale color to the color ramp\n    float luminance = color.r; \n    color.rgb = colorRamp(luminance, color1, color2, color3, color4); // Apply the color ramp\n\n    outColor = color;\n}\n","#version 300 es\nprecision highp float;\n\nin vec2 position;\n\nout vec2 vUv;\n\nvoid main() {\n  vUv = position * 0.5 + 0.5;\n  gl_Position = vec4(position, 0, 1);\n}\n");const i=n.createTexture();n.bindTexture(n.TEXTURE_2D,i),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,new Uint8Array([128,128,128,255])),e.noiseImage||(e.noiseImage=new Image,e.noiseImage.crossOrigin="anonymous",e.noiseImage.src="https://storage.googleapis.com/eleven-public-cdn/images/perlin-noise.png"),e.noiseImage.complete?this.copyNoiseImage():e.noiseImage.addEventListener("load",this.copyNoiseImage);const r=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,r),n.bufferData(n.ARRAY_BUFFER,E$,n.STATIC_DRAW),n.vertexAttribPointer(0,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(0),this.updateColors("#2792DC","#9CE6E6"),this.resizeObserver=new ResizeObserver(e=>{const n=e[0],i=n.devicePixelContentBoxSize?n.devicePixelContentBoxSize[0]:n.contentBoxSize[0];t.width=Math.min(512,i.inlineSize),t.height=Math.min(512,i.blockSize),this.updateViewport()});const o=t.parentElement;if(o)try{this.resizeObserver.observe(o,{box:"device-pixel-content-box"})}catch(e){this.resizeObserver.observe(o)}this.startTime=performance.now(),this.rafId=requestAnimationFrame(this.render)}dispose(){var e;null!==this.rafId&&cancelAnimationFrame(this.rafId),null==(e=this.resizeObserver)||e.disconnect(),this.gl=null,this.program=null}updateViewport(){this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height)}updateColors(e,t){var n,i;this.gl&&(this.colorA=null!==(n=this.updateColor("uColor1",e))&&void 0!==n?n:this.colorA,this.colorB=null!==(i=this.updateColor("uColor2",t))&&void 0!==i?i:this.colorB)}updateVolume(e,t){this.targetSpeed=.2+1.8*(1-Math.pow(t-1,2)),this.targetSpeed>this.speed&&(this.speed=this.targetSpeed),this.gl.uniform1f(this.gl.getUniformLocation(this.program,"uInputVolume"),e),this.gl.uniform1f(this.gl.getUniformLocation(this.program,"uOutputVolume"),t)}updateColor(e,t){try{const n=parseInt(t.slice(1,3),16)/255,i=parseInt(t.slice(3,5),16)/255,r=parseInt(t.slice(5,7),16)/255,o=[Math.pow(n,2.2),Math.pow(i,2.2),Math.pow(r,2.2)];return this.gl.uniform3fv(this.gl.getUniformLocation(this.program,e),o),o}catch(e){console.error("[ConversationalAI] Failed to parse ".concat(t," as color:"),e)}}setupProgram(e,t){const n=this.getShader(this.gl.FRAGMENT_SHADER,e),i=this.getShader(this.gl.VERTEX_SHADER,t);if(!n||!i)throw new Error("Failed to compile shaders");if(this.program=this.gl.createProgram(),this.gl.attachShader(this.program,n),this.gl.attachShader(this.program,i),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))throw new Error("Failed to link program");return this.gl.useProgram(this.program),this.gl.uniform1i(this.gl.getUniformLocation(this.program,"uPerlinTexture"),0),this.gl.uniform1fv(this.gl.getUniformLocation(this.program,"uOffsets"),this.offsets),this.gl.uniform3fv(this.gl.getUniformLocation(this.program,"uColor1"),this.colorA),this.gl.uniform3fv(this.gl.getUniformLocation(this.program,"uColor2"),this.colorB),this.program}getShader(e,t){const n=this.gl.createShader(e);return this.gl.shaderSource(n,t),this.gl.compileShader(n),this.gl.getShaderParameter(n,this.gl.COMPILE_STATUS)?n:(this.gl.deleteShader(n),null)}};Je(C$,"noiseImage");let b$=C$;const k$={sm:"w-9 h-9",lg:"w-48 h-48"};function y$(e){let{size:t="sm",className:n}=e;const{getInputVolume:i,getOutputVolume:r,isSpeaking:o,isDisconnected:a}=Gf(),{config:s}=mm(),u=mn(null),c=mn(null);vr(()=>{if(a.value)return u.current.style.transform="",void(c.current.style.transform="");let e;return function t(){const n=i(),a=r(),s=o.peek()?1:1-.4*n,l=o.peek()?1+.4*a:1;u.current.style.transform="scale(".concat(l,")"),c.current.style.transform="scale(".concat(s,")"),e=requestAnimationFrame(t)}(),()=>{cancelAnimationFrame(e)}});const l=hr(()=>({backgroundImage:"image"===s.value.type?"url(".concat(s.value.url,")"):"url"===s.value.type?"url(".concat(s.value.custom_url,")"):void 0}));return Vt("div",{className:Lm("relative shrink-0",k$[t],n),children:[Vt("div",{ref:u,className:"absolute inset-0 rounded-full bg-base-border"}),Vt("div",{ref:c,style:l,className:"absolute inset-0 rounded-full overflow-hidden bg-base bg-cover",children:"orb"===s.value.type&&Vt(T$,{color1:s.value.color_1,color2:s.value.color_2})})]})}function T$(e){let{color1:t,color2:n}=e;const{canvasUrl:i}=mm(),[r,o]=dn(null);return pn(()=>{r&&(r.updateColors(t,n),r.render(),i.value=r.toDataURL())},[r,t,n]),Vt("canvas",{className:"w-full h-full",ref:Dn(e=>{if(e){const t=new b$(e);return o(t),()=>t.dispose()}o(null)},[o])})}function A$(e){let{showAvatar:t,showTranscript:n,isDisconnected:i,onStartSession:r}=e;const o=hm(),a=tm(),s=Kf(),u=hr(()=>eg("absolute origin-top-left transition-[transform,left,top,opacity,scale] duration-200 z-10","data-hidden:opacity-0",n.value?"top-4 left-4 scale-[0.1667]":a.value?"top-[40%] left-1/2 -translate-x-1/2 -translate-y-1/2 scale-100":"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 scale-100")),c=hr(()=>!n.value&&i.value&&!s.value),l=hr(()=>!n.value&&!i.value);return Vt(Qm,{active:t,children:Vt("div",{className:u,children:[Vt(y$,{size:"lg"}),Vt(Qm,{active:c,children:Vt("div",{className:"absolute bottom-0 p-1 rounded-[calc(var(--el-button-radius)+4px)] bg-base left-1/2 -translate-x-1/2 translate-y-1/2 transition-[opacity,transform] data-hidden:opacity-0 data-hidden:scale-100 scale-150",children:Vt(mg,{"aria-label":o.start_call,variant:"primary",icon:"phone",onClick:e=>r(e.currentTarget)})})}),Vt(Qm,{active:l,children:Vt("div",{className:"absolute -bottom-3 left-1/2 -translate-x-1/2 translate-y-full transition-[opacity,transform] data-hidden:opacity-0 data-hidden:scale-75",children:Vt(s$,{})})})]})})}const S$={"top-left":"origin-top-left",top:"origin-top","top-right":"origin-top-right","bottom-left":"origin-bottom-left","bottom-right":"origin-bottom-right",bottom:"origin-bottom"};function _$(e){let{open:t}=e;const n=Kf(),i=Jf(),r=Hf(),o=r.value.placement,{isDisconnected:a,startSession:s,transcript:u,conversationIndex:c}=Gf(),l=em(),{currentContent:d,currentConfig:h}=ag(),{variant:p}=l$(),f=hr(()=>{var e,t;return n.value||i.value?l.value&&n.value?[{type:"message",role:"agent",message:l.value,isText:!0,conversationIndex:null!==(e=null==(t=u.value[0])?void 0:t.conversationIndex)&&void 0!==e?e:c.peek()},...u.value]:u.value:r.value.transcript_enabled?u.value:u.value.filter(e=>"message"!==e.type||e.isText)}),m=hr(()=>f.value.length>0||!a.value&&r.value.transcript_enabled),O=dr(!0),g=hr(()=>"feedback"!==d.value),D=hr(()=>m.value&&!a.value),v=hr(()=>"feedback"!==d.value&&(!m.value||a.value)),E=hr(()=>!!r.value.conversation_mode_toggle_enabled&&!i.value&&!a.value),C=hr(()=>m.value);return Vt(Qm,{initial:!1,active:t,children:Vt("div",{"data-variant":p.value,className:eg("elevenlabs-widget-sheet","sheet","flex flex-col overflow-hidden absolute bg-base shadow-lg pointer-events-auto z-2","transition-[width,height,max-width,max-height,transform,border-radius,opacity,inset,bottom,top,left,right,margin,padding] duration-200","data-hidden:scale-90 data-hidden:opacity-0",S$[o],o.startsWith("top")?r.value.always_expanded?"top-0":"top-20":r.value.always_expanded?"bottom-0":"bottom-20"),children:[Vt(h$,{showBackButton:h.showHeaderBack,onBackClick:h.onHeaderBack,showStatusLabel:D,showLanguageSelector:v,showConversationModeToggle:E,showExpandButton:C}),Vt(Qm,{active:"transcript"===d.value,children:Vt("div",{className:"grow flex flex-col min-h-0 relative transition-opacity duration-300 ease-out data-hidden:opacity-0",children:[Vt(oQ,{transcript:f,scrollPinned:O}),Vt(g$,{showTranscript:m.value,scrollPinned:O})]})}),Vt(Qm,{active:"feedback"===d.value,children:Vt("div",{className:"absolute inset-0 top-[88px] flex flex-col bg-base transition-transform duration-300 ease-out data-hidden:translate-x-full",children:[Vt(sQ,{}),Vt(uQ,{})]})}),Vt(A$,{showAvatar:g,showTranscript:m,isDisconnected:a,onStartSession:s})]})})}function F$(e){let{onDismiss:t,className:n}=e,i=Qe(e,Ae);return Vt(mg,Be({onClick:e=>{e.preventDefault(),e.stopPropagation(),t&&t()},variant:"secondary",icon:"minimize","aria-label":"Dismiss",className:n},i))}function w$(e){let{expanded:t,onDismiss:n}=e;const i=Jf(),r=Hf().value.variant,{isDisconnected:o}=Gf(),a=hm(),s=Dm(),u=Dn(()=>{const e=!t.value;t.value=e,m$(s,{expanded:e})},[t,s]);return Vt(ct,{children:["full"===r&&Vt(dg,{visible:!t.value&&!o.value,className:"p-1",children:Vt(y$,{})}),Vt(dg,{grow:"tiny"!==r,visible:!i.value&&!t.value&&!o.value,className:"p-1",children:Vt(p$,{iconOnly:!0,isDisconnected:!1})}),Vt(dg,{visible:!i.value&&!t.value&&!o.value,className:"p-1",children:Vt(O$,{})}),Vt(dg,{grow:o.value,visible:!0,className:"p-1",children:Vt(mg,{className:"w-full",variant:"primary",iconClassName:Lm((t.value||!o.value)&&"transition-transform duration-200",t.value&&"-rotate-180"),icon:t.value?"chevron-up":o.value?i.value?"chat":"phone":"chevron-up","aria-label":t.value?a.collapse:o.value?i.value?a.start_chat:a.start_call:a.expand,onClick:t.value||o.value?void 0:u,children:!t.value&&o.value&&"tiny"!==r?i.value?a.start_chat:a.start_call:void 0})}),Vt(dg,{visible:!!n,className:"p-1",children:Vt(F$,{onDismiss:n})})]})}function x$(e){let{expanded:t,className:n,onDismiss:i}=e,r=Qe(e,Se);const{isDisconnected:o}=Gf(),a=hm();return Vt("div",Be(Be({className:Lm("transition-[border-radius] flex flex-col p-2",!t.value&&o.value?"rounded-sheet":"rounded-compact-sheet",n)},r),{},{children:[Vt(dg,{visible:!t.value&&o.value,className:"p-1 !min-w-60",children:Vt("div",{className:"flex items-center gap-2",children:[Vt(y$,{}),Vt("div",{className:"text-sm max-w-64",children:a.main_label})]})}),Vt("div",{className:"flex items-center",children:Vt(w$,{expanded:t,onDismiss:i})})]}))}function P$(e){let{expanded:t,className:n,onDismiss:i}=e,r=Qe(e,_e);return Vt("div",Be(Be({className:Lm("rounded-compact-sheet flex items-center p-2",n)},r),{},{children:[Vt(dg,{visible:!t.value,className:"p-1",children:Vt(y$,{})}),Vt(w$,{expanded:t,onDismiss:i})]}))}function R$(e){let{visible:t,className:n}=e,i=Qe(e,Fe);const r=hm(),{language:o,showPicker:a}=oo();return a.value?Vt(dg,{visible:t,className:"p-1",children:Vt(o$,{children:Vt(WL,Be(Be({className:Lm("h-9 min-w-max border border-base-border rounded-button focus-ring px-1.5 flex gap-1 items-center transition-colors duration-200 hover:bg-base-hover active:bg-base-active",n),"aria-label":r.change_language},i),{},{children:[Vt(r$,{flagCode:o.value.flagCode}),Vt(GL,{className:"px-1 text-base-subtle",asChild:!0,children:Vt(cg,{size:"xs",name:"chevron-down"})})]}))})}):null}function I$(e){let{onDismiss:t}=e;const n=Hf().value.variant,{isDisconnected:i,status:r}=Gf();return Vt(ct,{children:[Vt(p$,{isDisconnected:i.value,iconOnly:"tiny"===n,className:"w-full m-1 z-1",disabled:"disconnecting"===r.value||"connecting"===r.value}),Vt(R$,{visible:i.value}),Vt(dg,{visible:!i.value,className:"p-1",children:Vt(O$,{})}),Vt(dg,{visible:!!t,className:"p-1",children:Vt(F$,{onDismiss:t})})]})}function Q$(e){let{className:t,onDismiss:n}=e,i=Qe(e,we);const{isDisconnected:r}=Gf(),o=hm();return Vt("div",Be(Be({className:Lm("flex flex-col p-2 rounded-sheet",t)},i),{},{children:[Vt("div",{className:"flex items-center p-1 gap-2 min-w-60",children:[Vt(y$,{}),Vt("div",{className:"relative text-sm max-w-64",children:[Vt("span",{className:Lm("block transition-[transform,opacity] duration-200",!r.value&&"opacity-0 scale-90"),children:o.main_label}),Vt(Qm,{active:!r.value,children:Vt(s$,{className:"absolute top-1/2 -translate-y-1/2 transition-[transform,opacity] duration-200 data-hidden:opacity-0 data-hidden:scale-90"})})]})]}),Vt("div",{className:"flex items-center",children:Vt(I$,{onDismiss:n})})]}))}function N$(e){let{className:t,onDismiss:n}=e,i=Qe(e,xe);return Vt("div",Be(Be({className:Lm("rounded-compact-sheet flex items-center p-2",t)},i),{},{children:[Vt(y$,{className:"mx-1"}),Vt(I$,{onDismiss:n})]}))}function B$(e){let{expandable:t,expanded:n,onDismiss:i}=e;const r=Hf().value.variant,o=Mf(),{isDisconnected:a}=Gf(),s=Dm(),u=Dn(async()=>{await o.requestTerms();const e=!n.peek();n.value=e,m$(s,{expanded:e})},[n]),c="full"===r;return t?Vt(c?x$:P$,{expanded:n,onDismiss:i,className:Lm("bg-base shadow-md pointer-events-auto overflow-hidden",(a.value||n.value)&&"cursor-pointer"),onClick:a.value||n.value?u:void 0}):Vt(c?Q$:N$,{onDismiss:i,className:"bg-base shadow-md pointer-events-auto overflow-hidden"})}function M$(){var e;const t=hm(),n=nm(),{dismissTerms:i,acceptTerms:r}=Mf();return Vt("div",{className:"max-w-[400px] flex flex-col gap-2 bg-base shadow-md pointer-events-auto rounded-sheet p-3 text-sm",children:[Vt("div",{className:"flex flex-col gap-1 terms p-2 pt-1",dangerouslySetInnerHTML:{__html:null!==(e=n.value.terms_html)&&void 0!==e?e:""}}),Vt("div",{className:"flex justify-end gap-2",children:[Vt(mg,{onClick:i,children:t.dismiss_terms}),Vt(mg,{onClick:r,variant:"primary",children:t.accept_terms})]})]})}function L$(e){let{copyText:t,children:n}=e;const i=hm(),[r,o]=dn(!1);pn(()=>{if(r){const e=setTimeout(()=>{o(!1)},2e3);return()=>{clearTimeout(e)}}},[r]);const a=Dn(()=>{const e=Em(t);e&&(navigator.clipboard.writeText(e),o(!0))},[]);return Vt(mg,{onClick:a,children:r?i.copied:n})}function $$(e){let{sawError:t}=e;const n=hm(),{error:i,lastId:r}=Gf(),o=Dn(()=>{t.value=!0},[]);return Vt("div",{className:"max-w-[400px] flex flex-col gap-2 bg-base shadow-md pointer-events-auto rounded-sheet p-3 text-sm",children:[Vt("div",{className:"p-2 pt-1",children:[Vt("h1",{className:"text-md font-medium pb-1",children:n.error_occurred}),i.value,r.value&&Vt(ct,{children:[Vt("br",{}),Vt("span",{className:"text-base-subtle",children:[n.conversation_id,": ",r.value]})]})]}),Vt("div",{className:"flex justify-end gap-2",children:[Vt(L$,{copyText:r,children:n.copy_id}),Vt(mg,{variant:"primary",onClick:o,children:"Close"})]})]})}function U$(){const e=Hf();return e.value.disable_banner?null:Vt("p",{className:Lm("whitespace-nowrap [line-height:var(--el-overlay-padding)] text-[10px] px-3 z-10",e.value.placement.startsWith("top")?"-translate-y-[calc(var(--el-overlay-padding))]":"translate-y-[calc(var(--el-overlay-padding))]"),children:[Vt("span",{className:"opacity-30",children:"Powered by ElevenLabs"})," ",Vt("a",{href:e.value.override_link||"https://elevenlabs.io/conversational-ai",className:"underline cursor-pointer pointer-events-auto focus-visible:outline-hidden opacity-30 hover:opacity-50 focus-visible:opacity-100 focus-visible:underline-offset-2",target:"_blank",children:"Agents"})]})}function q$(e){const t=mn(null),n=cm(),i=Hf(),{isDisconnected:r,startSession:o,status:a}=Gf(),s=mn(null),u=Lf(()=>{t.current&&o(t.current,{resume:i.value.auto_resume})}),c=Lf(()=>{i.value.auto_resume&&(r.value&&u(),"boolean"==typeof i.value.auto_resume.micMuted&&(s.current=i.value.auto_resume.micMuted))});return vr(()=>{"connected"===a.value&&null!==s.current&&(n.setIsMuted(s.current),s.current=null)}),pn(()=>{c()},[c]),Vt("div",Be({ref:t},e))}function X$(e){let{className:t,onExpand:n}=e,i=Qe(e,Pe);return Vt("button",Be(Be({onClick:e=>{e.preventDefault(),e.stopPropagation(),n&&n()},className:Lm("w-12 h-12 rounded-full flex items-center justify-center transition-all duration-200 pointer-events-auto hover:scale-105 active:scale-95",t),"aria-label":"Open chat"},i),{},{children:Vt(y$,{className:"w-12 h-12"})}))}const z$="items-start",Z$="items-center",j$="items-end",W$="flex-col-reverse justify-end",G$="flex-col justify-end",V$={"top-left":"".concat(W$," ").concat(z$),top:"".concat(W$," ").concat(Z$),"top-right":"".concat(W$," ").concat(j$),"bottom-left":"".concat(G$," ").concat(z$),bottom:"".concat(G$," ").concat(Z$),"bottom-right":"".concat(G$," ").concat(j$)},Y$={display:"none"},H$=Mn(function(){const e=Hf(),t=dr(e.peek().default_expanded),n=dr(!1),i=dr(!1),{error:r,isDisconnected:o}=Gf(),a=Mf(),{variant:s}=l$(),u=hr(()=>e.value.transcript_enabled||e.value.text_input_enabled),c=qf(),l=hr(()=>eg("overlay !flex transition-[opacity] duration-200 data-hidden:opacity-0",V$[e.value.placement])),d=hr(()=>"fullscreen"===s.value?eg(l.value,V$.bottom):l.value);vr(()=>{r.value&&(u.value?(i.value=!0,t.value=!0):i.value=!1)}),vr(()=>{const e=e=>{!e.detail||e.detail._convaiEventHandled||(e.detail._convaiEventHandled=!0,"expand"===e.detail.action?t.value=!0:"collapse"===e.detail.action?t.value=!1:"toggle"===e.detail.action&&(t.value=!t.value))},n=c.value;return document.addEventListener("elevenlabs-agent:expand",e),null==n||n.addEventListener("elevenlabs-agent:expand",e),()=>{document.removeEventListener("elevenlabs-agent:expand",e),null==n||n.removeEventListener("elevenlabs-agent:expand",e)}});const h=hr(()=>u.value||!r.value||i.value?!a.termsAccepted.value&&a.termsShown.value?"terms":"conversation":"error"),p=hr(()=>"error"===h.value),f=hr(()=>"terms"===h.value),m=hr(()=>"conversation"===h.value),O=hr(()=>m.value&&!n.value),g=hr(()=>f.value&&!n.value),D=hr(()=>p.value&&!n.value),v=hr(()=>!n.value),E=hr(()=>e.value.dismissible&&o.value),C=hr(()=>e.value.dismissible&&n.value);return Vt(q$,{children:[Vt(Qm,{initial:!1,active:O,children:Vt(gm,{className:l,style:Y$,children:e.value.always_expanded?Vt(_$,{open:!0}):Vt(ct,{children:[u.value&&Vt(_$,{open:t}),Vt(B$,{expandable:u.value,expanded:t,onDismiss:E.value?()=>{n.value=!0}:void 0})]})})}),Vt(Qm,{initial:!1,active:g,children:Vt(gm,{className:l,style:Y$,children:Vt(M$,{})})}),Vt(Qm,{initial:!1,active:D,children:Vt(gm,{className:l,style:Y$,children:Vt($$,{sawError:i})})}),Vt(Qm,{initial:!1,active:v,children:Vt(gm,{className:d,style:Y$,children:Vt(U$,{})})}),Vt(Qm,{initial:!1,active:C,children:Vt(gm,{className:l,style:Y$,children:Vt(X$,{onExpand:()=>{n.value=!1}})})})]})}),K$="elevenlabs-agent:user-activity",J$="elevenlabs-agent:user-message",eU="elevenlabs-agent:contextual-update",tU=Mn(function(e){let{children:t}=e;const{sendContextualUpdate:n,sendUserActivity:i,sendUserMessage:r}=Gf(),o=qf();return vr(()=>{function e(e){nU(e)&&i()}function t(e){iU(e)&&r(e.detail.message)}function a(e){iU(e)&&n(e.detail.message)}const s=o.value;return null==s||s.addEventListener(K$,e),null==s||s.addEventListener(J$,t),null==s||s.addEventListener(eU,a),()=>{null==s||s.removeEventListener(K$,e),null==s||s.removeEventListener(J$,t),null==s||s.removeEventListener(eU,a)}}),t});function nU(e){return"detail"in e&&!!e.detail}function iU(e){return nU(e)&&"string"==typeof e.detail.message&&!!e.detail.message}function rU(e){return Vt(Uf,{children:Vt(Yr,{value:e,children:Vt(Jr,{children:Vt(Yf,{children:Vt(c$,{children:Vt(ro,{children:Vt(Bf,{children:Vt(Qf,{children:Vt(Wf,{children:Vt(om,{children:Vt(um,{children:Vt(dm,{children:Vt(fm,{children:Vt(og,{children:Vt(ng,{children:[Vt(im,{}),Vt(tU,{children:Vt(H$,{})})]})})})})})})})})})})})})})})})}function oU(){Bt(rU,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"elevenlabs-convai",[...Wt],{shadow:!0,mode:"open"})}}}]);