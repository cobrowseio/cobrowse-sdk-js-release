/*! For license information please see CobrowseIO.umd.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.CobrowseIO=t():e.CobrowseIO=t()}(self,(function(){return function(){var e={3606:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}r(5547),r(1624),r(2047),r(8534),Object.defineProperty(t,"__esModule",{value:!0}),t.EbmlElementId=void 0,t.getEbmlElementIdLength=s,t.getEbmlElementLevel=function(e){switch(e){case c.Ebml:case c.Segment:return 0;case c.Cluster:case c.Cues:case c.DocType:case c.DocTypeReadVersion:case c.DocTypeVersion:case c.EbmlMaxIdLength:case c.EbmlMaxSizeLength:case c.EbmlReadVersion:case c.EbmlVersion:case c.Info:case c.SeekHead:case c.Tracks:return 1;case c.CuePoint:case c.DateUTC:case c.Duration:case c.MuxingApp:case c.Position:case c.SegmentUID:case c.Seek:case c.SimpleBlock:case c.Timestamp:case c.TimestampScale:case c.Title:case c.TrackEntry:case c.WritingApp:return 2;case c.Audio:case c.CodecDecodeAll:case c.CodecID:case c.CodecName:case c.CodecPrivate:case c.CueTime:case c.CueTrackPositions:case c.DefaultDuration:case c.FlagDefault:case c.FlagEnabled:case c.FlagForced:case c.FlagLacing:case c.MaxBlockAdditionID:case c.MinCache:case c.SeekID:case c.SeekPosition:case c.SeekPreRoll:case c.TrackNumber:case c.TrackTimestampScale:case c.TrackType:case c.TrackUID:case c.Video:return 3;case c.Channels:case c.CueBlockNumber:case c.CueClusterPosition:case c.CueTrack:case c.FlagInterlaced:case c.PixelHeight:case c.PixelWidth:case c.SamplingFrequency:case c.Colour:return 4;case c.CueRefTime:return 5;case c.Void:return-1;default:throw Error("cannot determine level of unknown ebml element with id ".concat(e))}},t.getEbmlElementName=function(e){switch(e){case c.Ebml:return"EBML";case c.EbmlVersion:return"EBMLVersion";case c.EbmlReadVersion:return"EBMLReadVersion";case c.EbmlMaxIdLength:return"EBMLMaxIDLength";case c.EbmlMaxSizeLength:return"EBMLMaxSizeLength";case c.DocType:return"DocType";case c.DocTypeVersion:return"DocTypeVersion";case c.DocTypeReadVersion:return"DocTypeReadVersion";case c.Void:return"Void";case c.Segment:return"Segment";case c.SeekHead:return"SeekHead";case c.Seek:return"Seek";case c.SeekID:return"SeekID";case c.SeekPosition:return"SeekPosition";case c.Info:return"Info";case c.TimestampScale:return"TimestampScale";case c.Duration:return"Duration";case c.DateUTC:return"DateUTC";case c.Title:return"Title";case c.MuxingApp:return"MuxingApp";case c.WritingApp:return"WritinApp";case c.Cluster:return"Cluster";case c.Timestamp:return"Timestamp";case c.SimpleBlock:return"SimpleBlock";case c.SegmentUID:return"SegmentUID (unsupported by WebM)";case c.Tracks:return"Tracks";case c.TrackEntry:return"TrackEntry";case c.TrackNumber:return"TrackNumber";case c.TrackUID:return"TrackUID";case c.TrackType:return"TrackType";case c.FlagEnabled:return"FlagEnabled";case c.FlagDefault:return"FlagDefault";case c.FlagForced:return"FlagForced";case c.FlagLacing:return"FlagLacing";case c.MinCache:return"MinCache";case c.MaxBlockAdditionID:return"MaxBlockAdditionID";case c.CodecID:return"CodecID";case c.CodecDecodeAll:return"CodecDecodeAll";case c.SeekPreRoll:return"SeekPreRoll";case c.Video:return"Video";case c.FlagInterlaced:return"FlagInterlaced";case c.PixelWidth:return"PixelWidth";case c.PixelHeight:return"PixelHeight";case c.DefaultDuration:return"DefaultDuration";case c.TrackTimestampScale:return"TrackTimestampScale";case c.CodecName:return"CodecName";case c.CodecPrivate:return"CodecPrivate";case c.Audio:return"Audio";case c.SamplingFrequency:return"SamplingFrequency";case c.Channels:return"Channels";case c.Cues:return"Cues";case c.CuePoint:return"CuePoint";case c.CueTime:return"CueTime";case c.CueTrackPositions:return"CueTrackPositions";case c.CueTrack:return"CueTrack";case c.CueClusterPosition:return"CueClusterPosition";case c.CueRefTime:return"CueRefTime";case c.CueBlockNumber:return"CueBlockNumber";case c.Position:return"Position";case c.Colour:return"Colour";default:return""}},t.readEbmlElementId=function(e,t){var r=s(e.current);if(r>e.bytesAvailable)return!1;for(var n=e.current,o=0;o<r-1;++o)n=n<<8|e.nextUnsafe();return e.nextUnsafe(),e.checkBounds(),t.id=n,t.idLength=r,!0},r(9244),r(2593),r(444),r(1076),r(1e3),r(5538);var c=i((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));function s(e){for(var t=7;t>3;t--)if(e&1<<t)return 8-t;throw Error("invalid ebml element id")}t.EbmlElementId=c,a(c,"Ebml",440786851),a(c,"EbmlVersion",17030),a(c,"EbmlReadVersion",17143),a(c,"EbmlMaxIdLength",17138),a(c,"EbmlMaxSizeLength",17139),a(c,"DocType",17026),a(c,"DocTypeVersion",17031),a(c,"DocTypeReadVersion",17029),a(c,"Void",236),a(c,"Segment",408125543),a(c,"SeekHead",290298740),a(c,"Seek",19899),a(c,"SeekID",21419),a(c,"SeekPosition",21420),a(c,"Info",357149030),a(c,"TimestampScale",2807729),a(c,"Duration",17545),a(c,"DateUTC",17505),a(c,"Title",31657),a(c,"MuxingApp",19840),a(c,"WritingApp",22337),a(c,"Cluster",524531317),a(c,"Timestamp",231),a(c,"SimpleBlock",163),a(c,"SegmentUID",29604),a(c,"Tracks",374648427),a(c,"TrackEntry",174),a(c,"TrackNumber",215),a(c,"TrackUID",29637),a(c,"TrackType",131),a(c,"FlagEnabled",185),a(c,"FlagDefault",136),a(c,"FlagForced",21930),a(c,"FlagLacing",156),a(c,"MinCache",28135),a(c,"MaxBlockAdditionID",21998),a(c,"CodecID",134),a(c,"CodecDecodeAll",170),a(c,"SeekPreRoll",22203),a(c,"Video",224),a(c,"FlagInterlaced",154),a(c,"PixelWidth",176),a(c,"PixelHeight",186),a(c,"DefaultDuration",2352003),a(c,"TrackTimestampScale",2306383),a(c,"CodecName",2459272),a(c,"CodecPrivate",25506),a(c,"Audio",225),a(c,"SamplingFrequency",181),a(c,"Channels",159),a(c,"Cues",475249515),a(c,"CuePoint",187),a(c,"CueTime",179),a(c,"CueTrackPositions",183),a(c,"CueTrack",247),a(c,"CueClusterPosition",241),a(c,"CueRefTime",150),a(c,"CueBlockNumber",21368),a(c,"Position",167),a(c,"Colour",21936)},3300:function(e,t,r){"use strict";r(5547),r(1624),r(2047),r(8534),Object.defineProperty(t,"__esModule",{value:!0}),t.EbmlElementType=void 0,t.getEbmlElementType=function(e){switch(e){case n.EbmlElementId.Segment:case n.EbmlElementId.Ebml:case n.EbmlElementId.SeekHead:case n.EbmlElementId.Seek:case n.EbmlElementId.Cluster:case n.EbmlElementId.Info:case n.EbmlElementId.Tracks:case n.EbmlElementId.TrackEntry:case n.EbmlElementId.Video:case n.EbmlElementId.Audio:case n.EbmlElementId.Cues:case n.EbmlElementId.CuePoint:case n.EbmlElementId.CueTrackPositions:case n.EbmlElementId.Colour:return s.Master;case n.EbmlElementId.EbmlVersion:case n.EbmlElementId.EbmlReadVersion:case n.EbmlElementId.EbmlMaxIdLength:case n.EbmlElementId.EbmlMaxSizeLength:case n.EbmlElementId.DocTypeVersion:case n.EbmlElementId.DocTypeReadVersion:case n.EbmlElementId.SeekPosition:case n.EbmlElementId.TimestampScale:case n.EbmlElementId.Timestamp:case n.EbmlElementId.TrackNumber:case n.EbmlElementId.TrackUID:case n.EbmlElementId.TrackType:case n.EbmlElementId.FlagEnabled:case n.EbmlElementId.FlagDefault:case n.EbmlElementId.FlagForced:case n.EbmlElementId.FlagLacing:case n.EbmlElementId.MinCache:case n.EbmlElementId.MaxBlockAdditionID:case n.EbmlElementId.CodecDecodeAll:case n.EbmlElementId.SeekPreRoll:case n.EbmlElementId.FlagInterlaced:case n.EbmlElementId.PixelWidth:case n.EbmlElementId.PixelHeight:case n.EbmlElementId.DefaultDuration:case n.EbmlElementId.Channels:case n.EbmlElementId.CueTime:case n.EbmlElementId.CueTrack:case n.EbmlElementId.CueClusterPosition:case n.EbmlElementId.CueRefTime:case n.EbmlElementId.CueBlockNumber:case n.EbmlElementId.Position:return s.UnsignedInteger;case n.EbmlElementId.DocType:case n.EbmlElementId.CodecID:return s.String;case n.EbmlElementId.Void:case n.EbmlElementId.SeekID:case n.EbmlElementId.SimpleBlock:case n.EbmlElementId.SegmentUID:case n.EbmlElementId.CodecPrivate:return s.Binary;case n.EbmlElementId.Duration:case n.EbmlElementId.TrackTimestampScale:case n.EbmlElementId.SamplingFrequency:return s.Float;case n.EbmlElementId.DateUTC:return s.Date;case n.EbmlElementId.Title:case n.EbmlElementId.MuxingApp:case n.EbmlElementId.WritingApp:case n.EbmlElementId.CodecName:return s.Utf8String;default:throw Error("cannot determine type of unknown ebml element with id ".concat(e))}},r(9244),r(2593),r(444),r(1076),r(1e3),r(5538);var n=r(3606);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===o(t)?t:String(t)}var s=a((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));t.EbmlElementType=s,u(s,"Unknown",0),u(s,"Master",1),u(s,"UnsignedInteger",2),u(s,"SignedInteger",3),u(s,"String",4),u(s,"Utf8String",5),u(s,"Binary",6),u(s,"Float",7),u(s,"Date",8)},1981:function(e,t,r){"use strict";r(5547),r(1624),r(2047),r(8534),Object.defineProperty(t,"__esModule",{value:!0}),t.epochTimestampOffset=t.EbmlElement=void 0,t.getEbmlElementSizeLength=l,t.getEbmlElementValue=function(e,t){switch(e){case o.EbmlElementType.UnsignedInteger:case o.EbmlElementType.SignedInteger:return(0,i.readBigEndianNumber)(t);case o.EbmlElementType.String:return String.fromCharCode.apply(null,t);case o.EbmlElementType.Utf8String:case o.EbmlElementType.Float:throw new Error("cannot read value of element with type ".concat(e));case o.EbmlElementType.Date:return c+(0,i.readBigEndianNumber)(t);case o.EbmlElementType.Binary:return t}},t.readEbmlLementSize=function(e,t){var r=l(e.current);if(r>e.bytesAvailable)return!1;for(var n=e.current-(1<<8-r),o=0;o<r-1;++o)n=n<<8|e.nextUnsafe();return e.nextUnsafe(),e.checkBounds(),t.sizeLength=r,t.size=n===1<<8*r-1?-1:n,!0},r(6941),r(9244),r(2593),r(444),r(1076),r(1e3),r(5538);var n=r(3606),o=r(3300),i=r(2706);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===a(o)?o:String(o)),n)}var o}var c=978307200;t.epochTimestampOffset=c;var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,(r=[{key:"elementSize",get:function(){return this.idLength+this.sizeLength+this.size}},{key:"id",get:function(){return this._id},set:function(e){this._id=e,this.name=(0,n.getEbmlElementName)(this._id),this.type=(0,o.getEbmlElementType)(this._id)}}])&&u(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){if(1==e)return 8;for(var t=7;t>0;t--)if(e&1<<t)return 8-t;throw Error("invalid ebml element size")}t.EbmlElement=s},1639:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"MediaInfo",{enumerable:!0,get:function(){return u.MediaInfo}}),Object.defineProperty(t,"MediaPacket",{enumerable:!0,get:function(){return a.MediaPacket}}),Object.defineProperty(t,"MediaRecorderDemuxer",{enumerable:!0,get:function(){return n.MediaRecorderDemuxer}}),Object.defineProperty(t,"MediaRecorderDemuxerEvents",{enumerable:!0,get:function(){return o.MediaRecorderDemuxerEvents}}),Object.defineProperty(t,"createMediaRecorderDemuxer",{enumerable:!0,get:function(){return i.createMediaRecorderDemuxer}});var n=r(9285),o=r(2981),i=r(6202),a=r(4151),u=r(5504)},5504:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}r(9244),r(2593),r(444),r(1076),r(1e3),r(5538),r(5547),r(1624),r(2047),r(8534),Object.defineProperty(t,"__esModule",{value:!0}),t.MediaInfo=void 0;var a=i((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.videoTrack={},this.audioTrack={}}));t.MediaInfo=a},4151:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}r(9244),r(2593),r(444),r(1076),r(1e3),r(5538),r(5547),r(1624),r(2047),r(8534),Object.defineProperty(t,"__esModule",{value:!0}),t.MediaPacket=void 0;var a=i((function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.ptsMs=r}));t.MediaPacket=a},2981:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}r(5547),r(1624),r(2047),r(8534),Object.defineProperty(t,"__esModule",{value:!0}),t.MediaRecorderDemuxerEvents=void 0,r(9244),r(2593),r(444),r(1076),r(1e3),r(5538);var c=i((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));t.MediaRecorderDemuxerEvents=c,a(c,"Error","error"),a(c,"MediaInfo","media-info"),a(c,"MediaPacket","media-packet")},6202:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMediaRecorderDemuxer=function(e,t){var r;return"undefined"!=typeof MediaRecorder==0?null:(("function"==typeof MediaRecorder.isTypeSupported==0||MediaRecorder.isTypeSupported("video/webm;codecs=h264"))&&(r=new n.WebmMediaRecorderDemuxer(new MediaRecorder(e,{mimeType:"video/webm;codecs=h264"}),t)),r)};var n=r(5102);r(2981)},9285:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(1e3),r(9616),r(9244),r(2593),r(444),r(1076),r(5538),r(5128),r(4011),r(5226),r(3275),r(9270),r(5547),r(1624),r(2047),r(8534),r(8496),r(4802),r(2112),r(6353),r(6941),r(6257),Object.defineProperty(t,"__esModule",{value:!0}),t.defaultMediaRecorderOptions=t.MediaRecorderDemuxer=void 0,r(3064);var o=r(5504),i=r(2981);function a(){a=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),u=new P(n||[]);return o(a,"_invoke",{value:S(e,r,u)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var p={};function h(){}function v(){}function y(){}var m={};l(m,u,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(k([])));w&&w!==t&&r.call(w,u)&&(m=w);var g=y.prototype=h.prototype=Object.create(m);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(o,a,u,c){var s=d(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,u,c)}),(function(e){i("throw",e,u,c)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=O(a,r);if(u){if(u===p)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=d(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=d(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function k(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return v.prototype=y,o(g,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(g),l(g,s,"Generator"),l(g,u,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function u(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function d(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var v=r(1239),y={timerInterval:100,logCallback:null};t.defaultMediaRecorderOptions=y;var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(m,e);var t,r,c,l,d,v=(l=m,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(l);if(d){var r=h(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function m(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(r=v.call(this)).options=t?s(s({},y),t):y,r.mediaRecorder=e,r.mediaInfo=new o.MediaInfo,r.mediaRecorder.addEventListener("dataavailable",function(){var e,t=(e=a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.addBlob(t.data);case 1:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){u(i,n,o,a,c,"next",e)}function c(e){u(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()),r.mediaRecorder.addEventListener("error",(function(e){r.emit(i.MediaRecorderDemuxerEvents.Error,e.error)})),r}return t=m,c=[{key:"isSupported",value:function(e){return"undefined"!=typeof MediaRecorder&&"function"==typeof MediaRecorder.prototype.requestData&&"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported(e)}}],(r=[{key:"start",value:function(){var e=this;this.mediaRecorder.start(),"function"==typeof this.mediaRecorder.requestData?this.timer=window.setInterval((function(){e.mediaRecorder.requestData()}),this.options.timerInterval):this.timer=window.setTimeout((function(){e.mediaRecorder.stop()}),this.options.timerInterval)}},{key:"stop",value:function(){"recording"===this.mediaRecorder.state&&this.mediaRecorder.stop(),this.timer&&(clearInterval(this.timer),this.timer=null)}}])&&f(t.prototype,r),c&&f(t,c),Object.defineProperty(t,"prototype",{writable:!1}),m}(v);t.MediaRecorderDemuxer=m},5102:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(9244),r(2593),r(444),r(1076),r(5538),r(3064),r(9616),r(5547),r(2047),r(8534),r(8496),r(4802),r(2112),r(6353),r(3275),r(6257),Object.defineProperty(t,"__esModule",{value:!0}),t.webmVideoTrackType=t.webmAudioTrackType=t.WebmMediaRecorderDemuxer=void 0,r(1e3),r(1624),r(2827),r(7639),r(6996),r(1366),r(3558),r(8852),r(8630),r(8858),r(6480),r(7219),r(2160),r(4289),r(8165),r(4613),r(3292),r(3748),r(9157),r(5529),r(4882),r(7233),r(1086),r(8786),r(5544),r(1304),r(3114),r(6941),r(6369),r(242);var o=r(9285),i=r(3606),a=r(1981),u=r(2706),c=r(3300),s=r(2981),l=r(4151);function f(){f=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),u=new P(n||[]);return o(a,"_invoke",{value:S(e,r,u)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function h(){}function v(){}function y(){}var m={};s(m,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(k([])));w&&w!==t&&r.call(w,a)&&(m=w);var g=y.prototype=h.prototype=Object.create(m);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(o,a,u,c){var s=d(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,u,c)}),(function(e){i("throw",e,u,c)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=O(a,r);if(u){if(u===p)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=d(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=d(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return v.prototype=y,o(g,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=s(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(_.prototype),s(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(g),s(g,c,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function d(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}function b(){var e=this;return new Promise((function(t){var r=new FileReader;r.onload=function(){t(r.result)},r.readAsArrayBuffer(e)}))}t.webmVideoTrackType=1,t.webmAudioTrackType=2;var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(E,e);var t,r,o,y,m,w,g=(m=E,w=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(m);if(w){var r=v(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function E(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,E),(r=g.call(this,e,t)).state=E.stateParseElementId,r.currentEbmlElement=new a.EbmlElement,r.uint8ArrayAggregator=new u.Uint8ArrayAggregator,r.clusterTimestamp=0,r.timestampMsScale=1,r.ebmlElementStack=[],Blob.prototype.arrayBuffer=Blob.prototype.arrayBuffer||b,r}return t=E,r=[{key:"addBlob",value:(o=f().mark((function e(t){var r,n,o,d,p,h,v,y,m,b,w,g,_;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=this.uint8ArrayAggregator,e.t1=Uint8Array,e.next=5,t.arrayBuffer();case 5:e.t2=e.sent,e.t3=new e.t1(e.t2),e.t0.addArray.call(e.t0,e.t3);case 8:if(!this.uint8ArrayAggregator.bytesAvailable){e.next=106;break}e.t4=this.state,e.next=e.t4===E.stateParseElementId?12:e.t4===E.stateParseElementLength?19:e.t4===E.stateParseElementValue?27:104;break;case 12:if(!(0,i.readEbmlElementId)(this.uint8ArrayAggregator,this.currentEbmlElement)){e.next=16;break}null==this.options.logCallback||this.options.logCallback("got new current ebml element (id: ".concat(this.currentEbmlElement.id,", name: ").concat(this.currentEbmlElement.name,")")),e.next=17;break;case 16:return e.abrupt("break",104);case 17:return this.state=E.stateParseElementLength,e.abrupt("break",104);case 19:if(!(0,a.readEbmlLementSize)(this.uint8ArrayAggregator,this.currentEbmlElement)){e.next=23;break}null==this.options.logCallback||this.options.logCallback("got size ".concat(this.currentEbmlElement.size," for current ebml element (id: ").concat(this.currentEbmlElement.id,", name: ").concat(this.currentEbmlElement.name,")")),e.next=24;break;case 23:return e.abrupt("break",104);case 24:return this.ebmlElementStack.length&&-1==this.currentEbmlElement.size&&(this.ebmlElementStack=[]),this.state=E.stateParseElementValue,e.abrupt("break",104);case 27:if(r=(0,c.getEbmlElementType)(this.currentEbmlElement.id),n=r!==c.EbmlElementType.Master||this.currentEbmlElement.id===i.EbmlElementId.Colour,r===c.EbmlElementType.Master&&-1!==this.currentEbmlElement.size&&this.ebmlElementStack.push({element:Object.assign(new a.EbmlElement,this.currentEbmlElement),bytesRemaining:this.currentEbmlElement.size}),this.currentEbmlElement.id!==i.EbmlElementId.CodecID){e.next=40;break}if(n=!1,null!=(o=this.uint8ArrayAggregator.extract(this.currentEbmlElement.size))){e.next=35;break}return e.abrupt("break",104);case 35:d=(0,a.getEbmlElementValue)(this.currentEbmlElement.type,o),1===this.currentTrackType?this.mediaInfo.videoTrack.codecName=d:2===this.currentTrackType&&(this.mediaInfo.audioTrack.codecName=d),null==this.options.logCallback||this.options.logCallback("got codec id ".concat(d)),e.next=91;break;case 40:if(this.currentEbmlElement.id!==i.EbmlElementId.CodecPrivate){e.next=47;break}if(n=!1,null!=this.uint8ArrayAggregator.extract(this.currentEbmlElement.size)){e.next=45;break}return e.abrupt("break",104);case 45:e.next=91;break;case 47:if(this.currentEbmlElement.id!==i.EbmlElementId.TimestampScale){e.next=57;break}if(n=!1,null!=(p=this.uint8ArrayAggregator.extract(this.currentEbmlElement.size))){e.next=52;break}return e.abrupt("break",104);case 52:this.mediaInfo.timestampScale=(0,a.getEbmlElementValue)(this.currentEbmlElement.type,p),this.timestampMsScale=this.mediaInfo.timestampScale/1e6,null==this.options.logCallback||this.options.logCallback("got timestamp scale ".concat(this.mediaInfo.timestampScale)),e.next=91;break;case 57:if(this.currentEbmlElement.id!==i.EbmlElementId.Timestamp){e.next=66;break}if(n=!1,null!=(h=this.uint8ArrayAggregator.extract(this.currentEbmlElement.size))){e.next=62;break}return e.abrupt("break",104);case 62:this.clusterTimestamp=(0,a.getEbmlElementValue)(this.currentEbmlElement.type,h),null==this.options.logCallback||this.options.logCallback("got cluser timestamp ".concat(this.clusterTimestamp)),e.next=91;break;case 66:if(this.currentEbmlElement.id!==i.EbmlElementId.TrackType){e.next=75;break}if(n=!1,null!=(v=this.uint8ArrayAggregator.extract(this.currentEbmlElement.size))){e.next=71;break}return e.abrupt("break",104);case 71:this.currentTrackType=(0,a.getEbmlElementValue)(this.currentEbmlElement.type,v),null==this.options.logCallback||this.options.logCallback("got track with type ".concat(this.currentTrackType)),e.next=91;break;case 75:if(this.currentEbmlElement.id!==i.EbmlElementId.SimpleBlock){e.next=91;break}if(n=!1,null!=(y=this.uint8ArrayAggregator.extract(this.currentEbmlElement.size))){e.next=80;break}return e.abrupt("break",104);case 80:(m=new u.Uint8ArrayAggregator).addArray(y),b={},(0,a.readEbmlLementSize)(m,b),w=(0,u.readBigEndianNumber)(m.extract(2)),m.current,m.next(),m.trim(),g=(this.clusterTimestamp+w)*this.timestampMsScale,this.emit(s.MediaRecorderDemuxerEvents.MediaPacket,new l.MediaPacket(m.array,g));case 91:if(n&&this.uint8ArrayAggregator.skip(this.currentEbmlElement.size),r===c.EbmlElementType.Master||!this.ebmlElementStack.length){e.next=102;break}this.ebmlElementStack[this.ebmlElementStack.length-1].bytesRemaining-=this.currentEbmlElement.elementSize;case 94:if(0!==this.ebmlElementStack[this.ebmlElementStack.length-1].bytesRemaining){e.next=100;break}_=this.ebmlElementStack.pop(),this.ebmlElementStack.length&&(this.ebmlElementStack[this.ebmlElementStack.length-1].bytesRemaining-=_.element.elementSize),_.element.id===i.EbmlElementId.Tracks&&this.emit(s.MediaRecorderDemuxerEvents.MediaInfo,this.mediaInfo),e.next=101;break;case 100:return e.abrupt("break",102);case 101:if(this.ebmlElementStack.length){e.next=94;break}case 102:return this.state=E.stateParseElementId,e.abrupt("break",104);case 104:e.next=8;break;case 106:this.uint8ArrayAggregator.trim(),e.next=113;break;case 109:e.prev=109,e.t5=e.catch(0),this.stop(),this.emit(s.MediaRecorderDemuxerEvents.Error,e.t5);case 113:case"end":return e.stop()}}),e,this,[[0,109]])})),y=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=o.apply(e,t);function a(e){d(i,r,n,a,u,"next",e)}function u(e){d(i,r,n,a,u,"throw",e)}a(void 0)}))},function(e){return y.apply(this,arguments)})}],r&&p(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),E}(o.MediaRecorderDemuxer);t.WebmMediaRecorderDemuxer=w,y(w,"stateParseElementId",1),y(w,"stateParseElementLength",2),y(w,"stateParseElementValue",3)},2706:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}r(9244),r(2593),r(444),r(1076),r(5538),r(5547),r(2047),r(8534),Object.defineProperty(t,"__esModule",{value:!0}),t.Uint8ArrayAggregator=void 0,t.readBigEndianNumber=function(e){var t=0;return e.forEach((function(e){t=t<<8|e})),t},r(1e3),r(3275),r(6257),r(1624),r(2827),r(7639),r(6996),r(1366),r(3558),r(8852),r(8630),r(8858),r(6480),r(7219),r(2160),r(4289),r(8165),r(4613),r(3292),r(3748),r(9157),r(5529),r(4882),r(7233),r(1086),r(8786),r(5544),r(1304),r(3114);var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.array=null,this.current=null,this.offset=0}var t,r;return t=e,(r=[{key:"addArray",value:function(e){if(null!=e&&0!=e.length)if(this.bytesToSkip>=e.length)this.bytesToSkip-=e.length;else{if(this.bytesToSkip&&(e=e.slice(this.bytesToSkip)),this.array){var t=new Uint8Array(this.array.length-this.offset+e.length);t.set(this.offset?this.array.slice(this.offset):this.array,0),t.set(e,this.array.length-this.offset),this.array=t,this.offset=0}else this.array=e;this.current=this.array[0]}}},{key:"checkBounds",value:function(){if(this.offset===this.array.length)this.offset=0,this.current=null,this.array=null;else{if(!(this.offset<this.array.length))throw Error("invalid Uint8ArrayAggregator state, offset (".concat(this.offset,") is larger than bytes in the current array (").concat(this.array.length,")"));this.current=this.array[this.offset]}}},{key:"next",value:function(){return this.array?(this.offset++,this.checkBounds(),this.current):null}},{key:"nextUnsafe",value:function(){return this.offset++,this.current=this.array[this.offset],this.current}},{key:"bytesAvailable",get:function(){return this.array?this.array.length-this.offset:0}},{key:"trim",value:function(){if(this.array)if(this.offset<this.array.length)this.array=this.array.slice(this.offset),this.offset=0,this.current=this.array[0];else{if(this.offset>this.array.length)throw Error("invalid Uint8ArrayAggregator state, offset (".concat(this.offset,") is larger than bytes in the current array (").concat(this.array.length,")"));this.array=null,this.offset=0,this.current=null}}},{key:"extract",value:function(e){if(this.bytesAvailable>=e){var t=this.offset,r=this.array.slice(t,t+e);return this.offset+=e,this.current=this.array[this.offset],this.checkBounds(),r}return null}},{key:"skip",value:function(e){if(this.bytesAvailable>=e)return this.offset+=e,this.current=this.array[this.offset],void this.checkBounds();e-=this.bytesAvailable,this.array=null,this.offset=0,this.current=null,this.bytesToSkip=e}}])&&o(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.Uint8ArrayAggregator=i},1043:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}r(5547),r(1624),r(2047),r(8534),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9244),r(2593),r(444),r(1076),r(1e3),r(5538);var i=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._message=t,this._node=r}var t,r;return t=e,(r=[{key:"message",get:function(){return this._message}},{key:"node",get:function(){return this._node}}])&&o(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=i},9290:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}r(5547),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(1624),r(1e3),r(8719),r(2047),r(8534),r(5226),r(3275),r(9244),r(2593),r(444),r(1076),r(5538);var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onPropertySet=t,this._klasses=new Set}var t,r;return t=e,(r=[{key:"_trackObserver",value:function(e){e.__cbio_observers||(e.__cbio_observers=new Set),e.__cbio_observers.add(this)}},{key:"_untrackObserver",value:function(e){e.__cbio_observers&&e.__cbio_observers.delete(this)}},{key:"_tap",value:function(e,t){if(!e["__cbio_override_".concat(t)]){var r=Object.getOwnPropertyDescriptor(e.prototype,t);if(r){e["__cbio_override_".concat(t)]=!0;var n=r.set;r.set=function(r){var o=this;n.call(this,r),e.__cbio_observers&&e.__cbio_observers.forEach((function(e){e.onPropertySet(o,t,r)}))},Object.defineProperty(e.prototype,t,r)}}}},{key:"observe",value:function(e,t){this._klasses.add(e),this._trackObserver(e),this._tap(e,t)}},{key:"disconnect",value:function(){var e=this;this._klasses.forEach((function(t){return e._untrackObserver(t)})),this._klasses.clear()}}])&&o(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=i},1213:function(e,t,r){"use strict";r(5128),r(4011),r(5226),r(9270),r(5547),r(1624),r(2047),r(8534),r(1157),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(1e3),r(3275),r(1087),r(3133),r(9244),r(2593),r(444),r(1076),r(5538);var n,o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(n,i,c):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(3682)),i=(n=r(1043))&&n.__esModule?n:{default:n};function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function d(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===u(t)?t:String(t)}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=t,this._dom={id:t,childNodes:[]},this._mapping={}}var t,r,n;return t=e,n=[{key:"createMapping",value:function(e){var t={};return(0,o.default)(e,(function(e){e.id?t[e.id]=e:console.warn("node missing id",e)})),t}},{key:"applyPatch",value:function(e,t){var r=this.createMapping(e),n={};t.forEach((function(e){if(e.id){var t=r[e.id]||{};r[e.id]=s(s({},t),e),n[e.id]=!0}else console.warn("diff missing id",e)})),Object.values(r).forEach((function(e){e.childNodes=(e.childNodes||[]).map((function(t){var n=t.id||t,o=r[n];if(!o)throw new i.default("denormalisation failed for child ".concat(n),e);return o}))}));var a=r[e.id],u=(0,o.depthFirstPostOrder)(a,(function(e,t){if(e.childNodes=t,t.map((function(e){return n[e.id]})).reduce((function(e,t){return e||t}),!1)){n[e.id]=!0;var o=s({},e);return r[e.id]=o,o}return e}));return{dom:u,mapping:this.createMapping(u)}}}],(r=[{key:"id",get:function(){return this._id}},{key:"document",get:function(){return this._dom}},{key:"node",value:function(e){return this._mapping[e]}},{key:"applyPatch",value:function(t){var r=e.applyPatch(this._dom,t),n=r.dom,o=r.mapping;return this._dom=n,this._mapping=o,this}}])&&f(t.prototype,r),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=p},3682:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(5128),r(4011),r(5226),r(3275),r(9270),r(5547),r(1624),r(8534),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,r){var n=t.childNodes,o=r(t,(function(){n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}));return n&&n.length?i(i({},o),{},{childNodes:Array.from(n).map((function(t){return e(t,r)}))}):o},t.depthFirstPostOrder=function e(t,r){var n=Array.from(t.childNodes||[]).map((function(t){return e(t,r)}));return r(t,n)},r(3133),r(6486),r(2047),r(9244),r(2593),r(444),r(1076),r(1e3),r(5538)},1514:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(1624),r(1e3),r(2047),r(1157),r(8534),r(5226),r(444),r(1076),r(5547),Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CompressionError",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"PropertyObserver",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"VirtualDOM",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"depthFirst",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"depthFirstPostOrder",{enumerable:!0,get:function(){return a.depthFirstPostOrder}}),Object.defineProperty(t,"isxdoc",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"parents",{enumerable:!0,get:function(){return c.default}});var o=f(r(1043)),i=f(r(1213)),a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=i?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(o,a,u):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}(r(3682)),u=f(r(9122)),c=f(r(1725)),s=f(r(9290));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}},9122:function(e,t){"use strict";function r(e){try{return!e.document&&!1}catch(e){return!0}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return!!r(e)||!("IFRAME"!==e.tagName||!r(e.contentWindow))}},1725:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r(444),r(1076),r(1e3),r(5547),r(1624),r(2047),r(8534),r(6486),r(6257),r(6941),r(3524),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,r){for(var o=[],i=t;i.parentNode&&i.parentNode!==r;)o.push(i.parentNode),i=i.parentNode;var a,u=i.defaultView&&i.defaultView.frameElement;return u?[].concat(o,[u],function(e){if(Array.isArray(e))return n(e)}(a=e(u))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):o},r(3114)},9796:function(e,t,r){"use strict";var n;r(3524),r(3317),r(9806),r(7285),r(3794),r(9344),t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(n=!1,function(){n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=r(4701)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},4701:function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r(444),r(1076),r(5547),r(1624),r(2047),r(8534),r(6486),r(6941),r(1e3),r(3275),r(5128),r(5538),r(3524),r(9344),r(3794),r(685),r(9806),r(7285),r(6257),r(887),r(3114),r(3133),e.exports=function(e){function t(e){var r,n,i,a=null;function u(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];if(u.enabled){var i=u,a=Number(new Date),c=a-(r||a);i.diff=c,i.prev=r,i.curr=a,r=a,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var s=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return"%";s++;var o=t.formatters[r];if("function"==typeof o){var a=n[s];e=o.call(i,a),n.splice(s,1),s--}return e})),t.formatArgs.call(i,n),(i.log||t.log).apply(i,n)}}return u.namespace=e,u.useColors=t.useColors(),u.color=t.selectColor(e),u.extend=o,u.destroy=t.destroy,Object.defineProperty(u,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==a?a:(n!==t.namespaces&&(n=t.namespaces,i=t.enabled(e)),i)},set:function(e){a=e}}),"function"==typeof t.init&&t.init(u),u}function o(e,r){var n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(n(t.names.map(i)),n(t.skips.map(i).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(3231),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(r){t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var r=0,n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},1178:function(e,t,r){"use strict";r(9244),r(2593),r(444),r(1076),r(5538),r(3064),r(9616),r(5547),r(8496),r(4802),r(2112),r(6353),r(3275),r(6941),r(6257),r(5226),r(9270),Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CobrowseIO=void 0,r(1624),r(1e3),r(2047),r(8534),r(6955),r(8927),r(3524),r(9344),r(4011),r(3600),r(6770),r(6706),r(5128),r(3133),r(9806),r(7285),r(1157);var n=O(r(1381)),o=r(1514),i=r(1239),a=r(5064),u=r(8302),c=r(5161),s=r(6362),l=r(3042),f=O(r(1289)),d=O(r(1560)),p=S(r(9356)),h=O(r(3191)),v=r(1640),y=r(9426),m=O(r(2175)),b=O(r(9796)),w=O(r(3677)),g=S(r(5703)),E=O(r(37));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==T(e)&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function O(e){return e&&e.__esModule?e:{default:e}}function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(){k=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),u=new j(o||[]);return n(a,"_invoke",{value:E(e,r,u)}),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function d(){}function p(){}function h(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(P([])));m&&m!==t&&r.call(m,i)&&(v=m);var b=h.prototype=d.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function o(n,i,a,u){var c=l(e[n],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==T(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function E(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=_(a,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function _(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function P(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=h,n(b,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=c(h,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(g.prototype),c(g.prototype,a,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new g(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=P,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function x(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function I(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){x(i,n,o,a,u,"next",e)}function u(e){x(i,n,o,a,u,"throw",e)}a(void 0)}))}}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D(n.key),n)}}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}function M(e,t,r){return(t=D(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e){var t=function(e,t){if("object"!==T(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===T(t)?t:String(t)}function A(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function U(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,W(e,t,"get"))}function F(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,W(e,t,"set"),r),r}function W(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var z=(0,b.default)("cbio.CobrowseIO"),V=new WeakMap,Y=new WeakMap,B=new WeakMap,G=new WeakMap,q=new WeakMap,Q=new WeakMap,H=new WeakMap,X=new WeakMap,K=new WeakMap,J=new WeakMap,Z=new WeakMap,$=new WeakMap,ee=new WeakMap,te=new WeakMap,re=new WeakMap,ne=new WeakMap,oe=new WeakMap,ie=new WeakMap,ae=new WeakMap,ue=new WeakMap,ce=new WeakMap,se=new WeakMap,le=new WeakMap,fe=new WeakMap,de=new WeakMap,pe=new WeakMap,he=new WeakMap,ve=new WeakMap,ye=new WeakMap,me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(O,e);var t,r,i,b,_,S=(b=O,_=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=R(b);if(_){var r=R(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}(this,e)});function O(){var e,t,r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).sessionStorageFactory,i=void 0===r?function(e,t,r){var n=r.localStorage;return v.SessionStorage.create(e,t,{localStorage:n})}:r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,O),A(N(e=S.call(this)),V,{writable:!0,value:new a.ActivityDetection}),A(N(e),Y,{writable:!0,value:void 0}),A(N(e),B,{writable:!0,value:void 0}),A(N(e),G,{writable:!0,value:!1}),A(N(e),q,{writable:!0,value:!0}),A(N(e),Q,{writable:!0,value:new y.LocalSessionStorage}),A(N(e),H,{writable:!0,value:void 0}),A(N(e),X,{writable:!0,value:void 0}),A(N(e),K,{writable:!0,value:{}}),A(N(e),J,{writable:!0,value:c.Device.info.capabilities}),A(N(e),Z,{writable:!0,value:new c.Device(N(e))}),A(N(e),$,{writable:!0,value:new l.ConsentDialog}),A(N(e),ee,{writable:!0,value:new l.ConsentDialog}),A(N(e),te,{writable:!0,value:new l.ConsentDialog}),A(N(e),re,{writable:!0,value:new l.ConsentDialog}),A(N(e),ne,{writable:!0,value:void 0}),A(N(e),oe,{writable:!0,value:void 0}),A(N(e),ie,{writable:!0,value:void 0}),A(N(e),ae,{writable:!0,value:function(e,t,r,n){return n(e,t,null)}}),A(N(e),ue,{writable:!0,value:void 0}),A(N(e),ce,{writable:!0,value:void 0}),M(N(e),"start",I(k().mark((function t(){var r,n,i=arguments;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(z("start()",r=i.length>0&&void 0!==i[0]?i[0]:{},"in",document),!h.default.isHeadless()||r.allowHeadless){t.next=5;break}return console.warn("CobrowseIO: Not starting Cobrowse in a headless browser"),t.abrupt("return");case 5:if(p.default.start(),window.self===window.top){t.next=19;break}if(!r.allowIFrameStart){t.next=11;break}a.WindowTracking.setTracksIframes(!0),t.next=19;break;case 11:if(!(0,o.isxdoc)(window.parent)){t.next=17;break}return(0,p.initIframeBridgeAsChild)(N(e)),z("Starting Cobrowse in Iframe bridge mode with trusted origins:",p.default.trustedOrigins,"for",document),t.abrupt("return");case 17:return z("Not starting Cobrowse for same-origin iframe",document),t.abrupt("return");case 19:if((0,p.initIframeBridgeAsParent)(N(e)),e.license){t.next=23;break}return console.error("CobrowseIO.license must be set before calling start"),t.abrupt("return");case 23:if(U(N(e),G)){t.next=40;break}return f.default.initialize(),a.WindowTracking.start(),(0,d.default)(O.version).catch((function(){})),F(N(e),X,U(N(e),H).call(N(e),e.trustedOrigins,e.api,{localStorage:U(N(e),Q)})),console.log("CobrowseIO started",O.version),F(N(e),G,!0),"boolean"==typeof r.register&&F(N(e),q,r.register),e.registration&&(U(N(e),V).on("active",(function(){return U(N(e),Z).runRegistrationLoop()})),U(N(e),V).on("inactive",(function(){return U(N(e),Z).pauseRegistrationLoop()}))),U(N(e),V).start(),z("attempting to restore session after start"),t.next=36,U(N(e),se).call(N(e));case 36:F(N(e),B,null),null!==(n=e.currentSession)&&void 0!==n&&n.isActive()||e.hideSessionControls(),window.addEventListener("focus",U(N(e),se),{capture:!0}),g.mark("start");case 40:case"end":return t.stop()}}),t)})))),M(N(e),"stop",I(k().mark((function t(){return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.currentSession||e.currentSession.isEnded()){t.next=3;break}return t.next=3,e.currentSession.end().catch((function(e){console.warn("CobrowseIO: Failed to end session on stop",e)}));case 3:return window.removeEventListener("focus",U(N(e),se),{capture:!0}),U(N(e),fe).call(N(e),null),a.WindowTracking.stop(),U(N(e),V).stop(),t.next=9,U(N(e),Z).destroy();case 9:return t.next=11,U(N(e),X)&&U(N(e),X).destroy();case 11:return F(N(e),X,void 0),F(N(e),G,!1),t.abrupt("return",N(e));case 14:case"end":return t.stop()}}),t)})))),M(N(e),"navigate",(function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){window.location=e},o=null!=U(N(e),Y)?U(N(e),Y).navigate(t,r,n):t;if("string"==typeof o)return n(o)})),A(N(e),se,{writable:!0,value:(t=I(k().mark((function t(){var r;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(N(e),X).load(N(e));case 2:if(!(r=t.sent)){t.next=14;break}if(t.prev=4,r.state()){t.next=8;break}return t.next=8,r.fetch();case 8:U(N(e),fe).call(N(e),r,{invalidateFrames:!0}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),console.warn("CobrowseIO: Failed to fetch restored session",t.t0);case 14:return t.abrupt("return",null);case 15:case"end":return t.stop()}}),t,null,[[4,11]])}))),function(){return t.apply(this,arguments)})}),A(N(e),le,{writable:!0,value:function(){U(N(e),Z).bannerMessage()&&l.Toast.show(U(N(e),Z).bannerMessage())}}),A(N(e),fe,{writable:!0,value:function(t){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).invalidateFrames,n=void 0!==r&&r;if(z("setting current session",t),!t||!U(N(e),Y)||U(N(e),Y).session.id()!==t.id()){U(N(e),$).hide(),U(N(e),ee).hide(),U(N(e),te).hide(),U(N(e),re).hide();var o=function(e,t){return p.default.broadcastToChildren("control",[e,t])};U(N(e),Y)&&(U(N(e),Y).session.off("updated",U(N(e),de)),U(N(e),Y).session.off("ended",U(N(e),pe)),U(N(e),Y).session.off("control",o),U(N(e),Y).destroy(),F(N(e),Y,null)),t&&(F(N(e),Y,new s.SessionContext(t,N(e),U(N(e),X))),t.state()&&U(N(e),de).call(N(e),t),t.on("updated",U(N(e),de)),t.once("ended",U(N(e),pe)),t.on("control",o),n&&U(N(e),Y).invalidateFrames())}}}),A(N(e),de,{writable:!0,value:function(t){t.fullDevice()||U(N(e),te).hide(),"requested"!==t.remoteControl()&&U(N(e),ee).hide(),t.isAuthorizing()||U(N(e),$).hide(),U(N(e),le).call(N(e),t),e.emit("session.updated",t)}}),A(N(e),pe,{writable:!0,value:function(t){e.emit("session.ended",t),U(N(e),fe).call(N(e),null)}}),A(N(e),he,{writable:!0,value:void 0}),M(N(e),"hideSessionControls",(function(){l.SessionStateOverlay.hide()})),A(N(e),ve,{writable:!0,value:(0,n.default)((function(){U(N(e),Z).hasPendingUpdates()&&U(N(e),G)&&e.registration&&U(N(e),Z).updateRegistration().catch((function(e){console.warn("CobrowseIO: updating customData failed",e)}))}),8e3,{leading:!0,trailing:!0})}),M(N(e),"confirmRemoteControl",I(k().mark((function t(){return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",U(N(e),ee).show(m.default.tr("REMOTE_CONTROL_REQUEST_TITLE"),m.default.tr("REMOTE_CONTROL_REQUEST_DESCRIPTION")));case 1:case"end":return t.stop()}}),t)})))),M(N(e),"confirmFullDevice",I(k().mark((function t(){return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",U(N(e),te).show(m.default.tr("FULL_DEVICE_REQUEST_TITLE"),m.default.tr("FULL_DEVICE_REQUEST_DESCRIPTION")));case 1:case"end":return t.stop()}}),t)})))),M(N(e),"confirmSession",I(k().mark((function t(){return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",U(N(e),$).show(m.default.tr("SESSION_REQUEST_TITLE"),m.default.tr("SESSION_REQUEST_DESCRIPTION")));case 1:case"end":return t.stop()}}),t)})))),M(N(e),"confirmNavigation",(function(t,r){if("universal"===r){var n=new URL(t),o=m.default.tr("UNIVERSAL_PROXY_REQUEST_DESCRIPTION").replace("{origin}",n.origin);return U(N(e),re).show(m.default.tr("UNIVERSAL_PROXY_REQUEST_TITLE"),o)}return Promise.resolve(!0)})),M(N(e),"getSession",function(){var t=I(k().mark((function t(r){var n;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(U(N(e),G)){t.next=2;break}throw new Error("CobrowseIO not started. Call CobrowseIO.start()");case 2:if(!e.currentSession||e.currentSession.id()!==r&&e.currentSession.code()!==r){t.next=4;break}return t.abrupt("return",e.currentSession.fetch());case 4:return n=new s.Session(N(e)).updateResource({id:r}),U(N(e),fe).call(N(e),n),t.next=8,n.fetch();case 8:return e.emit("session.loaded",n),t.abrupt("return",n);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),M(N(e),"createSession",I(k().mark((function t(){var r;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(U(N(e),G)){t.next=2;break}throw new Error("CobrowseIO not started. Call CobrowseIO.start()");case 2:if(!e.currentSession||!e.currentSession.isActive()&&!e.currentSession.isAuthorizing()){t.next=4;break}throw new Error("Already in a session");case 4:return g.delta("load")<8e3&&console.warn("Six digit codes have a short expiry time. You should wait to generate a code until it is required! Do not generate codes on page load."),r=new s.Session(N(e)),U(N(e),fe).call(N(e),r),t.next=9,r.update({custom_data:e.customData,device:c.Device.info});case 9:return e.emit("session.loaded",r),t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})))),M(N(e),"displayContent",(function(e,t){var r=E.default.newTab(e.element,"",t,!0);return e.on("updated",(function(){r.setIcon(e.icon),r.setTitle(e.title),r.setIsLoading("complete"!==e.readyState)})),e.on("closed",r.close),e})),M(N(e),"createSessionCode",I(k().mark((function t(){var r;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.createSession();case 2:return r=t.sent,t.abrupt("return",r.code());case 4:case"end":return t.stop()}}),t)})))),M(N(e),"client",I(k().mark((function t(){return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",N(e));case 1:case"end":return t.stop()}}),t)})))),A(N(e),ye,{writable:!0,value:function(t){t&&["license","api","registration","customData","showSessionControls","hideSessionControls","confirmSession","confirmRemoteControl","confirmFullDevice","trustedOrigins","redactedViews","unredactedViews","ignoredViews","capabilities","handleNavigation","pdfLinks","universalLinks","confirmNavigation","displayContent"].forEach((function(r){void 0!==t[r]&&(e[r]=t[r])}))}}),z("interface constructed in",document),F(N(e),H,i),e.api="https://api.cobrowse.io",U(N(e),ye).call(N(e),window&&window.CobrowseIO),F(N(e),B,U(N(e),Q).load(N(e))),U(N(e),Z).on("register",U(N(e),le)),U(N(e),Z).on("notification",(function(t){var r=t["cobrowseio-code"];r&&e.getSession(r).catch((function(e){console.warn("CobrowseIO: session fetch failed:",e)}))})),e}return t=O,i=[{key:"version",get:function(){return c.Device.info.sdk_version}}],(r=[{key:"deviceId",value:function(){return c.Device.deviceId()}},{key:"currentSession",get:function(){return U(this,Y)?U(this,Y).session:U(this,B)}},{key:"showSessionControls",get:function(){return U(this,he)?U(this,he):l.SessionStateOverlay.show},set:function(e){F(this,he,e),l.SessionStateOverlay.hide(),this.currentSession&&this.currentSession.isActive()&&U(this,he).call(this)}},{key:"license",get:function(){return u.RESTResource.getHeader("X-CobrowseLicense")},set:function(e){if(U(this,G)&&this.license!==e)throw new Error("Cannot change license once Cobrowse is started");u.RESTResource.setHeader("X-CobrowseLicense",e)}},{key:"api",get:function(){return u.RESTResource.api},set:function(e){if(U(this,G)&&u.RESTResource.api!==e)throw new Error("Cannot change API once Cobrowse is started");u.RESTResource.api=e}},{key:"registration",get:function(){return!!U(this,q)},set:function(e){if(U(this,G)&&U(this,q)!==e)throw new Error("Cannot change auto-registration state once Cobrowse is started");F(this,q,e)}},{key:"redactedViews",get:function(){return U(this,ne)},set:function(e){if(U(this,G))throw new Error("Cannot set redacted views after Cobrowse is started");F(this,ne,e)}},{key:"unredactedViews",get:function(){return U(this,oe)},set:function(e){if(U(this,G))throw new Error("Cannot set unredacted views after Cobrowse is started");F(this,oe,e)}},{key:"ignoredViews",get:function(){return U(this,ie)},set:function(e){if(U(this,G))throw new Error("Cannot set ignored views after Cobrowse is started");F(this,ie,e),w.default.setIgnoredViews(e)}},{key:"capabilities",get:function(){var e,t;return null!==(e=null===(t=this.currentSession)||void 0===t?void 0:t.capabilities)&&void 0!==e?e:U(this,J)},set:function(e){if(U(this,G))throw new Error("Cannot set capabilities after Cobrowse is started");if(!Array.isArray(e))throw new Error("Capabilities should be an array");F(this,J,e.filter((function(e){return!!c.Device.info.capabilities.includes(e)||(console.warn("Capability '".concat(e,"' not supported. Ignoring...")),!1)})))}},{key:"customData",get:function(){return P(P({},U(this,Z).customData),U(this,K))},set:function(e){if("object"!==T(e))throw new Error("Custom data must be an object");if(F(this,K,P(P({},U(this,K)),e)),U(this,G)&&setTimeout(U(this,ve),0),this.currentSession&&this.currentSession.isActive()){var t=this.currentSession.resource.custom_data;if(!Object.keys(e).find((function(r){return t[r]!==e[r]})))return void z("no changes to session custom data");this.currentSession.update({custom_data:e}).catch((function(){console.warn("CobrowseIO: failed to update custom data on active session")}))}}},{key:"trustedOrigins",get:function(){return p.default.trustedOrigins},set:function(e){var t=e.map((function(e){try{return new URL(e).origin}catch(t){return console.warn("CobrowseIO: Invalid URL in trustedOrigins:",e),null}})).filter((function(e){return e}));p.default.trustedOrigins=t}},{key:"pdfLinks",get:function(){return U(this,ue)},set:function(e){var t=e.map((function(e){return e instanceof RegExp||"string"==typeof e?e:(console.warn("CobrowseIO: Invalid link in pdfLinks:",e),null)})).filter((function(e){return e}));F(this,ue,t)}},{key:"universalLinks",get:function(){return U(this,ce)},set:function(e){var t=e.map((function(e){return e instanceof RegExp||"string"==typeof e?e:(console.warn("CobrowseIO: Invalid link in universalLinks:",e),null)})).filter((function(e){return e}));F(this,ce,t)}},{key:"handleNavigation",get:function(){return U(this,ae)},set:function(e){if(U(this,G))throw new Error("Cannot set handleNavigation after Cobrowse is started");if("function"!=typeof e)throw new Error("handleNavigation should be a function");F(this,ae,e)}},{key:"version",get:function(){return O.version}}])&&L(t.prototype,r),i&&L(t,i),Object.defineProperty(t,"prototype",{writable:!1}),O}(i.EventEmitter);t.CobrowseIO=me,u.RESTResource.setHeader("Content-Type","application/json"),u.RESTResource.setHeader("X-CobrowsePlatform","web"),u.RESTResource.setHeader("X-CobrowseSDKVersion",me.version),u.RESTResource.setHeader("X-CobrowseDevice",c.Device.deviceId()),u.RESTResource.setHeader("X-CobrowseAPIVersion","1.2.0");var be=new me;t.default=be},8656:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(444),r(1076),r(5547),r(1624),r(2047),r(8534),r(8496),r(4802),r(2112),r(6353),r(3064),r(3275),r(6941),r(6257),t.yO=function(){return d.apply(this,arguments)},r(1e3);var o=i(r(1178));function i(e){return e&&e.__esModule?e:{default:e}}function a(){a=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),u=new P(n||[]);return o(a,"_invoke",{value:S(e,r,u)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var p={};function h(){}function v(){}function y(){}var m={};l(m,u,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(k([])));w&&w!==t&&r.call(w,u)&&(m=w);var g=y.prototype=h.prototype=Object.create(m);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(o,a,u,c){var s=d(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,u,c)}),(function(e){i("throw",e,u,c)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=O(a,r);if(u){if(u===p)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=d(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=d(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function k(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return v.prototype=y,o(g,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(g),l(g,s,"Generator"),l(g,u,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function u(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){u(i,n,o,a,c,"next",e)}function c(e){u(i,n,o,a,c,"throw",e)}a(void 0)}))}}var s=(0,i(r(9796)).default)("cbio.Integrations.Freshchat");function l(){return f.apply(this,arguments)}function f(){return(f=c(a().mark((function e(){var t,r,n,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.default.deviceId(),window.fcWidget.user.setProperties({cobrowse_device_id:t}),e.next=4,window.fcWidget.user.get();case 4:(r=e.sent).success&&(s("Freshchat initialized"),n=r.data,i={freshchat_numeric_user_id:n.id+"",freshchat_user_id:n.alias,cobrowse_device_id:t},n.isNameGenerated||(i.freshchat_user_first_name=n.firstName,i.freshchat_user_last_name=n.lastName),n.email&&(i.freshchat_user_email=n.email),o.default.customData=i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=c(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.fcWidget){e.next=3;break}return s("Freshchat not found"),e.abrupt("return");case 3:window.fcWidget.on("user:created",l),window.fcWidget.on("widget:opened",c(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fcWidget.user.isExists();case 2:if(!e.sent){e.next=6;break}return e.next=6,l();case 6:case"end":return e.stop()}}),e)}))));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1974:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(444),r(1076),r(5547),r(1624),r(2047),r(8534),r(8496),r(4802),r(2112),r(6353),r(3064),r(3275),r(6941),r(6257),t.Z=function(){if(!c)try{var e,t,r,n=window.CXBus||(null===(e=window)||void 0===e||null===(t=e._genesys)||void 0===t||null===(r=t.widgets)||void 0===r?void 0:r.bus);if(!n)throw new Error("Genesys bus not found");c=n.registerPlugin("CobrowseIOExtension"),window.oCobrowseIOExtension=c,s("CobrowseIOExtension",c),c.subscribe("WebChat.opened",(function(e){s("CobrowseIOExtension.WebChat.opened",e),function(e){e.command("WebChatService.updateUserData",{cobrowse_device_id:o.default.deviceId()}).done((function(e){s("CobrowseIOExtension.WebChatService.updateUserData succeeded",e)})).fail((function(e){s("CobrowseIOExtension.WebChatService.updateUserData failed",e)}))}(c)})),c.subscribe("WebChatService.started",(function(e){try{s("CobrowseIOExtension.WebChatService.started",e),f(c);var t={cobrowse_device_id:o.default.deviceId()};e&&e.data&&(e.data.data&&e.data.data.conversationId&&(t.genesys_conversation_id=e.data.data.conversationId),e.data.userId&&"deprecated"!==e.data.userId&&(t.genesys_user_id=e.data.userId),e.data.sessionID&&"deprecated"!==e.data.sessionID&&(t.genesys_session_id=e.data.sessionID)),o.default.customData=t}catch(e){s("Error during CobrowseIOExtension.WebChatService.started",e)}})),c.subscribe("WebChatService.agentConnected",(function(e){s("CobrowseIOExtension.WebChatService.agentConnected",e)})),c.subscribe("WebChatService.clientConnected",(function(e){s("CobrowseIOExtension.WebChatService.clientConnected",e)})),c.subscribe("WebChatService.restored",(function(e){s("CobrowseIOExtension.WebChatService.restored",e),f(c)})),c.subscribe("WebChatService.ended",(function(e){s("CobrowseIOExtension.WebChatService.ended",e),o.default.currentSession&&!o.default.currentSession.isEnded()&&o.default.currentSession.end()})),c.subscribe("WebChat.started",(function(e){try{if(s("CobrowseIOExtension.WebChat.started",e),e&&e.data&&e.data.form){s("e.data.form",e.data.form);var t=e.data.form||{};t.device_name=e.data.form.firstname?"".concat(e.data.form.firstname,"'s device"):"WebChat User's Device",o.default.customData=t}}catch(e){s("Error during CobrowseIOExtension.WebChat.started",e)}})),c.republish("ready"),c.ready()}catch(e){console.error("Error syncing Cobrowse.io with Genesys, please contact hello@cobrowse.io for help!"),console.warn(e)}},r(1e3),r(3114);var o=i(r(1178));function i(e){return e&&e.__esModule?e:{default:e}}function a(){a=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),u=new P(n||[]);return o(a,"_invoke",{value:S(e,r,u)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var p={};function h(){}function v(){}function y(){}var m={};l(m,u,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(k([])));w&&w!==t&&r.call(w,u)&&(m=w);var g=y.prototype=h.prototype=Object.create(m);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(o,a,u,c){var s=d(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,u,c)}),(function(e){i("throw",e,u,c)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=O(a,r);if(u){if(u===p)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=d(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=d(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function k(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return v.prototype=y,o(g,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(g),l(g,s,"Generator"),l(g,u,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function u(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}var c,s=(0,i(r(9796)).default)("cbio.Integrations.Genesys");function l(){var e;return e=a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s("Requesting cobrowse"),e.next=3,o.default.createSessionCode();case 3:r=e.sent,s("Generated session code: ".concat(r)),t.command("WebChatService.sendFilteredMessage",{message:"Customer requests Cobrowse session with code: ".concat(r.substr(0,3)," ").concat(r.substr(3)),regex:/Customer requests Cobrowse session with code:.*/}).done((function(e){s("CobrowseIOExtension.WebChatService sent filtered message successfully",e)})).fail((function(e){s("CobrowseIOExtension.WebChatService failed to send filtered message",e)}));case 6:case"end":return e.stop()}}),e)})),l=function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){u(i,n,o,a,c,"next",e)}function c(e){u(i,n,o,a,c,"throw",e)}a(void 0)}))},l.apply(this,arguments)}function f(e){document.getElementsByClassName("cx-menu")[0].insertAdjacentHTML("beforeend",'<li role="none"><div class="cx-menu-item cx-cobrowseio cx-icon" role="button" data-icon="cobrowseio" tabindex="0" aria-label="Start Co-browse Opens the Co-browse session" title="Start Co-browse" style="display: block/;"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" viewBox="0 0 100 100" focusable="false" role="img" aria-hidden="true" alt="" data-gcb-service-node="true"><g class="cx-svg-icon-tone1" data-gcb-service-node="true"><path d="M11.5000001,3 L85.4166665,3 L87.6666668,3 C90.2624998,3 97,3.75367965 97,8.36940835 L97,30.4776335 L4.16666671,30.4776335 L4.16666671,70.4963922 C4.16666671,78.8021647 9.0333332,80.6810966 11.3333336,80.6810966 L88.6666664,80.6810966 C90.9625002,80.6810966 92.8333333,78.8021647 92.8333333,76.4963922 L92.8333333,41.8470419 L97,41.8470419 L97,79.5093796 C97,84.1251081 93.2624998,84.8787879 91.6666668,84.8787879 L8.3333332,84.8787879 C3.73750015,84.8787879 1,81.1251081 0,75.5093796 L0,8.36940835 C3,3.75367965 2.73750015,3 8.3333332,3 L8.5000001,3 Z M18.0297398,7.03030303 L5.9962825,7.03030303 C5.79033476,7.03030303 3.99999999,8.59607987 3.99999999,10.5175565 L3.999999,26.1125541 L93,26.1125541 L93,10.5175565 C93,8.59607987 91.2056692,7.03030303 89.0037175,7.03030303 L81.9702602,7.03030303 L18.0297398,7.03030303 Z M42.3451929,54.7727663 L42.3451929,68.6904309 L35,68.6904309 L35,47.7138693 C35,44.657411 37.4676761,42.1818182 40.5082059,42.1818182 L61.3971055,42.1818182 L61.3971055,49.5560425 L47.5394308,49.5560425 L66.3971054,67.9373646 L61.202867,73.154089 L42.3451929,54.7727663 Z" id="Fill-1-Copy""></path></g></svg></div></li>'),document.getElementsByClassName("cx-cobrowseio")[0].onclick=function(){return function(e){return l.apply(this,arguments)}(e)}}},1289:function(e,t,r){"use strict";var n;function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===o(i)?i:String(i)),n)}var i}r(5547),r(1624),r(2047),r(8534),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(3114),r(9244),r(2593),r(444),r(1076),r(1e3),r(5538);var a=(0,((n=r(9796))&&n.__esModule?n:{default:n}).default)("cbio.Integrations"),u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"watchProperty",value:function(e,t,r){var n=e[t],o=function o(){a("monitoring changes to ".concat(t),e),Object.defineProperty(e,t,{configurable:!0,set:function(n){a("CobrowseIO detected",t,"as",n),Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n}),setTimeout((function(){return r(o)}),0)},get:function(){return n}})};n?(a("".concat(t," already exists as ").concat(e[t])),r(o)):o()}},{key:"initialize",value:function(){var e=this;a("Initializing integrations"),this.watchProperty(window,"CXBus",(function(){return r(1974).Z()})),this.watchProperty(window,"_genesys",(function(){return e.watchProperty(window._genesys,"widgets",(function(){return e.watchProperty(window._genesys.widgets,"bus",(function(){setTimeout((function(){r(1974).Z()}),0)}))}))})),this.watchProperty(window,"Intercom",(function(){return r(4775).Z()})),this.watchProperty(window,"$zopim",(function(){return r(3478).zopim()})),this.watchProperty(window,"embedded_svc",(function(){return e.watchProperty(window.embedded_svc,"liveAgentAPI",(function(){r(8738).Z()}))})),this.initializeZendesk(r(3478).messenger,r(3478).classic,r(3478).sunshine),this.initializeFreshchat(r(8656).yO)}},{key:"initializeFreshchat",value:function(e){this.watchProperty(window,"fcWidget",(function(){return e()}))}},{key:"initializeZendesk",value:function(e,t,r){this.watchProperty(window,"zE",(function(r){if(!window.zE.widget)return r();"messenger"===window.zE.widget?e():t()})),this.watchProperty(window,"Smooch",(function(){return r()}))}}],null&&i(t.prototype,null),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=u},4775:function(e,t,r){"use strict";t.Z=function(){try{if(!window.Intercom||"function"!=typeof window.Intercom)throw new Error("expected window.Intercom to be a function");a("Initializing intercom integration"),u(),window.Intercom("onShow",(0,n.default)(u,12e4,{trailing:!1}))}catch(e){console.error("Error syncing Cobrowse.io with Intercom, please contact hello@cobrowse.io for help!"),console.warn(e)}};var n=i(r(1381)),o=i(r(1178));function i(e){return e&&e.__esModule?e:{default:e}}var a=(0,i(r(9796)).default)("cbio.Integrations.Intercom");function u(){a("Updating intercom integration"),window.intercomSettings||(window.intercomSettings={}),window.intercomSettings.CobrowseID=o.default.deviceId(),window.Intercom("update",{CobrowseID:o.default.deviceId()})}},8738:function(e,t,r){"use strict";t.Z=function(){try{if("object"!==i(window.embedded_svc))throw new Error("expected window.embedded_svc to a be an object");if(window.embedded_svc&&!window.embedded_svc.liveAgentAPI)throw new Error("expected liveAgentAPI on embedded_svc");a("Initializing salesforce integration"),window.embedded_svc.addEventHandler("onChatRequestSuccess",(function(e){e&&e.liveAgentSessionKey&&(n.default.customData={salesforce_liveAgentSessionKey:e.liveAgentSessionKey})})),window.embedded_svc.addEventHandler("onChatEndedByAgent",(function(){n.default.currentSession&&n.default.currentSession.end()})),window.embedded_svc.addEventHandler("onChatEndedByChasitor",(function(){n.default.currentSession&&n.default.currentSession.end()}))}catch(e){console.error("Error syncing Cobrowse.io with Salesforce Chat, please contact hello@cobrowse.io for help!"),console.warn(e)}},r(444),r(1076),r(1e3),r(5547),r(1624),r(2047),r(8534);var n=o(r(1178));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var a=(0,o(r(9796)).default)("cbio.Integrations.Salesforce")},5382:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.classic=function(){try{!function(){if(!window.zE||!window.zE.identify)throw new Error("missing window.zE or window.zE.identify");(0,n.swizzlezE)();var e=window.zE.identify;window.zE.identify=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return o("identify",r[0]),e.apply(void 0,r)}}()}catch(e){console.error("Error syncing Cobrowse.io with Zendesk (classic), please contact hello@cobrowse.io for help!"),console.warn(e)}},t.updateCustomData=o,r(6941);var n=r(3478);function o(e,t){var r={};"identify"===e&&t?(t.name&&(r.user_name=t.name),t.email&&(r.user_email=t.email),t.organization&&(r.user_organization=t.organization)):"prefill"===e&&t?(t.name&&t.name.value&&(r.user_name=t.name.value),t.email&&t.email.value&&(r.user_email=t.email.value),t.phone&&t.phone.value&&(r.user_phone=t.phone.value)):"logout"===e&&(r={user_name:null,user_email:null,user_organization:null,user_phone:null}),(0,n.fillCustomData)(r)}},3478:function(e,t,r){"use strict";r(444),r(1076),r(1e3),r(5547),r(1624),r(2047),r(8534),r(6486),r(6257),r(6941),r(3524),Object.defineProperty(t,"__esModule",{value:!0}),t.POLLING_INTERVAL=void 0,Object.defineProperty(t,"classic",{enumerable:!0,get:function(){return a.classic}}),t.default=void 0,t.fillCustomData=function(e){Object.keys(e).length&&(o.default.customData=e)},Object.defineProperty(t,"messenger",{enumerable:!0,get:function(){return u.messenger}}),Object.defineProperty(t,"sunshine",{enumerable:!0,get:function(){return c.sunshine}}),t.swizzlezE=function(){var e=window.zE;for(var t in window.zE=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i,c=r[0],l=r[1],f=r[2];if("webWidget"===c&&(0,a.updateCustomData)(l,f),"messenger"===c&&(0,u.updateCustomData)(l,f),"messenger:set"===c&&"conversationTags"===l){var d=f;if(d&&d.length){var p=o.default.deviceId();d=[].concat(function(e){if(Array.isArray(e))return s(e)}(i=d)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["cobrowseio_deviceid_".concat(p)]),r[2]=d,window.zE.__cobrowseio_zendesk_tags_set=!0}}return e.apply(void 0,r)},e)window.zE[t]=e[t]},Object.defineProperty(t,"zopim",{enumerable:!0,get:function(){return i.zopim}}),r(5128),r(3114);var n,o=(n=r(1178))&&n.__esModule?n:{default:n},i=r(3307),a=r(5382),u=r(1718),c=r(1027);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.POLLING_INTERVAL=2e3;var l={messenger:u.messenger,classic:a.classic,sunshine:c.sunshine,zopim:i.zopim};t.default=l},1718:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.messenger=function(){(0,i.swizzlezE)();try{"true"===sessionStorage.getItem("ZD-widgetOpen")?d().then(c):window.zE("messenger:on","open",(function(){d().then(c)}))}catch(e){console.error("Error syncing Cobrowse.io with Zendesk (messenger), please contact hello@cobrowse.io for help!"),console.warn(e)}},t.updateCustomData=u,r(6706),r(1e3),r(5128),r(3524),r(3317);var n,o=(n=r(1178))&&n.__esModule?n:{default:n},i=r(3478),a=window.localStorage;function u(e,t){var r={};"identify"===e&&t?r={zendesk_web_user_id:t.appUserId,cobrowseio_deviceid:t.deviceId}:"logoutUser"===e&&(r={user_name:null,user_email:null,user_organization:null,user_phone:null,zendesk_web_user_id:null,zendesk_user_id:null,zendesk_ticket_id:null}),(0,i.fillCustomData)(r)}function c(){var e=s();if(!e)throw new Error("Missing client ID (ZD-buid)");var t=l(e);if(!t)throw new Error("Instance ID could not be found");var r=f(t);window.zE.__cobrowseio_zendesk_tags_set||window.zE("messenger:set","conversationTags",["cobrowseio_deviceid_".concat(o.default.deviceId())]),u("identify",{appUserId:r,deviceId:o.default.deviceId()})}function s(){return a.getItem("ZD-buid")}function l(e){var t,r;return null===(t=Object.keys(a).find((function(t){return t.match(/\w+\.clientId/)&&a[t]===e})))||void 0===t||null===(r=t.split("."))||void 0===r?void 0:r[0]}function f(e){return a.getItem("".concat(e,".appUserId"))}function d(){return new Promise((function e(t,r){a=sessionStorage.getItem("ZD-buid")?window.sessionStorage:window.localStorage;var n=f(l(s()));n?t(n):setTimeout(e,i.POLLING_INTERVAL,t,r)}))}},1027:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sunshine=function(){try{window.Smooch.on("widget:opened",(function(){new Promise((function e(t,r){var o=i();o?t(o):setTimeout(e,n.POLLING_INTERVAL,t,r)})).then(o)}))}catch(e){console.error("Error syncing Cobrowse.io with Zendesk (Sunshine Conversations), please contact hello@cobrowse.io for help!"),console.warn(e)}},r(1e3);var n=r(3478);function o(){var e;e={zendesk_web_user_id:{appUserId:i()}.appUserId},(0,n.fillCustomData)(e)}function i(){var e;return null===(e=window.Smooch.getUser())||void 0===e?void 0:e.id}},3307:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zopim=function(){try{if("function"!=typeof window.$zopim)throw new Error("expected window.$zopim to a be a function");window.$zopim((function(){i("Initializing zendesk integration"),window.$zopim.livechat.addTags("cobrowseio_deviceid_".concat(n.default.deviceId())),n.default.customData={cobrowseio_deviceid:n.default.deviceId()}}))}catch(e){console.error("Error syncing Cobrowse.io with Zendesk Chat, please contact hello@cobrowse.io for help!"),console.warn(e)}};var n=o(r(1178));function o(e){return e&&e.__esModule?e:{default:e}}var i=(0,o(r(9796)).default)("cbio.Integrations.Zendesk")},5978:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(9244),r(2593),r(444),r(1076),r(5538),r(3064),r(9616),r(5547),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(1624),r(1e3),r(2047),r(1157),r(8534);var o=r(1239),i=a(r(1381));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function l(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}function d(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function p(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,v(e,t,"get"))}function h(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,v(e,t,"set"),r),r}function v(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var y=(0,a(r(9796)).default)("cbio.ActivityDetection"),m=new WeakMap,b=new WeakMap,w=new WeakMap,g=new WeakMap,E=new WeakMap,_=new WeakMap,S=new WeakMap,O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(f,e);var t,r,o,a=(r=f,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(o){var i=s(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}(this,e)});function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),d(c(t=a.call(this)),m,{writable:!0,value:!1}),d(c(t),b,{writable:!0,value:!1}),d(c(t),w,{writable:!0,value:null}),d(c(t),g,{writable:!0,value:9e5}),l(c(t),"start",(function(){p(c(t),m)||(h(c(t),m,!0),y("started"),document.addEventListener("mouseenter",p(c(t),E),{capture:!0,passive:!0}),document.addEventListener("mouseleave",p(c(t),E),{capture:!0,passive:!0}),document.addEventListener("mousemove",p(c(t),E),{capture:!0,passive:!0}),document.addEventListener("touchstart",p(c(t),E),{capture:!0,passive:!0}),document.addEventListener("touchend",p(c(t),E),{capture:!0,passive:!0}),document.addEventListener("touchmove",p(c(t),E),{capture:!0,passive:!0}),document.addEventListener("visibilitychange",p(c(t),E),{capture:!0}),p(c(t),E).call(c(t)))})),l(c(t),"stop",(function(){h(c(t),b,!1),h(c(t),m,!1),y("stopped"),clearTimeout(p(c(t),w)),t.removeAllListeners(),document.removeEventListener("mouseenter",p(c(t),E),{capture:!0,passive:!0}),document.removeEventListener("mouseleave",p(c(t),E),{capture:!0,passive:!0}),document.removeEventListener("mousemove",p(c(t),E),{capture:!0,passive:!0}),document.removeEventListener("touchstart",p(c(t),E),{capture:!0,passive:!0}),document.removeEventListener("touchend",p(c(t),E),{capture:!0,passive:!0}),document.removeEventListener("touchmove",p(c(t),E),{capture:!0,passive:!0}),document.removeEventListener("visibilitychange",p(c(t),E),{capture:!0})})),l(c(t),"isActive",(function(){return p(c(t),b)})),d(c(t),E,{writable:!0,value:(0,i.default)((function(){p(c(t),_).call(c(t)),clearTimeout(p(c(t),w)),h(c(t),w,setTimeout(p(c(t),S),p(c(t),g))),t.emit("activity")}),500,{trailing:!1})}),d(c(t),_,{writable:!0,value:function(){p(c(t),b)||(document.hidden?y("window is hidden, not becoming active"):(h(c(t),b,!0),y("became active"),t.emit("active")))}}),d(c(t),S,{writable:!0,value:function(){p(c(t),b)&&(h(c(t),b,!1),y("became inactive"),t.emit("inactive"))}}),e&&h(c(t),g,e),t}return t=f,Object.defineProperty(t,"prototype",{writable:!1}),t}(o.EventEmitter);t.default=O},2650:function(e,t,r){"use strict";r(5547),r(1624),r(2047),r(8534),r(6486),r(6257),r(6941),r(3524),r(5128),r(5226),r(3275),r(9270),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(3114),r(4011),r(1e3),r(3133),r(9244),r(2593),r(444),r(1076),r(5538);var n,o=(n=r(1381))&&n.__esModule?n:{default:n},i=r(1514);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}var h=new(f((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"_mousePosition",{x:-1,y:-1}),d(this,"_mouseIsDown",!1),d(this,"_mouseIsIn",!1),d(this,"track",(function(e){e.addEventListener("mousedown",t._onMouseDown,{capture:!0,passive:!0}),e.addEventListener("mouseup",t._onMouseUp,{capture:!0,passive:!0}),e.addEventListener("mouseenter",t._onMouseEnter,{capture:!0,passive:!0}),e.addEventListener("mouseleave",t._onMouseLeave,{capture:!0,passive:!0}),e.addEventListener("mousemove",t._onMouseMove,{capture:!0,passive:!0})})),d(this,"untrack",(function(e){e.removeEventListener("mousedown",t._onMouseDown,{capture:!0,passive:!0}),e.removeEventListener("mouseup",t._onMouseUp,{capture:!0,passive:!0}),e.removeEventListener("mouseenter",t._onMouseEnter,{capture:!0,passive:!0}),e.removeEventListener("mouseleave",t._onMouseLeave,{capture:!0,passive:!0}),e.removeEventListener("mousemove",t._onMouseMove,{capture:!0,passive:!0})})),d(this,"isDown",(function(){return t._mouseIsDown})),d(this,"setDown",(function(e){t._mouseIsDown=e,t.onChange&&t.onChange(t.state())})),d(this,"isIn",(function(){return t._mouseIsIn>0})),d(this,"position",(function(){return t._mousePosition})),d(this,"setPosition",(function(e,r,n){if(n){var o=[n].concat((a=(0,i.parents)(n).filter((function(e){var t;return null===(t=e.matches)||void 0===t?void 0:t.call(e,"iframe")})),function(e){if(Array.isArray(e))return s(e)}(a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).map((function(e){return e.getBoundingClientRect()})).reduce((function(e,t){return{x:e.x+t.x,y:e.y+t.y}}),{x:0,y:0});e+=Math.round(o.x),r+=Math.round(o.y)}var a;t._mousePosition={x:e,y:r},t.onChange&&t.onChange(t.state())})),d(this,"state",(function(){return c(c({},t.position()),{},{down:t.isDown(),in:t.isIn()})})),d(this,"_onMouseDown",(function(e){e.isTrusted&&t.setDown(!0)})),d(this,"_onMouseUp",(function(e){e.isTrusted&&t.setDown(!1)})),d(this,"_onMouseEnter",(function(e){e.isTrusted&&(t._mouseIsIn+=1)})),d(this,"_onMouseLeave",(function(e){e.isTrusted&&e.target===e.currentTarget&&(t._mouseIsIn-=1)})),d(this,"_onMouseMove",(0,o.default)((function(e){if(e.isTrusted){var r=e.clientX,n=e.clientY,o=e.view&&e.view.frameElement;t.setPosition(r,n,o)}}),100))})));t.default=h},1094:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(9244),r(2593),r(444),r(1076),r(5538),r(3064),r(9616),r(5547),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(3114),r(1624),r(1e3),r(2047),r(1157),r(8534);var o=r(1239),i=r(5828),a=u(r(5901));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function d(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}function h(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function v(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,m(e,t,"set"),r),r}function y(e,t){return b(e,m(e,t,"get"))}function m(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function b(e,t){return t.get?t.get.call(e):t.value}var w=(0,u(r(9796)).default)("cbio.WindowTracking"),g="_cobrowse_window_id",E=new WeakMap,_=new WeakMap,S=new WeakMap,O=new WeakMap,T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(p,e);var t,r,o,i,u=(o=p,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(o);if(i){var r=f(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}(this,e)});function p(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return h(l(e=u.call.apply(u,[this].concat(i))),E,{writable:!0,value:(t=p,r=p,n=j,function(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}(t,r),function(e,t){if(void 0===e)throw new TypeError("attempted to get private static field before its declaration")}(n),b(t,n)).call(p)}),h(l(e),_,{writable:!0,value:!1}),h(l(e),S,{writable:!0,value:!1}),d(l(e),"start",(function(){y(l(e),S)||(v(l(e),S,!0),w("started"),y(l(e),O).call(l(e)),document.addEventListener("visibilitychange",y(l(e),O),{capture:!0}),document.addEventListener("mouseover",y(l(e),O),{capture:!0}))})),d(l(e),"stop",(function(){w("stopped"),e.removeAllListeners(),v(l(e),S,!1),document.removeEventListener("visibilitychange",y(l(e),O),{capture:!0}),document.removeEventListener("mouseover",y(l(e),O),{capture:!0})})),d(l(e),"isActive",(function(){return(0,a.default)().getItem(g)===e.id})),d(l(e),"setTracksIframes",(function(t){v(l(e),_,t),y(l(e),O).call(l(e))})),d(l(e),"shouldTrack",(function(){return!document.hidden&&(!(window.self!==window.top)||y(l(e),_))})),d(l(e),"makeActive",(function(){e.isActive()||(w("making active",window),(0,a.default)().setItem(g,e.id),e.emit("activate",window))})),d(l(e),"resignActive",(function(){e.isActive()&&(w("resigning active",window),(0,a.default)().setItem(g,null))})),h(l(e),O,{writable:!0,value:function(){e.shouldTrack()&&e.makeActive(),e.emit("updated")}}),e}return t=p,(r=[{key:"id",get:function(){return y(this,E)}}])&&c(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),p}(o.EventEmitter),j={writable:!0,value:function(){return document.__cobrowse_window_id=document.__cobrowse_window_id||(0,i.v4)(),document.__cobrowse_window_id}},P=new T;t.default=P},5064:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ActivityDetection",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"MouseTracking",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"WindowTracking",{enumerable:!0,get:function(){return i.default}});var n=a(r(5978)),o=a(r(2650)),i=a(r(1094));function a(e){return e&&e.__esModule?e:{default:e}}},7725:function(e,t,r){"use strict";r(9244),r(2593),r(444),r(1076),r(5538),r(3064),r(1112),r(5226),r(9616),r(5547),r(8496),r(4802),r(2112),r(6353),r(3275),r(6941),r(6257),Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RegistrationPath=t.DeviceIdPath=void 0,r(1e3),r(7285),r(1624),r(2047),r(8534),r(6955),r(8927),r(6706),r(5128),r(3114),r(3524),r(1157);var n=r(5828),o=r(8302),i=s(r(2260)),a=s(r(5901)),u=s(r(3440)),c=s(r(9421));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(){f=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),u=new P(o||[]);return n(a,"_invoke",{value:S(e,r,u)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var p={};function h(){}function v(){}function y(){}var m={};c(m,i,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(k([])));w&&w!==t&&r.call(w,i)&&(m=w);var g=y.prototype=h.prototype=Object.create(m);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(n,i,a,u){var c=d(e[n],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==l(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=O(a,r);if(u){if(u===p)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=d(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=d(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return v.prototype=y,n(g,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(_.prototype),c(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(g),c(g,u,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function d(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){d(i,n,o,a,u,"next",e)}function u(e){d(i,n,o,a,u,"throw",e)}a(void 0)}))}}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},m.apply(this,arguments)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function w(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}function E(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function _(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,O(e,t,"get"))}function S(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,O(e,t,"set"),r),r}function O(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var T=(0,s(r(9796)).default)("cbio.Device"),j="_cobrowse_device_id";t.DeviceIdPath=j;var P="_cobrowse_device_registration";t.RegistrationPath=P;var k=new WeakMap,x=new WeakMap,I=new WeakMap,L=new WeakMap,C=new WeakMap,N=new WeakMap,R=new WeakMap,M=new WeakMap,D=new WeakMap,A=new WeakMap,U=new WeakMap,F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(O,e);var t,r,o,s,d,g=(s=O,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(s);if(d){var r=b(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,e)});function O(e){var t,r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,O),E(y(r=g.call(this)),k,{writable:!0,value:void 0}),E(y(r),x,{writable:!0,value:void 0}),E(y(r),I,{writable:!0,value:void 0}),E(y(r),L,{writable:!0,value:!1}),E(y(r),C,{writable:!0,value:void 0}),w(y(r),"url",(function(){return new URL("api/1/devices/".concat(r.id()),O.api).toString()})),w(y(r),"reset",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];T("resetting device"),clearTimeout(_(y(r),I)),S(y(r),I,null),e||(0,a.default)().removeItem(P),_(y(r),k)&&(_(y(r),k).close(),S(y(r),k,null))})),w(y(r),"destroy",p(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T("destroying device"),r.reset(),e.abrupt("return",m((t=y(r),b(O.prototype)),"destroy",t).call(t));case 3:case"end":return e.stop()}}),e)})))),w(y(r),"hasPendingUpdates",(function(){var e=r.field("custom_data")||{},t=_(y(r),C).customData||{};return!!Object.keys(t).find((function(r){return e[r]!==t[r]}))})),E(y(r),N,{writable:!0,value:function(){if(!_(y(r),C).license)throw new Error("License required to generate storage key");return"".concat(_(y(r),C).license,":").concat(O.api)}}),w(y(r),"_saveRegistration",(function(){var e=r.field("next_registration")||3600,t=(new Date).getTime();"number"!=typeof Date.now()&&console.error("Unexpected type returned for Date.now(), expecting number got ".concat(l(Date.now()))),"number"!=typeof t&&console.error("Unexpected type for getTime() of Date, expecting number got ".concat(l(t)));var n={notification_url:r.field("notification_url"),notification_token:r.field("notification_token"),custom_data:r.field("custom_data"),next_registration_time:t+1e3*e};return r.cache({next_registration_time:n.next_registration_time}),(0,a.default)(_(y(r),N).call(y(r))).setItem(P,n),y(r)})),w(y(r),"_loadRegistration",(function(){if(!_(y(r),L)){S(y(r),L,!0);var e=(0,a.default)(_(y(r),N).call(y(r))).getItem(P);e&&(T("restoring registration",e),r.cache(e))}})),w(y(r),"updateRegistration",function(){var e=p(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_(y(r),x).limit()){e.next=2;break}throw new Error("Cobrowse update rate limit exceeded. Maybe you're updating custom data too often?");case 2:return T("updating registration"),e.next=5,r.update({device:O.info,custom_data:_(y(r),C).customData},t);case 5:return _(y(r),U).call(y(r)),r._saveRegistration(),r.emit("register"),e.abrupt("return",y(r));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w(y(r),"runRegistrationLoop",p(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T("starting registrations"),r._loadRegistration(),r.reset(!0),!(r.hasPendingUpdates()||r.nextRegistration()<=0)){e.next=6;break}return e.next=6,r.updateRegistration().catch((function(){}));case 6:_(y(r),U).call(y(r)),_(y(r),R).call(y(r));case 8:case"end":return e.stop()}}),e)})))),w(y(r),"pauseRegistrationLoop",p(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T("pausing registrations"),r.reset(!0);case 2:case"end":return e.stop()}}),e)})))),w(y(r),"nextRegistration",(function(){return(r.field("next_registration_time")||0)-(new Date).getTime()})),w(y(r),"bannerMessage",(function(){return r.field("banner_message")||!1})),w(y(r),"_nextUpdate",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Math.max(Math.min(6e4*e,36e5),r.nextRegistration())})),E(y(r),R,{writable:!0,value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(_(y(r),I))console.error("CobrowseIO: tried to schedule registration while already scheduled");else{var t=r._nextUpdate(e);S(y(r),I,setTimeout(p(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_(y(r),I)){t.next=2;break}return t.abrupt("return",console.error("Registration loop cancelled"));case 2:return t.prev=2,t.next=5,r.updateRegistration();case 5:return S(y(r),I,!1),t.abrupt("return",_(y(r),R).call(y(r)));case 9:return t.prev=9,t.t0=t.catch(2),console.warn("CobrowseIO: registration failed",t.t0),S(y(r),I,!1),t.abrupt("return",_(y(r),R).call(y(r),e+1));case 14:case"end":return t.stop()}}),t,null,[[2,9]])}))),Math.max(1e3,t)))}}}),E(y(r),M,{writable:!0,value:function(){var e=r.field("notification_url"),t=r.field("notification_token");return(0,u.default)(e,t)}}),E(y(r),D,{writable:!0,value:function(){_(y(r),k)||(S(y(r),k,new i.default({getUrl:_(y(r),M)})),_(y(r),k).setMaxReconnectDelay(6e4),_(y(r),k).on("error",(function(e){e&&console.warn("CobrowseIO notification socket error:",e)})),_(y(r),k).on("event",(function(e,t){"notification"===e?r.emit("notification",t):"probe"===e&&_(y(r),k).send("alive",t)})),_(y(r),k).on("open",(function(){_(y(r),k).send("filter",{events:["probe","notification"]})})))}}),E(y(r),A,{writable:!0,value:function(){_(y(r),k)&&(console.log("CobrowseIO: Closing socket"),_(y(r),k).close(),S(y(r),k,null))}}),E(y(r),U,{writable:!0,value:function(){var e=r.field("notification_url"),t=r.field("notification_token");e&&t?_(y(r),D).call(y(r)):_(y(r),A).call(y(r))}}),T("constructed"),!e)throw new Error("Device delegate is required");return S(y(r),C,e),S(y(r),x,new c.default(10,12e4)),r}return t=O,o=[{key:"deviceCredentials",value:function(){var e=(0,a.default)().getItem(j)||{};return"string"==typeof e&&(e={id:e}),"object"!==l(e)&&(e={}),e.id||(e.id=(0,n.v4)()),e.token||(e.token=(0,n.v4)()),(0,a.default)().setItem(j,e),e}},{key:"deviceId",value:function(){return this.deviceCredentials().id}},{key:"deviceToken",value:function(){return this.deviceCredentials().token}},{key:"info",get:function(){var e=["pointer","scroll","select","keypress","drawing","laser","cursor","universal"];return/Android|webOS|iPhone|iPad|iPod|Opera Mini/i.test(window.navigator.userAgent)||e.push("full_device"),{platform:"web",device:window.navigator.userAgent,device_locale:window.navigator.language,device_timezone:window.Intl.DateTimeFormat().resolvedOptions().timeZone,os_version:window.navigator.platform,app_id:window.location.origin,app_name:window.document.title,app_build_configuration:"release",sdk_version:"2.39.1",capabilities:e}}}],(r=[{key:"id",value:function(){return O.deviceId()}},{key:"customData",get:function(){return this.field("custom_data")||{}}}])&&h(t.prototype,r),o&&h(t,o),Object.defineProperty(t,"prototype",{writable:!1}),O}(o.RESTResource);t.default=F},5161:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Device",{enumerable:!0,get:function(){return o.default}});var n,o=(n=r(7725))&&n.__esModule?n:{default:n}},8128:function(e,t,r){"use strict";r(5128),r(4011),r(9270),r(6257),r(6486),r(3524),r(5547),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(5226),r(1e3),r(3275),r(3600),r(6770),r(6941),r(1624),r(8719),r(2047),r(8534),r(9244),r(2593),r(444),r(1076),r(5538);var n,o=r(1514),i=r(5064),a=(n=r(8755))&&n.__esModule?n:{default:n},u=r(4039),c=r(4253);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function h(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===s(t)?t:String(t)}var m=h((function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,"_init",(function(){r._propertyWatcher||(r._propertyWatcher=new o.PropertyObserver(r._onPropertySet),a.default.on("stylechange",r._onStyleSheetChange),a.default.on("navigate",r._onNavigation),a.default.on("canvaschange",r._onCanvasChange))})),v(this,"observe",(function(e){if(!r._observing.has(e)){r._init();var t=Object.getOwnPropertyDescriptor(u.EventTarget.prototype,"addEventListener").value;t.call(e,"scroll",r._onEvent,{capture:!0,passive:!0}),t.call(e,"focus",r._onFocusChange,{capture:!0,passive:!0}),t.call(e,"blur",r._onFocusChange,{capture:!0,passive:!0}),t.call(e,"change",r._onInputEvent,{capture:!0,passive:!0}),t.call(e,"keydown",r._onInputEvent,{capture:!0,passive:!0}),t.call(e,"keyup",r._onInputEvent,{capture:!0,passive:!0}),t.call(e,"keypress",r._onInputEvent,{capture:!0,passive:!0}),t.call(e,"selectionchange",r._onSelectionEvent,{capture:!0,passive:!0}),t.call(e,"select",r._onSelectionEvent,{capture:!0,passive:!0}),t.call(e,"mouseenter",r._onEvent,{capture:!0,passive:!0}),t.call(e,"mouseleave",r._onEvent,{capture:!0,passive:!0}),t.call(e,"mousedown",r._onEvent,{capture:!0,passive:!0}),t.call(e,"mouseup",r._onEvent,{capture:!0,passive:!0}),i.MouseTracking.track(e),r._observing.add(e);var n=(e.ownerDocument||e).defaultView;n&&!r._windows.has(n)&&(r._windows.add(n),a.default.tap(n),r._propertyWatcher.observe(n.HTMLInputElement,"value"),r._propertyWatcher.observe(n.HTMLInputElement,"checked"),r._propertyWatcher.observe(n.HTMLTextAreaElement,"value"),r._propertyWatcher.observe(n.ShadowRoot,"adoptedStyleSheets"),r._propertyWatcher.observe(n.Document,"adoptedStyleSheets"),n.addEventListener&&(n.addEventListener("hashchange",r._onEvent,{capture:!0,passive:!0}),n.addEventListener("resize",r._onEvent,{capture:!0,passive:!0}),c.NavigationTracking.track(n)))}})),v(this,"disconnect",(function(){var e=Object.getOwnPropertyDescriptor(u.EventTarget.prototype,"removeEventListener").value;r._observing.forEach((function(t){e.call(t,"scroll",r._onEvent,{capture:!0,passive:!0}),e.call(t,"focus",r._onFocusChange,{capture:!0,passive:!0}),e.call(t,"blur",r._onFocusChange,{capture:!0,passive:!0}),e.call(t,"change",r._onInputEvent,{capture:!0,passive:!0}),e.call(t,"keydown",r._onInputEvent,{capture:!0,passive:!0}),e.call(t,"keyup",r._onInputEvent,{capture:!0,passive:!0}),e.call(t,"keypress",r._onInputEvent,{capture:!0,passive:!0}),e.call(t,"selectionchange",r._onSelectionEvent,{capture:!0,passive:!0}),e.call(t,"select",r._onSelectionEvent,{capture:!0,passive:!0}),e.call(t,"mouseenter",r._onEvent,{capture:!0,passive:!0}),e.call(t,"mouseleave",r._onEvent,{capture:!0,passive:!0}),e.call(t,"mousedown",r._onEvent,{capture:!0,passive:!0}),e.call(t,"mouseup",r._onEvent,{capture:!0,passive:!0}),i.MouseTracking.untrack(t)})),r._observing.clear(),r._windows.forEach((function(e){a.default.untap(e),e&&!(0,o.isxdoc)(e)&&e.removeEventListener&&(e.removeEventListener("hashchange",r._onEvent,{capture:!0,passive:!0}),e.removeEventListener("resize",r._onEvent,{capture:!0,passive:!0}),c.NavigationTracking.untrack(e))})),r._windows.clear(),r._propertyWatcher&&(r._propertyWatcher.disconnect(),r._propertyWatcher=null,a.default.off("stylechange",r._onStyleSheetChange),a.default.off("navigate",r._onNavigation),a.default.off("canvaschange",r._onCanvasChange))})),v(this,"_getActualTarget",(function(e){return Object.getOwnPropertyDescriptor(u.Event.prototype,"target").get.apply(e)})),v(this,"_target",(function(e){var t=r._getActualTarget(e);return t&&t.document||t})),v(this,"_onEvent",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r._onModification(r._target(e),d(d({},t),{},{type:e.type}))})),v(this,"_onSelectionEvent",(function(e){var t,n,o=r._getActualTarget(e),i=null!==(t=o.ownerDocument)&&void 0!==t?t:o;i.__last_agent_selection_ts>Date.now()-100||("selectionchange"===e.type&&(["INPUT","TEXTAREA"].includes(null===(n=i.activeElement)||void 0===n?void 0:n.tagName)?(i.activeElement.__cobrowse_user_selection_timestamp=Date.now(),r._onModification(i.activeElement,{type:e.type})):(o.__cobrowse_user_selection_timestamp=Date.now(),r._onModification(o,{type:e.type}))),"select"===e.type&&(o.__cobrowse_user_selection_timestamp=Date.now(),r._onModification(o,{type:e.type})))})),v(this,"_onStyleSheetChange",(function(e){e.ownerNode&&r._onModification(e.ownerNode,{type:"stylesheet"});var t,n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(r._observing);try{for(n.s();!(t=n.n()).done;){var o,i=t.value;null!==(o=i.adoptedStyleSheets)&&void 0!==o&&o.includes(e)&&r._onModification(i,{type:"adoptedstylesheet"})}}catch(e){n.e(e)}finally{n.f()}})),v(this,"_onNavigation",(function(e){r._onModification(e.document,{type:"navigation"})})),v(this,"_onCanvasChange",(function(e){r._onModification(e,{type:"canvas"})})),v(this,"_onFocusChange",(function(e){var t=r._getActualTarget(e);null!=t&&(r._onModification(t,{type:e.type}),t.ownerDocument&&r._onModification(t.ownerDocument,{type:e.type}))})),v(this,"_onInputEvent",(function(e){var t=r._getActualTarget(e);"SELECT"===t.tagName||"TEXTAREA"===t.tagName?r._onModification(r._target(e),{recursive:!0,type:e.type}):"INPUT"===t.tagName&&("radio"===t.type?(t.closest("form")||t.ownerDocument).querySelectorAll("input[type=radio][name=".concat(t.name,"]")).forEach((function(t){return r._onModification(t,{type:e.type})})):r._onModification(r._target(e),{recursive:!0,type:e.type}))})),v(this,"_onPropertySet",(function(e){r._onModification(e,{type:"property"})})),this._onModification=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return setTimeout((function(){return t.apply(void 0,r)}),0)},this._observing=new Set,this._windows=new Set}));t.default=m},638:function(e,t,r){"use strict";r(5226),r(9270),r(5547),r(1624),r(2047),r(8534),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(4011),r(1e3),r(3133),r(5128),r(1087),r(3275),r(9244),r(2593),r(444),r(1076),r(5538);var n,o=(n=r(2404))&&n.__esModule?n:{default:n},i=r(1514);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}var p=l((function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"_difference",(function(e,t){return t?Object.keys(e).map((function(r){return!(0,o.default)(e[r],t[r])&&f({},r,e[r])})).filter((function(e){return e})).reduce((function(e,t){return c(c({},e),t)}),{}):c({},e)})),f(this,"compress",(function(){return Object.values(r.modified).map((function(e){var t=r.state.node(e.id),n=r._difference(e,r._flatten(t||{})),o=c({id:e.id},n);return 1!==Object.keys(o).length&&o})).filter((function(e){return e}))})),f(this,"mark",(function(){return r.state.applyPatch(Object.values(r.modified)),r.modified={},r})),f(this,"_flatten",(function(e){return e.childNodes?c(c({},e),{},{childNodes:e.childNodes.map((function(e){return{id:e.id}}))}):e})),f(this,"push",(function(e){return e&&e.modified?(e.modified.filter((function(e){return e})).forEach((function(e){(0,i.depthFirst)(e,(function(e){r.modified[e.id]=c(c({},r.modified[e.id]),r._flatten(e))}))})),r):(console.error("invalid patch",e),r)})),f(this,"reset",(function(e){return r.state=new i.VirtualDOM(r._id),r.modified={},e&&r.push({_t:"reset",modified:[e]}),r})),this._id=t,this.reset()}));t.default=p},3375:function(e,t,r){"use strict";r(3064),r(9616),r(5128),r(5226),r(9270),r(5547),r(6486),r(6257),r(6941),r(3524),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(1624),r(1e3),r(8719),r(2047),r(8534),r(3275),r(3114),r(4011),r(3133),r(9244),r(2593),r(444),r(1076),r(5538);var n=r(1239),o=r(1514),i=r(8541),a=r(7743),u=d(r(8128)),c=r(4039),s=d(r(9356)),l=d(r(9796)),f=r(8520);function d(e){return e&&e.__esModule?e:{default:e}}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function E(e,t,r){return(t=_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===p(t)?t:String(t)}var S=(0,l.default)("cbio.PatchStream"),O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(d,e);var t,r,n,l=(r=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(r);if(n){var o=g(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,e)});function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),E(w(t=l.call(this)),"start",(function(){S("starting patch stream for",t._root),t._documents=new Set,t._iframeBridge.on("iframe_patched",t._onXDocIframeUpdate),t._observe(t._root)})),E(w(t),"forceUpdate",(function(){S("forcing entire state update from",t._root),t.emit("patch",{_t:"pre-force",flush:!0,modified:[m(m({},a.NodeSerializer.serialize(t._root)),{},{scroll:void 0,childNodes:[m(m({},a.NodeSerializer.serialize(t._root.documentElement)),{},{childNodes:[a.NodeTree.depthFirst(t._root.head,a.NodeSerializer.serialize)]})]})]});var e={rasterizeCanvas:!0};t.emit("patch",{_t:"forced",modified:[a.NodeTree.depthFirst(t._root,(function(t,r){return a.NodeSerializer.serialize(t,r,e)}))]})})),E(w(t),"stop",(function(){S("stopping patch stream for",t._root),t._eventObserver.disconnect(),t._mutationObserver.disconnect(),t._iframeBridge.removeListener("iframe_patched",t._onXDocIframeUpdate),t._documents&&t._documents.clear(),t._documents=null})),E(w(t),"destroy",(function(){S("destroying patch stream for",t._root),t.stop(),t.removeAllListeners(),a.NodeTree.depthFirst(t._root,t._untrack),t._mutationObserver=null,t._eventObserver=null,t._iframeBridge=null,t._root=null})),E(w(t),"_track",(function(e){a.NodeUtils.isDOMNode(e)&&(a.NodeTracker.track(e),e.nodeType===window.Node.DOCUMENT_NODE&&t._observe(e),e.nodeType===window.Node.DOCUMENT_FRAGMENT_NODE&&t._observe(e),"IFRAME"===e.tagName&&((0,o.isxdoc)(e)&&t._iframeBridge.track(e),e.removeEventListener("load",t._onIframeLoad),e.addEventListener("load",t._onIframeLoad)))})),E(w(t),"_untrack",(function(e){a.NodeTracker.forget(e),a.NodeUtils.isDOMNode(e)&&"IFRAME"===e.tagName&&(e.removeEventListener("load",t._onIframeLoad),t._iframeBridge.remove(e))})),E(w(t),"_observe",(function(e){if(e.nodeType!==window.Node.DOCUMENT_NODE&&e.nodeType!==window.Node.DOCUMENT_FRAGMENT_NODE)throw new Error("CobrowseIO: observed a non-document or fragment node (type=".concat(e.nodeType,")"));if(!t._documents.has(e)){S("starting observation of",e),t._documents.add(e),S("doing initial node tracking on observe for",e),a.NodeTree.depthFirst(e,t._track),t._eventObserver.observe(e);try{t._mutationObserver.observe(e,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}catch(t){console.error("CobrowseIO failed to start mutation observer for",e)}}})),E(w(t),"_onXDocIframeUpdate",(function(e){var r;S("xdoc iframe updated",e),null!==(r=i.RedactionIndexProvider.instance)&&void 0!==r&&r.isRedacted(e)||a.NodeTree.isIgnored(e)||t.emit("patch",{_t:"xdociframeupdate",modified:[a.NodeTree.depthFirst(e,a.NodeSerializer.serialize)]})})),E(w(t),"_onIframeLoad",(function(e){var r,n=e.target;S("iframe loaded",n),null!==(r=i.RedactionIndexProvider.instance)&&void 0!==r&&r.isRedacted(n)||((0,o.isxdoc)(n)?t._iframeBridge.track(n):t._observe(n.contentWindow.document),a.NodeTree.isIgnored(n)||t.emit("patch",{_t:"iframeupdate",modified:[a.NodeTree.depthFirst(n,a.NodeSerializer.serialize)]}))})),E(w(t),"_onEventMutation",(function(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t._mutationObserver&&t._onDOMChange(t._mutationObserver.takeRecords()),"TEXTAREA"===e.tagName&&a.NodeTree.depthFirst(e,t._track),a.NodeTracker.get(e)&&!(null!==(r=i.RedactionIndexProvider.instance)&&void 0!==r&&r.isRedacted(e)||a.NodeTree.isIgnored(e))){var o={rasterizeCanvas:"canvas"===n.type},u=n.recursive?a.NodeTree.depthFirst(e,(function(e,t){return a.NodeSerializer.serialize(e,t,o)})):a.NodeSerializer.serialize(e,void 0,o);t.emit("patch",{_t:"eventmutation:".concat(n.type),modified:[u]})}})),E(w(t),"_getModifications",(function(e){var r=new Set,n=new Set,o=new Set;return e.forEach((function(e){("characterData"===e.type||n.has(e.target)||a.NodeTracker.get(e.target))&&(0,f.discoverNodes)(e,n,o,r)})),r.forEach((function(e){return t._untrack(e)})),n.forEach((function(e){return t._track(e)})),{added:o,modified:n,removed:r}})),E(w(t),"_onDOMChange",(function(e){var r,n,o=t._getModifications(e),u=o.added,c=o.modified,s=o.removed,l=null!==(r=null===(n=i.RedactionIndexProvider.instance)||void 0===n?void 0:n.notifyChanges(e,u,c,s))&&void 0!==r?r:[],f=new Set([].concat(h(c),h(l)));S("DOM changed",f);var d=h(f).map((function(e){return a.NodeSerializer.serialize(e)})).filter(Boolean);S("DOM changes serialized",d),t.emit("patch",{_t:"domchange",modified:d})})),t._root=e,t._mutationObserver=new c.MutationObserver(t._onDOMChange),t._eventObserver=new u.default(t._onEventMutation),t._iframeBridge=s.default,t}return t=d,Object.defineProperty(t,"prototype",{writable:!1}),t}(n.EventEmitter);t.default=O},5493:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PatchCompressor",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"PatchStream",{enumerable:!0,get:function(){return n.default}});var n=i(r(3375)),o=i(r(638));function i(e){return e&&e.__esModule?e:{default:e}}},6604:function(e,t,r){"use strict";r(5547),r(1624),r(2047),r(8534),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9244),r(2593),r(444),r(1076),r(1e3),r(5538);var n=u(r(1381)),o=r(5493),i=r(7743),a=r(5064);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===c(t)?t:String(t)}var p=(0,u(r(9796)).default)("cbio.DOMFrameSource"),h=l((function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"_throttleCompressAndEmitFrame",(0,n.default)((function(){return r._compressAndEmitFrame()}),110)),f(this,"_compressAndEmitFrame",(function(){if(r._compression&&document&&i.NodeTracker.get(document)){var e=r._compression.compress();e.length&&r._onUpdate({document_id:i.NodeTracker.get(document),patch:e})&&r._compression.mark()}})),f(this,"capturingWillStart",(function(){if(p("capturingWillStart for DOMFrameSource in",document),r._sendInterval)throw new Error("DOMFrameSource already running");r._compression||(r._compression=new o.PatchCompressor(i.NodeTracker.track(document))),r._patchStream||(r._patchStream=new o.PatchStream(document)),a.WindowTracking.on("activate",r.reset),r._patchStream.on("patch",(function(e){r._compression.push(e),e.flush?r._compressAndEmitFrame():r._throttleCompressAndEmitFrame()})),r._sendInterval=setInterval((function(){return r._compressAndEmitFrame()}),500),r._patchStream.start()})),f(this,"capturingWillStop",(function(){p("capturingWillStop for DOMFrameSource in",document),a.WindowTracking.removeListener("activate",r.reset),r._sendInterval&&(clearInterval(r._sendInterval),r._sendInterval=null),r._patchStream&&(r._patchStream.destroy(),r._patchStream=null),r._compression&&(r._compression.reset(),r._compression=null)})),f(this,"setCodecs",(function(e){})),f(this,"reset",(function(){p("resetting DOMFrameSource in",document),r._compression.reset(),r._patchStream.forceUpdate()})),f(this,"destroy",(function(){p("destroying DOMFrameSource in",document),r.capturingWillStop(),r._onUpdate=null})),p("DOMFrameSource constructed in",document),this._onUpdate=t}));t.default=h},4773:function(e,t,r){"use strict";var n;function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(){i=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),u=new P(o||[]);return n(a,"_invoke",{value:S(e,r,u)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var p={};function h(){}function v(){}function y(){}var m={};l(m,u,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(k([])));w&&w!==t&&r.call(w,u)&&(m=w);var g=y.prototype=h.prototype=Object.create(m);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(n,a,u,c){var s=d(e[n],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==o(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,u,c)}),(function(e){i("throw",e,u,c)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,c)}))}c(s.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=O(a,r);if(u){if(u===p)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=d(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=d(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function k(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return v.prototype=y,n(g,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(g),l(g,s,"Generator"),l(g,u,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function a(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){a(i,n,o,u,c,"next",e)}function c(e){a(i,n,o,u,c,"throw",e)}u(void 0)}))}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function s(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===o(t)?t:String(t)}r(5547),r(1624),r(2047),r(8534),r(8496),r(4802),r(2112),r(6353),r(3064),r(3275),r(6941),r(6257),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9244),r(2593),r(444),r(1076),r(1e3),r(5538);var d=(0,((n=r(9796))&&n.__esModule?n:{default:n}).default)("cbio.FrameLoop"),p=s((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"isRunning",(function(){return t._running})),l(this,"setSource",function(){var e=u(i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.constructor!==(t.source&&t.source.constructor)){e.next=3;break}return d("frame source type not changed"),e.abrupt("return");case 3:if(!t.isRunning()){e.next=17;break}return t.source&&t.source.capturingWillStop(),t.source=r,e.prev=6,e.next=9,t.source.capturingWillStart();case 9:t.invalidateFrame(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),console.error(e.t0);case 15:e.next=18;break;case 17:t.source=r;case 18:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}()),l(this,"getSource",(function(){return t.source})),l(this,"start",u(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d("starting frame loop in",document),t.isRunning()||(t._running=!0,t.source.capturingWillStart());case 2:case"end":return e.stop()}}),e)})))),l(this,"stop",(function(){t.isRunning()&&(t.source.capturingWillStop(),t._running=!1)})),l(this,"invalidateFrame",(function(){if(!t.isRunning())throw new Error("FrameLoop was destroyed");d("invalidate frame in",document),t.source&&t.source.reset()})),l(this,"destroy",(function(){d("destroying frame loop in",document),t.stop(),t.source&&(t.source.destroy(),t.source=null)})),d("FrameLoop constructed in",document),this._running=!1}));t.default=p},1885:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(9244),r(2593),r(444),r(1076),r(5538),r(5547),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(1e3),r(3275),r(1624),r(2047),r(1157),r(8534);var o,i=r(1639);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}function s(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function l(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,d(e,t,"get"))}function f(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,d(e,t,"set"),r),r}function d(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var p=(0,((o=r(9796))&&o.__esModule?o:{default:o}).default)("cbio.H264Encoder"),h=new WeakMap,v=new WeakMap,y=new WeakMap,m=new WeakMap,b=function(){function e(t,r){var n=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,h,{writable:!0,value:void 0}),s(this,v,{writable:!0,value:void 0}),s(this,y,{writable:!0,value:void 0}),s(this,m,{writable:!0,value:[]}),u(this,"reset",(function(){p("resetting H264Encoder"),l(n,m).forEach((function(t){l(n,h).handleFrame(t,e.MIME_TYPE,1/0)}))})),u(this,"destroy",(function(){p("destroy H264Encoder"),l(n,y)&&(l(n,y).stop(),f(n,y,null)),f(n,m,null)})),p("H264Encoder constructed"),f(this,h,r),f(this,v,t),f(this,y,(0,i.createMediaRecorderDemuxer)(t)),!l(this,y))throw new Error("Failed to create MediaRecorderDemuxer");return l(this,y).on("media-packet",(function(t){var r,o=t.data;null!==l(n,y)&&(0===o[0]&&0===o[1]&&0===o[2]&&1===o[3]?r=o[4]:0===o[0]&&0===o[1]&&1===o[2]&&(r=o[3]),7==(31&r)&&f(n,m,[]),l(n,m).push(o),l(n,h).handleFrame(o,e.MIME_TYPE,1/0))})),l(this,y).start()}var t,r;return t=e,r=[{key:"isSupported",value:function(){return i.MediaRecorderDemuxer.isSupported("video/webm;codecs=h264")}}],null&&a(t.prototype,null),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=b,u(b,"MIME_TYPE","video/avc")},3754:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o;function i(){i=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),u=new P(n||[]);return o(a,"_invoke",{value:S(e,r,u)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var p={};function h(){}function v(){}function y(){}var m={};l(m,u,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(k([])));w&&w!==t&&r.call(w,u)&&(m=w);var g=y.prototype=h.prototype=Object.create(m);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(o,a,u,c){var s=d(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,u,c)}),(function(e){i("throw",e,u,c)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=O(a,r);if(u){if(u===p)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=d(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=d(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function k(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return v.prototype=y,o(g,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(g),l(g,s,"Generator"),l(g,u,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function a(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}function f(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function d(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,h(e,t,"get"))}function p(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,h(e,t,"set"),r),r}function h(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}r(9244),r(2593),r(444),r(1076),r(5538),r(5547),r(8496),r(4802),r(2112),r(6353),r(3064),r(3275),r(6941),r(6257),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(1624),r(1e3),r(2827),r(7639),r(6996),r(1366),r(3558),r(8852),r(8630),r(8858),r(6480),r(7219),r(2160),r(4289),r(8165),r(4613),r(3292),r(3748),r(9157),r(5529),r(4882),r(7233),r(1086),r(8786),r(5544),r(1304),r(2047),r(1157),r(8534);var v=(0,((o=r(9796))&&o.__esModule?o:{default:o}).default)("cbio.JPEGEncoder"),y=new WeakMap,m=new WeakMap,b=new WeakMap,w=new WeakMap,g=new WeakMap,E=c((function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,y,{writable:!0,value:void 0}),f(this,m,{writable:!0,value:void 0}),f(this,b,{writable:!0,value:void 0}),f(this,w,{writable:!0,value:void 0}),f(this,g,{writable:!0,value:function(){if(d(n,b)){var t=d(n,b).scale();d(n,m).width=d(n,y).videoWidth*t,d(n,m).height=d(n,y).videoHeight*t,d(n,m).getContext("2d").drawImage(d(n,y),0,0,d(n,m).width,d(n,m).height),d(n,m).toBlob(function(){var t,r=(t=i().mark((function t(r){var o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d(n,b)){t.next=2;break}return t.abrupt("return");case 2:return t.t0=Uint8Array,t.next=5,new Response(r).arrayBuffer();case 5:t.t1=t.sent,o=new t.t0(t.t1),d(n,b).handleFrame(o,e.MIME_TYPE,1);case 8:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function u(e){a(i,n,o,u,c,"next",e)}function c(e){a(i,n,o,u,c,"throw",e)}u(void 0)}))});return function(e){return r.apply(this,arguments)}}(),e.MIME_TYPE,.5)}}}),s(this,"reset",(function(){})),s(this,"destroy",(function(){v("destroy JPEGEncoder"),d(n,w)&&(clearInterval(d(n,w)),p(n,w,null)),p(n,b,null),p(n,y,null),p(n,m,null)})),v("JPEGEncoder constructed"),p(this,b,r),p(this,y,document.createElement("video")),p(this,m,document.createElement("canvas")),d(this,y).srcObject=t,d(this,y).play(),p(this,w,setInterval(d(this,g),100))}));t.default=E,s(E,"MIME_TYPE","image/jpeg")},5904:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(9244),r(2593),r(444),r(1076),r(5538),r(5547),r(8496),r(4802),r(2112),r(6353),r(3064),r(3275),r(6941),r(6257),r(6486),r(3524),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(3600),r(6770),r(1624),r(1e3),r(2047),r(1157),r(8534);var o=a(r(1885)),i=a(r(3754));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(){c=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),u=new P(n||[]);return o(a,"_invoke",{value:S(e,r,u)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var p={};function h(){}function v(){}function y(){}var m={};l(m,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(k([])));w&&w!==t&&r.call(w,a)&&(m=w);var g=y.prototype=h.prototype=Object.create(m);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(o,a,u,c){var s=d(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,u,c)}),(function(e){i("throw",e,u,c)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=O(a,r);if(u){if(u===p)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=d(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=d(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return v.prototype=y,o(g,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(_.prototype),l(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(g),l(g,s,"Generator"),l(g,a,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function s(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){s(i,n,o,a,u,"next",e)}function u(e){s(i,n,o,a,u,"throw",e)}a(void 0)}))}}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function d(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}function v(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function y(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,b(e,t,"get"))}function m(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,b(e,t,"set"),r),r}function b(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var w=(0,a(r(9796)).default)("cbio.MediaStreamFrameSource"),g=new WeakMap,E=new WeakMap,_=new WeakMap,S=new WeakMap,O=new WeakMap,T=new WeakMap,j=new WeakMap,P=d((function e(t){var r,n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,g,{writable:!0,value:void 0}),v(this,E,{writable:!0,value:void 0}),v(this,_,{writable:!0,value:void 0}),v(this,S,{writable:!0,value:null}),v(this,O,{writable:!0,value:[]}),v(this,T,{writable:!0,value:function(){return y(n,O).length&&!y(n,O).includes(o.default.MIME_TYPE)||!o.default.isSupported()?i.default:o.default}}),v(this,j,{writable:!0,value:(r=l(c().mark((function e(t){var r,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=y(n,T).call(n),y(n,S)instanceof r||(w("Changing encoder to",r),null===(o=y(n,S))||void 0===o||o.destroy(),m(n,S,new r(t,y(n,_)))),e.abrupt("return",y(n,S));case 3:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})}),p(this,"setCodecs",(function(e){m(n,O,e||[]),y(n,E)&&y(n,j).call(n,y(n,E))})),p(this,"capturingWillStart",l(c().mark((function e(){var t,r,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w("capturingWillStart for MediaStreamFrameSource"),e.next=3,y(n,_).requestPermission();case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return");case 6:if(e.prev=6,!(t instanceof MediaStream)){e.next=11;break}m(n,E,t),e.next=18;break;case 11:return e.t0=m,e.t1=n,e.t2=E,e.next=16,navigator.mediaDevices.getDisplayMedia({video:{cursor:"always",width:{ideal:1400},height:{ideal:1e3},frameRate:{max:10}},audio:!1});case 16:e.t3=e.sent,(0,e.t0)(e.t1,e.t2,e.t3);case 18:if(r=y(n,E).getVideoTracks(),s=1,o=function(e){if(Array.isArray(e))return e}(c=r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(c,s)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(c,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),(i=n,a=g,function(e,t){if(t.set)return"__destrObj"in t||(t.__destrObj={set value(r){t.set.call(e,r)}}),t.__destrObj;if(!t.writable)throw new TypeError("attempted to set read only private field");return t}(i,b(i,a,"set"))).value=o[0],y(n,g)){e.next=23;break}throw new Error("failed to get display media track");case 23:y(n,g).onended=function(){w("track ended"),m(n,g,null),y(n,_).captureEnded(),n.destroy()},y(n,j).call(n,y(n,E)),y(n,_).captureStarted(y(n,E)),e.next=31;break;case 28:e.prev=28,e.t4=e.catch(6),y(n,_).captureEnded(e.t4);case 31:case"end":return e.stop()}var i,a,c,s}),e,null,[[6,28]])})))),p(this,"capturingWillStop",(function(){var e;w("capturingWillStop for MediaStreamFrameSource"),null===(e=y(n,S))||void 0===e||e.destroy(),m(n,S,null),m(n,E,null),y(n,g)&&(y(n,g).stop(),m(n,g,null),y(n,_).captureEnded())})),p(this,"reset",(function(){var e;w("resetting MediaStreamFrameSource"),null===(e=y(n,S))||void 0===e||e.reset()})),p(this,"destroy",(function(){var e;w("destroying MediaStreamFrameSource"),n.capturingWillStop(),m(n,_,null),null===(e=y(n,S))||void 0===e||e.destroy(),m(n,S,null)})),w("MediaStreamFrameSource constructed"),m(this,_,t)}));t.default=P},7297:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DOMFrameSource",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"FrameLoop",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"MediaStreamFrameSource",{enumerable:!0,get:function(){return i.default}});var n=a(r(4773)),o=a(r(6604)),i=a(r(5904));function a(e){return e&&e.__esModule?e:{default:e}}},2833:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(9244),r(2593),r(444),r(1076),r(5538),r(3064),r(9616),r(5547),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(1624),r(4391),r(1e3),r(2047),r(8534),r(3600),r(6770),r(6486),r(6706),r(3275),r(1157);var o,i=r(1239);function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function s(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function l(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}function d(e,t){var r=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,r)}var p=(0,((o=r(9796))&&o.__esModule?o:{default:o}).default)("cbio.IFrameBridge"),h=new WeakMap,v=new WeakMap,y=new WeakMap,m=new WeakMap,b=new WeakMap,w=new WeakMap,g=new WeakMap,E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(f,e);var t,r,o,i=(r=f,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(r);if(o){var i=c(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function f(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),l(u(e=i.call(this)),"trustedOrigins",[]),s(u(e),h,{writable:!0,value:new Map}),l(u(e),"start",(function(){window.removeEventListener("message",d(u(e),v)),window.addEventListener("message",d(u(e),v))})),s(u(e),v,{writable:!0,value:function(t){if(!d(u(e),m).call(u(e),t))return p("ignoring message, not a cobrowse message",t.data);var r=d(u(e),w).call(u(e),t),n=t.data,o=n.trustedOnly,i=n.event,a=n.data;e.emit(i,a,{trusted:r,source:t.source,origin:t.origin,iframe:d(u(e),g).call(u(e),t),hasParent:d(u(e),y).call(u(e),t.source),trustedOnly:o})}}),s(u(e),y,{writable:!0,value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.parent;return t===r||r.parent!==r&&d(u(e),y).call(u(e),t,r.parent)}}),s(u(e),m,{writable:!0,value:function(e){if(!e.data)return!1;var t=e.data,r=t.cobrowseio,n=t.event;return!!r&&!!n}}),s(u(e),b,{writable:!0,value:function(t){return e.trustedOrigins.includes(t)}}),s(u(e),w,{writable:!0,value:function(t){var r=t.origin;return d(u(e),b).call(u(e),r)}}),s(u(e),g,{writable:!0,value:function(t){return Array.from(d(u(e),h).keys()).find((function(e){return e.contentWindow===t.source}))}}),l(u(e),"send",(function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"*",o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];e.postMessage({trustedOnly:o,cobrowseio:!0,event:t,data:r},n)})),l(u(e),"sendToParent",(function(t,r,n,o){return d(u(e),y).call(u(e),t)?d(u(e),b).call(u(e),r)?void e.send(t,n,o,r):p("not sending as parent origin is not trusted",r,e.trustedOrigins):p("not sending as target frame",t,"is not a parent")})),l(u(e),"broadcastToChildren",(function(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];d(u(e),h).forEach((function(o,i){var a=n?o:"*";a&&i.contentWindow&&e.send(i.contentWindow,t,r,a,n)}))})),l(u(e),"track",(function(t){d(u(e),h).has(t)||d(u(e),h).set(t,null),e.emit("iframe_discovered",t)})),l(u(e),"remove",(function(t){d(u(e),h).delete(t)})),l(u(e),"establishTrust",(function(t,r){return d(u(e),b).call(u(e),r)?(d(u(e),h).set(t,r),!0):(p("refusing to establish trust with untrusted origin",r),!1)})),l(u(e),"breakTrust",(function(t){d(u(e),h).has(t)&&d(u(e),h).set(t,null)})),p("iframe bridge constructed in",document),e}return t=f,Object.defineProperty(t,"prototype",{writable:!1}),t}(i.EventEmitter);t.default=E},3458:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(9244),r(2593),r(444),r(1076),r(5538),r(5547),r(6486),r(6257),r(6941),r(3524),Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameContext=void 0,r(3114),r(1624),r(1e3),r(2047),r(1157),r(8534);var o,i=r(4253),a=r(4750),u=r(7986),c=r(8541),s=r(7297),l=(o=r(7368))&&o.__esModule?o:{default:o};function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function h(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}function y(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function m(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,w(e,t,"set"),r),r}function b(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,w(e,t,"get"))}function w(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var g=new WeakMap,E=new WeakMap,_=new WeakMap,S=new WeakMap,O=new WeakMap,T=new WeakMap,j=new WeakMap,P=new WeakMap,k=new WeakMap,x=new WeakMap,I=new WeakMap,L=new WeakMap,C=new WeakMap,N=function(){function e(t,r,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,g,{writable:!0,value:void 0}),y(this,E,{writable:!0,value:void 0}),y(this,_,{writable:!0,value:void 0}),y(this,S,{writable:!0,value:void 0}),y(this,O,{writable:!0,value:void 0}),y(this,T,{writable:!0,value:void 0}),h(this,"inheritedRedactedViews",void 0),h(this,"inheritedUnredactedViews",void 0),y(this,j,{writable:!0,value:function(e){b(o,C).call(o,e),b(o,L).call(o),e.isActive()&&!b(o,S)&&b(o,k).call(o)}}),y(this,P,{writable:!0,value:function(){b(o,x).call(o),b(o,T).hide()}}),y(this,k,{writable:!0,value:function(){var e;null!==(e=b(o,S))&&void 0!==e&&e.isRunning()||(m(o,S,new s.FrameLoop),b(o,S).setSource(new s.DOMFrameSource((function(e){return b(o,_).call(o,"patch",e),!0}))),b(o,S).start(),b(o,S).invalidateFrame())}}),y(this,x,{writable:!0,value:function(){b(o,S)&&b(o,S).destroy(),m(o,S,null)}}),y(this,I,{writable:!0,value:function(e,t){b(o,C).call(o,b(o,g)),(c.TargetedRedaction.hasChange(o.allRedactedViews,t)||c.TargetedRedaction.hasChange(o.allUnredactedViews,t)||c.TargetedRedaction.hasChange(b(o,g).selectors(),t))&&setTimeout((function(){b(o,L).call(o)}),0)}}),y(this,L,{writable:!0,value:function(){var e;null!==(e=b(o,S))&&void 0!==e&&e.isRunning()&&b(o,S).invalidateFrame()}}),y(this,C,{writable:!0,value:function(e){c.RedactionIndexProvider.instance=new c.RedactionIndex(c.TargetedRedaction.filterSelectors(o.allRedactedViews),c.TargetedRedaction.filterSelectors(o.allUnredactedViews),c.TargetedRedaction.filterSelectors(e.selectors()))}}),h(this,"destroy",(function(){b(o,g)&&(b(o,g).removeListener("update",b(o,j)),b(o,g).removeListener("ended",b(o,P))),m(o,g,null),b(o,O)&&b(o,O).off("navigate",b(o,I)),m(o,O,null)})),m(this,g,t),m(this,E,r),m(this,_,n),b(this,j).call(this,t),t.on("updated",b(this,j)),t.on("ended",b(this,P));var f=new a.PDFViewer(t,r);m(this,T,new u.UniversalProxy(t,r)),m(this,O,new i.Navigation({shouldNavigate:function(){return(null==t?void 0:t.isActive())&&t[l.default].proxyToken()},getSessionId:function(){return t[l.default].compress()},pdfLinks:r.pdfLinks,universalLinks:r.universalLinks,trustedOrigins:r.trustedOrigins,handleNavigation:r.handleNavigation,confirmNavigation:r.confirmNavigation,openPDFLink:f.openPDFLink,openUniversalLink:b(this,T).openUniversalLink})),b(this,O).on("navigate",b(this,I)),b(this,k).call(this)}var t,r;return t=e,(r=[{key:"allRedactedViews",get:function(){return[].concat(f(b(this,E).redactedViews||[]),f(this.inheritedRedactedViews||[]))}},{key:"allUnredactedViews",get:function(){return[].concat(f(b(this,E).unredactedViews||[]),f(this.inheritedUnredactedViews||[]))}}])&&p(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.IFrameContext=N},9356:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(444),r(1076),r(5547),r(1624),r(2047),r(8534),r(6486),r(6257),r(6941),r(3524),r(8496),r(4802),r(2112),r(6353),r(3064),r(3275),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.initIframeBridgeAsChild=function(e){_=e,E=new s.default(e);var t=window;do{if(t=t.parent,(0,o.isxdoc)(t)){b.send(t,"init");break}}while(t!==t.parent)},t.initIframeBridgeAsParent=function(e){_=e,E=new s.default(e);var t=function(e){E=e;var t=e[l.default].serializeSanitized();b.broadcastToChildren("session",t,!1);var r=e[l.default].serialize();b.broadcastToChildren("session",r,!0)};e.on("session.loaded",t),e.on("session.updated",t),w.resolve()},r(4011),r(1e3);var o=r(1514),i=p(r(2833)),a=r(5064),u=r(1362),c=p(r(9796)),s=p(r(4914)),l=p(r(7368)),f=r(3458),d=r(1782);function p(e){return e&&e.__esModule?e:{default:e}}function h(){h=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new P(n||[]);return o(a,"_invoke",{value:S(e,r,u)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function p(){}function v(){}function y(){}var m={};s(m,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(k([])));w&&w!==t&&r.call(w,a)&&(m=w);var g=y.prototype=p.prototype=Object.create(m);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(o,a,u,c){var s=f(e[o],e,a);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==n(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,u,c)}),(function(e){i("throw",e,u,c)})):t.resolve(d).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=O(a,r);if(u){if(u===d)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=f(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return v.prototype=y,o(g,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=s(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(_.prototype),s(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(g),s(g,c,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function v(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m=(0,c.default)("cbio.iframes"),b=new i.default,w=new d.Deferred,g=null,E=null,_=null;b.on("patch",(function(e,t){var r=t.iframe;if(m("Received patch event in",document),r){var n=e.document_id,i=r.__vdom;i&&i.document.id!==e.document_id&&(i=null),i||(i=new o.VirtualDOM(n)),i.applyPatch(e.patch),r.__vdom=i,b.emit("iframe_patched",r)}})),b.on("mouse",(function(e,t){var r=t.iframe;m("Received mouse event in",e,document,"from",r),r&&(a.MouseTracking.setPosition(e.x,e.y,r),a.MouseTracking.setDown(e.down))})),b.on("control",(function(e,t){var r,n=t.trusted,o=t.hasParent,i=t.trustedOnly;if(m("Received control event in",document),!n)return m("Ignoring untrusted control event");u.ControlEvents.applyEvent.apply(u.ControlEvents,function(e){if(Array.isArray(e))return y(e)}(r=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o&&b.broadcastToChildren("control",e,i)})),b.on("init",(function(e,t){var r=t.iframe;r&&b.track(r)})),b.on("iframe_discovered",function(){var e,t=(e=h().mark((function e(t){var r,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m("iframe available",t,"issuing sync"),e.next=3,w.promise;case 3:r=g?g.allRedactedViews:_.redactedViews||[],n=g?g.allUnredactedViews:_.unredactedViews||[],b.send(t.contentWindow,"sync",{redactedViews:r.filter((function(e){return"string"!=typeof e})),unredactedViews:n.filter((function(e){return"string"!=typeof e}))});case 6:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){v(i,n,o,a,u,"next",e)}function u(e){v(i,n,o,a,u,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()),b.on("sync",(function(e,t){var r=t.source,n=t.origin,o=t.trusted;if(m("Received sync event in",document),!o)return m("Ignoring untrusted sync event");g||(g=new f.IFrameContext(E,_,(function(e,t){b.sendToParent(r,n,e,t)}))),g.inheritedRedactedViews=(null==e?void 0:e.redactedViews)||[],g.inheritedUnredactedViews=(null==e?void 0:e.unredactedViews)||[],a.MouseTracking.onChange=function(e){return b.sendToParent(r,n,"mouse",e)},a.MouseTracking.track(window),E.on("ended",(function(){g&&g.destroy(),g=null})),w.resolve(),b.sendToParent(r,n,"trust")}));var S=function(e){var t=e.target;return b.breakTrust(t)};b.on("trust",(function(e,t){var r=t.iframe,n=t.origin;if(r){r.removeEventListener("load",S),r.addEventListener("load",S);var o=b.establishTrust(r,n);if(E){var i=o?E[l.default].serialize():E[l.default].serializeSanitized();b.send(r.contentWindow,"session",i,n,o)}}})),b.on("session",(function(e,t){var r=t.trusted,n=t.hasParent;if(!r)return m("Ignoring untrusted session event");if(E[l.default].deserialize(e),n){var o=E[l.default].serializeSanitized();b.broadcastToChildren("session",o,!1),b.broadcastToChildren("session",e,!0)}}));var O=b;t.default=O},2175:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}r(9244),r(2593),r(444),r(1076),r(5538),r(6257),r(6941),r(6486),r(2047),r(5547),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(1e3),r(1624),r(8534),r(3524),r(9344),r(3600),r(6770);var a=r(9856),u=a.keys().reduce((function(e,t){return e[t.replace("./","").replace(".json","")]=a(t),e}),{}),c=["ar","he","fa","ur"],s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.language=t,this.direction=c.includes(t)?"rtl":"ltr"}var t,r,n;return t=e,n=[{key:"getLocale",value:function(){var t,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){c=!0,a=e},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw a}}}}(navigator.languages);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(u[n])return new e(n);if(n.includes("-")){var i=n.split("-")[0].toLowerCase();if(u[i])return new e(i)}}}catch(e){r.e(e)}finally{r.f()}return new e("en")}},{key:"tr",value:function(e){return this.getLocale().translate(e)}},{key:"direction",value:function(){return this.getLocale().direction}}],(r=[{key:"translate",value:function(e){return u[this.language][e]||u.en[e]||e}}])&&i(t.prototype,r),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=s},3885:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(9244),r(2593),r(444),r(1076),r(5538),r(3064),r(9616),r(5547),Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.NAVIGATION_TYPE=void 0,r(9806),r(3524),r(7285),r(1e3),r(3600),r(6770),r(1087),r(1624),r(2047),r(8534),r(6955),r(8927),r(3133),r(1157);var o=s(r(8340)),i=r(7054),a=s(r(3916)),u=s(r(1239)),c=s(r(8755));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function h(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}function v(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function y(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,b(e,t,"get"))}function m(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,b(e,t,"set"),r),r}function b(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var w={PDF:"pdf",XDOC:"xdoc",UNIVERSAL:"universal"};t.NAVIGATION_TYPE=w;var g=function(e){return e instanceof RegExp?e:(0,o.default)(e,{flags:"i"})},E=function(e,t){return e.some((function(e){return e.test(t)}))},_=new WeakMap,S=new WeakMap,O=new WeakMap,T=new WeakMap,j=new WeakMap,P=new WeakMap,k=new WeakMap,x=new WeakMap,I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(b,e);var t,r,o,u,s=(o=b,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(o);if(u){var r=p(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}(this,e)});function b(e){var t,r,n,o,i,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),v(d(n=s.call(this)),_,{writable:!0,value:void 0}),v(d(n),S,{writable:!0,value:void 0}),v(d(n),O,{writable:!0,value:void 0}),v(d(n),T,{writable:!0,value:void 0}),v(d(n),j,{writable:!0,value:void 0}),v(d(n),P,{writable:!0,value:void 0}),v(d(n),k,{writable:!0,value:void 0}),v(d(n),x,{writable:!0,value:void 0}),o=d(n),u=function(e){if(!e)return null;try{var t=new URL(e,window.location.origin),r=t.origin+t.pathname;if(E(y(d(n),O),r))return w.PDF;if(E(y(d(n),T),r))return w.UNIVERSAL;if(y(d(n),j).includes(t.origin))return w.XDOC}catch(e){return console.warn("CobrowseIO: Failed to infer navigation type",e),null}return null},(i=h(i="inferNavigationType"))in o?Object.defineProperty(o,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[i]=u,m(d(n),_,e.shouldNavigate),m(d(n),S,e.getSessionId),m(d(n),O,(null===(t=e.pdfLinks)||void 0===t?void 0:t.map(g))||[]),m(d(n),T,(null===(r=e.universalLinks)||void 0===r?void 0:r.map(g))||[]),m(d(n),j,e.trustedOrigins||[]),m(d(n),P,e.confirmNavigation),m(d(n),k,e.openPDFLink),m(d(n),x,e.openUniversalLink),a.default.beforeNavigate=function(t,r,o){var i=n.inferNavigationType(t);return(!r.defaultPrevented||i===w.XDOC)&&e.handleNavigation(t,i,r,(function(e,t){return n.navigate(e,t,o)}))},c.default.on("navigate",(function(e,t){return n.emit("navigate",e,t)})),n}return t=b,(r=[{key:"navigate",value:function(e,t,r){var n=this;if(!e)return e;var o=null!=t?t:this.inferNavigationType(e);if(!function(e){return Object.values(w).includes(e)}(o))return e;if(!y(this,_).call(this,o))return e;if([w.PDF,w.UNIVERSAL].includes(o)){var a=y(this,P).call(this,e,o);return a?(a.then((function(t){t?(o===w.PDF&&y(n,k).call(n,e),o===w.UNIVERSAL&&y(n,x).call(n,e)):r(e)})),!1):e}if(o===w.XDOC){var u=y(this,S).call(this);return(0,i.rewriteUrlIfNecessary)(e,u)}return e}}])&&l(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),b}(u.default);t.default=I},3916:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function u(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}function s(e,t){var r=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,r)}r(9244),r(2593),r(444),r(1076),r(5538),r(5547),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(1624),r(1e3),r(8719),r(2047),r(8534),r(3114),r(1157);var l=new WeakMap,f=new WeakMap,d=new WeakMap,p=new WeakMap,h=new WeakMap,v=i((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"beforeNavigate",void 0),a(this,l,{writable:!0,value:new Set}),u(this,"track",(function(e){if(e.document.addEventListener("click",s(t,f)),e.document.addEventListener("submit",s(t,d)),!s(t,l).has(e)){var r=t,n=e.open;e.open=function(){for(var e,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=s(r,p)).call.apply(e,[r,this,n].concat(o))};var o=e.HTMLFormElement.prototype.submit;e.HTMLFormElement.prototype.submit=function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=s(r,h)).call.apply(e,[r,this,o].concat(n))},s(t,l).add(e)}})),u(this,"untrack",(function(e){e.document.removeEventListener("click",s(t,f)),e.document.removeEventListener("submit",s(t,d))})),a(this,f,{writable:!0,value:function(e){var r;if(t.beforeNavigate){var n=null==e||null===(r=e.target)||void 0===r?void 0:r.closest("a");if(n&&n.href&&!n.__cbio_forceDefaultNavigation){var o=t.beforeNavigate(n.href,e,(function(e){n.__cbio_forceDefaultNavigation=!0,n.click(),delete n.__cbio_forceDefaultNavigation}));"string"==typeof o?n.href=o:!1===o&&e.preventDefault()}}}}),a(this,d,{writable:!0,value:function(e){var r;if(t.beforeNavigate){var n=null==e||null===(r=e.target)||void 0===r?void 0:r.closest("form");if(n&&n.action&&!n.__cbio_forceDefaultNavigation){var o=t.beforeNavigate(n.action,e,(function(e){n.__cbio_forceDefaultNavigation=!0,n.submit(),delete n.__cbio_forceDefaultNavigation}));"string"==typeof o?n.action=o:!1===o&&e.preventDefault()}}}}),a(this,p,{writable:!0,value:function(e,r,n){for(var o=arguments.length,i=new Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];if(!t.beforeNavigate)return r.call.apply(r,[e,n].concat(i));var u=t.beforeNavigate(n,new Event("WindowOpen"),(function(t){r.call.apply(r,[e,n].concat(i))}));return"string"==typeof u?r.call.apply(r,[e,u].concat(i)):!1===u?null:r.call.apply(r,[e,n].concat(i))}}),a(this,h,{writable:!0,value:function(e,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];if(!t.beforeNavigate)return r.call.apply(r,[e].concat(o));var a=t.beforeNavigate(e.action,new Event("FormSubmit"),(function(t){r.call.apply(r,[e].concat(o))}));if("string"==typeof a)e.action=a;else if(!1===a)return null;return r.call.apply(r,[e].concat(o))}})})),y=new v;t.default=y},4253:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(1624),r(1e3),r(2047),r(1157),r(8534),r(5226),r(444),r(1076),r(5547),Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NAVIGATION_TYPE",{enumerable:!0,get:function(){return i.NAVIGATION_TYPE}}),Object.defineProperty(t,"Navigation",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"NavigationTracking",{enumerable:!0,get:function(){return a.default}});var o,i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var c=i?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(o,a,c):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}(r(3885)),a=(o=r(3916))&&o.__esModule?o:{default:o};function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}},1930:function(e,t,r){"use strict";r(5547),r(1624),r(8534),r(5128),r(4011),r(5226),r(9270),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(3524),r(1e3),r(3275),r(6486),r(2047),r(3600),r(6941),r(6257),r(3114),r(6706),r(3133),r(9244),r(2593),r(444),r(1076),r(5538);var n=r(1514),o=r(8541),i=l(r(9770)),a=l(r(5667)),u=l(r(3677)),c=l(r(6683)),s=r(2275);function l(e){return e&&e.__esModule?e:{default:e}}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w(n.key),n)}}function m(e,t,r){return t&&y(e.prototype,t),r&&y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t,r){return(t=w(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===f(t)?t:String(t)}var g=m((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),b(this,"isLocalResource",(function(e){return!!(/^https?:\/\/localhost/.test(e)||/^https?:\/\/127.0.0.1/.test(e)||/^file:\/\//.test(e)||/^blob:/.test(e)||/^ionic:/.test(e))})),b(this,"_serializeAttributes",(function(e,t){if(e.nodeType===window.Node.ELEMENT_NODE&&e.attributes){var r={};Array.from(e.attributes||[]).forEach((function(t){"href"===t.nodeName||"src"===t.nodeName?r[t.nodeName]="string"==typeof e[t.nodeName]?e[t.nodeName]:t.nodeValue:r[t.nodeName]=t.nodeValue})),t.attributes=r}})),b(this,"_serializeSelection",(function(e,t){var r,n=null,a=e.getSelection();if(a&&"Range"===a.type&&!a.isCollapsed&&a.rangeCount>0)try{n=h(Array(a.rangeCount)).reduce((function(e,t,r){var n,u,c=a.getRangeAt(r),s=c.startOffset,l=c.endOffset,f=null===(n=o.RedactionIndexProvider.instance)||void 0===n?void 0:n.getRedactedBy(c.startContainer),d=null===(u=o.RedactionIndexProvider.instance)||void 0===u?void 0:u.getRedactedBy(c.endContainer),p=i.default.get(null!=f?f:c.startContainer),h=i.default.get(null!=d?d:c.endContainer);return e.push({start:p,end:h,startOffset:f?0:s,endOffset:d?0:l}),e}),[])}catch(e){console.warn("CobrowseIO: Could not serialize text selection",e)}else["INPUT","TEXTAREA"].includes(null===(r=e.activeElement)||void 0===r?void 0:r.tagName)&&e.activeElement.selectionStart!==e.activeElement.selectionEnd&&(n=!1);t.selection=n})),b(this,"_serializeDocument",(function(e,r){if(e.nodeType===window.Node.DOCUMENT_NODE){var n,o,a,u;r.url=e.location&&e.location.href;var c=(0,s.getScrollBarSize)(),l=0===c?null===(n=e.defaultView)||void 0===n?void 0:n.innerWidth:null===(o=e.documentElement)||void 0===o?void 0:o.clientWidth,f=0===c?null===(a=e.defaultView)||void 0===a?void 0:a.innerHeight:null===(u=e.documentElement)||void 0===u?void 0:u.clientHeight;r.size={width:l,height:f},r.focus=i.default.get(e.activeElement),r.doctype=null!=e.doctype?{name:(d=e.doctype).name,publicId:d.publicId,systemId:d.systemId}:null,t._serializeSelection(e,r)}var d})),b(this,"_serializeInput",(function(e,t){if("INPUT"===e.tagName||"TEXTAREA"===e.tagName||"OPTION"===e.tagName){t.value=e.value,"radio"!==e.type&&"checkbox"!==e.type||void 0===e.checked||(t.checked=e.checked),t.selection=null;try{var r=e.selectionStart,n=e.selectionEnd,o=e.selectionDirection;r!==n&&e===e.ownerDocument.activeElement&&(t.selection={start:r,end:n,direction:o})}catch(t){console.warn("Failed to serialise text selection for the input",e)}}})),b(this,"_serializeOption",(function(e,t){"OPTION"===e.tagName&&(t.selected=e.selected)})),b(this,"_serializeCSSSheet",(function(e){try{if(e.media&&e.media.length&&!window.matchMedia(e.media).matches)return""}catch(t){console.warn("CobrowseIO: Media detection for sheet failed:",t,"sheet",e)}return[].slice.call(e.cssRules).reduce((function(e,t){try{return e+t.cssText}catch(t){return e}}),"")})),b(this,"_serializeShadowRoot",(function(e,r){try{if(e.nodeType===window.Node.DOCUMENT_FRAGMENT_NODE){var n=[];h(e.adoptedStyleSheets||[]).forEach((function(e){n=n.concat([].slice.call(e.cssRules))})),r.css=t._serializeCSSSheet({cssRules:n})}}catch(t){console.warn("CobrowseIO: ShadowRoot serialize failed:",t.message,"for",e)}})),b(this,"_serializeCSS",(function(e,r){try{var n;("STYLE"===(null===(n=e.tagName)||void 0===n?void 0:n.toUpperCase())||"LINK"===e.tagName&&"stylesheet"===e.rel&&t.isLocalResource(e.href))&&e.sheet&&(r.css=t._serializeCSSSheet(e.sheet))}catch(t){console.warn("CobrowseIO: CSS serialize failed:",t.message,"for",e)}})),b(this,"_serializeCanvas",(function(e,t,r){if("CANVAS"===e.tagName&&!r.isRedacted&&r.rasterizeCanvas)try{t.data=c.default.fromCanvas(e,.8)}catch(t){e._cb_serialize_warned||(console.warn("Cobrowse failed to serialize canvas",e,"due to error",t),e._cb_serialize_warned=!0)}})),b(this,"_serializeImage",(function(e,r,n){if("IMG"===e.tagName&&!n.isRedacted&&t.isLocalResource(e.src))try{r.attributes.src=c.default.fromImage(e)}catch(t){console.warn("CobrowseIO: Failed to serialize image",e)}})),b(this,"_serializeScroll",(function(e,t){var r,o;(0,n.isxdoc)(e)||(e.nodeType===window.Node.DOCUMENT_NODE?t.scroll={x:(null===(r=e.defaultView)||void 0===r?void 0:r.pageXOffset)||0,y:(null===(o=e.defaultView)||void 0===o?void 0:o.pageYOffset)||0}:(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight)&&(t.scroll={x:e.scrollLeft||0,y:e.scrollTop||0}))})),b(this,"_serializeRedaction",(function(e,r,n){if(n.isRedacted){delete r.value;var o=t._getSize(e);if(1===e.nodeType){var i=window.getComputedStyle(e),a="inline"===i.display&&o.height>0?"inline-block":i.display;r.attributes=r.attributes&&p({class:r.attributes.class,style:"".concat(r.attributes.style||"","; display: ").concat(a," !important;flex-basis: unset !important;flex-shrink: 0;")},"EMBED"===e.nodeName?{src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}:{})}else 3===e.nodeType&&(r.nodeType=1,r.tagName="SPAN",r.attributes={style:o.height>0?"display: inline-block !important":void 0});r.redaction={height:"".concat(o.height,"px"),width:"".concat(o.width,"px")}}else r.redaction=void 0})),b(this,"_serializePseudoSelectors",(function(e,t){var r,n,o;"function"==typeof e.matches&&(null===(r=t.attributes)||void 0===r||delete r.__cbio_pseudo_hover,null===(n=t.attributes)||void 0===n||delete n.__cbio_pseudo_active,null===(o=t.attributes)||void 0===o||delete o.__cbio_pseudo_focus,t.attributes=p(p(p(p({},t.attributes),e.matches(":hover")?{__cbio_pseudo_hover:""}:{}),e.matches(":active")?{__cbio_pseudo_active:""}:{}),e.matches(":focus")?{__cbio_pseudo_focus:""}:{}))})),b(this,"_getSize",(function(e){var t=null==e?void 0:e.nodeType;if(null==t)return{height:0,width:0};if(t===Node.ELEMENT_NODE)return e.getBoundingClientRect();var r=document.createRange();return r.selectNodeContents(e),r.getBoundingClientRect()})),b(this,"_serialize",(function(e,r){if(!i.default.get(e))throw console.error("node missing id",e,e.parentNode),new Error("node missing id",e);if(!a.default.isDOMNode(e))return e;if(!e.nodeType)throw new Error("node missing type",e);var n={id:i.default.get(e),nodeType:e.nodeType};return t._serializeShadowRoot(e,n),t._serializeAttributes(e,n),t._serializeImage(e,n,r),t._serializeDocument(e,n),t._serializeScroll(e,n),t._serializeInput(e,n),t._serializeOption(e,n),t._serializeCSS(e,n),t._serializeCanvas(e,n,r),t._serializeRedaction(e,n,r),t._serializePseudoSelectors(e,n),e.tagName&&(n.tagName=e.tagName),e.nodeValue&&(n.content=e.nodeValue),n})),b(this,"serialize",(function(e){var r,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=null===(r=o.RedactionIndexProvider.instance)||void 0===r?void 0:r.getRedactedBy(e);if(l&&c([]),l&&l!==e||[e].concat(h((0,n.parents)(e))).find((function(e){return u.default.isIgnored(e)})))return null;var f=p({isRedacted:Boolean(l)},s);return p(p({},t._serialize(e,f)),{},{childNodes:l===e?[]:u.default.children(e).map((function(e){return a.default.isDOMNode(e)?{id:i.default.get(e)}:p({},e)}))})}))})),E=new g;t.default=E},9770:function(e,t,r){"use strict";r(5547),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(1624),r(4391),r(1e3),r(2047),r(8534),r(3114),r(9244),r(2593),r(444),r(1076),r(5538);var n=i(r(453)),o=i(r(5667));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}var f=new(c((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"_idMap",new Map),s(this,"_nodeMap",new Map),s(this,"_currentId",0),s(this,"_nextId",(function(){return t._currentId+=1,t._currentId})),s(this,"track",(function(e){if(!e)return null;if(!o.default.isDOMNode(e))return e.id;if(!t.get(e)){var r=e.nodeType===window.Node.DOCUMENT_NODE?(0,n.default)(5):"".concat(t.track(document),"-").concat(t._nextId());t._idMap.set(r,e),t._nodeMap.set(e,r)}return t._nodeMap.get(e)})),s(this,"get",(function(e){return e?o.default.isDOMNode(e)?t._nodeMap.get(e)||null:e.id:null})),s(this,"getById",(function(e){return e&&t._idMap.get(e)||null})),s(this,"forget",(function(e){t._idMap.delete(t.get(e)),t._nodeMap.delete(e)}))})));t.default=f},3677:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(9244),r(2593),r(444),r(1076),r(5538),r(5547),r(6257),r(6941),r(3524),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(3600),r(6770),r(5226),r(4011),r(1e3),r(3114),r(6486),r(2047),r(1624),r(1157),r(8534);var o=r(1514),i=u(r(5667)),a=r(4039);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function l(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}function d(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,p(e,t,"get"))}function p(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var h=(0,u(r(9796)).default)("cbio.NodeTree"),v=new WeakMap,y=new(function(){function e(){var t,r,n,u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n={writable:!0,value:".__cbio_ignored"},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t=this,r=v),r.set(t,n),l(this,"isIgnored",(function(e){var t;if(e&&e.matches&&e.matches(d(u,v)))return h("ignoring",e,"because child of classes"),!0;if([window.Node.COMMENT_NODE,window.Node.CDATA_SECTION_NODE,window.Node.ENTITY_REFERENCE_NODE,window.Node.ENTITY_NODE,window.Node.PROCESSING_INSTRUCTION_NODE,window.Node.NOTATION_NODE,window.Node.DOCUMENT_TYPE_NODE].includes(e.nodeType))return h("ignoring",e,"because of nodeType"),!0;if("SCRIPT"===e.tagName)return h("ignoring",e,"because of SCRIPT"),!0;var r=e.parentNode||e.defaultView&&e.defaultView.frameElement;return!(!r||"STYLE"!==(null===(t=r.tagName)||void 0===t?void 0:t.toUpperCase())||(h("ignoring",e,"because child of STYLE"),0))})),l(this,"children",(function(e){var t,r=Object.getOwnPropertyDescriptor(a.Node.prototype,"childNodes").get,n=Object.getOwnPropertyDescriptor(a.Element.prototype,"shadowRoot").get;return i.default.isDOMNode(e)?"IFRAME"===e.tagName&&(0,o.isxdoc)(e)?e.__vdom?[e.__vdom.document]:[]:"IFRAME"!==e.tagName||(0,o.isxdoc)(e)?e.nodeType===window.Node.ELEMENT_NODE&&n.apply(e)?[n.apply(e)].concat((t=Array.from(r.apply(e)),function(e){if(Array.isArray(e))return c(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).filter((function(e){return!u.isIgnored(e)})):Array.from(r.apply(e)).filter((function(e){return!u.isIgnored(e)})):"complete"!==e.contentWindow.document.readyState?[]:[e.contentWindow.document].filter((function(e){return!u.isIgnored(e)})):e.childNodes})),l(this,"depthFirst",(function(e,t){return(0,o.depthFirst)(e,(function(e,r){return r(u.children(e)),t(e,r)}))}))}var t,r;return t=e,(r=[{key:"setIgnoredViews",value:function(e){if(Array.isArray(e))return t=this,r=v,n=".__cbio_ignored,".concat(e),function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(t,p(t,r,"set"),n),void h("set ignored view selectors",d(this,v));var t,r,n;h("not updating #ignoredViews due to arg to being an array",e)}}])&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());t.default=y},5667:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}r(5547),r(1624),r(2047),r(8534),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9244),r(2593),r(444),r(1076),r(1e3),r(5538);var u=new(i((function e(){var t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,n=function(e){return!!e&&!(!e.childNodes||"function"!=typeof e.appendChild||void 0===e.nodeType)},(r=a(r="isDOMNode"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n})));t.default=u},7743:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NodeSerializer",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"NodeTracker",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"NodeTree",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"NodeUtils",{enumerable:!0,get:function(){return o.default}});var n=u(r(9770)),o=u(r(5667)),i=u(r(3677)),a=u(r(1930));function u(e){return e&&e.__esModule?e:{default:e}}},9600:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(9244),r(2593),r(444),r(1076),r(5538),r(5547),Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GLOBAL_OPEN_PDF_KEY=void 0,r(1624),r(1e3),r(2047),r(8534),r(6955),r(8927),r(1157);var o,i=(o=r(7368))&&o.__esModule?o:{default:o},a=r(393);function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}function f(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function d(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,h(e,t,"get"))}function p(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,h(e,t,"set"),r),r}function h(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var v="__cobrowse_io_openPdf";t.GLOBAL_OPEN_PDF_KEY=v;var y=new WeakMap,m=new WeakMap,b=c((function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,y,{writable:!0,value:void 0}),f(this,m,{writable:!0,value:void 0}),s(this,"createUrlRewriter",(function(e){var t=e[i.default].proxyToken(),r=e[i.default].proxyUrl(),o=new URL(r,d(n,m).api);return new a.URLRewriter(o,a.PROXY_PREFIX.UNIVERSAL,t,window.location)})),s(this,"openPDFLink",(function(e){var t,r=window[v];"function"!=typeof r?console.warn("CobrowseIO: No PDF Viewer included"):t=r(e,{onLoadError:function(r){var o=n.createUrlRewriter(d(n,y)).proxify(e);r!==o&&(console.warn("CobrowseIO: Failed to fetch PDF document, attempting to proxy it"),t(o))}}).setPdfUrl})),p(this,y,t),p(this,m,r)}));t.default=b},4750:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(1624),r(1e3),r(2047),r(1157),r(8534),r(5226),r(444),r(1076),r(5547),Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GLOBAL_OPEN_PDF_KEY",{enumerable:!0,get:function(){return o.GLOBAL_OPEN_PDF_KEY}}),Object.defineProperty(t,"PDFViewer",{enumerable:!0,get:function(){return o.default}});var o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var c=a?Object.getOwnPropertyDescriptor(e,u):null;c&&(c.get||c.set)?Object.defineProperty(o,u,c):o[u]=e[u]}return o.default=e,r&&r.set(e,o),o}(r(9600));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}},9624:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(9244),r(2593),r(444),r(1076),r(5538),r(5128),r(4011),r(5226),r(3275),r(9270),r(5547),Object.defineProperty(t,"__esModule",{value:!0}),t.URLRewriter=void 0,r(4182),r(3114),r(3524),r(4354),r(9344),r(1e3),r(7285),r(1624),r(2047),r(8534),r(6955),r(8927),r(1157);var o=r(8966),i=r(3976);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}function f(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function d(e,t){var r=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,r)}var p=new WeakMap,h=new WeakMap,v=new WeakMap,y=c((function e(t,r,n,u,c){var l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,p,{writable:!0,value:function(e){return"about:blank"===e||!!e.startsWith("data:")||!!e.startsWith("javascript:")||!!e.startsWith("#")}}),f(this,h,{writable:!0,value:function(e){return e.hostname===l.proxyApiUrl.hostname}}),f(this,v,{writable:!0,value:function(e){return"".concat(e.pathname).concat(e.search).concat(e.hash).replace(/^.*?\/proxy\/1\/[^/]+/i,"")}}),s(this,"proxify",(function(e){if(!e)return e;if(d(l,p).call(l,e.toString()))return e;try{var t=new URL(e,l.baseUrl),r=d(l,h).call(l,t)?l.unproxify(t.toString()):t.toString(),n=(0,i.proxifyUrl)(r,l.queryParams);return new URL(".".concat(n),l.proxyApiUrl).toString()}catch(t){return e}})),s(this,"unproxify",(function(e){if(!e)return e;if(d(l,p).call(l,e.toString()))return e;try{var t=new URL(e,l.baseUrl);if(!d(l,h).call(l,t))return e;var r=d(l,v).call(l,t);return(0,o.unproxifyPath)(r).toString()}catch(t){return e}})),this.proxyApiUrl=new URL(r,t),this.queryParams=c?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},c):{},n&&(this.queryParams.access_token=n),this.baseUrl=u}));t.URLRewriter=y},393:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PROXY_PREFIX",{enumerable:!0,get:function(){return o.PROXY_PREFIX}}),Object.defineProperty(t,"URLRewriter",{enumerable:!0,get:function(){return n.URLRewriter}});var n=r(9624),o=r(7721)},3976:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r(444),r(1076),r(5547),r(6257),r(6941),r(6486),Object.defineProperty(t,"__esModule",{value:!0}),t.reverseHost=t.proxifyUrl=void 0,r(887),r(3133),r(1624),r(1e3),r(2047),r(8534),r(6955),r(8927),r(3524),r(4354),r(3114),r(9344),r(1865);var o=function(e){return e.split(".").reverse().map(encodeURIComponent).join("/")};t.reverseHost=o,t.proxifyUrl=function(e,t){var r,i,a=new URL(e),u=a.hostname,c=a.protocol,s=a.pathname,l=a.search,f=a.port,d=a.username,p=a.password,h=a.hash,v=o(u),y="".concat(v,"/").concat(c).concat(s).concat(h),m=new URL(y,"http://placeholder.base");l&&m.searchParams.set("search",l.replace("?","")),f&&m.searchParams.set("port",f),d&&m.searchParams.set("username",d),p&&m.searchParams.set("password",p);for(var b=0,w=Object.entries(t||{});b<w.length;b++){var g=(r=w[b],i=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(r,i)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),E=g[0],_=g[1];m.searchParams.set(E,_)}return"".concat(m.pathname).concat(m.search).concat(m.hash)}},7721:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROXY_PREFIX=void 0,t.PROXY_PREFIX={UNIVERSAL:"./proxy/1/universal/"}},8966:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unproxifyPath=void 0,r(1624),r(1e3),r(2047),r(8534),r(6955),r(8927),r(3015),r(3133),r(6257),r(887),r(3114),t.unproxifyPath=function(e){var t=new URL(e,"http://placeholder.base"),r=t.pathname,n=t.hash,o=t.searchParams,i=r.split("/"),a=i.findIndex((function(e){return"http:"===e||"https:"===e})),u=i[a],c=i.slice(1,a).reverse().map(decodeURIComponent),s=i.slice(a+1,i.length),l=o.get("search"),f=o.get("port"),d=o.get("username"),p=o.get("password"),h=c.join("."),v=s.join("/"),y=l?"?".concat(l):"",m=f?":".concat(f):"",b=d&&p?"".concat(d,":").concat(p,"@"):"";return new URL("".concat(u,"//").concat(b).concat(h).concat(m,"/").concat(v).concat(y).concat(n))}},981:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(9244),r(2593),r(444),r(1076),r(5538),r(5547),r(6486),r(6257),r(6941),r(3524),r(8496),r(4802),r(2112),r(6353),r(3064),r(3275),Object.defineProperty(t,"__esModule",{value:!0}),t.RedactionIndex=void 0,r(1624),r(1e3),r(8719),r(2047),r(8534),r(3114),r(1157),r(9280),r(6706),r(5793),r(1861),r(5226),r(887),r(4011);var o,i=(o=r(3677))&&o.__esModule?o:{default:o},a=r(1514),u=r(4039),c=r(7743);function s(){s=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),u=new P(n||[]);return o(a,"_invoke",{value:S(e,r,u)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var p={};function h(){}function v(){}function y(){}var m={};l(m,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(k([])));w&&w!==t&&r.call(w,a)&&(m=w);var g=y.prototype=h.prototype=Object.create(m);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(o,a,u,c){var s=d(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,u,c)}),(function(e){i("throw",e,u,c)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=O(a,r);if(u){if(u===p)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=d(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=d(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return v.prototype=y,o(g,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(_.prototype),l(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(g),l(g,c,"Generator"),l(g,a,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}var l=s().mark(J);function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=p(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function d(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}function y(e,t){b(e,t),t.add(e)}function m(e,t,r){b(e,t),t.set(e,r)}function b(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function w(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,_(e,t,"get"))}function g(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function E(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,_(e,t,"set"),r),r}function _(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var S=new WeakMap,O=new WeakMap,T=new WeakMap,j=new WeakMap,P=new WeakMap,k=new WeakMap,x=new WeakSet,I=new WeakSet,L=new WeakSet,C=new WeakSet,N=new WeakSet,R=new WeakSet,M=new WeakSet,D=new WeakSet,A=new WeakSet,U=new WeakSet,F=new WeakSet,W=new WeakSet,z=new WeakSet,V=new WeakSet,Y=new WeakSet,B=new WeakSet,G=new WeakSet,q=function(){function e(){var t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).document,u=void 0===a?window.document:a;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),y(this,G),y(this,B),y(this,Y),y(this,V),y(this,z),y(this,W),y(this,F),y(this,U),y(this,A),y(this,D),y(this,M),y(this,R),y(this,N),y(this,C),y(this,L),y(this,I),y(this,x),m(this,S,{writable:!0,value:void 0}),m(this,O,{writable:!0,value:void 0}),m(this,T,{writable:!0,value:void 0}),m(this,j,{writable:!0,value:["OBJECT","EMBED"]}),m(this,P,{writable:!0,value:new Set}),m(this,k,{writable:!0,value:new Set}),E(this,S,(t=g(this,G,se)).call.apply(t,[this].concat(d(w(this,j)),d(n),d(i)))),E(this,T,i),o.length>0&&E(this,O,(r=g(this,G,se)).call.apply(r,[this].concat(d(o))));var c,s=f(g(this,Y,ue).call(this,u,w(this,S)));try{for(s.s();!(c=s.n()).done;){var l=c.value;w(this,k).add(l)}}catch(e){s.e(e)}finally{s.f()}var p,h=f(g(this,Y,ue).call(this,u,w(this,O)));try{for(h.s();!(p=h.n()).done;){var v=p.value;w(this,P).add(v)}}catch(e){h.e(e)}finally{h.f()}}var t,r;return t=e,(r=[{key:"getRedactedBy",value:function(e){var t=g(this,R,Z).call(this,e);if(t)return t;if(g(this,U,re).call(this,e)||g(this,z,ie).call(this,e))return null;var r=g(this,F,ne).call(this,e);return r?g(this,z,ie).call(this,e.parentNode)?e:r:g(this,A,te).call(this,e)?e:null}},{key:"notifyChanges",value:function(e,t,r,n){var o,a=new Set,u=new Set,c=new Set(d(w(this,k))),s=f(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;if(!i.default.isIgnored(l.target)&&!n.has(l.target)){var p=this.getRedactedBy(l.target);if(p&&p!==l.target&&a.add(p),"attributes"===l.type){var h,v=f(g(this,V,ae).call(this,l.target));try{for(v.s();!(h=v.n()).done;){var y=h.value;u.add(y)}}catch(e){v.e(e)}finally{v.f()}var m=g(this,U,re).call(this,l.target);w(this,P).has(l.target)!==!!m&&u.add(l.target.parentNode)}else if("childList"===l.type){var b=g(this,x,Q).call(this,l.removedNodes),E=g(this,x,Q).call(this,l.addedNodes);if(!u.has(l.target)){var _=g(this,V,ae).call(this,l.target).length>0;(_&&E||!_&&b)&&u.add(l.target)}}}}}catch(e){s.e(e)}finally{s.f()}var S,O=f(g(this,D,ee).call(this,u));try{for(O.s();!(S=O.n()).done;){var T=S.value;i.default.isIgnored(T)||a.add(T)}}catch(e){O.e(e)}finally{O.f()}g(this,I,H).call(this,t,new Set([].concat(d(a),d(r))),n);var j,L=f(r);try{for(L.s();!(j=L.n()).done;){var C,N=j.value,R=f(w(this,k));try{for(R.s();!(C=R.n()).done;){var M=C.value;N.contains(M)&&a.add(M)}}catch(e){R.e(e)}finally{R.f()}}}catch(e){L.e(e)}finally{L.f()}var A,F=f(c);try{for(F.s();!(A=F.n()).done;){var W=A.value;w(this,k).has(W)||n.has(W)||i.default.depthFirst(W,(function(e){a.add(e)}))}}catch(e){F.e(e)}finally{F.f()}return a}},{key:"isRedacted",value:function(e){return Boolean(this.getRedactedBy(e))}}])&&v(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Q(e){var t=this,r=d(e);return r.find((function(e){return!i.default.isIgnored(e)&&g(t,U,re).call(t,e)}))||r.find((function(e){return g(t,V,ae).call(t,e).length>0}))}function H(e,t,r){g(this,L,X).call(this,e,t,r),g(this,C,K).call(this,t,r)}function X(e,t,r){var n,o=f(g(this,N,J).call(this,r));try{for(o.s();!(n=o.n()).done;){var i=n.value;w(this,P).delete(i)}}catch(e){o.e(e)}finally{o.f()}var a,u=f(g(this,N,J).call(this,e));try{for(u.s();!(a=u.n()).done;){var c=a.value;w(this,P).add(c)}}catch(e){u.e(e)}finally{u.f()}var s,l=f(t);try{for(l.s();!(s=l.n()).done;){var d=s.value;e.has(d)||(g(this,U,re).call(this,d)?w(this,P).add(d):w(this,P).delete(d))}}catch(e){l.e(e)}finally{l.f()}}function K(e,t){var r,n=f(t);try{for(n.s();!(r=n.n()).done;){var o=r.value;w(this,k).delete(o)}}catch(e){n.e(e)}finally{n.f()}var i,a=f(e);try{for(a.s();!(i=a.n()).done;){var u=i.value;g(this,M,$).call(this,u)}}catch(e){a.e(e)}finally{a.f()}}function J(e){var t,r,n;return s().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:t=f(e),o.prev=1,t.s();case 3:if((r=t.n()).done){o.next=10;break}if(n=r.value,!g(this,U,re).call(this,n)){o.next=8;break}return o.next=8,n;case 8:o.next=3;break;case 10:o.next=15;break;case 12:o.prev=12,o.t0=o.catch(1),t.e(o.t0);case 15:return o.prev=15,t.f(),o.finish(15);case 18:case"end":return o.stop()}}),l,this,[[1,12,15,18]])}function Z(e){var t=this,r=[].concat(d(w(this,T)),d(w(this,j)));return g(this,B,ce).call(this,e,r)?e:d((0,a.parents)(e)).find((function(e){return g(t,B,ce).call(t,e,r)}))}function $(e){var t=w(this,k).has(e);t&&this.getRedactedBy(e)!==e?w(this,k).delete(e):t||this.getRedactedBy(e)!==e||w(this,k).add(e)}function ee(e){var t=new Set(d(e).flatMap((function(e){return[e].concat(d((0,a.parents)(e)))})));return d(t).flatMap((function(e){return d(e.childNodes||[])}))}function te(e){return g(this,B,ce).call(this,e,w(this,S))}function re(e){return g(this,B,ce).call(this,e,w(this,O))}function ne(e){var t=this,r=g(this,W,oe).call(this,e);return r?(0,a.parents)(e,r).find((function(e){return g(t,z,ie).call(t,e.parentNode)}))||r:null}function oe(e){if(!c.NodeUtils.isDOMNode(e))return null;var t=Object.getOwnPropertyDescriptor(u.Node.prototype,"parentNode").get,r=g(this,G,se).call(this),n=e&&e.nodeType===u.Node.ELEMENT_NODE&&t.call(e),o=n&&n.nodeType===u.Node.ELEMENT_NODE&&r&&n.closest(r);return g(this,B,ce).call(this,o,w(this,S))?o:null}function ie(e){return w(this,O)&&e&&"HTML"!==e.tagName&&e.querySelector&&e.querySelector(w(this,O))}function ae(e){return g(this,Y,ue).call(this,e,w(this,O))}function ue(e,t){return t&&e.querySelectorAll?e.querySelectorAll(t):[]}function ce(e,t){return e&&t&&e.matches&&e.matches(t)}function se(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0===t.length?[w(this,S),w(this,O)]:t).filter((function(e){return e})).join(",")}t.RedactionIndex=q},1877:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o;function i(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}function a(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}r(9244),r(2593),r(444),r(1076),r(5538),r(5547),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(1624),r(1e3),r(2047),r(1157),r(8534);var u=(0,((o=r(9796))&&o.__esModule?o:{default:o}).default)("cbio.RedactionIndexProvider"),c=new WeakMap,s=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}(this,c,{writable:!0,value:void 0})}var t,r;return t=e,(r=[{key:"instance",get:function(){return function(e,t){return t.get?t.get.call(e):t.value}(this,a(this,c,"get"))},set:function(e){var t,r;r=e,function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(t=this,a(t,c,"set"),r),u("set new redaction index")}}])&&i(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());t.default=s},8187:function(e,t,r){"use strict";r(9244),r(2593),r(444),r(1076),r(5538),r(5547),r(6257),r(6941),r(6486),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9450),r(6121),r(4011),r(1e3),r(3133),r(1865),r(3524),r(1624),r(8719),r(2047),r(8534),r(1896),r(1157);var n,o=(n=r(8340))&&n.__esModule?n:{default:n};function i(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===s(t)?t:String(t)}function h(e,t){var r=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,r)}var v=new WeakMap,y=new(f((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"getRedactionUrl",(function(){return window.location.href})),function(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}(this,v,{writable:!0,value:function(e,t){if(!e)return e;var r=e.map((function(e){return"string"==typeof e?e:"object"===s(e)?Object.entries(e).filter((function(e){var r=a(e,1)[0];return(0,o.default)(r,{flags:"i"}).test(t)})).map((function(e){var t=a(e,2);return t[0],t[1]})):null})).filter(Boolean).flat(2);return i(new Set(r))}}),d(this,"filterSelectors",(function(e){var r=t.getRedactionUrl();return h(t,v).call(t,e,r)})),d(this,"hasChange",(function(e,r){if(!e)return!1;if(!r)return!0;var n=h(t,v).call(t,e,r),o=h(t,v).call(t,e,t.getRedactionUrl());if(n.length!==o.length)return!0;var a=i(n).sort(),u=i(o).sort();return!a.every((function(e,t){return e===u[t]}))}))})));t.default=y},8541:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedactionIndex",{enumerable:!0,get:function(){return n.RedactionIndex}}),Object.defineProperty(t,"RedactionIndexProvider",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"TargetedRedaction",{enumerable:!0,get:function(){return i.default}});var n=r(981),o=a(r(1877)),i=a(r(8187));function a(e){return e&&e.__esModule?e:{default:e}}},2585:function(e,t,r){"use strict";r(5547),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(5226),r(3600),r(6770),r(1e3),r(3275),r(1624),r(8719),r(2047),r(8534),r(9244),r(2593),r(444),r(1076),r(5538),r(2449);var n=a(r(1320)),o=r(7743),i=r(8541);function a(e){return e&&e.__esModule?e:{default:e}}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function s(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===u(t)?t:String(t)}var d=(0,a(r(9796)).default)("cbio.ControlEvents"),p=new(s((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"_applyScroll",(function(e,t){var r=e.defaultView||e;r.scrollTo?r.scrollTo(t.x,t.y):(r.scrollTop=t.y,r.scrollLeft=t.x)})),l(this,"_updateCheckbox",(function(e,t){var r=t.checked;if(void 0!==r&&"INPUT"===e.tagName&&void 0!==e.checked){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,"checked");n&&n.set.call(e,r)}})),l(this,"_updateInnerHTML",(function(e,t){var r=t.innerHTML;void 0!==r&&(e.innerHTML=n.default.sanitize(r))})),l(this,"_updateValue",(function(e,t){var r=t.value;if(void 0!==r){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value");n&&n.set.call(e,r)}"TEXTAREA"===e.tagName&&o.NodeTracker.track(e.childNodes[0])})),l(this,"_updateTarget",(function(e,r){t._updateValue(e,r.target),t._updateCheckbox(e,r.target),t._updateInnerHTML(e,r.target)})),l(this,"_generateMouse",(function(e,t){return new MouseEvent(t.state,{clientX:t.x*window.innerWidth,clientY:t.y*window.innerHeight,bubbles:!0,cancelable:!0,composed:!0,view:e.ownerDocument&&e.ownerDocument.defaultView||window})})),l(this,"_generatePointer",(function(e,t){return new PointerEvent(t.state,{clientX:t.x*window.innerWidth,clientY:t.y*window.innerHeight,pointerId:t.pointerId,width:t.width,height:t.height,pressure:t.pressure,tangentialPressure:t.tangentialPressure,tiltX:t.tiltX,tiltY:t.tiltY,twist:t.twist,pointerType:t.pointerType,isPrimary:t.isPrimary,bubbles:!0,cancelable:!0,composed:!0,view:e.ownerDocument&&e.ownerDocument.defaultView||window})})),l(this,"_generateKeypress",(function(e,t){return new KeyboardEvent(t.state,{key:t.key,code:t.code,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey,charCode:t.charCode,keyCode:t.keyCode,which:t.which,bubbles:!0,cancelable:!0,composed:!0,view:e.ownerDocument&&e.ownerDocument.defaultView||window})})),l(this,"_generateFocus",(function(e,t){return new FocusEvent(t.state,{bubbles:["focusin","focusout"].includes(t.state),cancelable:!1,composed:!0,view:e.ownerDocument&&e.ownerDocument.defaultView||window})})),l(this,"_generateChange",(function(e,t){return new CustomEvent(t.state,{bubbles:!0,cancelable:!1,composed:!0,view:e.ownerDocument&&e.ownerDocument.defaultView||window})})),l(this,"_generateInput",(function(e,t){return new CustomEvent(t.state,{bubbles:!0,cancelable:!1,composed:!0,view:e.ownerDocument&&e.ownerDocument.defaultView||window,inputType:t.inputType,data:t.data})})),l(this,"_generateSelection",(function(e,t){return new CustomEvent("selection",{bubbles:!0,cancelable:!1,composed:!0,view:e.ownerDocument&&e.ownerDocument.defaultView||window,selection:t.selection})})),l(this,"_generateEvent",(function(e,r,n){switch(n.state.includes("move")&&d("generate",n,"on",r),e){case"keypress":return t._generateKeypress(r,n);case"mouse":return t._generateMouse(r,n);case"pointer":return t._generatePointer(r,n);case"change":return t._generateChange(r,n);case"input":return t._generateInput(r,n);case"focus":return t._generateFocus(r,n);case"select":return t._generateSelection(r,n);default:return console.warn("CobrowseIO: unknown event type",e,n),null}})),l(this,"_setSelection",(function(e,t){var r=t.selection;if(!(e.__cobrowse_user_selection_timestamp>Date.now()-100)&&e.getSelection())try{r?(e.__last_agent_selection_ts=Date.now(),e.getSelection().removeAllRanges(),r.forEach((function(t){var r=t.start,n=t.startOffset,i=t.end,a=t.endOffset,u=document.createRange(),c=o.NodeTracker.getById(r),s=o.NodeTracker.getById(i);u.setStart(c,n),u.setEnd(s,a),e.getSelection().addRange(u)}))):e.getSelection().removeAllRanges()}catch(e){console.warn("Failed to apply selection",r,e)}})),l(this,"_setInputSelection",(function(e,t){var r=t.selection;if(!(e.ownerDocument.__cobrowse_user_selection_timestamp>Date.now()-100)&&["text","textarea","search","url"].includes(e.type))try{if(e.ownerDocument.__last_agent_selection_ts=Date.now(),r){var n=r.start,o=r.end,i=r.direction;e.focus(),e.setSelectionRange(n,o,i)}else e.getRootNode({composed:!0}).activeElement===e&&e.setSelectionRange(null,null)}catch(e){console.warn("Failed to select text",e)}})),l(this,"applyEvent",(function(e,r){var n;if(!r.target)return null;var a=o.NodeTracker.getById(r.target.id);if(!a)return null;if(null!==(n=i.RedactionIndexProvider.instance)&&void 0!==n&&n.isRedacted(a))return null;try{var u;if("scroll"===e)return t._applyScroll(a,r);if(null!==(u=a._cobrowse_suppress_events)&&void 0!==u&&u.has(r.state))return a._cobrowse_suppress_events.delete(r.state),0===a._cobrowse_suppress_events.size&&delete a._cobrowse_suppress_events.size,null;var c=t._generateEvent(e,a,r);return c&&(a.dispatchEvent(c)?(["keydown","keypress","input"].includes(r.state)&&t._updateTarget(a,r),["selectionchange"].includes(r.state)&&t._setSelection(a,r),["select"].includes(r.state)&&t._setInputSelection(a,r)):"keydown"===r.state?a._cobrowse_suppress_events=new Set(["keypress","input"]):"keypress"===r.state&&(a._cobrowse_suppress_events=new Set(["input"]))),c}catch(t){return console.warn("Error while injecting event",e,t),null}}))})));t.default=p},1362:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ControlEvents",{enumerable:!0,get:function(){return o.default}});var n,o=(n=r(2585))&&n.__esModule?n:{default:n}},7454:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o;function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}r(1e3),r(9616),r(9244),r(2593),r(444),r(1076),r(5538),r(5547),r(1624),r(2047),r(8534),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(6941),r(3064);var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(c,e);var t,r,o,u=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=a(r);if(o){var i=a(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=u.call(this,t,r)).id=e,n.name="APIError",n}return t=c,Object.defineProperty(t,"prototype",{writable:!1}),t}(((o=r(9822))&&o.__esModule?o:{default:o}).default);t.default=u},9822:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e){var t="function"==typeof Map?new Map:void 0;return o=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return i(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)},o(e)}function i(e,t,r){return i=a()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&u(o,r.prototype),o},i.apply(null,arguments)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}r(1e3),r(7285),r(9616),r(1624),r(4391),r(2047),r(8534),r(9244),r(2593),r(444),r(1076),r(5538),r(5547),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(6941),r(3064);var s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(s,e);var t,r,o,i=(r=s,o=a(),function(){var e,t=c(r);if(o){var i=c(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,t)).status=e,r.name="HTTPError",r}return t=s,Object.defineProperty(t,"prototype",{writable:!1}),t}(o(Error));t.default=s},5388:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(3064),r(9616),r(9244),r(2593),r(444),r(1076),r(5538),r(5547),r(8496),r(4802),r(2112),r(6353),r(3275),r(6941),r(6257),r(4011),r(5226),r(9270),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(3114),r(1e3),r(7285),r(5128),r(1624),r(2047),r(1157),r(8534);var o=r(1239),i=c(r(1347)),a=c(r(113)),u=c(r(7454));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(){d=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),u=new P(n||[]);return o(a,"_invoke",{value:S(e,r,u)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function h(){}function v(){}function y(){}var m={};s(m,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(k([])));w&&w!==t&&r.call(w,a)&&(m=w);var g=y.prototype=h.prototype=Object.create(m);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(o,a,u,c){var s=f(e[o],e,a);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==n(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,u,c)}),(function(e){i("throw",e,u,c)})):t.resolve(d).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=O(a,r);if(u){if(u===p)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=f(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return v.prototype=y,o(g,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=s(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(_.prototype),s(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(g),s(g,c,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function p(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){p(i,n,o,a,u,"next",e)}function u(e){p(i,n,o,a,u,"throw",e)}a(void 0)}))}}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function y(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function g(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function E(e,t,r){return S(e,t),_(r,"get"),k(e,r)}function _(e,t){if(void 0===e)throw new TypeError("attempted to "+t+" private static field before its declaration")}function S(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}function O(e,t,r){return T(e,P(e,t,"set"),r),r}function T(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}function j(e,t){return k(e,P(e,t,"get"))}function P(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function k(e,t){return t.get?t.get.call(e):t.value}var x=new WeakMap,I=new WeakMap,L=new WeakMap,C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(P,e);var t,r,o,c,s,f,p,y=(f=P,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(f);if(p){var r=w(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}(this,e)});function P(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,P);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return g(b(e=y.call.apply(y,[this].concat(n))),x,{writable:!0,value:{}}),g(b(e),I,{writable:!0,value:{}}),g(b(e),L,{writable:!0,value:(t=h(d().mark((function e(t){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.status>=400)){e.next=5;break}return e.next=3,t.json();case 3:throw r=e.sent,new u.default(r.id,t.status,r.message);case 5:if(t.ok){e.next=7;break}throw new Error("Failed to parse response, response not ok");case 7:if(204!==t.status){e.next=9;break}return e.abrupt("return",null);case 9:return e.next=11,t.json();case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}),e}return t=P,r=[{key:"_resource",get:function(){return console.warn("The _resource property is private and should not be accessed directly. It will soon be removed entirely. Please update your implementation to use only the public APIs."),j(this,I)}},{key:"resource",get:function(){return j(this,I)}},{key:"url",value:function(){throw new Error("url() must be implemented")}},{key:"id",value:function(){return this.field("id")}},{key:"field",value:function(e){return(j(this,I)||{})[e]}},{key:"cache",value:function(e){O(this,I,l(l({},j(this,I)),e))}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(h(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.url(),{headers:this.headers()});case 2:return t=e.sent,e.t0=this,e.next=6,j(this,L).call(this,t);case 6:return e.t1=e.sent,e.abrupt("return",e.t0.updateResource.call(e.t0,e.t1));case 8:case"end":return e.stop()}}),e,this)}))))},{key:"update",value:(s=h(d().mark((function e(t){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&Object.keys(t)&&(0,i.default)(j(this,I),t,a.default))){e.next=2;break}return e.abrupt("return",this);case 2:return e.next=4,fetch(this.url(),{method:this.id()?"PUT":"POST",headers:this.headers(),body:JSON.stringify(t)});case 4:return r=e.sent,e.t0=this,e.next=8,j(this,L).call(this,r);case 8:return e.t1=e.sent,e.abrupt("return",e.t0.updateResource.call(e.t0,e.t1));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"destroy",value:(c=h(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.url(),{method:"DELETE",headers:this.headers()});case 2:return t=e.sent,e.t0=this,e.next=6,j(this,L).call(this,t);case 6:return e.t1=e.sent,e.abrupt("return",e.t0.updateResource.call(e.t0,e.t1));case 8:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"updateResource",value:function(e){return O(this,I,e||{}),this.emit("updated",this),this}},{key:"headers",value:function(){return l(l({},P.headers()),j(this,x))}},{key:"setHeader",value:function(e,t){j(this,x)[e]=t}},{key:"getHeader",value:function(e){return this.headers()[e]}}],o=[{key:"headers",value:function(){return E(this,P,N)}},{key:"setHeader",value:function(e,t){E(P,P,N)[e]=t}},{key:"getHeader",value:function(e){return E(P,P,N)[e]}},{key:"api",get:function(){return E(P,P,R)},set:function(e){var t,r,n;r=R,n=e,S(t=P,P),_(r,"set"),T(t,r,n)}}],r&&v(t.prototype,r),o&&v(t,o),Object.defineProperty(t,"prototype",{writable:!1}),P}(o.EventEmitter);t.default=C;var N={writable:!0,value:{}},R={writable:!0,value:void 0}},8302:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RESTResource",{enumerable:!0,get:function(){return o.default}});var n,o=(n=r(5388))&&n.__esModule?n:{default:n}},4914:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(9244),r(2593),r(444),r(1076),r(5538),r(3064),r(1112),r(5226),r(9616),r(5128),r(3275),r(9270),r(5547),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(1e3),r(3114),r(887),r(6257),r(4011),r(3600),r(6770),r(7285),r(1624),r(2047),r(8534),r(6955),r(8927),r(1157);var o=r(5828),i=r(7368),a=s(r(1826)),u=r(8302),c=r(5161);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},v.apply(this,arguments)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function m(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}function w(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function g(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,_(e,t,"get"))}function E(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,_(e,t,"set"),r),r}function _(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var S=(0,s(r(9796)).default)("cbio.Session"),O=new WeakMap,T=new WeakMap,j=new WeakMap,P=new WeakMap,k=new WeakMap,x=new WeakMap,I=new WeakMap,L=new WeakMap,C=new WeakMap,N=new WeakMap,R=new WeakMap,M=new WeakMap,D=new WeakMap,A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(b,e);var t,r,u,s,l=(u=b,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(u);if(s){var r=y(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(this,e)});function b(e){var t,r,n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),w(h(n=l.call(this)),O,{writable:!0,value:void 0}),w(h(n),T,{writable:!0,value:void 0}),w(h(n),j,{writable:!0,value:{}}),w(h(n),P,{writable:!0,value:function(e){n.setHeader("X-CobrowseDeviceToken",e)}}),w(h(n),k,{writable:!0,value:function(){return n.getHeader("X-CobrowseDeviceToken")}}),m(h(n),"activate",(function(){return S("activate session"),n.update({state:"active",device:c.Device.info,custom_data:g(h(n),O).customData})})),m(h(n),"end",(function(){return S("end session"),n.update({state:"ended"})})),m(h(n),"code",(function(){return n.field("code")})),m(h(n),"state",(function(){return n.field("state")})),m(h(n),"isActive",(function(){return"active"===n.state()})),m(h(n),"isAuthorizing",(function(){return"authorizing"===n.state()})),m(h(n),"isPending",(function(){return"pending"===n.state()})),m(h(n),"isEnded",(function(){return"ended"===n.state()})),m(h(n),"selectors",(function(){var e=n.field("redaction_selectors");return Array.isArray(e)?e:[]})),m(h(n),"agent",(function(){return n.field("agent")||!1})),m(h(n),"requireConsent",(function(){return n.field("require_consent")})),m(h(n),"fullDevice",(function(){return!0===n.field("full_device")||"on"===n.field("full_device")||"requested"===n.field("full_device")})),m(h(n),"setFullDevice",(function(e){return g(h(n),T).toggle(["laser","drawing","pointer","scroll","select","keypress","cursor"],"on"!==e),n.update({full_device:e})})),m(h(n),"update",(function(e){return v((t=h(n),y(b.prototype)),"update",t).call(t,f({capabilities:g(h(n),T).toArray()},e))})),m(h(n),"scale",(function(){return n.field("scale")||.5})),m(h(n),"remoteControl",(function(){return n.field("remote_control")||"on"})),m(h(n),"setRemoteControl",(function(e){return n.update({remote_control:e})})),m(h(n),"allowRemoteControl",(function(){return"on"===n.remoteControl()})),m(h(n),"updateResource",(function(e){var t=n.isEnded();return v((r=h(n),y(b.prototype)),"updateResource",r).call(r,e),n.isEnded()&&!t&&(n.emit("ended",h(n)),n.removeAllListeners()),h(n)})),w(h(n),x,{writable:!0,value:(0,i.protect)(h(n),"setMetrics",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};E(h(n),j,f(f({},g(h(n),j)),e))}))}),w(h(n),I,{writable:!0,value:(0,i.protect)(h(n),"serialize",(function(){return f(f({},n.resource),{},{_locals:{token:g(h(n),k).call(h(n))}})}))}),w(h(n),L,{writable:!0,value:(0,i.protect)(h(n),"serializeSanitized",(function(){return{state:n.resource.state,redaction_selectors:n.resource.redaction_selectors}}))}),w(h(n),C,{writable:!0,value:(0,i.protect)(h(n),"deserialize",(function(e){var t=e._locals||{};return delete e._locals,g(h(n),P).call(h(n),t.token),n.updateResource(e),h(n)}))}),w(h(n),N,{writable:!0,value:(0,i.protect)(h(n),"compress",(function(){return"".concat(n.resource.id,":").concat(g(h(n),k).call(h(n)))}))}),w(h(n),R,{writable:!0,value:(0,i.protect)(h(n),"decompress",(function(e){var t=e.split(":");return g(h(n),C).call(h(n),{_locals:{token:t[t.length-1]},id:t.slice(0,-1).join(":")}),h(n)}))}),w(h(n),M,{writable:!0,value:(0,i.protect)(h(n),"proxyToken",(function(){return n.field("proxy_token")}))}),w(h(n),D,{writable:!0,value:(0,i.protect)(h(n),"proxyUrl",(function(){return n.field("proxy_url")}))}),!e)throw new Error("Session delegate is required");E(h(n),O,e),E(h(n),T,new a.default(e.capabilities));var u=Math.ceil(Date.now()/36e5);return g(h(n),P).call(h(n),(0,o.v5)(u+"",c.Device.deviceToken())),n}return t=b,(r=[{key:"capabilities",get:function(){var e=this.field("capabilities");return null==e?g(this,T).toArray():g(this,T).toArray().filter((function(t){return null==e?void 0:e.includes(t)}))}},{key:"url",value:function(){var e=this.id()||this.code();return new URL("api/1/sessions".concat(e?"/".concat(e):""),b.api).toString()}},{key:"metrics",get:function(){return g(this,j)}}])&&d(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),b}(u.RESTResource);t.default=A},1826:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}function i(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,a(e,t,"get"))}function a(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}r(9244),r(2593),r(444),r(1076),r(5538),r(5547),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(5220),r(1e3),r(4011),r(5128),r(3275),r(1624),r(2047),r(1157),r(8534);var u=new WeakMap,c=function(){function e(t){var r,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o={writable:!0,value:{}},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r=this,n=u),n.set(r,o),this.fill(t)}var t,r;return t=e,(r=[{key:"fill",value:function(e){return t=this,r=u,n=e.reduce((function(e,t){return e[t]=!0,e}),{}),function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(t,a(t,r,"set"),n),this;var t,r,n}},{key:"all",value:function(){return i(this,u)}},{key:"toArray",value:function(){var e=this;return Object.keys(i(this,u)).filter((function(t){return i(e,u)[t]}))}},{key:"toggle",value:function(e,t){var r=this;return Array.isArray(e)||(e=[e]),e.filter((function(e){return e in i(r,u)})).forEach((function(e){i(r,u)[e]=t})),this}}])&&o(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=c},3403:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SESSION_CAPABILITY_UNIVERSAL=t.SESSION_CAPABILITY_TYPE_SELECT=t.SESSION_CAPABILITY_TYPE_SCROLL=t.SESSION_CAPABILITY_TYPE_POINTER=t.SESSION_CAPABILITY_TYPE_LASER=t.SESSION_CAPABILITY_TYPE_KEYPRESS=t.SESSION_CAPABILITY_TYPE_FULL_DEVICE=t.SESSION_CAPABILITY_TYPE_DRAWING=t.SESSION_CAPABILITY_TYPE_CURSOR=void 0;var r="pointer";t.SESSION_CAPABILITY_TYPE_POINTER=r;var n="scroll";t.SESSION_CAPABILITY_TYPE_SCROLL=n;var o="select";t.SESSION_CAPABILITY_TYPE_SELECT=o;var i="keypress";t.SESSION_CAPABILITY_TYPE_KEYPRESS=i;var a="drawing";t.SESSION_CAPABILITY_TYPE_DRAWING=a;var u="laser";t.SESSION_CAPABILITY_TYPE_LASER=u;var c="full_device";t.SESSION_CAPABILITY_TYPE_FULL_DEVICE=c;var s="cursor";t.SESSION_CAPABILITY_TYPE_CURSOR=s;var l="universal";t.SESSION_CAPABILITY_UNIVERSAL=l;var f=[r,n,o,i,a,u,c,s,l];t.default=f},2001:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(9244),r(2593),r(444),r(1076),r(5538),r(5547),r(8496),r(4802),r(2112),r(6353),r(3064),r(3275),r(6941),r(6257),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(3600),r(6770),r(1624),r(1e3),r(2047),r(1157),r(8534),r(9280);var o=m(r(1713)),i=r(7297),a=r(5064),u=r(3042),c=r(1362),s=r(8541),l=m(r(9796)),f=r(3403),d=r(5011),p=r(4253),h=r(4750),v=r(7986),y=m(r(7368));function m(e){return e&&e.__esModule?e:{default:e}}function b(){b=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new P(n||[]);return o(a,"_invoke",{value:S(e,r,u)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function p(){}function h(){}function v(){}var y={};s(y,a,(function(){return this}));var m=Object.getPrototypeOf,w=m&&m(m(k([])));w&&w!==t&&r.call(w,a)&&(y=w);var g=v.prototype=p.prototype=Object.create(y);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(o,a,u,c){var s=f(e[o],e,a);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==n(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,u,c)}),(function(e){i("throw",e,u,c)})):t.resolve(d).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=O(a,r);if(u){if(u===d)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=f(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=v,o(g,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:h,configurable:!0}),h.displayName=s(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(_.prototype),s(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(g),s(g,c,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function w(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){w(i,n,o,a,u,"next",e)}function u(e){w(i,n,o,a,u,"throw",e)}a(void 0)}))}}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function _(e,t,r){return(t=S(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}function O(e,t,r){T(e,t),t.set(e,r)}function T(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function j(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function P(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,x(e,t,"get"))}function k(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,x(e,t,"set"),r),r}function x(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var I=(0,l.default)("cbio.SessionContext"),L=new WeakMap,C=new WeakMap,N=new WeakMap,R=new WeakMap,M=new WeakMap,D=new WeakMap,A=new WeakMap,U=new WeakMap,F=new WeakSet,W=new WeakMap,z=new WeakMap,V=new WeakMap,Y=new WeakMap,B=new WeakMap,G=new WeakMap,q=new WeakMap,Q=new WeakMap,H=new WeakMap,X=new WeakMap,K=new WeakMap,J=new WeakMap,Z=new WeakMap,$=new WeakMap,ee=new WeakMap,te=new WeakMap,re=new WeakMap,ne=new WeakMap,oe=new WeakMap,ie=new WeakMap,ae=new WeakMap,ue=function(){function e(t,r,n){var l,d,m,w,E,S,x=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),T(this,l=F),l.add(this),O(this,L,{writable:!0,value:void 0}),O(this,C,{writable:!0,value:void 0}),O(this,N,{writable:!0,value:new i.FrameLoop}),O(this,R,{writable:!0,value:void 0}),O(this,M,{writable:!0,value:void 0}),O(this,D,{writable:!0,value:void 0}),O(this,A,{writable:!0,value:void 0}),O(this,U,{writable:!0,value:void 0}),_(this,"shouldNavigate",(function(e){var t;return!(null===(t=x.session)||void 0===t||!t.isActive()||e===p.NAVIGATION_TYPE.UNIVERSAL&&!x.session.capabilities.includes(f.SESSION_CAPABILITY_UNIVERSAL))})),_(this,"invalidateFrames",(function(){P(x,N).isRunning()&&P(x,N).invalidateFrame()})),_(this,"destroy",(function(){I("destroy session context"),P(x,Z).call(x),P(x,A)&&P(x,A).off("navigate",P(x,W)),k(x,A,null),P(x,L)&&P(x,L).close(),k(x,L,null),P(x,N)&&P(x,N).destroy(),k(x,N,null),a.WindowTracking.off("activate",P(x,te)),window.removeEventListener("focus",P(x,te),{capture:!0,passive:!0}),window.removeEventListener("hashchange",P(x,re),{capture:!0,passive:!0}),a.MouseTracking.onChange===P(x,ie)&&(a.MouseTracking.onChange=null),x.session&&(x.session.removeListener("update",P(x,J)),x.session.removeListener("ended",P(x,Z)),x.session.removeListener("sync",P(x,z)),x.session.removeListener("drawing",P(x,Y)),x.session.removeListener("laser",P(x,V)),x.session.removeListener("control",P(x,B))),document.removeEventListener("DOMContentLoaded",P(x,G),{once:!0}),P(x,$).call(x,null),x.session=null})),O(this,W,{writable:!0,value:function(e,t){P(x,q).call(x,x.session),(s.TargetedRedaction.hasChange(x.delegate.redactedViews,t)||s.TargetedRedaction.hasChange(x.delegate.unredactedViews,t)||s.TargetedRedaction.hasChange(x.session.selectors(),t))&&setTimeout((function(){x.invalidateFrames()}),0)}}),O(this,z,{writable:!0,value:function(e){var t=e.id;t&&P(x,R)===t||(k(x,R,t),P(x,N).invalidateFrame())}}),O(this,V,{writable:!0,value:function(e){j(x,F,ce).call(x,e)&&a.WindowTracking.isActive()&&(x.session.fullDevice()||u.LaserOverlay.update(e))}}),O(this,Y,{writable:!0,value:function(e){j(x,F,ce).call(x,e)&&(e.image||u.AnnotationOverlay.hide(),a.WindowTracking.isActive()&&(x.session.fullDevice()||u.AnnotationOverlay.update(e)))}}),O(this,B,{writable:!0,value:function(e,t){"focus"!==e||t.agent||a.WindowTracking.resignActive(),a.WindowTracking.isActive()&&(x.session.fullDevice()||x.session.allowRemoteControl()&&(x.session.capabilities.includes(f.SESSION_CAPABILITY_TYPE_CURSOR)&&u.RemoteCursor.update(e,t),j(x,F,ce).call(x,t)&&c.ControlEvents.applyEvent(e,t)))}}),O(this,G,{writable:!0,value:function(e){x.session&&(e.isActive()?document.body?x.delegate.showSessionControls(e):document.addEventListener("DOMContentLoaded",P(x,G),{once:!0}):x.delegate.hideSessionControls(e))}}),O(this,q,{writable:!0,value:function(e){s.RedactionIndexProvider.instance=new s.RedactionIndex(s.TargetedRedaction.filterSelectors(x.delegate.redactedViews),s.TargetedRedaction.filterSelectors(x.delegate.unredactedViews),s.TargetedRedaction.filterSelectors(e.selectors()))}}),O(this,Q,{writable:!0,value:(d=g(b().mark((function e(t){var r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.agent()&&!t.isActive()&&!t.isEnded()){e.next=2;break}return e.abrupt("return",null);case 2:if(!P(x,M)){e.next=4;break}return e.abrupt("return",null);case 4:if(k(x,M,!0),t.requireConsent()){e.next=7;break}return e.abrupt("return",t.activate());case 7:return e.prev=7,I("authorizing session"),e.next=11,t.update({state:"authorizing"});case 11:if(x.session){e.next=13;break}return e.abrupt("return",null);case 13:return e.next=15,x.delegate.confirmSession(t);case 15:if(r=e.sent,x.session){e.next=18;break}return e.abrupt("return",null);case 18:if(!1!==r){e.next=23;break}return I("user rejected session request"),e.abrupt("return",t.end());case 23:return I("session accepted"),e.abrupt("return",t.activate());case 25:e.next=33;break;case 27:if(e.prev=27,e.t0=e.catch(7),e.t0&&console.warn("CobrowseIO: error caught during confirmation",e.t0),!x.session){e.next=32;break}return e.abrupt("return",t.end());case 32:return e.abrupt("return",null);case 33:case"end":return e.stop()}}),e,null,[[7,27]])}))),function(e){return d.apply(this,arguments)})}),O(this,H,{writable:!0,value:(m=g(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("requested"===t.remoteControl()){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,x.delegate.confirmRemoteControl();case 5:if(e.t0=e.sent,!1!==e.t0){e.next=11;break}return I("user rejeted remote control"),e.abrupt("return",t.update({remote_control:"rejected"}));case 11:return I("user accepted remote control"),e.abrupt("return",t.update({remote_control:"on"}));case 13:e.next=19;break;case 15:return e.prev=15,e.t1=e.catch(2),e.t1&&console.warn("CobrowseIO: error caught during confirmation",e.t1),e.abrupt("return",t.update({remote_control:"rejected"}));case 19:case"end":return e.stop()}}),e,null,[[2,15]])}))),function(e){return m.apply(this,arguments)})}),O(this,X,{writable:!0,value:(w=g(b().mark((function e(){var t,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===(t=x.session.resource.full_device)||"requested"===t){e.next=3;break}return e.abrupt("return",!1);case 3:if(a.WindowTracking.isActive()){e.next=5;break}return e.abrupt("return",!1);case 5:if(x.session.capabilities.includes(f.SESSION_CAPABILITY_TYPE_FULL_DEVICE)){e.next=7;break}return e.abrupt("return");case 7:return e.prev=7,e.next=10,x.delegate.confirmFullDevice();case 10:if(r=e.sent,I("full device request",r),r){e.next=15;break}return e.next=15,x.session.setFullDevice("rejected");case 15:return e.abrupt("return",r);case 18:return e.prev=18,e.t0=e.catch(7),e.next=22,x.session.setFullDevice("off");case 22:return e.abrupt("return",!1);case 23:case"end":return e.stop()}}),e,null,[[7,18]])}))),function(){return w.apply(this,arguments)})}),O(this,K,{writable:!0,value:(E=g(b().mark((function e(t){var r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isEnded()&&P(x,N)){e.next=2;break}return e.abrupt("return",null);case 2:if(r=P(x,N).getSource(),!t.fullDevice()){e.next=9;break}if(r instanceof i.MediaStreamFrameSource){e.next=7;break}return e.next=7,P(x,N).setSource(new i.MediaStreamFrameSource({handleFrame:P(x,oe),scale:t.scale,captureStarted:function(e){t.setFullDevice("on"),t.emit("media",e)},captureEnded:function(e){e&&console.warn("Full device mode failed: ",e),t.setFullDevice(e?"rejected":"off")},requestPermission:P(x,X)}));case 7:e.next=10;break;case 9:r instanceof i.DOMFrameSource||P(x,N).setSource(new i.DOMFrameSource(P(x,ne)));case 10:P(x,N).getSource().setCodecs(t.resource.video_codecs);case 11:case"end":return e.stop()}}),e)}))),function(e){return E.apply(this,arguments)})}),O(this,J,{writable:!0,value:function(e){x.session?(P(x,Q).call(x,e),P(x,G).call(x,e),P(x,q).call(x,e),P(x,H).call(x,e),P(x,K).call(x,e),P(x,$).call(x,e),e.isActive()&&P(x,ae).call(x)):I("onSessionUpdated called after destroy()")}}),O(this,Z,{writable:!0,value:function(){u.AnnotationOverlay.hide(),u.RemoteCursor.hide(),u.LaserOverlay.hide(),x.delegate.hideSessionControls(x.session),P(x,U).hide(),P(x,$).call(x,null)}}),O(this,$,{writable:!0,value:(S=g(b().mark((function e(t){var r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=P(x,D))||void 0===r?void 0:r.store(t);case 2:case"end":return e.stop()}}),e)}))),function(e){return S.apply(this,arguments)})}),O(this,ee,{writable:!0,value:function(e,t){return!(!x.session||!x.session.isActive()||!x.session.fullDevice()&&!a.WindowTracking.isActive()||!P(x,L)||!P(x,L).stream||!P(x,L).stream.connected||!P(x,L).stream.bufferedAmount>100||(P(x,L).stream.send(e,t),0))}}),O(this,te,{writable:!0,value:function(){return P(x,ee).call(x,"focus",{type:"Focus",timestamp:new Date})}}),O(this,re,{writable:!0,value:function(){return P(x,ee).call(x,"screen",{type:"Screen",timestamp:new Date,url:window.location.href,title:document.title})}}),O(this,ne,{writable:!0,value:function(e){return k(x,C,(P(x,C)||0)+1),P(x,ee).call(x,"frame",{type:"Frame",id:P(x,C),data:e,timestamp:new Date,mime_type:"application/x-cbio-vdom-patch"})}}),O(this,oe,{writable:!0,value:function(e,t,r){P(x,L).stream.messageLag()>=r?I("dropped frame due to message lag",P(x,L).stream.messageLag()):(k(x,C,(P(x,C)||0)+1),P(x,ee).call(x,"frame",{type:"Frame",id:P(x,C),data:e,timestamp:new Date,mime_type:t}))}}),O(this,ie,{writable:!0,value:function(e){var t="mouseout";return e.in&&(t=e.down?"mousedown":"mouseup"),P(x,ee).call(x,"mouse",{type:"Mouse",x:e.x/window.innerWidth,y:e.y/window.innerHeight,state:t,timestamp:new Date})}}),O(this,ae,{writable:!0,value:function(){return P(x,N).isRunning()||(I("start frames"),P(x,N).start()),x}}),I("session context constructed"),this.session=t,this.delegate=r,k(this,D,n),k(this,L,new o.default(t)),a.WindowTracking.on("activate",P(this,te)),window.addEventListener("focus",P(this,te),{capture:!0,passive:!0}),window.addEventListener("hashchange",P(this,re),{capture:!0,passive:!0}),a.MouseTracking.onChange=P(this,ie),P(this,J).call(this,t),t.on("updated",P(this,J)),t.on("ended",P(this,Z)),t.on("sync",P(this,z)),t.on("drawing",P(this,Y)),t.on("laser",P(this,V)),t.on("control",P(this,B)),t.once("stream-open",(function(){return P(x,te).call(x)}));var ue=new h.PDFViewer(t,r);k(this,U,new v.UniversalProxy(t,r)),k(this,A,new p.Navigation({shouldNavigate:this.shouldNavigate,getSessionId:function(){return t[y.default].compress()},pdfLinks:r.pdfLinks,universalLinks:r.universalLinks,trustedOrigins:r.trustedOrigins,handleNavigation:r.handleNavigation,confirmNavigation:r.confirmNavigation,openPDFLink:ue.openPDFLink,openUniversalLink:P(this,U).openUniversalLink})),P(this,A).on("navigate",P(this,W))}var t,r;return t=e,(r=[{key:"navigate",value:function(e,t,r){return P(this,A).navigate(e,t,r)}}])&&E(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ce(e){var t,r=this,n=(_(t={},d.SESSION_EVENT_TYPE_MOUSE,f.SESSION_CAPABILITY_TYPE_POINTER),_(t,d.SESSION_EVENT_TYPE_TOUCH,f.SESSION_CAPABILITY_TYPE_POINTER),_(t,d.SESSION_EVENT_TYPE_POINTER,f.SESSION_CAPABILITY_TYPE_POINTER),_(t,d.SESSION_EVENT_TYPE_FOCUS,[f.SESSION_CAPABILITY_TYPE_KEYPRESS,f.SESSION_CAPABILITY_TYPE_POINTER]),_(t,d.SESSION_EVENT_TYPE_KEYPRESS,f.SESSION_CAPABILITY_TYPE_KEYPRESS),_(t,d.SESSION_EVENT_TYPE_SCROLL,f.SESSION_CAPABILITY_TYPE_SCROLL),_(t,d.SESSION_EVENT_TYPE_CHANGE,[f.SESSION_CAPABILITY_TYPE_KEYPRESS,f.SESSION_CAPABILITY_TYPE_POINTER]),_(t,d.SESSION_EVENT_TYPE_INPUT,[f.SESSION_CAPABILITY_TYPE_KEYPRESS,f.SESSION_CAPABILITY_TYPE_POINTER]),_(t,d.SESSION_EVENT_TYPE_LASER,f.SESSION_CAPABILITY_TYPE_LASER),_(t,d.SESSION_EVENT_TYPE_DRAWING,f.SESSION_CAPABILITY_TYPE_DRAWING),_(t,d.SESSION_EVENT_TYPE_SELECT,f.SESSION_CAPABILITY_TYPE_SELECT),t);return(Array.isArray(n[e.type])?n[e.type]:[n[e.type]]).some((function(e){return r.session.capabilities.includes(e)}))}t.default=ue},5011:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SESSION_EVENT_TYPE_TOUCH=t.SESSION_EVENT_TYPE_SELECT=t.SESSION_EVENT_TYPE_SCROLL=t.SESSION_EVENT_TYPE_POINTER=t.SESSION_EVENT_TYPE_MOUSE=t.SESSION_EVENT_TYPE_LASER=t.SESSION_EVENT_TYPE_KEYPRESS=t.SESSION_EVENT_TYPE_INPUT=t.SESSION_EVENT_TYPE_FOCUS=t.SESSION_EVENT_TYPE_DRAWING=t.SESSION_EVENT_TYPE_CHANGE=void 0,t.SESSION_EVENT_TYPE_MOUSE="Mouse",t.SESSION_EVENT_TYPE_TOUCH="Touch",t.SESSION_EVENT_TYPE_POINTER="Pointer",t.SESSION_EVENT_TYPE_FOCUS="Focus",t.SESSION_EVENT_TYPE_KEYPRESS="KeyPress",t.SESSION_EVENT_TYPE_SCROLL="Scroll",t.SESSION_EVENT_TYPE_CHANGE="Change",t.SESSION_EVENT_TYPE_INPUT="Input",t.SESSION_EVENT_TYPE_LASER="Laser",t.SESSION_EVENT_TYPE_DRAWING="Drawing",t.SESSION_EVENT_TYPE_SELECT="Select"},1713:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(9244),r(2593),r(444),r(1076),r(5538),r(5547),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(3600),r(3114),r(1624),r(1e3),r(2047),r(1157),r(8534);var o=u(r(2260)),i=u(r(3440)),a=u(r(7368));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function s(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}function f(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function d(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,h(e,t,"get"))}function p(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,h(e,t,"set"),r),r}function h(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var v=new WeakMap,y=new WeakMap,m=new WeakMap,b=new WeakMap,w=new WeakMap,g=new WeakMap,E=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,v,{writable:!0,value:void 0}),f(this,y,{writable:!0,value:void 0}),f(this,m,{writable:!0,value:void 0}),s(this,"open",(function(){d(r,v).isEnded()||(d(r,w).call(r),d(r,g).call(r))})),s(this,"close",(function(){window.removeEventListener("visibilitychange",r.onVisibilityChange),d(r,v)&&(d(r,v).removeListener("updated",r.open),p(r,v,null)),d(r,m)&&(d(r,m).close(),p(r,m,null)),d(r,y)&&(d(r,y).close(),p(r,y,null))})),f(this,b,{writable:!0,value:function(e,t){var n=new o.default({getUrl:function(){return(0,i.default)(e,d(r,v).field(t))}});return n.on("error",(function(e){console.warn("CobrowseIO session socket error:",e)})),n}}),f(this,w,{writable:!0,value:function(){var e=d(r,v).field("control_url"),t=d(r,v).field("control_token");e&&t&&!d(r,y)&&(p(r,y,d(r,b).call(r,e,"control_token")),d(r,y).on("open",(function(){d(r,y).send("filter",{events:["session"]}),d(r,v).fetch().catch((function(e){console.warn("CobrowseIO failed fetching session state",e)}))})),d(r,y).on("event",(function(e,t){"session"===e&&d(r,v).updateResource(t)})))}}),f(this,g,{writable:!0,value:function(){var e=d(r,v).field("stream_url"),t=d(r,v).field("stream_token");if(e&&t&&!d(r,m)){p(r,m,d(r,b).call(r,e,"stream_token"));var n=["drawing","laser","url"],o=["touch","mouse","pointer","keypress","scroll","focus","input","change","select"];d(r,m).on("event",(function(e,t){"sync"===e?d(r,v).emit("sync",t):"probe"===e?d(r,m).send("alive",t):n.includes(e)?d(r,v).emit(e,t):o.includes(e)&&d(r,v).emit("control",e,t),d(r,v)[a.default].setMetrics({last_alive:new Date})})),d(r,m).on("open",(function(){d(r,m).send("filter",{events:[].concat(o,n,["sync","probe"])}),d(r,v).emit("stream-open")}))}}}),p(this,v,t),t.on("updated",this.open),t[a.default].setMetrics({last_alive:null}),this.open()}var t,r;return t=e,(r=[{key:"stream",get:function(){return d(this,m)}}])&&c(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=E},1640:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(9244),r(2593),r(444),r(1076),r(5538),r(6257),r(6486),r(3524),r(5547),r(8496),r(4802),r(2112),r(6353),r(3064),r(3275),Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStorage=void 0,r(6941),r(1624),r(1e3),r(8719),r(2047),r(8534),r(4011),r(3114),r(3600),r(6770),r(1157);var o,i=r(7054);function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(){u=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),u=new P(n||[]);return o(a,"_invoke",{value:S(e,r,u)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var p={};function h(){}function v(){}function y(){}var m={};l(m,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(k([])));w&&w!==t&&r.call(w,a)&&(m=w);var g=y.prototype=h.prototype=Object.create(m);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(o,a,u,c){var s=d(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,u,c)}),(function(e){i("throw",e,u,c)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=O(a,r);if(u){if(u===p)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=d(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=d(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return v.prototype=y,o(g,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(g),l(g,s,"Generator"),l(g,a,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){f(i,n,o,a,u,"next",e)}function u(e){f(i,n,o,a,u,"throw",e)}a(void 0)}))}}function p(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}function h(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function v(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,m(e,t,"get"))}function y(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,m(e,t,"set"),r),r}function m(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var b=(0,((o=r(9796))&&o.__esModule?o:{default:o}).default)("cbio.sessionStorage"),w=new WeakMap,g=new WeakMap,E=new WeakMap,_=function(){function e(t){var r=t.load,n=void 0===r?[]:r,o=t.store,i=void 0===o?[]:o,a=t.retain,u=void 0===a?[]:a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,w,{writable:!0,value:void 0}),h(this,g,{writable:!0,value:void 0}),h(this,E,{writable:!0,value:void 0}),y(this,w,n),y(this,g,i),y(this,E,u)}var t,r,n,o,s;return t=e,r=[{key:"load",value:(s=d(u().mark((function e(t){var r,n,o,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b("loading session"),r=c(v(this,w)),e.prev=2,r.s();case 4:if((n=r.n()).done){e.next=21;break}return o=n.value,e.next=8,o.load(t);case 8:return i=e.sent,e.next=11,null==i?void 0:i.fetch();case 11:if(!(a=e.sent)){e.next=19;break}if(!a.isActive()){e.next=17;break}return e.abrupt("return",a);case 17:return e.next=19,o.store(null);case 19:e.next=4;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(2),r.e(e.t0);case 26:return e.prev=26,r.f(),e.finish(26);case 29:return e.abrupt("return",null);case 30:case"end":return e.stop()}}),e,this,[[2,23,26,29]])}))),function(e){return s.apply(this,arguments)})},{key:"store",value:(o=d(u().mark((function e(t){var r,n,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b("storing session"),r=c(v(this,g)),e.prev=2,r.s();case 4:if((n=r.n()).done){e.next=20;break}return o=n.value,e.prev=6,e.next=9,o.store(t);case 9:if(e.t0=e.sent,!0!==e.t0){e.next=13;break}return b("stopping store() chain early due to",o),e.abrupt("break",20);case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(6),console.error("Unexpected error storing session: ".concat(o.constructor.name),e.t1);case 18:e.next=4;break;case 20:e.next=25;break;case 22:e.prev=22,e.t2=e.catch(2),r.e(e.t2);case 25:return e.prev=25,r.f(),e.finish(25);case 28:case"end":return e.stop()}}),e,this,[[2,22,25,28],[6,15]])}))),function(e){return o.apply(this,arguments)})},{key:"destroy",value:function(){var e,t=this,r=c(new Set([].concat(a(v(this,w)),a(v(this,g))).filter((function(e){return!v(t,E).includes(e)}))));try{for(r.s();!(e=r.n()).done;)e.value.destroy()}catch(e){r.e(e)}finally{r.f()}y(this,w,null),y(this,g,null),y(this,E,null)}}],n=[{key:"create",value:function(t,r,n){var o=n.localStorage;if(t.length>1){var a=new i.ForwardingSessionStorage;return new e({load:[a,o],store:[o,a],retain:[o]})}return new e({load:[o],store:[o],retain:[o]})}}],r&&p(t.prototype,r),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.SessionStorage=_},6362:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Session",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"SessionCapabilities",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"SessionContext",{enumerable:!0,get:function(){return o.default}});var n=a(r(4914)),o=a(r(2001)),i=a(r(1826));function a(e){return e&&e.__esModule?e:{default:e}}},2767:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveSessionPath=void 0,t.ActiveSessionPath="_cobrowse_active_session"},7054:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(9244),r(2593),r(444),r(1076),r(5538),r(5547),Object.defineProperty(t,"__esModule",{value:!0}),t.ForwardingSessionStorage=void 0,t.extractActiveSession=y,t.rewriteUrlIfNecessary=function(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).window,n=void 0===r?window:r;try{var o=new URL(e);return o.origin===n.location.origin?(h("not rewriting url because we are not changing origin",o.toString()),e):(o.searchParams.set(a.ActiveSessionPath,t),h("rewriting trusted url for an active session",{from:e,to:o.toString()}),"string"==typeof e?o.toString():o)}catch(t){return h("failed rewriting url",t),e}},r(1624),r(1e3),r(2047),r(8534),r(6955),r(8927),r(7285),r(1157),r(9280);var o=u(r(7368)),i=u(r(4914)),a=r(2767);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}function s(e,t,r){l(e,t),t.set(e,r)}function l(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function f(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,p(e,t,"get"))}function d(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,p(e,t,"set"),r),r}function p(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var h=(0,u(r(9796)).default)("cbio.sessionStorage.ForwardingSessionStorage"),v=y();function y(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).window,t=void 0===e?window:e;try{var r=new URL(t.location.href),n=r.searchParams.get(a.ActiveSessionPath);return n?(h("found forwarded session that can be loaded",n),r.searchParams.delete(a.ActiveSessionPath),t.history.replaceState({},"",r)):h("no forwarded session to load",r),n}catch(e){console.warn("Failed to attempt to extract forwarded session",e)}}var m=new WeakMap,b=new WeakMap,w=new WeakSet,g=function(){function e(){var t,r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).activeSessionData,n=void 0===r?v:r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,t=w),t.add(this),s(this,m,{writable:!0,value:void 0}),s(this,b,{writable:!0,value:void 0}),d(this,m,n)}var t,r;return t=e,(r=[{key:"isSupported",value:function(){return h("isSupported?",!0),!0}},{key:"load",value:function(e){try{if(f(this,m))return h("loading session",f(this,m)),new i.default(e)[o.default].decompress(f(this,m));h("no session to load")}catch(e){h("failed to load forwarded session",e)}return null}},{key:"store",value:function(e){!function(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}(this,w,E).call(this,e)?(h("removing active session by unbinding forwarding hooks"),this.destroy()):(h("storing active session by binding forwarding hooks"),d(this,b,e))}},{key:"destroy",value:function(){d(this,b,void 0)}}])&&c(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f(this,b);return null==e?void 0:e.isActive()}t.ForwardingSessionStorage=g},9426:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(9244),r(2593),r(444),r(1076),r(5538),r(5547),Object.defineProperty(t,"__esModule",{value:!0}),t.LocalSessionStorage=void 0,r(1624),r(1e3),r(2047),r(1157),r(8534);var o=c(r(7368)),i=c(r(5901)),a=c(r(4914)),u=r(2767);function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}function l(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,f(e,t,"get"))}function f(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var d=(0,c(r(9796)).default)("cbio.sessionStorage.LocalSessionStorage"),p=new WeakMap,h=function(){function e(){var t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,r=p,n={writable:!0,value:(0,i.default)()},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,r),r.set(t,n)}var t,r;return t=e,(r=[{key:"isSupported",value:function(){return d("isSupported?",!0),!0}},{key:"load",value:function(e){var t=l(this,p).getItem(u.ActiveSessionPath);return t?(d("loading session"),new a.default(e)[o.default].deserialize(t)):(d("no session to load"),null)}},{key:"store",value:function(e){null!=e&&e.isActive()?(d("storing active session"),l(this,p).setItem(u.ActiveSessionPath,e[o.default].serialize())):(d("removing inactive session"),l(this,p).removeItem(u.ActiveSessionPath))}},{key:"destroy",value:function(){var e,t;t=void 0,function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e=this,f(e,p,"set"),t)}}])&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.LocalSessionStorage=h},5901:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var n,o=(n=r(59))&&n.__esModule?n:{default:n}},59:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{setItem:function(t,r){u();var n=JSON.stringify({value:r,group:e});a()?window.localStorage.setItem(t,n):o.default.set(t,n),i[t]=n},getItem:function(t){try{var r;(r=a()?window.localStorage&&window.localStorage.getItem(t):o.default.get(t))||(r=i[t]);var n=JSON.parse(r),u=n.value,c=n.group;return e&&e!==c?null:u}catch(e){return null}},removeItem:function(e){a()&&window.localStorage.removeItem(e),o.default.remove(e),i[e]=void 0}}};var n,o=(n=r(6734))&&n.__esModule?n:{default:n},i={};function a(){try{var e="_cobrowse_test_item";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}function u(){a()||u.done||(u.done=!0,console.warn("Warning: localStorage is not supported. Cobrowse falling back to cookie or in-memory storage and may not function as expected."))}},8487:function(e,t,r){"use strict";r(5547),r(2047),r(8534),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(1624),r(1e3),r(2827),r(7639),r(6996),r(1366),r(3558),r(8852),r(8630),r(8858),r(6480),r(7219),r(2160),r(4289),r(8165),r(4613),r(3292),r(3748),r(9157),r(5529),r(4882),r(7233),r(1086),r(8786),r(5544),r(1304),r(3114),r(9244),r(2593),r(444),r(1076),r(5538);var n=r(5064);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===o(t)?t:String(t)}var s=new(a((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"el",(function(){return t._el||(t._el=document.createElement("img"),t._el.className="cbio_session_overlay",t._el.style.pointerEvents="none",t._el.style.width="10vw",t._el.style.height="100vh",t._el.style.position="fixed",t._el.style.zIndex="2147483647",t._el.style.display="none",t._el.style.top="0",t._el.style.left="0"),t._el})),u(this,"_arrayBufferToBase64",(function(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,o=0;o<n;o+=1)t+=String.fromCharCode(r[o]);return window.btoa(t)})),u(this,"update",(function(e){if(n.WindowTracking.isActive())if(e.image){var r=t.el().cloneNode(),o="data:".concat(e.mime_type,";base64,").concat(t._arrayBufferToBase64(e.image));r.style.left="".concat(100*e.x,"%"),r.style.top="".concat(100*e.y,"%"),r.style.height="".concat(100*e.height,"%"),r.style.width="".concat(100*e.width,"%"),r.style.display="block",r.src=o,document.body&&!t.el().parentNode&&document.body.appendChild(t.el()),r.decode().then((function(){t.el().replaceWith(r),setTimeout((function(){t._prevImage&&t._prevImage.remove(),t._prevImage=r}),1e3)})).catch((function(e){console.error(e)}))}else t.hide()})),u(this,"hide",(function(){t._prevImage&&(t._prevImage.remove(),t._prevImage=null),t.el().parentNode&&t.el().parentNode.removeChild(t.el())}))})));t.default=s},881:function(e,t,r){"use strict";r(5547),r(1624),r(2047),r(8534),r(8496),r(4802),r(2112),r(6353),r(3064),r(3275),r(6941),r(6257),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(3114),r(1e3),r(9244),r(2593),r(444),r(1076),r(5538);var n,o=(n=r(2175))&&n.__esModule?n:{default:n};function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(){a=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),u=new P(o||[]);return n(a,"_invoke",{value:S(e,r,u)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var p={};function h(){}function v(){}function y(){}var m={};l(m,u,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(k([])));w&&w!==t&&r.call(w,u)&&(m=w);var g=y.prototype=h.prototype=Object.create(m);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(n,a,u,c){var s=d(e[n],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==i(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,u,c)}),(function(e){o("throw",e,u,c)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return o("throw",e,u,c)}))}c(s.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=O(a,r);if(u){if(u===p)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=d(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=d(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function k(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return v.prototype=y,n(g,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(g),l(g,s,"Generator"),l(g,u,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function u(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function s(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===i(t)?t:String(t)}var d=s((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"content",(function(e,t){return'\n      <div class="cobrowse-dialog" style="color: #333; font-family:sans-serif; line-height:140%; position:fixed; padding:25px; background:white; border-radius:15px; z-index:2147483647; top:50px; left:50%; width:75%; max-width:350px; transform:translateX(-50%); box-shadow:0px 0px 15px #33333322; user-select: none; direction: '.concat(o.default.direction(),'">\n          <div style="text-align:center; margin-top:10px; margin-bottom:20px"><b>').concat(e,"</b></div>\n          <div>").concat(t,'</div>\n          <div style=\'display: flex; justify-content: flex-end; margin-top:20px; color:rgb(0, 122, 255);\'>\n              <a class="cobrowse-button cobrowse-deny" style="cursor:pointer; padding:10px;">').concat(o.default.tr("DENY"),'</a>\n              <a class="cobrowse-button cobrowse-allow" style="cursor:pointer; padding:10px; font-weight: bold;">').concat(o.default.tr("ALLOW"),"</a>\n          </div>\n      </div>\n  ")})),l(this,"container",(function(){return t._container||(t._container=document.createElement("div"),t._container.style.background="rgba(50, 50, 50, 0.4)",t._container.style.position="fixed",t._container.style.zIndex="2147483647",t._container.style.bottom="0",t._container.style.top="0",t._container.style.left="0",t._container.style.right="0"),t._container})),l(this,"show",function(){var e,r=(e=a().mark((function e(r,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var o=t.container();t._container.innerHTML=t.content(r,n),o.querySelector(".cobrowse-allow").addEventListener("click",(function(r){r.isTrusted&&(e(!0),t.hide())})),o.querySelector(".cobrowse-deny").addEventListener("click",(function(r){r.isTrusted&&(e(!1),t.hide())})),document.body&&document.body.appendChild(o)})));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){u(i,n,o,a,c,"next",e)}function c(e){u(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(e,t){return r.apply(this,arguments)}}()),l(this,"hide",(function(){t.container().parentNode&&t.container().parentNode.removeChild(t.container())}))}));t.default=d},9486:function(e,t,r){"use strict";r(5547),r(1624),r(2047),r(8534),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9244),r(2593),r(444),r(1076),r(1e3),r(5538);var n=r(5064);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===o(t)?t:String(t)}var s=new(a((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"el",(function(){return t._el||(t._el=document.createElement("div"),t._el.className="cbio_session_overlay",t._el.style.border="border: 1px solid white",t._el.style.borderRadius="15px",t._el.style.background="red",t._el.style.position="fixed",t._el.style.zIndex="2147483647",t._el.style.height="15px",t._el.style.width="15px",t._el.style.marginLeft="-7.5px",t._el.style.marginTop="-7.5px"),t._el})),u(this,"update",(function(e){n.WindowTracking.isActive()&&(document.body&&!t.el().parentNode&&document.body.appendChild(t.el()),"touchend"===e.state?t.hide():(t.el().style.left="".concat(100*e.x,"%"),t.el().style.top="".concat(100*e.y,"%")))})),u(this,"hide",(function(){t.el().parentNode&&t.el().parentNode.removeChild(t.el())}))})));t.default=s},9444:function(e,t,r){"use strict";r(5547),r(1624),r(2047),r(8534),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9244),r(2593),r(444),r(1076),r(1e3),r(5538);var n=r(5064),o=r(7743);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function u(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t,r){return(t=s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===i(t)?t:String(t)}var l=new(u((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"el",(function(){return t._el||(t._el=document.createElementNS("http://www.w3.org/2000/svg","svg"),t._el.setAttribute("class","__cbio_ignored"),t._el.setAttribute("viewBox","0 0 320 512"),t._el.style.position="fixed",t._el.style.zIndex="2147483647",t._el.style.height="25px",t._el.style.width="25px",t._el.style.marginLeft="-7px",t._el.style.marginTop="-1px",t._el.style.opacity=.7,t._path=document.createElementNS("http://www.w3.org/2000/svg","path"),t._path.setAttribute("d","M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"),t._path.setAttribute("stroke","white"),t._path.setAttribute("stroke-width","40"),t._path.setAttribute("opacity",1),t._path.setAttribute("fill","blue"),t._el.appendChild(t._path)),t._el})),c(this,"calculateOffset",(function(e){var t,r,n=o.NodeTracker.getById(e.target.id),i=null==n||null===(t=n.ownerDocument)||void 0===t||null===(r=t.defaultView)||void 0===r?void 0:r.frameElement;if(!i)return{offsetX:0,offsetY:0};var a=i.getBoundingClientRect();return{offsetX:Math.round(a.left),offsetY:Math.round(a.top)}})),c(this,"getOffset",(function(e){var r,n,o,i,a=e.offsetX,u=e.offsetY;return void 0!==a&&void 0!==u?{offsetX:a*(null===(r=window.document)||void 0===r||null===(n=r.documentElement)||void 0===n?void 0:n.clientWidth),offsetY:u*(null===(o=window.document)||void 0===o||null===(i=o.documentElement)||void 0===i?void 0:i.clientHeight)}:t.calculateOffset(e)})),c(this,"_updatePosition",(function(e){var r,n,o,i,a=e.x,u=e.y;if(!1!==a&&!1!==u){a*=null===(r=window.document)||void 0===r||null===(n=r.documentElement)||void 0===n?void 0:n.clientWidth,u*=null===(o=window.document)||void 0===o||null===(i=o.documentElement)||void 0===i?void 0:i.clientHeight;var c=t.getOffset(e);a+=c.offsetX,u+=c.offsetY,t.el().style.top="".concat(u,"px"),t.el().style.left="".concat(a,"px")}})),c(this,"update",(function(e,r){if("mouse"===e&&n.WindowTracking.isActive())switch(document.body&&!t.el().parentNode&&document.body.appendChild(t.el()),r.state){case"mousedown":t.el().style.opacity=1;break;case"mouseup":t.el().style.opacity=.7;break;case"mousemove":t._updatePosition(r)}})),c(this,"hide",(function(){t.el().parentNode&&t.el().parentNode.removeChild(t.el())}))})));t.default=l},1457:function(e,t,r){"use strict";r(5547),r(1624),r(2047),r(8534),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9244),r(2593),r(444),r(1076),r(1e3),r(5538);var n=i(r(1178)),o=i(r(2175));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}var f=new(c((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"el",(function(){return t._el||(t._el=document.createElement("div"),t._el.className="__cbio_ignored cbio_session_controls",t._el.textContent=o.default.tr("END_SESSION"),t._el.style.fontFamily="sans-serif",t._el.style.padding="10px 13px",t._el.style.fontSize="13px",t._el.style.whiteSpace="nowrap",t._el.style.color="white",t._el.style.boxShadow="0px 2px 5px #33333344",t._el.style.cursor="pointer",t._el.style.borderRadius="30px",t._el.style.background="rgb(234, 91, 80)",t._el.style.position="fixed",t._el.style.zIndex="2147483647",t._el.style.bottom="20px",t._el.style.left="50%",t._el.style.transform="translateX(-50%)",t._el.style.userSelect="none",t._el.addEventListener("click",t._onEnd)),t._el})),s(this,"_onEnd",(function(){var e=n.default.currentSession;e&&e.isActive()&&e.end()})),s(this,"show",(function(){document.body&&!t.el().parentNode&&document.body.appendChild(t.el())})),s(this,"hide",(function(){t.el().parentNode&&t.el().parentNode.removeChild(t.el())}))})));t.default=f},37:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function u(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t,r){return(t=s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}function l(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function f(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,d(e,t,"get"))}function d(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}r(9244),r(2593),r(444),r(1076),r(5538),r(5128),r(4011),r(5226),r(9270),r(5547),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(1e3),r(3275),r(3794),r(1624),r(2047),r(1157),r(8534);var p=new WeakMap,h=new WeakMap,v=new WeakMap,y=new WeakMap,m=new WeakMap,b=new WeakMap,w=new WeakMap,g=new WeakMap,E=new WeakMap,_=new(u((function e(){var t,r,n,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,p,{writable:!0,value:void 0}),l(this,h,{writable:!0,value:[]}),c(this,"newTab",(function(e,t,r,n){var a=f(o,p).createTab(e,{onTabClick:function(e){f(o,y).call(o,a)},onCloseClick:function(e){e.stopPropagation(),f(o,v).call(o,a)}});return a.setIcon(t),a.setTitle(r),a.setIsLoading(n),f(o,h).push(a),f(o,y).call(o,a),f(o,p).showModal(),i(i({},a),{},{close:function(){return f(o,v).call(o,a)}})})),c(this,"closeAllTabs",(function(){f(o,h).forEach(f(o,v))})),l(this,v,{writable:!0,value:function(e){var t=f(o,h).indexOf(e);if(-1!==t){if(e.removeTab(),f(o,h).splice(t,1),!f(o,h).length)return f(o,p).hideModal();var r=f(o,h).length-1;t<=r?f(o,h)[t].show():f(o,h)[r].show()}}}),l(this,y,{writable:!0,value:function(e){f(o,h).forEach((function(e){return e.hide()})),e.show()}}),l(this,m,{writable:!0,value:function(){var e=document.createElement("div");e.style.background="rgba(50, 50, 50, 0.4)",e.style.position="fixed",e.style.zIndex="2147483646",e.style.bottom="0",e.style.top="0",e.style.left="0",e.style.right="0",e.style.padding="2rem",e.style.display="flex",e.style.flexDirection="column";var t=f(o,b).call(o);e.appendChild(t.element);var r=f(o,w).call(o);e.appendChild(r.element);var n=null;return{element:e,showModal:function(){document.body.appendChild(e),n=document.body.style.overflow,document.body.style.overflow="hidden",o.isVisible=!0},hideModal:function(){document.body.removeChild(e),document.body.style.overflow=n,o.isVisible=!1},createTab:function(e,n){var i=n.onTabClick,a=n.onCloseClick,u=f(o,g).call(o,{onTabClick:i,onCloseClick:a});t.addButton(u.element);var c=f(o,E).call(o,e);return r.addPanel(c.element),{setIcon:u.setIcon,setTitle:u.setTitle,setIsLoading:u.setIsLoading,show:function(){u.setIsActive(!0),c.showPanel()},hide:function(){u.setIsActive(!1),c.hidePanel()},removeTab:function(){t.removeButton(u.element),r.removePanel(c.element)}}}}}}),l(this,b,{writable:!0,value:function(){var e=document.createElement("div");return e.style.display="flex",e.style.backgroundColor="#efefef",e.style.borderBottom="1px solid #d8d8d8",e.style.overflow="auto",{element:e,addButton:function(t){return e.appendChild(t)},removeButton:function(t){return e.removeChild(t)}}}}),l(this,w,{writable:!0,value:function(){var e=document.createElement("div");return e.style.width="100%",e.style.height="100%",e.style.backgroundColor="white",{element:e,addPanel:function(t){return e.appendChild(t)},removePanel:function(t){return e.removeChild(t)}}}}),l(this,g,{writable:!0,value:function(e){var t=e.onTabClick,r=e.onCloseClick,n=document.createElement("div");n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="end",n.style.backgroundColor="white",n.style.padding="8px",n.style.borderRight="1px solid #d8d8d8",n.style.maxWidth="12rem",n.style.minWidth="0",n.style.overflow="hidden",n.style.cursor="pointer",n.innerHTML='\n      <img class="cobrowse-icon" style="width: 1rem; height: 1rem; margin-right: 4px;" />\n      <span class="cobrowse-title" style="display: block; font-family: sans-serif; font-size: 13px; overflow: hidden; white-space: nowrap; text-overflow: ellipsis;"></span>\n      <button class="cobrowse-close" style="width: 1.5rem; height: 1.5rem; border: none; background: none; padding: 0; cursor: pointer;">\n        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" style="width: 1rem; height: 1rem;">\n          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />\n        </svg>\n      </button>\n    ';var o=n.querySelector(".cobrowse-icon"),i=n.querySelector(".cobrowse-title"),a=n.querySelector(".cobrowse-close");return n.addEventListener("click",t),a.addEventListener("click",r),o.onerror=function(){this.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="gray"><path stroke-linecap="round" stroke-linejoin="round" d="M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418" /></svg>'},{element:n,icon:"",title:"",isActive:!1,isLoading:!1,setIcon:function(e){this.icon=e,o.src=e},setTitle:function(e){this.title=e,i.textContent=e},setIsActive:function(e){this.isActive=e,n.style.backgroundColor=this.isActive?"white":"#efefef"},setIsLoading:function(e){this.isLoading=e,o.src=this.isLoading?'data:image/svg+xml,<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z"><animateTransform attributeName="transform" type="rotate" dur="0.75s" values="0 12 12;360 12 12" repeatCount="indefinite"/></path></svg>':this.icon}}}}),l(this,E,{writable:!0,value:function(e){var t=document.createElement("div");return t.style.width="100%",t.style.height="100%",t.style.backgroundColor="white",t.appendChild(e),{element:t,showPanel:function(){t.style.display="block"},hidePanel:function(){t.style.display="none"}}}}),t=this,r=p,n=f(this,m).call(this),function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(t,d(t,r,"set"),n)})));t.default=_},3172:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}r(5547),r(1624),r(2047),r(8534),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9244),r(2593),r(444),r(1076),r(1e3),r(5538);var c=new(i((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"content",(function(e){return'\n      <div style="color: white; font-family:sans-serif; margin-bottom: 10px; line-height:140%; padding:10px; font-size: 12px; font-weight: bold; background:#292d33; border-radius:5px; width:250px; box-shadow:0px 0px 15px #33333322;">\n          '.concat(e,"\n      </div>\n  ")})),a(this,"container",(function(){var e=document.createElement("div");return e.style.position="fixed",e.style.zIndex="2147483647",e.style.color="#fff",e.style.top="20px",e.style.right="20px",e.style.transition="all 0.3s linear",e.style.opacity=0,e.style.pointerEvents="none",e})),a(this,"show",(function(e){var r=t.container();r.innerHTML=t.content(e),document.body&&document.body.appendChild(r),setTimeout((function(){r.style.opacity=1}),0),setTimeout((function(){r.style.opacity=0,setTimeout((function(){r.parentNode&&r.parentNode.removeChild(r)}),500)}),8e3)})),a(this,"hide",(function(){t.container().parentNode&&t.container().parentNode.removeChild(t.container())}))})));t.default=c},3042:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnnotationOverlay",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"ConsentDialog",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"LaserOverlay",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"RemoteCursor",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"SessionStateOverlay",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"Toast",{enumerable:!0,get:function(){return c.default}});var n=s(r(8487)),o=s(r(9486)),i=s(r(9444)),a=s(r(1457)),u=s(r(881)),c=s(r(3172));function s(e){return e&&e.__esModule?e:{default:e}}},706:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(9244),r(2593),r(444),r(1076),r(5538),r(3064),r(9616),r(5547),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(1624),r(1e3),r(2047),r(1157),r(8534);var o,i=(o=r(1239))&&o.__esModule?o:{default:o};function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function l(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}function f(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function d(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,h(e,t,"get"))}function p(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,h(e,t,"set"),r),r}function h(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var v=new WeakMap,y=new WeakMap,m=new WeakMap,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(b,e);var t,r,o,i,h=(o=b,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(o);if(i){var r=s(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}(this,e)});function b(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),f(c(t=h.call(this)),v,{writable:!0,value:void 0}),f(c(t),y,{writable:!0,value:void 0}),f(c(t),m,{writable:!0,value:void 0}),function(e,t,r){(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(c(t),"close",(function(){return t.emit("closed")})),t.element=e,t}return t=b,(r=[{key:"icon",get:function(){return d(this,v)},set:function(e){p(this,v,e),this.emit("updated")}},{key:"title",get:function(){return d(this,y)},set:function(e){p(this,y,e),this.emit("updated")}},{key:"readyState",get:function(){return d(this,m)},set:function(e){p(this,m,e),this.emit("updated")}}])&&a(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),b}(i.default);t.default=b},6916:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(9244),r(2593),r(444),r(1076),r(5538),r(5547),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(1624),r(1e3),r(2047),r(8534),r(6955),r(8927),r(6941),r(1157);var o=s(r(7368)),i=r(393),a=s(r(706)),u=s(r(9356)),c=s(r(453));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}function h(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function v(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,m(e,t,"get"))}function y(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,m(e,t,"set"),r),r}function m(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var b=new WeakMap,w=new WeakMap,g=new WeakMap,E=new WeakMap,_=new WeakMap,S=f((function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,b,{writable:!0,value:void 0}),h(this,w,{writable:!0,value:void 0}),h(this,g,{writable:!0,value:void 0}),d(this,"openUniversalLink",(function(e){var t=v(n,b)[o.default].proxyToken(),r=v(n,b)[o.default].proxyUrl(),s=new URL(r,v(n,w).api),l="cbioUniversalFrame-".concat((0,c.default)(5)),f={parent_origin:window.location.origin,proxy_path:s.pathname,sdk_version:v(n,w).version,frame_name:l},d=new i.URLRewriter(s,i.PROXY_PREFIX.UNIVERSAL,t,window.location,f).proxify(e),p=v(n,_).call(n,d,l),h=new a.default(p);y(n,g,v(n,w).displayContent(h,e)),u.default.on("universal_navigation",v(n,E))})),d(this,"hide",(function(){var e;null===(e=v(n,g))||void 0===e||e.close(),u.default.off("universal_navigation",v(n,E))})),h(this,E,{writable:!0,value:function(e){var t=e.icon,r=e.title,o=e.readyState;v(n,g).icon=t,v(n,g).title=r,v(n,g).readyState=o}}),h(this,_,{writable:!0,value:function(e,t){var r=document.createElement("iframe");return r.style.width="100%",r.style.height="100%",r.style.backgroundColor="white",r.style.border="none",r.src=e,r.name=t,r}}),y(this,b,t),y(this,w,r)}));t.default=S},7986:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"UniversalProxy",{enumerable:!0,get:function(){return o.default}});var n,o=(n=r(6916))&&n.__esModule?n:{default:n}},2260:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(9244),r(2593),r(444),r(1076),r(5538),r(3064),r(9616),r(5547),r(8496),r(4802),r(2112),r(6353),r(3275),r(6941),r(6257),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(1624),r(1e3),r(2827),r(7639),r(6996),r(1366),r(3558),r(8852),r(8630),r(8858),r(6480),r(7219),r(2160),r(4289),r(8165),r(4613),r(3292),r(3748),r(9157),r(5529),r(4882),r(7233),r(1086),r(8786),r(5544),r(1304),r(3114),r(2047),r(1157),r(8534);var o,i=(o=r(9796))&&o.__esModule?o:{default:o},a=r(3936),u=r(1239);function c(){c=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),u=new P(n||[]);return o(a,"_invoke",{value:S(e,r,u)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var p={};function h(){}function v(){}function y(){}var m={};l(m,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(k([])));w&&w!==t&&r.call(w,a)&&(m=w);var g=y.prototype=h.prototype=Object.create(m);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(o,a,u,c){var s=d(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,u,c)}),(function(e){i("throw",e,u,c)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=O(a,r);if(u){if(u===p)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=d(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=d(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return v.prototype=y,o(g,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(_.prototype),l(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(g),l(g,s,"Generator"),l(g,a,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function s(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){s(i,n,o,a,u,"next",e)}function u(e){s(i,n,o,a,u,"throw",e)}a(void 0)}))}}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function v(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}function m(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function b(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,g(e,t,"get"))}function w(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,g(e,t,"set"),r),r}function g(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var E=(0,i.default)("cbio.CBORSocket"),_=new WeakMap,S=new WeakMap,O=new WeakMap,T=new WeakMap,j=new WeakMap,P=new WeakMap,k=new WeakMap,x=new WeakMap,I=new WeakMap,L=new WeakMap,C=new WeakMap,N=new WeakMap,R=new WeakMap,M=new WeakMap,D=new WeakMap,A=new WeakMap,U=new WeakMap,F=new WeakMap,W=new WeakMap,z=new WeakMap,V=new WeakMap,Y=new WeakMap,B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(s,e);var t,r,o,i,u=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(o);if(i){var r=h(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}(this,e)});function s(e){var t,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),m(p(t=u.call(this)),_,{writable:!0,value:void 0}),m(p(t),S,{writable:!0,value:!1}),m(p(t),O,{writable:!0,value:void 0}),m(p(t),T,{writable:!0,value:0}),m(p(t),j,{writable:!0,value:6e4}),m(p(t),P,{writable:!0,value:1e3+Math.floor(1e3*Math.random())}),m(p(t),k,{writable:!0,value:void 0}),m(p(t),x,{writable:!0,value:void 0}),m(p(t),I,{writable:!0,value:void 0}),m(p(t),L,{writable:!0,value:0}),m(p(t),C,{writable:!0,value:0}),m(p(t),N,{writable:!0,value:(r=l(c().mark((function e(){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b(p(t),O)){e.next=3;break}return console.error("Socket already exists"),e.abrupt("return");case 3:return E("creating ws"),e.next=6,b(p(t),_).getUrl();case 6:if(r=e.sent){e.next=9;break}return e.abrupt("return");case 9:if(!b(p(t),S)){e.next=11;break}return e.abrupt("return");case 11:if(!b(p(t),O)){e.next=13;break}return e.abrupt("return");case 13:(n=b(p(t),_).createWebSocket?b(p(t),_).createWebSocket(r):new WebSocket(r)).binaryType="arraybuffer",n.addEventListener("open",b(p(t),D)),n.addEventListener("message",b(p(t),U)),n.addEventListener("close",b(p(t),z)),n.addEventListener("error",b(p(t),V)),w(p(t),O,n);case 20:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})}),m(p(t),R,{writable:!0,value:function(){if(b(p(t),O))try{var e;(e=b(p(t),O)).close.apply(e,arguments)}catch(e){E("error closing socket",e)}w(p(t),O,null)}}),m(p(t),M,{writable:!0,value:function(){E("navigator went offline"),b(p(t),R).call(p(t)),b(p(t),W).call(p(t))}}),m(p(t),D,{writable:!0,value:function(){E("ws opened"),t.emit("open"),clearTimeout(b(p(t),x)),w(p(t),x,setTimeout((function(){E("counting open as success"),w(p(t),T,0)}),5e3))}}),m(p(t),A,{writable:!0,value:function(e){w(p(t),C,e)}}),m(p(t),U,{writable:!0,value:function(e){try{var r=(0,a.decode)(new Uint8Array(e.data)),n=r.event,o=r.data,i=r.ack;return i?b(p(t),A).call(p(t),i):n?t.emit("event",n,o):console.error("Socket received message without event",e)}catch(t){return console.error("Error processing message",e.data,t.stack)}}}),m(p(t),F,{writable:!0,value:function(e){if(0===e)return 0;var r=1+.5*Math.random(),n=Math.floor(Math.pow(300*e,1.2)*r);return Math.min(Math.max(b(p(t),P),n),b(p(t),j))}}),m(p(t),W,{writable:!0,value:function(){if(b(p(t),S))E("reconnect skipped as socket was closed");else if(b(p(t),I))E("reconnect skipped as reconnect already scheduled");else{if(!1===navigator.onLine)return E("navigator offline"),void w(p(t),I,setTimeout((function(){w(p(t),I,null),b(p(t),W).call(p(t))}),1e3));var e=b(p(t),F).call(p(t),b(p(t),T));E("reconnecting in",e,"attempts",b(p(t),T)),w(p(t),I,setTimeout(l(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(p(t),I,null),!b(p(t),S)){e.next=5;break}console.warn("tried to reconnect after close"),e.next=9;break;case 5:return w(p(t),O,null),e.next=8,b(p(t),N).call(p(t)).catch(b(p(t),V));case 8:b(p(t),O)||b(p(t),S)||b(p(t),W).call(p(t));case 9:case"end":return e.stop()}}),e)}))),e)),w(p(t),T,b(p(t),T)+1)}}}),m(p(t),z,{writable:!0,value:function(){E("ws closed"),t.emit("close"),E("resetting message acks"),w(p(t),L,0),w(p(t),C,0),b(p(t),S)||b(p(t),W).call(p(t)),clearTimeout(b(p(t),x))}}),m(p(t),V,{writable:!0,value:function(e){b(p(t),S)?console.info("CobrowseIO: Called error after close.",e):0!==t.listenerCount("error")?t.emit("error",e):console.warn("CobrowseIO: Called handleError without listeners. Please report this.",e)}}),m(p(t),Y,{writable:!0,value:function(){t.send("ping")}}),v(p(t),"messageLag",(function(){return b(p(t),C)?b(p(t),L)-b(p(t),C):0})),v(p(t),"setMaxReconnectDelay",(function(e){E("set max delay",e),w(p(t),j,e)})),v(p(t),"setMinReconnectDelay",(function(e){E("set min delay",e),w(p(t),P,e)})),v(p(t),"send",(function(e,r){if(!t.connected)return!1;w(p(t),L,b(p(t),L)+1);var n=Date.now(),o=(0,a.encode)(r?{event:e,id:b(p(t),L),data:r}:{event:e});return E("encoded",e,"".concat(o.byteLength," bytes"),"in","".concat(Date.now()-n,"ms")),b(p(t),O).send(o),!0})),v(p(t),"close",(function(){var e;E("close"),w(p(t),S,!0);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(e=b(p(t),R)).call.apply(e,[p(t)].concat(n)),clearTimeout(b(p(t),I)),clearInterval(b(p(t),k)),t.removeAllListeners(),"undefined"!=typeof window&&(window.removeEventListener("unload",t.close),window.addEventListener("offline",b(p(t),M)))})),E("created cbor socket"),w(p(t),_,e),w(p(t),k,setInterval(b(p(t),Y),6e4)),"undefined"!=typeof window&&(window.addEventListener("unload",t.close),window.addEventListener("offline",b(p(t),M))),t.on("error",(function(e){return E("ws errored",e)})),b(p(t),W).call(p(t)),t}return t=s,(r=[{key:"bufferedAmount",get:function(){return b(this,O)?b(this,O).bufferedAmount:1/0}},{key:"connected",get:function(){return!!b(this,O)&&b(this,O).readyState===b(this,O).OPEN}}])&&f(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(u.EventEmitter);t.default=B},6683:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}r(5547),r(1624),r(2047),r(8534),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9244),r(2593),r(444),r(1076),r(1e3),r(5538);var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"fromImage",value:function(e){var t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0,t.width,t.height),this.fromCanvas(t)}},{key:"fromCanvas",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.3;if(1===t)return e.toDataURL?e.toDataURL("image/webp",r):null;var n=document.createElement("canvas"),o=n.getContext("2d");return n.width=e.width*t,n.height=e.height*t,o.drawImage(e,0,0,n.width,n.height),n.toDataURL("image/webp",r)}}],null&&o(t.prototype,null),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=i},1782:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}r(9244),r(2593),r(444),r(1076),r(5538),r(5547),r(1624),r(2047),r(8534),Object.defineProperty(t,"__esModule",{value:!0}),t.Deferred=void 0,r(1e3);var a=i((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.promise=new Promise((function(e,r){t.resolve=e,t.reject=r}))}));t.Deferred=a},9421:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}r(5547),r(1624),r(2047),r(8534),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(4011),r(1e3),r(9244),r(2593),r(444),r(1076),r(5538);var i=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rate=t,this.period=r,this._tracked=[]}var t,r;return t=e,(r=[{key:"limit",value:function(){var e=Date.now()-this.period;return this._tracked=this._tracked.filter((function(t){return t>e})),!(this._tracked.length<this.rate&&(this._tracked.push(Date.now()),1))}}])&&o(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=i},8755:function(e,t,r){"use strict";r(3064),r(9616),r(5547),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(1624),r(1e3),r(8719),r(2047),r(8534),r(3524),r(9344),r(3275),r(6565),r(9244),r(2593),r(444),r(1076),r(5538);var n,o=r(1239),i=(n=r(1381))&&n.__esModule?n:{default:n};function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function l(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(f,e);var t,r,n,o=(r=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(n){var o=s(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}(this,e)});function f(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),l(c(e=o.call(this)),"windows",new Set),l(c(e),"tap",(function(t){if(!e.windows.has(t)){e.windows.add(t);var r=c(e),n=t.history.pushState.bind(t.history);t.history.pushState=function(){var e=t.location.href;n.apply(void 0,arguments),r.emit("navigate",t,e)};var o=t.history.replaceState.bind(t.history);t.history.replaceState=function(){var e=t.location.href;o.apply(void 0,arguments),r.emit("navigate",t,e)};var a=t.CSSStyleSheet.prototype.insertRule;t.CSSStyleSheet.prototype.insertRule=function(){var e=a.bind(this).apply(void 0,arguments);return r.emit("stylechange",this),e};var u=t.CSSStyleSheet.prototype.deleteRule;t.CSSStyleSheet.prototype.deleteRule=function(){var e=u.bind(this).apply(void 0,arguments);return r.emit("stylechange",this),e};var s=t.CSSStyleSheet.prototype.replace;t.CSSStyleSheet.prototype.replace=function(){var e=s.bind(this).apply(void 0,arguments);return r.emit("stylechange",this),e};var l=t.CSSStyleSheet.prototype.replaceSync;t.CSSStyleSheet.prototype.replaceSync=function(){var e=l.bind(this).apply(void 0,arguments);return r.emit("stylechange",this),e};var f=function(e){Object.getOwnPropertyNames(e.prototype).forEach((function(t){try{if("function"!=typeof e.prototype[t])return}catch(e){return}var n=e.prototype[t];e.prototype[t]=function(){return this.canvas.__cbio_emit_change||(this.canvas.__cbio_emit_change=(0,i.default)((function(e){return r.emit("canvaschange",e)}),500,{leading:!1,trailing:!0})),this.canvas.__cbio_emit_change(this.canvas),n.apply(this,arguments)}}))};f(t.CanvasRenderingContext2D),f(t.WebGLRenderingContext)}})),l(c(e),"untap",(function(){})),e.setMaxListeners(200),e}return t=f,Object.defineProperty(t,"prototype",{writable:!1}),t}(o.EventEmitter),p=new d;t.default=p},1560:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(444),r(1076),r(5547),r(1624),r(2047),r(8534),r(8496),r(4802),r(2112),r(6353),r(3064),r(3275),r(6941),r(6257),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return u.apply(this,arguments)},r(1e3);var o=r(7743);function i(){i=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),u=new P(n||[]);return o(a,"_invoke",{value:S(e,r,u)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var p={};function h(){}function v(){}function y(){}var m={};l(m,u,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(k([])));w&&w!==t&&r.call(w,u)&&(m=w);var g=y.prototype=h.prototype=Object.create(m);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(o,a,u,c){var s=d(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,u,c)}),(function(e){i("throw",e,u,c)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=O(a,r);if(u){if(u===p)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=d(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=d(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function k(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return v.prototype=y,o(g,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(g),l(g,s,"Generator"),l(g,u,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function a(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function u(){var e;return e=i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.NodeSerializer.isLocalResource(window.location.href)&&console.warn("CobrowseIO: This page was loaded from a local address, Cobrowse may not work as expected due to inaccessible resources. We recommend using ngrok for testing development versions.");case 1:case"end":return e.stop()}}),e)})),u=function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){a(i,n,o,u,c,"next",e)}function c(e){a(i,n,o,u,c,"throw",e)}u(void 0)}))},u.apply(this,arguments)}},8520:function(e,t,r){"use strict";r(6941),r(6486),r(3524),r(444),r(1076),r(5547),Object.defineProperty(t,"__esModule",{value:!0}),t.discoverNodes=function(e,t,r,i){var a=new Set(e.addedNodes?[].slice.call(e.addedNodes):[]);i.has(e.target)||t.add(e.target);var u,c=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e))){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){c=!0,a=e},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw a}}}}(a);try{for(c.s();!(u=c.n()).done;){var s=u.value;n.NodeTree.depthFirst(s,(function(e){t.add(e),i.delete(e),r.add(e)}))}}catch(e){c.e(e)}finally{c.f()}e.removedNodes&&[].slice.call(e.removedNodes).forEach((function(e){n.NodeTree.depthFirst(e,(function(e){t.delete(e),r.delete(e),i.add(e)}))}))},r(1624),r(1e3),r(8719),r(2047),r(8534),r(6257),r(3275);var n=r(7743);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},2275:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getScrollBarSize=function(){if(null==r){var e,t,n=document.createElement("div");n.style.cssText="width: 100px; height: 100px; overflow: scroll; position: absolute; top: -500px; left: -500px; margin: 0px; padding: 0px; border: none;",null===(e=document.body)||void 0===e||e.appendChild(n),r=n.offsetWidth-n.clientWidth,null===(t=document.body)||void 0===t||t.removeChild(n)}return r};var r=null},3440:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.default,n=["X-CobrowseSDKVersion=".concat(r.version),"X-CobrowsePlatform=web","X-CobrowseDevice=".concat(r.deviceId()),"X-CobrowseLicense=".concat(r.license)].join("&"),i=new URL(e,r.api).toString().replace("https://","wss://").replace("http://","ws://");return new URL("sockets/1/ws?access_token=".concat(t,"&").concat(n),i).toString()},r(887),r(1e3),r(7285),r(1624),r(2047),r(8534),r(6955),r(8927),r(3524),r(9344),r(3114);var n,o=(n=r(1178))&&n.__esModule?n:{default:n}},7368:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.protect=function(e,t,r){e[n]||Object.defineProperty(e,n,{enumerable:!1,value:{}});var o=e[n][t];return Object.getPrototypeOf(Object.getPrototypeOf(e))[t]=o,Object.defineProperty(e[n],t,{enumerable:!1,value:r,configurable:!0}),r},r(444),r(1076),r(1e3),r(3064);var n=Symbol("protected"),o=n;t.default=o},453:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,r="",n=e;n>0;n-=1)r+=t[Math.floor(Math.random()*t.length)];return r},r(3114);var n="abcdefghijklmnopqrstuvwxyz",o="".concat("0123456789").concat(n.toLowerCase()).concat(n.toUpperCase())},5703:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delta=function(e,t){return r[e]?e&&t?r[t]-r[e]:Date.now()-r[e]:NaN},t.mark=function(e){r[e]=Date.now()};var r={load:Date.now()}},3191:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}r(5547),r(1624),r(2047),r(8534),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(3600),r(6770),r(9244),r(2593),r(444),r(1076),r(1e3),r(5538);var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"isHeadless",value:function(){return navigator.userAgent.toLowerCase().includes("headless")}}],null&&o(t.prototype,null),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=i},4039:function(e,t){"use strict";var r,n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.Node=t.MutationObserver=t.EventTarget=t.Event=t.Element=void 0;try{o=document.createElement("iframe"),document.documentElement.appendChild(o),o.style.display="none",o.className="__cbio_ignored",o.width=0,o.height=0}catch(e){console.warn("Failed to create unpolyfill iframe",e)}var i=null!==(r=null===(n=o)||void 0===n?void 0:n.contentWindow)&&void 0!==r?r:window,a=i.Node,u=i.Element,c=i.MutationObserver,s=i.Event,l=i.EventTarget;t.EventTarget=l,t.Event=s,t.MutationObserver=c,t.Element=u,t.Node=a},9856:function(e,t,r){var n={"./ar.json":7640,"./de.json":3316,"./en.json":995,"./es-MX.json":7693,"./es.json":7820,"./fr.json":5737,"./hi.json":5163,"./it.json":6911,"./ja.json":7327,"./kk.json":326,"./ko.json":8716,"./mr.json":509,"./nl.json":4504,"./pl.json":6583,"./pt-BR.json":8174,"./pt.json":573,"./ru.json":3190,"./sl.json":9520,"./uk.json":6111,"./vi.json":2707,"./zh-Hant.json":1798,"./zh.json":3604};function o(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id=9856},3936:function(e){"use strict";e.exports=require("cbor-x")},3114:function(e){"use strict";e.exports=require("core-js/modules/es.array.concat.js")},5220:function(e){"use strict";e.exports=require("core-js/modules/es.array.fill.js")},4011:function(e){"use strict";e.exports=require("core-js/modules/es.array.filter.js")},3015:function(e){"use strict";e.exports=require("core-js/modules/es.array.find-index.js")},6706:function(e){"use strict";e.exports=require("core-js/modules/es.array.find.js")},5793:function(e){"use strict";e.exports=require("core-js/modules/es.array.flat-map.js")},9450:function(e){"use strict";e.exports=require("core-js/modules/es.array.flat.js")},6486:function(e){"use strict";e.exports=require("core-js/modules/es.array.from.js")},3600:function(e){"use strict";e.exports=require("core-js/modules/es.array.includes.js")},1624:function(e){"use strict";e.exports=require("core-js/modules/es.array.iterator.js")},887:function(e){"use strict";e.exports=require("core-js/modules/es.array.join.js")},3133:function(e){"use strict";e.exports=require("core-js/modules/es.array.map.js")},6257:function(e){"use strict";e.exports=require("core-js/modules/es.array.slice.js")},1896:function(e){"use strict";e.exports=require("core-js/modules/es.array.sort.js")},3794:function(e){"use strict";e.exports=require("core-js/modules/es.array.splice.js")},1861:function(e){"use strict";e.exports=require("core-js/modules/es.array.unscopables.flat-map.js")},6121:function(e){"use strict";e.exports=require("core-js/modules/es.array.unscopables.flat.js")},2593:function(e){"use strict";e.exports=require("core-js/modules/es.date.to-primitive.js")},6941:function(e){"use strict";e.exports=require("core-js/modules/es.function.name.js")},2112:function(e){"use strict";e.exports=require("core-js/modules/es.json.to-string-tag.js")},4391:function(e){"use strict";e.exports=require("core-js/modules/es.map.js")},6353:function(e){"use strict";e.exports=require("core-js/modules/es.math.to-string-tag.js")},5538:function(e){"use strict";e.exports=require("core-js/modules/es.number.constructor.js")},6369:function(e){"use strict";e.exports=require("core-js/modules/es.object.assign.js")},1865:function(e){"use strict";e.exports=require("core-js/modules/es.object.entries.js")},5226:function(e){"use strict";e.exports=require("core-js/modules/es.object.get-own-property-descriptor.js")},9270:function(e){"use strict";e.exports=require("core-js/modules/es.object.get-own-property-descriptors.js")},6565:function(e){"use strict";e.exports=require("core-js/modules/es.object.get-own-property-names.js")},3064:function(e){"use strict";e.exports=require("core-js/modules/es.object.get-prototype-of.js")},5128:function(e){"use strict";e.exports=require("core-js/modules/es.object.keys.js")},1e3:function(e){"use strict";e.exports=require("core-js/modules/es.object.to-string.js")},1087:function(e){"use strict";e.exports=require("core-js/modules/es.object.values.js")},9616:function(e){"use strict";e.exports=require("core-js/modules/es.reflect.construct.js")},1112:function(e){"use strict";e.exports=require("core-js/modules/es.reflect.get.js")},9806:function(e){"use strict";e.exports=require("core-js/modules/es.regexp.constructor.js")},3524:function(e){"use strict";e.exports=require("core-js/modules/es.regexp.exec.js")},7285:function(e){"use strict";e.exports=require("core-js/modules/es.regexp.to-string.js")},8719:function(e){"use strict";e.exports=require("core-js/modules/es.set.js")},6770:function(e){"use strict";e.exports=require("core-js/modules/es.string.includes.js")},2047:function(e){"use strict";e.exports=require("core-js/modules/es.string.iterator.js")},3317:function(e){"use strict";e.exports=require("core-js/modules/es.string.match.js")},9344:function(e){"use strict";e.exports=require("core-js/modules/es.string.replace.js")},4354:function(e){"use strict";e.exports=require("core-js/modules/es.string.search.js")},685:function(e){"use strict";e.exports=require("core-js/modules/es.string.split.js")},4182:function(e){"use strict";e.exports=require("core-js/modules/es.string.starts-with.js")},242:function(e){"use strict";e.exports=require("core-js/modules/es.string.trim.js")},8496:function(e){"use strict";e.exports=require("core-js/modules/es.symbol.async-iterator.js")},1076:function(e){"use strict";e.exports=require("core-js/modules/es.symbol.description.js")},5547:function(e){"use strict";e.exports=require("core-js/modules/es.symbol.iterator.js")},444:function(e){"use strict";e.exports=require("core-js/modules/es.symbol.js")},9244:function(e){"use strict";e.exports=require("core-js/modules/es.symbol.to-primitive.js")},4802:function(e){"use strict";e.exports=require("core-js/modules/es.symbol.to-string-tag.js")},7639:function(e){"use strict";e.exports=require("core-js/modules/es.typed-array.copy-within.js")},6996:function(e){"use strict";e.exports=require("core-js/modules/es.typed-array.every.js")},1366:function(e){"use strict";e.exports=require("core-js/modules/es.typed-array.fill.js")},3558:function(e){"use strict";e.exports=require("core-js/modules/es.typed-array.filter.js")},8630:function(e){"use strict";e.exports=require("core-js/modules/es.typed-array.find-index.js")},8852:function(e){"use strict";e.exports=require("core-js/modules/es.typed-array.find.js")},8858:function(e){"use strict";e.exports=require("core-js/modules/es.typed-array.for-each.js")},6480:function(e){"use strict";e.exports=require("core-js/modules/es.typed-array.includes.js")},7219:function(e){"use strict";e.exports=require("core-js/modules/es.typed-array.index-of.js")},2160:function(e){"use strict";e.exports=require("core-js/modules/es.typed-array.iterator.js")},4289:function(e){"use strict";e.exports=require("core-js/modules/es.typed-array.join.js")},8165:function(e){"use strict";e.exports=require("core-js/modules/es.typed-array.last-index-of.js")},4613:function(e){"use strict";e.exports=require("core-js/modules/es.typed-array.map.js")},3748:function(e){"use strict";e.exports=require("core-js/modules/es.typed-array.reduce-right.js")},3292:function(e){"use strict";e.exports=require("core-js/modules/es.typed-array.reduce.js")},9157:function(e){"use strict";e.exports=require("core-js/modules/es.typed-array.reverse.js")},5529:function(e){"use strict";e.exports=require("core-js/modules/es.typed-array.set.js")},4882:function(e){"use strict";e.exports=require("core-js/modules/es.typed-array.slice.js")},7233:function(e){"use strict";e.exports=require("core-js/modules/es.typed-array.some.js")},1086:function(e){"use strict";e.exports=require("core-js/modules/es.typed-array.sort.js")},8786:function(e){"use strict";e.exports=require("core-js/modules/es.typed-array.subarray.js")},5544:function(e){"use strict";e.exports=require("core-js/modules/es.typed-array.to-locale-string.js")},1304:function(e){"use strict";e.exports=require("core-js/modules/es.typed-array.to-string.js")},2827:function(e){"use strict";e.exports=require("core-js/modules/es.typed-array.uint8-array.js")},1157:function(e){"use strict";e.exports=require("core-js/modules/es.weak-map.js")},9280:function(e){"use strict";e.exports=require("core-js/modules/es.weak-set.js")},3275:function(e){"use strict";e.exports=require("core-js/modules/web.dom-collections.for-each.js")},8534:function(e){"use strict";e.exports=require("core-js/modules/web.dom-collections.iterator.js")},8927:function(e){"use strict";e.exports=require("core-js/modules/web.url-search-params.js")},6955:function(e){"use strict";e.exports=require("core-js/modules/web.url.js")},1320:function(e){"use strict";e.exports=require("dompurify")},1239:function(e){"use strict";e.exports=require("events")},2449:function(e){"use strict";e.exports=require("events-polyfill/src/constructors")},2404:function(e){"use strict";e.exports=require("fast-deep-equal")},8340:function(e){"use strict";e.exports=require("glob-to-regexp")},6734:function(e){"use strict";e.exports=require("js-cookie")},113:function(e){"use strict";e.exports=require("lodash/isEqual")},1347:function(e){"use strict";e.exports=require("lodash/isMatchWith")},1381:function(e){"use strict";e.exports=require("lodash/throttle")},3231:function(e){"use strict";e.exports=require("ms")},5828:function(e){"use strict";e.exports=require("uuid")},7640:function(e){"use strict";e.exports=JSON.parse('{"ALLOW":"","DENY":"","END_SESSION":"  Cobrowse","FULL_DEVICE_REQUEST_DESCRIPTION":"     .   ","FULL_DEVICE_REQUEST_TITLE":"  ","REMOTE_CONTROL_REQUEST_DESCRIPTION":"     .    ","REMOTE_CONTROL_REQUEST_TITLE":"   ","SESSION_REQUEST_DESCRIPTION":"             ","SESSION_REQUEST_TITLE":" "}')},3316:function(e){"use strict";e.exports=JSON.parse('{"ALLOW":"Erlauben","DENY":"Ablehnen","END_SESSION":"Cobrowse-Sitzung beenden","FULL_DEVICE_REQUEST_DESCRIPTION":"Ein Support-Mitarbeiter mchte Ihren gesamten Bildschirm anzeigen. Mchtest du das zulassen?","FULL_DEVICE_REQUEST_TITLE":"Screen-Capture-Anforderung","REMOTE_CONTROL_REQUEST_DESCRIPTION":"Ein Support-Mitarbeiter mchte diese Seite steuern. Mchtest du das zulassen?","REMOTE_CONTROL_REQUEST_TITLE":"Fernsteuerungsanfrage","SESSION_REQUEST_DESCRIPTION":"Ein Support-Mitarbeiter mchte diese Webseite vorbergehend mit Ihnen nutzen. Mchtest du das zulassen?","SESSION_REQUEST_TITLE":"Supportanforderung"}')},995:function(e){"use strict";e.exports=JSON.parse('{"ALLOW":"Allow","DENY":"Deny","END_SESSION":"End Cobrowse Session","FULL_DEVICE_REQUEST_DESCRIPTION":"A support agent would like to view your entire screen. Do you want to allow this?","FULL_DEVICE_REQUEST_TITLE":"Screen Capture Request","REMOTE_CONTROL_REQUEST_DESCRIPTION":"A support agent would like to control this page. Do you want to allow this?","REMOTE_CONTROL_REQUEST_TITLE":"Remote Control Request","SESSION_REQUEST_DESCRIPTION":"A support agent would like to temporarily use this web page with you. Do you want to allow this?","SESSION_REQUEST_TITLE":"Support Request","UNIVERSAL_PROXY_REQUEST_DESCRIPTION":"A support agent would like to follow you to <span style=\'color: #3366CC;\'>{origin}</span>. Do you want to allow this?","UNIVERSAL_PROXY_REQUEST_TITLE":"Session Continuation Request"}')},7693:function(e){"use strict";e.exports=JSON.parse('{"ALLOW":"Permitir","DENY":"Denegar","END_SESSION":"Finalizar Sesin de Navegacin Conjunta","FULL_DEVICE_REQUEST_DESCRIPTION":"Un agente de soporte quiere ver toda su pantalla. Deseas permitir esto?","FULL_DEVICE_REQUEST_TITLE":"Solicitud de Captura de Pantalla","REMOTE_CONTROL_REQUEST_DESCRIPTION":"Un agente de soporte quiere controlar esta pgina. Deseas permitir esto?","REMOTE_CONTROL_REQUEST_TITLE":"Solicitud de Control Remoto","SESSION_REQUEST_DESCRIPTION":"Un agente de soporte quiere usar temporalmente esta pgina web con usted. Desea permitir esto?","SESSION_REQUEST_TITLE":"Solicitud de Soporte"}')},7820:function(e){"use strict";e.exports=JSON.parse('{"ALLOW":"Permitir","DENY":"Negar","END_SESSION":"Finalizar Sesin de Navegacin Conjunta","FULL_DEVICE_REQUEST_DESCRIPTION":"Un asistente de soporte solicita visualizar la totalidad de su pantalla. Desas permitir esto?","FULL_DEVICE_REQUEST_TITLE":"Solicitud de Captura de Pantalla","REMOTE_CONTROL_REQUEST_DESCRIPTION":"Un agente de soporte desea controlar esta pgina. Desea permitir esto?","REMOTE_CONTROL_REQUEST_TITLE":"Solicitud de Control Remoto","SESSION_REQUEST_DESCRIPTION":"Un agente de soporte quiere usar temporalmente esta pgina web con usted. Desea permitir esto?","SESSION_REQUEST_TITLE":"Solicitud de Soporte"}')},5737:function(e){"use strict";e.exports=JSON.parse('{"ALLOW":"Autoriser","DENY":"Refuser","END_SESSION":"Terminer la session de Cobrowse","FULL_DEVICE_REQUEST_DESCRIPTION":"Un agent de soutien souhaiterait voir l\'intgralit de votre cran. Donnez-vous votre autorisation ?","FULL_DEVICE_REQUEST_TITLE":"Demande de capture d\'cran","REMOTE_CONTROL_REQUEST_DESCRIPTION":"Un agent du soutien souhaiterait avoir le contrle de cette page. Donnez-vous votre autorisation ?","REMOTE_CONTROL_REQUEST_TITLE":"Demande de commande  distance","SESSION_REQUEST_DESCRIPTION":"Un agent de soutien souhaiterait temporairement utiliser cette page Web avec vous. Donnez-vous votre autorisation ?","SESSION_REQUEST_TITLE":"Demande de soutien"}')},5163:function(e){"use strict";e.exports=JSON.parse('{"ALLOW":" ","DENY":" ","END_SESSION":"   ","FULL_DEVICE_REQUEST_DESCRIPTION":"        ","FULL_DEVICE_REQUEST_TITLE":"  ","REMOTE_CONTROL_REQUEST_DESCRIPTION":"          ","REMOTE_CONTROL_REQUEST_TITLE":"  ","SESSION_REQUEST_DESCRIPTION":"               ","SESSION_REQUEST_TITLE":"   "}')},6911:function(e){"use strict";e.exports=JSON.parse('{"ALLOW":"Consenti","DENY":"Nega","END_SESSION":"Termina la sessione di Cobrowse","FULL_DEVICE_REQUEST_DESCRIPTION":"Un agente dell\'assistenza desidera visualizzare tutto il tuo schermo. Acconsenti?","FULL_DEVICE_REQUEST_TITLE":"Richiesta di cattura dello schermo","REMOTE_CONTROL_REQUEST_DESCRIPTION":"Un agente dell\'assistenza desidera controllare questa pagina. Acconsenti?","REMOTE_CONTROL_REQUEST_TITLE":"Richiesta di controllo da remoto","SESSION_REQUEST_DESCRIPTION":"Un agente dell\'assistenza vorrebbe utilizzare temporaneamente questa pagina web con te. Vuoi permetterlo?","SESSION_REQUEST_TITLE":"Richiesta di assistenza"}')},7327:function(e){"use strict";e.exports=JSON.parse('{"ALLOW":"","DENY":"","END_SESSION":"","FULL_DEVICE_REQUEST_DESCRIPTION":"","FULL_DEVICE_REQUEST_TITLE":"","REMOTE_CONTROL_REQUEST_DESCRIPTION":"","REMOTE_CONTROL_REQUEST_TITLE":"","SESSION_REQUEST_DESCRIPTION":"Web","SESSION_REQUEST_TITLE":""}')},326:function(e){"use strict";e.exports=JSON.parse('{"ALLOW":" ","DENY":" ","END_SESSION":"   ","FULL_DEVICE_REQUEST_DESCRIPTION":"     . ","FULL_DEVICE_REQUEST_TITLE":"  ","REMOTE_CONTROL_REQUEST_DESCRIPTION":"     .     ?","REMOTE_CONTROL_REQUEST_TITLE":"  ","SESSION_REQUEST_DESCRIPTION":"   -    . ","SESSION_REQUEST_TITLE":" "}')},8716:function(e){"use strict";e.exports=JSON.parse('{"ALLOW":"","DENY":"","END_SESSION":"Cobrowse  ","FULL_DEVICE_REQUEST_DESCRIPTION":"  ?","FULL_DEVICE_REQUEST_TITLE":"","REMOTE_CONTROL_REQUEST_DESCRIPTION":"  ?","REMOTE_CONTROL_REQUEST_TITLE":"  ","SESSION_REQUEST_DESCRIPTION":"         .  ?","SESSION_REQUEST_TITLE":" "}')},509:function(e){"use strict";e.exports=JSON.parse('{"ALLOW":" ","DENY":" ","END_SESSION":"   ","FULL_DEVICE_REQUEST_DESCRIPTION":"      . ","FULL_DEVICE_REQUEST_TITLE":"  ","REMOTE_CONTROL_REQUEST_DESCRIPTION":"       .      ?","REMOTE_CONTROL_REQUEST_TITLE":"  ","SESSION_REQUEST_DESCRIPTION":"        . ","SESSION_REQUEST_TITLE":" "}')},4504:function(e){"use strict";e.exports=JSON.parse('{"ALLOW":"samenhang\\n","DENY":"Afwijzen","END_SESSION":"Cobrowse-sessie beindigen","FULL_DEVICE_REQUEST_DESCRIPTION":"Een support agent wilt jouw volledige scherm zien. Wil jij dit toestaan?","FULL_DEVICE_REQUEST_TITLE":"Schermopname verzoek","REMOTE_CONTROL_REQUEST_DESCRIPTION":"Een support agent wilt graag deze pagina bedienen. Wil jij dit toestaan?","REMOTE_CONTROL_REQUEST_TITLE":"Verzoek voor bediening op afstand","SESSION_REQUEST_DESCRIPTION":"Een support agent wilt graag deze webpagina tijdelijk met u gebruiken.","SESSION_REQUEST_TITLE":"Supportverzoek"}')},6583:function(e){"use strict";e.exports=JSON.parse('{"ALLOW":"Umoliwi","DENY":"Zaprzeczy","END_SESSION":"Zakocz sesj Cobrowse","FULL_DEVICE_REQUEST_DESCRIPTION":"Pracownik dziau pomocy chciaby zobaczy cay Twj ekran. ","FULL_DEVICE_REQUEST_TITLE":"danie przechwycenia ekranu","REMOTE_CONTROL_REQUEST_DESCRIPTION":"Pracownik dziau pomocy chciaby kontrolowa t stron. ","REMOTE_CONTROL_REQUEST_TITLE":"danie zdalnego sterowania","SESSION_REQUEST_DESCRIPTION":"Pracownik dziau pomocy chciaby tymczasowo korzysta z tej strony internetowej razem z Tob. ","SESSION_REQUEST_TITLE":"danie wsparcia"}')},8174:function(e){"use strict";e.exports=JSON.parse('{"ALLOW":"Permitir","DENY":"Negar","END_SESSION":"Terminar Sesso de Cobrowse","FULL_DEVICE_REQUEST_DESCRIPTION":"Um agente de suporte gostaria de ver sua tela inteira. ","FULL_DEVICE_REQUEST_TITLE":"Solicitao de captura de tela","REMOTE_CONTROL_REQUEST_DESCRIPTION":"Um agente de suporte gostaria de controlar esta pgina. ","REMOTE_CONTROL_REQUEST_TITLE":"Solicitao de controle remoto","SESSION_REQUEST_DESCRIPTION":"Um agente de suporte gostaria de usar temporariamente esta pgina da web com voc. ","SESSION_REQUEST_TITLE":"Solicitao de suporte"}')},573:function(e){"use strict";e.exports=JSON.parse('{"ALLOW":"Permitir","DENY":"Negado","END_SESSION":"Terminar Sesso de Cobrowse","FULL_DEVICE_REQUEST_DESCRIPTION":"Um agente de suporte gostaria de ver sua tela inteira. ","FULL_DEVICE_REQUEST_TITLE":"Solicitao de captura de tela","REMOTE_CONTROL_REQUEST_DESCRIPTION":"Um agente de suporte gostaria de controlar esta pgina. ","REMOTE_CONTROL_REQUEST_TITLE":"Pedido de Controlo Remoto","SESSION_REQUEST_DESCRIPTION":"Um agente de suporte gostaria de usar temporariamente esta pgina da web com voc. ","SESSION_REQUEST_TITLE":"Solicitao de suporte"}')},3190:function(e){"use strict";e.exports=JSON.parse('{"ALLOW":"","DENY":"","END_SESSION":"   ","FULL_DEVICE_REQUEST_DESCRIPTION":"       .    ?","FULL_DEVICE_REQUEST_TITLE":"   ","REMOTE_CONTROL_REQUEST_DESCRIPTION":"      .    ?","REMOTE_CONTROL_REQUEST_TITLE":"  ","SESSION_REQUEST_DESCRIPTION":"        -  .    ?","SESSION_REQUEST_TITLE":" "}')},9520:function(e){"use strict";e.exports=JSON.parse('{"ALLOW":"Dovoli","DENY":"Zanikati","END_SESSION":"Konaj sejo Cobrowse","FULL_DEVICE_REQUEST_DESCRIPTION":"Agent za podporo si eli ogledati va celoten zaslon. ","FULL_DEVICE_REQUEST_TITLE":"Zahteva za zajem zaslona","REMOTE_CONTROL_REQUEST_DESCRIPTION":"Podporni agent eli nadzorovati to stran. Ali elite to dovoliti?","REMOTE_CONTROL_REQUEST_TITLE":"Zahteva za daljinsko upravljanje","SESSION_REQUEST_DESCRIPTION":"Agent za podporo eli zaasno uporabljati to spletno stran z vami. ","SESSION_REQUEST_TITLE":"Zahteva za podporo"}')},6111:function(e){"use strict";e.exports=JSON.parse('{"DENY":"","END_SESSION":"  Cobrowse","FULL_DEVICE_REQUEST_DESCRIPTION":"       .    ?","FULL_DEVICE_REQUEST_TITLE":"   ","REMOTE_CONTROL_REQUEST_DESCRIPTION":"      .    ?","SESSION_REQUEST_DESCRIPTION":"        -   .    ?","SESSION_REQUEST_TITLE":"  "}')},2707:function(e){"use strict";e.exports=JSON.parse('{"ALLOW":"Cho php","DENY":"T chi","END_SESSION":"Kt thc phin Cobrowse","FULL_DEVICE_REQUEST_DESCRIPTION":"Mt tng i vin h tr mun xem ton b mn hnh ca bn. Bn c mun cho php iu ny khng?","FULL_DEVICE_REQUEST_TITLE":"Yu cu chp mn hnh","REMOTE_CONTROL_REQUEST_DESCRIPTION":"Mt tng i vin h tr mun kim sot trang ny. Bn c mun cho php iu ny khng?","REMOTE_CONTROL_REQUEST_TITLE":"Yu cu iu khin t xa","SESSION_REQUEST_DESCRIPTION":"Mt tng i vin mun tm thi s dng trang web ny vi bn. Bn c mun cho php vic ny khng?","SESSION_REQUEST_TITLE":"Yu cu h tr"}')},1798:function(e){"use strict";e.exports=JSON.parse('{"ALLOW":"","DENY":"","END_SESSION":"","FULL_DEVICE_REQUEST_DESCRIPTION":"","FULL_DEVICE_REQUEST_TITLE":"","REMOTE_CONTROL_REQUEST_DESCRIPTION":"","REMOTE_CONTROL_REQUEST_TITLE":"","SESSION_REQUEST_DESCRIPTION":"","SESSION_REQUEST_TITLE":""}')},3604:function(e){"use strict";e.exports=JSON.parse('{"ALLOW":"","DENY":"","END_SESSION":"","FULL_DEVICE_REQUEST_DESCRIPTION":"","FULL_DEVICE_REQUEST_TITLE":"","REMOTE_CONTROL_REQUEST_DESCRIPTION":"","REMOTE_CONTROL_REQUEST_TITLE":"","SESSION_REQUEST_DESCRIPTION":"","SESSION_REQUEST_TITLE":""}')}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var n={};return function(){"use strict";var e=n;e.default=void 0;var t,o=(t=r(1178))&&t.__esModule?t:{default:t},i=o.default;if(window.__cobrowse_io_loaded)throw o.default=function(){throw new Error('"CobrowseIO" is read-only.')}(),new Error("CobrowseIO already loaded. This usually means you included the snippet multiple times.");window.__cobrowse_io_loaded=!0;var a=i;e.default=a}(),n.default}()}));