import{r as e,a as t,b as n,c as i,d as r,e as a,f as o,g as s,h as u,i as l,j as c,k as d,l as h,_ as p,m as f,n as m,D as O,s as g}from"./universal-client.mjs";import"./universal-client.BczVx80p.mjs";var D,v={};!function(){if(D)return v;D=1;var r=e(),a=t(),o=n().f,s=i().f,u=r.Symbol;if(a("dispose"),u){var l=s(u,"dispose");l.enumerable&&l.configurable&&l.writable&&o(u,"dispose",{value:l.value,enumerable:!1,configurable:!1,writable:!1})}}();var E,C={};!function(){if(E)return C;E=1;var e=r(),t=a(),n=o(),i=s(),c=u(),d=l().IteratorPrototype,h=c("dispose");i(d,h)||t(d,h,function(){var t=n(this,"return");t&&e(t,this)})}();var b,k={};!function(){if(b)return k;b=1;var e=c(),t=d(),n=h();e({target:"Object",stat:!0},{fromEntries:function(e){var i={};return t(e,function(e,t){n(i,e,t)},{AS_ENTRIES:!0}),i}})}();const T=["children"],y=["children"],A=["children"],S=["active"],_=["active","initial"],F=["visible","className","grow","dep"],w=["visible","children","className","grow","dep"],x=["variant","children","icon","className","iconClassName","truncate"],P=["children","className"],R=["children","className"],I=["children","className"],Q=["code","language","className"],N=["node","className","src","alt"],B=["children","className"],M=["children","className","node"],L=["children","className","node"],$=["children","className","node"],U=["className","node"],q=["children","className","node"],X=["children","className","href","node"],z=["children","className","node"],Z=["children","className","node"],j=["children","className","node"],W=["children","className","node"],G=["children","className","node"],V=["children","className","node"],Y=["node"],H=["children","className","node"],K=["children","className","node"],J=["children","className","node"],ee=["children","className","node"],te=["children","className","node"],ne=["children","className","node"],ie=["children","className","node"],re=["children","className","node"],ae=["children","className","node"],oe=["node","className","children"],se=["children","className","node"],ue=["children"],le=["className"],ce=["scope","children"],de=["children"],he=["children"],pe=["scope","children"],fe=["asChild"],me=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"],Oe=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"],ge=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],De=["strategy"],ve=["mainAxis","crossAxis","limiter"],Ee=["apply"],Ce=["children","width","height"],be=["__scopePopper","virtualRef"],ke=["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"],Te=["__scopePopper"],ye=["container"],Ae=["__scopeSelect","disabled"],Se=["__scopeSelect","className","style","children","placeholder"],_e=["__scopeSelect","children"],Fe=["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"],we=["__scopeSelect","onPlaced"],xe=["__scopeSelect","align","collisionPadding"],Pe=["__scopeSelect","nonce"],Re=["__scopeSelect"],Ie=["__scopeSelect"],Qe=["__scopeSelect","value","disabled","textValue"],Ne=["__scopeSelect","className","style"],Be=["__scopeSelect"],Me=["__scopeSelect","onAutoScroll"],Le=["__scopeSelect"],$e=["__scopeSelect"],Ue=["__scopeSelect","value"],qe=["size","flagCode","className"],Xe=["children"],ze=["className"],Ze=["className"],je=["iconOnly","isDisconnected","children"],We=["onDismiss","className"],Ge=["expanded","className","onDismiss"],Ve=["expanded","className","onDismiss"],Ye=["visible","className"],He=["className","onDismiss"],Ke=["className","onDismiss"],Je=["className","onExpand"];var et,tt,nt,it,rt,at,ot,st,ut,lt,ct,dt,ht,pt=Object.defineProperty,ft=(e,t,n)=>((e,t,n)=>t in e?pt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),mt={},Ot=[],gt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Dt=Array.isArray;function vt(e,t){for(var n in t)e[n]=t[n];return e}function Et(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Ct(e,t,n){var i,r,a,o={};for(a in t)"key"==a?i=t[a]:"ref"==a?r=t[a]:o[a]=t[a];if(arguments.length>2&&(o.children=arguments.length>3?et.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===o[a]&&(o[a]=e.defaultProps[a]);return bt(e,o,i,r,null)}function bt(e,t,n,i,r){var a={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null!=r?r:++nt,__i:-1,__u:0};return null==r&&null!=tt.vnode&&tt.vnode(a),a}function kt(){return{current:null}}function Tt(e){return e.children}function yt(e,t){this.props=e,this.context=t}function At(e,t){if(null==t)return e.__?At(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?At(e):null}function St(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return St(e)}}function _t(e){(!e.__d&&(e.__d=!0)&&rt.push(e)&&!Ft.__r++||at!=tt.debounceRendering)&&((at=tt.debounceRendering)||ot)(Ft)}function Ft(){for(var e,t,n,i,r,a,o,s=1;rt.length;)rt.length>s&&rt.sort(st),e=rt.shift(),s=rt.length,e.__d&&(n=void 0,i=void 0,r=(i=(t=e).__v).__e,a=[],o=[],t.__P&&((n=vt({},i)).__v=i.__v+1,tt.vnode&&tt.vnode(n),Bt(t.__P,n,i,t.__n,t.__P.namespaceURI,32&i.__u?[r]:null,a,null!=r?r:At(i),!!(32&i.__u),o),n.__v=i.__v,n.__.__k[n.__i]=n,Lt(a,n,o),i.__e=i.__=null,n.__e!=r&&St(n)));Ft.__r=0}function wt(e,t,n,i,r,a,o,s,u,l,c){var d,h,p,f,m,O,g,D=i&&i.__k||Ot,v=t.length;for(u=function(e,t,n,i,r){var a,o,s,u,l,c=n.length,d=c,h=0;for(e.__k=new Array(r),a=0;a<r;a++)null!=(o=t[a])&&"boolean"!=typeof o&&"function"!=typeof o?("string"==typeof o||"number"==typeof o||"bigint"==typeof o||o.constructor==String?o=e.__k[a]=bt(null,o,null,null,null):Dt(o)?o=e.__k[a]=bt(Tt,{children:o},null,null,null):null==o.constructor&&o.__b>0?o=e.__k[a]=bt(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):e.__k[a]=o,u=a+h,o.__=e,o.__b=e.__b+1,-1!=(l=o.__i=Rt(o,n,u,d))&&(d--,(s=n[l])&&(s.__u|=2)),null==s||null==s.__v?(-1==l&&(r>c?h--:r<c&&h++),"function"!=typeof o.type&&(o.__u|=4)):l!=u&&(l==u-1?h--:l==u+1?h++:(l>u?h--:h++,o.__u|=4))):e.__k[a]=null;if(d)for(a=0;a<c;a++)null!=(s=n[a])&&!(2&s.__u)&&(s.__e==i&&(i=At(s)),qt(s,s));return i}(n,t,D,u,v),d=0;d<v;d++)null!=(p=n.__k[d])&&(h=-1==p.__i?mt:D[p.__i]||mt,p.__i=d,O=Bt(e,p,h,r,a,o,s,u,l,c),f=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&Ut(h.ref,null,p),c.push(p.ref,p.__c||f,p)),null==m&&null!=f&&(m=f),(g=!!(4&p.__u))||h.__k===p.__k?u=xt(p,u,e,g):"function"==typeof p.type&&void 0!==O?u=O:f&&(u=f.nextSibling),p.__u&=-7);return n.__e=m,u}function xt(e,t,n,i){var r,a;if("function"==typeof e.type){for(r=e.__k,a=0;r&&a<r.length;a++)r[a]&&(r[a].__=e,t=xt(r[a],t,n,i));return t}e.__e!=t&&(i&&(t&&e.type&&!t.parentNode&&(t=At(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8==t.nodeType);return t}function Pt(e,t){return t=t||[],null==e||"boolean"==typeof e||(Dt(e)?e.some(function(e){Pt(e,t)}):t.push(e)),t}function Rt(e,t,n,i){var r,a,o,s=e.key,u=e.type,l=t[n],c=null!=l&&!(2&l.__u);if(null===l&&null==s||c&&s==l.key&&u==l.type)return n;if(i>(c?1:0))for(r=n-1,a=n+1;r>=0||a<t.length;)if(null!=(l=t[o=r>=0?r--:a++])&&!(2&l.__u)&&s==l.key&&u==l.type)return o;return-1}function It(e,t,n){"-"==t[0]?e.setProperty(t,null!=n?n:""):e[t]=null==n?"":"number"!=typeof n||gt.test(t)?n:n+"px"}function Qt(e,t,n,i,r){var a,o;e:if("style"==t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof i&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||It(e.style,t,"");if(n)for(t in n)i&&n[t]==i[t]||It(e.style,t,n[t])}else if("o"==t[0]&&"n"==t[1])a=t!=(t=t.replace(ut,"$1")),o=t.toLowerCase(),t=o in e||"onFocusOut"==t||"onFocusIn"==t?o.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?i?n.u=i.u:(n.u=lt,e.addEventListener(t,a?dt:ct,a)):e.removeEventListener(t,a?dt:ct,a);else{if("http://www.w3.org/2000/svg"==r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null!=n?n:"";break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function Nt(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.t)t.t=lt++;else if(t.t<n.u)return;return n(tt.event?tt.event(t):t)}}}function Bt(e,t,n,i,r,a,o,s,u,l){var c,d,h,p,f,m,O,g,D,v,E,C,b,k,T,y,A,S=t.type;if(null!=t.constructor)return null;128&n.__u&&(u=!!(32&n.__u),a=[s=t.__e=n.__e]),(c=tt.__b)&&c(t);e:if("function"==typeof S)try{if(g=t.props,D="prototype"in S&&S.prototype.render,v=(c=S.contextType)&&i[c.__c],E=c?v?v.props.value:c.__:i,n.__c?O=(d=t.__c=n.__c).__=d.__E:(D?t.__c=d=new S(g,E):(t.__c=d=new yt(g,E),d.constructor=S,d.render=Xt),v&&v.sub(d),d.state||(d.state={}),d.__n=i,h=d.__d=!0,d.__h=[],d._sb=[]),D&&null==d.__s&&(d.__s=d.state),D&&null!=S.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=vt({},d.__s)),vt(d.__s,S.getDerivedStateFromProps(g,d.__s))),p=d.props,f=d.state,d.__v=t,h)D&&null==S.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),D&&null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(D&&null==S.getDerivedStateFromProps&&g!==p&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(g,E),t.__v==n.__v||!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(g,d.__s,E)){for(t.__v!=n.__v&&(d.props=g,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(e){e&&(e.__=t)}),C=0;C<d._sb.length;C++)d.__h.push(d._sb[C]);d._sb=[],d.__h.length&&o.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(g,d.__s,E),D&&null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(p,f,m)})}if(d.context=E,d.props=g,d.__P=e,d.__e=!1,b=tt.__r,k=0,D){for(d.state=d.__s,d.__d=!1,b&&b(t),c=d.render(d.props,d.state,d.context),T=0;T<d._sb.length;T++)d.__h.push(d._sb[T]);d._sb=[]}else do{d.__d=!1,b&&b(t),c=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++k<25);d.state=d.__s,null!=d.getChildContext&&(i=vt(vt({},i),d.getChildContext())),D&&!h&&null!=d.getSnapshotBeforeUpdate&&(m=d.getSnapshotBeforeUpdate(p,f)),y=c,null!=c&&c.type===Tt&&null==c.key&&(y=$t(c.props.children)),s=wt(e,Dt(y)?y:[y],t,n,i,r,a,o,s,u,l),d.base=t.__e,t.__u&=-161,d.__h.length&&o.push(d),O&&(d.__E=d.__=null)}catch(e){if(t.__v=null,u||null!=a)if(e.then){for(t.__u|=u?160:128;s&&8==s.nodeType&&s.nextSibling;)s=s.nextSibling;a[a.indexOf(s)]=null,t.__e=s}else{for(A=a.length;A--;)Et(a[A]);Mt(t)}else t.__e=n.__e,t.__k=n.__k,e.then||Mt(t);tt.__e(e,t,n)}else null==a&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):s=t.__e=function(e,t,n,i,r,a,o,s,u){var l,c,d,h,p,f,m,O=n.props||mt,g=t.props,D=t.type;if("svg"==D?r="http://www.w3.org/2000/svg":"math"==D?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),null!=a)for(l=0;l<a.length;l++)if((p=a[l])&&"setAttribute"in p==!!D&&(D?p.localName==D:3==p.nodeType)){e=p,a[l]=null;break}if(null==e){if(null==D)return document.createTextNode(g);e=document.createElementNS(r,D,g.is&&g),s&&(tt.__m&&tt.__m(t,a),s=!1),a=null}if(null==D)O===g||s&&e.data==g||(e.data=g);else{if(a=a&&et.call(e.childNodes),!s&&null!=a)for(O={},l=0;l<e.attributes.length;l++)O[(p=e.attributes[l]).name]=p.value;for(l in O)if(p=O[l],"children"!=l)if("dangerouslySetInnerHTML"==l)d=p;else if(!(l in g)){if("value"==l&&"defaultValue"in g||"checked"==l&&"defaultChecked"in g)continue;Qt(e,l,null,p,r)}for(l in g)p=g[l],"children"==l?h=p:"dangerouslySetInnerHTML"==l?c=p:"value"==l?f=p:"checked"==l?m=p:s&&"function"!=typeof p||O[l]===p||Qt(e,l,p,O[l],r);if(c)s||d&&(c.__html==d.__html||c.__html==e.innerHTML)||(e.innerHTML=c.__html),t.__k=[];else if(d&&(e.innerHTML=""),wt("template"==t.type?e.content:e,Dt(h)?h:[h],t,n,i,"foreignObject"==D?"http://www.w3.org/1999/xhtml":r,a,o,a?a[0]:n.__k&&At(n,0),s,u),null!=a)for(l=a.length;l--;)Et(a[l]);s||(l="value","progress"==D&&null==f?e.removeAttribute("value"):null!=f&&(f!==e[l]||"progress"==D&&!f||"option"==D&&f!=O[l])&&Qt(e,l,f,O[l],r),l="checked",null!=m&&m!=e[l]&&Qt(e,l,m,O[l],r))}return e}(n.__e,t,n,i,r,a,o,u,l);return(c=tt.diffed)&&c(t),128&t.__u?void 0:s}function Mt(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(Mt)}function Lt(e,t,n){for(var i=0;i<n.length;i++)Ut(n[i],n[++i],n[++i]);tt.__c&&tt.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){tt.__e(e,t.__v)}})}function $t(e){return"object"!=typeof e||null==e||e.__b&&e.__b>0?e:Dt(e)?e.map($t):vt({},e)}function Ut(e,t,n){try{if("function"==typeof e){var i="function"==typeof e.__u;i&&e.__u(),i&&null==t||(e.__u=e(t))}else e.current=t}catch(e){tt.__e(e,n)}}function qt(e,t,n){var i,r;if(tt.unmount&&tt.unmount(e),(i=e.ref)&&(i.current&&i.current!=e.__e||Ut(i,null,t)),null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){tt.__e(e,t)}i.base=i.__P=null}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&qt(i[r],t,n||"function"!=typeof e.type);n||Et(e.__e),e.__c=e.__=e.__e=void 0}function Xt(e,t,n){return this.constructor(e,n)}function zt(e,t,n){var i,r,a,o;t==document&&(t=document.documentElement),tt.__&&tt.__(e,t),r=(i="function"==typeof n)?null:n&&n.__k||t.__k,a=[],o=[],Bt(t,e=(!i&&n||t).__k=Ct(Tt,null,[e]),r||mt,mt,t.namespaceURI,!i&&n?[n]:r?null:t.firstChild?et.call(t.childNodes):null,a,!i&&n?n:r?r.__e:t.firstChild,i,o),Lt(a,e,o)}function Zt(e,t){zt(e,t,Zt)}function jt(e,t,n){var i,r,a,o,s=vt({},e.props);for(a in e.type&&e.type.defaultProps&&(o=e.type.defaultProps),t)"key"==a?i=t[a]:"ref"==a?r=t[a]:s[a]=void 0===t[a]&&null!=o?o[a]:t[a];return arguments.length>2&&(s.children=arguments.length>3?et.call(arguments,2):n),bt(e.type,s,i||e.key,r||e.ref,null)}function Wt(e){function t(e){var n,i;return this.getChildContext||(n=new Set,(i={})[t.__c]=this,this.getChildContext=function(){return i},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(e){this.props.value!=e.value&&n.forEach(function(e){e.__e=!0,_t(e)})},this.sub=function(e){n.add(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n&&n.delete(e),t&&t.call(e)}}),e.children}return t.__c="__cC"+ht++,t.__=e,t.Provider=t.__l=(t.Consumer=function(e,t){return e.children(t)}).contextType=t,t}function Gt(){return Gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Gt.apply(this,arguments)}function Vt(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)t.indexOf(n=a[i])>=0||(r[n]=e[n]);return r}et=Ot.slice,tt={__e:function(e,t,n,i){for(var r,a,o;t=t.__;)if((r=t.__c)&&!r.__)try{if((a=r.constructor)&&null!=a.getDerivedStateFromError&&(r.setState(a.getDerivedStateFromError(e)),o=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e,i||{}),o=r.__d),o)return r.__E=r}catch(t){e=t}throw e}},nt=0,it=function(e){return null!=e&&null==e.constructor},yt.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=vt({},this.state),"function"==typeof e&&(e=e(vt({},n),this.props)),e&&vt(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),_t(this))},yt.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),_t(this))},yt.prototype.render=Tt,rt=[],ot="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,st=function(e,t){return e.__v.__b-t.__v.__b},Ft.__r=0,ut=/(PointerCapture)$|Capture$/i,lt=0,ct=Nt(!1),dt=Nt(!0),ht=0;var Yt=["context","children"],Ht=["useFragment"];function Kt(e,t,n,i){function r(){var t,n=Reflect.construct(HTMLElement,[],r);return n._vdomComponent=e,i&&i.shadow?(n._root=n.attachShadow({mode:i.mode||"open",serializable:null!=(t=i.serializable)&&t}),i.adoptedStyleSheets&&(n._root.adoptedStyleSheets=i.adoptedStyleSheets)):n._root=n,n}return(r.prototype=Object.create(HTMLElement.prototype)).constructor=r,r.prototype.connectedCallback=function(){en.call(this,i)},r.prototype.attributeChangedCallback=nn,r.prototype.disconnectedCallback=rn,n=n||e.observedAttributes||Object.keys(e.propTypes||{}),r.observedAttributes=n,e.formAssociated&&(r.formAssociated=!0),n.forEach(function(e){Object.defineProperty(r.prototype,e,{get:function(){return this._vdom?this._vdom.props[e]:this._props[e]},set:function(t){this._vdom?this.attributeChangedCallback(e,null,t):(this._props||(this._props={}),this._props[e]=t);var n=typeof t;null!=t&&"string"!==n&&"boolean"!==n&&"number"!==n||this.setAttribute(e,t)}})}),customElements.define(t||e.tagName||e.displayName||e.name,r),r}function Jt(e){return this.getChildContext=function(){return e.context},jt(e.children,Vt(e,Yt))}function en(e){var t=new CustomEvent("_preact",{detail:{},bubbles:!0,cancelable:!0});this.dispatchEvent(t),this._vdom=Ct(Jt,Gt({},this._props,{context:t.detail.context}),on(this,this._vdomComponent,e)),(this.hasAttribute("hydrate")?Zt:zt)(this._vdom,this._root)}function tn(e){return e.replace(/-(\w)/g,function(e,t){return t?t.toUpperCase():""})}function nn(e,t,n){if(this._vdom){var i={};i[e]=n=null!=n?n:void 0,i[tn(e)]=n,this._vdom=jt(this._vdom,i),zt(this._vdom,this._root)}}function rn(){zt(this._vdom=null,this._root)}function an(e,t){var n=this;return Ct(e.useFragment?Tt:"slot",Gt({},Vt(e,Ht),{ref:function(e){e?(n.ref=e,n._listener||(n._listener=function(e){e.stopPropagation(),e.detail.context=t},e.addEventListener("_preact",n._listener))):n.ref.removeEventListener("_preact",n._listener)}}))}function on(e,t,n){if(3===e.nodeType)return e.data;if(1!==e.nodeType)return null;var i=[],r={},a=0,o=e.attributes,s=e.childNodes;for(a=o.length;a--;)"slot"!==o[a].name&&(r[o[a].name]=o[a].value,r[tn(o[a].name)]=o[a].value);for(a=s.length;a--;){var u=on(s[a],null,n),l=s[a].slot;l?r[l]=Ct(an,{name:l},u):i[a]=u}var c=!(!n||!n.shadow),d=t?Ct(an,{useFragment:!c},i):i;return!c&&t&&(e.innerHTML=""),Ct(t||e.nodeName.toLowerCase(),r,d)}function sn(e){return e?"true"===e||"false"!==e&&null:null}function un(e){if(!e)return null;try{return JSON.parse(e)}catch(e){console.error("Failed to parse JSON attribute",e)}return null}const ln=["variant","placement","override-config","avatar-image-url","avatar-orb-color-1","avatar-orb-color-2","agent-id","signed-url","terms-key","server-location","language","dynamic-variables","show-avatar-when-collapsed","override-prompt","override-llm","override-speed","override-stability","override-similarity-boost","override-first-message","override-language","override-voice-id","override-text-only","mic-muting","transcript","transcript-entries","text-input","text-contents","default-expanded","always-expanded","dismissible","strip-audio-tags","user-id","use-rtc","auto-resume","collect-feedback","worklet-path-raw-audio-processor","worklet-path-audio-concat-processor","worklet-path-libsamplerate","syntax-highlight-theme","markdown-link-allowed-hosts","markdown-link-include-www","markdown-link-allow-http","show-agent-status"];var cn=0;function dn(e,t,n,i,r,a){t||(t={});var o,s,u=t;if("ref"in u)for(s in u={},t)"ref"==s?o=t[s]:u[s]=t[s];var l={type:e,props:u,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--cn,__i:-1,__u:0,__source:r,__self:a};if("function"==typeof e&&(o=e.defaultProps))for(s in o)void 0===u[s]&&(u[s]=o[s]);return tt.vnode&&tt.vnode(l),l}var hn,pn,fn,mn,On=0,gn=[],Dn=tt,vn=Dn.__b,En=Dn.__r,Cn=Dn.diffed,bn=Dn.__c,kn=Dn.unmount,Tn=Dn.__;function yn(e,t){Dn.__h&&Dn.__h(pn,e,On||t),On=0;var n=pn.__H||(pn.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function An(e){return On=1,Sn(Xn,e)}function Sn(e,t,n){var i=yn(hn++,2);if(i.t=e,!i.__c&&(i.__=[n?n(t):Xn(void 0,t),function(e){var t=i.__N?i.__N[0]:i.__[0],n=i.t(t,e);t!==n&&(i.__N=[n,i.__[1]],i.__c.setState({}))}],i.__c=pn,!pn.__f)){var r=function(e,t,n){if(!i.__c.__H)return!0;var r=i.__c.__H.__.filter(function(e){return!!e.__c});if(r.every(function(e){return!e.__N}))return!a||a.call(this,e,t,n);var o=i.__c.props!==e;return r.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(o=!0)}}),a&&a.call(this,e,t,n)||o};pn.__f=!0;var a=pn.shouldComponentUpdate,o=pn.componentWillUpdate;pn.componentWillUpdate=function(e,t,n){if(this.__e){var i=a;a=void 0,r(e,t,n),a=i}o&&o.call(this,e,t,n)},pn.shouldComponentUpdate=r}return i.__N||i.__}function _n(e,t){var n=yn(hn++,3);!Dn.__s&&qn(n.__H,t)&&(n.__=e,n.u=t,pn.__H.__h.push(n))}function Fn(e,t){var n=yn(hn++,4);!Dn.__s&&qn(n.__H,t)&&(n.__=e,n.u=t,pn.__h.push(n))}function wn(e){return On=5,Pn(function(){return{current:e}},[])}function xn(e,t,n){On=6,Fn(function(){if("function"==typeof e){var n=e(t());return function(){e(null),n&&"function"==typeof n&&n()}}if(e)return e.current=t(),function(){return e.current=null}},null==n?n:n.concat(e))}function Pn(e,t){var n=yn(hn++,7);return qn(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Rn(e,t){return On=8,Pn(function(){return e},t)}function In(e){var t=pn.context[e.__c],n=yn(hn++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(pn)),t.props.value):e.__}function Qn(e,t){Dn.useDebugValue&&Dn.useDebugValue(t?t(e):e)}function Nn(){var e=yn(hn++,11);if(!e.__){for(var t=pn.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function Bn(){for(var e;e=gn.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach($n),e.__H.__h.forEach(Un),e.__H.__h=[]}catch(t){e.__H.__h=[],Dn.__e(t,e.__v)}}Dn.__b=function(e){pn=null,vn&&vn(e)},Dn.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Tn&&Tn(e,t)},Dn.__r=function(e){En&&En(e),hn=0;var t=(pn=e.__c).__H;t&&(fn===pn?(t.__h=[],pn.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0})):(t.__h.forEach($n),t.__h.forEach(Un),t.__h=[],hn=0)),fn=pn},Dn.diffed=function(e){Cn&&Cn(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==gn.push(t)&&mn===Dn.requestAnimationFrame||((mn=Dn.requestAnimationFrame)||Ln)(Bn)),t.__H.__.forEach(function(e){e.u&&(e.__H=e.u),e.u=void 0})),fn=pn=null},Dn.__c=function(e,t){t.some(function(e){try{e.__h.forEach($n),e.__h=e.__h.filter(function(e){return!e.__||Un(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],Dn.__e(n,e.__v)}}),bn&&bn(e,t)},Dn.unmount=function(e){kn&&kn(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{$n(e)}catch(e){t=e}}),n.__H=void 0,t&&Dn.__e(t,n.__v))};var Mn="function"==typeof requestAnimationFrame;function Ln(e){var t,n=function(){clearTimeout(i),Mn&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,35);Mn&&(t=requestAnimationFrame(n))}function $n(e){var t=pn,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),pn=t}function Un(e){var t=pn;e.__c=e.__(),pn=t}function qn(e,t){return!e||e.length!==t.length||t.some(function(t,n){return t!==e[n]})}function Xn(e,t){return"function"==typeof t?t(e):t}function zn(e,t){for(var n in t)e[n]=t[n];return e}function Zn(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var i in t)if("__source"!==i&&e[i]!==t[i])return!0;return!1}function jn(e,t){var n=t(),i=An({t:{__:n,u:t}}),r=i[0].t,a=i[1];return Fn(function(){r.__=n,r.u=t,Wn(r)&&a({t:r})},[e,n,t]),_n(function(){return Wn(r)&&a({t:r}),e(function(){Wn(r)&&a({t:r})})},[e]),n}function Wn(e){var t,n,i=e.u,r=e.__;try{var a=i();return!((t=r)===(n=a)&&(0!==t||1/t==1/n)||t!=t&&n!=n)}catch(e){return!0}}function Gn(e){e()}function Vn(e){return e}function Yn(){return[!1,Gn]}var Hn=Fn;function Kn(e,t){this.props=e,this.context=t}function Jn(e,t){function n(e){var n=this.props.ref,i=n==e.ref;return!i&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!i:Zn(this.props,e)}function i(t){return this.shouldComponentUpdate=n,Ct(e,t)}return i.displayName="Memo("+(e.displayName||e.name)+")",i.prototype.isReactComponent=!0,i.__f=!0,i.type=e,i}(Kn.prototype=new yt).isPureReactComponent=!0,Kn.prototype.shouldComponentUpdate=function(e,t){return Zn(this.props,e)||Zn(this.state,t)};var ei=tt.__b;tt.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),ei&&ei(e)};var ti=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function ni(e){function t(t){var n=zn({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=ti,t.render=e,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var ii=function(e,t){return null==e?null:Pt(Pt(e).map(t))},ri={map:ii,forEach:ii,count:function(e){return e?Pt(e).length:0},only:function(e){var t=Pt(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:Pt},ai=tt.__e;tt.__e=function(e,t,n,i){if(e.then)for(var r,a=t;a=a.__;)if((r=a.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);ai(e,t,n,i)};var oi=tt.unmount;function si(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(e){"function"==typeof e.__c&&e.__c()}),e.__c.__H=null),null!=(e=zn({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(e){return si(e,t,n)})),e}function ui(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(e){return ui(e,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function li(){this.__u=0,this.o=null,this.__b=null}function ci(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function di(e){var t,n,i,r=null;function a(a){if(t||(t=e()).then(function(e){e&&(r=e.default||e),i=!0},function(e){n=e,i=!0}),n)throw n;if(!i)throw t;return r?Ct(r,a):null}return a.displayName="Lazy",a.__f=!0,a}function hi(){this.i=null,this.l=null}tt.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),oi&&oi(e)},(li.prototype=new yt).__c=function(e,t){var n=t.__c,i=this;null==i.o&&(i.o=[]),i.o.push(n);var r=ci(i.__v),a=!1,o=function(){a||(a=!0,n.__R=null,r?r(s):s())};n.__R=o;var s=function(){if(! --i.__u){if(i.state.__a){var e=i.state.__a;i.__v.__k[0]=ui(e,e.__c.__P,e.__c.__O)}var t;for(i.setState({__a:i.__b=null});t=i.o.pop();)t.forceUpdate()}};i.__u++||32&t.__u||i.setState({__a:i.__b=i.__v.__k[0]}),e.then(o,o)},li.prototype.componentWillUnmount=function(){this.o=[]},li.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=si(this.__b,n,i.__O=i.__P)}this.__b=null}var r=t.__a&&Ct(Tt,null,e.fallback);return r&&(r.__u&=-33),[Ct(Tt,null,t.__a?null:e.children),r]};var pi=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function fi(e){return this.getChildContext=function(){return e.context},e.children}function mi(e){var t=this,n=e.h;if(t.componentWillUnmount=function(){zt(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),!t.v){for(var i=t.__v;null!==i&&!i.__m&&null!==i.__;)i=i.__;t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:i.__m},contains:function(){return!0},insertBefore:function(e,n){this.childNodes.push(e),t.h.insertBefore(e,n)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.h.removeChild(e)}}}zt(Ct(fi,{context:t.context},e.__v),t.v)}function Oi(e,t){var n=Ct(mi,{__v:e,h:t});return n.containerInfo=t,n}(hi.prototype=new yt).__a=function(e){var t=this,n=ci(t.__v),i=t.l.get(e);return i[0]++,function(r){var a=function(){t.props.revealOrder?(i.push(r),pi(t,e,i)):r()};n?n(a):a()}},hi.prototype.render=function(e){this.i=null,this.l=new Map;var t=Pt(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},hi.prototype.componentDidUpdate=hi.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){pi(e,n,t)})};var gi=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Di=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,vi=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Ei=/[A-Z0-9]/g,Ci=typeof document<"u",bi=function(e){return(typeof Symbol<"u"&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};function ki(e,t,n){return null==t.__k&&(t.textContent=""),zt(e,t),"function"==typeof n&&n(),e?e.__c:null}function Ti(e,t,n){return Zt(e,t),"function"==typeof n&&n(),e?e.__c:null}yt.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(yt.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var yi=tt.event;function Ai(){}function Si(){return this.cancelBubble}function _i(){return this.defaultPrevented}tt.event=function(e){return yi&&(e=yi(e)),e.persist=Ai,e.isPropagationStopped=Si,e.isDefaultPrevented=_i,e.nativeEvent=e};var Fi,wi={enumerable:!1,configurable:!0,get:function(){return this.class}},xi=tt.vnode;tt.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,i={},r=-1===n.indexOf("-");for(var a in t){var o=t[a];if(!("value"===a&&"defaultValue"in t&&null==o||Ci&&"children"===a&&"noscript"===n||"class"===a||"className"===a)){var s=a.toLowerCase();"defaultValue"===a&&"value"in t&&null==t.value?a="value":"download"===a&&!0===o?o="":"translate"===s&&"no"===o?o=!1:"o"===s[0]&&"n"===s[1]?"ondoubleclick"===s?a="ondblclick":"onchange"!==s||"input"!==n&&"textarea"!==n||bi(t.type)?"onfocus"===s?a="onfocusin":"onblur"===s?a="onfocusout":vi.test(a)&&(a=s):s=a="oninput":r&&Di.test(a)?a=a.replace(Ei,"-$&").toLowerCase():null===o&&(o=void 0),"oninput"===s&&i[a=s]&&(a="oninputCapture"),i[a]=o}}"select"==n&&i.multiple&&Array.isArray(i.value)&&(i.value=Pt(t.children).forEach(function(e){e.props.selected=-1!=i.value.indexOf(e.props.value)})),"select"==n&&null!=i.defaultValue&&(i.value=Pt(t.children).forEach(function(e){e.props.selected=i.multiple?-1!=i.defaultValue.indexOf(e.props.value):i.defaultValue==e.props.value})),t.class&&!t.className?(i.class=t.class,Object.defineProperty(i,"className",wi)):(t.className&&!t.class||t.class&&t.className)&&(i.class=i.className=t.className),e.props=i}(e),e.$$typeof=gi,xi&&xi(e)};var Pi=tt.__r;tt.__r=function(e){Pi&&Pi(e),Fi=e.__c};var Ri=tt.diffed;tt.diffed=function(e){Ri&&Ri(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value),Fi=null};var Ii={ReactCurrentDispatcher:{current:{readContext:function(e){return Fi.__n[e.__c].props.value},useCallback:Rn,useContext:In,useDebugValue:Qn,useDeferredValue:Vn,useEffect:_n,useId:Nn,useImperativeHandle:xn,useInsertionEffect:Hn,useLayoutEffect:Fn,useMemo:Pn,useReducer:Sn,useRef:wn,useState:An,useSyncExternalStore:jn,useTransition:Yn}}};function Qi(e){return Ct.bind(null,e)}function Ni(e){return!!e&&e.$$typeof===gi}function Bi(e){return Ni(e)&&e.type===Tt}function Mi(e){return!!e&&!!e.displayName&&("string"==typeof e.displayName||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function Li(e){return Ni(e)?jt.apply(null,arguments):e}function $i(e){return!!e.__k&&(zt(null,e),!0)}function Ui(e){return e&&(e.base||1===e.nodeType&&e)||null}var qi=function(e,t){return e(t)},Xi=function(e,t){return e(t)},zi=Tt,Zi=Ni,ji={useState:An,useId:Nn,useReducer:Sn,useEffect:_n,useLayoutEffect:Fn,useInsertionEffect:Hn,useTransition:Yn,useDeferredValue:Vn,useSyncExternalStore:jn,startTransition:Gn,useRef:wn,useImperativeHandle:xn,useMemo:Pn,useCallback:Rn,useContext:In,useDebugValue:Qn,version:"18.3.1",Children:ri,render:ki,hydrate:Ti,unmountComponentAtNode:$i,createPortal:Oi,createElement:Ct,createContext:Wt,createFactory:Qi,cloneElement:Li,createRef:kt,Fragment:Tt,isValidElement:Ni,isElement:Zi,isFragment:Bi,isMemo:Mi,findDOMNode:Ui,Component:yt,PureComponent:Kn,memo:Jn,forwardRef:ni,flushSync:Xi,unstable_batchedUpdates:qi,StrictMode:zi,Suspense:li,SuspenseList:hi,lazy:di,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Ii};const Wi=Object.freeze(Object.defineProperty({__proto__:null,Children:ri,Component:yt,Fragment:Tt,PureComponent:Kn,StrictMode:zi,Suspense:li,SuspenseList:hi,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Ii,cloneElement:Li,createContext:Wt,createElement:Ct,createFactory:Qi,createPortal:Oi,createRef:kt,default:ji,findDOMNode:Ui,flushSync:Xi,forwardRef:ni,hydrate:Ti,isElement:Zi,isFragment:Bi,isMemo:Mi,isValidElement:Ni,lazy:di,memo:Jn,render:ki,startTransition:Gn,unmountComponentAtNode:$i,unstable_batchedUpdates:qi,useCallback:Rn,useContext:In,useDebugValue:Qn,useDeferredValue:Vn,useEffect:_n,useErrorBoundary:function(e){var t=yn(hn++,10),n=An();return t.__=e,pn.componentDidCatch||(pn.componentDidCatch=function(e,i){t.__&&t.__(e,i),n[1](e)}),[n[0],function(){n[1](void 0)}]},useId:Nn,useImperativeHandle:xn,useInsertionEffect:Hn,useLayoutEffect:Fn,useMemo:Pn,useReducer:Sn,useRef:wn,useState:An,useSyncExternalStore:jn,useTransition:Yn,version:"18.3.1"},Symbol.toStringTag,{value:"Module"}));var Gi=Symbol.for("preact-signals");function Vi(){if(er>1)er--;else{for(var e,t=!1;void 0!==Ji;){var n=Ji;for(Ji=void 0,tr++;void 0!==n;){var i=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&or(n))try{n.c()}catch(n){t||(e=n,t=!0)}n=i}}if(tr=0,er--,t)throw e}}function Yi(e){if(er>0)return e();er++;try{return e()}finally{Vi()}}var Hi=void 0;function Ki(e){var t=Hi;Hi=void 0;try{return e()}finally{Hi=t}}var Ji=void 0,er=0,tr=0,nr=0;function ir(e){if(void 0!==Hi){var t=e.n;if(void 0===t||t.t!==Hi)return t={i:0,S:e,p:Hi.s,n:void 0,t:Hi,e:void 0,x:void 0,r:t},void 0!==Hi.s&&(Hi.s.n=t),Hi.s=t,e.n=t,32&Hi.f&&e.S(t),t;if(-1===t.i)return t.i=0,void 0!==t.n&&(t.n.p=t.p,void 0!==t.p&&(t.p.n=t.n),t.p=Hi.s,t.n=void 0,Hi.s.n=t,Hi.s=t),t}}function rr(e,t){this.v=e,this.i=0,this.n=void 0,this.t=void 0,this.W=null==t?void 0:t.watched,this.Z=null==t?void 0:t.unwatched,this.name=null==t?void 0:t.name}function ar(e,t){return new rr(e,t)}function or(e){for(var t=e.s;void 0!==t;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function sr(e){for(var t=e.s;void 0!==t;t=t.n){var n=t.S.n;if(void 0!==n&&(t.r=n),t.S.n=t,t.i=-1,void 0===t.n){e.s=t;break}}}function ur(e){for(var t=e.s,n=void 0;void 0!==t;){var i=t.p;-1===t.i?(t.S.U(t),void 0!==i&&(i.n=t.n),void 0!==t.n&&(t.n.p=i)):n=t,t.S.n=t.r,void 0!==t.r&&(t.r=void 0),t=i}e.s=n}function lr(e,t){rr.call(this,void 0),this.x=e,this.s=void 0,this.g=nr-1,this.f=4,this.W=null==t?void 0:t.watched,this.Z=null==t?void 0:t.unwatched,this.name=null==t?void 0:t.name}function cr(e,t){return new lr(e,t)}function dr(e){var t=e.u;if(e.u=void 0,"function"==typeof t){er++;var n=Hi;Hi=void 0;try{t()}catch(t){throw e.f&=-2,e.f|=8,hr(e),t}finally{Hi=n,Vi()}}}function hr(e){for(var t=e.s;void 0!==t;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,dr(e)}function pr(e){if(Hi!==this)throw new Error("Out-of-order effect");ur(this),Hi=e,this.f&=-2,8&this.f&&hr(this),Vi()}function fr(e,t){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=null==t?void 0:t.name}function mr(e,t){var n=new fr(e,t);try{n.c()}catch(e){throw n.d(),e}var i=n.d.bind(n);return i[Symbol.dispose]=i,i}rr.prototype.brand=Gi,rr.prototype.h=function(){return!0},rr.prototype.S=function(e){var t=this,n=this.t;n!==e&&void 0===e.e&&(e.x=n,this.t=e,void 0!==n?n.e=e:Ki(function(){var e;null==(e=t.W)||e.call(t)}))},rr.prototype.U=function(e){var t=this;if(void 0!==this.t){var n=e.e,i=e.x;void 0!==n&&(n.x=i,e.e=void 0),void 0!==i&&(i.e=n,e.x=void 0),e===this.t&&(this.t=i,void 0===i&&Ki(function(){var e;null==(e=t.Z)||e.call(t)}))}},rr.prototype.subscribe=function(e){var t=this;return mr(function(){var n=t.value,i=Hi;Hi=void 0;try{e(n)}finally{Hi=i}},{name:"sub"})},rr.prototype.valueOf=function(){return this.value},rr.prototype.toString=function(){return this.value+""},rr.prototype.toJSON=function(){return this.value},rr.prototype.peek=function(){var e=Hi;Hi=void 0;try{return this.value}finally{Hi=e}},Object.defineProperty(rr.prototype,"value",{get:function(){var e=ir(this);return void 0!==e&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(tr>100)throw new Error("Cycle detected");this.v=e,this.i++,nr++,er++;try{for(var t=this.t;void 0!==t;t=t.x)t.t.N()}finally{Vi()}}}}),lr.prototype=new rr,lr.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f)||(this.f&=-5,this.g===nr))return!0;if(this.g=nr,this.f|=1,this.i>0&&!or(this))return this.f&=-2,!0;var e=Hi;try{sr(this),Hi=this;var t=this.x();(16&this.f||this.v!==t||0===this.i)&&(this.v=t,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return Hi=e,ur(this),this.f&=-2,!0},lr.prototype.S=function(e){if(void 0===this.t){this.f|=36;for(var t=this.s;void 0!==t;t=t.n)t.S.S(t)}rr.prototype.S.call(this,e)},lr.prototype.U=function(e){if(void 0!==this.t&&(rr.prototype.U.call(this,e),void 0===this.t)){this.f&=-33;for(var t=this.s;void 0!==t;t=t.n)t.S.U(t)}},lr.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;void 0!==e;e=e.x)e.t.N()}},Object.defineProperty(lr.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var e=ir(this);if(this.h(),void 0!==e&&(e.i=this.i),16&this.f)throw this.v;return this.v}}),fr.prototype.c=function(){var e=this.S();try{if(8&this.f||void 0===this.x)return;var t=this.x();"function"==typeof t&&(this.u=t)}finally{e()}},fr.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,dr(this),sr(this),er++;var e=Hi;return Hi=this,pr.bind(this,e)},fr.prototype.N=function(){2&this.f||(this.f|=2,this.o=Ji,Ji=this)},fr.prototype.d=function(){this.f|=8,1&this.f||hr(this)},fr.prototype.dispose=function(){this.d()};var Or,gr,Dr,vr=typeof window<"u"&&!!window.__PREACT_SIGNALS_DEVTOOLS__,Er=[],Cr=[];function br(e,t){tt[e]=t.bind(null,tt[e]||function(){})}function kr(e){Dr&&Dr(),Dr=e&&e.S()}function Tr(e){var t=this,n=e.data,i=Ar(n);i.value=n;var r=Pn(function(){for(var e=t,n=t.__v;n=n.__;)if(n.__c){n.__c.__$f|=4;break}var r=cr(function(){var e=i.value.value;return 0===e?0:!0===e?"":e||""}),a=cr(function(){return!Array.isArray(r.value)&&!it(r.value)}),o=mr(function(){if(this.N=Rr,a.value){var t=r.value;e.__v&&e.__v.__e&&3===e.__v.__e.nodeType&&(e.__v.__e.data=t)}}),s=t.__$u.d;return t.__$u.d=function(){o(),s.call(this)},[a,r]},[]),a=r[0],o=r[1];return a.value?o.peek():o.value}function yr(e,t,n,i){var r=t in e&&void 0===e.ownerSVGElement,a=ar(n);return{o:function(e,t){a.value=e,i=t},d:mr(function(){this.N=Rr;var n=a.value.value;i[t]!==n&&(i[t]=n,r?e[t]=n:null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))})}}function Ar(e,t){return An(function(){return ar(e,t)})[0]}function Sr(e,t){var n=wn(e);return n.current=e,gr.__$f|=4,Pn(function(){return cr(function(){return n.current()},t)},[])}mr(function(){Or=this.N})(),Tr.displayName="ReactiveTextNode",Object.defineProperties(rr.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:Tr},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}}),br("__b",function(e,t){if(vr&&"function"==typeof t.type&&window.__PREACT_SIGNALS_DEVTOOLS__.exitComponent(),"string"==typeof t.type){var n,i=t.props;for(var r in i)if("children"!==r){var a=i[r];a instanceof rr&&(n||(t.__np=n={}),n[r]=a,i[r]=a.peek())}}e(t)}),br("__r",function(e,t){if(vr&&"function"==typeof t.type&&window.__PREACT_SIGNALS_DEVTOOLS__.enterComponent(t),t.type!==Tt){kr();var n,i=t.__c;i&&(i.__$f&=-2,void 0===(n=i.__$u)&&(i.__$u=(mr(function(){r=this}),r.c=function(){i.__$f|=1,i.setState({})},n=r))),gr=i,kr(n)}var r;e(t)}),br("__e",function(e,t,n,i){vr&&window.__PREACT_SIGNALS_DEVTOOLS__.exitComponent(),kr(),gr=void 0,e(t,n,i)}),br("diffed",function(e,t){var n;if(vr&&"function"==typeof t.type&&window.__PREACT_SIGNALS_DEVTOOLS__.exitComponent(),kr(),gr=void 0,"string"==typeof t.type&&(n=t.__e)){var i=t.__np,r=t.props;if(i){var a=n.U;if(a)for(var o in a){var s=a[o];void 0!==s&&!(o in i)&&(s.d(),a[o]=void 0)}else a={},n.U=a;for(var u in i){var l=a[u],c=i[u];void 0===l?(l=yr(n,u,c,r),a[u]=l):l.o(c,r)}}}e(t)}),br("unmount",function(e,t){if("string"==typeof t.type){var n=t.__e;if(n){var i=n.U;if(i)for(var r in n.U=void 0,i){var a=i[r];a&&a.d()}}}else{var o=t.__c;if(o){var s=o.__$u;s&&(o.__$u=void 0,s.d())}}e(t)}),br("__h",function(e,t,n,i){(i<3||9===i)&&(t.__$f|=2),e(t,n,i)}),yt.prototype.shouldComponentUpdate=function(e,t){var n=this.__$u,i=n&&void 0!==n.s;for(var r in t)return!0;if(this.__f||"boolean"==typeof this.u&&!0===this.u){var a=2&this.__$f;if(!(i||a||4&this.__$f)||1&this.__$f)return!0}else if(!(i||4&this.__$f)||3&this.__$f)return!0;for(var o in e)if("__source"!==o&&e[o]!==this.props[o])return!0;for(var s in this.props)if(!(s in e))return!0;return!1};var _r=typeof requestAnimationFrame>"u"?setTimeout:function(e){var t=function(){clearTimeout(n),cancelAnimationFrame(i),e()},n=setTimeout(t,35),i=requestAnimationFrame(t)},Fr=function(e){queueMicrotask(function(){queueMicrotask(e)})};function wr(){Yi(function(){for(var e;e=Er.shift();)Or.call(e)})}function xr(){1===Er.push(this)&&(tt.requestAnimationFrame||_r)(wr)}function Pr(){Yi(function(){for(var e;e=Cr.shift();)Or.call(e)})}function Rr(){1===Cr.push(this)&&(tt.requestAnimationFrame||Fr)(Pr)}function Ir(e,t){var n=wn(e);n.current=e,_n(function(){return mr(function(){return this.N=xr,n.current()},t)},[])}function Qr(e,t){(function(e){return"string"==typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");const n=function(e){return"string"==typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function Nr(e){return Math.min(1,Math.max(0,e))}function Br(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Mr(e){return Number(e)<=1?100*Number(e)+"%":e}function Lr(e){return 1===e.length?"0"+e:String(e)}function $r(e,t,n){e=Qr(e,255),t=Qr(t,255),n=Qr(n,255);const i=Math.max(e,t,n),r=Math.min(e,t,n);let a=0,o=0;const s=(i+r)/2;if(i===r)o=0,a=0;else{const u=i-r;switch(o=s>.5?u/(2-i-r):u/(i+r),i){case e:a=(t-n)/u+(t<n?6:0);break;case t:a=(n-e)/u+2;break;case n:a=(e-t)/u+4}a/=6}return{h:a,s:o,l:s}}function Ur(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function qr(e,t,n){e=Qr(e,255),t=Qr(t,255),n=Qr(n,255);const i=Math.max(e,t,n),r=Math.min(e,t,n);let a=0;const o=i,s=i-r,u=0===i?0:s/i;if(i===r)a=0;else{switch(i){case e:a=(t-n)/s+(t<n?6:0);break;case t:a=(n-e)/s+2;break;case n:a=(e-t)/s+4}a/=6}return{h:a,s:u,v:o}}function Xr(e,t,n,i){const r=[Lr(Math.round(e).toString(16)),Lr(Math.round(t).toString(16)),Lr(Math.round(n).toString(16))];return i&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function zr(e,t,n){let i=1-e/255,r=1-t/255,a=1-n/255,o=Math.min(i,r,a);return 1===o?(i=0,r=0,a=0):(i=(i-o)/(1-o)*100,r=(r-o)/(1-o)*100,a=(a-o)/(1-o)*100),o*=100,{c:Math.round(i),m:Math.round(r),y:Math.round(a),k:Math.round(o)}}function Zr(e){return Math.round(255*parseFloat(e)).toString(16)}function jr(e){return Wr(e)/255}function Wr(e){return parseInt(e,16)}const Gr={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};const Vr="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",Yr="[\\s|\\(]+("+Vr+")[,|\\s]+("+Vr+")[,|\\s]+("+Vr+")\\s*\\)?",Hr="[\\s|\\(]+("+Vr+")[,|\\s]+("+Vr+")[,|\\s]+("+Vr+")[,|\\s]+("+Vr+")\\s*\\)?",Kr={CSS_UNIT:new RegExp(Vr),rgb:new RegExp("rgb"+Yr),rgba:new RegExp("rgba"+Hr),hsl:new RegExp("hsl"+Yr),hsla:new RegExp("hsla"+Hr),hsv:new RegExp("hsv"+Yr),hsva:new RegExp("hsva"+Hr),cmyk:new RegExp("cmyk"+Hr),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Jr(e){return"number"==typeof e?!Number.isNaN(e):Kr.CSS_UNIT.test(e)}class ea{constructor(e="",t={}){var n,i;if(e instanceof ea)return e;"number"==typeof e&&(e={r:(i=e)>>16,g:(65280&i)>>8,b:255&i}),this.originalInput=e;const r=function(e){let t={r:0,g:0,b:0},n=1,i=null,r=null,a=null,o=!1,s=!1;return"string"==typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;let t=!1;if(Gr[e])e=Gr[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};let n=Kr.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=Kr.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Kr.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=Kr.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Kr.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=Kr.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Kr.cmyk.exec(e),n?{c:n[1],m:n[2],y:n[3],k:n[4]}:(n=Kr.hex8.exec(e),n?{r:Wr(n[1]),g:Wr(n[2]),b:Wr(n[3]),a:jr(n[4]),format:t?"name":"hex8"}:(n=Kr.hex6.exec(e),n?{r:Wr(n[1]),g:Wr(n[2]),b:Wr(n[3]),format:t?"name":"hex"}:(n=Kr.hex4.exec(e),n?{r:Wr(n[1]+n[1]),g:Wr(n[2]+n[2]),b:Wr(n[3]+n[3]),a:jr(n[4]+n[4]),format:t?"name":"hex8"}:(n=Kr.hex3.exec(e),!!n&&{r:Wr(n[1]+n[1]),g:Wr(n[2]+n[2]),b:Wr(n[3]+n[3]),format:t?"name":"hex"}))))))))))}(e)),"object"==typeof e&&(Jr(e.r)&&Jr(e.g)&&Jr(e.b)?(t=function(e,t,n){return{r:255*Qr(e,255),g:255*Qr(t,255),b:255*Qr(n,255)}}(e.r,e.g,e.b),o=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):Jr(e.h)&&Jr(e.s)&&Jr(e.v)?(i=Mr(e.s),r=Mr(e.v),t=function(e,t,n){e=6*Qr(e,360),t=Qr(t,100),n=Qr(n,100);const i=Math.floor(e),r=e-i,a=n*(1-t),o=n*(1-r*t),s=n*(1-(1-r)*t),u=i%6;return{r:255*[n,o,a,a,s,n][u],g:255*[s,n,n,o,a,a][u],b:255*[a,a,s,n,n,o][u]}}(e.h,i,r),o=!0,s="hsv"):Jr(e.h)&&Jr(e.s)&&Jr(e.l)?(i=Mr(e.s),a=Mr(e.l),t=function(e,t,n){let i,r,a;if(e=Qr(e,360),t=Qr(t,100),n=Qr(n,100),0===t)r=n,a=n,i=n;else{const o=n<.5?n*(1+t):n+t-n*t,s=2*n-o;i=Ur(s,o,e+1/3),r=Ur(s,o,e),a=Ur(s,o,e-1/3)}return{r:255*i,g:255*r,b:255*a}}(e.h,i,a),o=!0,s="hsl"):Jr(e.c)&&Jr(e.m)&&Jr(e.y)&&Jr(e.k)&&(t=function(e,t,n,i){const r=i/100;return{r:255*(1-e/100)*(1-r),g:255*(1-t/100)*(1-r),b:255*(1-n/100)*(1-r)}}(e.c,e.m,e.y,e.k),o=!0,s="cmyk"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=Br(n),{ok:o,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}(e);this.originalInput=e,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(n=t.format)&&void 0!==n?n:r.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}isDark(){return this.getBrightness()<128}isLight(){return!this.isDark()}getBrightness(){const e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3}getLuminance(){const e=this.toRgb();let t,n,i;const r=e.r/255,a=e.g/255,o=e.b/255;return t=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4),n=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4),i=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4),.2126*t+.7152*n+.0722*i}getAlpha(){return this.a}setAlpha(e){return this.a=Br(e),this.roundA=Math.round(100*this.a)/100,this}isMonochrome(){const{s:e}=this.toHsl();return 0===e}toHsv(){const e=qr(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}}toHsvString(){const e=qr(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),i=Math.round(100*e.v);return 1===this.a?`hsv(${t}, ${n}%, ${i}%)`:`hsva(${t}, ${n}%, ${i}%, ${this.roundA})`}toHsl(){const e=$r(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}}toHslString(){const e=$r(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),i=Math.round(100*e.l);return 1===this.a?`hsl(${t}, ${n}%, ${i}%)`:`hsla(${t}, ${n}%, ${i}%, ${this.roundA})`}toHex(e=!1){return Xr(this.r,this.g,this.b,e)}toHexString(e=!1){return"#"+this.toHex(e)}toHex8(e=!1){return function(e,t,n,i,r){const a=[Lr(Math.round(e).toString(16)),Lr(Math.round(t).toString(16)),Lr(Math.round(n).toString(16)),Lr(Zr(i))];return r&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this.r,this.g,this.b,this.a,e)}toHex8String(e=!1){return"#"+this.toHex8(e)}toHexShortString(e=!1){return 1===this.a?this.toHexString(e):this.toHex8String(e)}toRgb(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}}toRgbString(){const e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?`rgb(${e}, ${t}, ${n})`:`rgba(${e}, ${t}, ${n}, ${this.roundA})`}toPercentageRgb(){const e=e=>`${Math.round(100*Qr(e,255))}%`;return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}}toPercentageRgbString(){const e=e=>Math.round(100*Qr(e,255));return 1===this.a?`rgb(${e(this.r)}%, ${e(this.g)}%, ${e(this.b)}%)`:`rgba(${e(this.r)}%, ${e(this.g)}%, ${e(this.b)}%, ${this.roundA})`}toCmyk(){return p({},zr(this.r,this.g,this.b))}toCmykString(){const{c:e,m:t,y:n,k:i}=zr(this.r,this.g,this.b);return`cmyk(${e}, ${t}, ${n}, ${i})`}toName(){if(0===this.a)return"transparent";if(this.a<1)return!1;const e="#"+Xr(this.r,this.g,this.b,!1);for(const[t,n]of Object.entries(Gr))if(e===n)return t;return!1}toString(e){const t=!!e;e=null!=e?e:this.format;let n=!1;const i=this.a<1&&this.a>=0;return t||!i||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),("hex"===e||"hex6"===e)&&(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),"cmyk"===e&&(n=this.toCmykString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()}toNumber(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)}clone(){return new ea(this.toString())}lighten(e=10){const t=this.toHsl();return t.l+=e/100,t.l=Nr(t.l),new ea(t)}brighten(e=10){const t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(-e/100*255))),t.g=Math.max(0,Math.min(255,t.g-Math.round(-e/100*255))),t.b=Math.max(0,Math.min(255,t.b-Math.round(-e/100*255))),new ea(t)}darken(e=10){const t=this.toHsl();return t.l-=e/100,t.l=Nr(t.l),new ea(t)}tint(e=10){return this.mix("white",e)}shade(e=10){return this.mix("black",e)}desaturate(e=10){const t=this.toHsl();return t.s-=e/100,t.s=Nr(t.s),new ea(t)}saturate(e=10){const t=this.toHsl();return t.s+=e/100,t.s=Nr(t.s),new ea(t)}greyscale(){return this.desaturate(100)}spin(e){const t=this.toHsl(),n=(t.h+e)%360;return t.h=n<0?360+n:n,new ea(t)}mix(e,t=50){const n=this.toRgb(),i=new ea(e).toRgb(),r=t/100,a={r:(i.r-n.r)*r+n.r,g:(i.g-n.g)*r+n.g,b:(i.b-n.b)*r+n.b,a:(i.a-n.a)*r+n.a};return new ea(a)}analogous(e=6,t=30){const n=this.toHsl(),i=360/t,r=[this];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,r.push(new ea(n));return r}complement(){const e=this.toHsl();return e.h=(e.h+180)%360,new ea(e)}monochromatic(e=6){const t=this.toHsv(),{h:n}=t,{s:i}=t;let{v:r}=t;const a=[],o=1/e;for(;e--;)a.push(new ea({h:n,s:i,v:r})),r=(r+o)%1;return a}splitcomplement(){const e=this.toHsl(),{h:t}=e;return[this,new ea({h:(t+72)%360,s:e.s,l:e.l}),new ea({h:(t+216)%360,s:e.s,l:e.l})]}onBackground(e){const t=this.toRgb(),n=new ea(e).toRgb(),i=t.a+n.a*(1-t.a);return new ea({r:(t.r*t.a+n.r*n.a*(1-t.a))/i,g:(t.g*t.a+n.g*n.a*(1-t.a))/i,b:(t.b*t.a+n.b*n.a*(1-t.a))/i,a:i})}triad(){return this.polyad(3)}tetrad(){return this.polyad(4)}polyad(e){const t=this.toHsl(),{h:n}=t,i=[this],r=360/e;for(let a=1;a<e;a++)i.push(new ea({h:(n+a*r)%360,s:t.s,l:t.l}));return i}equals(e){const t=new ea(e);return"cmyk"===this.format||"cmyk"===t.format?this.toCmykString()===t.toCmykString():this.toRgbString()===t.toRgbString()}}const ta=["tiny","compact","full"];function na(e){return ta.includes(e)?e:ta[0]}const ia=["top-left","top","top-right","bottom-left","bottom","bottom-right"];function ra(e){return ia.includes(e)?e:"bottom-right"}const aa={main_label:"Need help?",start_call:"Start a call",start_chat:"Start a chat",send_message:"Send",new_call:"New call",end_call:"End",mute_microphone:"Mute microphone",text_mode:"Switch to text mode",voice_mode:"Switch to voice mode",switched_to_text_mode:"Switched to text mode",switched_to_voice_mode:"Switched to voice mode",change_language:"Change language",collapse:"Collapse",expand:"Expand",copied:"Copied!",accept_terms:"Accept",dismiss_terms:"Cancel",listening_status:"Listening",speaking_status:"Talk to interrupt",connecting_status:"Connecting",chatting_status:"Chatting with AI Agent",input_label:"Text message input",input_placeholder:"Send a message...",input_placeholder_text_only:"Send a message...",input_placeholder_new_conversation:"Start a new conversation",user_ended_conversation:"You ended the conversation",agent_ended_conversation:"The agent ended the conversation",conversation_id:"ID",error_occurred:"An error occurred",copy_id:"Copy ID",initiate_feedback:"How was this conversation?",request_follow_up_feedback:"Tell us more",thanks_for_feedback:"Thank you for your feedback!",thanks_for_feedback_details:"Your feedback helps us improve our service and better support you in the future.",follow_up_feedback_placeholder:"Tell us more about your experience...",submit:"Submit",go_back:"Go back",copy:"Copy",download:"Download",wrap:"Wrap",agent_working:"Thinking...",agent_done:"Completed",agent_error:"Error occurred"},oa=Object.keys(aa),sa={base:"#ffffff",base_hover:"#f9fafb",base_active:"#f3f4f6",base_border:"#e5e7eb",base_subtle:"#6b7280",base_primary:"#000000",base_error:"#ef4444",accent:"#000000",accent_hover:"#1f2937",accent_active:"#374151",accent_border:"#4b5563",accent_subtle:"#6b7280",accent_primary:"#ffffff",overlay_padding:32,button_radius:18,input_radius:10,bubble_radius:15,sheet_radius:"calc(var(--el-button-radius) + 6px)",compact_sheet_radius:"calc(var(--el-button-radius) + 12px)",dropdown_sheet_radius:"calc(var(--el-input-radius) + 6px)"},ua=Object.keys(sa);function la(e){const t=In(e);if(null==t)throw new Error(`${e.displayName} cannot be used outside of provider`);return t}const ca=Wt(null);function da({value:e,children:t}){const n=Pn(()=>Object.fromEntries(ln.map(t=>[t,ar(e[t])])),[]);return ln.forEach(t=>{n[t].value=e[t]}),dn(ca.Provider,{value:n,children:t})}function ha(e){return la(ca)[e]}const pa=Wt(null);function fa({children:e}){const t=ha("server-location"),n=Pn(()=>{const e=cr(()=>function(e="us"){switch(e){case"eu-residency":case"in-residency":case"us":case"global":return e;default:return console.warn(`[ConversationalAI] Invalid server-location: ${e}. Defaulting to "us"`),"us"}}(t.value)),n={us:"https://api.us.elevenlabs.io","eu-residency":"https://api.eu.residency.elevenlabs.io","in-residency":"https://api.in.residency.elevenlabs.io",global:"https://api.elevenlabs.io"},i={us:"wss://api.us.elevenlabs.io","eu-residency":"wss://api.eu.residency.elevenlabs.io","in-residency":"wss://api.in.residency.elevenlabs.io",global:"wss://api.elevenlabs.io"};return{location:e,serverUrl:cr(()=>n[e.value]),webSocketUrl:cr(()=>i[e.value])}},[]);return dn(pa.Provider,{value:n,children:e})}function ma(){return la(pa)}const Oa={en:{name:"English",flagCode:"us",languageCode:"en"},zh:{name:"",flagCode:"cn",languageCode:"zh"},es:{name:"Espaol",flagCode:"es",languageCode:"es"},hi:{name:"",flagCode:"in",languageCode:"hi"},pt:{name:"Portugus (Portugal)",flagCode:"pt",languageCode:"pt"},"pt-br":{name:"Portugus (Brasil)",flagCode:"br",languageCode:"pt-br"},fr:{name:"Franais",flagCode:"fr",languageCode:"fr"},de:{name:"Deutsch",flagCode:"de",languageCode:"de"},ja:{name:"",flagCode:"jp",languageCode:"ja"},ar:{name:"",flagCode:"ae",languageCode:"ar"},ru:{name:"",flagCode:"ru",languageCode:"ru"},ko:{name:"",flagCode:"kr",languageCode:"ko"},id:{name:"Bahasa Indonesia",flagCode:"id",languageCode:"id"},it:{name:"Italiano",flagCode:"it",languageCode:"it"},nl:{name:"Nederlands",flagCode:"nl",languageCode:"nl"},tr:{name:"Trke",flagCode:"tr",languageCode:"tr"},pl:{name:"Polski",flagCode:"pl",languageCode:"pl"},sv:{name:"Svenska",flagCode:"se",languageCode:"sv"},ms:{name:"Bahasa Melayu",flagCode:"my",languageCode:"ms"},ro:{name:"Romn",flagCode:"ro",languageCode:"ro"},uk:{name:"",flagCode:"ua",languageCode:"uk"},el:{name:"",flagCode:"gr",languageCode:"el"},cs:{name:"etina",flagCode:"cz",languageCode:"cs"},da:{name:"Dansk",flagCode:"dk",languageCode:"da"},fi:{name:"Suomi",flagCode:"fi",languageCode:"fi"},bg:{name:"",flagCode:"bg",languageCode:"bg"},hr:{name:"Hrvatski",flagCode:"hr",languageCode:"hr"},sk:{name:"Slovenina",flagCode:"sk",languageCode:"sk"},ta:{name:"",flagCode:"in",languageCode:"ta"},hu:{name:"Magyar",flagCode:"hu",languageCode:"hu"},no:{name:"Norsk",flagCode:"no",languageCode:"no"},vi:{name:"Ting Vit",flagCode:"vn",languageCode:"vi"},tl:{name:"Filipino",flagCode:"ph",languageCode:"tl"},af:{name:"Afrikaans",flagCode:"za",languageCode:"af"},hy:{name:"",flagCode:"am",languageCode:"hy"},as:{name:"",flagCode:"in",languageCode:"as"},az:{name:"Azrbaycan",flagCode:"az",languageCode:"az"},be:{name:"",flagCode:"by",languageCode:"be"},bn:{name:"",flagCode:"in",languageCode:"bn"},bs:{name:"Bosanski",flagCode:"ba",languageCode:"bs"},ca:{name:"Catal",flagCode:"es-ct",languageCode:"ca"},et:{name:"Eesti",flagCode:"ee",languageCode:"et"},gl:{name:"Galego",flagCode:"es-ga",languageCode:"gl"},ka:{name:"",flagCode:"ge",languageCode:"ka"},gu:{name:"",flagCode:"in",languageCode:"gu"},ha:{name:"Hausa",flagCode:"ng",languageCode:"ha"},he:{name:"",flagCode:"il",languageCode:"he"},is:{name:"slenska",flagCode:"is",languageCode:"is"},ga:{name:"Gaeilge",flagCode:"ie",languageCode:"ga"},jv:{name:"Basa Jawa",flagCode:"id",languageCode:"jv"},kn:{name:"",flagCode:"in",languageCode:"kn"},kk:{name:"",flagCode:"kz",languageCode:"kk"},ky:{name:"",flagCode:"kg",languageCode:"ky"},lv:{name:"Latvieu",flagCode:"lv",languageCode:"lv"},lt:{name:"Lietuvi",flagCode:"lt",languageCode:"lt"},lb:{name:"Ltzebuergesch",flagCode:"lu",languageCode:"lb"},mk:{name:"",flagCode:"mk",languageCode:"mk"},ml:{name:"",flagCode:"in",languageCode:"ml"},mr:{name:"",flagCode:"in",languageCode:"mr"},ne:{name:"",flagCode:"np",languageCode:"ne"},ps:{name:"",flagCode:"af",languageCode:"ps"},fa:{name:"",flagCode:"ir",languageCode:"fa"},pa:{name:"",flagCode:"in",languageCode:"pa"},sr:{name:"",flagCode:"rs",languageCode:"sr"},sd:{name:"",flagCode:"in",languageCode:"sd"},sl:{name:"Slovenina",flagCode:"si",languageCode:"sl"},so:{name:"Soomaali",flagCode:"so",languageCode:"so"},sw:{name:"Kiswahili",flagCode:"ke",languageCode:"sw"},te:{name:"",flagCode:"in",languageCode:"te"},th:{name:"",flagCode:"th",languageCode:"th"},ur:{name:"",flagCode:"pk",languageCode:"ur"},cy:{name:"Cymraeg",flagCode:"gb-wls",languageCode:"cy"}};function ga(e){return Object.keys(Oa).includes(null!=e?e:"")}const Da=Wt(null);function va({children:e}){var t;const n=hm(),i=ha("language"),r=ha("override-language"),a=Ar(null!==(t=i.peek())&&void 0!==t?t:n.peek().language),o=Sr(()=>{var e;return(null!==(e=n.value.supported_language_overrides)&&void 0!==e?e:[]).filter(ga)}),s=Sr(()=>o.value.map(e=>Oa[e]).sort((e,t)=>e.name.localeCompare(t.name))),u=Pn(()=>({language:cr(()=>ga(r.value)?Oa[r.value]:ga(a.value)&&o.value.includes(a.value)?Oa[a.value]:Oa[n.value.language]),setLanguage:e=>{a.value=e},options:s,showPicker:cr(()=>s.value.length>0)}),[]);return dn(Da.Provider,{value:u,children:e})}function Ea(){return la(Da)}function Ca(e,t){return t.forEach(function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach(function(n){if("default"!==n&&!(n in e)){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})}),Object.freeze(e)}var ba=Object.defineProperty,ka=(e,t,n)=>((e,t,n)=>t in e?ba(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);let Ta=class{constructor(){ka(this,"_locking"),ka(this,"_locks"),this._locking=Promise.resolve(),this._locks=0}isLocked(){return this._locks>0}lock(){let e;this._locks+=1;const t=new Promise(t=>e=()=>{this._locks-=1,t()}),n=this._locking.then(()=>e);return this._locking=this._locking.then(()=>t),n}};function ya(e,t){if(!e)throw new Error(t)}function Aa(e){if("number"!=typeof e)throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw new Error("invalid int 32: "+e)}function Sa(e){if("number"!=typeof e)throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw new Error("invalid uint 32: "+e)}function _a(e){if("number"!=typeof e)throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>34028234663852886e22||e<-34028234663852886e22))throw new Error("invalid float 32: "+e)}const Fa=Symbol("@bufbuild/protobuf/enum-type");function wa(e){const t=e[Fa];return ya(t,"missing enum type on enum object"),t}function xa(e,t,n,i){e[Fa]=Pa(t,n.map(t=>({no:t.no,name:t.name,localName:e[t.no]})))}function Pa(e,t,n){const i=Object.create(null),r=Object.create(null),a=[];for(const e of t){const t=Ia(e);a.push(t),i[e.name]=t,r[e.no]=t}return{typeName:e,values:a,findName:e=>i[e],findNumber:e=>r[e]}}function Ra(e,t,n){const i={};for(const e of t){const t=Ia(e);i[t.localName]=t.no,i[t.no]=t.localName}return xa(i,e,t),i}function Ia(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}class Qa{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,t){const n=this.getType().runtime.bin,i=n.makeReadOptions(t);return n.readMessage(this,i.readerFactory(e),e.byteLength,i),this}fromJson(e,t){const n=this.getType(),i=n.runtime.json,r=i.makeReadOptions(t);return i.readMessage(n,e,r,this),this}fromJsonString(e,t){let n;try{n=JSON.parse(e)}catch(e){throw new Error("cannot decode ".concat(this.getType().typeName," from JSON: ").concat(e instanceof Error?e.message:String(e)))}return this.fromJson(n,t)}toBinary(e){const t=this.getType().runtime.bin,n=t.makeWriteOptions(e),i=n.writerFactory();return t.writeMessage(this,i,n),i.finish()}toJson(e){const t=this.getType().runtime.json,n=t.makeWriteOptions(e);return t.writeMessage(this,n)}toJsonString(e){var t;const n=this.toJson(e);return JSON.stringify(n,null,null!==(t=null==e?void 0:e.prettySpaces)&&void 0!==t?t:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function Na(){let e=0,t=0;for(let n=0;n<28;n+=7){let i=this.buf[this.pos++];if(e|=(127&i)<<n,!(128&i))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(15&n)<<28,t=(112&n)>>4,!(128&n))return this.assertBounds(),[e,t];for(let n=3;n<=31;n+=7){let i=this.buf[this.pos++];if(t|=(127&i)<<n,!(128&i))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function Ba(e,t,n){for(let i=0;i<28;i+=7){const r=e>>>i,a=!(!(r>>>7)&&0==t),o=255&(a?128|r:r);if(n.push(o),!a)return}const i=e>>>28&15|(7&t)<<4,r=!!(t>>3);if(n.push(255&(r?128|i:i)),r){for(let e=3;e<31;e+=7){const i=t>>>e,r=!!(i>>>7),a=255&(r?128|i:i);if(n.push(a),!r)return}n.push(t>>>31&1)}}const Ma=4294967296;function La(e){const t="-"===e[0];t&&(e=e.slice(1));const n=1e6;let i=0,r=0;function a(t,a){const o=Number(e.slice(t,a));r*=n,i=i*n+o,i>=Ma&&(r+=i/Ma|0,i%=Ma)}return a(-24,-18),a(-18,-12),a(-12,-6),a(-6),t?qa(i,r):Ua(i,r)}function $a(e,t){if(({lo:e,hi:t}=function(e,t){return{lo:e>>>0,hi:t>>>0}}(e,t)),t<=2097151)return String(Ma*t+e);const n=16777215&(e>>>24|t<<8),i=t>>16&65535;let r=(16777215&e)+6777216*n+6710656*i,a=n+8147497*i,o=2*i;const s=1e7;return r>=s&&(a+=Math.floor(r/s),r%=s),a>=s&&(o+=Math.floor(a/s),a%=s),o.toString()+Xa(a)+Xa(r)}function Ua(e,t){return{lo:0|e,hi:0|t}}function qa(e,t){return t=~t,e?e=1+~e:t+=1,Ua(e,t)}const Xa=e=>{const t=String(e);return"0000000".slice(t.length)+t};function za(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}}function Za(){let e=this.buf[this.pos++],t=127&e;if(!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<7,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<14,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<21,!(128&e))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(15&e)<<28;for(let t=5;128&e&&t<10;t++)e=this.buf[this.pos++];if(128&e)throw new Error("invalid varint");return this.assertBounds(),t>>>0}const ja=function(){const e=new DataView(new ArrayBuffer(8));if("function"==typeof BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64&&("object"!=typeof process||"object"!=typeof process.env||"1"!==process.env.BUF_BIGINT_DISABLE)){const t=BigInt("-9223372036854775808"),n=BigInt("9223372036854775807"),i=BigInt("0"),r=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(e){const i="bigint"==typeof e?e:BigInt(e);if(i>n||i<t)throw new Error("int64 invalid: ".concat(e));return i},uParse(e){const t="bigint"==typeof e?e:BigInt(e);if(t>r||t<i)throw new Error("uint64 invalid: ".concat(e));return t},enc(t){return e.setBigInt64(0,this.parse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(t){return e.setBigInt64(0,this.uParse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec:(t,n)=>(e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigInt64(0,!0)),uDec:(t,n)=>(e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigUint64(0,!0))}}const t=e=>ya(/^-?[0-9]+$/.test(e),"int64 invalid: ".concat(e)),n=e=>ya(/^[0-9]+$/.test(e),"uint64 invalid: ".concat(e));return{zero:"0",supported:!1,parse:e=>("string"!=typeof e&&(e=e.toString()),t(e),e),uParse:e=>("string"!=typeof e&&(e=e.toString()),n(e),e),enc:e=>("string"!=typeof e&&(e=e.toString()),t(e),La(e)),uEnc:e=>("string"!=typeof e&&(e=e.toString()),n(e),La(e)),dec:(e,t)=>function(e,t){let n=Ua(e,t);const i=2147483648&n.hi;i&&(n=qa(n.lo,n.hi));const r=$a(n.lo,n.hi);return i?"-"+r:r}(e,t),uDec:(e,t)=>$a(e,t)}}();var Wa,Ga,Va,Ya;function Ha(e,t,n){if(t===n)return!0;if(e==Wa.BYTES){if(!(t instanceof Uint8Array&&n instanceof Uint8Array&&t.length===n.length))return!1;for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}switch(e){case Wa.UINT64:case Wa.FIXED64:case Wa.INT64:case Wa.SFIXED64:case Wa.SINT64:return t==n}return!1}function Ka(e,t){switch(e){case Wa.BOOL:return!1;case Wa.UINT64:case Wa.FIXED64:case Wa.INT64:case Wa.SFIXED64:case Wa.SINT64:return 0==t?ja.zero:"0";case Wa.DOUBLE:case Wa.FLOAT:return 0;case Wa.BYTES:return new Uint8Array(0);case Wa.STRING:return"";default:return 0}}function Ja(e,t){switch(e){case Wa.BOOL:return!1===t;case Wa.STRING:return""===t;case Wa.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return 0==t}}(Ga=Wa||(Wa={}))[Ga.DOUBLE=1]="DOUBLE",Ga[Ga.FLOAT=2]="FLOAT",Ga[Ga.INT64=3]="INT64",Ga[Ga.UINT64=4]="UINT64",Ga[Ga.INT32=5]="INT32",Ga[Ga.FIXED64=6]="FIXED64",Ga[Ga.FIXED32=7]="FIXED32",Ga[Ga.BOOL=8]="BOOL",Ga[Ga.STRING=9]="STRING",Ga[Ga.BYTES=12]="BYTES",Ga[Ga.UINT32=13]="UINT32",Ga[Ga.SFIXED32=15]="SFIXED32",Ga[Ga.SFIXED64=16]="SFIXED64",Ga[Ga.SINT32=17]="SINT32",Ga[Ga.SINT64=18]="SINT64",function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING"}(Va||(Va={})),function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(Ya||(Ya={}));class eo{constructor(e){this.stack=[],this.textEncoder=null!=e?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;let t=new Uint8Array(e),n=0;for(let e=0;e<this.chunks.length;e++)t.set(this.chunks[e],n),n+=this.chunks[e].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(Sa(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return Aa(e),za(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){_a(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){Sa(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){Aa(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return Aa(e),za(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),i=ja.enc(e);return n.setInt32(0,i.lo,!0),n.setInt32(4,i.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),i=ja.uEnc(e);return n.setInt32(0,i.lo,!0),n.setInt32(4,i.hi,!0),this.raw(t)}int64(e){let t=ja.enc(e);return Ba(t.lo,t.hi,this.buf),this}sint64(e){let t=ja.enc(e),n=t.hi>>31;return Ba(t.lo<<1^n,(t.hi<<1|t.lo>>>31)^n,this.buf),this}uint64(e){let t=ja.uEnc(e);return Ba(t.lo,t.hi,this.buf),this}}class to{constructor(e,t){this.varint64=Na,this.uint32=Za,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=null!=t?t:new TextDecoder}tag(){let e=this.uint32(),t=e>>>3,n=7&e;if(t<=0||n<0||n>5)throw new Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}skip(e,t){let n=this.pos;switch(e){case Ya.Varint:for(;128&this.buf[this.pos++];);break;case Ya.Bit64:this.pos+=4;case Ya.Bit32:this.pos+=4;break;case Ya.LengthDelimited:let n=this.uint32();this.pos+=n;break;case Ya.StartGroup:for(;;){const[e,n]=this.tag();if(n===Ya.EndGroup){if(void 0!==t&&e!==t)throw new Error("invalid end group tag");break}this.skip(n,e)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return ja.dec(...this.varint64())}uint64(){return ja.uDec(...this.varint64())}sint64(){let[e,t]=this.varint64(),n=-(1&e);return e=(e>>>1|(1&t)<<31)^n,t=t>>>1^n,ja.dec(e,t)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return ja.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return ja.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}}function no(e){const t=e.field.localName,n=Object.create(null);return n[t]=function(e){const t=e.field;if(t.repeated)return[];if(void 0!==t.default)return t.default;switch(t.kind){case"enum":return t.T.values[0].no;case"scalar":return Ka(t.T,t.L);case"message":const e=t.T,n=new e;return e.fieldWrapper?e.fieldWrapper.unwrapField(n):n;case"map":throw"map fields are not allowed to be extensions"}}(e),[n,()=>n[t]]}let io="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),ro=[];for(let e=0;e<io.length;e++)ro[io[e].charCodeAt(0)]=e;ro[45]=io.indexOf("+"),ro[95]=io.indexOf("/");const ao={dec(e){let t=3*e.length/4;"="==e[e.length-2]?t-=2:"="==e[e.length-1]&&(t-=1);let n,i=new Uint8Array(t),r=0,a=0,o=0;for(let t=0;t<e.length;t++){if(n=ro[e.charCodeAt(t)],void 0===n)switch(e[t]){case"=":a=0;case"\n":case"\r":case"\t":case" ":continue;default:throw Error("invalid base64 string.")}switch(a){case 0:o=n,a=1;break;case 1:i[r++]=o<<2|(48&n)>>4,o=n,a=2;break;case 2:i[r++]=(15&o)<<4|(60&n)>>2,o=n,a=3;break;case 3:i[r++]=(3&o)<<6|n,a=0}}if(1==a)throw Error("invalid base64 string.");return i.subarray(0,r)},enc(e){let t,n="",i=0,r=0;for(let a=0;a<e.length;a++)switch(t=e[a],i){case 0:n+=io[t>>2],r=(3&t)<<4,i=1;break;case 1:n+=io[r|t>>4],r=(15&t)<<2,i=2;break;case 2:n+=io[r|t>>6],n+=io[63&t],i=0}return i&&(n+=io[r],n+="=",1==i&&(n+="=")),n}};function oo(e,t,n){lo(t,e);const i=t.runtime.bin.makeReadOptions(n),r=function(e,t){if(!t.repeated&&("enum"==t.kind||"scalar"==t.kind)){for(let n=e.length-1;n>=0;--n)if(e[n].no==t.no)return[e[n]];return[]}return e.filter(e=>e.no===t.no)}(e.getType().runtime.bin.listUnknownFields(e),t.field),[a,o]=no(t);for(const e of r)t.runtime.bin.readField(a,i.readerFactory(e.data),t.field,e.wireType,i);return o()}function so(e,t,n,i){lo(t,e);const r=t.runtime.bin.makeReadOptions(i),a=t.runtime.bin.makeWriteOptions(i);if(uo(e,t)){const n=e.getType().runtime.bin.listUnknownFields(e).filter(e=>e.no!=t.field.no);e.getType().runtime.bin.discardUnknownFields(e);for(const t of n)e.getType().runtime.bin.onUnknownField(e,t.no,t.wireType,t.data)}const o=a.writerFactory();let s=t.field;!s.opt&&!s.repeated&&("enum"==s.kind||"scalar"==s.kind)&&(s=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(s,n,o,a);const u=r.readerFactory(o.finish());for(;u.pos<u.len;){const[t,n]=u.tag(),i=u.skip(n,t);e.getType().runtime.bin.onUnknownField(e,t,n,i)}}function uo(e,t){const n=e.getType();return t.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(e).find(e=>e.no==t.field.no)}function lo(e,t){ya(e.extendee.typeName==t.getType().typeName,"extension ".concat(e.typeName," can only be applied to message ").concat(e.extendee.typeName))}function co(e,t){const n=e.localName;if(e.repeated)return t[n].length>0;if(e.oneof)return t[e.oneof.localName].case===n;switch(e.kind){case"enum":case"scalar":return e.opt||e.req?void 0!==t[n]:"enum"==e.kind?t[n]!==e.T.values[0].no:!Ja(e.T,t[n]);case"message":return void 0!==t[n];case"map":return Object.keys(t[n]).length>0}}function ho(e,t){const n=e.localName,i=!e.opt&&!e.req;if(e.repeated)t[n]=[];else if(e.oneof)t[e.oneof.localName]={case:void 0};else switch(e.kind){case"map":t[n]={};break;case"enum":t[n]=i?e.T.values[0].no:void 0;break;case"scalar":t[n]=i?Ka(e.T,e.L):void 0;break;case"message":t[n]=void 0}}function po(e,t){if(null===e||"object"!=typeof e||!Object.getOwnPropertyNames(Qa.prototype).every(t=>t in e&&"function"==typeof e[t]))return!1;const n=e.getType();return null!==n&&"function"==typeof n&&"typeName"in n&&"string"==typeof n.typeName&&(void 0===t||n.typeName==t.typeName)}function fo(e,t){return po(t)||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}Wa.DOUBLE,Wa.FLOAT,Wa.INT64,Wa.UINT64,Wa.INT32,Wa.UINT32,Wa.BOOL,Wa.STRING,Wa.BYTES;const mo={ignoreUnknownFields:!1},Oo={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function go(e){return e?Object.assign(Object.assign({},mo),e):mo}function Do(e){return e?Object.assign(Object.assign({},Oo),e):Oo}const vo=Symbol(),Eo=Symbol();function Co(e){if(null===e)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":'"'.concat(e.split('"').join('\\"'),'"');default:return String(e)}}function bo(e,t,n,i,r){let a=n.localName;if(n.repeated){if(ya("map"!=n.kind),null===t)return;if(!Array.isArray(t))throw new Error("cannot decode field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(Co(t)));const o=e[a];for(const e of t){if(null===e)throw new Error("cannot decode field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(Co(e)));switch(n.kind){case"message":o.push(n.T.fromJson(e,i));break;case"enum":const t=yo(n.T,e,i.ignoreUnknownFields,!0);t!==Eo&&o.push(t);break;case"scalar":try{o.push(To(n.T,e,n.L,!0))}catch(t){let i="cannot decode field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(Co(e));throw t instanceof Error&&t.message.length>0&&(i+=": ".concat(t.message)),new Error(i)}}}}else if("map"==n.kind){if(null===t)return;if("object"!=typeof t||Array.isArray(t))throw new Error("cannot decode field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(Co(t)));const o=e[a];for(const[e,a]of Object.entries(t)){if(null===a)throw new Error("cannot decode field ".concat(r.typeName,".").concat(n.name," from JSON: map value null"));let s;try{s=ko(n.K,e)}catch(e){let i="cannot decode map key for field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(Co(t));throw e instanceof Error&&e.message.length>0&&(i+=": ".concat(e.message)),new Error(i)}switch(n.V.kind){case"message":o[s]=n.V.T.fromJson(a,i);break;case"enum":const e=yo(n.V.T,a,i.ignoreUnknownFields,!0);e!==Eo&&(o[s]=e);break;case"scalar":try{o[s]=To(n.V.T,a,Va.BIGINT,!0)}catch(e){let i="cannot decode map value for field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(Co(t));throw e instanceof Error&&e.message.length>0&&(i+=": ".concat(e.message)),new Error(i)}}}}else switch(n.oneof&&(e=e[n.oneof.localName]={case:a},a="value"),n.kind){case"message":const o=n.T;if(null===t&&"google.protobuf.Value"!=o.typeName)return;let s=e[a];po(s)?s.fromJson(t,i):(e[a]=s=o.fromJson(t,i),o.fieldWrapper&&!n.oneof&&(e[a]=o.fieldWrapper.unwrapField(s)));break;case"enum":const u=yo(n.T,t,i.ignoreUnknownFields,!1);switch(u){case vo:ho(n,e);break;case Eo:break;default:e[a]=u}break;case"scalar":try{const i=To(n.T,t,n.L,!1);i===vo?ho(n,e):e[a]=i}catch(e){let i="cannot decode field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(Co(t));throw e instanceof Error&&e.message.length>0&&(i+=": ".concat(e.message)),new Error(i)}}}function ko(e,t){if(e===Wa.BOOL)switch(t){case"true":t=!0;break;case"false":t=!1}return To(e,t,Va.BIGINT,!0).toString()}function To(e,t,n,i){if(null===t)return i?Ka(e,n):vo;switch(e){case Wa.DOUBLE:case Wa.FLOAT:if("NaN"===t)return Number.NaN;if("Infinity"===t)return Number.POSITIVE_INFINITY;if("-Infinity"===t)return Number.NEGATIVE_INFINITY;if(""===t||"string"==typeof t&&t.trim().length!==t.length||"string"!=typeof t&&"number"!=typeof t)break;const i=Number(t);if(Number.isNaN(i)||!Number.isFinite(i))break;return e==Wa.FLOAT&&_a(i),i;case Wa.INT32:case Wa.FIXED32:case Wa.SFIXED32:case Wa.SINT32:case Wa.UINT32:let r;if("number"==typeof t?r=t:"string"==typeof t&&t.length>0&&t.trim().length===t.length&&(r=Number(t)),void 0===r)break;return e==Wa.UINT32||e==Wa.FIXED32?Sa(r):Aa(r),r;case Wa.INT64:case Wa.SFIXED64:case Wa.SINT64:if("number"!=typeof t&&"string"!=typeof t)break;const a=ja.parse(t);return n?a.toString():a;case Wa.FIXED64:case Wa.UINT64:if("number"!=typeof t&&"string"!=typeof t)break;const o=ja.uParse(t);return n?o.toString():o;case Wa.BOOL:if("boolean"!=typeof t)break;return t;case Wa.STRING:if("string"!=typeof t)break;try{encodeURIComponent(t)}catch(e){throw new Error("invalid UTF8")}return t;case Wa.BYTES:if(""===t)return new Uint8Array(0);if("string"!=typeof t)break;return ao.dec(t)}throw new Error}function yo(e,t,n,i){if(null===t)return"google.protobuf.NullValue"==e.typeName?0:i?e.values[0].no:vo;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const i=e.findName(t);if(void 0!==i)return i.no;if(n)return Eo}throw new Error("cannot decode enum ".concat(e.typeName," from JSON: ").concat(Co(t)))}function Ao(e){return!(!e.repeated&&"map"!=e.kind&&(e.oneof||"message"==e.kind||e.opt||e.req))}function So(e,t,n){if("map"==e.kind){ya("object"==typeof t&&null!=t);const i={},r=Object.entries(t);switch(e.V.kind){case"scalar":for(const[t,n]of r)i[t.toString()]=Fo(e.V.T,n);break;case"message":for(const[e,t]of r)i[e.toString()]=t.toJson(n);break;case"enum":const t=e.V.T;for(const[e,a]of r)i[e.toString()]=_o(t,a,n.enumAsInteger)}return n.emitDefaultValues||r.length>0?i:void 0}if(e.repeated){ya(Array.isArray(t));const i=[];switch(e.kind){case"scalar":for(let n=0;n<t.length;n++)i.push(Fo(e.T,t[n]));break;case"enum":for(let r=0;r<t.length;r++)i.push(_o(e.T,t[r],n.enumAsInteger));break;case"message":for(let e=0;e<t.length;e++)i.push(t[e].toJson(n))}return n.emitDefaultValues||i.length>0?i:void 0}switch(e.kind){case"scalar":return Fo(e.T,t);case"enum":return _o(e.T,t,n.enumAsInteger);case"message":return fo(e.T,t).toJson(n)}}function _o(e,t,n){var i;if(ya("number"==typeof t),"google.protobuf.NullValue"==e.typeName)return null;if(n)return t;const r=e.findNumber(t);return null!==(i=null==r?void 0:r.name)&&void 0!==i?i:t}function Fo(e,t){switch(e){case Wa.INT32:case Wa.SFIXED32:case Wa.SINT32:case Wa.FIXED32:case Wa.UINT32:return ya("number"==typeof t),t;case Wa.FLOAT:case Wa.DOUBLE:return ya("number"==typeof t),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t;case Wa.STRING:return ya("string"==typeof t),t;case Wa.BOOL:return ya("boolean"==typeof t),t;case Wa.UINT64:case Wa.FIXED64:case Wa.INT64:case Wa.SFIXED64:case Wa.SINT64:return ya("bigint"==typeof t||"string"==typeof t||"number"==typeof t),t.toString();case Wa.BYTES:return ya(t instanceof Uint8Array),ao.enc(t)}}const wo=Symbol("@bufbuild/protobuf/unknown-fields"),xo={readUnknownFields:!0,readerFactory:e=>new to(e)},Po={writeUnknownFields:!0,writerFactory:()=>new eo};function Ro(e){return e?Object.assign(Object.assign({},xo),e):xo}function Io(e){return e?Object.assign(Object.assign({},Po),e):Po}function Qo(e,t,n,i,r){let{repeated:a,localName:o}=n;switch(n.oneof&&((e=e[n.oneof.localName]).case!=o&&delete e.value,e.case=o,o="value"),n.kind){case"scalar":case"enum":const s="enum"==n.kind?Wa.INT32:n.T;let u=Mo;if("scalar"==n.kind&&n.L>0&&(u=Bo),a){let n=e[o];if(i==Ya.LengthDelimited&&s!=Wa.STRING&&s!=Wa.BYTES){let e=t.uint32()+t.pos;for(;t.pos<e;)n.push(u(t,s))}else n.push(u(t,s))}else e[o]=u(t,s);break;case"message":const l=n.T;a?e[o].push(No(t,new l,r,n)):po(e[o])?No(t,e[o],r,n):(e[o]=No(t,new l,r,n),l.fieldWrapper&&!n.oneof&&!n.repeated&&(e[o]=l.fieldWrapper.unwrapField(e[o])));break;case"map":let[c,d]=function(e,t,n){const i=t.uint32(),r=t.pos+i;let a,o;for(;t.pos<r;){const[i]=t.tag();switch(i){case 1:a=Mo(t,e.K);break;case 2:switch(e.V.kind){case"scalar":o=Mo(t,e.V.T);break;case"enum":o=t.int32();break;case"message":o=No(t,new e.V.T,n,void 0)}}}if(void 0===a&&(a=Ka(e.K,Va.BIGINT)),"string"!=typeof a&&"number"!=typeof a&&(a=a.toString()),void 0===o)switch(e.V.kind){case"scalar":o=Ka(e.V.T,Va.BIGINT);break;case"enum":o=e.V.T.values[0].no;break;case"message":o=new e.V.T}return[a,o]}(n,t,r);e[o][c]=d}}function No(e,t,n,i){const r=t.getType().runtime.bin,a=null==i?void 0:i.delimited;return r.readMessage(t,e,a?i.no:e.uint32(),n,a),t}function Bo(e,t){const n=Mo(e,t);return"bigint"==typeof n?n.toString():n}function Mo(e,t){switch(t){case Wa.STRING:return e.string();case Wa.BOOL:return e.bool();case Wa.DOUBLE:return e.double();case Wa.FLOAT:return e.float();case Wa.INT32:return e.int32();case Wa.INT64:return e.int64();case Wa.UINT64:return e.uint64();case Wa.FIXED64:return e.fixed64();case Wa.BYTES:return e.bytes();case Wa.FIXED32:return e.fixed32();case Wa.SFIXED32:return e.sfixed32();case Wa.SFIXED64:return e.sfixed64();case Wa.SINT64:return e.sint64();case Wa.UINT32:return e.uint32();case Wa.SINT32:return e.sint32()}}function Lo(e,t,n,i){ya(void 0!==t);const r=e.repeated;switch(e.kind){case"scalar":case"enum":let a="enum"==e.kind?Wa.INT32:e.T;if(r)if(ya(Array.isArray(t)),e.packed)!function(e,t,n,i){if(!i.length)return;e.tag(n,Ya.LengthDelimited).fork();let[,r]=Xo(t);for(let t=0;t<i.length;t++)e[r](i[t]);e.join()}(n,a,e.no,t);else for(const i of t)qo(n,a,e.no,i);else qo(n,a,e.no,t);break;case"message":if(r){ya(Array.isArray(t));for(const r of t)Uo(n,i,e,r)}else Uo(n,i,e,t);break;case"map":ya("object"==typeof t&&null!=t);for(const[r,a]of Object.entries(t))$o(n,i,e,r,a)}}function $o(e,t,n,i,r){e.tag(n.no,Ya.LengthDelimited),e.fork();let a=i;switch(n.K){case Wa.INT32:case Wa.FIXED32:case Wa.UINT32:case Wa.SFIXED32:case Wa.SINT32:a=Number.parseInt(i);break;case Wa.BOOL:ya("true"==i||"false"==i),a="true"==i}switch(qo(e,n.K,1,a),n.V.kind){case"scalar":qo(e,n.V.T,2,r);break;case"enum":qo(e,Wa.INT32,2,r);break;case"message":ya(void 0!==r),e.tag(2,Ya.LengthDelimited).bytes(r.toBinary(t))}e.join()}function Uo(e,t,n,i){const r=fo(n.T,i);n.delimited?e.tag(n.no,Ya.StartGroup).raw(r.toBinary(t)).tag(n.no,Ya.EndGroup):e.tag(n.no,Ya.LengthDelimited).bytes(r.toBinary(t))}function qo(e,t,n,i){ya(void 0!==i);let[r,a]=Xo(t);e.tag(n,r)[a](i)}function Xo(e){let t=Ya.Varint;switch(e){case Wa.BYTES:case Wa.STRING:t=Ya.LengthDelimited;break;case Wa.DOUBLE:case Wa.FIXED64:case Wa.SFIXED64:t=Ya.Bit64;break;case Wa.FIXED32:case Wa.SFIXED32:case Wa.FLOAT:t=Ya.Bit32}return[t,Wa[e].toLowerCase()]}function zo(e){if(void 0===e)return e;if(po(e))return e.clone();if(e instanceof Uint8Array){const t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function Zo(e){return e instanceof Uint8Array?e:new Uint8Array(e)}class jo{constructor(e,t){this._fields=e,this._normalizer=t}findJsonName(e){if(!this.jsonNames){const e={};for(const t of this.list())e[t.jsonName]=e[t.name]=t;this.jsonNames=e}return this.jsonNames[e]}find(e){if(!this.numbers){const e={};for(const t of this.list())e[t.no]=t;this.numbers=e}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,t)=>e.no-t.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let t;for(const n of this.list())n.oneof?n.oneof!==t&&(t=n.oneof,e.push(t)):e.push(n)}return this.members}}function Wo(e,t){const n=Vo(e);return t?n:es(Jo(n))}const Go=Vo;function Vo(e){let t=!1;const n=[];for(let i=0;i<e.length;i++){let r=e.charAt(i);switch(r){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(r),t=!1;break;default:t&&(t=!1,r=r.toUpperCase()),n.push(r)}}return n.join("")}const Yo=new Set(["constructor","toString","toJSON","valueOf"]),Ho=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),Ko=e=>"".concat(e,"$"),Jo=e=>Ho.has(e)?Ko(e):e,es=e=>Yo.has(e)?Ko(e):e;class ts{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=function(e){return Wo(e,!1)}(e)}addField(e){ya(e.oneof===this,"field ".concat(e.name," not one of ").concat(this.name)),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let e=0;e<this.fields.length;e++)this._lookup[this.fields[e].localName]=this.fields[e]}return this._lookup[e]}}const ns={syntax:"proto3",json:{makeReadOptions:go,makeWriteOptions:Do,readMessage(e,t,n,i){if(null==t||Array.isArray(t)||"object"!=typeof t)throw new Error("cannot decode message ".concat(e.typeName," from JSON: ").concat(Co(t)));i=null!=i?i:new e;const r=new Map,a=n.typeRegistry;for(const[o,s]of Object.entries(t)){const t=e.fields.findJsonName(o);if(t){if(t.oneof){if(null===s&&"scalar"==t.kind)continue;const n=r.get(t.oneof);if(void 0!==n)throw new Error("cannot decode message ".concat(e.typeName,' from JSON: multiple keys for oneof "').concat(t.oneof.name,'" present: "').concat(n,'", "').concat(o,'"'));r.set(t.oneof,o)}bo(i,s,t,n,e)}else{let t=!1;if(null!=a&&a.findExtension&&o.startsWith("[")&&o.endsWith("]")){const r=a.findExtension(o.substring(1,o.length-1));if(r&&r.extendee.typeName==e.typeName){t=!0;const[e,a]=no(r);bo(e,s,r.field,n,r),so(i,r,a(),n)}}if(!t&&!n.ignoreUnknownFields)throw new Error("cannot decode message ".concat(e.typeName,' from JSON: key "').concat(o,'" is unknown'))}}return i},writeMessage(e,t){const n=e.getType(),i={};let r;try{for(r of n.fields.byNumber()){if(!co(r,e)){if(r.req)throw"required field not set";if(!t.emitDefaultValues||!Ao(r))continue}const n=So(r,r.oneof?e[r.oneof.localName].value:e[r.localName],t);void 0!==n&&(i[t.useProtoFieldName?r.name:r.jsonName]=n)}const a=t.typeRegistry;if(null!=a&&a.findExtensionFor)for(const r of n.runtime.bin.listUnknownFields(e)){const o=a.findExtensionFor(n.typeName,r.no);if(o&&uo(e,o)){const n=oo(e,o,t),r=So(o.field,n,t);void 0!==r&&(i[o.field.jsonName]=r)}}}catch(e){const t=r?"cannot encode field ".concat(n.typeName,".").concat(r.name," to JSON"):"cannot encode message ".concat(n.typeName," to JSON"),i=e instanceof Error?e.message:String(e);throw new Error(t+(i.length>0?": ".concat(i):""))}return i},readScalar:(e,t,n)=>To(e,t,null!=n?n:Va.BIGINT,!0),writeScalar(e,t,n){if(void 0!==t&&(n||Ja(e,t)))return Fo(e,t)},debug:Co},bin:{makeReadOptions:Ro,makeWriteOptions:Io,listUnknownFields(e){var t;return null!==(t=e[wo])&&void 0!==t?t:[]},discardUnknownFields(e){delete e[wo]},writeUnknownFields(e,t){const n=e[wo];if(n)for(const e of n)t.tag(e.no,e.wireType).raw(e.data)},onUnknownField(e,t,n,i){const r=e;Array.isArray(r[wo])||(r[wo]=[]),r[wo].push({no:t,wireType:n,data:i})},readMessage(e,t,n,i,r){const a=e.getType(),o=r?t.len:t.pos+n;let s,u;for(;t.pos<o&&([s,u]=t.tag(),!0!==r||u!=Ya.EndGroup);){const n=a.fields.find(s);if(!n){const n=t.skip(u,s);i.readUnknownFields&&this.onUnknownField(e,s,u,n);continue}Qo(e,t,n,u,i)}if(r&&(u!=Ya.EndGroup||s!==n))throw new Error("invalid end group tag")},readField:Qo,writeMessage(e,t,n){const i=e.getType();for(const r of i.fields.byNumber())if(co(r,e))Lo(r,r.oneof?e[r.oneof.localName].value:e[r.localName],t,n);else if(r.req)throw new Error("cannot encode field ".concat(i.typeName,".").concat(r.name," to binary: required field not set"));return n.writeUnknownFields&&this.writeUnknownFields(e,t),t},writeField(e,t,n,i){void 0!==t&&Lo(e,t,n,i)}},util:Object.assign(Object.assign({},{setEnumType:xa,initPartial(e,t){if(void 0===e)return;const n=t.getType();for(const i of n.fields.byMember()){const n=i.localName,r=t,a=e;if(null!=a[n])switch(i.kind){case"oneof":const e=a[n].case;if(void 0===e)continue;const t=i.findField(e);let o=a[n].value;t&&"message"==t.kind&&!po(o,t.T)?o=new t.T(o):t&&"scalar"===t.kind&&t.T===Wa.BYTES&&(o=Zo(o)),r[n]={case:e,value:o};break;case"scalar":case"enum":let s=a[n];i.T===Wa.BYTES&&(s=i.repeated?s.map(Zo):Zo(s)),r[n]=s;break;case"map":switch(i.V.kind){case"scalar":case"enum":if(i.V.T===Wa.BYTES)for(const[e,t]of Object.entries(a[n]))r[n][e]=Zo(t);else Object.assign(r[n],a[n]);break;case"message":const e=i.V.T;for(const t of Object.keys(a[n])){let i=a[n][t];e.fieldWrapper||(i=new e(i)),r[n][t]=i}}break;case"message":const u=i.T;if(i.repeated)r[n]=a[n].map(e=>po(e,u)?e:new u(e));else{const e=a[n];u.fieldWrapper?"google.protobuf.BytesValue"===u.typeName?r[n]=Zo(e):r[n]=e:r[n]=po(e,u)?e:new u(e)}}}},equals:(e,t,n)=>t===n||!(!t||!n)&&e.fields.byMember().every(e=>{const i=t[e.localName],r=n[e.localName];if(e.repeated){if(i.length!==r.length)return!1;switch(e.kind){case"message":return i.every((t,n)=>e.T.equals(t,r[n]));case"scalar":return i.every((t,n)=>Ha(e.T,t,r[n]));case"enum":return i.every((e,t)=>Ha(Wa.INT32,e,r[t]))}throw new Error("repeated cannot contain ".concat(e.kind))}switch(e.kind){case"message":let t=i,n=r;return e.T.fieldWrapper&&(void 0!==t&&!po(t)&&(t=e.T.fieldWrapper.wrapField(t)),void 0!==n&&!po(n)&&(n=e.T.fieldWrapper.wrapField(n))),e.T.equals(t,n);case"enum":return Ha(Wa.INT32,i,r);case"scalar":return Ha(e.T,i,r);case"oneof":if(i.case!==r.case)return!1;const a=e.findField(i.case);if(void 0===a)return!0;switch(a.kind){case"message":return a.T.equals(i.value,r.value);case"enum":return Ha(Wa.INT32,i.value,r.value);case"scalar":return Ha(a.T,i.value,r.value)}throw new Error("oneof cannot contain ".concat(a.kind));case"map":const o=Object.keys(i).concat(Object.keys(r));switch(e.V.kind){case"message":const t=e.V.T;return o.every(e=>t.equals(i[e],r[e]));case"enum":return o.every(e=>Ha(Wa.INT32,i[e],r[e]));case"scalar":const n=e.V.T;return o.every(e=>Ha(n,i[e],r[e]))}}}),clone(e){const t=e.getType(),n=new t,i=n;for(const n of t.fields.byMember()){const t=e[n.localName];let r;if(n.repeated)r=t.map(zo);else if("map"==n.kind){r=i[n.localName];for(const[e,n]of Object.entries(t))r[e]=zo(n)}else r="oneof"==n.kind?n.findField(t.case)?{case:t.case,value:zo(t.value)}:{case:void 0}:zo(t);i[n.localName]=r}for(const n of t.runtime.bin.listUnknownFields(e))t.runtime.bin.onUnknownField(i,n.no,n.wireType,n.data);return n}}),{newFieldList:e=>new jo(e,e=>function(e){var t,n,i,r,a,o;const s=[];let u;for(const l of"function"==typeof e?e():e){const e=l;if(e.localName=Wo(l.name,void 0!==l.oneof),e.jsonName=null!==(t=l.jsonName)&&void 0!==t?t:Go(l.name),e.repeated=null!==(n=l.repeated)&&void 0!==n&&n,"scalar"==l.kind&&(e.L=null!==(i=l.L)&&void 0!==i?i:Va.BIGINT),e.delimited=null!==(r=l.delimited)&&void 0!==r&&r,e.req=null!==(a=l.req)&&void 0!==a&&a,e.opt=null!==(o=l.opt)&&void 0!==o&&o,void 0===l.packed&&(e.packed="enum"==l.kind||"scalar"==l.kind&&l.T!=Wa.BYTES&&l.T!=Wa.STRING),void 0!==l.oneof){const t="string"==typeof l.oneof?l.oneof:l.oneof.name;(!u||u.name!=t)&&(u=new ts(t)),e.oneof=u,u.addField(e)}s.push(e)}return s}(e)),initFields:e=>{for(const t of e.getType().fields.byMember()){if(t.opt)continue;const n=t.localName,i=e;if(t.repeated)i[n]=[];else switch(t.kind){case"oneof":i[n]={case:void 0};break;case"enum":i[n]=0;break;case"map":i[n]={};break;case"scalar":i[n]=Ka(t.T,t.L)}}}}),makeMessageType(e,t,n){return function(e,t,n,i){var r;const a=null!==(r=null==i?void 0:i.localName)&&void 0!==r?r:t.substring(t.lastIndexOf(".")+1),o={[a]:function(t){e.util.initFields(this),e.util.initPartial(t,this)}}[a];return Object.setPrototypeOf(o.prototype,new Qa),Object.assign(o,{runtime:e,typeName:t,fields:e.util.newFieldList(n),fromBinary:(e,t)=>(new o).fromBinary(e,t),fromJson:(e,t)=>(new o).fromJson(e,t),fromJsonString:(e,t)=>(new o).fromJsonString(e,t),equals:(t,n)=>e.util.equals(o,t,n)}),o}(this,e,t,n)},makeEnum:Ra,makeEnumType:Pa,getEnumType:wa,makeExtension(e,t,n){return function(e,t,n,i){let r;return{typeName:t,extendee:n,get field(){if(!r){const n="function"==typeof i?i():i;n.name=t.split(".").pop(),n.jsonName="[".concat(t,"]"),r=e.util.newFieldList([n]).list()[0]}return r},runtime:e}}(this,e,t,n)}};class is extends Qa{constructor(e){super(),this.seconds=ja.zero,this.nanos=0,ns.util.initPartial(e,this)}fromJson(e,t){if("string"!=typeof e)throw new Error("cannot decode google.protobuf.Timestamp from JSON: ".concat(ns.json.debug(e)));const n=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!n)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const i=Date.parse(n[1]+"-"+n[2]+"-"+n[3]+"T"+n[4]+":"+n[5]+":"+n[6]+(n[8]?n[8]:"Z"));if(Number.isNaN(i))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=ja.parse(i/1e3),this.nanos=0,n[7]&&(this.nanos=parseInt("1"+n[7]+"0".repeat(9-n[7].length))-1e9),this}toJson(e){const t=1e3*Number(this.seconds);if(t<Date.parse("0001-01-01T00:00:00Z")||t>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let n="Z";if(this.nanos>0){const e=(this.nanos+1e9).toString().substring(1);n="000000"===e.substring(3)?"."+e.substring(0,3)+"Z":"000"===e.substring(6)?"."+e.substring(0,6)+"Z":"."+e+"Z"}return new Date(t).toISOString().replace(".000Z",n)}toDate(){return new Date(1e3*Number(this.seconds)+Math.ceil(this.nanos/1e6))}static now(){return is.fromDate(new Date)}static fromDate(e){const t=e.getTime();return new is({seconds:ja.parse(Math.floor(t/1e3)),nanos:t%1e3*1e6})}static fromBinary(e,t){return(new is).fromBinary(e,t)}static fromJson(e,t){return(new is).fromJson(e,t)}static fromJsonString(e,t){return(new is).fromJsonString(e,t)}static equals(e,t){return ns.util.equals(is,e,t)}}is.runtime=ns,is.typeName="google.protobuf.Timestamp",is.fields=ns.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);const rs=ns.makeMessageType("livekit.MetricsBatch",()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:is},{no:3,name:"str_data",kind:"scalar",T:9,repeated:!0},{no:4,name:"time_series",kind:"message",T:as,repeated:!0},{no:5,name:"events",kind:"message",T:ss,repeated:!0}]),as=ns.makeMessageType("livekit.TimeSeriesMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"samples",kind:"message",T:os,repeated:!0},{no:5,name:"rid",kind:"scalar",T:13}]),os=ns.makeMessageType("livekit.MetricSample",()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:is},{no:3,name:"value",kind:"scalar",T:2}]),ss=ns.makeMessageType("livekit.EventMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"start_timestamp_ms",kind:"scalar",T:3},{no:5,name:"end_timestamp_ms",kind:"scalar",T:3,opt:!0},{no:6,name:"normalized_start_timestamp",kind:"message",T:is},{no:7,name:"normalized_end_timestamp",kind:"message",T:is,opt:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"rid",kind:"scalar",T:13}]),us=ns.makeEnum("livekit.BackupCodecPolicy",[{no:0,name:"PREFER_REGRESSION"},{no:1,name:"SIMULCAST"},{no:2,name:"REGRESSION"}]),ls=ns.makeEnum("livekit.TrackType",[{no:0,name:"AUDIO"},{no:1,name:"VIDEO"},{no:2,name:"DATA"}]),cs=ns.makeEnum("livekit.TrackSource",[{no:0,name:"UNKNOWN"},{no:1,name:"CAMERA"},{no:2,name:"MICROPHONE"},{no:3,name:"SCREEN_SHARE"},{no:4,name:"SCREEN_SHARE_AUDIO"}]),ds=ns.makeEnum("livekit.VideoQuality",[{no:0,name:"LOW"},{no:1,name:"MEDIUM"},{no:2,name:"HIGH"},{no:3,name:"OFF"}]),hs=ns.makeEnum("livekit.ConnectionQuality",[{no:0,name:"POOR"},{no:1,name:"GOOD"},{no:2,name:"EXCELLENT"},{no:3,name:"LOST"}]),ps=ns.makeEnum("livekit.ClientConfigSetting",[{no:0,name:"UNSET"},{no:1,name:"DISABLED"},{no:2,name:"ENABLED"}]),fs=ns.makeEnum("livekit.DisconnectReason",[{no:0,name:"UNKNOWN_REASON"},{no:1,name:"CLIENT_INITIATED"},{no:2,name:"DUPLICATE_IDENTITY"},{no:3,name:"SERVER_SHUTDOWN"},{no:4,name:"PARTICIPANT_REMOVED"},{no:5,name:"ROOM_DELETED"},{no:6,name:"STATE_MISMATCH"},{no:7,name:"JOIN_FAILURE"},{no:8,name:"MIGRATION"},{no:9,name:"SIGNAL_CLOSE"},{no:10,name:"ROOM_CLOSED"},{no:11,name:"USER_UNAVAILABLE"},{no:12,name:"USER_REJECTED"},{no:13,name:"SIP_TRUNK_FAILURE"},{no:14,name:"CONNECTION_TIMEOUT"},{no:15,name:"MEDIA_FAILURE"}]),ms=ns.makeEnum("livekit.ReconnectReason",[{no:0,name:"RR_UNKNOWN"},{no:1,name:"RR_SIGNAL_DISCONNECTED"},{no:2,name:"RR_PUBLISHER_FAILED"},{no:3,name:"RR_SUBSCRIBER_FAILED"},{no:4,name:"RR_SWITCH_CANDIDATE"}]),Os=ns.makeEnum("livekit.SubscriptionError",[{no:0,name:"SE_UNKNOWN"},{no:1,name:"SE_CODEC_UNSUPPORTED"},{no:2,name:"SE_TRACK_NOTFOUND"}]),gs=ns.makeEnum("livekit.AudioTrackFeature",[{no:0,name:"TF_STEREO"},{no:1,name:"TF_NO_DTX"},{no:2,name:"TF_AUTO_GAIN_CONTROL"},{no:3,name:"TF_ECHO_CANCELLATION"},{no:4,name:"TF_NOISE_SUPPRESSION"},{no:5,name:"TF_ENHANCED_NOISE_CANCELLATION"},{no:6,name:"TF_PRECONNECT_BUFFER"}]),Ds=ns.makeMessageType("livekit.Room",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"empty_timeout",kind:"scalar",T:13},{no:14,name:"departure_timeout",kind:"scalar",T:13},{no:4,name:"max_participants",kind:"scalar",T:13},{no:5,name:"creation_time",kind:"scalar",T:3},{no:15,name:"creation_time_ms",kind:"scalar",T:3},{no:6,name:"turn_password",kind:"scalar",T:9},{no:7,name:"enabled_codecs",kind:"message",T:vs,repeated:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"num_participants",kind:"scalar",T:13},{no:11,name:"num_publishers",kind:"scalar",T:13},{no:10,name:"active_recording",kind:"scalar",T:8},{no:13,name:"version",kind:"message",T:Js}]),vs=ns.makeMessageType("livekit.Codec",()=>[{no:1,name:"mime",kind:"scalar",T:9},{no:2,name:"fmtp_line",kind:"scalar",T:9}]),Es=ns.makeMessageType("livekit.ParticipantPermission",()=>[{no:1,name:"can_subscribe",kind:"scalar",T:8},{no:2,name:"can_publish",kind:"scalar",T:8},{no:3,name:"can_publish_data",kind:"scalar",T:8},{no:9,name:"can_publish_sources",kind:"enum",T:ns.getEnumType(cs),repeated:!0},{no:7,name:"hidden",kind:"scalar",T:8},{no:8,name:"recorder",kind:"scalar",T:8},{no:10,name:"can_update_metadata",kind:"scalar",T:8},{no:11,name:"agent",kind:"scalar",T:8},{no:12,name:"can_subscribe_metrics",kind:"scalar",T:8}]),Cs=ns.makeMessageType("livekit.ParticipantInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:ns.getEnumType(bs)},{no:4,name:"tracks",kind:"message",T:Ss,repeated:!0},{no:5,name:"metadata",kind:"scalar",T:9},{no:6,name:"joined_at",kind:"scalar",T:3},{no:17,name:"joined_at_ms",kind:"scalar",T:3},{no:9,name:"name",kind:"scalar",T:9},{no:10,name:"version",kind:"scalar",T:13},{no:11,name:"permission",kind:"message",T:Es},{no:12,name:"region",kind:"scalar",T:9},{no:13,name:"is_publisher",kind:"scalar",T:8},{no:14,name:"kind",kind:"enum",T:ns.getEnumType(ks)},{no:15,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:16,name:"disconnect_reason",kind:"enum",T:ns.getEnumType(fs)},{no:18,name:"kind_details",kind:"enum",T:ns.getEnumType(Ts),repeated:!0}]),bs=ns.makeEnum("livekit.ParticipantInfo.State",[{no:0,name:"JOINING"},{no:1,name:"JOINED"},{no:2,name:"ACTIVE"},{no:3,name:"DISCONNECTED"}]),ks=ns.makeEnum("livekit.ParticipantInfo.Kind",[{no:0,name:"STANDARD"},{no:1,name:"INGRESS"},{no:2,name:"EGRESS"},{no:3,name:"SIP"},{no:4,name:"AGENT"},{no:7,name:"CONNECTOR"}]),Ts=ns.makeEnum("livekit.ParticipantInfo.KindDetail",[{no:0,name:"CLOUD_AGENT"},{no:1,name:"FORWARDED"}]),ys=ns.makeEnum("livekit.Encryption.Type",[{no:0,name:"NONE"},{no:1,name:"GCM"},{no:2,name:"CUSTOM"}]),As=ns.makeMessageType("livekit.SimulcastCodecInfo",()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"mid",kind:"scalar",T:9},{no:3,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:_s,repeated:!0},{no:5,name:"video_layer_mode",kind:"enum",T:ns.getEnumType(Fs)},{no:6,name:"sdp_cid",kind:"scalar",T:9}]),Ss=ns.makeMessageType("livekit.TrackInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:ns.getEnumType(ls)},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"muted",kind:"scalar",T:8},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"simulcast",kind:"scalar",T:8},{no:8,name:"disable_dtx",kind:"scalar",T:8},{no:9,name:"source",kind:"enum",T:ns.getEnumType(cs)},{no:10,name:"layers",kind:"message",T:_s,repeated:!0},{no:11,name:"mime_type",kind:"scalar",T:9},{no:12,name:"mid",kind:"scalar",T:9},{no:13,name:"codecs",kind:"message",T:As,repeated:!0},{no:14,name:"stereo",kind:"scalar",T:8},{no:15,name:"disable_red",kind:"scalar",T:8},{no:16,name:"encryption",kind:"enum",T:ns.getEnumType(ys)},{no:17,name:"stream",kind:"scalar",T:9},{no:18,name:"version",kind:"message",T:Js},{no:19,name:"audio_features",kind:"enum",T:ns.getEnumType(gs),repeated:!0},{no:20,name:"backup_codec_policy",kind:"enum",T:ns.getEnumType(us)}]),_s=ns.makeMessageType("livekit.VideoLayer",()=>[{no:1,name:"quality",kind:"enum",T:ns.getEnumType(ds)},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"ssrc",kind:"scalar",T:13},{no:6,name:"spatial_layer",kind:"scalar",T:5},{no:7,name:"rid",kind:"scalar",T:9}]),Fs=ns.makeEnum("livekit.VideoLayer.Mode",[{no:0,name:"MODE_UNUSED"},{no:1,name:"ONE_SPATIAL_LAYER_PER_STREAM"},{no:2,name:"MULTIPLE_SPATIAL_LAYERS_PER_STREAM"},{no:3,name:"ONE_SPATIAL_LAYER_PER_STREAM_INCOMPLETE_RTCP_SR"}]),ws=ns.makeMessageType("livekit.DataPacket",()=>[{no:1,name:"kind",kind:"enum",T:ns.getEnumType(xs)},{no:4,name:"participant_identity",kind:"scalar",T:9},{no:5,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:2,name:"user",kind:"message",T:Ns,oneof:"value"},{no:3,name:"speaker",kind:"message",T:Is,oneof:"value"},{no:6,name:"sip_dtmf",kind:"message",T:Bs,oneof:"value"},{no:7,name:"transcription",kind:"message",T:Ms,oneof:"value"},{no:8,name:"metrics",kind:"message",T:rs,oneof:"value"},{no:9,name:"chat_message",kind:"message",T:$s,oneof:"value"},{no:10,name:"rpc_request",kind:"message",T:Us,oneof:"value"},{no:11,name:"rpc_ack",kind:"message",T:qs,oneof:"value"},{no:12,name:"rpc_response",kind:"message",T:Xs,oneof:"value"},{no:13,name:"stream_header",kind:"message",T:iu,oneof:"value"},{no:14,name:"stream_chunk",kind:"message",T:ru,oneof:"value"},{no:15,name:"stream_trailer",kind:"message",T:au,oneof:"value"},{no:18,name:"encrypted_packet",kind:"message",T:Ps,oneof:"value"},{no:16,name:"sequence",kind:"scalar",T:13},{no:17,name:"participant_sid",kind:"scalar",T:9}]),xs=ns.makeEnum("livekit.DataPacket.Kind",[{no:0,name:"RELIABLE"},{no:1,name:"LOSSY"}]),Ps=ns.makeMessageType("livekit.EncryptedPacket",()=>[{no:1,name:"encryption_type",kind:"enum",T:ns.getEnumType(ys)},{no:2,name:"iv",kind:"scalar",T:12},{no:3,name:"key_index",kind:"scalar",T:13},{no:4,name:"encrypted_value",kind:"scalar",T:12}]),Rs=ns.makeMessageType("livekit.EncryptedPacketPayload",()=>[{no:1,name:"user",kind:"message",T:Ns,oneof:"value"},{no:3,name:"chat_message",kind:"message",T:$s,oneof:"value"},{no:4,name:"rpc_request",kind:"message",T:Us,oneof:"value"},{no:5,name:"rpc_ack",kind:"message",T:qs,oneof:"value"},{no:6,name:"rpc_response",kind:"message",T:Xs,oneof:"value"},{no:7,name:"stream_header",kind:"message",T:iu,oneof:"value"},{no:8,name:"stream_chunk",kind:"message",T:ru,oneof:"value"},{no:9,name:"stream_trailer",kind:"message",T:au,oneof:"value"}]),Is=ns.makeMessageType("livekit.ActiveSpeakerUpdate",()=>[{no:1,name:"speakers",kind:"message",T:Qs,repeated:!0}]),Qs=ns.makeMessageType("livekit.SpeakerInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"level",kind:"scalar",T:2},{no:3,name:"active",kind:"scalar",T:8}]),Ns=ns.makeMessageType("livekit.UserPacket",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:5,name:"participant_identity",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12},{no:3,name:"destination_sids",kind:"scalar",T:9,repeated:!0},{no:6,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:4,name:"topic",kind:"scalar",T:9,opt:!0},{no:8,name:"id",kind:"scalar",T:9,opt:!0},{no:9,name:"start_time",kind:"scalar",T:4,opt:!0},{no:10,name:"end_time",kind:"scalar",T:4,opt:!0},{no:11,name:"nonce",kind:"scalar",T:12}]),Bs=ns.makeMessageType("livekit.SipDTMF",()=>[{no:3,name:"code",kind:"scalar",T:13},{no:4,name:"digit",kind:"scalar",T:9}]),Ms=ns.makeMessageType("livekit.Transcription",()=>[{no:2,name:"transcribed_participant_identity",kind:"scalar",T:9},{no:3,name:"track_id",kind:"scalar",T:9},{no:4,name:"segments",kind:"message",T:Ls,repeated:!0}]),Ls=ns.makeMessageType("livekit.TranscriptionSegment",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"text",kind:"scalar",T:9},{no:3,name:"start_time",kind:"scalar",T:4},{no:4,name:"end_time",kind:"scalar",T:4},{no:5,name:"final",kind:"scalar",T:8},{no:6,name:"language",kind:"scalar",T:9}]),$s=ns.makeMessageType("livekit.ChatMessage",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"edit_timestamp",kind:"scalar",T:3,opt:!0},{no:4,name:"message",kind:"scalar",T:9},{no:5,name:"deleted",kind:"scalar",T:8},{no:6,name:"generated",kind:"scalar",T:8}]),Us=ns.makeMessageType("livekit.RpcRequest",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"method",kind:"scalar",T:9},{no:3,name:"payload",kind:"scalar",T:9},{no:4,name:"response_timeout_ms",kind:"scalar",T:13},{no:5,name:"version",kind:"scalar",T:13}]),qs=ns.makeMessageType("livekit.RpcAck",()=>[{no:1,name:"request_id",kind:"scalar",T:9}]),Xs=ns.makeMessageType("livekit.RpcResponse",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:9,oneof:"value"},{no:3,name:"error",kind:"message",T:zs,oneof:"value"}]),zs=ns.makeMessageType("livekit.RpcError",()=>[{no:1,name:"code",kind:"scalar",T:13},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"data",kind:"scalar",T:9}]),Zs=ns.makeMessageType("livekit.ParticipantTracks",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sids",kind:"scalar",T:9,repeated:!0}]),js=ns.makeMessageType("livekit.ServerInfo",()=>[{no:1,name:"edition",kind:"enum",T:ns.getEnumType(Ws)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"region",kind:"scalar",T:9},{no:5,name:"node_id",kind:"scalar",T:9},{no:6,name:"debug_info",kind:"scalar",T:9},{no:7,name:"agent_protocol",kind:"scalar",T:5}]),Ws=ns.makeEnum("livekit.ServerInfo.Edition",[{no:0,name:"Standard"},{no:1,name:"Cloud"}]),Gs=ns.makeMessageType("livekit.ClientInfo",()=>[{no:1,name:"sdk",kind:"enum",T:ns.getEnumType(Vs)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"os",kind:"scalar",T:9},{no:5,name:"os_version",kind:"scalar",T:9},{no:6,name:"device_model",kind:"scalar",T:9},{no:7,name:"browser",kind:"scalar",T:9},{no:8,name:"browser_version",kind:"scalar",T:9},{no:9,name:"address",kind:"scalar",T:9},{no:10,name:"network",kind:"scalar",T:9},{no:11,name:"other_sdks",kind:"scalar",T:9}]),Vs=ns.makeEnum("livekit.ClientInfo.SDK",[{no:0,name:"UNKNOWN"},{no:1,name:"JS"},{no:2,name:"SWIFT"},{no:3,name:"ANDROID"},{no:4,name:"FLUTTER"},{no:5,name:"GO"},{no:6,name:"UNITY"},{no:7,name:"REACT_NATIVE"},{no:8,name:"RUST"},{no:9,name:"PYTHON"},{no:10,name:"CPP"},{no:11,name:"UNITY_WEB"},{no:12,name:"NODE"},{no:13,name:"UNREAL"},{no:14,name:"ESP32"}]),Ys=ns.makeMessageType("livekit.ClientConfiguration",()=>[{no:1,name:"video",kind:"message",T:Hs},{no:2,name:"screen",kind:"message",T:Hs},{no:3,name:"resume_connection",kind:"enum",T:ns.getEnumType(ps)},{no:4,name:"disabled_codecs",kind:"message",T:Ks},{no:5,name:"force_relay",kind:"enum",T:ns.getEnumType(ps)}]),Hs=ns.makeMessageType("livekit.VideoConfiguration",()=>[{no:1,name:"hardware_encoder",kind:"enum",T:ns.getEnumType(ps)}]),Ks=ns.makeMessageType("livekit.DisabledCodecs",()=>[{no:1,name:"codecs",kind:"message",T:vs,repeated:!0},{no:2,name:"publish",kind:"message",T:vs,repeated:!0}]),Js=ns.makeMessageType("livekit.TimedVersion",()=>[{no:1,name:"unix_micro",kind:"scalar",T:3},{no:2,name:"ticks",kind:"scalar",T:5}]),eu=ns.makeEnum("livekit.DataStream.OperationType",[{no:0,name:"CREATE"},{no:1,name:"UPDATE"},{no:2,name:"DELETE"},{no:3,name:"REACTION"}]),tu=ns.makeMessageType("livekit.DataStream.TextHeader",()=>[{no:1,name:"operation_type",kind:"enum",T:ns.getEnumType(eu)},{no:2,name:"version",kind:"scalar",T:5},{no:3,name:"reply_to_stream_id",kind:"scalar",T:9},{no:4,name:"attached_stream_ids",kind:"scalar",T:9,repeated:!0},{no:5,name:"generated",kind:"scalar",T:8}],{localName:"DataStream_TextHeader"}),nu=ns.makeMessageType("livekit.DataStream.ByteHeader",()=>[{no:1,name:"name",kind:"scalar",T:9}],{localName:"DataStream_ByteHeader"}),iu=ns.makeMessageType("livekit.DataStream.Header",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"mime_type",kind:"scalar",T:9},{no:5,name:"total_length",kind:"scalar",T:4,opt:!0},{no:7,name:"encryption_type",kind:"enum",T:ns.getEnumType(ys)},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:9,name:"text_header",kind:"message",T:tu,oneof:"content_header"},{no:10,name:"byte_header",kind:"message",T:nu,oneof:"content_header"}],{localName:"DataStream_Header"}),ru=ns.makeMessageType("livekit.DataStream.Chunk",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"chunk_index",kind:"scalar",T:4},{no:3,name:"content",kind:"scalar",T:12},{no:4,name:"version",kind:"scalar",T:5},{no:5,name:"iv",kind:"scalar",T:12,opt:!0}],{localName:"DataStream_Chunk"}),au=ns.makeMessageType("livekit.DataStream.Trailer",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"reason",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}],{localName:"DataStream_Trailer"}),ou=ns.makeMessageType("livekit.SubscribedAudioCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"enabled",kind:"scalar",T:8}]),su=ns.makeEnum("livekit.SignalTarget",[{no:0,name:"PUBLISHER"},{no:1,name:"SUBSCRIBER"}]),uu=ns.makeEnum("livekit.StreamState",[{no:0,name:"ACTIVE"},{no:1,name:"PAUSED"}]),lu=ns.makeEnum("livekit.CandidateProtocol",[{no:0,name:"UDP"},{no:1,name:"TCP"},{no:2,name:"TLS"}]),cu=ns.makeMessageType("livekit.SignalRequest",()=>[{no:1,name:"offer",kind:"message",T:Eu,oneof:"message"},{no:2,name:"answer",kind:"message",T:Eu,oneof:"message"},{no:3,name:"trickle",kind:"message",T:fu,oneof:"message"},{no:4,name:"add_track",kind:"message",T:pu,oneof:"message"},{no:5,name:"mute",kind:"message",T:mu,oneof:"message"},{no:6,name:"subscription",kind:"message",T:bu,oneof:"message"},{no:7,name:"track_setting",kind:"message",T:ku,oneof:"message"},{no:8,name:"leave",kind:"message",T:Au,oneof:"message"},{no:10,name:"update_layers",kind:"message",T:_u,oneof:"message"},{no:11,name:"subscription_permission",kind:"message",T:qu,oneof:"message"},{no:12,name:"sync_state",kind:"message",T:Zu,oneof:"message"},{no:13,name:"simulate",kind:"message",T:Gu,oneof:"message"},{no:14,name:"ping",kind:"scalar",T:3,oneof:"message"},{no:15,name:"update_metadata",kind:"message",T:Fu,oneof:"message"},{no:16,name:"ping_req",kind:"message",T:Vu,oneof:"message"},{no:17,name:"update_audio_track",kind:"message",T:Tu,oneof:"message"},{no:18,name:"update_video_track",kind:"message",T:yu,oneof:"message"}]),du=ns.makeMessageType("livekit.SignalResponse",()=>[{no:1,name:"join",kind:"message",T:Ou,oneof:"message"},{no:2,name:"answer",kind:"message",T:Eu,oneof:"message"},{no:3,name:"offer",kind:"message",T:Eu,oneof:"message"},{no:4,name:"trickle",kind:"message",T:fu,oneof:"message"},{no:5,name:"update",kind:"message",T:Cu,oneof:"message"},{no:6,name:"track_published",kind:"message",T:Du,oneof:"message"},{no:8,name:"leave",kind:"message",T:Au,oneof:"message"},{no:9,name:"mute",kind:"message",T:mu,oneof:"message"},{no:10,name:"speakers_changed",kind:"message",T:xu,oneof:"message"},{no:11,name:"room_update",kind:"message",T:Pu,oneof:"message"},{no:12,name:"connection_quality",kind:"message",T:Iu,oneof:"message"},{no:13,name:"stream_state_update",kind:"message",T:Nu,oneof:"message"},{no:14,name:"subscribed_quality_update",kind:"message",T:Lu,oneof:"message"},{no:15,name:"subscription_permission_update",kind:"message",T:Xu,oneof:"message"},{no:16,name:"refresh_token",kind:"scalar",T:9,oneof:"message"},{no:17,name:"track_unpublished",kind:"message",T:vu,oneof:"message"},{no:18,name:"pong",kind:"scalar",T:3,oneof:"message"},{no:19,name:"reconnect",kind:"message",T:gu,oneof:"message"},{no:20,name:"pong_resp",kind:"message",T:Yu,oneof:"message"},{no:21,name:"subscription_response",kind:"message",T:Ju,oneof:"message"},{no:22,name:"request_response",kind:"message",T:el,oneof:"message"},{no:23,name:"track_subscribed",kind:"message",T:nl,oneof:"message"},{no:24,name:"room_moved",kind:"message",T:zu,oneof:"message"},{no:25,name:"media_sections_requirement",kind:"message",T:sl,oneof:"message"},{no:26,name:"subscribed_audio_codec_update",kind:"message",T:$u,oneof:"message"}]),hu=ns.makeMessageType("livekit.SimulcastCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:_s,repeated:!0},{no:5,name:"video_layer_mode",kind:"enum",T:ns.getEnumType(Fs)}]),pu=ns.makeMessageType("livekit.AddTrackRequest",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:ns.getEnumType(ls)},{no:4,name:"width",kind:"scalar",T:13},{no:5,name:"height",kind:"scalar",T:13},{no:6,name:"muted",kind:"scalar",T:8},{no:7,name:"disable_dtx",kind:"scalar",T:8},{no:8,name:"source",kind:"enum",T:ns.getEnumType(cs)},{no:9,name:"layers",kind:"message",T:_s,repeated:!0},{no:10,name:"simulcast_codecs",kind:"message",T:hu,repeated:!0},{no:11,name:"sid",kind:"scalar",T:9},{no:12,name:"stereo",kind:"scalar",T:8},{no:13,name:"disable_red",kind:"scalar",T:8},{no:14,name:"encryption",kind:"enum",T:ns.getEnumType(ys)},{no:15,name:"stream",kind:"scalar",T:9},{no:16,name:"backup_codec_policy",kind:"enum",T:ns.getEnumType(us)},{no:17,name:"audio_features",kind:"enum",T:ns.getEnumType(gs),repeated:!0}]),fu=ns.makeMessageType("livekit.TrickleRequest",()=>[{no:1,name:"candidateInit",kind:"scalar",T:9},{no:2,name:"target",kind:"enum",T:ns.getEnumType(su)},{no:3,name:"final",kind:"scalar",T:8}]),mu=ns.makeMessageType("livekit.MuteTrackRequest",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"muted",kind:"scalar",T:8}]),Ou=ns.makeMessageType("livekit.JoinResponse",()=>[{no:1,name:"room",kind:"message",T:Ds},{no:2,name:"participant",kind:"message",T:Cs},{no:3,name:"other_participants",kind:"message",T:Cs,repeated:!0},{no:4,name:"server_version",kind:"scalar",T:9},{no:5,name:"ice_servers",kind:"message",T:wu,repeated:!0},{no:6,name:"subscriber_primary",kind:"scalar",T:8},{no:7,name:"alternative_url",kind:"scalar",T:9},{no:8,name:"client_configuration",kind:"message",T:Ys},{no:9,name:"server_region",kind:"scalar",T:9},{no:10,name:"ping_timeout",kind:"scalar",T:5},{no:11,name:"ping_interval",kind:"scalar",T:5},{no:12,name:"server_info",kind:"message",T:js},{no:13,name:"sif_trailer",kind:"scalar",T:12},{no:14,name:"enabled_publish_codecs",kind:"message",T:vs,repeated:!0},{no:15,name:"fast_publish",kind:"scalar",T:8}]),gu=ns.makeMessageType("livekit.ReconnectResponse",()=>[{no:1,name:"ice_servers",kind:"message",T:wu,repeated:!0},{no:2,name:"client_configuration",kind:"message",T:Ys},{no:3,name:"server_info",kind:"message",T:js},{no:4,name:"last_message_seq",kind:"scalar",T:13}]),Du=ns.makeMessageType("livekit.TrackPublishedResponse",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"track",kind:"message",T:Ss}]),vu=ns.makeMessageType("livekit.TrackUnpublishedResponse",()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]),Eu=ns.makeMessageType("livekit.SessionDescription",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"sdp",kind:"scalar",T:9},{no:3,name:"id",kind:"scalar",T:13},{no:4,name:"mid_to_track_id",kind:"map",K:9,V:{kind:"scalar",T:9}}]),Cu=ns.makeMessageType("livekit.ParticipantUpdate",()=>[{no:1,name:"participants",kind:"message",T:Cs,repeated:!0}]),bu=ns.makeMessageType("livekit.UpdateSubscription",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:2,name:"subscribe",kind:"scalar",T:8},{no:3,name:"participant_tracks",kind:"message",T:Zs,repeated:!0}]),ku=ns.makeMessageType("livekit.UpdateTrackSettings",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:3,name:"disabled",kind:"scalar",T:8},{no:4,name:"quality",kind:"enum",T:ns.getEnumType(ds)},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"fps",kind:"scalar",T:13},{no:8,name:"priority",kind:"scalar",T:13}]),Tu=ns.makeMessageType("livekit.UpdateLocalAudioTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"features",kind:"enum",T:ns.getEnumType(gs),repeated:!0}]),yu=ns.makeMessageType("livekit.UpdateLocalVideoTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13}]),Au=ns.makeMessageType("livekit.LeaveRequest",()=>[{no:1,name:"can_reconnect",kind:"scalar",T:8},{no:2,name:"reason",kind:"enum",T:ns.getEnumType(fs)},{no:3,name:"action",kind:"enum",T:ns.getEnumType(Su)},{no:4,name:"regions",kind:"message",T:Hu}]),Su=ns.makeEnum("livekit.LeaveRequest.Action",[{no:0,name:"DISCONNECT"},{no:1,name:"RESUME"},{no:2,name:"RECONNECT"}]),_u=ns.makeMessageType("livekit.UpdateVideoLayers",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"layers",kind:"message",T:_s,repeated:!0}]),Fu=ns.makeMessageType("livekit.UpdateParticipantMetadata",()=>[{no:1,name:"metadata",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:4,name:"request_id",kind:"scalar",T:13}]),wu=ns.makeMessageType("livekit.ICEServer",()=>[{no:1,name:"urls",kind:"scalar",T:9,repeated:!0},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"credential",kind:"scalar",T:9}]),xu=ns.makeMessageType("livekit.SpeakersChanged",()=>[{no:1,name:"speakers",kind:"message",T:Qs,repeated:!0}]),Pu=ns.makeMessageType("livekit.RoomUpdate",()=>[{no:1,name:"room",kind:"message",T:Ds}]),Ru=ns.makeMessageType("livekit.ConnectionQualityInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"quality",kind:"enum",T:ns.getEnumType(hs)},{no:3,name:"score",kind:"scalar",T:2}]),Iu=ns.makeMessageType("livekit.ConnectionQualityUpdate",()=>[{no:1,name:"updates",kind:"message",T:Ru,repeated:!0}]),Qu=ns.makeMessageType("livekit.StreamStateInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:ns.getEnumType(uu)}]),Nu=ns.makeMessageType("livekit.StreamStateUpdate",()=>[{no:1,name:"stream_states",kind:"message",T:Qu,repeated:!0}]),Bu=ns.makeMessageType("livekit.SubscribedQuality",()=>[{no:1,name:"quality",kind:"enum",T:ns.getEnumType(ds)},{no:2,name:"enabled",kind:"scalar",T:8}]),Mu=ns.makeMessageType("livekit.SubscribedCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"qualities",kind:"message",T:Bu,repeated:!0}]),Lu=ns.makeMessageType("livekit.SubscribedQualityUpdate",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_qualities",kind:"message",T:Bu,repeated:!0},{no:3,name:"subscribed_codecs",kind:"message",T:Mu,repeated:!0}]),$u=ns.makeMessageType("livekit.SubscribedAudioCodecUpdate",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_audio_codecs",kind:"message",T:ou,repeated:!0}]),Uu=ns.makeMessageType("livekit.TrackPermission",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"all_tracks",kind:"scalar",T:8},{no:3,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:4,name:"participant_identity",kind:"scalar",T:9}]),qu=ns.makeMessageType("livekit.SubscriptionPermission",()=>[{no:1,name:"all_participants",kind:"scalar",T:8},{no:2,name:"track_permissions",kind:"message",T:Uu,repeated:!0}]),Xu=ns.makeMessageType("livekit.SubscriptionPermissionUpdate",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"allowed",kind:"scalar",T:8}]),zu=ns.makeMessageType("livekit.RoomMovedResponse",()=>[{no:1,name:"room",kind:"message",T:Ds},{no:2,name:"token",kind:"scalar",T:9},{no:3,name:"participant",kind:"message",T:Cs},{no:4,name:"other_participants",kind:"message",T:Cs,repeated:!0}]),Zu=ns.makeMessageType("livekit.SyncState",()=>[{no:1,name:"answer",kind:"message",T:Eu},{no:2,name:"subscription",kind:"message",T:bu},{no:3,name:"publish_tracks",kind:"message",T:Du,repeated:!0},{no:4,name:"data_channels",kind:"message",T:Wu,repeated:!0},{no:5,name:"offer",kind:"message",T:Eu},{no:6,name:"track_sids_disabled",kind:"scalar",T:9,repeated:!0},{no:7,name:"datachannel_receive_states",kind:"message",T:ju,repeated:!0}]),ju=ns.makeMessageType("livekit.DataChannelReceiveState",()=>[{no:1,name:"publisher_sid",kind:"scalar",T:9},{no:2,name:"last_seq",kind:"scalar",T:13}]),Wu=ns.makeMessageType("livekit.DataChannelInfo",()=>[{no:1,name:"label",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:13},{no:3,name:"target",kind:"enum",T:ns.getEnumType(su)}]),Gu=ns.makeMessageType("livekit.SimulateScenario",()=>[{no:1,name:"speaker_update",kind:"scalar",T:5,oneof:"scenario"},{no:2,name:"node_failure",kind:"scalar",T:8,oneof:"scenario"},{no:3,name:"migration",kind:"scalar",T:8,oneof:"scenario"},{no:4,name:"server_leave",kind:"scalar",T:8,oneof:"scenario"},{no:5,name:"switch_candidate_protocol",kind:"enum",T:ns.getEnumType(lu),oneof:"scenario"},{no:6,name:"subscriber_bandwidth",kind:"scalar",T:3,oneof:"scenario"},{no:7,name:"disconnect_signal_on_resume",kind:"scalar",T:8,oneof:"scenario"},{no:8,name:"disconnect_signal_on_resume_no_messages",kind:"scalar",T:8,oneof:"scenario"},{no:9,name:"leave_request_full_reconnect",kind:"scalar",T:8,oneof:"scenario"}]),Vu=ns.makeMessageType("livekit.Ping",()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"rtt",kind:"scalar",T:3}]),Yu=ns.makeMessageType("livekit.Pong",()=>[{no:1,name:"last_ping_timestamp",kind:"scalar",T:3},{no:2,name:"timestamp",kind:"scalar",T:3}]),Hu=ns.makeMessageType("livekit.RegionSettings",()=>[{no:1,name:"regions",kind:"message",T:Ku,repeated:!0}]),Ku=ns.makeMessageType("livekit.RegionInfo",()=>[{no:1,name:"region",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9},{no:3,name:"distance",kind:"scalar",T:3}]),Ju=ns.makeMessageType("livekit.SubscriptionResponse",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"err",kind:"enum",T:ns.getEnumType(Os)}]),el=ns.makeMessageType("livekit.RequestResponse",()=>[{no:1,name:"request_id",kind:"scalar",T:13},{no:2,name:"reason",kind:"enum",T:ns.getEnumType(tl)},{no:3,name:"message",kind:"scalar",T:9},{no:4,name:"trickle",kind:"message",T:fu,oneof:"request"},{no:5,name:"add_track",kind:"message",T:pu,oneof:"request"},{no:6,name:"mute",kind:"message",T:mu,oneof:"request"},{no:7,name:"update_metadata",kind:"message",T:Fu,oneof:"request"},{no:8,name:"update_audio_track",kind:"message",T:Tu,oneof:"request"},{no:9,name:"update_video_track",kind:"message",T:yu,oneof:"request"}]),tl=ns.makeEnum("livekit.RequestResponse.Reason",[{no:0,name:"OK"},{no:1,name:"NOT_FOUND"},{no:2,name:"NOT_ALLOWED"},{no:3,name:"LIMIT_EXCEEDED"},{no:4,name:"QUEUED"},{no:5,name:"UNSUPPORTED_TYPE"},{no:6,name:"UNCLASSIFIED_ERROR"}]),nl=ns.makeMessageType("livekit.TrackSubscribed",()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]),il=ns.makeMessageType("livekit.ConnectionSettings",()=>[{no:1,name:"auto_subscribe",kind:"scalar",T:8},{no:2,name:"adaptive_stream",kind:"scalar",T:8},{no:3,name:"subscriber_allow_pause",kind:"scalar",T:8,opt:!0},{no:4,name:"disable_ice_lite",kind:"scalar",T:8}]),rl=ns.makeMessageType("livekit.JoinRequest",()=>[{no:1,name:"client_info",kind:"message",T:Gs},{no:2,name:"connection_settings",kind:"message",T:il},{no:3,name:"metadata",kind:"scalar",T:9},{no:4,name:"participant_attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"add_track_requests",kind:"message",T:pu,repeated:!0},{no:6,name:"publisher_offer",kind:"message",T:Eu},{no:7,name:"reconnect",kind:"scalar",T:8},{no:8,name:"reconnect_reason",kind:"enum",T:ns.getEnumType(ms)},{no:9,name:"participant_sid",kind:"scalar",T:9},{no:10,name:"sync_state",kind:"message",T:Zu}]),al=ns.makeMessageType("livekit.WrappedJoinRequest",()=>[{no:1,name:"compression",kind:"enum",T:ns.getEnumType(ol)},{no:2,name:"join_request",kind:"scalar",T:12}]),ol=ns.makeEnum("livekit.WrappedJoinRequest.Compression",[{no:0,name:"NONE"},{no:1,name:"GZIP"}]),sl=ns.makeMessageType("livekit.MediaSectionsRequirement",()=>[{no:1,name:"num_audios",kind:"scalar",T:13},{no:2,name:"num_videos",kind:"scalar",T:13}]);function ul(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ll,cl,dl,hl={exports:{}},pl=hl.exports,fl=(ll||(ll=1,function(e){var t,n;t=pl,n=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],r={},a=null;function o(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(){for(var n=this.getLevel(),r=0;r<i.length;r++){var a=i[r];this[a]=r<n?e:this.methodFactory(a,n,this.name)}if(this.log=this.debug,typeof console===t&&n<this.levels.SILENT)return"No console available for logging"}function l(e){return function(){typeof console!==t&&(u.call(this),this[e].apply(this,arguments))}}function c(i,r,a){return function(i){return"debug"===i&&(i="log"),typeof console!==t&&("trace"===i&&n?s:void 0!==console[i]?o(console,i):void 0!==console.log?o(console,"log"):e)}(i)||l.apply(this,arguments)}function d(e,n){var o,s,l,d=this,h="loglevel";function p(){var e;if(typeof window!==t&&h){try{e=window.localStorage[h]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,i=encodeURIComponent(h),r=n.indexOf(i+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r+i.length+1))[1])}catch(e){}return void 0===d.levels[e]&&(e=void 0),e}}function f(e){var t=e;if("string"==typeof t&&void 0!==d.levels[t.toUpperCase()]&&(t=d.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=d.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?h+=":"+e:"symbol"==typeof e&&(h=void 0),d.name=e,d.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},d.methodFactory=n||c,d.getLevel=function(){var e;return null!==(e=null!=l?l:s)&&void 0!==e?e:o},d.setLevel=function(e,n){return l=f(e),!1!==n&&function(e){var n=(i[e]||"silent").toUpperCase();if(typeof window!==t&&h){try{return void(window.localStorage[h]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(h)+"="+n+";"}catch(e){}}}(l),u.call(d)},d.setDefaultLevel=function(e){s=f(e),p()||d.setLevel(e,!1)},d.resetLevel=function(){l=null,function(){if(typeof window!==t&&h){try{window.localStorage.removeItem(h)}catch(e){}try{window.document.cookie=encodeURIComponent(h)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}(),u.call(d)},d.enableAll=function(e){d.setLevel(d.levels.TRACE,e)},d.disableAll=function(e){d.setLevel(d.levels.SILENT,e)},d.rebuild=function(){if(a!==d&&(o=f(a.getLevel())),u.call(d),a===d)for(var e in r)r[e].rebuild()},o=f(a?a.getLevel():"WARN");var m=p();null!=m&&(l=f(m)),u.call(d)}(a=new d).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=r[e];return t||(t=r[e]=new d(e,a.methodFactory)),t};var h=typeof window!==t?window.log:void 0;return a.noConflict=function(){return typeof window!==t&&window.log===a&&(window.log=h),a},a.getLoggers=function(){return r},a.default=a,a},e.exports?e.exports=n():t.log=n()}(hl)),hl.exports);!function(e){e[e.trace=0]="trace",e[e.debug=1]="debug",e[e.info=2]="info",e[e.warn=3]="warn",e[e.error=4]="error",e[e.silent=5]="silent"}(cl||(cl={})),function(e){e.Default="livekit",e.Room="livekit-room",e.TokenSource="livekit-token-source",e.Participant="livekit-participant",e.Track="livekit-track",e.Publication="livekit-track-publication",e.Engine="livekit-engine",e.Signal="livekit-signal",e.PCManager="livekit-pc-manager",e.PCTransport="livekit-pc-transport",e.E2EE="lk-e2ee"}(dl||(dl={}));let ml=fl.getLogger("livekit");function Ol(e){const t=fl.getLogger(e);return t.setDefaultLevel(ml.getLevel()),t}Object.values(dl).map(e=>fl.getLogger(e)),ml.setDefaultLevel(cl.info);const gl=fl.getLogger("lk-e2ee"),Dl=7e3,vl=[0,300,1200,2700,4800,Dl,Dl,Dl,Dl,Dl];function El(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){e.done?r(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,s)}u((i=i.apply(e,t||[])).next())})}function Cl(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise(function(i,r){!function(e,t,n,i){Promise.resolve(i).then(function(t){e({value:t,done:n})},t)}(i,r,(t=e[n](t)).done,t.value)})}}}var bl,kl={exports:{}},Tl=function(){if(bl)return kl.exports;bl=1;var e,t="object"==typeof Reflect?Reflect:null,n=t&&"function"==typeof t.apply?t.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};e=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function r(){r.init.call(this)}kl.exports=r,kl.exports.once=function(e,t){return new Promise(function(n,i){function r(n){e.removeListener(t,a),i(n)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}f(e,t,a,{once:!0}),"error"!==t&&function(e,t){"function"==typeof e.on&&f(e,"error",t,{once:!0})}(e,r)})},r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var a=10;function o(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function s(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function u(e,t,n,i){var r,a,u;if(o(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),u=a[t]),void 0===u)u=a[t]=n,++e._eventsCount;else if("function"==typeof u?u=a[t]=i?[n,u]:[u,n]:i?u.unshift(n):u.push(n),(r=s(e))>0&&u.length>r&&!u.warned){u.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=u.length,function(e){console&&console.warn&&console.warn(e)}(l)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=l.bind(i);return r.listener=n,i.wrapFn=r,r}function d(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):p(r,r.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function f(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function r(a){i.once&&e.removeEventListener(t,r),n(a)})}}return Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),r.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return s(this)},r.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var r="error"===e,a=this._events;if(void 0!==a)r=r&&void 0===a.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=a[e];if(void 0===u)return!1;if("function"==typeof u)n(u,this,t);else{var l=u.length,c=p(u,l);for(i=0;i<l;++i)n(c[i],this,t)}return!0},r.prototype.addListener=function(e,t){return u(this,e,t,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(e,t){return u(this,e,t,!0)},r.prototype.once=function(e,t){return o(t),this.on(e,c(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,c(this,e,t)),this},r.prototype.removeListener=function(e,t){var n,i,r,a,s;if(o(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){s=n[a].listener,r=a;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,a=Object.keys(n);for(i=0;i<a.length;++i)"removeListener"!==(r=a[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},r.prototype.listeners=function(e){return d(this,e,!0)},r.prototype.rawListeners=function(e){return d(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},r.prototype.listenerCount=h,r.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},kl.exports}();let yl=!0,Al=!0;function Sl(e,t,n){const i=e.match(t);return i&&i.length>=n&&parseFloat(i[n],10)}function _l(e,t,n){if(!e.RTCPeerConnection)return;const i=e.RTCPeerConnection.prototype,r=i.addEventListener;i.addEventListener=function(e,i){if(e!==t)return r.apply(this,arguments);const a=e=>{const t=n(e);t&&(i.handleEvent?i.handleEvent(t):i(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(i,a),r.apply(this,[e,a])};const a=i.removeEventListener;i.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return a.apply(this,arguments);if(!this._eventMap[t].has(n))return a.apply(this,arguments);const i=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,a.apply(this,[e,i])},Object.defineProperty(i,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function Fl(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(yl=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function wl(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(Al=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function xl(){if("object"==typeof window){if(yl)return;typeof console<"u"&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function Pl(e,t){Al&&console.warn(e+" is deprecated, please use "+t+" instead.")}function Rl(e){return"[object Object]"===Object.prototype.toString.call(e)}function Il(e){return Rl(e)?Object.keys(e).reduce(function(t,n){const i=Rl(e[n]),r=i?Il(e[n]):e[n],a=i&&!Object.keys(r).length;return void 0===r||a?t:Object.assign(t,{[n]:r})},{}):e}function Ql(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(i=>{i.endsWith("Id")?Ql(e,e.get(t[i]),n):i.endsWith("Ids")&&t[i].forEach(t=>{Ql(e,e.get(t),n)})}))}function Nl(e,t,n){const i=n?"outbound-rtp":"inbound-rtp",r=new Map;if(null===t)return r;const a=[];return e.forEach(e=>{"track"===e.type&&e.trackIdentifier===t.id&&a.push(e)}),a.forEach(t=>{e.forEach(n=>{n.type===i&&n.trackId===t.id&&Ql(e,n,r)})}),r}const Bl=xl;function Ml(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const i=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach(n=>{if("require"===n||"advanced"===n||"mediaSource"===n)return;const i="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==i.exact&&"number"==typeof i.exact&&(i.min=i.max=i.exact);const r=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==i.ideal){t.optional=t.optional||[];let e={};"number"==typeof i.ideal?(e[r("min",n)]=i.ideal,t.optional.push(e),e={},e[r("max",n)]=i.ideal,t.optional.push(e)):(e[r("",n)]=i.ideal,t.optional.push(e))}void 0!==i.exact&&"number"!=typeof i.exact?(t.mandatory=t.mandatory||{},t.mandatory[r("",n)]=i.exact):["min","max"].forEach(e=>{void 0!==i[e]&&(t.mandatory=t.mandatory||{},t.mandatory[r(e,n)]=i[e])})}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},r=function(e,r){if(t.version>=61)return r(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){const t=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=i(e.audio)}if(e&&"object"==typeof e.video){let a=e.video.facingMode;a=a&&("object"==typeof a?a:{ideal:a});const o=t.version<66;if(a&&("user"===a.exact||"environment"===a.exact||"user"===a.ideal||"environment"===a.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||o)){let t;if(delete e.video.facingMode,"environment"===a.exact||"environment"===a.ideal?t=["back","rear"]:("user"===a.exact||"user"===a.ideal)&&(t=["front"]),t)return n.mediaDevices.enumerateDevices().then(n=>{let o=(n=n.filter(e=>"videoinput"===e.kind)).find(e=>t.some(t=>e.label.toLowerCase().includes(t)));return!o&&n.length&&t.includes("back")&&(o=n[n.length-1]),o&&(e.video.deviceId=a.exact?{exact:o.deviceId}:{ideal:o.deviceId}),e.video=i(e.video),Bl("chrome: "+JSON.stringify(e)),r(e)})}e.video=i(e.video)}return Bl("chrome: "+JSON.stringify(e)),r(e)},a=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(e,t,i){r(e,e=>{n.webkitGetUserMedia(e,t,e=>{i&&i(a(e))})})}.bind(n),n.mediaDevices.getUserMedia){const e=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(t){return r(t,t=>e(t).then(e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(e=>{e.stop()}),new DOMException("","NotFoundError");return e},e=>Promise.reject(a(e))))}}}function Ll(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function $l(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",n=>{let i;i=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===n.track.id):{track:n.track};const r=new Event("track");r.track=n.track,r.receiver=i,r.transceiver={receiver:i},r.streams=[t.stream],this.dispatchEvent(r)}),t.stream.getTracks().forEach(n=>{let i;i=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===n.id):{track:n};const r=new Event("track");r.track=n,r.receiver=i,r.transceiver={receiver:i},r.streams=[t.stream],this.dispatchEvent(r)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else _l(e,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function Ul(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,i){let r=n.apply(this,arguments);return r||(r=t(this,e),this._senders.push(r)),r};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){i.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach(e=>{this._senders.push(t(this,e))})};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach(e=>{const t=this._senders.find(t=>t.track===e);t&&this._senders.splice(this._senders.indexOf(t),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function ql(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then(t=>Nl(t,e.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),_l(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then(t=>Nl(t,e.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,n,i;return this.getSenders().forEach(n=>{n.track===e&&(t?i=!0:t=n)}),this.getReceivers().forEach(t=>(t.track===e&&(n?i=!0:n=t),t.track===e)),i||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function Xl(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(e=>this._shimmedLocalStreams[e][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const i=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(i)&&this._shimmedLocalStreams[n.id].push(i):this._shimmedLocalStreams[n.id]=[n,i],i};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")});const t=this.getSenders();n.apply(this,arguments);const i=this.getSenders().filter(e=>-1===t.indexOf(e));this._shimmedLocalStreams[e.id]=[e].concat(i)};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],i.apply(this,arguments)};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(t=>{const n=this._shimmedLocalStreams[t].indexOf(e);-1!==n&&this._shimmedLocalStreams[t].splice(n,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]}),r.apply(this,arguments)}}function zl(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return Xl(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=n.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map(e=>this._reverseStreams[e.id])};const i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[t.id]){const n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}i.apply(this,[t])};const r=e.RTCPeerConnection.prototype.removeStream;function a(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{const i=e._reverseStreams[t],r=e._streams[i.id];n=n.replace(new RegExp(r.id,"g"),i.id)}),new RTCSessionDescription({type:t.type,sdp:n})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find(e=>e===t))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(e=>e.track===t))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const r=this._streams[n.id];if(r)r.addTrack(t),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const i=new e.MediaStream([t]);this._streams[n.id]=i,this._reverseStreams[i.id]=n,this.addStream(i)}return this.getSenders().find(e=>e.track===t)},["createOffer","createAnswer"].forEach(function(t){const n=e.RTCPeerConnection.prototype[t],i={[t](){const e=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[t=>{const n=a(this,t);e[0].apply(null,[n])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):n.apply(this,arguments).then(e=>a(this,e))}};e.RTCPeerConnection.prototype[t]=i[t]});const o=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{const i=e._reverseStreams[t],r=e._streams[i.id];n=n.replace(new RegExp(i.id,"g"),r.id)}),new RTCSessionDescription({type:t.type,sdp:n})}(this,arguments[0]),o.apply(this,arguments)):o.apply(this,arguments)};const s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=s.get.apply(this);return""===e.type?e:a(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach(n=>{this._streams[n].getTracks().find(t=>e.track===t)&&(t=this._streams[n])}),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Zl(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){const n=e.RTCPeerConnection.prototype[t],i={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=i[t]})}function jl(e,t){_l(e,"negotiationneeded",e=>{const n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e})}var Wl=Object.freeze({__proto__:null,fixNegotiationNeeded:jl,shimAddTrackRemoveTrack:zl,shimAddTrackRemoveTrackWithNative:Xl,shimGetSendersWithDtmf:Ul,shimGetUserMedia:Ml,shimMediaStream:Ll,shimOnTrack:$l,shimPeerConnection:Zl,shimSenderReceiverGetStats:ql});function Gl(e,t){const n=e&&e.navigator,i=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,i){Pl("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,i)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const e=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"==typeof n&&"object"==typeof n.audio&&(n=JSON.parse(JSON.stringify(n)),e(n.audio,"autoGainControl","mozAutoGainControl"),e(n.audio,"noiseSuppression","mozNoiseSuppression")),t(n)},i&&i.prototype.getSettings){const t=i.prototype.getSettings;i.prototype.getSettings=function(){const n=t.apply(this,arguments);return e(n,"mozAutoGainControl","autoGainControl"),e(n,"mozNoiseSuppression","noiseSuppression"),n}}if(i&&i.prototype.applyConstraints){const t=i.prototype.applyConstraints;i.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"==typeof n&&(n=JSON.parse(JSON.stringify(n)),e(n,"autoGainControl","mozAutoGainControl"),e(n,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[n])}}}}function Vl(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Yl(e,t){if("object"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){const n=e.RTCPeerConnection.prototype[t],i={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=i[t]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,r,a]=arguments;return i.apply(this,[e||null]).then(e=>{if(t.version<53&&!r)try{e.forEach(e=>{e.type=n[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach((t,i)=>{e.set(i,Object.assign({},t,{type:n[t.type]||t.type}))})}return e}).then(r,a)}}function Hl(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Kl(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),_l(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Jl(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){Pl("removeStream","removeTrack"),this.getSenders().forEach(t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)})})}function ec(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function tc(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]),e=[...e];const n=e.length>0;n&&e.forEach(e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const i=t.apply(this,arguments);if(n){const{sender:t}=i,n=t.getParameters();(!("encodings"in n)||1===n.encodings.length&&0===Object.keys(n.encodings[0]).length)&&(n.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(n).then(()=>{delete t.sendEncodings}).catch(()=>{delete t.sendEncodings})))}return i})}function nc(e){if("object"!=typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function ic(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function rc(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}var ac=Object.freeze({__proto__:null,shimAddTransceiver:tc,shimCreateAnswer:rc,shimCreateOffer:ic,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})},shimGetParameters:nc,shimGetUserMedia:Gl,shimOnTrack:Vl,shimPeerConnection:Yl,shimRTCDataChannel:ec,shimReceiverGetStats:Kl,shimRemoveStream:Jl,shimSenderGetStats:Hl});function oc(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(n=>t.call(this,n,e)),e.getVideoTracks().forEach(n=>t.call(this,n,e))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i&&i.forEach(e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const n=e.getTracks();this.getSenders().forEach(e=>{n.includes(e.track)&&this.removeTrack(e)})})}}function sc(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach(e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const n=new Event("addstream");n.stream=t,e.dispatchEvent(n)})}),t.apply(e,arguments)}}}function uc(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,i=t.createAnswer,r=t.setLocalDescription,a=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(e,t){const i=arguments.length>=2?arguments[2]:arguments[0],r=n.apply(this,[i]);return t?(r.then(e,t),Promise.resolve()):r},t.createAnswer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],r=i.apply(this,[n]);return t?(r.then(e,t),Promise.resolve()):r};let s=function(e,t,n){const i=r.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i};t.setLocalDescription=s,s=function(e,t,n){const i=a.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i},t.setRemoteDescription=s,s=function(e,t,n){const i=o.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i},t.addIceCandidate=s}function lc(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,n=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>n(cc(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,i){t.mediaDevices.getUserMedia(e).then(n,i)}.bind(t))}function cc(e){return e&&void 0!==e.video?Object.assign({},e,{video:Il(e.video)}):e}function dc(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){const t=[];for(let n=0;n<e.iceServers.length;n++){let i=e.iceServers[n];void 0===i.urls&&i.url?(Pl("RTCIceServer.url","RTCIceServer.urls"),i=JSON.parse(JSON.stringify(i)),i.urls=i.url,delete i.url,t.push(i)):t.push(e.iceServers[n])}e.iceServers=t}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function hc(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function pc(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){typeof e.offerToReceiveAudio<"u"&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find(e=>"audio"===e.receiver.track.kind);!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0===e.offerToReceiveAudio&&!t&&this.addTransceiver("audio",{direction:"recvonly"}),typeof e.offerToReceiveVideo<"u"&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const n=this.getTransceivers().find(e=>"video"===e.receiver.track.kind);!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0===e.offerToReceiveVideo&&!n&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function fc(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var mc,Oc=Object.freeze({__proto__:null,shimAudioContext:fc,shimCallbacksAPI:uc,shimConstraints:cc,shimCreateOfferLegacy:pc,shimGetUserMedia:lc,shimLocalStreamsAPI:oc,shimRTCIceServerUrls:dc,shimRemoteStreamsAPI:sc,shimTrackEventTransceiver:hc}),gc={exports:{}},Dc=(mc||(mc=1,function(e){const t={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map(e=>e.trim())},t.splitSections=function(e){return e.split("\nm=").map((e,t)=>(t>0?"m="+e:e).trim()+"\r\n")},t.getDescription=function(e){const n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){const n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter(e=>0===e.indexOf(n))},t.parseCandidate=function(e){let t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");const n={foundation:t[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let e=8;e<t.length;e+=2)switch(t[e]){case"raddr":n.relatedAddress=t[e+1];break;case"rport":n.relatedPort=parseInt(t[e+1],10);break;case"tcptype":n.tcpType=t[e+1];break;case"ufrag":n.ufrag=t[e+1],n.usernameFragment=t[e+1];break;default:void 0===n[t[e]]&&(n[t[e]]=t[e+1])}return n},t.writeCandidate=function(e){const t=[];t.push(e.foundation);const n=e.component;"rtp"===n?t.push(1):"rtcp"===n?t.push(2):t.push(n),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);const i=e.type;return t.push("typ"),t.push(i),"host"!==i&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substring(14).split(" ")},t.parseRtpMap=function(e){let t=e.substring(9).split(" ");const n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);const n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){const t=e.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},t.parseFmtp=function(e){const t={};let n;const i=e.substring(e.indexOf(" ")+1).split(";");for(let e=0;e<i.length;e++)n=i[e].trim().split("="),t[n[0].trim()]=n[1];return t},t.writeFmtp=function(e){let t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){const i=[];Object.keys(e.parameters).forEach(t=>{void 0!==e.parameters[t]?i.push(t+"="+e.parameters[t]):i.push(t)}),t+="a=fmtp:"+n+" "+i.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){const t=e.substring(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){let t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(e=>{t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},t.parseSsrcMedia=function(e){const t=e.indexOf(" "),n={ssrc:parseInt(e.substring(7,t),10)},i=e.indexOf(":",t);return i>-1?(n.attribute=e.substring(t+1,i),n.value=e.substring(i+1)):n.attribute=e.substring(t+1),n},t.parseSsrcGroup=function(e){const t=e.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(e=>parseInt(e,10))}},t.getMid=function(e){const n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substring(6)},t.parseFingerprint=function(e){const t=e.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let n="a=setup:"+t+"\r\n";return e.fingerprints.forEach(e=>{n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),n},t.parseCryptoLine=function(e){const t=e.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;const t=e.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){const i=t.matchPrefix(e+n,"a=ice-ufrag:")[0],r=t.matchPrefix(e+n,"a=ice-pwd:")[0];return i&&r?{usernameFragment:i.substring(12),password:r.substring(10)}:null},t.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=t.splitLines(e)[0].split(" ");n.profile=i[2];for(let r=3;r<i.length;r++){const a=i[r],o=t.matchPrefix(e,"a=rtpmap:"+a+" ")[0];if(o){const i=t.parseRtpMap(o),r=t.matchPrefix(e,"a=fmtp:"+a+" ");switch(i.parameters=r.length?t.parseFmtp(r[0]):{},i.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+a+" ").map(t.parseRtcpFb),n.codecs.push(i),i.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(i.name.toUpperCase())}}}t.matchPrefix(e,"a=extmap:").forEach(e=>{n.headerExtensions.push(t.parseExtmap(e))});const r=t.matchPrefix(e,"a=rtcp-fb:* ").map(t.parseRtcpFb);return n.codecs.forEach(e=>{r.forEach(t=>{e.rtcpFeedback.find(e=>e.type===t.type&&e.parameter===t.parameter)||e.rtcpFeedback.push(t)})}),n},t.writeRtpDescription=function(e,n){let i="";i+="m="+e+" ",i+=n.codecs.length>0?"9":"0",i+=" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=n.codecs.map(e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType).join(" ")+"\r\n",i+="c=IN IP4 0.0.0.0\r\n",i+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach(e=>{i+=t.writeRtpMap(e),i+=t.writeFmtp(e),i+=t.writeRtcpFb(e)});let r=0;return n.codecs.forEach(e=>{e.maxptime>r&&(r=e.maxptime)}),r>0&&(i+="a=maxptime:"+r+"\r\n"),n.headerExtensions&&n.headerExtensions.forEach(e=>{i+=t.writeExtmap(e)}),i},t.parseRtpEncodingParameters=function(e){const n=[],i=t.parseRtpParameters(e),r=-1!==i.fecMechanisms.indexOf("RED"),a=-1!==i.fecMechanisms.indexOf("ULPFEC"),o=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"cname"===e.attribute),s=o.length>0&&o[0].ssrc;let u;const l=t.matchPrefix(e,"a=ssrc-group:FID").map(e=>e.substring(17).split(" ").map(e=>parseInt(e,10)));l.length>0&&l[0].length>1&&l[0][0]===s&&(u=l[0][1]),i.codecs.forEach(e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:s,codecPayloadType:parseInt(e.parameters.apt,10)};s&&u&&(t.rtx={ssrc:u}),n.push(t),r&&(t=JSON.parse(JSON.stringify(t)),t.fec={ssrc:s,mechanism:a?"red+ulpfec":"red"},n.push(t))}}),0===n.length&&s&&n.push({ssrc:s});let c=t.matchPrefix(e,"b=");return c.length&&(c=0===c[0].indexOf("b=TIAS:")?parseInt(c[0].substring(7),10):0===c[0].indexOf("b=AS:")?1e3*parseInt(c[0].substring(5),10)*.95-16e3:void 0,n.forEach(e=>{e.maxBitrate=c})),n},t.parseRtcpParameters=function(e){const n={},i=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"cname"===e.attribute)[0];i&&(n.cname=i.value,n.ssrc=i.ssrc);const r=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=r.length>0,n.compound=0===r.length;const a=t.matchPrefix(e,"a=rtcp-mux");return n.mux=a.length>0,n},t.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){let n;const i=t.matchPrefix(e,"a=msid:");if(1===i.length)return n=i[0].substring(7).split(" "),{stream:n[0],track:n[1]};const r=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"msid"===e.attribute);return r.length>0?(n=r[0].value.split(" "),{stream:n[0],track:n[1]}):void 0},t.parseSctpDescription=function(e){const n=t.parseMLine(e),i=t.matchPrefix(e,"a=max-message-size:");let r;i.length>0&&(r=parseInt(i[0].substring(19),10)),isNaN(r)&&(r=65536);const a=t.matchPrefix(e,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substring(12),10),protocol:n.fmt,maxMessageSize:r};const o=t.matchPrefix(e,"a=sctpmap:");if(o.length>0){const e=o[0].substring(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:r}}},t.writeSctpDescription=function(e,t){let n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,n,i){let r;const a=void 0!==n?n:2;return r=e||t.generateSessionId(),"v=0\r\no="+(i||"thisisadapterortc")+" "+r+" "+a+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,n){const i=t.splitLines(e);for(let e=0;e<i.length;e++)switch(i[e]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[e].substring(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substring(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){const n=t.splitLines(e)[0].substring(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){const n=t.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;const n=t.splitLines(e);for(let e=0;e<n.length;e++)if(n[e].length<2||"="!==n[e].charAt(1))return!1;return!0},e.exports=t}(gc)),gc.exports),vc=ul(Dc),Ec=Ca({__proto__:null,default:vc},[Dc]);function Cc(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substring(2)),e.candidate&&e.candidate.length){const n=new t(e),i=vc.parseCandidate(e.candidate);for(const e in i)e in n||Object.defineProperty(n,e,{value:i[e]});return n.toJSON=function(){return{candidate:n.candidate,sdpMid:n.sdpMid,sdpMLineIndex:n.sdpMLineIndex,usernameFragment:n.usernameFragment}},n}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,_l(e,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t))}function bc(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||_l(e,"icecandidate",e=>{if(e.candidate){const t=vc.parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e})}function kc(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(function(e){if(!e||!e.sdp)return!1;const t=vc.splitSections(e.sdp);return t.shift(),t.some(e=>{const t=vc.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})}(arguments[0])){const e=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const n=parseInt(t[1],10);return n!=n?-1:n}(arguments[0]),n=function(e){let n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n}(e),i=function(e,n){let i=65536;"firefox"===t.browser&&57===t.version&&(i=65535);const r=vc.matchPrefix(e.sdp,"a=max-message-size:");return r.length>0?i=parseInt(r[0].substring(19),10):"firefox"===t.browser&&-1!==n&&(i=2147483637),i}(arguments[0],e);let r;r=0===n&&0===i?Number.POSITIVE_INFINITY:0===n||0===i?Math.max(n,i):Math.min(n,i);const a={};Object.defineProperty(a,"maxMessageSize",{get:()=>r}),this._sctp=a}return n.apply(this,arguments)}}function Tc(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const n=e.send;e.send=function(){const i=arguments[0],r=i.length||i.size||i.byteLength;if("open"===e.readyState&&t.sctp&&r>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=n.apply(this,arguments);return t(e,this),e},_l(e,"datachannel",e=>(t(e.channel,e.target),e))}function yc(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(e=>{const n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}function Ac(e,t){if(!e.RTCPeerConnection||"chrome"===t.browser&&t.version>=71||"safari"===t.browser&&t._safariVersion>=13.1)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){const n=t.sdp.split("\n").filter(e=>"a=extmap-allow-mixed"!==e.trim()).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:n}):t.sdp=n}return n.apply(this,arguments)}}function Sc(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||0===n.length||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function _c(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.setLocalDescription;!n||0===n.length||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!=typeof e||e.type&&e.sdp)return n.apply(this,arguments);if(e={type:e.type,sdp:e.sdp},!e.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}return e.sdp||"offer"!==e.type&&"answer"!==e.type?n.apply(this,[e]):("offer"===e.type?this.createOffer:this.createAnswer).apply(this).then(e=>n.apply(this,[e]))})}var Fc=Object.freeze({__proto__:null,removeExtmapAllowMixed:Ac,shimAddIceCandidateNullOrEmpty:Sc,shimConnectionState:yc,shimMaxMessageSize:kc,shimParameterlessSetLocalDescription:_c,shimRTCIceCandidate:Cc,shimRTCIceCandidateRelayProtocol:bc,shimSendThrowTypeError:Tc});!function(){let{window:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const n=xl,i=function(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.userAgentData&&n.userAgentData.brands){const e=n.userAgentData.brands.find(e=>"Chromium"===e.brand);if(e)return{browser:"chrome",version:parseInt(e.version,10)}}if(n.mozGetUserMedia)t.browser="firefox",t.version=parseInt(Sl(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=parseInt(Sl(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=parseInt(Sl(n.userAgent,/AppleWebKit\/(\d+)\./,1)),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype,t._safariVersion=Sl(n.userAgent,/Version\/(\d+(\.?\d+))/,1)}return t}(e),r={browserDetails:i,commonShim:Fc,extractVersion:Sl,disableLog:Fl,disableWarnings:wl,sdp:Ec};switch(i.browser){case"chrome":if(!Wl||!Zl||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),r;if(null===i.version)return n("Chrome shim can not determine version, not shimming."),r;n("adapter.js shimming chrome."),r.browserShim=Wl,Sc(e,i),_c(e),Ml(e,i),Ll(e),Zl(e,i),$l(e),zl(e,i),Ul(e),ql(e),jl(e,i),Cc(e),bc(e),yc(e),kc(e,i),Tc(e),Ac(e,i);break;case"firefox":if(!ac||!Yl||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),r;n("adapter.js shimming firefox."),r.browserShim=ac,Sc(e,i),_c(e),Gl(e,i),Yl(e,i),Vl(e),Jl(e),Hl(e),Kl(e),ec(e),tc(e),nc(e),ic(e),rc(e),Cc(e),yc(e),kc(e,i),Tc(e);break;case"safari":if(!Oc||!t.shimSafari)return n("Safari shim is not included in this adapter release."),r;n("adapter.js shimming safari."),r.browserShim=Oc,Sc(e,i),_c(e),dc(e),pc(e),uc(e),oc(e),sc(e),hc(e),lc(e),fc(e),Cc(e),bc(e),kc(e,i),Tc(e),Ac(e,i);break;default:n("Unsupported browser!")}}({window:typeof window>"u"?void 0:window});const wc="lk_e2ee";var xc,Pc,Rc,Ic,Qc,Nc,Bc,Mc,Lc,$c,Uc,qc;function Xc(){return typeof window.RTCRtpScriptTransform<"u"}!function(e){e.SetKey="setKey",e.RatchetRequest="ratchetRequest",e.KeyRatcheted="keyRatcheted"}(xc||(xc={})),(Pc||(Pc={})).KeyRatcheted="keyRatcheted",function(e){e.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",e.EncryptionError="encryptionError"}(Rc||(Rc={})),(Ic||(Ic={})).Error="cryptorError",Tl.EventEmitter;class zc extends Error{constructor(e,t){super(t||"an error has occured"),this.name="LiveKitError",this.code=e}}!function(e){e[e.NotAllowed=0]="NotAllowed",e[e.ServerUnreachable=1]="ServerUnreachable",e[e.InternalError=2]="InternalError",e[e.Cancelled=3]="Cancelled",e[e.LeaveRequest=4]="LeaveRequest",e[e.Timeout=5]="Timeout"}(Qc||(Qc={}));class Zc extends zc{constructor(e,t,n,i){super(1,e),this.name="ConnectionError",this.status=n,this.reason=t,this.context=i,this.reasonName=Qc[t]}}class jc extends zc{constructor(e){super(21,null!=e?e:"device is unsupported"),this.name="DeviceUnsupportedError"}}class Wc extends zc{constructor(e){super(20,null!=e?e:"track is invalid"),this.name="TrackInvalidError"}}class Gc extends zc{constructor(e){super(10,null!=e?e:"unsupported server"),this.name="UnsupportedServer"}}class Vc extends zc{constructor(e){super(12,null!=e?e:"unexpected connection state"),this.name="UnexpectedConnectionState"}}class Yc extends zc{constructor(e){super(13,null!=e?e:"unable to negotiate"),this.name="NegotiationError"}}class Hc extends zc{constructor(e,t){super(15,e),this.name="PublishTrackError",this.status=t}}class Kc extends zc{constructor(e,t){super(15,e),this.reason=t,this.reasonName="string"==typeof t?t:tl[t]}}!function(e){e[e.AlreadyOpened=0]="AlreadyOpened",e[e.AbnormalEnd=1]="AbnormalEnd",e[e.DecodeFailed=2]="DecodeFailed",e[e.LengthExceeded=3]="LengthExceeded",e[e.Incomplete=4]="Incomplete",e[e.HandlerAlreadyRegistered=7]="HandlerAlreadyRegistered",e[e.EncryptionTypeMismatch=8]="EncryptionTypeMismatch"}(Nc||(Nc={}));class Jc extends zc{constructor(e,t){super(16,e),this.name="DataStreamError",this.reason=t,this.reasonName=Nc[t]}}function ed(e){return typeof e>"u"?e:"function"==typeof structuredClone?"object"==typeof e&&null!==e?structuredClone(Object.assign({},e)):structuredClone(e):JSON.parse(JSON.stringify(e))}!function(e){e.PermissionDenied="PermissionDenied",e.NotFound="NotFound",e.DeviceInUse="DeviceInUse",e.Other="Other"}(Bc||(Bc={})),function(e){e.getFailure=function(t){if(t&&"name"in t)return"NotFoundError"===t.name||"DevicesNotFoundError"===t.name?e.NotFound:"NotAllowedError"===t.name||"PermissionDeniedError"===t.name?e.PermissionDenied:"NotReadableError"===t.name||"TrackStartError"===t.name?e.DeviceInUse:e.Other}}(Bc||(Bc={})),function(e){e[e.InvalidKey=0]="InvalidKey",e[e.MissingKey=1]="MissingKey",e[e.InternalError=2]="InternalError"}(Mc||(Mc={})),function(e){e.Connected="connected",e.Reconnecting="reconnecting",e.SignalReconnecting="signalReconnecting",e.Reconnected="reconnected",e.Disconnected="disconnected",e.ConnectionStateChanged="connectionStateChanged",e.Moved="moved",e.MediaDevicesChanged="mediaDevicesChanged",e.ParticipantConnected="participantConnected",e.ParticipantDisconnected="participantDisconnected",e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalAudioSilenceDetected="localAudioSilenceDetected",e.ActiveSpeakersChanged="activeSpeakersChanged",e.ParticipantMetadataChanged="participantMetadataChanged",e.ParticipantNameChanged="participantNameChanged",e.ParticipantAttributesChanged="participantAttributesChanged",e.ParticipantActive="participantActive",e.RoomMetadataChanged="roomMetadataChanged",e.DataReceived="dataReceived",e.SipDTMFReceived="sipDTMFReceived",e.TranscriptionReceived="transcriptionReceived",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",e.AudioPlaybackStatusChanged="audioPlaybackChanged",e.VideoPlaybackStatusChanged="videoPlaybackChanged",e.MediaDevicesError="mediaDevicesError",e.ParticipantPermissionsChanged="participantPermissionsChanged",e.SignalConnected="signalConnected",e.RecordingStatusChanged="recordingStatusChanged",e.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",e.EncryptionError="encryptionError",e.DCBufferStatusChanged="dcBufferStatusChanged",e.ActiveDeviceChanged="activeDeviceChanged",e.ChatMessage="chatMessage",e.LocalTrackSubscribed="localTrackSubscribed",e.MetricsReceived="metricsReceived"}(Lc||(Lc={})),function(e){e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalTrackCpuConstrained="localTrackCpuConstrained",e.LocalSenderCreated="localSenderCreated",e.ParticipantMetadataChanged="participantMetadataChanged",e.ParticipantNameChanged="participantNameChanged",e.DataReceived="dataReceived",e.SipDTMFReceived="sipDTMFReceived",e.TranscriptionReceived="transcriptionReceived",e.IsSpeakingChanged="isSpeakingChanged",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",e.TrackCpuConstrained="trackCpuConstrained",e.MediaDevicesError="mediaDevicesError",e.AudioStreamAcquired="audioStreamAcquired",e.ParticipantPermissionsChanged="participantPermissionsChanged",e.PCTrackAdded="pcTrackAdded",e.AttributesChanged="attributesChanged",e.LocalTrackSubscribed="localTrackSubscribed",e.ChatMessage="chatMessage",e.Active="active"}($c||($c={})),function(e){e.TransportsCreated="transportsCreated",e.Connected="connected",e.Disconnected="disconnected",e.Resuming="resuming",e.Resumed="resumed",e.Restarting="restarting",e.Restarted="restarted",e.SignalResumed="signalResumed",e.SignalRestarted="signalRestarted",e.Closing="closing",e.MediaTrackAdded="mediaTrackAdded",e.ActiveSpeakersUpdate="activeSpeakersUpdate",e.DataPacketReceived="dataPacketReceived",e.RTPVideoMapUpdate="rtpVideoMapUpdate",e.DCBufferStatusChanged="dcBufferStatusChanged",e.ParticipantUpdate="participantUpdate",e.RoomUpdate="roomUpdate",e.SpeakersChanged="speakersChanged",e.StreamStateChanged="streamStateChanged",e.ConnectionQualityUpdate="connectionQualityUpdate",e.SubscriptionError="subscriptionError",e.SubscriptionPermissionUpdate="subscriptionPermissionUpdate",e.RemoteMute="remoteMute",e.SubscribedQualityUpdate="subscribedQualityUpdate",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalTrackSubscribed="localTrackSubscribed",e.Offline="offline",e.SignalRequestResponse="signalRequestResponse",e.SignalConnected="signalConnected",e.RoomMoved="roomMoved"}(Uc||(Uc={})),function(e){e.Message="message",e.Muted="muted",e.Unmuted="unmuted",e.Restarted="restarted",e.Ended="ended",e.Subscribed="subscribed",e.Unsubscribed="unsubscribed",e.CpuConstrained="cpuConstrained",e.UpdateSettings="updateSettings",e.UpdateSubscription="updateSubscription",e.AudioPlaybackStarted="audioPlaybackStarted",e.AudioPlaybackFailed="audioPlaybackFailed",e.AudioSilenceDetected="audioSilenceDetected",e.VisibilityChanged="visibilityChanged",e.VideoDimensionsChanged="videoDimensionsChanged",e.VideoPlaybackStarted="videoPlaybackStarted",e.VideoPlaybackFailed="videoPlaybackFailed",e.ElementAttached="elementAttached",e.ElementDetached="elementDetached",e.UpstreamPaused="upstreamPaused",e.UpstreamResumed="upstreamResumed",e.SubscriptionPermissionChanged="subscriptionPermissionChanged",e.SubscriptionStatusChanged="subscriptionStatusChanged",e.SubscriptionFailed="subscriptionFailed",e.TrackProcessorUpdate="trackProcessorUpdate",e.AudioTrackFeatureUpdate="audioTrackFeatureUpdate",e.TranscriptionReceived="transcriptionReceived",e.TimeSyncUpdate="timeSyncUpdate",e.PreConnectBufferFlushed="preConnectBufferFlushed"}(qc||(qc={}));const td=/version\/(\d+(\.?_?\d+)+)/i;let nd;function id(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(typeof navigator>"u")return;const n=navigator.userAgent.toLowerCase();if(void 0===nd||t){const e=rd.find(e=>{let{test:t}=e;return t.test(n)});nd=null==e?void 0:e.describe(n)}return nd}const rd=[{test:/firefox|iceweasel|fxios/i,describe:e=>({name:"Firefox",version:ad(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e),os:e.toLowerCase().includes("fxios")?"iOS":void 0,osVersion:od(e)})},{test:/chrom|crios|crmo/i,describe:e=>({name:"Chrome",version:ad(/(?:chrome|chromium|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e),os:e.toLowerCase().includes("crios")?"iOS":void 0,osVersion:od(e)})},{test:/safari|applewebkit/i,describe:e=>({name:"Safari",version:ad(td,e),os:e.includes("mobile/")?"iOS":"macOS",osVersion:od(e)})}];function ad(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const i=t.match(e);return i&&i.length>=n&&i[n]||""}function od(e){return e.includes("mac os")?ad(/\(.+?(\d+_\d+(:?_\d+)?)/,e,1).replace(/_/g,"."):void 0}class sd{}sd.setTimeout=function(){return setTimeout(...arguments)},sd.setInterval=function(){return setInterval(...arguments)},sd.clearTimeout=function(){return clearTimeout(...arguments)},sd.clearInterval=function(){return clearInterval(...arguments)};const ud=[];var ld;!function(e){e[e.LOW=0]="LOW",e[e.MEDIUM=1]="MEDIUM",e[e.HIGH=2]="HIGH"}(ld||(ld={}));class cd extends Tl.EventEmitter{get streamState(){return this._streamState}setStreamState(e){this._streamState=e}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var i;super(),this.attachedElements=[],this.isMuted=!1,this._streamState=cd.StreamState.Active,this.isInBackground=!1,this._currentBitrate=0,this.log=ml,this.appVisibilityChangedListener=()=>{this.backgroundTimeout&&clearTimeout(this.backgroundTimeout),"hidden"===document.visibilityState?this.backgroundTimeout=setTimeout(()=>this.handleAppVisibilityChanged(),5e3):this.handleAppVisibilityChanged()},this.log=Ol(null!==(i=n.loggerName)&&void 0!==i?i:dl.Track),this.loggerContextCb=n.loggerContextCb,this.setMaxListeners(100),this.kind=t,this._mediaStreamTrack=e,this._mediaStreamID=e.id,this.source=cd.Source.Unknown}get logContext(){var e;return Object.assign(Object.assign({},null===(e=this.loggerContextCb)||void 0===e?void 0:e.call(this)),Dh(this))}get currentBitrate(){return this._currentBitrate}get mediaStreamTrack(){return this._mediaStreamTrack}get mediaStreamID(){return this._mediaStreamID}attach(e){let t="audio";this.kind===cd.Kind.Video&&(t="video"),0===this.attachedElements.length&&this.kind===cd.Kind.Video&&this.addAppVisibilityListener(),e||("audio"===t&&(ud.forEach(t=>{null===t.parentElement&&!e&&(e=t)}),e&&ud.splice(ud.indexOf(e),1)),e||(e=document.createElement(t))),this.attachedElements.includes(e)||this.attachedElements.push(e),dd(this.mediaStreamTrack,e);const n=e.srcObject.getTracks(),i=n.some(e=>"audio"===e.kind);return e.play().then(()=>{this.emit(i?qc.AudioPlaybackStarted:qc.VideoPlaybackStarted)}).catch(t=>{"NotAllowedError"===t.name?this.emit(i?qc.AudioPlaybackFailed:qc.VideoPlaybackFailed,t):"AbortError"===t.name?ml.debug("".concat(i?"audio":"video"," playback aborted, likely due to new play request")):ml.warn("could not playback ".concat(i?"audio":"video"),t),i&&e&&n.some(e=>"video"===e.kind)&&"NotAllowedError"===t.name&&(e.muted=!0,e.play().catch(()=>{}))}),this.emit(qc.ElementAttached,e),e}detach(e){try{if(e){hd(this.mediaStreamTrack,e);const t=this.attachedElements.indexOf(e);return t>=0&&(this.attachedElements.splice(t,1),this.recycleElement(e),this.emit(qc.ElementDetached,e)),e}const t=[];return this.attachedElements.forEach(e=>{hd(this.mediaStreamTrack,e),t.push(e),this.recycleElement(e),this.emit(qc.ElementDetached,e)}),this.attachedElements=[],t}finally{0===this.attachedElements.length&&this.removeAppVisibilityListener()}}stop(){this.stopMonitor(),this._mediaStreamTrack.stop()}enable(){this._mediaStreamTrack.enabled=!0}disable(){this._mediaStreamTrack.enabled=!1}stopMonitor(){this.monitorInterval&&clearInterval(this.monitorInterval),this.timeSyncHandle&&cancelAnimationFrame(this.timeSyncHandle)}updateLoggerOptions(e){e.loggerName&&(this.log=Ol(e.loggerName)),e.loggerContextCb&&(this.loggerContextCb=e.loggerContextCb)}recycleElement(e){if(e instanceof HTMLAudioElement){let t=!0;e.pause(),ud.forEach(e=>{e.parentElement||(t=!1)}),t&&ud.push(e)}}handleAppVisibilityChanged(){return El(this,void 0,void 0,function*(){this.isInBackground="hidden"===document.visibilityState,!this.isInBackground&&this.kind===cd.Kind.Video&&setTimeout(()=>this.attachedElements.forEach(e=>e.play().catch(()=>{})),0)})}addAppVisibilityListener(){Rd()?(this.isInBackground="hidden"===document.visibilityState,document.addEventListener("visibilitychange",this.appVisibilityChangedListener)):this.isInBackground=!1}removeAppVisibilityListener(){Rd()&&document.removeEventListener("visibilitychange",this.appVisibilityChangedListener)}}function dd(e,t){let n,i;n=t.srcObject instanceof MediaStream?t.srcObject:new MediaStream,i="audio"===e.kind?n.getAudioTracks():n.getVideoTracks(),i.includes(e)||(i.forEach(e=>{n.removeTrack(e)}),n.addTrack(e)),wd()&&t instanceof HTMLVideoElement||(t.autoplay=!0),t.muted=0===n.getAudioTracks().length,t instanceof HTMLVideoElement&&(t.playsInline=!0),t.srcObject!==n&&(t.srcObject=n,(wd()||_d())&&t instanceof HTMLVideoElement&&setTimeout(()=>{t.srcObject=n,t.play().catch(()=>{})},0))}function hd(e,t){if(t.srcObject instanceof MediaStream){const n=t.srcObject;n.removeTrack(e),n.getTracks().length>0?t.srcObject=n:t.srcObject=null}}!function(e){let t;var n;let i,r;(n=t=e.Kind||(e.Kind={})).Audio="audio",n.Video="video",n.Unknown="unknown",function(e){e.Camera="camera",e.Microphone="microphone",e.ScreenShare="screen_share",e.ScreenShareAudio="screen_share_audio",e.Unknown="unknown"}(i=e.Source||(e.Source={})),function(e){e.Active="active",e.Paused="paused",e.Unknown="unknown"}(r=e.StreamState||(e.StreamState={})),e.kindToProto=function(e){switch(e){case t.Audio:return ls.AUDIO;case t.Video:return ls.VIDEO;default:return ls.DATA}},e.kindFromProto=function(e){switch(e){case ls.AUDIO:return t.Audio;case ls.VIDEO:return t.Video;default:return t.Unknown}},e.sourceToProto=function(e){switch(e){case i.Camera:return cs.CAMERA;case i.Microphone:return cs.MICROPHONE;case i.ScreenShare:return cs.SCREEN_SHARE;case i.ScreenShareAudio:return cs.SCREEN_SHARE_AUDIO;default:return cs.UNKNOWN}},e.sourceFromProto=function(e){switch(e){case cs.CAMERA:return i.Camera;case cs.MICROPHONE:return i.Microphone;case cs.SCREEN_SHARE:return i.ScreenShare;case cs.SCREEN_SHARE_AUDIO:return i.ScreenShareAudio;default:return i.Unknown}},e.streamStateFromProto=function(e){switch(e){case uu.ACTIVE:return r.Active;case uu.PAUSED:return r.Paused;default:return r.Unknown}}}(cd||(cd={}));class pd{constructor(e,t,n,i,r){if("object"==typeof e)this.width=e.width,this.height=e.height,this.aspectRatio=e.aspectRatio,this.encoding={maxBitrate:e.maxBitrate,maxFramerate:e.maxFramerate,priority:e.priority};else{if(void 0===t||void 0===n)throw new TypeError("Unsupported options: provide at least width, height and maxBitrate");this.width=e,this.height=t,this.aspectRatio=e/t,this.encoding={maxBitrate:n,maxFramerate:i,priority:r}}}get resolution(){return{width:this.width,height:this.height,frameRate:this.encoding.maxFramerate,aspectRatio:this.aspectRatio}}}const fd=["vp8","h264"],md=["vp8","h264","vp9","av1","h265"],Od=function(e){return!!fd.find(t=>t===e)};var gd,Dd;!function(e){e[e.PREFER_REGRESSION=0]="PREFER_REGRESSION",e[e.SIMULCAST=1]="SIMULCAST",e[e.REGRESSION=2]="REGRESSION"}(gd||(gd={})),function(e){e.telephone={maxBitrate:12e3},e.speech={maxBitrate:24e3},e.music={maxBitrate:48e3},e.musicStereo={maxBitrate:64e3},e.musicHighQuality={maxBitrate:96e3},e.musicHighQualityStereo={maxBitrate:128e3}}(Dd||(Dd={}));const vd={h90:new pd(160,90,9e4,20),h180:new pd(320,180,16e4,20),h216:new pd(384,216,18e4,20),h360:new pd(640,360,45e4,20),h540:new pd(960,540,8e5,25),h720:new pd(1280,720,17e5,30),h1080:new pd(1920,1080,3e6,30),h1440:new pd(2560,1440,5e6,30),h2160:new pd(3840,2160,8e6,30)},Ed={h120:new pd(160,120,7e4,20),h180:new pd(240,180,125e3,20),h240:new pd(320,240,14e4,20),h360:new pd(480,360,33e4,20),h480:new pd(640,480,5e5,20),h540:new pd(720,540,6e5,25),h720:new pd(960,720,13e5,30),h1080:new pd(1440,1080,23e5,30),h1440:new pd(1920,1440,38e5,30)},Cd={h360fps3:new pd(640,360,2e5,3,"medium"),h360fps15:new pd(640,360,4e5,15,"medium"),h720fps5:new pd(1280,720,8e5,5,"medium"),h720fps15:new pd(1280,720,15e5,15,"medium"),h720fps30:new pd(1280,720,2e6,30,"medium"),h1080fps15:new pd(1920,1080,25e5,15,"medium"),h1080fps30:new pd(1920,1080,5e6,30,"medium"),original:new pd(0,0,7e6,30,"medium")},bd="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension";function kd(e){return El(this,void 0,void 0,function*(){return new Promise(t=>sd.setTimeout(t,e))})}function Td(){return"addTransceiver"in RTCPeerConnection.prototype}function yd(){return"addTrack"in RTCPeerConnection.prototype}function Ad(e){return"av1"===e||"vp9"===e}function Sd(e){return!(!document||xd())&&(e||(e=document.createElement("audio")),"setSinkId"in e)}function _d(){var e;return"Firefox"===(null===(e=id())||void 0===e?void 0:e.name)}function Fd(){const e=id();return!!e&&"Chrome"===e.name&&"iOS"!==e.os}function wd(){var e;return"Safari"===(null===(e=id())||void 0===e?void 0:e.name)}function xd(){const e=id();return"Safari"===(null==e?void 0:e.name)||"iOS"===(null==e?void 0:e.os)}function Pd(){var e,t;return!!Rd()&&(null!==(t=null===(e=navigator.userAgentData)||void 0===e?void 0:e.mobile)&&void 0!==t?t:/Tablet|iPad|Mobile|Android|BlackBerry/.test(navigator.userAgent))}function Rd(){return typeof document<"u"}function Id(){return"ReactNative"==navigator.product}function Qd(e){return e.hostname.endsWith(".livekit.cloud")||e.hostname.endsWith(".livekit.run")}function Nd(e){return Qd(e)?e.hostname.split(".")[0]:null}function Bd(){if(global&&global.LiveKitReactNativeGlobal)return global.LiveKitReactNativeGlobal}function Md(){if(!Id())return;let e=Bd();return e?e.platform:void 0}function Ld(){if(Rd())return window.devicePixelRatio;if(Id()){let e=Bd();if(e)return e.devicePixelRatio}return 1}function $d(e,t){const n=e.split("."),i=t.split("."),r=Math.min(n.length,i.length);for(let e=0;e<r;++e){const t=parseInt(n[e],10),a=parseInt(i[e],10);if(t>a)return 1;if(t<a)return-1;if(e===r-1&&t===a)return 0}return""===e&&""!==t?-1:""===t?1:n.length==i.length?0:n.length<i.length?-1:1}function Ud(e){for(const t of e)t.target.handleResize(t)}function qd(e){for(const t of e)t.target.handleVisibilityChanged(t)}let Xd=null;const zd=()=>(Xd||(Xd=new ResizeObserver(Ud)),Xd);let Zd=null;const jd=()=>(Zd||(Zd=new IntersectionObserver(qd,{root:null,rootMargin:"0px"})),Zd);function Wd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=document.createElement("canvas");r.width=e,r.height=t;const a=r.getContext("2d");null==a||a.fillRect(0,0,r.width,r.height),i&&a&&(a.beginPath(),a.arc(e/2,t/2,50,0,2*Math.PI,!0),a.closePath(),a.fillStyle="grey",a.fill());const o=r.captureStream(),[s]=o.getTracks();if(!s)throw Error("Could not get empty media stream video track");return s.enabled=n,s}let Gd;function Vd(){if(!Gd){const e=new AudioContext,t=e.createOscillator(),n=e.createGain();n.gain.setValueAtTime(0,0);const i=e.createMediaStreamDestination();if(t.connect(n),n.connect(i),t.start(),[Gd]=i.stream.getAudioTracks(),!Gd)throw Error("Could not get empty media stream audio track");Gd.enabled=!1}return Gd.clone()}class Yd{get isResolved(){return this._isResolved}constructor(e,t){this._isResolved=!1,this.onFinally=t,this.promise=new Promise((t,n)=>El(this,void 0,void 0,function*(){this.resolve=t,this.reject=n,e&&(yield e(t,n))})).finally(()=>{var e;this._isResolved=!0,null===(e=this.onFinally)||void 0===e||e.call(this)})}}function Hd(e){if("string"==typeof e||"number"==typeof e)return e;if(Array.isArray(e))return e[0];if(void 0!==e.exact)return Array.isArray(e.exact)?e.exact[0]:e.exact;if(void 0!==e.ideal)return Array.isArray(e.ideal)?e.ideal[0]:e.ideal;throw Error("could not unwrap constraint")}function Kd(e){return e.startsWith("ws")?e.replace(/^(ws)/,"http"):e}function Jd(e){switch(e.reason){case Qc.LeaveRequest:return e.context;case Qc.Cancelled:return fs.CLIENT_INITIATED;case Qc.NotAllowed:return fs.USER_REJECTED;case Qc.ServerUnreachable:return fs.JOIN_FAILURE;default:return fs.UNKNOWN_REASON}}function eh(e){return void 0!==e?Number(e):void 0}function th(e){return void 0!==e?BigInt(e):void 0}function nh(e){return!!e&&!(e instanceof MediaStreamTrack)&&e.isLocal}function ih(e){return!!e&&e.kind==cd.Kind.Audio}function rh(e){return!!e&&e.kind==cd.Kind.Video}function ah(e){return nh(e)&&rh(e)}function oh(e){return nh(e)&&ih(e)}function sh(e){return!!e&&!e.isLocal}function uh(e){return!!e&&!e.isLocal}function lh(e){return sh(e)&&rh(e)}function ch(e,t,n){var i,r,a,o;const{optionsWithoutProcessor:s,audioProcessor:u,videoProcessor:l}=vh(null!=e?e:{}),c=null==t?void 0:t.processor,d=null==n?void 0:n.processor,h=null!=s?s:{};return!0===h.audio&&(h.audio={}),!0===h.video&&(h.video={}),h.audio&&(dh(h.audio,t),null!==(i=(a=h.audio).deviceId)&&void 0!==i||(a.deviceId={ideal:"default"}),(u||c)&&(h.audio.processor=null!=u?u:c)),h.video&&(dh(h.video,n),null!==(r=(o=h.video).deviceId)&&void 0!==r||(o.deviceId={ideal:"default"}),(l||d)&&(h.video.processor=null!=l?l:d)),h}function dh(e,t){return Object.keys(t).forEach(n=>{void 0===e[n]&&(e[n]=t[n])}),e}function hh(e){var t,n,i,r;const a={};if(e.video)if("object"==typeof e.video){const n={},r=n,o=e.video;Object.keys(o).forEach(e=>{"resolution"===e?dh(r,o.resolution):r[e]=o[e]}),a.video=n,null!==(t=(i=a.video).deviceId)&&void 0!==t||(i.deviceId={ideal:"default"})}else a.video=!!e.video&&{deviceId:{ideal:"default"}};else a.video=!1;return e.audio?"object"==typeof e.audio?(a.audio=e.audio,null!==(n=(r=a.audio).deviceId)&&void 0!==n||(r.deviceId={ideal:"default"})):a.audio={deviceId:{ideal:"default"}}:a.audio=!1,a}function ph(){var e;const t=typeof window<"u"&&(window.AudioContext||window.webkitAudioContext);if(t){const n=new t({latencyHint:"interactive"});if("suspended"===n.state&&typeof window<"u"&&null!==(e=window.document)&&void 0!==e&&e.body){const e=()=>El(this,void 0,void 0,function*(){var t;try{"suspended"===n.state&&(yield n.resume())}catch(e){console.warn("Error trying to auto-resume audio context",e)}finally{null===(t=window.document.body)||void 0===t||t.removeEventListener("click",e)}});n.addEventListener("statechange",()=>{var t;"closed"===n.state&&(null===(t=window.document.body)||void 0===t||t.removeEventListener("click",e))}),window.document.body.addEventListener("click",e)}return n}}function fh(e){return"audioinput"===e?cd.Source.Microphone:"videoinput"===e?cd.Source.Camera:cd.Source.Unknown}function mh(e){return e===cd.Source.Microphone?"audioinput":e===cd.Source.Camera?"videoinput":void 0}function Oh(e){return e.split("/")[1].toLowerCase()}function gh(e){const t=[];return e.forEach(e=>{void 0!==e.track&&t.push(new Du({cid:e.track.mediaStreamID,track:e.trackInfo}))}),t}function Dh(e){return"mediaStreamTrack"in e?{trackID:e.sid,source:e.source,muted:e.isMuted,enabled:e.mediaStreamTrack.enabled,kind:e.kind,streamID:e.mediaStreamID,streamTrackID:e.mediaStreamTrack.id}:{trackID:e.trackSid,enabled:e.isEnabled,muted:e.isMuted,trackInfo:Object.assign({mimeType:e.mimeType,name:e.trackName,encrypted:e.isEncrypted,kind:e.kind,source:e.source},e.track?Dh(e.track):{})}}function vh(e){const t=Object.assign({},e);let n,i;return"object"==typeof t.audio&&t.audio.processor&&(n=t.audio.processor,t.audio=Object.assign(Object.assign({},t.audio),{processor:void 0})),"object"==typeof t.video&&t.video.processor&&(i=t.video.processor,t.video=Object.assign(Object.assign({},t.video),{processor:void 0})),{audioProcessor:n,videoProcessor:i,optionsWithoutProcessor:ed(t)}}function Eh(e,t){return e.width*e.height<t.width*t.height}class Ch extends Tl.EventEmitter{constructor(e,t){super(),this.decryptDataRequests=new Map,this.encryptDataRequests=new Map,this.onWorkerMessage=e=>{var t,n;const{kind:i,data:r}=e.data;switch(i){case"error":if(ml.error(r.error.message),r.uuid){const e=this.decryptDataRequests.get(r.uuid);if(null!=e&&e.reject){e.reject(r.error);break}const t=this.encryptDataRequests.get(r.uuid);if(null!=t&&t.reject){t.reject(r.error);break}}this.emit(Rc.EncryptionError,r.error,r.participantIdentity);break;case"initAck":r.enabled&&this.keyProvider.getKeys().forEach(e=>{this.postKey(e)});break;case"enable":if(r.enabled&&this.keyProvider.getKeys().forEach(e=>{this.postKey(e)}),this.encryptionEnabled!==r.enabled&&r.participantIdentity===(null===(t=this.room)||void 0===t?void 0:t.localParticipant.identity))this.emit(Rc.ParticipantEncryptionStatusChanged,r.enabled,this.room.localParticipant),this.encryptionEnabled=r.enabled;else if(r.participantIdentity){const e=null===(n=this.room)||void 0===n?void 0:n.getParticipantByIdentity(r.participantIdentity);if(!e)throw TypeError("couldn't set encryption status, participant not found".concat(r.participantIdentity));this.emit(Rc.ParticipantEncryptionStatusChanged,r.enabled,e)}break;case"ratchetKey":this.keyProvider.emit(xc.KeyRatcheted,r.ratchetResult,r.participantIdentity,r.keyIndex);break;case"decryptDataResponse":const e=this.decryptDataRequests.get(r.uuid);null!=e&&e.resolve&&e.resolve(r);break;case"encryptDataResponse":const i=this.encryptDataRequests.get(r.uuid);null!=i&&i.resolve&&i.resolve(r)}},this.onWorkerError=e=>{ml.error("e2ee worker encountered an error:",{error:e.error}),this.emit(Rc.EncryptionError,e.error,void 0)},this.keyProvider=e.keyProvider,this.worker=e.worker,this.encryptionEnabled=!1,this.dataChannelEncryptionEnabled=t}get isEnabled(){return this.encryptionEnabled}get isDataChannelEncryptionEnabled(){return this.isEnabled&&this.dataChannelEncryptionEnabled}setup(e){if(!(typeof window.RTCRtpSender<"u"&&typeof window.RTCRtpSender.prototype.createEncodedStreams<"u"||Xc()))throw new jc("tried to setup end-to-end encryption on an unsupported browser");if(ml.info("setting up e2ee"),e!==this.room){this.room=e,this.setupEventListeners(e,this.keyProvider);const t={kind:"init",data:{keyProviderOptions:this.keyProvider.getOptions(),loglevel:gl.getLevel()}};this.worker&&(ml.info("initializing worker",{worker:this.worker}),this.worker.onmessage=this.onWorkerMessage,this.worker.onerror=this.onWorkerError,this.worker.postMessage(t))}}setParticipantCryptorEnabled(e,t){ml.debug("set e2ee to ".concat(e," for participant ").concat(t)),this.postEnable(e,t)}setSifTrailer(e){e&&0!==e.length?this.postSifTrailer(e):ml.warn("ignoring server sent trailer as it's empty")}setupEngine(e){e.on(Uc.RTPVideoMapUpdate,e=>{this.postRTPMap(e)})}setupEventListeners(e,t){e.on(Lc.TrackPublished,(e,t)=>this.setParticipantCryptorEnabled(e.trackInfo.encryption!==ys.NONE,t.identity)),e.on(Lc.ConnectionStateChanged,t=>{t===Up.Connected&&e.remoteParticipants.forEach(e=>{e.trackPublications.forEach(t=>{this.setParticipantCryptorEnabled(t.trackInfo.encryption!==ys.NONE,e.identity)})})}).on(Lc.TrackUnsubscribed,(e,t,n)=>{var i;const r={kind:"removeTransform",data:{participantIdentity:n.identity,trackId:e.mediaStreamID}};null===(i=this.worker)||void 0===i||i.postMessage(r)}).on(Lc.TrackSubscribed,(e,t,n)=>{this.setupE2EEReceiver(e,n.identity,t.trackInfo)}).on(Lc.SignalConnected,()=>{if(!this.room)throw new TypeError("expected room to be present on signal connect");t.getKeys().forEach(e=>{this.postKey(e)}),this.setParticipantCryptorEnabled(this.room.localParticipant.isE2EEEnabled,this.room.localParticipant.identity)}),e.localParticipant.on($c.LocalSenderCreated,(e,t)=>El(this,void 0,void 0,function*(){this.setupE2EESender(t,e)})),e.localParticipant.on($c.LocalTrackPublished,e=>{if(!rh(e.track)||!xd())return;const t={kind:"updateCodec",data:{trackId:e.track.mediaStreamID,codec:Oh(e.trackInfo.codecs[0].mimeType),participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(t)}),t.on(xc.SetKey,e=>this.postKey(e)).on(xc.RatchetRequest,(e,t)=>this.postRatchetRequest(e,t))}encryptData(e){return El(this,void 0,void 0,function*(){if(!this.worker)throw Error("could not encrypt data, worker is missing");const t=crypto.randomUUID(),n={kind:"encryptDataRequest",data:{uuid:t,payload:e,participantIdentity:this.room.localParticipant.identity}},i=new Yd;return i.onFinally=()=>{this.encryptDataRequests.delete(t)},this.encryptDataRequests.set(t,i),this.worker.postMessage(n),i.promise})}handleEncryptedData(e,t,n,i){if(!this.worker)throw Error("could not handle encrypted data, worker is missing");const r=crypto.randomUUID(),a={kind:"decryptDataRequest",data:{uuid:r,payload:e,iv:t,participantIdentity:n,keyIndex:i}},o=new Yd;return o.onFinally=()=>{this.decryptDataRequests.delete(r)},this.decryptDataRequests.set(r,o),this.worker.postMessage(a),o.promise}postRatchetRequest(e,t){if(!this.worker)throw Error("could not ratchet key, worker is missing");const n={kind:"ratchetRequest",data:{participantIdentity:e,keyIndex:t}};this.worker.postMessage(n)}postKey(e){let{key:t,participantIdentity:n,keyIndex:i}=e;var r;if(!this.worker)throw Error("could not set key, worker is missing");const a={kind:"setKey",data:{participantIdentity:n,isPublisher:n===(null===(r=this.room)||void 0===r?void 0:r.localParticipant.identity),key:t,keyIndex:i}};this.worker.postMessage(a)}postEnable(e,t){if(!this.worker)throw new ReferenceError("failed to enable e2ee, worker is not ready");{const n={kind:"enable",data:{enabled:e,participantIdentity:t}};this.worker.postMessage(n)}}postRTPMap(e){var t;if(!this.worker)throw TypeError("could not post rtp map, worker is missing");if(null===(t=this.room)||void 0===t||!t.localParticipant.identity)throw TypeError("could not post rtp map, local participant identity is missing");const n={kind:"setRTPMap",data:{map:e,participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(n)}postSifTrailer(e){if(!this.worker)throw Error("could not post SIF trailer, worker is missing");const t={kind:"setSifTrailer",data:{trailer:e}};this.worker.postMessage(t)}setupE2EEReceiver(e,t,n){if(e.receiver){if(null==n||!n.mimeType||""===n.mimeType)throw new TypeError("MimeType missing from trackInfo, cannot set up E2EE cryptor");this.handleReceiver(e.receiver,e.mediaStreamID,t,"video"===e.kind?Oh(n.mimeType):void 0)}}setupE2EESender(e,t){nh(e)&&t?this.handleSender(t,e.mediaStreamID,void 0):t||ml.warn("early return because sender is not ready")}handleReceiver(e,t,n,i){return El(this,void 0,void 0,function*(){if(this.worker){if(Xc()&&!Fd()){const r={kind:"decode",participantIdentity:n,trackId:t,codec:i};e.transform=new RTCRtpScriptTransform(this.worker,r)}else{if(wc in e&&i){const e={kind:"updateCodec",data:{trackId:t,codec:i,participantIdentity:n}};return void this.worker.postMessage(e)}let r=e.writableStream,a=e.readableStream;if(!r||!a){const t=e.createEncodedStreams();e.writableStream=t.writable,r=t.writable,e.readableStream=t.readable,a=t.readable}const o={kind:"decode",data:{readableStream:a,writableStream:r,trackId:t,codec:i,participantIdentity:n,isReuse:wc in e}};this.worker.postMessage(o,[a,r])}e[wc]=!0}})}handleSender(e,t,n){var i;if(!(wc in e)&&this.worker){if(null===(i=this.room)||void 0===i||!i.localParticipant.identity||""===this.room.localParticipant.identity)throw TypeError("local identity needs to be known in order to set up encrypted sender");if(Xc()&&!Fd()){ml.info("initialize script transform");const i={kind:"encode",participantIdentity:this.room.localParticipant.identity,trackId:t,codec:n};e.transform=new RTCRtpScriptTransform(this.worker,i)}else{ml.info("initialize encoded streams");const i=e.createEncodedStreams(),r={kind:"encode",data:{readableStream:i.readable,writableStream:i.writable,codec:n,trackId:t,participantIdentity:this.room.localParticipant.identity,isReuse:!1}};this.worker.postMessage(r,[i.readable,i.writable])}e[wc]=!0}}}class bh{constructor(){this.failedConnectionAttempts=new Map,this.backOffPromises=new Map}static getInstance(){return this._instance||(this._instance=new bh),this._instance}addFailedConnectionAttempt(e){var t;const n=Nd(new URL(e));if(!n)return;let i=null!==(t=this.failedConnectionAttempts.get(n))&&void 0!==t?t:0;this.failedConnectionAttempts.set(n,i+1),this.backOffPromises.set(n,kd(Math.min(500*Math.pow(2,i),15e3)))}getBackOffPromise(e){const t=new URL(e),n=t&&Nd(t);return n&&this.backOffPromises.get(n)||Promise.resolve()}resetFailedConnectionAttempts(e){const t=new URL(e),n=t&&Nd(t);n&&(this.failedConnectionAttempts.set(n,0),this.backOffPromises.set(n,Promise.resolve()))}resetAll(){this.backOffPromises.clear(),this.failedConnectionAttempts.clear()}}bh._instance=null;const kh="default";class Th{constructor(){this._previousDevices=[]}static getInstance(){return void 0===this.instance&&(this.instance=new Th),this.instance}get previousDevices(){return this._previousDevices}getDevices(e){return El(this,arguments,void 0,function(e){var t=this;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function*(){var i;if((null===(i=Th.userMediaPromiseMap)||void 0===i?void 0:i.size)>0){ml.debug("awaiting getUserMedia promise");try{e?yield Th.userMediaPromiseMap.get(e):yield Promise.all(Th.userMediaPromiseMap.values())}catch(e){ml.warn("error waiting for media permissons")}}let r=yield navigator.mediaDevices.enumerateDevices();if(n&&(!wd()||!t.hasDeviceInUse(e))&&(0===r.filter(t=>t.kind===e).length||r.some(t=>{const n=""===t.label,i=!e||t.kind===e;return n&&i}))){const t={video:"audioinput"!==e&&"audiooutput"!==e,audio:"videoinput"!==e&&{deviceId:{ideal:"default"}}},n=yield navigator.mediaDevices.getUserMedia(t);r=yield navigator.mediaDevices.enumerateDevices(),n.getTracks().forEach(e=>{e.stop()})}return t._previousDevices=r,e&&(r=r.filter(t=>t.kind===e)),r}()})}normalizeDeviceId(e,t,n){return El(this,void 0,void 0,function*(){if(t!==kh)return t;const i=yield this.getDevices(e),r=i.find(e=>e.deviceId===kh);if(!r)return void ml.warn("could not reliably determine default device");const a=i.find(e=>e.deviceId!==kh&&e.groupId===(null!=n?n:r.groupId));if(a)return null==a?void 0:a.deviceId;ml.warn("could not reliably determine default device")})}hasDeviceInUse(e){return e?Th.userMediaPromiseMap.has(e):Th.userMediaPromiseMap.size>0}}var yh;Th.mediaDeviceKinds=["audioinput","audiooutput","videoinput"],Th.userMediaPromiseMap=new Map,function(e){e[e.WAITING=0]="WAITING",e[e.RUNNING=1]="RUNNING",e[e.COMPLETED=2]="COMPLETED"}(yh||(yh={}));class Ah{constructor(){this.pendingTasks=new Map,this.taskMutex=new Ta,this.nextTaskIndex=0}run(e){return El(this,void 0,void 0,function*(){const t={id:this.nextTaskIndex++,enqueuedAt:Date.now(),status:yh.WAITING};this.pendingTasks.set(t.id,t);const n=yield this.taskMutex.lock();try{return t.executedAt=Date.now(),t.status=yh.RUNNING,yield e()}finally{t.status=yh.COMPLETED,this.pendingTasks.delete(t.id),n()}})}flush(){return El(this,void 0,void 0,function*(){return this.run(()=>El(this,void 0,void 0,function*(){}))})}snapshot(){return Array.from(this.pendingTasks.values())}}class Sh{get readyState(){return this.ws.readyState}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,i;if(null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new DOMException("This operation was aborted","AbortError");this.url=e;const r=new WebSocket(e,null!==(i=t.protocols)&&void 0!==i?i:[]);r.binaryType="arraybuffer",this.ws=r;const a=function(){let{closeCode:e,reason:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.close(e,t)};this.opened=new Promise((e,t)=>{r.onopen=()=>{e({readable:new ReadableStream({start(e){r.onmessage=t=>{let{data:n}=t;return e.enqueue(n)},r.onerror=t=>e.error(t)},cancel:a}),writable:new WritableStream({write(e){r.send(e)},abort(){r.close()},close:a}),protocol:r.protocol,extensions:r.extensions}),r.removeEventListener("error",t)},r.addEventListener("error",t)}),this.closed=new Promise((e,t)=>{const n=()=>El(this,void 0,void 0,function*(){const n=new Promise(e=>{r.readyState!==WebSocket.CLOSED&&r.addEventListener("close",t=>{e(t)},{once:!0})}),i=yield Promise.race([kd(250),n]);i?e(i):t(new Error("Encountered unspecified websocket error without a timely close event"))});r.onclose=t=>{let{code:i,reason:a}=t;e({closeCode:i,reason:a}),r.removeEventListener("error",n)},r.addEventListener("error",n)}),t.signal&&(t.signal.onabort=()=>r.close()),this.close=a}}function _h(e,t){return e.pathname="".concat(function(e){return e.endsWith("/")?e:"".concat(e,"/")}(e.pathname)).concat(t),e.toString()}function Fh(e){if("string"==typeof e)return du.fromJson(JSON.parse(e),{ignoreUnknownFields:!0});if(e instanceof ArrayBuffer)return du.fromBinary(new Uint8Array(e));throw new Error("could not decode websocket message: ".concat(typeof e))}const wh=["syncState","trickle","offer","answer","simulate","leave"];var xh;!function(e){e[e.CONNECTING=0]="CONNECTING",e[e.CONNECTED=1]="CONNECTED",e[e.RECONNECTING=2]="RECONNECTING",e[e.DISCONNECTING=3]="DISCONNECTING",e[e.DISCONNECTED=4]="DISCONNECTED"}(xh||(xh={}));class Ph{get currentState(){return this.state}get isDisconnected(){return this.state===xh.DISCONNECTING||this.state===xh.DISCONNECTED}get isEstablishingConnection(){return this.state===xh.CONNECTING||this.state===xh.RECONNECTING}getNextRequestId(){return this._requestId+=1,this._requestId}constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;this.rtt=0,this.state=xh.DISCONNECTED,this.log=ml,this._requestId=0,this.resetCallbacks=()=>{this.onAnswer=void 0,this.onLeave=void 0,this.onLocalTrackPublished=void 0,this.onLocalTrackUnpublished=void 0,this.onNegotiateRequested=void 0,this.onOffer=void 0,this.onRemoteMuteChanged=void 0,this.onSubscribedQualityUpdate=void 0,this.onTokenRefresh=void 0,this.onTrickle=void 0,this.onClose=void 0,this.onMediaSectionsRequirement=void 0},this.log=Ol(null!==(n=t.loggerName)&&void 0!==n?n:dl.Signal),this.loggerContextCb=t.loggerContextCb,this.useJSON=e,this.requestQueue=new Ah,this.queuedRequests=[],this.closingLock=new Ta,this.connectionLock=new Ta,this.state=xh.DISCONNECTED}get logContext(){var e,t;return null!==(t=null===(e=this.loggerContextCb)||void 0===e?void 0:e.call(this))&&void 0!==t?t:{}}join(e,t,n,i){return El(this,void 0,void 0,function*(){return this.state=xh.CONNECTING,this.options=n,yield this.connect(e,t,n,i)})}reconnect(e,t,n,i){return El(this,void 0,void 0,function*(){if(this.options)return this.state=xh.RECONNECTING,this.clearPingInterval(),yield this.connect(e,t,Object.assign(Object.assign({},this.options),{reconnect:!0,sid:n,reconnectReason:i}));this.log.warn("attempted to reconnect without signal options being set, ignoring",this.logContext)})}connect(e,t,n,i){return El(this,void 0,void 0,function*(){const r=yield this.connectionLock.lock();this.connectOptions=n;const a=function(){var e;const t=new Gs({sdk:Vs.JS,protocol:16,version:"2.16.0"});return Id()&&(t.os=null!==(e=Md())&&void 0!==e?e:""),t}(),o=n.singlePeerConnection?function(e,t,n){const i=new URLSearchParams;i.set("access_token",e);const r=new rl({clientInfo:t,connectionSettings:new il({autoSubscribe:!!n.autoSubscribe,adaptiveStream:!!n.adaptiveStream}),reconnect:!!n.reconnect,participantSid:n.sid?n.sid:void 0});n.reconnectReason&&(r.reconnectReason=n.reconnectReason);const a=new al({joinRequest:r.toBinary()});return i.set("join_request",btoa(new TextDecoder("utf-8").decode(a.toBinary()))),i}(t,a,n):function(e,t,n){var i;const r=new URLSearchParams;return r.set("access_token",e),n.reconnect&&(r.set("reconnect","1"),n.sid&&r.set("sid",n.sid)),r.set("auto_subscribe",n.autoSubscribe?"1":"0"),r.set("sdk",Id()?"reactnative":"js"),r.set("version",t.version),r.set("protocol",t.protocol.toString()),t.deviceModel&&r.set("device_model",t.deviceModel),t.os&&r.set("os",t.os),t.osVersion&&r.set("os_version",t.osVersion),t.browser&&r.set("browser",t.browser),t.browserVersion&&r.set("browser_version",t.browserVersion),n.adaptiveStream&&r.set("adaptive_stream","1"),n.reconnectReason&&r.set("reconnect_reason",n.reconnectReason.toString()),!(null===(i=navigator.connection)||void 0===i)&&i.type&&r.set("network",navigator.connection.type),r}(t,a,n),s=function(e,t){const n=new URL(function(e){return e.startsWith("http")?e.replace(/^(http)/,"ws"):e}(e));return t.forEach((e,t)=>{n.searchParams.set(t,e)}),_h(n,"rtc")}(e,o),u=function(e){return _h(new URL(Kd(e)),"validate")}(s);return new Promise((e,t)=>El(this,void 0,void 0,function*(){var a,o;try{let r=!1;const l=e=>El(this,void 0,void 0,function*(){if(r)return;r=!0;const n=e instanceof Event?e.currentTarget:e,i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unknown reason";if(!(e instanceof AbortSignal))return t;const n=e.reason;switch(typeof n){case"string":return n;case"object":return n instanceof Error?n.message:t;default:return"toString"in n?n.toString():t}}(n,"Abort handler called");this.streamWriter&&!this.isDisconnected?this.sendLeave().then(()=>this.close(i)).catch(e=>{this.log.error(e),this.close()}):this.close(),c(),t(n instanceof AbortSignal?n.reason:n)});null==i||i.addEventListener("abort",l);const c=()=>{clearTimeout(d),null==i||i.removeEventListener("abort",l)},d=setTimeout(()=>{l(new Zc("room connection has timed out (signal)",Qc.ServerUnreachable))},n.websocketTimeout),h=(e,t)=>{this.handleSignalConnected(e,d,t)},p=new URL(s);p.searchParams.has("access_token")&&p.searchParams.set("access_token","<redacted>"),this.log.debug("connecting to ".concat(p),Object.assign({reconnect:n.reconnect,reconnectReason:n.reconnectReason},this.logContext)),this.ws&&(yield this.close(!1)),this.ws=new Sh(s);try{this.ws.closed.then(e=>{var n;this.isEstablishingConnection&&t(new Zc("Websocket got closed during a (re)connection attempt: ".concat(e.reason),Qc.InternalError)),1e3!==e.closeCode&&(this.log.warn("websocket closed",Object.assign(Object.assign({},this.logContext),{reason:e.reason,code:e.closeCode,wasClean:1e3===e.closeCode,state:this.state})),this.state===xh.CONNECTED&&this.handleOnClose(null!==(n=e.reason)&&void 0!==n?n:"Unexpected WS error"))}).catch(e=>{this.isEstablishingConnection&&t(new Zc("Websocket error during a (re)connection attempt: ".concat(e),Qc.InternalError))});const i=yield this.ws.opened.catch(e=>El(this,void 0,void 0,function*(){if(this.state!==xh.CONNECTED){this.state=xh.DISCONNECTED,clearTimeout(d);const n=yield this.handleConnectionError(e,u);return void t(n)}this.handleWSError(e),t(e)}));if(clearTimeout(d),!i)return;const r=i.readable.getReader();this.streamWriter=i.writable.getWriter();const s=yield r.read();if(r.releaseLock(),!s.value)throw new Zc("no message received as first message",Qc.InternalError);const l=Fh(s.value),c=this.validateFirstMessage(l,null!==(a=n.reconnect)&&void 0!==a&&a);if(!c.isValid)return void t(c.error);"join"===(null===(o=l.message)||void 0===o?void 0:o.case)&&(this.pingTimeoutDuration=l.message.value.pingTimeout,this.pingIntervalDuration=l.message.value.pingInterval,this.pingTimeoutDuration&&this.pingTimeoutDuration>0&&this.log.debug("ping config",Object.assign(Object.assign({},this.logContext),{timeout:this.pingTimeoutDuration,interval:this.pingIntervalDuration}))),h(i,c.shouldProcessFirstMessage?l:void 0),e(c.response)}catch(e){t(e)}finally{c()}}finally{r()}}))})}startReadingLoop(e,t){return El(this,void 0,void 0,function*(){for(t&&this.handleSignalResponse(t);;){this.signalLatency&&(yield kd(this.signalLatency));const{done:t,value:n}=yield e.read();if(t)break;const i=Fh(n);this.handleSignalResponse(i)}})}close(){return El(this,arguments,void 0,function(){var e=this;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Close method called on signal client";return function*(){if([xh.DISCONNECTING||xh.DISCONNECTED].includes(e.state))return void e.log.debug("ignoring signal close as it's already in disconnecting state");const i=yield e.closingLock.lock();try{if(e.clearPingInterval(),t&&(e.state=xh.DISCONNECTING),e.ws){e.ws.close({closeCode:1e3,reason:n});const t=e.ws.closed;e.ws=void 0,e.streamWriter=void 0,yield Promise.race([t,kd(250)])}}catch(t){e.log.debug("websocket error while closing",Object.assign(Object.assign({},e.logContext),{error:t}))}finally{t&&(e.state=xh.DISCONNECTED),i()}}()})}sendOffer(e,t){this.log.debug("sending offer",Object.assign(Object.assign({},this.logContext),{offerSdp:e.sdp})),this.sendRequest({case:"offer",value:Ih(e,t)})}sendAnswer(e,t){return this.log.debug("sending answer",Object.assign(Object.assign({},this.logContext),{answerSdp:e.sdp})),this.sendRequest({case:"answer",value:Ih(e,t)})}sendIceCandidate(e,t){return this.log.debug("sending ice candidate",Object.assign(Object.assign({},this.logContext),{candidate:e})),this.sendRequest({case:"trickle",value:new fu({candidateInit:JSON.stringify(e),target:t})})}sendMuteTrack(e,t){return this.sendRequest({case:"mute",value:new mu({sid:e,muted:t})})}sendAddTrack(e){return this.sendRequest({case:"addTrack",value:e})}sendUpdateLocalMetadata(e,t){return El(this,arguments,void 0,function(e,t){var n=this;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){const r=n.getNextRequestId();return yield n.sendRequest({case:"updateMetadata",value:new Fu({requestId:r,metadata:e,name:t,attributes:i})}),r}()})}sendUpdateTrackSettings(e){this.sendRequest({case:"trackSetting",value:e})}sendUpdateSubscription(e){return this.sendRequest({case:"subscription",value:e})}sendSyncState(e){return this.sendRequest({case:"syncState",value:e})}sendUpdateVideoLayers(e,t){return this.sendRequest({case:"updateLayers",value:new _u({trackSid:e,layers:t})})}sendUpdateSubscriptionPermissions(e,t){return this.sendRequest({case:"subscriptionPermission",value:new qu({allParticipants:e,trackPermissions:t})})}sendSimulateScenario(e){return this.sendRequest({case:"simulate",value:e})}sendPing(){return Promise.all([this.sendRequest({case:"ping",value:ja.parse(Date.now())}),this.sendRequest({case:"pingReq",value:new Vu({timestamp:ja.parse(Date.now()),rtt:ja.parse(this.rtt)})})])}sendUpdateLocalAudioTrack(e,t){return this.sendRequest({case:"updateAudioTrack",value:new Tu({trackSid:e,features:t})})}sendLeave(){return this.sendRequest({case:"leave",value:new Au({reason:fs.CLIENT_INITIATED,action:Su.DISCONNECT})})}sendRequest(e){return El(this,arguments,void 0,function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function*(){if(!n&&!function(e){const t=wh.indexOf(e.case)>=0;return ml.trace("request allowed to bypass queue:",{canPass:t,req:e}),t}(e)&&t.state===xh.RECONNECTING)return void t.queuedRequests.push(()=>El(t,void 0,void 0,function*(){yield this.sendRequest(e,!0)}));if(n||(yield t.requestQueue.flush()),t.signalLatency&&(yield kd(t.signalLatency)),t.isDisconnected)return void t.log.debug("skipping signal request (type: ".concat(e.case,") - SignalClient disconnected"));if(!t.streamWriter)return void t.log.error("cannot send signal request before connected, type: ".concat(null==e?void 0:e.case),t.logContext);const i=new cu({message:e});try{t.useJSON?yield t.streamWriter.write(i.toJsonString()):yield t.streamWriter.write(i.toBinary())}catch(e){t.log.error("error sending signal message",Object.assign(Object.assign({},t.logContext),{error:e}))}}()})}handleSignalResponse(e){var t,n;const i=e.message;if(null==i)return void this.log.debug("received unsupported message",this.logContext);let r=!1;if("answer"===i.case){const e=Rh(i.value);this.onAnswer&&this.onAnswer(e,i.value.id,i.value.midToTrackId)}else if("offer"===i.case){const e=Rh(i.value);this.onOffer&&this.onOffer(e,i.value.id,i.value.midToTrackId)}else if("trickle"===i.case){const e=JSON.parse(i.value.candidateInit);this.onTrickle&&this.onTrickle(e,i.value.target)}else"update"===i.case?this.onParticipantUpdate&&this.onParticipantUpdate(null!==(t=i.value.participants)&&void 0!==t?t:[]):"trackPublished"===i.case?this.onLocalTrackPublished&&this.onLocalTrackPublished(i.value):"speakersChanged"===i.case?this.onSpeakersChanged&&this.onSpeakersChanged(null!==(n=i.value.speakers)&&void 0!==n?n:[]):"leave"===i.case?this.onLeave&&this.onLeave(i.value):"mute"===i.case?this.onRemoteMuteChanged&&this.onRemoteMuteChanged(i.value.sid,i.value.muted):"roomUpdate"===i.case?this.onRoomUpdate&&i.value.room&&this.onRoomUpdate(i.value.room):"connectionQuality"===i.case?this.onConnectionQuality&&this.onConnectionQuality(i.value):"streamStateUpdate"===i.case?this.onStreamStateUpdate&&this.onStreamStateUpdate(i.value):"subscribedQualityUpdate"===i.case?this.onSubscribedQualityUpdate&&this.onSubscribedQualityUpdate(i.value):"subscriptionPermissionUpdate"===i.case?this.onSubscriptionPermissionUpdate&&this.onSubscriptionPermissionUpdate(i.value):"refreshToken"===i.case?this.onTokenRefresh&&this.onTokenRefresh(i.value):"trackUnpublished"===i.case?this.onLocalTrackUnpublished&&this.onLocalTrackUnpublished(i.value):"subscriptionResponse"===i.case?this.onSubscriptionError&&this.onSubscriptionError(i.value):"pong"===i.case||("pongResp"===i.case?(this.rtt=Date.now()-Number.parseInt(i.value.lastPingTimestamp.toString()),this.resetPingTimeout(),r=!0):"requestResponse"===i.case?this.onRequestResponse&&this.onRequestResponse(i.value):"trackSubscribed"===i.case?this.onLocalTrackSubscribed&&this.onLocalTrackSubscribed(i.value.trackSid):"roomMoved"===i.case?(this.onTokenRefresh&&this.onTokenRefresh(i.value.token),this.onRoomMoved&&this.onRoomMoved(i.value)):"mediaSectionsRequirement"===i.case?this.onMediaSectionsRequirement&&this.onMediaSectionsRequirement(i.value):this.log.debug("unsupported message",Object.assign(Object.assign({},this.logContext),{msgCase:i.case})));r||this.resetPingTimeout()}setReconnected(){for(;this.queuedRequests.length>0;){const e=this.queuedRequests.shift();e&&this.requestQueue.run(e)}}handleOnClose(e){return El(this,void 0,void 0,function*(){if(this.state===xh.DISCONNECTED)return;const t=this.onClose;yield this.close(void 0,e),this.log.debug("websocket connection closed: ".concat(e),Object.assign(Object.assign({},this.logContext),{reason:e})),t&&t(e)})}handleWSError(e){this.log.error("websocket error",Object.assign(Object.assign({},this.logContext),{error:e}))}resetPingTimeout(){this.clearPingTimeout(),this.pingTimeoutDuration?this.pingTimeout=sd.setTimeout(()=>{this.log.warn("ping timeout triggered. last pong received at: ".concat(new Date(Date.now()-1e3*this.pingTimeoutDuration).toUTCString()),this.logContext),this.handleOnClose("ping timeout")},1e3*this.pingTimeoutDuration):this.log.warn("ping timeout duration not set",this.logContext)}clearPingTimeout(){this.pingTimeout&&sd.clearTimeout(this.pingTimeout)}startPingInterval(){this.clearPingInterval(),this.resetPingTimeout(),this.pingIntervalDuration?(this.log.debug("start ping interval",this.logContext),this.pingInterval=sd.setInterval(()=>{this.sendPing()},1e3*this.pingIntervalDuration)):this.log.warn("ping interval duration not set",this.logContext)}clearPingInterval(){this.log.debug("clearing ping interval",this.logContext),this.clearPingTimeout(),this.pingInterval&&sd.clearInterval(this.pingInterval)}handleSignalConnected(e,t,n){this.state=xh.CONNECTED,clearTimeout(t),this.startPingInterval(),this.startReadingLoop(e.readable.getReader(),n)}validateFirstMessage(e,t){var n,i,r,a,o;return"join"===(null===(n=e.message)||void 0===n?void 0:n.case)?{isValid:!0,response:e.message.value}:this.state===xh.RECONNECTING&&"leave"!==(null===(i=e.message)||void 0===i?void 0:i.case)?"reconnect"===(null===(r=e.message)||void 0===r?void 0:r.case)?{isValid:!0,response:e.message.value}:(this.log.debug("declaring signal reconnected without reconnect response received",this.logContext),{isValid:!0,response:void 0,shouldProcessFirstMessage:!0}):this.isEstablishingConnection&&"leave"===(null===(a=e.message)||void 0===a?void 0:a.case)?{isValid:!1,error:new Zc("Received leave request while trying to (re)connect",Qc.LeaveRequest,void 0,e.message.value.reason)}:t?{isValid:!1,error:new Zc("Unexpected first message",Qc.InternalError)}:{isValid:!1,error:new Zc("did not receive join response, got ".concat(null===(o=e.message)||void 0===o?void 0:o.case," instead"),Qc.InternalError)}}handleConnectionError(e,t){return El(this,void 0,void 0,function*(){try{const n=yield fetch(t);if(n.status.toFixed(0).startsWith("4")){const e=yield n.text();return new Zc(e,Qc.NotAllowed,n.status)}return e instanceof Zc?e:new Zc("Encountered unknown websocket error during connection: ".concat(e),Qc.InternalError,n.status)}catch(e){return e instanceof Zc?e:new Zc(e instanceof Error?e.message:"server was not reachable",Qc.ServerUnreachable)}})}}function Rh(e){const t={type:"offer",sdp:e.sdp};switch(e.type){case"answer":case"offer":case"pranswer":case"rollback":t.type=e.type}return t}function Ih(e,t){return new Eu({sdp:e.sdp,type:e.type,id:t})}class Qh{constructor(){this.buffer=[],this._totalSize=0}push(e){this.buffer.push(e),this._totalSize+=e.data.byteLength}pop(){const e=this.buffer.shift();return e&&(this._totalSize-=e.data.byteLength),e}getAll(){return this.buffer.slice()}popToSequence(e){for(;this.buffer.length>0&&this.buffer[0].sequence<=e;)this.pop()}alignBufferedAmount(e){for(;this.buffer.length>0;){const t=this.buffer[0];if(this._totalSize-t.data.byteLength<=e)break;this.pop()}}get length(){return this.buffer.length}}class Nh{constructor(e){this._map=new Map,this._lastCleanup=0,this.ttl=e}set(e,t){const n=Date.now();n-this._lastCleanup>this.ttl/2&&this.cleanup();const i=n+this.ttl;return this._map.set(e,{value:t,expiresAt:i}),this}get(e){const t=this._map.get(e);if(t)return t.expiresAt<Date.now()?void this._map.delete(e):t.value}has(e){const t=this._map.get(e);return!(!t||t.expiresAt<Date.now()&&(this._map.delete(e),1))}delete(e){return this._map.delete(e)}clear(){this._map.clear()}cleanup(){const e=Date.now();for(const[t,n]of this._map.entries())n.expiresAt<e&&this._map.delete(t);this._lastCleanup=e}get size(){return this.cleanup(),this._map.size}forEach(e){this.cleanup();for(const[t,n]of this._map.entries())n.expiresAt>=Date.now()&&e(n.value,t,this.asValueMap())}map(e){this.cleanup();const t=[],n=this.asValueMap();for(const[i,r]of n.entries())t.push(e(r,i,n));return t}asValueMap(){const e=new Map;for(const[t,n]of this._map.entries())n.expiresAt>=Date.now()&&e.set(t,n.value);return e}}var Bh,Mh,Lh,$h,Uh,qh={},Xh={},zh={exports:{}};function Zh(){if(Bh)return zh.exports;Bh=1;var e=zh.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),(t+=null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",(t+=null!=e.rateNumerator?" rate=%s":"")+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(e).forEach(function(t){e[t].forEach(function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")})}),zh.exports}function jh(){if($h)return Lh;$h=1;var e=Zh(),t=/%[sdv%]/g,n=function(e){var n=1,i=arguments,r=i.length;return e.replace(t,function(e){if(n>=r)return e;var t=i[n];switch(n+=1,e){case"%%":return"%";case"%s":return String(t);case"%d":return Number(t);case"%v":return""}})},i=function(e,t,i){var r=[e+"="+(t.format instanceof Function?t.format(t.push?i:i[t.name]):t.format)];if(t.names)for(var a=0;a<t.names.length;a+=1){var o=t.names[a];t.name?r.push(i[t.name][o]):r.push(i[t.names[a]])}else r.push(i[t.name]);return n.apply(null,r)},r=["v","o","s","i","u","e","p","c","b","t","r","z","a"],a=["i","c","b","a"];return Lh=function(t,n){n=n||{},null==t.version&&(t.version=0),null==t.name&&(t.name=" "),t.media.forEach(function(e){null==e.payloads&&(e.payloads="")});var o=n.outerOrder||r,s=n.innerOrder||a,u=[];return o.forEach(function(n){e[n].forEach(function(e){e.name in t&&null!=t[e.name]?u.push(i(n,e,t)):e.push in t&&null!=t[e.push]&&t[e.push].forEach(function(t){u.push(i(n,e,t))})})}),t.media.forEach(function(t){u.push(i("m",e.m[0],t)),s.forEach(function(n){e[n].forEach(function(e){e.name in t&&null!=t[e.name]?u.push(i(n,e,t)):e.push in t&&null!=t[e.push]&&t[e.push].forEach(function(t){u.push(i(n,e,t))})})})}),u.join("\r\n")+"\r\n"}}var Wh=function(){if(Uh)return qh;Uh=1;var e=(Mh||(Mh=1,function(e){var t=function(e){return String(Number(e))===e?Number(e):e},n=function(e,n,i){var r=e.name&&e.names;e.push&&!n[e.push]?n[e.push]=[]:r&&!n[e.name]&&(n[e.name]={});var a=e.push?{}:r?n[e.name]:n;(function(e,n,i,r){if(r&&!i)n[r]=t(e[1]);else for(var a=0;a<i.length;a+=1)null!=e[a+1]&&(n[i[a]]=t(e[a+1]))})(i.match(e.reg),a,e.names,e.name),e.push&&n[e.push].push(a)},i=Zh(),r=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(e){var t={},a=[],o=t;return e.split(/(\r\n|\r|\n)/).filter(r).forEach(function(e){var t=e[0],r=e.slice(2);"m"===t&&(a.push({rtp:[],fmtp:[]}),o=a[a.length-1]);for(var s=0;s<(i[t]||[]).length;s+=1){var u=i[t][s];if(u.reg.test(r))return n(u,o,r)}}),t.media=a,t};var a=function(e,n){var i=n.split(/=(.+)/,2);return 2===i.length?e[i[0]]=t(i[1]):1===i.length&&n.length>1&&(e[i[0]]=void 0),e};e.parseParams=function(e){return e.split(/;\s?/).reduce(a,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(e){return e.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(e){for(var n=[],i=e.split(" ").map(t),r=0;r<i.length;r+=3)n.push({component:i[r],ip:i[r+1],port:i[r+2]});return n},e.parseImageAttributes=function(e){return e.split(" ").map(function(e){return e.substring(1,e.length-1).split(",").reduce(a,{})})},e.parseSimulcastStreamList=function(e){return e.split(";").map(function(e){return e.split(",").map(function(e){var n,i=!1;return"~"!==e[0]?n=t(e):(n=t(e.substring(1,e.length)),i=!0),{scid:n,paused:i}})})}}(Xh)),Xh),t=jh(),n=Zh();return qh.grammar=n,qh.write=t,qh.parse=e.parse,qh.parseParams=e.parseParams,qh.parseFmtpConfig=e.parseFmtpConfig,qh.parsePayloads=e.parsePayloads,qh.parseRemoteCandidates=e.parseRemoteCandidates,qh.parseImageAttributes=e.parseImageAttributes,qh.parseSimulcastStreamList=e.parseSimulcastStreamList,qh}();function Gh(e,t,n){var i,r,a;void 0===t&&(t=50),void 0===n&&(n={});var o=null!=(i=n.isImmediate)&&i,s=null!=(r=n.callback)&&r,u=n.maxWait,l=Date.now(),c=[],d=function(){var n=[].slice.call(arguments),i=this;return new Promise(function(r,d){var h=o&&void 0===a;if(void 0!==a&&clearTimeout(a),a=setTimeout(function(){if(a=void 0,l=Date.now(),!o){var t=e.apply(i,n);s&&s(t),c.forEach(function(e){return(0,e.resolve)(t)}),c=[]}},function(){if(void 0!==u){var e=Date.now()-l;if(e+t>=u)return u-e}return t}()),h){var p=e.apply(i,n);return s&&s(p),r(p)}c.push({resolve:r,reject:d})})};return d.cancel=function(e){void 0!==a&&clearTimeout(a),c.forEach(function(t){return(0,t.reject)(e)}),c=[]},d}const Vh="negotiationStarted",Yh="negotiationComplete",Hh="rtpVideoPayloadTypes";class Kh extends Tl.EventEmitter{get pc(){return this._pc||(this._pc=this.createPC()),this._pc}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;super(),this.log=ml,this.ddExtID=0,this.latestOfferId=0,this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate=!1,this.trackBitrates=[],this.remoteStereoMids=[],this.remoteNackMids=[],this.negotiate=Gh(e=>El(this,void 0,void 0,function*(){this.emit(Vh);try{yield this.createAndSendOffer()}catch(t){if(!e)throw t;e(t)}}),20),this.close=()=>{this._pc&&(this._pc.close(),this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.ondatachannel=null,this._pc.onnegotiationneeded=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ondatachannel=null,this._pc.ontrack=null,this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc=null)},this.log=Ol(null!==(n=t.loggerName)&&void 0!==n?n:dl.PCTransport),this.loggerOptions=t,this.config=e,this._pc=this.createPC(),this.offerLock=new Ta}createPC(){const e=new RTCPeerConnection(this.config);return e.onicecandidate=e=>{var t;e.candidate&&(null===(t=this.onIceCandidate)||void 0===t||t.call(this,e.candidate))},e.onicecandidateerror=e=>{var t;null===(t=this.onIceCandidateError)||void 0===t||t.call(this,e)},e.oniceconnectionstatechange=()=>{var t;null===(t=this.onIceConnectionStateChange)||void 0===t||t.call(this,e.iceConnectionState)},e.onsignalingstatechange=()=>{var t;null===(t=this.onSignalingStatechange)||void 0===t||t.call(this,e.signalingState)},e.onconnectionstatechange=()=>{var t;null===(t=this.onConnectionStateChange)||void 0===t||t.call(this,e.connectionState)},e.ondatachannel=e=>{var t;null===(t=this.onDataChannel)||void 0===t||t.call(this,e)},e.ontrack=e=>{var t;null===(t=this.onTrack)||void 0===t||t.call(this,e)},e}get logContext(){var e,t;return Object.assign({},null===(t=(e=this.loggerOptions).loggerContextCb)||void 0===t?void 0:t.call(e))}get isICEConnected(){return null!==this._pc&&("connected"===this.pc.iceConnectionState||"completed"===this.pc.iceConnectionState)}addIceCandidate(e){return El(this,void 0,void 0,function*(){if(this.pc.remoteDescription&&!this.restartingIce)return this.pc.addIceCandidate(e);this.pendingCandidates.push(e)})}setRemoteDescription(e,t){return El(this,void 0,void 0,function*(){var n;if("answer"===e.type&&this.latestOfferId>0&&t>0&&t!==this.latestOfferId)return this.log.warn("ignoring answer for old offer",Object.assign(Object.assign({},this.logContext),{offerId:t,latestOfferId:this.latestOfferId})),!1;let i;if("offer"===e.type){let{stereoMids:t,nackMids:n}=function(e){var t;const n=[],i=[],r=Wh.parse(null!==(t=e.sdp)&&void 0!==t?t:"");let a=0;return r.media.forEach(e=>{var t;const r=tp(e.mid);"audio"===e.type&&(e.rtp.some(e=>"opus"===e.codec&&(a=e.payload,!0)),!(null===(t=e.rtcpFb)||void 0===t)&&t.some(e=>e.payload===a&&"nack"===e.type)&&i.push(r),e.fmtp.some(e=>e.payload===a&&(e.config.includes("sprop-stereo=1")&&n.push(r),!0)))}),{stereoMids:n,nackMids:i}}(e);this.remoteStereoMids=t,this.remoteNackMids=n}else if("answer"===e.type){const t=Wh.parse(null!==(n=e.sdp)&&void 0!==n?n:"");t.media.forEach(e=>{const t=tp(e.mid);"audio"===e.type&&this.trackBitrates.some(n=>{if(!n.transceiver||t!=n.transceiver.mid)return!1;let i=0;if(e.rtp.some(e=>e.codec.toUpperCase()===n.codec.toUpperCase()&&(i=e.payload,!0)),0===i)return!0;let r=!1;for(const t of e.fmtp)if(t.payload===i){t.config=t.config.split(";").filter(e=>!e.includes("maxaveragebitrate")).join(";"),n.maxbr>0&&(t.config+=";maxaveragebitrate=".concat(1e3*n.maxbr)),r=!0;break}return r||n.maxbr>0&&e.fmtp.push({payload:i,config:"maxaveragebitrate=".concat(1e3*n.maxbr)}),!0})}),i=Wh.write(t)}return yield this.setMungedSDP(e,i,!0),this.pendingCandidates.forEach(e=>{this.pc.addIceCandidate(e)}),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate?(this.renegotiate=!1,yield this.createAndSendOffer()):"answer"===e.type&&(this.emit(Yh),e.sdp&&Wh.parse(e.sdp).media.forEach(e=>{"video"===e.type&&this.emit(Hh,e.rtp)})),!0})}createAndSendOffer(e){return El(this,void 0,void 0,function*(){var t;const n=yield this.offerLock.lock();try{if(void 0===this.onOffer)return;if(null!=e&&e.iceRestart&&(this.log.debug("restarting ICE",this.logContext),this.restartingIce=!0),this._pc&&"have-local-offer"===this._pc.signalingState){const t=this._pc.remoteDescription;if(null==e||!e.iceRestart||!t)return void(this.renegotiate=!0);yield this._pc.setRemoteDescription(t)}else if(!this._pc||"closed"===this._pc.signalingState)return void this.log.warn("could not createOffer with closed peer connection",this.logContext);this.log.debug("starting to negotiate",this.logContext);const n=this.latestOfferId+1;this.latestOfferId=n;const i=yield this.pc.createOffer(e);this.log.debug("original offer",Object.assign({sdp:i.sdp},this.logContext));const r=Wh.parse(null!==(t=i.sdp)&&void 0!==t?t:"");if(r.media.forEach(e=>{ep(e),"audio"===e.type?Jh(e,["all"],[]):"video"===e.type&&this.trackBitrates.some(t=>{if(!e.msid||!t.cid||!e.msid.includes(t.cid))return!1;let n=0;if(e.rtp.some(e=>e.codec.toUpperCase()===t.codec.toUpperCase()&&(n=e.payload,!0)),0===n||(Ad(t.codec)&&!wd()&&this.ensureVideoDDExtensionForSVC(e,r),!Ad(t.codec)))return!0;const i=Math.round(.7*t.maxbr);for(const t of e.fmtp)if(t.payload===n){t.config.includes("x-google-start-bitrate")||(t.config+=";x-google-start-bitrate=".concat(i));break}return!0})}),this.latestOfferId>n)return void this.log.warn("latestOfferId mismatch",Object.assign(Object.assign({},this.logContext),{latestOfferId:this.latestOfferId,offerId:n}));yield this.setMungedSDP(i,Wh.write(r)),this.onOffer(i,this.latestOfferId)}finally{n()}})}createAndSetAnswer(){return El(this,void 0,void 0,function*(){var e;const t=yield this.pc.createAnswer(),n=Wh.parse(null!==(e=t.sdp)&&void 0!==e?e:"");return n.media.forEach(e=>{ep(e),"audio"===e.type&&Jh(e,this.remoteStereoMids,this.remoteNackMids)}),yield this.setMungedSDP(t,Wh.write(n)),t})}createDataChannel(e,t){return this.pc.createDataChannel(e,t)}addTransceiver(e,t){return this.pc.addTransceiver(e,t)}addTransceiverOfKind(e,t){return this.pc.addTransceiver(e,t)}addTrack(e){if(!this._pc)throw new Vc("PC closed, cannot add track");return this._pc.addTrack(e)}setTrackCodecBitrate(e){this.trackBitrates.push(e)}setConfiguration(e){var t;if(!this._pc)throw new Vc("PC closed, cannot configure");return null===(t=this._pc)||void 0===t?void 0:t.setConfiguration(e)}canRemoveTrack(){var e;return!(null===(e=this._pc)||void 0===e||!e.removeTrack)}removeTrack(e){var t;return null===(t=this._pc)||void 0===t?void 0:t.removeTrack(e)}getConnectionState(){var e,t;return null!==(t=null===(e=this._pc)||void 0===e?void 0:e.connectionState)&&void 0!==t?t:"closed"}getICEConnectionState(){var e,t;return null!==(t=null===(e=this._pc)||void 0===e?void 0:e.iceConnectionState)&&void 0!==t?t:"closed"}getSignallingState(){var e,t;return null!==(t=null===(e=this._pc)||void 0===e?void 0:e.signalingState)&&void 0!==t?t:"closed"}getTransceivers(){var e,t;return null!==(t=null===(e=this._pc)||void 0===e?void 0:e.getTransceivers())&&void 0!==t?t:[]}getSenders(){var e,t;return null!==(t=null===(e=this._pc)||void 0===e?void 0:e.getSenders())&&void 0!==t?t:[]}getLocalDescription(){var e;return null===(e=this._pc)||void 0===e?void 0:e.localDescription}getRemoteDescription(){var e;return null===(e=this.pc)||void 0===e?void 0:e.remoteDescription}getStats(){return this.pc.getStats()}getConnectedAddress(){return El(this,void 0,void 0,function*(){var e;if(!this._pc)return;let t="";const n=new Map,i=new Map;if((yield this._pc.getStats()).forEach(e=>{switch(e.type){case"transport":t=e.selectedCandidatePairId;break;case"candidate-pair":""===t&&e.selected&&(t=e.id),n.set(e.id,e);break;case"remote-candidate":i.set(e.id,"".concat(e.address,":").concat(e.port))}}),""===t)return;const r=null===(e=n.get(t))||void 0===e?void 0:e.remoteCandidateId;return void 0!==r?i.get(r):void 0})}setMungedSDP(e,t,n){return El(this,void 0,void 0,function*(){if(t){const i=e.sdp;e.sdp=t;try{return this.log.debug("setting munged ".concat(n?"remote":"local"," description"),this.logContext),void(n?yield this.pc.setRemoteDescription(e):yield this.pc.setLocalDescription(e))}catch(n){this.log.warn("not able to set ".concat(e.type,", falling back to unmodified sdp"),Object.assign(Object.assign({},this.logContext),{error:n,sdp:t})),e.sdp=i}}try{n?yield this.pc.setRemoteDescription(e):yield this.pc.setLocalDescription(e)}catch(t){let i="unknown error";t instanceof Error?i=t.message:"string"==typeof t&&(i=t);const r={error:i,sdp:e.sdp};throw!n&&this.pc.remoteDescription&&(r.remoteSdp=this.pc.remoteDescription),this.log.error("unable to set ".concat(e.type),Object.assign(Object.assign({},this.logContext),{fields:r})),new Yc(i)}})}ensureVideoDDExtensionForSVC(e,t){var n,i;if(!(null===(n=e.ext)||void 0===n?void 0:n.some(e=>e.uri===bd))){if(0===this.ddExtID){let e=0;t.media.forEach(t=>{var n;"video"===t.type&&(null===(n=t.ext)||void 0===n||n.forEach(t=>{t.value>e&&(e=t.value)}))}),this.ddExtID=e+1}null===(i=e.ext)||void 0===i||i.push({value:this.ddExtID,uri:bd})}}}function Jh(e,t,n){const i=tp(e.mid);let r=0;e.rtp.some(e=>"opus"===e.codec&&(r=e.payload,!0)),r>0&&(e.rtcpFb||(e.rtcpFb=[]),n.includes(i)&&!e.rtcpFb.some(e=>e.payload===r&&"nack"===e.type)&&e.rtcpFb.push({payload:r,type:"nack"}),(t.includes(i)||1===t.length&&"all"===t[0])&&e.fmtp.some(e=>e.payload===r&&(e.config.includes("stereo=1")||(e.config+=";stereo=1"),!0)))}function ep(e){if(e.connection){const t=e.connection.ip.indexOf(":")>=0;(4===e.connection.version&&t||6===e.connection.version&&!t)&&(e.connection.ip="0.0.0.0",e.connection.version=4)}}function tp(e){return"number"==typeof e?e.toFixed(0):e}const np="vp8",ip={audioPreset:Dd.music,dtx:!0,red:!0,forceStereo:!1,simulcast:!0,screenShareEncoding:Cd.h1080fps15.encoding,stopMicTrackOnMute:!1,videoCodec:np,backupCodec:!0,preConnectBuffer:!1},rp={deviceId:{ideal:"default"},autoGainControl:!0,echoCancellation:!0,noiseSuppression:!0,voiceIsolation:!0},ap={deviceId:{ideal:"default"},resolution:vd.h720.resolution},op={adaptiveStream:!1,dynacast:!1,stopLocalTrackOnUnpublish:!0,reconnectPolicy:new class{constructor(e){this._retryDelays=void 0!==e?[...e]:vl}nextRetryDelayInMs(e){if(e.retryCount>=this._retryDelays.length)return null;const t=this._retryDelays[e.retryCount];return e.retryCount<=1?t:t+1e3*Math.random()}},disconnectOnPageLeave:!0,webAudioMix:!1,singlePeerConnection:!1},sp={autoSubscribe:!0,maxRetries:1,peerConnectionTimeout:15e3,websocketTimeout:15e3};var up;!function(e){e[e.NEW=0]="NEW",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED",e[e.FAILED=3]="FAILED",e[e.CLOSING=4]="CLOSING",e[e.CLOSED=5]="CLOSED"}(up||(up={}));class lp{get needsPublisher(){return this.isPublisherConnectionRequired}get needsSubscriber(){return this.isSubscriberConnectionRequired}get currentState(){return this.state}constructor(e,t,n){var i;this.peerConnectionTimeout=sp.peerConnectionTimeout,this.log=ml,this.updateState=()=>{var e,t;const n=this.state,i=this.requiredTransports.map(e=>e.getConnectionState());i.every(e=>"connected"===e)?this.state=up.CONNECTED:i.some(e=>"failed"===e)?this.state=up.FAILED:i.some(e=>"connecting"===e)?this.state=up.CONNECTING:i.every(e=>"closed"===e)?this.state=up.CLOSED:i.some(e=>"closed"===e)?this.state=up.CLOSING:i.every(e=>"new"===e)&&(this.state=up.NEW),n!==this.state&&(this.log.debug("pc state change: from ".concat(up[n]," to ").concat(up[this.state]),this.logContext),null===(e=this.onStateChange)||void 0===e||e.call(this,this.state,this.publisher.getConnectionState(),null===(t=this.subscriber)||void 0===t?void 0:t.getConnectionState()))},this.log=Ol(null!==(i=n.loggerName)&&void 0!==i?i:dl.PCManager),this.loggerOptions=n,this.isPublisherConnectionRequired="subscriber-primary"!==t,this.isSubscriberConnectionRequired="subscriber-primary"===t,this.publisher=new Kh(e,n),"publisher-only"!==t&&(this.subscriber=new Kh(e,n),this.subscriber.onConnectionStateChange=this.updateState,this.subscriber.onIceConnectionStateChange=this.updateState,this.subscriber.onSignalingStatechange=this.updateState,this.subscriber.onIceCandidate=e=>{var t;null===(t=this.onIceCandidate)||void 0===t||t.call(this,e,su.SUBSCRIBER)},this.subscriber.onDataChannel=e=>{var t;null===(t=this.onDataChannel)||void 0===t||t.call(this,e)},this.subscriber.onTrack=e=>{var t;null===(t=this.onTrack)||void 0===t||t.call(this,e)}),this.publisher.onConnectionStateChange=this.updateState,this.publisher.onIceConnectionStateChange=this.updateState,this.publisher.onSignalingStatechange=this.updateState,this.publisher.onIceCandidate=e=>{var t;null===(t=this.onIceCandidate)||void 0===t||t.call(this,e,su.PUBLISHER)},this.publisher.onTrack=e=>{var t;null===(t=this.onTrack)||void 0===t||t.call(this,e)},this.publisher.onOffer=(e,t)=>{var n;null===(n=this.onPublisherOffer)||void 0===n||n.call(this,e,t)},this.state=up.NEW,this.connectionLock=new Ta,this.remoteOfferLock=new Ta}get logContext(){var e,t;return Object.assign({},null===(t=(e=this.loggerOptions).loggerContextCb)||void 0===t?void 0:t.call(e))}requirePublisher(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isPublisherConnectionRequired=e,this.updateState()}createAndSendPublisherOffer(e){return this.publisher.createAndSendOffer(e)}setPublisherAnswer(e,t){return this.publisher.setRemoteDescription(e,t)}removeTrack(e){return this.publisher.removeTrack(e)}close(){return El(this,void 0,void 0,function*(){var e;if(this.publisher&&"closed"!==this.publisher.getSignallingState()){const e=this.publisher;for(const t of e.getSenders())try{e.canRemoveTrack()&&e.removeTrack(t)}catch(e){this.log.warn("could not removeTrack",Object.assign(Object.assign({},this.logContext),{error:e}))}}yield Promise.all([this.publisher.close(),null===(e=this.subscriber)||void 0===e?void 0:e.close()]),this.updateState()})}triggerIceRestart(){return El(this,void 0,void 0,function*(){this.subscriber&&(this.subscriber.restartingIce=!0),this.needsPublisher&&(yield this.createAndSendPublisherOffer({iceRestart:!0}))})}addIceCandidate(e,t){return El(this,void 0,void 0,function*(){var n;t===su.PUBLISHER?yield this.publisher.addIceCandidate(e):yield null===(n=this.subscriber)||void 0===n?void 0:n.addIceCandidate(e)})}createSubscriberAnswerFromOffer(e,t){return El(this,void 0,void 0,function*(){var n,i,r;this.log.debug("received server offer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:e.type,sdp:e.sdp,signalingState:null===(n=this.subscriber)||void 0===n?void 0:n.getSignallingState().toString()}));const a=yield this.remoteOfferLock.lock();try{return(yield null===(i=this.subscriber)||void 0===i?void 0:i.setRemoteDescription(e,t))?yield null===(r=this.subscriber)||void 0===r?void 0:r.createAndSetAnswer():void 0}finally{a()}})}updateConfiguration(e,t){var n;this.publisher.setConfiguration(e),null===(n=this.subscriber)||void 0===n||n.setConfiguration(e),t&&this.triggerIceRestart()}ensurePCTransportConnection(e,t){return El(this,void 0,void 0,function*(){var n;const i=yield this.connectionLock.lock();try{this.isPublisherConnectionRequired&&"connected"!==this.publisher.getConnectionState()&&"connecting"!==this.publisher.getConnectionState()&&(this.log.debug("negotiation required, start negotiating",this.logContext),this.publisher.negotiate()),yield Promise.all(null===(n=this.requiredTransports)||void 0===n?void 0:n.map(n=>this.ensureTransportConnected(n,e,t)))}finally{i()}})}negotiate(e){return El(this,void 0,void 0,function*(){return new Promise((t,n)=>El(this,void 0,void 0,function*(){const i=setTimeout(()=>{n("negotiation timed out")},this.peerConnectionTimeout);e.signal.addEventListener("abort",()=>{clearTimeout(i),n("negotiation aborted")}),this.publisher.once(Vh,()=>{e.signal.aborted||this.publisher.once(Yh,()=>{clearTimeout(i),t()})}),yield this.publisher.negotiate(e=>{clearTimeout(i),n(e)})}))})}addPublisherTransceiver(e,t){return this.publisher.addTransceiver(e,t)}addPublisherTransceiverOfKind(e,t){return this.publisher.addTransceiverOfKind(e,t)}getMidForReceiver(e){const t=(this.subscriber?this.subscriber.getTransceivers():this.publisher.getTransceivers()).find(t=>t.receiver===e);return null==t?void 0:t.mid}addPublisherTrack(e){return this.publisher.addTrack(e)}createPublisherDataChannel(e,t){return this.publisher.createDataChannel(e,t)}getConnectedAddress(e){return e===su.PUBLISHER||e===su.SUBSCRIBER?this.publisher.getConnectedAddress():this.requiredTransports[0].getConnectedAddress()}get requiredTransports(){const e=[];return this.isPublisherConnectionRequired&&e.push(this.publisher),this.isSubscriberConnectionRequired&&this.subscriber&&e.push(this.subscriber),e}ensureTransportConnected(e,t){return El(this,arguments,void 0,function(e,t){var n=this;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.peerConnectionTimeout;return function*(){if("connected"!==e.getConnectionState())return new Promise((e,r)=>El(n,void 0,void 0,function*(){const n=()=>{this.log.warn("abort transport connection",this.logContext),sd.clearTimeout(a),r(new Zc("room connection has been cancelled",Qc.Cancelled))};null!=t&&t.signal.aborted&&n(),null==t||t.signal.addEventListener("abort",n);const a=sd.setTimeout(()=>{null==t||t.signal.removeEventListener("abort",n),r(new Zc("could not establish pc connection",Qc.InternalError))},i);for(;this.state!==up.CONNECTED;)if(yield kd(50),null!=t&&t.signal.aborted)return void r(new Zc("room connection has been cancelled",Qc.Cancelled));sd.clearTimeout(a),null==t||t.signal.removeEventListener("abort",n),e()}))}()})}}class cp{static fetchRegionSettings(e,t,n){return El(this,void 0,void 0,function*(){const i=yield cp.fetchLock.lock();try{const i=yield fetch("".concat(function(e){return"".concat(e.protocol.replace("ws","http"),"//").concat(e.host,"/settings")}(e),"/regions"),{headers:{authorization:"Bearer ".concat(t)},signal:n});if(i.ok){const e=function(e){var t;const n=e.get("Cache-Control");if(n){const e=null===(t=n.match(/(?:^|[,\s])max-age=(\d+)/))||void 0===t?void 0:t[1];if(e)return parseInt(e,10)}}(i.headers),t=e?1e3*e:5e3;return{regionSettings:yield i.json(),updatedAtInMs:Date.now(),maxAgeInMs:t}}throw new Zc("Could not fetch region settings: ".concat(i.statusText),401===i.status?Qc.NotAllowed:Qc.InternalError,i.status)}catch(e){throw e instanceof Zc?e:null!=n&&n.aborted?new Zc("Region fetching was aborted",Qc.Cancelled):new Zc("Could not fetch region settings, ".concat(e instanceof Error?"".concat(e.name,": ").concat(e.message):e),Qc.ServerUnreachable,500)}finally{i()}})}static scheduleRefetch(e,t,n){return El(this,void 0,void 0,function*(){const i=cp.settingsTimeouts.get(e.hostname);clearTimeout(i),cp.settingsTimeouts.set(e.hostname,setTimeout(()=>El(this,void 0,void 0,function*(){try{const n=yield cp.fetchRegionSettings(e,t);cp.updateCachedRegionSettings(e,t,n)}catch(i){if(i instanceof Zc&&i.reason===Qc.NotAllowed)return void ml.debug("token is not valid, cancelling auto region refresh");ml.debug("auto refetching of region settings failed",{error:i}),cp.scheduleRefetch(e,t,n)}}),n))})}static updateCachedRegionSettings(e,t,n){cp.cache.set(e.hostname,n),cp.scheduleRefetch(e,t,n.maxAgeInMs)}static stopRefetch(e){const t=cp.settingsTimeouts.get(e);t&&(clearTimeout(t),cp.settingsTimeouts.delete(e))}static scheduleCleanup(e){let t=cp.connectionTrackers.get(e);t&&(t.cleanupTimeout&&clearTimeout(t.cleanupTimeout),t.cleanupTimeout=setTimeout(()=>{const t=cp.connectionTrackers.get(e);t&&0===t.connectionCount&&(ml.debug("stopping region refetch after disconnect delay",{hostname:e}),cp.stopRefetch(e)),t&&(t.cleanupTimeout=void 0)},3e4))}static cancelCleanup(e){const t=cp.connectionTrackers.get(e);null!=t&&t.cleanupTimeout&&(clearTimeout(t.cleanupTimeout),t.cleanupTimeout=void 0)}notifyConnected(){const e=this.serverUrl.hostname;let t=cp.connectionTrackers.get(e);t||(t={connectionCount:0},cp.connectionTrackers.set(e,t)),t.connectionCount++,cp.cancelCleanup(e)}notifyDisconnected(){const e=this.serverUrl.hostname,t=cp.connectionTrackers.get(e);t&&(t.connectionCount=Math.max(0,t.connectionCount-1),0===t.connectionCount&&cp.scheduleCleanup(e))}constructor(e,t){this.attemptedRegions=[],this.serverUrl=new URL(e),this.token=t}updateToken(e){this.token=e}isCloud(){return Qd(this.serverUrl)}getServerUrl(){return this.serverUrl}fetchRegionSettings(e){return El(this,void 0,void 0,function*(){return cp.fetchRegionSettings(this.serverUrl,this.token,e)})}getNextBestRegionUrl(e){return El(this,void 0,void 0,function*(){if(!this.isCloud())throw Error("region availability is only supported for LiveKit Cloud domains");let t=cp.cache.get(this.serverUrl.hostname);(!t||Date.now()-t.updatedAtInMs>t.maxAgeInMs)&&(t=yield this.fetchRegionSettings(e),cp.updateCachedRegionSettings(this.serverUrl,this.token,t));const n=t.regionSettings.regions.filter(e=>!this.attemptedRegions.find(t=>t.url===e.url));if(n.length>0){const e=n[0];return this.attemptedRegions.push(e),ml.debug("next region: ".concat(e.region)),e.url}return null})}resetAttempts(){this.attemptedRegions=[]}setServerReportedRegions(e){cp.updateCachedRegionSettings(this.serverUrl,this.token,e)}}cp.cache=new Map,cp.settingsTimeouts=new Map,cp.connectionTrackers=new Map,cp.fetchLock=new Ta;class dp extends Error{constructor(e,t,n){super(t),this.code=e,this.message=pp(t,dp.MAX_MESSAGE_BYTES),this.data=n?pp(n,dp.MAX_DATA_BYTES):void 0}static fromProto(e){return new dp(e.code,e.message,e.data)}toProto(){return new zs({code:this.code,message:this.message,data:this.data})}static builtIn(e,t){return new dp(dp.ErrorCode[e],dp.ErrorMessage[e],t)}}function hp(e){return(new TextEncoder).encode(e).length}function pp(e,t){if(hp(e)<=t)return e;let n=0,i=e.length;const r=new TextEncoder;for(;n<i;){const a=Math.floor((n+i+1)/2);r.encode(e.slice(0,a)).length<=t?n=a:i=a-1}return e.slice(0,n)}dp.MAX_MESSAGE_BYTES=256,dp.MAX_DATA_BYTES=15360,dp.ErrorCode={APPLICATION_ERROR:1500,CONNECTION_TIMEOUT:1501,RESPONSE_TIMEOUT:1502,RECIPIENT_DISCONNECTED:1503,RESPONSE_PAYLOAD_TOO_LARGE:1504,SEND_FAILED:1505,UNSUPPORTED_METHOD:1400,RECIPIENT_NOT_FOUND:1401,REQUEST_PAYLOAD_TOO_LARGE:1402,UNSUPPORTED_SERVER:1403,UNSUPPORTED_VERSION:1404},dp.ErrorMessage={APPLICATION_ERROR:"Application error in method handler",CONNECTION_TIMEOUT:"Connection timeout",RESPONSE_TIMEOUT:"Response timeout",RECIPIENT_DISCONNECTED:"Recipient disconnected",RESPONSE_PAYLOAD_TOO_LARGE:"Response payload too large",SEND_FAILED:"Failed to send",UNSUPPORTED_METHOD:"Method not supported at destination",RECIPIENT_NOT_FOUND:"Recipient not found",REQUEST_PAYLOAD_TOO_LARGE:"Request payload too large",UNSUPPORTED_SERVER:"RPC not supported by server",UNSUPPORTED_VERSION:"Unsupported RPC version"};const fp=2e3;function mp(e,t){if(!t)return 0;let n,i;return"bytesReceived"in e?(n=e.bytesReceived,i=t.bytesReceived):"bytesSent"in e&&(n=e.bytesSent,i=t.bytesSent),void 0===n||void 0===i||void 0===e.timestamp||void 0===t.timestamp?0:8*(n-i)*1e3/(e.timestamp-t.timestamp)}const Op=typeof MediaRecorder<"u",gp=Op?MediaRecorder:class{constructor(){throw new Error("MediaRecorder is not available in this environment")}};class Dp extends gp{constructor(e,t){if(!Op)throw new Error("MediaRecorder is not available in this environment");let n,i;super(new MediaStream([e.mediaStreamTrack]),t);const r=()=>{this.removeEventListener("dataavailable",n),this.removeEventListener("stop",r),this.removeEventListener("error",a),null==i||i.close(),i=void 0},a=e=>{null==i||i.error(e),this.removeEventListener("dataavailable",n),this.removeEventListener("stop",r),this.removeEventListener("error",a),i=void 0};this.byteStream=new ReadableStream({start:e=>{i=e,n=t=>El(this,void 0,void 0,function*(){let n;if(t.data.arrayBuffer){const e=yield t.data.arrayBuffer();n=new Uint8Array(e)}else{if(!t.data.byteArray)throw new Error("no data available!");n=t.data.byteArray}void 0===i||e.enqueue(n)}),this.addEventListener("dataavailable",n)},cancel:()=>{r()}}),this.addEventListener("stop",r),this.addEventListener("error",a)}}class vp extends cd{get sender(){return this._sender}set sender(e){this._sender=e}get constraints(){return this._constraints}get hasPreConnectBuffer(){return!!this.localTrackRecorder}constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];super(e,t,arguments.length>4?arguments[4]:void 0),this.manuallyStopped=!1,this._isUpstreamPaused=!1,this.handleTrackMuteEvent=()=>this.debouncedTrackMuteHandler().catch(()=>this.log.debug("track mute bounce got cancelled by an unmute event",this.logContext)),this.debouncedTrackMuteHandler=Gh(()=>El(this,void 0,void 0,function*(){yield this.pauseUpstream()}),5e3),this.handleTrackUnmuteEvent=()=>El(this,void 0,void 0,function*(){this.debouncedTrackMuteHandler.cancel("unmute"),yield this.resumeUpstream()}),this.handleEnded=()=>{this.isInBackground&&(this.reacquireTrack=!0),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),this.emit(qc.Ended,this)},this.reacquireTrack=!1,this.providedByUser=i,this.muteLock=new Ta,this.pauseUpstreamLock=new Ta,this.trackChangeLock=new Ta,this.trackChangeLock.lock().then(t=>El(this,void 0,void 0,function*(){try{yield this.setMediaStreamTrack(e,!0)}finally{t()}})),this._constraints=e.getConstraints(),n&&(this._constraints=n)}get id(){return this._mediaStreamTrack.id}get dimensions(){if(this.kind!==cd.Kind.Video)return;const{width:e,height:t}=this._mediaStreamTrack.getSettings();return e&&t?{width:e,height:t}:void 0}get isUpstreamPaused(){return this._isUpstreamPaused}get isUserProvided(){return this.providedByUser}get mediaStreamTrack(){var e,t;return null!==(t=null===(e=this.processor)||void 0===e?void 0:e.processedTrack)&&void 0!==t?t:this._mediaStreamTrack}get isLocal(){return!0}getSourceTrackSettings(){return this._mediaStreamTrack.getSettings()}setMediaStreamTrack(e,t){return El(this,void 0,void 0,function*(){var n;if(e===this._mediaStreamTrack&&!t)return;let i;if(this._mediaStreamTrack&&(this.attachedElements.forEach(e=>{hd(this._mediaStreamTrack,e)}),this.debouncedTrackMuteHandler.cancel("new-track"),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent)),this.mediaStream=new MediaStream([e]),e&&(e.addEventListener("ended",this.handleEnded),e.addEventListener("mute",this.handleTrackMuteEvent),e.addEventListener("unmute",this.handleTrackUnmuteEvent),this._constraints=e.getConstraints()),this.processor&&e){if(this.log.debug("restarting processor",this.logContext),"unknown"===this.kind)throw TypeError("cannot set processor on track of unknown kind");this.processorElement&&(dd(e,this.processorElement),this.processorElement.muted=!0),yield this.processor.restart({track:e,kind:this.kind,element:this.processorElement}),i=this.processor.processedTrack}this.sender&&"closed"!==(null===(n=this.sender.transport)||void 0===n?void 0:n.state)&&(yield this.sender.replaceTrack(null!=i?i:e)),!this.providedByUser&&this._mediaStreamTrack!==e&&this._mediaStreamTrack.stop(),this._mediaStreamTrack=e,e&&(this._mediaStreamTrack.enabled=!this.isMuted,yield this.resumeUpstream(),this.attachedElements.forEach(t=>{dd(null!=i?i:e,t)}))})}waitForDimensions(){return El(this,arguments,void 0,function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return function*(){var n;if(e.kind===cd.Kind.Audio)throw new Error("cannot get dimensions for audio tracks");"iOS"===(null===(n=id())||void 0===n?void 0:n.os)&&(yield kd(10));const i=Date.now();for(;Date.now()-i<t;){const t=e.dimensions;if(t)return t;yield kd(50)}throw new Wc("unable to get track dimensions after timeout")}()})}setDeviceId(e){return El(this,void 0,void 0,function*(){return!!(this._constraints.deviceId===e&&this._mediaStreamTrack.getSettings().deviceId===Hd(e)||(this._constraints.deviceId=e,this.isMuted))||(yield this.restartTrack(),Hd(e)===this._mediaStreamTrack.getSettings().deviceId)})}getDeviceId(){return El(this,arguments,void 0,function(){var e=this;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function*(){if(e.source===cd.Source.ScreenShare)return;const{deviceId:n,groupId:i}=e._mediaStreamTrack.getSettings(),r=e.kind===cd.Kind.Audio?"audioinput":"videoinput";return t?Th.getInstance().normalizeDeviceId(r,n,i):n}()})}mute(){return El(this,void 0,void 0,function*(){return this.setTrackMuted(!0),this})}unmute(){return El(this,void 0,void 0,function*(){return this.setTrackMuted(!1),this})}replaceTrack(e,t){return El(this,void 0,void 0,function*(){const n=yield this.trackChangeLock.lock();try{if(!this.sender)throw new Wc("unable to replace an unpublished track");let n,i;return"boolean"==typeof t?n=t:void 0!==t&&(n=t.userProvidedTrack,i=t.stopProcessor),this.providedByUser=null==n||n,this.log.debug("replace MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(e),i&&this.processor&&(yield this.internalStopProcessor()),this}finally{n()}})}restart(e){return El(this,void 0,void 0,function*(){this.manuallyStopped=!1;const t=yield this.trackChangeLock.lock();try{e||(e=this._constraints);const{deviceId:t,facingMode:n}=e,i=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["deviceId","facingMode"]);this.log.debug("restarting track with constraints",Object.assign(Object.assign({},this.logContext),{constraints:e}));const r={audio:!1,video:!1};this.kind===cd.Kind.Video?r.video=!t&&!n||{deviceId:t,facingMode:n}:r.audio=!t||Object.assign({deviceId:t},i),this.attachedElements.forEach(e=>{hd(this.mediaStreamTrack,e)}),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.stop();const a=(yield navigator.mediaDevices.getUserMedia(r)).getTracks()[0];return this.kind===cd.Kind.Video&&(yield a.applyConstraints(i)),a.addEventListener("ended",this.handleEnded),this.log.debug("re-acquired MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(a),this._constraints=e,this.emit(qc.Restarted,this),this.manuallyStopped&&(this.log.warn("track was stopped during a restart, stopping restarted track",this.logContext),this.stop()),this}finally{t()}})}setTrackMuted(e){this.log.debug("setting ".concat(this.kind," track ").concat(e?"muted":"unmuted"),this.logContext),(this.isMuted!==e||this._mediaStreamTrack.enabled===e)&&(this.isMuted=e,this._mediaStreamTrack.enabled=!e,this.emit(e?qc.Muted:qc.Unmuted,this))}get needsReAcquisition(){return"live"!==this._mediaStreamTrack.readyState||this._mediaStreamTrack.muted||!this._mediaStreamTrack.enabled||this.reacquireTrack}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return El(this,void 0,void 0,function*(){yield e.handleAppVisibilityChanged.call(this),Pd()&&(this.log.debug("visibility changed, is in Background: ".concat(this.isInBackground),this.logContext),!this.isInBackground&&this.needsReAcquisition&&!this.isUserProvided&&!this.isMuted&&(this.log.debug("track needs to be reacquired, restarting ".concat(this.source),this.logContext),yield this.restart(),this.reacquireTrack=!1))})}stop(){var e;this.manuallyStopped=!0,super.stop(),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),null===(e=this.processor)||void 0===e||e.destroy(),this.processor=void 0}pauseUpstream(){return El(this,void 0,void 0,function*(){var e;const t=yield this.pauseUpstreamLock.lock();try{if(!0===this._isUpstreamPaused)return;if(!this.sender)return void this.log.warn("unable to pause upstream for an unpublished track",this.logContext);this._isUpstreamPaused=!0,this.emit(qc.UpstreamPaused,this);const t=id();if("Safari"===(null==t?void 0:t.name)&&$d(t.version,"12.0")<0)throw new jc("pauseUpstream is not supported on Safari < 12.");"closed"!==(null===(e=this.sender.transport)||void 0===e?void 0:e.state)&&(yield this.sender.replaceTrack(null))}finally{t()}})}resumeUpstream(){return El(this,void 0,void 0,function*(){var e;const t=yield this.pauseUpstreamLock.lock();try{if(!1===this._isUpstreamPaused)return;if(!this.sender)return void this.log.warn("unable to resume upstream for an unpublished track",this.logContext);this._isUpstreamPaused=!1,this.emit(qc.UpstreamResumed,this),"closed"!==(null===(e=this.sender.transport)||void 0===e?void 0:e.state)&&(yield this.sender.replaceTrack(this.mediaStreamTrack))}finally{t()}})}getRTCStatsReport(){return El(this,void 0,void 0,function*(){var e;return null!==(e=this.sender)&&void 0!==e&&e.getStats?yield this.sender.getStats():void 0})}setProcessor(e){return El(this,arguments,void 0,function(e){var t=this;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function*(){var i;const r=yield t.trackChangeLock.lock();try{t.log.debug("setting up processor",t.logContext);const r=document.createElement(t.kind),a={kind:t.kind,track:t._mediaStreamTrack,element:r,audioContext:t.audioContext};if(yield e.init(a),t.log.debug("processor initialized",t.logContext),t.processor&&(yield t.internalStopProcessor()),"unknown"===t.kind)throw TypeError("cannot set processor on track of unknown kind");if(dd(t._mediaStreamTrack,r),r.muted=!0,r.play().catch(e=>{e instanceof DOMException&&"AbortError"===e.name?(t.log.warn("failed to play processor element, retrying",Object.assign(Object.assign({},t.logContext),{error:e})),setTimeout(()=>{r.play().catch(e=>{t.log.error("failed to play processor element",Object.assign(Object.assign({},t.logContext),{err:e}))})},100)):t.log.error("failed to play processor element",Object.assign(Object.assign({},t.logContext),{error:e}))}),t.processor=e,t.processorElement=r,t.processor.processedTrack){for(const e of t.attachedElements)e!==t.processorElement&&n&&(hd(t._mediaStreamTrack,e),dd(t.processor.processedTrack,e));yield null===(i=t.sender)||void 0===i?void 0:i.replaceTrack(t.processor.processedTrack)}t.emit(qc.TrackProcessorUpdate,t.processor)}finally{r()}}()})}getProcessor(){return this.processor}stopProcessor(){return El(this,arguments,void 0,function(){var e=this;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function*(){const n=yield e.trackChangeLock.lock();try{yield e.internalStopProcessor(t)}finally{n()}}()})}internalStopProcessor(){return El(this,arguments,void 0,function(){var e=this;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function*(){var n,i;e.processor&&(e.log.debug("stopping processor",e.logContext),null===(n=e.processor.processedTrack)||void 0===n||n.stop(),yield e.processor.destroy(),e.processor=void 0,t||(null===(i=e.processorElement)||void 0===i||i.remove(),e.processorElement=void 0),yield e._mediaStreamTrack.applyConstraints(e._constraints),yield e.setMediaStreamTrack(e._mediaStreamTrack,!0),e.emit(qc.TrackProcessorUpdate))}()})}startPreConnectBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;if(Op)if(this.localTrackRecorder)this.log.warn("preconnect buffer already started");else{{let e="audio/webm;codecs=opus";MediaRecorder.isTypeSupported(e)||(e="video/mp4"),this.localTrackRecorder=new Dp(this,{mimeType:e})}this.localTrackRecorder.start(e),this.autoStopPreConnectBuffer=setTimeout(()=>{this.log.warn("preconnect buffer timed out, stopping recording automatically",this.logContext),this.stopPreConnectBuffer()},1e4)}else this.log.warn("MediaRecorder is not available, cannot start preconnect buffer",this.logContext)}stopPreConnectBuffer(){clearTimeout(this.autoStopPreConnectBuffer),this.localTrackRecorder&&(this.localTrackRecorder.stop(),this.localTrackRecorder=void 0)}getPreConnectBuffer(){var e;return null===(e=this.localTrackRecorder)||void 0===e?void 0:e.byteStream}getPreConnectBufferMimeType(){var e;return null===(e=this.localTrackRecorder)||void 0===e?void 0:e.mimeType}}class Ep extends vp{get enhancedNoiseCancellation(){return this.isKrispNoiseFilterEnabled}constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;super(e,cd.Kind.Audio,t,n,r),this.stopOnMute=!1,this.isKrispNoiseFilterEnabled=!1,this.monitorSender=()=>El(this,void 0,void 0,function*(){if(!this.sender)return void(this._currentBitrate=0);let e;try{e=yield this.getSenderStats()}catch(e){return void this.log.error("could not get audio sender stats",Object.assign(Object.assign({},this.logContext),{error:e}))}e&&this.prevStats&&(this._currentBitrate=mp(e,this.prevStats)),this.prevStats=e}),this.handleKrispNoiseFilterEnable=()=>{this.isKrispNoiseFilterEnabled=!0,this.log.debug("Krisp noise filter enabled",this.logContext),this.emit(qc.AudioTrackFeatureUpdate,this,gs.TF_ENHANCED_NOISE_CANCELLATION,!0)},this.handleKrispNoiseFilterDisable=()=>{this.isKrispNoiseFilterEnabled=!1,this.log.debug("Krisp noise filter disabled",this.logContext),this.emit(qc.AudioTrackFeatureUpdate,this,gs.TF_ENHANCED_NOISE_CANCELLATION,!1)},this.audioContext=i,this.checkForSilence()}mute(){const e=Object.create(null,{mute:{get:()=>super.mute}});return El(this,void 0,void 0,function*(){const t=yield this.muteLock.lock();try{return this.isMuted?(this.log.debug("Track already muted",this.logContext),this):(this.source===cd.Source.Microphone&&this.stopOnMute&&!this.isUserProvided&&(this.log.debug("stopping mic track",this.logContext),this._mediaStreamTrack.stop()),yield e.mute.call(this),this)}finally{t()}})}unmute(){const e=Object.create(null,{unmute:{get:()=>super.unmute}});return El(this,void 0,void 0,function*(){const t=yield this.muteLock.lock();try{if(!this.isMuted)return this.log.debug("Track already unmuted",this.logContext),this;const t=this._constraints.deviceId&&this._mediaStreamTrack.getSettings().deviceId!==Hd(this._constraints.deviceId);return this.source===cd.Source.Microphone&&(this.stopOnMute||"ended"===this._mediaStreamTrack.readyState||t)&&!this.isUserProvided&&(this.log.debug("reacquiring mic track",this.logContext),yield this.restartTrack()),yield e.unmute.call(this),this}finally{t()}})}restartTrack(e){return El(this,void 0,void 0,function*(){let t;if(e){const n=hh({audio:e});"boolean"!=typeof n.audio&&(t=n.audio)}yield this.restart(t)})}restart(e){const t=Object.create(null,{restart:{get:()=>super.restart}});return El(this,void 0,void 0,function*(){const n=yield t.restart.call(this,e);return this.checkForSilence(),n})}startMonitor(){Rd()&&(this.monitorInterval||(this.monitorInterval=setInterval(()=>{this.monitorSender()},fp)))}setProcessor(e){return El(this,void 0,void 0,function*(){var t;const n=yield this.trackChangeLock.lock();try{if(!Id()&&!this.audioContext)throw Error("Audio context needs to be set on LocalAudioTrack in order to enable processors");this.processor&&(yield this.internalStopProcessor());const n={kind:this.kind,track:this._mediaStreamTrack,audioContext:this.audioContext};this.log.debug("setting up audio processor ".concat(e.name),this.logContext),yield e.init(n),this.processor=e,this.processor.processedTrack&&(yield null===(t=this.sender)||void 0===t?void 0:t.replaceTrack(this.processor.processedTrack),this.processor.processedTrack.addEventListener("enable-lk-krisp-noise-filter",this.handleKrispNoiseFilterEnable),this.processor.processedTrack.addEventListener("disable-lk-krisp-noise-filter",this.handleKrispNoiseFilterDisable)),this.emit(qc.TrackProcessorUpdate,this.processor)}finally{n()}})}setAudioContext(e){this.audioContext=e}getSenderStats(){return El(this,void 0,void 0,function*(){var e;if(null===(e=this.sender)||void 0===e||!e.getStats)return;let t;return(yield this.sender.getStats()).forEach(e=>{"outbound-rtp"===e.type&&(t={type:"audio",streamId:e.id,packetsSent:e.packetsSent,packetsLost:e.packetsLost,bytesSent:e.bytesSent,timestamp:e.timestamp,roundTripTime:e.roundTripTime,jitter:e.jitter})}),t})}checkForSilence(){return El(this,void 0,void 0,function*(){const e=yield function(e){return El(this,arguments,void 0,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return function*(){const n=ph();if(n){const i=n.createAnalyser();i.fftSize=2048;const r=i.frequencyBinCount,a=new Uint8Array(r);n.createMediaStreamSource(new MediaStream([e.mediaStreamTrack])).connect(i),yield kd(t),i.getByteTimeDomainData(a);const o=a.some(e=>128!==e&&0!==e);return n.close(),!o}return!1}()})}(this);return e&&(this.isMuted||this.log.debug("silence detected on local audio track",this.logContext),this.emit(qc.AudioSilenceDetected)),e})}}const Cp=Object.values(vd),bp=Object.values(Ed),kp=Object.values(Cd),Tp=[vd.h180,vd.h360],yp=[Ed.h180,Ed.h360],Ap=["q","h","f"];function Sp(e,t,n,i){var r,a;let o=null==i?void 0:i.videoEncoding;e&&(o=null==i?void 0:i.screenShareEncoding);const s=null==i?void 0:i.simulcast,u=null==i?void 0:i.scalabilityMode,l=null==i?void 0:i.videoCodec;if(!o&&!s&&!u||!t||!n)return[{}];o||(o=function(e,t,n,i){const r=function(e,t,n){if(e)return kp;const i=t>n?t/n:n/t;return Math.abs(i-16/9)<Math.abs(i-4/3)?Cp:bp}(e,t,n);let{encoding:a}=r[0];const o=Math.max(t,n);for(let e=0;e<r.length;e+=1){const t=r[e];if(a=t.encoding,t.width>=o)break}if(i)switch(i){case"av1":case"h265":a=Object.assign({},a),a.maxBitrate=.7*a.maxBitrate;break;case"vp9":a=Object.assign({},a),a.maxBitrate=.85*a.maxBitrate}return a}(e,t,n,l),ml.debug("using video encoding",o));const c=o.maxFramerate,d=new pd(t,n,o.maxBitrate,o.maxFramerate,o.priority);if(u&&Ad(l)){const e=new xp(u),t=[];if(e.spatial>3)throw new Error("unsupported scalabilityMode: ".concat(u));const n=id();if(xd()||Id()||"Chrome"===(null==n?void 0:n.name)&&$d(null==n?void 0:n.version,"113")<0){const i="h"==e.suffix?2:3,r=function(e){return e||(e=id()),"Safari"===(null==e?void 0:e.name)&&$d(e.version,"18.3")>0||"iOS"===(null==e?void 0:e.os)&&!(null==e||!e.osVersion)&&$d(e.osVersion,"18.3")>0}(n);for(let n=0;n<e.spatial;n+=1)t.push({rid:Ap[2-n],maxBitrate:o.maxBitrate/Math.pow(i,n),maxFramerate:d.encoding.maxFramerate,scaleResolutionDownBy:r?Math.pow(2,n):void 0});t[0].scalabilityMode=u}else t.push({maxBitrate:o.maxBitrate,maxFramerate:d.encoding.maxFramerate,scalabilityMode:u});return d.encoding.priority&&(t[0].priority=d.encoding.priority,t[0].networkPriority=d.encoding.priority),ml.debug("using svc encoding",{encodings:t}),t}if(!s)return[o];let h,p=[];if(p=e?null!==(r=wp(null==i?void 0:i.screenShareSimulcastLayers))&&void 0!==r?r:_p(e,d):null!==(a=wp(null==i?void 0:i.videoSimulcastLayers))&&void 0!==a?a:_p(e,d),p.length>0){const e=p[0];p.length>1&&([,h]=p);const i=Math.max(t,n);if(i>=960&&h)return Fp(t,n,[e,h,d],c);if(i>=480)return Fp(t,n,[e,d],c)}return Fp(t,n,[d])}function _p(e,t){if(e)return(e=>[{scaleResolutionDownBy:2,fps:e.encoding.maxFramerate}].map(t=>{var n,i;return new pd(Math.floor(e.width/t.scaleResolutionDownBy),Math.floor(e.height/t.scaleResolutionDownBy),Math.max(15e4,Math.floor(e.encoding.maxBitrate/(Math.pow(t.scaleResolutionDownBy,2)*((null!==(n=e.encoding.maxFramerate)&&void 0!==n?n:30)/(null!==(i=t.fps)&&void 0!==i?i:30))))),t.fps,e.encoding.priority)}))(t);const{width:n,height:i}=t,r=n>i?n/i:i/n;return Math.abs(r-16/9)<Math.abs(r-4/3)?Tp:yp}function Fp(e,t,n,i){const r=[];if(n.forEach((n,a)=>{if(a>=Ap.length)return;const o=Math.min(e,t),s={rid:Ap[a],scaleResolutionDownBy:Math.max(1,o/Math.min(n.width,n.height)),maxBitrate:n.encoding.maxBitrate},u=i&&n.encoding.maxFramerate?Math.min(i,n.encoding.maxFramerate):n.encoding.maxFramerate;u&&(s.maxFramerate=u);const l=_d()||0===a;n.encoding.priority&&l&&(s.priority=n.encoding.priority,s.networkPriority=n.encoding.priority),r.push(s)}),Id()&&"ios"===Md()){let e;r.forEach(t=>{e?t.maxFramerate&&t.maxFramerate>e&&(e=t.maxFramerate):e=t.maxFramerate});let t=!0;r.forEach(n=>{var i;n.maxFramerate!=e&&(t&&(t=!1,ml.info("Simulcast on iOS React-Native requires all encodings to share the same framerate.")),ml.info('Setting framerate of encoding "'.concat(null!==(i=n.rid)&&void 0!==i?i:"",'" to ').concat(e)),n.maxFramerate=e)})}return r}function wp(e){if(e)return e.sort((e,t)=>{const{encoding:n}=e,{encoding:i}=t;return n.maxBitrate>i.maxBitrate?1:n.maxBitrate<i.maxBitrate?-1:n.maxBitrate===i.maxBitrate&&n.maxFramerate&&i.maxFramerate?n.maxFramerate>i.maxFramerate?1:-1:0})}class xp{constructor(e){const t=e.match(/^L(\d)T(\d)(h|_KEY|_KEY_SHIFT){0,1}$/);if(!t)throw new Error("invalid scalability mode");if(this.spatial=parseInt(t[1]),this.temporal=parseInt(t[2]),t.length>3)switch(t[3]){case"h":case"_KEY":case"_KEY_SHIFT":this.suffix=t[3]}}toString(){var e;return"L".concat(this.spatial,"T").concat(this.temporal).concat(null!==(e=this.suffix)&&void 0!==e?e:"")}}class Pp extends vp{get sender(){return this._sender}set sender(e){this._sender=e,this.degradationPreference&&this.setDegradationPreference(this.degradationPreference)}constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3?arguments[3]:void 0;super(e,cd.Kind.Video,t,n,i),this.simulcastCodecs=new Map,this.degradationPreference="balanced",this.isCpuConstrained=!1,this.optimizeForPerformance=!1,this.monitorSender=()=>El(this,void 0,void 0,function*(){if(!this.sender)return void(this._currentBitrate=0);let e;try{e=yield this.getSenderStats()}catch(e){return void this.log.error("could not get video sender stats",Object.assign(Object.assign({},this.logContext),{error:e}))}const t=new Map(e.map(e=>[e.rid,e])),n=e.some(e=>"cpu"===e.qualityLimitationReason);if(n!==this.isCpuConstrained&&(this.isCpuConstrained=n,this.isCpuConstrained&&this.emit(qc.CpuConstrained)),this.prevStats){let e=0;t.forEach((t,n)=>{var i;const r=null===(i=this.prevStats)||void 0===i?void 0:i.get(n);e+=mp(t,r)}),this._currentBitrate=e}this.prevStats=t}),this.senderLock=new Ta}get isSimulcast(){return!!(this.sender&&this.sender.getParameters().encodings.length>1)}startMonitor(e){var t;if(this.signalClient=e,!Rd())return;const n=null===(t=this.sender)||void 0===t?void 0:t.getParameters();n&&(this.encodings=n.encodings),!this.monitorInterval&&(this.monitorInterval=setInterval(()=>{this.monitorSender()},fp))}stop(){this._mediaStreamTrack.getConstraints(),this.simulcastCodecs.forEach(e=>{e.mediaStreamTrack.stop()}),super.stop()}pauseUpstream(){const e=Object.create(null,{pauseUpstream:{get:()=>super.pauseUpstream}});return El(this,void 0,void 0,function*(){var t,n,i,r,a;yield e.pauseUpstream.call(this);try{for(var o,s=!0,u=Cl(this.simulcastCodecs.values());!(t=(o=yield u.next()).done);s=!0)r=o.value,s=!1,yield null===(a=r.sender)||void 0===a?void 0:a.replaceTrack(null)}catch(e){n={error:e}}finally{try{!s&&!t&&(i=u.return)&&(yield i.call(u))}finally{if(n)throw n.error}}})}resumeUpstream(){const e=Object.create(null,{resumeUpstream:{get:()=>super.resumeUpstream}});return El(this,void 0,void 0,function*(){var t,n,i,r,a;yield e.resumeUpstream.call(this);try{for(var o,s=!0,u=Cl(this.simulcastCodecs.values());!(t=(o=yield u.next()).done);s=!0){r=o.value,s=!1;const e=r;yield null===(a=e.sender)||void 0===a?void 0:a.replaceTrack(e.mediaStreamTrack)}}catch(e){n={error:e}}finally{try{!s&&!t&&(i=u.return)&&(yield i.call(u))}finally{if(n)throw n.error}}})}mute(){const e=Object.create(null,{mute:{get:()=>super.mute}});return El(this,void 0,void 0,function*(){const t=yield this.muteLock.lock();try{return this.isMuted?(this.log.debug("Track already muted",this.logContext),this):(this.source===cd.Source.Camera&&!this.isUserProvided&&(this.log.debug("stopping camera track",this.logContext),this._mediaStreamTrack.stop()),yield e.mute.call(this),this)}finally{t()}})}unmute(){const e=Object.create(null,{unmute:{get:()=>super.unmute}});return El(this,void 0,void 0,function*(){const t=yield this.muteLock.lock();try{return this.isMuted?(this.source===cd.Source.Camera&&!this.isUserProvided&&(this.log.debug("reacquiring camera track",this.logContext),yield this.restartTrack()),yield e.unmute.call(this),this):(this.log.debug("Track already unmuted",this.logContext),this)}finally{t()}})}setTrackMuted(e){super.setTrackMuted(e);for(const t of this.simulcastCodecs.values())t.mediaStreamTrack.enabled=!e}getSenderStats(){return El(this,void 0,void 0,function*(){var e;if(null===(e=this.sender)||void 0===e||!e.getStats)return[];const t=[],n=yield this.sender.getStats();return n.forEach(e=>{var i;if("outbound-rtp"===e.type){const r={type:"video",streamId:e.id,frameHeight:e.frameHeight,frameWidth:e.frameWidth,framesPerSecond:e.framesPerSecond,framesSent:e.framesSent,firCount:e.firCount,pliCount:e.pliCount,nackCount:e.nackCount,packetsSent:e.packetsSent,bytesSent:e.bytesSent,qualityLimitationReason:e.qualityLimitationReason,qualityLimitationDurations:e.qualityLimitationDurations,qualityLimitationResolutionChanges:e.qualityLimitationResolutionChanges,rid:null!==(i=e.rid)&&void 0!==i?i:e.id,retransmittedPacketsSent:e.retransmittedPacketsSent,targetBitrate:e.targetBitrate,timestamp:e.timestamp},a=n.get(e.remoteId);a&&(r.jitter=a.jitter,r.packetsLost=a.packetsLost,r.roundTripTime=a.roundTripTime),t.push(r)}}),t.sort((e,t)=>{var n,i;return(null!==(n=t.frameWidth)&&void 0!==n?n:0)-(null!==(i=e.frameWidth)&&void 0!==i?i:0)}),t})}setPublishingQuality(e){const t=[];for(let n=ld.LOW;n<=ld.HIGH;n+=1)t.push(new Bu({quality:n,enabled:n<=e}));this.log.debug("setting publishing quality. max quality ".concat(e),this.logContext),this.setPublishingLayers(Ad(this.codec),t)}restartTrack(e){return El(this,void 0,void 0,function*(){var t,n,i,r,a;let o;if(e){const t=hh({video:e});"boolean"!=typeof t.video&&(o=t.video)}yield this.restart(o),this.isCpuConstrained=!1;try{for(var s,u=!0,l=Cl(this.simulcastCodecs.values());!(t=(s=yield l.next()).done);u=!0){r=s.value,u=!1;const e=r;e.sender&&"closed"!==(null===(a=e.sender.transport)||void 0===a?void 0:a.state)&&(e.mediaStreamTrack=this.mediaStreamTrack.clone(),yield e.sender.replaceTrack(e.mediaStreamTrack))}}catch(e){n={error:e}}finally{try{!u&&!t&&(i=l.return)&&(yield i.call(l))}finally{if(n)throw n.error}}})}setProcessor(e){const t=Object.create(null,{setProcessor:{get:()=>super.setProcessor}});return El(this,arguments,void 0,function(e){var n=this;let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function*(){var r,a,o,s,u,l;if(yield t.setProcessor.call(n,e,i),null!==(u=n.processor)&&void 0!==u&&u.processedTrack)try{for(var c,d=!0,h=Cl(n.simulcastCodecs.values());!(r=(c=yield h.next()).done);d=!0)s=c.value,d=!1,yield null===(l=s.sender)||void 0===l?void 0:l.replaceTrack(n.processor.processedTrack)}catch(e){a={error:e}}finally{try{!d&&!r&&(o=h.return)&&(yield o.call(h))}finally{if(a)throw a.error}}}()})}setDegradationPreference(e){return El(this,void 0,void 0,function*(){if(this.degradationPreference=e,this.sender)try{this.log.debug("setting degradationPreference to ".concat(e),this.logContext);const t=this.sender.getParameters();t.degradationPreference=e,this.sender.setParameters(t)}catch(e){this.log.warn("failed to set degradationPreference",Object.assign({error:e},this.logContext))}})}addSimulcastTrack(e,t){if(this.simulcastCodecs.has(e))return void this.log.error("".concat(e," already added, skipping adding simulcast codec"),this.logContext);const n={codec:e,mediaStreamTrack:this.mediaStreamTrack.clone(),sender:void 0,encodings:t};return this.simulcastCodecs.set(e,n),n}setSimulcastTrackSender(e,t){const n=this.simulcastCodecs.get(e);n&&(n.sender=t,setTimeout(()=>{this.subscribedCodecs&&this.setPublishingCodecs(this.subscribedCodecs)},5e3))}setPublishingCodecs(e){return El(this,void 0,void 0,function*(){var t,n,i,r,a,o,s;if(this.log.debug("setting publishing codecs",Object.assign(Object.assign({},this.logContext),{codecs:e,currentCodec:this.codec})),!this.codec&&e.length>0)return yield this.setPublishingLayers(Ad(e[0].codec),e[0].qualities),[];this.subscribedCodecs=e;const u=[];try{for(t=!0,n=Cl(e);!(r=(i=yield n.next()).done);t=!0){s=i.value,t=!1;const e=s;if(this.codec&&this.codec!==e.codec){const t=this.simulcastCodecs.get(e.codec);if(this.log.debug("try setPublishingCodec for ".concat(e.codec),Object.assign(Object.assign({},this.logContext),{simulcastCodecInfo:t})),t&&t.sender)t.encodings&&(this.log.debug("try setPublishingLayersForSender ".concat(e.codec),this.logContext),yield Rp(t.sender,t.encodings,e.qualities,this.senderLock,Ad(e.codec),this.log,this.logContext));else for(const t of e.qualities)if(t.enabled){u.push(e.codec);break}}else yield this.setPublishingLayers(Ad(e.codec),e.qualities)}}catch(e){a={error:e}}finally{try{!t&&!r&&(o=n.return)&&(yield o.call(n))}finally{if(a)throw a.error}}return u})}setPublishingLayers(e,t){return El(this,void 0,void 0,function*(){this.optimizeForPerformance?this.log.info("skipping setPublishingLayers due to optimized publishing performance",Object.assign(Object.assign({},this.logContext),{qualities:t})):(this.log.debug("setting publishing layers",Object.assign(Object.assign({},this.logContext),{qualities:t})),this.sender&&this.encodings&&(yield Rp(this.sender,this.encodings,t,this.senderLock,e,this.log,this.logContext)))})}prioritizePerformance(){return El(this,void 0,void 0,function*(){if(!this.sender)throw new Error("sender not found");const e=yield this.senderLock.lock();try{this.optimizeForPerformance=!0;const e=this.sender.getParameters();e.encodings=e.encodings.map((e,t)=>{var n;return Object.assign(Object.assign({},e),{active:0===t,scaleResolutionDownBy:Math.max(1,Math.ceil((null!==(n=this.mediaStreamTrack.getSettings().height)&&void 0!==n?n:360)/360)),scalabilityMode:0===t&&Ad(this.codec)?"L1T3":void 0,maxFramerate:0===t?15:0,maxBitrate:0===t?e.maxBitrate:0})}),this.log.debug("setting performance optimised encodings",Object.assign(Object.assign({},this.logContext),{encodings:e.encodings})),this.encodings=e.encodings,yield this.sender.setParameters(e)}catch(e){this.log.error("failed to set performance optimised encodings",Object.assign(Object.assign({},this.logContext),{error:e})),this.optimizeForPerformance=!1}finally{e()}})}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return El(this,void 0,void 0,function*(){yield e.handleAppVisibilityChanged.call(this),Pd()&&this.isInBackground&&this.source===cd.Source.Camera&&(this._mediaStreamTrack.enabled=!1)})}}function Rp(e,t,n,i,r,a,o){return El(this,void 0,void 0,function*(){const s=yield i.lock();a.debug("setPublishingLayersForSender",Object.assign(Object.assign({},o),{sender:e,qualities:n,senderEncodings:t}));try{const i=e.getParameters(),{encodings:s}=i;if(!s)return;if(s.length!==t.length)return void a.warn("cannot set publishing layers, encodings mismatch",Object.assign(Object.assign({},o),{encodings:s,senderEncodings:t}));let u=!1;r&&n.some(e=>e.enabled)&&n.forEach(e=>e.enabled=!0),s.forEach((e,i)=>{var r;let s=null!==(r=e.rid)&&void 0!==r?r:"";""===s&&(s="q");const l=Ip(s),c=n.find(e=>e.quality===l);c&&e.active!==c.enabled&&(u=!0,e.active=c.enabled,a.debug("setting layer ".concat(c.quality," to ").concat(e.active?"enabled":"disabled"),o),_d()&&(c.enabled?(e.scaleResolutionDownBy=t[i].scaleResolutionDownBy,e.maxBitrate=t[i].maxBitrate,e.maxFrameRate=t[i].maxFrameRate):(e.scaleResolutionDownBy=4,e.maxBitrate=10,e.maxFrameRate=2)))}),u&&(i.encodings=s,a.debug("setting encodings",Object.assign(Object.assign({},o),{encodings:i.encodings})),yield e.setParameters(i))}finally{s()}})}function Ip(e){switch(e){case"f":default:return ld.HIGH;case"h":return ld.MEDIUM;case"q":return ld.LOW}}function Qp(e,t,n,i){if(!n)return[new _s({quality:ld.HIGH,width:e,height:t,bitrate:0,ssrc:0})];if(i){const i=n[0].scalabilityMode,r=new xp(i),a=[],o="h"==r.suffix?1.5:2,s="h"==r.suffix?2:3;for(let i=0;i<r.spatial;i+=1)a.push(new _s({quality:Math.min(ld.HIGH,r.spatial-1)-i,width:Math.ceil(e/Math.pow(o,i)),height:Math.ceil(t/Math.pow(o,i)),bitrate:n[0].maxBitrate?Math.ceil(n[0].maxBitrate/Math.pow(s,i)):0,ssrc:0}));return a}return n.map(n=>{var i,r,a;const o=null!==(i=n.scaleResolutionDownBy)&&void 0!==i?i:1;let s=Ip(null!==(r=n.rid)&&void 0!==r?r:"");return new _s({quality:s,width:Math.ceil(e/o),height:Math.ceil(t/o),bitrate:null!==(a=n.maxBitrate)&&void 0!==a?a:0,ssrc:0})})}const Np="_lossy",Bp="_reliable",Mp="leave-reconnect";var Lp,$p,Up,qp;!function(e){e[e.New=0]="New",e[e.Connected=1]="Connected",e[e.Disconnected=2]="Disconnected",e[e.Reconnecting=3]="Reconnecting",e[e.Closed=4]="Closed"}(Lp||(Lp={}));class Xp extends Tl.EventEmitter{get isClosed(){return this._isClosed}get pendingReconnect(){return!!this.reconnectTimeout}constructor(e){var t;super(),this.options=e,this.rtcConfig={},this.peerConnectionTimeout=sp.peerConnectionTimeout,this.fullReconnectOnNext=!1,this.latestRemoteOfferId=0,this.subscriberPrimary=!1,this.pcState=Lp.New,this._isClosed=!0,this.pendingTrackResolvers={},this.reconnectAttempts=0,this.reconnectStart=0,this.attemptingReconnect=!1,this.joinAttempts=0,this.maxJoinAttempts=1,this.shouldFailNext=!1,this.log=ml,this.reliableDataSequence=1,this.reliableMessageBuffer=new Qh,this.reliableReceivedState=new Nh(3e4),this.midToTrackId={},this.isWaitingForNetworkReconnect=!1,this.handleDataChannel=e=>El(this,[e],void 0,function(e){var t=this;let{channel:n}=e;return function*(){if(n){if(n.label===Bp)t.reliableDCSub=n;else{if(n.label!==Np)return;t.lossyDCSub=n}t.log.debug("on data channel ".concat(n.id,", ").concat(n.label),t.logContext),n.onmessage=t.handleDataMessage}}()}),this.handleDataMessage=e=>El(this,void 0,void 0,function*(){var t,n,i,r,a;const o=yield this.dataProcessLock.lock();try{let o;if(e.data instanceof ArrayBuffer)o=e.data;else{if(!(e.data instanceof Blob))return void this.log.error("unsupported data type",Object.assign(Object.assign({},this.logContext),{data:e.data}));o=yield e.data.arrayBuffer()}const s=ws.fromBinary(new Uint8Array(o));if(s.sequence>0&&""!==s.participantSid){const e=this.reliableReceivedState.get(s.participantSid);if(e&&s.sequence<=e)return;this.reliableReceivedState.set(s.participantSid,s.sequence)}if("speaker"===(null===(t=s.value)||void 0===t?void 0:t.case))this.emit(Uc.ActiveSpeakersUpdate,s.value.value.speakers);else if("encryptedPacket"===(null===(n=s.value)||void 0===n?void 0:n.case)){if(!this.e2eeManager)return void this.log.error("Received encrypted packet but E2EE not set up",this.logContext);const e=yield null===(i=this.e2eeManager)||void 0===i?void 0:i.handleEncryptedData(s.value.value.encryptedValue,s.value.value.iv,s.participantIdentity,s.value.value.keyIndex),t=Rs.fromBinary(e.payload),n=new ws({value:t.value,participantIdentity:s.participantIdentity,participantSid:s.participantSid});"user"===(null===(r=n.value)||void 0===r?void 0:r.case)&&Zp(n,n.value.value),this.emit(Uc.DataPacketReceived,n,s.value.value.encryptionType)}else"user"===(null===(a=s.value)||void 0===a?void 0:a.case)&&Zp(s,s.value.value),this.emit(Uc.DataPacketReceived,s,ys.NONE)}finally{o()}}),this.handleDataError=e=>{const t=0===e.currentTarget.maxRetransmits?"lossy":"reliable";if(e instanceof ErrorEvent&&e.error){const{error:n}=e.error;this.log.error("DataChannel error on ".concat(t,": ").concat(e.message),Object.assign(Object.assign({},this.logContext),{error:n}))}else this.log.error("Unknown DataChannel error on ".concat(t),Object.assign(Object.assign({},this.logContext),{event:e}))},this.handleBufferedAmountLow=e=>{const t=0===e.currentTarget.maxRetransmits?xs.LOSSY:xs.RELIABLE;this.updateAndEmitDCBufferStatus(t)},this.handleDisconnect=(e,t)=>{if(this._isClosed)return;this.log.warn("".concat(e," disconnected"),this.logContext),0===this.reconnectAttempts&&(this.reconnectStart=Date.now());const n=Date.now()-this.reconnectStart;let i=this.getNextRetryDelay({elapsedMs:n,retryCount:this.reconnectAttempts});null!==i?(e===Mp&&(i=0),this.log.debug("reconnecting in ".concat(i,"ms"),this.logContext),this.clearReconnectTimeout(),this.token&&this.regionUrlProvider&&this.regionUrlProvider.updateToken(this.token),this.reconnectTimeout=sd.setTimeout(()=>this.attemptReconnect(t).finally(()=>this.reconnectTimeout=void 0),i)):(e=>{this.log.warn("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(e,"ms. giving up"),this.logContext),this.emit(Uc.Disconnected),this.close()})(n)},this.waitForRestarted=()=>new Promise((e,t)=>{this.pcState===Lp.Connected&&e();const n=()=>{this.off(Uc.Disconnected,i),e()},i=()=>{this.off(Uc.Restarted,n),t()};this.once(Uc.Restarted,n),this.once(Uc.Disconnected,i)}),this.updateAndEmitDCBufferStatus=e=>{if(e===xs.RELIABLE){const t=this.dataChannelForKind(e);t&&this.reliableMessageBuffer.alignBufferedAmount(t.bufferedAmount)}const t=this.isBufferStatusLow(e);typeof t<"u"&&t!==this.dcBufferStatus.get(e)&&(this.dcBufferStatus.set(e,t),this.emit(Uc.DCBufferStatusChanged,t,e))},this.isBufferStatusLow=e=>{const t=this.dataChannelForKind(e);if(t)return t.bufferedAmount<=t.bufferedAmountLowThreshold},this.handleBrowserOnLine=()=>El(this,void 0,void 0,function*(){!this.url||!(yield fetch(Kd(this.url),{method:"HEAD"}).then(e=>e.ok).catch(()=>!1))||(this.log.info("detected network reconnected"),(this.client.currentState===xh.RECONNECTING||this.isWaitingForNetworkReconnect&&this.client.currentState===xh.CONNECTED)&&(this.clearReconnectTimeout(),this.attemptReconnect(ms.RR_SIGNAL_DISCONNECTED),this.isWaitingForNetworkReconnect=!1))}),this.handleBrowserOffline=()=>El(this,void 0,void 0,function*(){if(this.url)try{yield Promise.race([fetch(Kd(this.url),{method:"HEAD"}),kd(4e3).then(()=>Promise.reject())])}catch(e){!1===window.navigator.onLine&&(this.log.info("detected network interruption"),this.isWaitingForNetworkReconnect=!0)}}),this.log=Ol(null!==(t=e.loggerName)&&void 0!==t?t:dl.Engine),this.loggerOptions={loggerName:e.loggerName,loggerContextCb:()=>this.logContext},this.client=new Ph(void 0,this.loggerOptions),this.client.signalLatency=this.options.expSignalLatency,this.reconnectPolicy=this.options.reconnectPolicy,this.closingLock=new Ta,this.dataProcessLock=new Ta,this.dcBufferStatus=new Map([[xs.LOSSY,!0],[xs.RELIABLE,!0]]),this.client.onParticipantUpdate=e=>this.emit(Uc.ParticipantUpdate,e),this.client.onConnectionQuality=e=>this.emit(Uc.ConnectionQualityUpdate,e),this.client.onRoomUpdate=e=>this.emit(Uc.RoomUpdate,e),this.client.onSubscriptionError=e=>this.emit(Uc.SubscriptionError,e),this.client.onSubscriptionPermissionUpdate=e=>this.emit(Uc.SubscriptionPermissionUpdate,e),this.client.onSpeakersChanged=e=>this.emit(Uc.SpeakersChanged,e),this.client.onStreamStateUpdate=e=>this.emit(Uc.StreamStateChanged,e),this.client.onRequestResponse=e=>this.emit(Uc.SignalRequestResponse,e)}get logContext(){var e,t,n,i,r,a;return{room:null===(t=null===(e=this.latestJoinResponse)||void 0===e?void 0:e.room)||void 0===t?void 0:t.name,roomID:null===(i=null===(n=this.latestJoinResponse)||void 0===n?void 0:n.room)||void 0===i?void 0:i.sid,participant:null===(a=null===(r=this.latestJoinResponse)||void 0===r?void 0:r.participant)||void 0===a?void 0:a.identity,pID:this.participantSid}}join(e,t,n,i){return El(this,void 0,void 0,function*(){this.url=e,this.token=t,this.signalOpts=n,this.maxJoinAttempts=n.maxRetries;try{this.joinAttempts+=1,this.setupSignalClientCallbacks();const r=yield this.client.join(e,t,n,i);return this._isClosed=!1,this.latestJoinResponse=r,this.subscriberPrimary=r.subscriberPrimary,this.pcManager||(yield this.configure(r)),(!this.subscriberPrimary||r.fastPublish)&&this.negotiate().catch(e=>{ml.error(e,this.logContext)}),this.registerOnLineListener(),this.clientConfiguration=r.clientConfiguration,this.emit(Uc.SignalConnected,r),r}catch(r){if(r instanceof Zc&&r.reason===Qc.ServerUnreachable&&(this.log.warn("Couldn't connect to server, attempt ".concat(this.joinAttempts," of ").concat(this.maxJoinAttempts),this.logContext),this.joinAttempts<this.maxJoinAttempts))return this.join(e,t,n,i);throw r}})}close(){return El(this,void 0,void 0,function*(){const e=yield this.closingLock.lock();if(this.isClosed)e();else try{this._isClosed=!0,this.joinAttempts=0,this.emit(Uc.Closing),this.removeAllListeners(),this.deregisterOnLineListener(),this.clearPendingReconnect(),yield this.cleanupPeerConnections(),yield this.cleanupClient()}finally{e()}})}cleanupPeerConnections(){return El(this,void 0,void 0,function*(){var e;yield null===(e=this.pcManager)||void 0===e?void 0:e.close(),this.pcManager=void 0;const t=e=>{e&&(e.close(),e.onbufferedamountlow=null,e.onclose=null,e.onclosing=null,e.onerror=null,e.onmessage=null,e.onopen=null)};t(this.lossyDC),t(this.lossyDCSub),t(this.reliableDC),t(this.reliableDCSub),this.lossyDC=void 0,this.lossyDCSub=void 0,this.reliableDC=void 0,this.reliableDCSub=void 0,this.reliableMessageBuffer=new Qh,this.reliableDataSequence=1,this.reliableReceivedState.clear()})}cleanupClient(){return El(this,void 0,void 0,function*(){yield this.client.close(),this.client.resetCallbacks()})}addTrack(e){if(this.pendingTrackResolvers[e.cid])throw new Wc("a track with the same ID has already been published");return new Promise((t,n)=>{const i=setTimeout(()=>{delete this.pendingTrackResolvers[e.cid],n(new Zc("publication of local track timed out, no response from server",Qc.Timeout))},1e4);this.pendingTrackResolvers[e.cid]={resolve:e=>{clearTimeout(i),t(e)},reject:()=>{clearTimeout(i),n(new Error("Cancelled publication by calling unpublish"))}},this.client.sendAddTrack(e)})}removeTrack(e){if(e.track&&this.pendingTrackResolvers[e.track.id]){const{reject:t}=this.pendingTrackResolvers[e.track.id];t&&t(),delete this.pendingTrackResolvers[e.track.id]}try{return this.pcManager.removeTrack(e),!0}catch(e){this.log.warn("failed to remove track",Object.assign(Object.assign({},this.logContext),{error:e}))}return!1}updateMuteStatus(e,t){this.client.sendMuteTrack(e,t)}get dataSubscriberReadyState(){var e;return null===(e=this.reliableDCSub)||void 0===e?void 0:e.readyState}getConnectedServerAddress(){return El(this,void 0,void 0,function*(){var e;return null===(e=this.pcManager)||void 0===e?void 0:e.getConnectedAddress()})}setRegionUrlProvider(e){this.regionUrlProvider=e}configure(e){return El(this,void 0,void 0,function*(){var t,n;if(this.pcManager&&this.pcManager.currentState!==up.NEW)return;this.participantSid=null===(t=e.participant)||void 0===t?void 0:t.sid;const i=this.makeRTCConfiguration(e);this.pcManager=new lp(i,this.options.singlePeerConnection?"publisher-only":e.subscriberPrimary?"subscriber-primary":"publisher-primary",this.loggerOptions),this.emit(Uc.TransportsCreated,this.pcManager.publisher,this.pcManager.subscriber),this.pcManager.onIceCandidate=(e,t)=>{this.client.sendIceCandidate(e,t)},this.pcManager.onPublisherOffer=(e,t)=>{this.client.sendOffer(e,t)},this.pcManager.onDataChannel=this.handleDataChannel,this.pcManager.onStateChange=(t,n,i)=>El(this,void 0,void 0,function*(){if(this.log.debug("primary PC state changed ".concat(t),this.logContext),["closed","disconnected","failed"].includes(n)&&(this.publisherConnectionPromise=void 0),t===up.CONNECTED){const t=this.pcState===Lp.New;this.pcState=Lp.Connected,t&&this.emit(Uc.Connected,e)}else t===up.FAILED&&(this.pcState===Lp.Connected||this.pcState===Lp.Reconnecting)&&(this.pcState=Lp.Disconnected,this.handleDisconnect("peerconnection failed","failed"===i?ms.RR_SUBSCRIBER_FAILED:ms.RR_PUBLISHER_FAILED));const r=this.client.isDisconnected||this.client.currentState===xh.RECONNECTING,a=[up.FAILED,up.CLOSING,up.CLOSED].includes(t);r&&a&&!this._isClosed&&this.emit(Uc.Offline)}),this.pcManager.onTrack=e=>{0!==e.streams.length&&this.emit(Uc.MediaTrackAdded,e.track,e.streams[0],e.receiver)},function(e){return void 0!==e&&e>13}(null===(n=e.serverInfo)||void 0===n?void 0:n.protocol)||this.createDataChannels()})}setupSignalClientCallbacks(){this.client.onAnswer=(e,t,n)=>El(this,void 0,void 0,function*(){this.pcManager&&(this.log.debug("received server answer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:e.type,sdp:e.sdp,midToTrackId:n})),this.midToTrackId=n,yield this.pcManager.setPublisherAnswer(e,t))}),this.client.onTrickle=(e,t)=>{this.pcManager&&(this.log.debug("got ICE candidate from peer",Object.assign(Object.assign({},this.logContext),{candidate:e,target:t})),this.pcManager.addIceCandidate(e,t))},this.client.onOffer=(e,t,n)=>El(this,void 0,void 0,function*(){if(this.latestRemoteOfferId=t,!this.pcManager)return;this.midToTrackId=n;const i=yield this.pcManager.createSubscriberAnswerFromOffer(e,t);i&&this.client.sendAnswer(i,t)}),this.client.onLocalTrackPublished=e=>{var t;if(this.log.debug("received trackPublishedResponse",Object.assign(Object.assign({},this.logContext),{cid:e.cid,track:null===(t=e.track)||void 0===t?void 0:t.sid})),!this.pendingTrackResolvers[e.cid])return void this.log.error("missing track resolver for ".concat(e.cid),Object.assign(Object.assign({},this.logContext),{cid:e.cid}));const{resolve:n}=this.pendingTrackResolvers[e.cid];delete this.pendingTrackResolvers[e.cid],n(e.track)},this.client.onLocalTrackUnpublished=e=>{this.emit(Uc.LocalTrackUnpublished,e)},this.client.onLocalTrackSubscribed=e=>{this.emit(Uc.LocalTrackSubscribed,e)},this.client.onTokenRefresh=e=>{var t;this.token=e,null===(t=this.regionUrlProvider)||void 0===t||t.updateToken(e)},this.client.onRemoteMuteChanged=(e,t)=>{this.emit(Uc.RemoteMute,e,t)},this.client.onSubscribedQualityUpdate=e=>{this.emit(Uc.SubscribedQualityUpdate,e)},this.client.onRoomMoved=e=>{var t;this.participantSid=null===(t=e.participant)||void 0===t?void 0:t.sid,this.latestJoinResponse&&(this.latestJoinResponse.room=e.room),this.emit(Uc.RoomMoved,e)},this.client.onMediaSectionsRequirement=e=>{var t,n;const i={direction:"recvonly"};for(let n=0;n<e.numAudios;n++)null===(t=this.pcManager)||void 0===t||t.addPublisherTransceiverOfKind("audio",i);for(let t=0;t<e.numVideos;t++)null===(n=this.pcManager)||void 0===n||n.addPublisherTransceiverOfKind("video",i);this.negotiate()},this.client.onClose=()=>{this.handleDisconnect("signal",ms.RR_SIGNAL_DISCONNECTED)},this.client.onLeave=e=>{switch(this.log.debug("client leave request",Object.assign(Object.assign({},this.logContext),{reason:null==e?void 0:e.reason})),e.regions&&this.regionUrlProvider&&(this.log.debug("updating regions",this.logContext),this.regionUrlProvider.setServerReportedRegions({updatedAtInMs:Date.now(),maxAgeInMs:5e3,regionSettings:e.regions})),e.action){case Su.DISCONNECT:this.emit(Uc.Disconnected,null==e?void 0:e.reason),this.close();break;case Su.RECONNECT:this.fullReconnectOnNext=!0,this.handleDisconnect(Mp);break;case Su.RESUME:this.handleDisconnect(Mp)}}}makeRTCConfiguration(e){var t;const n=Object.assign({},this.rtcConfig);if(!(null===(t=this.signalOpts)||void 0===t)&&t.e2eeEnabled&&(this.log.debug("E2EE - setting up transports with insertable streams",this.logContext),n.encodedInsertableStreams=!0),e.iceServers&&!n.iceServers){const t=[];e.iceServers.forEach(e=>{const n={urls:e.urls};e.username&&(n.username=e.username),e.credential&&(n.credential=e.credential),t.push(n)}),n.iceServers=t}return e.clientConfiguration&&e.clientConfiguration.forceRelay===ps.ENABLED&&(n.iceTransportPolicy="relay"),n.sdpSemantics="unified-plan",n.continualGatheringPolicy="gather_continually",n}createDataChannels(){this.pcManager&&(this.lossyDC&&(this.lossyDC.onmessage=null,this.lossyDC.onerror=null),this.reliableDC&&(this.reliableDC.onmessage=null,this.reliableDC.onerror=null),this.lossyDC=this.pcManager.createPublisherDataChannel(Np,{ordered:!1,maxRetransmits:0}),this.reliableDC=this.pcManager.createPublisherDataChannel(Bp,{ordered:!0}),this.lossyDC.onmessage=this.handleDataMessage,this.reliableDC.onmessage=this.handleDataMessage,this.lossyDC.onerror=this.handleDataError,this.reliableDC.onerror=this.handleDataError,this.lossyDC.bufferedAmountLowThreshold=65535,this.reliableDC.bufferedAmountLowThreshold=65535,this.lossyDC.onbufferedamountlow=this.handleBufferedAmountLow,this.reliableDC.onbufferedamountlow=this.handleBufferedAmountLow)}createSender(e,t,n){return El(this,void 0,void 0,function*(){if(Td())return yield this.createTransceiverRTCRtpSender(e,t,n);if(yd())return this.log.warn("using add-track fallback",this.logContext),yield this.createRTCRtpSender(e.mediaStreamTrack);throw new Vc("Required webRTC APIs not supported on this device")})}createSimulcastSender(e,t,n,i){return El(this,void 0,void 0,function*(){if(Td())return this.createSimulcastTransceiverSender(e,t,n,i);if(yd())return this.log.debug("using add-track fallback",this.logContext),this.createRTCRtpSender(e.mediaStreamTrack);throw new Vc("Cannot stream on this device")})}createTransceiverRTCRtpSender(e,t,n){return El(this,void 0,void 0,function*(){if(!this.pcManager)throw new Vc("publisher is closed");const i=[];e.mediaStream&&i.push(e.mediaStream),rh(e)&&(e.codec=t.videoCodec);const r={direction:"sendonly",streams:i};return n&&(r.sendEncodings=n),(yield this.pcManager.addPublisherTransceiver(e.mediaStreamTrack,r)).sender})}createSimulcastTransceiverSender(e,t,n,i){return El(this,void 0,void 0,function*(){if(!this.pcManager)throw new Vc("publisher is closed");const r={direction:"sendonly"};i&&(r.sendEncodings=i);const a=yield this.pcManager.addPublisherTransceiver(t.mediaStreamTrack,r);if(n.videoCodec)return e.setSimulcastTrackSender(n.videoCodec,a.sender),a.sender})}createRTCRtpSender(e){return El(this,void 0,void 0,function*(){if(!this.pcManager)throw new Vc("publisher is closed");return this.pcManager.addPublisherTrack(e)})}attemptReconnect(e){return El(this,void 0,void 0,function*(){var t,n,i;if(!this._isClosed){if(this.attemptingReconnect)return void ml.warn("already attempting reconnect, returning early",this.logContext);((null===(t=this.clientConfiguration)||void 0===t?void 0:t.resumeConnection)===ps.DISABLED||(null!==(i=null===(n=this.pcManager)||void 0===n?void 0:n.currentState)&&void 0!==i?i:up.NEW)===up.NEW)&&(this.fullReconnectOnNext=!0);try{this.attemptingReconnect=!0,this.fullReconnectOnNext?yield this.restartConnection():yield this.resumeConnection(e),this.clearPendingReconnect(),this.fullReconnectOnNext=!1}catch(e){this.reconnectAttempts+=1;let t=!0;e instanceof Vc?(this.log.debug("received unrecoverable error",Object.assign(Object.assign({},this.logContext),{error:e})),t=!1):e instanceof zp||(this.fullReconnectOnNext=!0),t?this.handleDisconnect("reconnect",ms.RR_UNKNOWN):(this.log.info("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(Date.now()-this.reconnectStart,"ms. giving up"),this.logContext),this.emit(Uc.Disconnected),yield this.close())}finally{this.attemptingReconnect=!1}}})}getNextRetryDelay(e){try{return this.reconnectPolicy.nextRetryDelayInMs(e)}catch(e){this.log.warn("encountered error in reconnect policy",Object.assign(Object.assign({},this.logContext),{error:e}))}return null}restartConnection(e){return El(this,void 0,void 0,function*(){var t,n,i;try{if(!this.url||!this.token)throw new Vc("could not reconnect, url or token not saved");let n;this.log.info("reconnecting, attempt: ".concat(this.reconnectAttempts),this.logContext),this.emit(Uc.Restarting),this.client.isDisconnected||(yield this.client.sendLeave()),yield this.cleanupPeerConnections(),yield this.cleanupClient();try{if(!this.signalOpts)throw this.log.warn("attempted connection restart, without signal options present",this.logContext),new zp;n=yield this.join(null!=e?e:this.url,this.token,this.signalOpts)}catch(e){throw e instanceof Zc&&e.reason===Qc.NotAllowed?new Vc("could not reconnect, token might be expired"):new zp}if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(this.client.setReconnected(),this.emit(Uc.SignalRestarted,n),yield this.waitForPCReconnected(),this.client.currentState!==xh.CONNECTED)throw new zp("Signal connection got severed during reconnect");null===(t=this.regionUrlProvider)||void 0===t||t.resetAttempts(),this.emit(Uc.Restarted)}catch(e){const t=yield null===(n=this.regionUrlProvider)||void 0===n?void 0:n.getNextBestRegionUrl();if(t)return void(yield this.restartConnection(t));throw null===(i=this.regionUrlProvider)||void 0===i||i.resetAttempts(),e}})}resumeConnection(e){return El(this,void 0,void 0,function*(){var t;if(!this.url||!this.token)throw new Vc("could not reconnect, url or token not saved");if(!this.pcManager)throw new Vc("publisher and subscriber connections unset");let n;this.log.info("resuming signal connection, attempt ".concat(this.reconnectAttempts),this.logContext),this.emit(Uc.Resuming);try{this.setupSignalClientCallbacks(),n=yield this.client.reconnect(this.url,this.token,this.participantSid,e)}catch(e){let t="";throw e instanceof Error&&(t=e.message,this.log.error(e.message,Object.assign(Object.assign({},this.logContext),{error:e}))),e instanceof Zc&&e.reason===Qc.NotAllowed?new Vc("could not reconnect, token might be expired"):e instanceof Zc&&e.reason===Qc.LeaveRequest?e:new zp(t)}if(this.emit(Uc.SignalResumed),n){const e=this.makeRTCConfiguration(n);this.pcManager.updateConfiguration(e),this.latestJoinResponse&&(this.latestJoinResponse.serverInfo=n.serverInfo)}else this.log.warn("Did not receive reconnect response",this.logContext);if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(yield this.pcManager.triggerIceRestart(),yield this.waitForPCReconnected(),this.client.currentState!==xh.CONNECTED)throw new zp("Signal connection got severed during reconnect");this.client.setReconnected(),"open"===(null===(t=this.reliableDC)||void 0===t?void 0:t.readyState)&&null===this.reliableDC.id&&this.createDataChannels(),null!=n&&n.lastMessageSeq&&this.resendReliableMessagesForResume(n.lastMessageSeq),this.emit(Uc.Resumed)})}waitForPCInitialConnection(e,t){return El(this,void 0,void 0,function*(){if(!this.pcManager)throw new Vc("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(t,e)})}waitForPCReconnected(){return El(this,void 0,void 0,function*(){this.pcState=Lp.Reconnecting,this.log.debug("waiting for peer connection to reconnect",this.logContext);try{if(yield kd(2e3),!this.pcManager)throw new Vc("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(void 0,this.peerConnectionTimeout),this.pcState=Lp.Connected}catch(e){throw this.pcState=Lp.Disconnected,new Zc("could not establish PC connection, ".concat(e.message),Qc.InternalError)}})}publishRpcResponse(e,t,n,i){return El(this,void 0,void 0,function*(){const r=new ws({destinationIdentities:[e],kind:xs.RELIABLE,value:{case:"rpcResponse",value:new Xs({requestId:t,value:i?{case:"error",value:i.toProto()}:{case:"payload",value:null!=n?n:""}})}});yield this.sendDataPacket(r,xs.RELIABLE)})}publishRpcAck(e,t){return El(this,void 0,void 0,function*(){const n=new ws({destinationIdentities:[e],kind:xs.RELIABLE,value:{case:"rpcAck",value:new qs({requestId:t})}});yield this.sendDataPacket(n,xs.RELIABLE)})}sendDataPacket(e,t){return El(this,void 0,void 0,function*(){if(yield this.ensurePublisherConnected(t),this.e2eeManager&&this.e2eeManager.isDataChannelEncryptionEnabled){const t=function(e){var t,n,i,r,a;if("sipDtmf"!==(null===(t=e.value)||void 0===t?void 0:t.case)&&"metrics"!==(null===(n=e.value)||void 0===n?void 0:n.case)&&"speaker"!==(null===(i=e.value)||void 0===i?void 0:i.case)&&"transcription"!==(null===(r=e.value)||void 0===r?void 0:r.case)&&"encryptedPacket"!==(null===(a=e.value)||void 0===a?void 0:a.case))return new Rs({value:e.value})}(e);if(t){const n=yield this.e2eeManager.encryptData(t.toBinary());e.value={case:"encryptedPacket",value:new Ps({encryptedValue:n.payload,iv:n.iv,keyIndex:n.keyIndex})}}}t===xs.RELIABLE&&(e.sequence=this.reliableDataSequence,this.reliableDataSequence+=1);const n=e.toBinary();yield this.waitForBufferStatusLow(t);const i=this.dataChannelForKind(t);if(i){if(t===xs.RELIABLE&&this.reliableMessageBuffer.push({data:n,sequence:e.sequence}),this.attemptingReconnect)return;i.send(n)}this.updateAndEmitDCBufferStatus(t)})}resendReliableMessagesForResume(e){return El(this,void 0,void 0,function*(){yield this.ensurePublisherConnected(xs.RELIABLE);const t=this.dataChannelForKind(xs.RELIABLE);t&&(this.reliableMessageBuffer.popToSequence(e),this.reliableMessageBuffer.getAll().forEach(e=>{t.send(e.data)})),this.updateAndEmitDCBufferStatus(xs.RELIABLE)})}waitForBufferStatusLow(e){return new Promise((t,n)=>El(this,void 0,void 0,function*(){if(this.isBufferStatusLow(e))t();else{const i=()=>n("Engine closed");for(this.once(Uc.Closing,i);!this.dcBufferStatus.get(e);)yield kd(10);this.off(Uc.Closing,i),t()}}))}ensureDataTransportConnected(e){return El(this,arguments,void 0,function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.subscriberPrimary;return function*(){var i;if(!t.pcManager)throw new Vc("PC manager is closed");const r=n?t.pcManager.subscriber:t.pcManager.publisher,a=n?"Subscriber":"Publisher";if(!r)throw new Zc("".concat(a," connection not set"),Qc.InternalError);let o=!1;!n&&!t.dataChannelForKind(e,n)&&(t.createDataChannels(),o=!0),!o&&!n&&!t.pcManager.publisher.isICEConnected&&"checking"!==t.pcManager.publisher.getICEConnectionState()&&(o=!0),o&&t.negotiate().catch(e=>{ml.error(e,t.logContext)});const s=t.dataChannelForKind(e,n);if("open"===(null==s?void 0:s.readyState))return;const u=(new Date).getTime()+t.peerConnectionTimeout;for(;(new Date).getTime()<u;){if(r.isICEConnected&&"open"===(null===(i=t.dataChannelForKind(e,n))||void 0===i?void 0:i.readyState))return;yield kd(50)}throw new Zc("could not establish ".concat(a," connection, state: ").concat(r.getICEConnectionState()),Qc.InternalError)}()})}ensurePublisherConnected(e){return El(this,void 0,void 0,function*(){this.publisherConnectionPromise||(this.publisherConnectionPromise=this.ensureDataTransportConnected(e,!1)),yield this.publisherConnectionPromise})}verifyTransport(){return!(!this.pcManager||this.pcManager.currentState!==up.CONNECTED||!this.client.ws||this.client.ws.readyState===WebSocket.CLOSED)}negotiate(){return El(this,void 0,void 0,function*(){return new Promise((e,t)=>El(this,void 0,void 0,function*(){if(!this.pcManager)return void t(new Yc("PC manager is closed"));this.pcManager.requirePublisher(),0==this.pcManager.publisher.getTransceivers().length&&!this.lossyDC&&!this.reliableDC&&this.createDataChannels();const n=new AbortController,i=()=>{n.abort(),this.log.debug("engine disconnected while negotiation was ongoing",this.logContext),e()};this.isClosed&&t("cannot negotiate on closed engine"),this.on(Uc.Closing,i),this.pcManager.publisher.once(Hh,e=>{const t=new Map;e.forEach(e=>{const n=e.codec.toLowerCase();(function(e){return md.includes(e)})(n)&&t.set(e.payload,n)}),this.emit(Uc.RTPVideoMapUpdate,t)});try{yield this.pcManager.negotiate(n),e()}catch(e){e instanceof Yc&&(this.fullReconnectOnNext=!0),this.handleDisconnect("negotiation",ms.RR_UNKNOWN),t(e)}finally{this.off(Uc.Closing,i)}}))})}dataChannelForKind(e,t){if(t){if(e===xs.LOSSY)return this.lossyDCSub;if(e===xs.RELIABLE)return this.reliableDCSub}else{if(e===xs.LOSSY)return this.lossyDC;if(e===xs.RELIABLE)return this.reliableDC}}sendSyncState(e,t){var n,i,r,a;if(!this.pcManager)return void this.log.warn("sync state cannot be sent without peer connection setup",this.logContext);const o=this.pcManager.publisher.getLocalDescription(),s=this.pcManager.publisher.getRemoteDescription(),u=null===(n=this.pcManager.subscriber)||void 0===n?void 0:n.getRemoteDescription(),l=null===(i=this.pcManager.subscriber)||void 0===i?void 0:i.getLocalDescription(),c=null===(a=null===(r=this.signalOpts)||void 0===r?void 0:r.autoSubscribe)||void 0===a||a,d=new Array,h=new Array;e.forEach(e=>{e.isDesired!==c&&d.push(e.trackSid),e.isEnabled||h.push(e.trackSid)}),this.client.sendSyncState(new Zu({answer:this.options.singlePeerConnection?s?Ih({sdp:s.sdp,type:s.type}):void 0:l?Ih({sdp:l.sdp,type:l.type}):void 0,offer:this.options.singlePeerConnection?o?Ih({sdp:o.sdp,type:o.type}):void 0:u?Ih({sdp:u.sdp,type:u.type}):void 0,subscription:new bu({trackSids:d,subscribe:!c,participantTracks:[]}),publishTracks:gh(t),dataChannels:this.dataChannelsInfo(),trackSidsDisabled:h,datachannelReceiveStates:this.reliableReceivedState.map((e,t)=>new ju({publisherSid:t,lastSeq:e}))}))}failNext(){this.shouldFailNext=!0}dataChannelsInfo(){const e=[],t=(t,n)=>{void 0!==(null==t?void 0:t.id)&&null!==t.id&&e.push(new Wu({label:t.label,id:t.id,target:n}))};return t(this.dataChannelForKind(xs.LOSSY),su.PUBLISHER),t(this.dataChannelForKind(xs.RELIABLE),su.PUBLISHER),t(this.dataChannelForKind(xs.LOSSY,!0),su.SUBSCRIBER),t(this.dataChannelForKind(xs.RELIABLE,!0),su.SUBSCRIBER),e}clearReconnectTimeout(){this.reconnectTimeout&&sd.clearTimeout(this.reconnectTimeout)}clearPendingReconnect(){this.clearReconnectTimeout(),this.reconnectAttempts=0}registerOnLineListener(){Rd()&&(window.addEventListener("online",this.handleBrowserOnLine),window.addEventListener("offline",this.handleBrowserOffline))}deregisterOnLineListener(){Rd()&&(window.removeEventListener("online",this.handleBrowserOnLine),window.removeEventListener("offline",this.handleBrowserOffline))}getTrackIdForReceiver(e){var t;const n=null===(t=this.pcManager)||void 0===t?void 0:t.getMidForReceiver(e);if(n){const e=Object.entries(this.midToTrackId).find(e=>{let[t]=e;return t===n});if(e)return e[1]}}}class zp extends Error{}function Zp(e,t){const n=e.participantIdentity?e.participantIdentity:t.participantIdentity;e.participantIdentity=n,t.participantIdentity=n;const i=0!==e.destinationIdentities.length?e.destinationIdentities:t.destinationIdentities;e.destinationIdentities=i,t.destinationIdentities=i}class jp{get info(){return this._info}validateBytesReceived(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if("number"==typeof this.totalByteSize&&0!==this.totalByteSize){if(e&&this.bytesReceived<this.totalByteSize)throw new Jc("Not enough chunk(s) received - expected ".concat(this.totalByteSize," bytes of data total, only received ").concat(this.bytesReceived," bytes"),Nc.Incomplete);if(this.bytesReceived>this.totalByteSize)throw new Jc("Extra chunk(s) received - expected ".concat(this.totalByteSize," bytes of data total, received ").concat(this.bytesReceived," bytes"),Nc.LengthExceeded)}}constructor(e,t,n,i){this.reader=t,this.totalByteSize=n,this._info=e,this.bytesReceived=0,this.outOfBandFailureRejectingFuture=i}}class Wp extends jp{handleChunkReceived(e){var t;this.bytesReceived+=e.content.byteLength,this.validateBytesReceived();const n=this.totalByteSize?this.bytesReceived/this.totalByteSize:void 0;null===(t=this.onProgress)||void 0===t||t.call(this,n)}[Symbol.asyncIterator](){const e=this.reader.getReader();let t=new Yd,n=null,i=null;if(this.signal){const e=this.signal;i=()=>{var n;null===(n=t.reject)||void 0===n||n.call(t,e.reason)},e.addEventListener("abort",i),n=e}const r=()=>{e.releaseLock(),n&&i&&n.removeEventListener("abort",i),this.signal=void 0};return{next:()=>El(this,void 0,void 0,function*(){var n,i;try{const{done:r,value:a}=yield Promise.race([e.read(),t.promise,null!==(i=null===(n=this.outOfBandFailureRejectingFuture)||void 0===n?void 0:n.promise)&&void 0!==i?i:new Promise(()=>{})]);return r?(this.validateBytesReceived(!0),{done:!0,value:void 0}):(this.handleChunkReceived(a),{done:!1,value:a.content})}catch(e){throw r(),e}}),return(){return El(this,void 0,void 0,function*(){return r(),{done:!0,value:void 0}})}}}withAbortSignal(e){return this.signal=e,this}readAll(){return El(this,arguments,void 0,function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){var n,i,r,a;let o=new Set;const s=t.signal?e.withAbortSignal(t.signal):e;try{for(var u,l=!0,c=Cl(s);!(n=(u=yield c.next()).done);l=!0){a=u.value,l=!1;const e=a;o.add(e)}}catch(e){i={error:e}}finally{try{!l&&!n&&(r=c.return)&&(yield r.call(c))}finally{if(i)throw i.error}}return Array.from(o)}()})}}class Gp extends jp{constructor(e,t,n,i){super(e,t,n,i),this.receivedChunks=new Map}handleChunkReceived(e){var t;const n=eh(e.chunkIndex),i=this.receivedChunks.get(n);if(i&&i.version>e.version)return;this.receivedChunks.set(n,e),this.bytesReceived+=e.content.byteLength,this.validateBytesReceived();const r=this.totalByteSize?this.bytesReceived/this.totalByteSize:void 0;null===(t=this.onProgress)||void 0===t||t.call(this,r)}[Symbol.asyncIterator](){const e=this.reader.getReader(),t=new TextDecoder("utf-8",{fatal:!0});let n=new Yd,i=null,r=null;if(this.signal){const e=this.signal;r=()=>{var t;null===(t=n.reject)||void 0===t||t.call(n,e.reason)},e.addEventListener("abort",r),i=e}const a=()=>{e.releaseLock(),i&&r&&i.removeEventListener("abort",r),this.signal=void 0};return{next:()=>El(this,void 0,void 0,function*(){var i,r;try{const{done:a,value:o}=yield Promise.race([e.read(),n.promise,null!==(r=null===(i=this.outOfBandFailureRejectingFuture)||void 0===i?void 0:i.promise)&&void 0!==r?r:new Promise(()=>{})]);if(a)return this.validateBytesReceived(!0),{done:!0,value:void 0};{let e;this.handleChunkReceived(o);try{e=t.decode(o.content)}catch(e){throw new Jc("Cannot decode datastream chunk ".concat(o.chunkIndex," as text: ").concat(e),Nc.DecodeFailed)}return{done:!1,value:e}}}catch(e){throw a(),e}}),return(){return El(this,void 0,void 0,function*(){return a(),{done:!0,value:void 0}})}}}withAbortSignal(e){return this.signal=e,this}readAll(){return El(this,arguments,void 0,function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){var n,i,r,a;let o="";const s=t.signal?e.withAbortSignal(t.signal):e;try{for(var u,l=!0,c=Cl(s);!(n=(u=yield c.next()).done);l=!0)a=u.value,l=!1,o+=a}catch(e){i={error:e}}finally{try{!l&&!n&&(r=c.return)&&(yield r.call(c))}finally{if(i)throw i.error}}return o}()})}}class Vp{constructor(){this.log=ml,this.byteStreamControllers=new Map,this.textStreamControllers=new Map,this.byteStreamHandlers=new Map,this.textStreamHandlers=new Map}registerTextStreamHandler(e,t){if(this.textStreamHandlers.has(e))throw new Jc('A text stream handler for topic "'.concat(e,'" has already been set.'),Nc.HandlerAlreadyRegistered);this.textStreamHandlers.set(e,t)}unregisterTextStreamHandler(e){this.textStreamHandlers.delete(e)}registerByteStreamHandler(e,t){if(this.byteStreamHandlers.has(e))throw new Jc('A byte stream handler for topic "'.concat(e,'" has already been set.'),Nc.HandlerAlreadyRegistered);this.byteStreamHandlers.set(e,t)}unregisterByteStreamHandler(e){this.byteStreamHandlers.delete(e)}clearControllers(){this.byteStreamControllers.clear(),this.textStreamControllers.clear()}validateParticipantHasNoActiveDataStreams(e){var t,n,i,r;const a=Array.from(this.textStreamControllers.entries()).filter(t=>t[1].sendingParticipantIdentity===e),o=Array.from(this.byteStreamControllers.entries()).filter(t=>t[1].sendingParticipantIdentity===e);if(a.length>0||o.length>0){const s=new Jc("Participant ".concat(e," unexpectedly disconnected in the middle of sending data"),Nc.AbnormalEnd);for(const[e,i]of o)null===(n=(t=i.outOfBandFailureRejectingFuture).reject)||void 0===n||n.call(t,s),this.byteStreamControllers.delete(e);for(const[e,t]of a)null===(r=(i=t.outOfBandFailureRejectingFuture).reject)||void 0===r||r.call(i,s),this.textStreamControllers.delete(e)}}handleDataStreamPacket(e,t){return El(this,void 0,void 0,function*(){switch(e.value.case){case"streamHeader":return this.handleStreamHeader(e.value.value,e.participantIdentity,t);case"streamChunk":return this.handleStreamChunk(e.value.value,t);case"streamTrailer":return this.handleStreamTrailer(e.value.value,t);default:throw new Error('DataPacket of value "'.concat(e.value.case,'" is not data stream related!'))}})}handleStreamHeader(e,t,n){return El(this,void 0,void 0,function*(){var i;if("byteHeader"===e.contentHeader.case){const r=this.byteStreamHandlers.get(e.topic);if(!r)return void this.log.debug("ignoring incoming byte stream due to no handler for topic",e.topic);let a;const o=new Yd;o.promise.catch(e=>{this.log.error(e)});const s={id:e.streamId,name:null!==(i=e.contentHeader.value.name)&&void 0!==i?i:"unknown",mimeType:e.mimeType,size:e.totalLength?Number(e.totalLength):void 0,topic:e.topic,timestamp:eh(e.timestamp),attributes:e.attributes,encryptionType:n},u=new ReadableStream({start:n=>{if(a=n,this.textStreamControllers.has(e.streamId))throw new Jc("A data stream read is already in progress for a stream with id ".concat(e.streamId,"."),Nc.AlreadyOpened);this.byteStreamControllers.set(e.streamId,{info:s,controller:a,startTime:Date.now(),sendingParticipantIdentity:t,outOfBandFailureRejectingFuture:o})}});r(new Wp(s,u,eh(e.totalLength),o),{identity:t})}else if("textHeader"===e.contentHeader.case){const i=this.textStreamHandlers.get(e.topic);if(!i)return void this.log.debug("ignoring incoming text stream due to no handler for topic",e.topic);let r;const a=new Yd;a.promise.catch(e=>{this.log.error(e)});const o={id:e.streamId,mimeType:e.mimeType,size:e.totalLength?Number(e.totalLength):void 0,topic:e.topic,timestamp:Number(e.timestamp),attributes:e.attributes,encryptionType:n},s=new ReadableStream({start:n=>{if(r=n,this.textStreamControllers.has(e.streamId))throw new Jc("A data stream read is already in progress for a stream with id ".concat(e.streamId,"."),Nc.AlreadyOpened);this.textStreamControllers.set(e.streamId,{info:o,controller:r,startTime:Date.now(),sendingParticipantIdentity:t,outOfBandFailureRejectingFuture:a})}});i(new Gp(o,s,eh(e.totalLength),a),{identity:t})}})}handleStreamChunk(e,t){const n=this.byteStreamControllers.get(e.streamId);n&&(n.info.encryptionType!==t?(n.controller.error(new Jc("Encryption type mismatch for stream ".concat(e.streamId,". Expected ").concat(t,", got ").concat(n.info.encryptionType),Nc.EncryptionTypeMismatch)),this.byteStreamControllers.delete(e.streamId)):e.content.length>0&&n.controller.enqueue(e));const i=this.textStreamControllers.get(e.streamId);i&&(i.info.encryptionType!==t?(i.controller.error(new Jc("Encryption type mismatch for stream ".concat(e.streamId,". Expected ").concat(t,", got ").concat(i.info.encryptionType),Nc.EncryptionTypeMismatch)),this.textStreamControllers.delete(e.streamId)):e.content.length>0&&i.controller.enqueue(e))}handleStreamTrailer(e,t){const n=this.textStreamControllers.get(e.streamId);n&&(n.info.encryptionType!==t?n.controller.error(new Jc("Encryption type mismatch for stream ".concat(e.streamId,". Expected ").concat(t,", got ").concat(n.info.encryptionType),Nc.EncryptionTypeMismatch)):(n.info.attributes=Object.assign(Object.assign({},n.info.attributes),e.attributes),n.controller.close(),this.textStreamControllers.delete(e.streamId)));const i=this.byteStreamControllers.get(e.streamId);i&&(i.info.encryptionType!==t?i.controller.error(new Jc("Encryption type mismatch for stream ".concat(e.streamId,". Expected ").concat(t,", got ").concat(i.info.encryptionType),Nc.EncryptionTypeMismatch)):(i.info.attributes=Object.assign(Object.assign({},i.info.attributes),e.attributes),i.controller.close()),this.byteStreamControllers.delete(e.streamId))}}class Yp{constructor(e,t,n){this.writableStream=e,this.defaultWriter=e.getWriter(),this.onClose=n,this.info=t}write(e){return this.defaultWriter.write(e)}close(){return El(this,void 0,void 0,function*(){var e;yield this.defaultWriter.close(),this.defaultWriter.releaseLock(),null===(e=this.onClose)||void 0===e||e.call(this)})}}class Hp extends Yp{}class Kp extends Yp{}class Jp{constructor(e,t){this.engine=e,this.log=t}setupEngine(e){this.engine=e}sendText(e,t){return El(this,void 0,void 0,function*(){var n;const i=crypto.randomUUID(),r=(new TextEncoder).encode(e).byteLength,a=null===(n=null==t?void 0:t.attachments)||void 0===n?void 0:n.map(()=>crypto.randomUUID()),o=new Array(a?a.length+1:1).fill(0),s=(e,n)=>{var i;o[n]=e;const r=o.reduce((e,t)=>e+t,0);null===(i=null==t?void 0:t.onProgress)||void 0===i||i.call(t,r)},u=yield this.streamText({streamId:i,totalSize:r,destinationIdentities:null==t?void 0:t.destinationIdentities,topic:null==t?void 0:t.topic,attachedStreamIds:a,attributes:null==t?void 0:t.attributes});return yield u.write(e),s(1,0),yield u.close(),null!=t&&t.attachments&&a&&(yield Promise.all(t.attachments.map((e,n)=>El(this,void 0,void 0,function*(){return this._sendFile(a[n],e,{topic:t.topic,mimeType:e.type,onProgress:e=>{s(e,n+1)}})})))),u.info})}streamText(e){return El(this,void 0,void 0,function*(){var t,n,i;const r=null!==(t=null==e?void 0:e.streamId)&&void 0!==t?t:crypto.randomUUID(),a={id:r,mimeType:"text/plain",timestamp:Date.now(),topic:null!==(n=null==e?void 0:e.topic)&&void 0!==n?n:"",size:null==e?void 0:e.totalSize,attributes:null==e?void 0:e.attributes,encryptionType:null!==(i=this.engine.e2eeManager)&&void 0!==i&&i.isDataChannelEncryptionEnabled?ys.GCM:ys.NONE},o=new iu({streamId:r,mimeType:a.mimeType,topic:a.topic,timestamp:th(a.timestamp),totalLength:th(null==e?void 0:e.totalSize),attributes:a.attributes,contentHeader:{case:"textHeader",value:new tu({version:null==e?void 0:e.version,attachedStreamIds:null==e?void 0:e.attachedStreamIds,replyToStreamId:null==e?void 0:e.replyToStreamId,operationType:"update"===(null==e?void 0:e.type)?eu.UPDATE:eu.CREATE})}}),s=null==e?void 0:e.destinationIdentities,u=new ws({destinationIdentities:s,value:{case:"streamHeader",value:o}});yield this.engine.sendDataPacket(u,xs.RELIABLE);let l=0;const c=this.engine,d=new WritableStream({write(e){return El(this,void 0,void 0,function*(){for(const t of function(e){const t=[];let n=(new TextEncoder).encode(e);for(;n.length>15e3;){let e=15e3;for(;e>0;){const t=n[e];if(void 0!==t&&128!=(192&t))break;e--}t.push(n.slice(0,e)),n=n.slice(e)}return n.length>0&&t.push(n),t}(e)){const e=new ru({content:t,streamId:r,chunkIndex:th(l)}),n=new ws({destinationIdentities:s,value:{case:"streamChunk",value:e}});yield c.sendDataPacket(n,xs.RELIABLE),l+=1}})},close(){return El(this,void 0,void 0,function*(){const e=new au({streamId:r}),t=new ws({destinationIdentities:s,value:{case:"streamTrailer",value:e}});yield c.sendDataPacket(t,xs.RELIABLE)})},abort(e){console.log("Sink error:",e)}});let h=()=>El(this,void 0,void 0,function*(){yield p.close()});c.once(Uc.Closing,h);const p=new Hp(d,a,()=>this.engine.off(Uc.Closing,h));return p})}sendFile(e,t){return El(this,void 0,void 0,function*(){const n=crypto.randomUUID();return yield this._sendFile(n,e,t),{id:n}})}_sendFile(e,t,n){return El(this,void 0,void 0,function*(){var i;const r=yield this.streamBytes({streamId:e,totalSize:t.size,name:t.name,mimeType:null!==(i=null==n?void 0:n.mimeType)&&void 0!==i?i:t.type,topic:null==n?void 0:n.topic,destinationIdentities:null==n?void 0:n.destinationIdentities}),a=t.stream().getReader();for(;;){const{done:e,value:t}=yield a.read();if(e)break;yield r.write(t)}return yield r.close(),r.info})}streamBytes(e){return El(this,void 0,void 0,function*(){var t,n,i,r,a,o;const s=null!==(t=null==e?void 0:e.streamId)&&void 0!==t?t:crypto.randomUUID(),u=null==e?void 0:e.destinationIdentities,l={id:s,mimeType:null!==(n=null==e?void 0:e.mimeType)&&void 0!==n?n:"application/octet-stream",topic:null!==(i=null==e?void 0:e.topic)&&void 0!==i?i:"",timestamp:Date.now(),attributes:null==e?void 0:e.attributes,size:null==e?void 0:e.totalSize,name:null!==(r=null==e?void 0:e.name)&&void 0!==r?r:"unknown",encryptionType:null!==(a=this.engine.e2eeManager)&&void 0!==a&&a.isDataChannelEncryptionEnabled?ys.GCM:ys.NONE},c=new iu({totalLength:th(null!==(o=l.size)&&void 0!==o?o:0),mimeType:l.mimeType,streamId:s,topic:l.topic,timestamp:th(Date.now()),attributes:l.attributes,contentHeader:{case:"byteHeader",value:new nu({name:l.name})}}),d=new ws({destinationIdentities:u,value:{case:"streamHeader",value:c}});yield this.engine.sendDataPacket(d,xs.RELIABLE);let h=0;const p=new Ta,f=this.engine,m=this.log,O=new WritableStream({write(e){return El(this,void 0,void 0,function*(){const t=yield p.lock();let n=0;try{for(;n<e.byteLength;){const t=e.slice(n,n+15e3),i=new ws({destinationIdentities:u,value:{case:"streamChunk",value:new ru({content:t,streamId:s,chunkIndex:th(h)})}});yield f.sendDataPacket(i,xs.RELIABLE),h+=1,n+=t.byteLength}}finally{t()}})},close(){return El(this,void 0,void 0,function*(){const e=new au({streamId:s}),t=new ws({destinationIdentities:u,value:{case:"streamTrailer",value:e}});yield f.sendDataPacket(t,xs.RELIABLE)})},abort(e){m.error("Sink error:",e)}});return new Kp(O,l)})}}class ef extends cd{constructor(e,t,n,i,r){super(e,n,r),this.sid=t,this.receiver=i}get isLocal(){return!1}setMuted(e){this.isMuted!==e&&(this.isMuted=e,this._mediaStreamTrack.enabled=!e,this.emit(e?qc.Muted:qc.Unmuted,this))}setMediaStream(e){this.mediaStream=e;const t=n=>{n.track===this._mediaStreamTrack&&(e.removeEventListener("removetrack",t),this.receiver&&"playoutDelayHint"in this.receiver&&(this.receiver.playoutDelayHint=void 0),this.receiver=void 0,this._currentBitrate=0,this.emit(qc.Ended,this))};e.addEventListener("removetrack",t)}start(){this.startMonitor(),super.enable()}stop(){this.stopMonitor(),super.disable()}getRTCStatsReport(){return El(this,void 0,void 0,function*(){var e;return null!==(e=this.receiver)&&void 0!==e&&e.getStats?yield this.receiver.getStats():void 0})}setPlayoutDelay(e){this.receiver?"playoutDelayHint"in this.receiver?this.receiver.playoutDelayHint=e:this.log.warn("Playout delay not supported in this browser"):this.log.warn("Cannot set playout delay, track already ended")}getPlayoutDelay(){if(this.receiver){if("playoutDelayHint"in this.receiver)return this.receiver.playoutDelayHint;this.log.warn("Playout delay not supported in this browser")}else this.log.warn("Cannot get playout delay, track already ended");return 0}startMonitor(){this.monitorInterval||(this.monitorInterval=setInterval(()=>this.monitorReceiver(),fp)),typeof RTCRtpReceiver<"u"&&"getSynchronizationSources"in RTCRtpReceiver&&this.registerTimeSyncUpdate()}registerTimeSyncUpdate(){const e=()=>{var t;this.timeSyncHandle=requestAnimationFrame(()=>e());const n=null===(t=this.receiver)||void 0===t?void 0:t.getSynchronizationSources()[0];if(n){const{timestamp:e,rtpTimestamp:t}=n;t&&this.rtpTimestamp!==t&&(this.emit(qc.TimeSyncUpdate,{timestamp:e,rtpTimestamp:t}),this.rtpTimestamp=t)}};e()}}class tf extends ef{constructor(e,t,n,i,r,a){super(e,t,cd.Kind.Audio,n,a),this.monitorReceiver=()=>El(this,void 0,void 0,function*(){if(!this.receiver)return void(this._currentBitrate=0);const e=yield this.getReceiverStats();e&&this.prevStats&&this.receiver&&(this._currentBitrate=mp(e,this.prevStats)),this.prevStats=e}),this.audioContext=i,this.webAudioPluginNodes=[],r&&(this.sinkId=r.deviceId)}setVolume(e){var t;for(const n of this.attachedElements)this.audioContext?null===(t=this.gainNode)||void 0===t||t.gain.setTargetAtTime(e,0,.1):n.volume=e;Id()&&this._mediaStreamTrack._setVolume(e),this.elementVolume=e}getVolume(){if(this.elementVolume)return this.elementVolume;if(Id())return 1;let e=0;return this.attachedElements.forEach(t=>{t.volume>e&&(e=t.volume)}),e}setSinkId(e){return El(this,void 0,void 0,function*(){this.sinkId=e,yield Promise.all(this.attachedElements.map(t=>{if(Sd(t))return t.setSinkId(e)}))})}attach(e){const t=0===this.attachedElements.length;return e?super.attach(e):e=super.attach(),this.sinkId&&Sd(e)&&e.setSinkId(this.sinkId).catch(e=>{this.log.error("Failed to set sink id on remote audio track",e,this.logContext)}),this.audioContext&&t&&(this.log.debug("using audio context mapping",this.logContext),this.connectWebAudio(this.audioContext,e),e.volume=0,e.muted=!0),this.elementVolume&&this.setVolume(this.elementVolume),e}detach(e){let t;return e?(t=super.detach(e),this.audioContext&&(this.attachedElements.length>0?this.connectWebAudio(this.audioContext,this.attachedElements[0]):this.disconnectWebAudio())):(t=super.detach(),this.disconnectWebAudio()),t}setAudioContext(e){this.audioContext=e,e&&this.attachedElements.length>0?this.connectWebAudio(e,this.attachedElements[0]):e||this.disconnectWebAudio()}setWebAudioPlugins(e){this.webAudioPluginNodes=e,this.attachedElements.length>0&&this.audioContext&&this.connectWebAudio(this.audioContext,this.attachedElements[0])}connectWebAudio(e,t){this.disconnectWebAudio(),this.sourceNode=e.createMediaStreamSource(t.srcObject);let n=this.sourceNode;this.webAudioPluginNodes.forEach(e=>{n.connect(e),n=e}),this.gainNode=e.createGain(),n.connect(this.gainNode),this.gainNode.connect(e.destination),this.elementVolume&&this.gainNode.gain.setTargetAtTime(this.elementVolume,0,.1),"running"!==e.state&&e.resume().then(()=>{"running"!==e.state&&this.emit(qc.AudioPlaybackFailed,new Error("Audio Context couldn't be started automatically"))}).catch(e=>{this.emit(qc.AudioPlaybackFailed,e)})}disconnectWebAudio(){var e,t;null===(e=this.gainNode)||void 0===e||e.disconnect(),null===(t=this.sourceNode)||void 0===t||t.disconnect(),this.gainNode=void 0,this.sourceNode=void 0}getReceiverStats(){return El(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;let e;return(yield this.receiver.getStats()).forEach(t=>{"inbound-rtp"===t.type&&(e={type:"audio",streamId:t.id,timestamp:t.timestamp,jitter:t.jitter,bytesReceived:t.bytesReceived,concealedSamples:t.concealedSamples,concealmentEvents:t.concealmentEvents,silentConcealedSamples:t.silentConcealedSamples,silentConcealmentEvents:t.silentConcealmentEvents,totalAudioEnergy:t.totalAudioEnergy,totalSamplesDuration:t.totalSamplesDuration})}),e})}}class nf extends ef{constructor(e,t,n,i,r){super(e,t,cd.Kind.Video,n,r),this.elementInfos=[],this.monitorReceiver=()=>El(this,void 0,void 0,function*(){if(!this.receiver)return void(this._currentBitrate=0);const e=yield this.getReceiverStats();e&&this.prevStats&&this.receiver&&(this._currentBitrate=mp(e,this.prevStats)),this.prevStats=e}),this.debouncedHandleResize=Gh(()=>{this.updateDimensions()},100),this.adaptiveStreamSettings=i}get isAdaptiveStream(){return void 0!==this.adaptiveStreamSettings}setStreamState(e){super.setStreamState(e),this.log.debug("setStreamState",e),this.isAdaptiveStream&&e===cd.StreamState.Active&&this.updateVisibility()}get mediaStreamTrack(){return this._mediaStreamTrack}setMuted(e){super.setMuted(e),this.attachedElements.forEach(t=>{e?hd(this._mediaStreamTrack,t):dd(this._mediaStreamTrack,t)})}attach(e){if(e?super.attach(e):e=super.attach(),this.adaptiveStreamSettings&&void 0===this.elementInfos.find(t=>t.element===e)){const t=new rf(e);this.observeElementInfo(t)}return e}observeElementInfo(e){this.adaptiveStreamSettings&&void 0===this.elementInfos.find(t=>t===e)?(e.handleResize=()=>{this.debouncedHandleResize()},e.handleVisibilityChanged=()=>{this.updateVisibility()},this.elementInfos.push(e),e.observe(),this.debouncedHandleResize(),this.updateVisibility()):this.log.warn("visibility resize observer not triggered",this.logContext)}stopObservingElementInfo(e){if(!this.isAdaptiveStream)return void this.log.warn("stopObservingElementInfo ignored",this.logContext);const t=this.elementInfos.filter(t=>t===e);for(const e of t)e.stopObserving();this.elementInfos=this.elementInfos.filter(t=>t!==e),this.updateVisibility(),this.debouncedHandleResize()}detach(e){let t=[];if(e)return this.stopObservingElement(e),super.detach(e);t=super.detach();for(const e of t)this.stopObservingElement(e);return t}getDecoderImplementation(){var e;return null===(e=this.prevStats)||void 0===e?void 0:e.decoderImplementation}getReceiverStats(){return El(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;const e=yield this.receiver.getStats();let t,n="",i=new Map;return e.forEach(e=>{"inbound-rtp"===e.type?(n=e.codecId,t={type:"video",streamId:e.id,framesDecoded:e.framesDecoded,framesDropped:e.framesDropped,framesReceived:e.framesReceived,packetsReceived:e.packetsReceived,packetsLost:e.packetsLost,frameWidth:e.frameWidth,frameHeight:e.frameHeight,pliCount:e.pliCount,firCount:e.firCount,nackCount:e.nackCount,jitter:e.jitter,timestamp:e.timestamp,bytesReceived:e.bytesReceived,decoderImplementation:e.decoderImplementation}):"codec"===e.type&&i.set(e.id,e)}),t&&""!==n&&i.get(n)&&(t.mimeType=i.get(n).mimeType),t})}stopObservingElement(e){const t=this.elementInfos.filter(t=>t.element===e);for(const e of t)this.stopObservingElementInfo(e)}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return El(this,void 0,void 0,function*(){yield e.handleAppVisibilityChanged.call(this),this.isAdaptiveStream&&this.updateVisibility()})}updateVisibility(e){var t,n;const i=this.elementInfos.reduce((e,t)=>Math.max(e,t.visibilityChangedAt||0),0),r=!(null!==(n=null===(t=this.adaptiveStreamSettings)||void 0===t?void 0:t.pauseVideoInBackground)&&void 0!==n&&!n)&&this.isInBackground,a=this.elementInfos.some(e=>e.pictureInPicture),o=this.elementInfos.some(e=>e.visible)&&!r||a;if(this.lastVisible!==o||e){if(!o&&Date.now()-i<100)return void sd.setTimeout(()=>{this.updateVisibility()},100);this.lastVisible=o,this.emit(qc.VisibilityChanged,o,this)}}updateDimensions(){var e,t;let n=0,i=0;const r=this.getPixelDensity();for(const e of this.elementInfos){const t=e.width()*r,a=e.height()*r;t+a>n+i&&(n=t,i=a)}(null===(e=this.lastDimensions)||void 0===e?void 0:e.width)===n&&(null===(t=this.lastDimensions)||void 0===t?void 0:t.height)===i||(this.lastDimensions={width:n,height:i},this.emit(qc.VideoDimensionsChanged,this.lastDimensions,this))}getPixelDensity(){var e;const t=null===(e=this.adaptiveStreamSettings)||void 0===e?void 0:e.pixelDensity;return"screen"===t?Ld():t||(Ld()>2?2:1)}}class rf{get visible(){return this.isPiP||this.isIntersecting}get pictureInPicture(){return this.isPiP}constructor(e,t){this.onVisibilityChanged=e=>{var t;const{target:n,isIntersecting:i}=e;n===this.element&&(this.isIntersecting=i,this.isPiP=af(this.element),this.visibilityChangedAt=Date.now(),null===(t=this.handleVisibilityChanged)||void 0===t||t.call(this))},this.onEnterPiP=()=>{var e,t,n;null===(t=null===(e=window.documentPictureInPicture)||void 0===e?void 0:e.window)||void 0===t||t.addEventListener("pagehide",this.onLeavePiP),this.isPiP=af(this.element),null===(n=this.handleVisibilityChanged)||void 0===n||n.call(this)},this.onLeavePiP=()=>{var e;this.isPiP=af(this.element),null===(e=this.handleVisibilityChanged)||void 0===e||e.call(this)},this.element=e,this.isIntersecting=null!=t?t:of(e),this.isPiP=Rd()&&af(e),this.visibilityChangedAt=0}width(){return this.element.clientWidth}height(){return this.element.clientHeight}observe(){var e,t,n;this.isIntersecting=of(this.element),this.isPiP=af(this.element),this.element.handleResize=()=>{var e;null===(e=this.handleResize)||void 0===e||e.call(this)},this.element.handleVisibilityChanged=this.onVisibilityChanged,jd().observe(this.element),zd().observe(this.element),this.element.addEventListener("enterpictureinpicture",this.onEnterPiP),this.element.addEventListener("leavepictureinpicture",this.onLeavePiP),null===(e=window.documentPictureInPicture)||void 0===e||e.addEventListener("enter",this.onEnterPiP),null===(n=null===(t=window.documentPictureInPicture)||void 0===t?void 0:t.window)||void 0===n||n.addEventListener("pagehide",this.onLeavePiP)}stopObserving(){var e,t,n,i,r;null===(e=jd())||void 0===e||e.unobserve(this.element),null===(t=zd())||void 0===t||t.unobserve(this.element),this.element.removeEventListener("enterpictureinpicture",this.onEnterPiP),this.element.removeEventListener("leavepictureinpicture",this.onLeavePiP),null===(n=window.documentPictureInPicture)||void 0===n||n.removeEventListener("enter",this.onEnterPiP),null===(r=null===(i=window.documentPictureInPicture)||void 0===i?void 0:i.window)||void 0===r||r.removeEventListener("pagehide",this.onLeavePiP)}}function af(e){var t,n;return document.pictureInPictureElement===e||!(null===(t=window.documentPictureInPicture)||void 0===t||!t.window)&&of(e,null===(n=window.documentPictureInPicture)||void 0===n?void 0:n.window)}function of(e,t){const n=t||window;let i=e.offsetTop,r=e.offsetLeft;const a=e.offsetWidth,o=e.offsetHeight,{hidden:s}=e,{display:u}=getComputedStyle(e);for(;e.offsetParent;)i+=(e=e.offsetParent).offsetTop,r+=e.offsetLeft;return i<n.pageYOffset+n.innerHeight&&r<n.pageXOffset+n.innerWidth&&i+o>n.pageYOffset&&r+a>n.pageXOffset&&!s&&"none"!==u}class sf extends Tl.EventEmitter{constructor(e,t,n,i){var r;super(),this.metadataMuted=!1,this.encryption=ys.NONE,this.log=ml,this.handleMuted=()=>{this.emit(qc.Muted)},this.handleUnmuted=()=>{this.emit(qc.Unmuted)},this.log=Ol(null!==(r=null==i?void 0:i.loggerName)&&void 0!==r?r:dl.Publication),this.loggerContextCb=this.loggerContextCb,this.setMaxListeners(100),this.kind=e,this.trackSid=t,this.trackName=n,this.source=cd.Source.Unknown}setTrack(e){this.track&&(this.track.off(qc.Muted,this.handleMuted),this.track.off(qc.Unmuted,this.handleUnmuted)),this.track=e,e&&(e.on(qc.Muted,this.handleMuted),e.on(qc.Unmuted,this.handleUnmuted))}get logContext(){var e;return Object.assign(Object.assign({},null===(e=this.loggerContextCb)||void 0===e?void 0:e.call(this)),Dh(this))}get isMuted(){return this.metadataMuted}get isEnabled(){return!0}get isSubscribed(){return void 0!==this.track}get isEncrypted(){return this.encryption!==ys.NONE}get audioTrack(){if(ih(this.track))return this.track}get videoTrack(){if(rh(this.track))return this.track}updateInfo(e){this.trackSid=e.sid,this.trackName=e.name,this.source=cd.sourceFromProto(e.source),this.mimeType=e.mimeType,this.kind===cd.Kind.Video&&e.width>0&&(this.dimensions={width:e.width,height:e.height},this.simulcasted=e.simulcast),this.encryption=e.encryption,this.trackInfo=e,this.log.debug("update publication info",Object.assign(Object.assign({},this.logContext),{info:e}))}}!function(e){var t;(t=e.SubscriptionStatus||(e.SubscriptionStatus={})).Desired="desired",t.Subscribed="subscribed",t.Unsubscribed="unsubscribed",function(e){e.Allowed="allowed",e.NotAllowed="not_allowed"}(e.PermissionStatus||(e.PermissionStatus={}))}(sf||(sf={}));class uf extends sf{get isUpstreamPaused(){var e;return null===(e=this.track)||void 0===e?void 0:e.isUpstreamPaused}constructor(e,t,n,i){super(e,t.sid,t.name,i),this.track=void 0,this.handleTrackEnded=()=>{this.emit(qc.Ended)},this.handleCpuConstrained=()=>{this.track&&rh(this.track)&&this.emit(qc.CpuConstrained,this.track)},this.updateInfo(t),this.setTrack(n)}setTrack(e){this.track&&(this.track.off(qc.Ended,this.handleTrackEnded),this.track.off(qc.CpuConstrained,this.handleCpuConstrained)),super.setTrack(e),e&&(e.on(qc.Ended,this.handleTrackEnded),e.on(qc.CpuConstrained,this.handleCpuConstrained))}get isMuted(){return this.track?this.track.isMuted:super.isMuted}get audioTrack(){return super.audioTrack}get videoTrack(){return super.videoTrack}get isLocal(){return!0}mute(){return El(this,void 0,void 0,function*(){var e;return null===(e=this.track)||void 0===e?void 0:e.mute()})}unmute(){return El(this,void 0,void 0,function*(){var e;return null===(e=this.track)||void 0===e?void 0:e.unmute()})}pauseUpstream(){return El(this,void 0,void 0,function*(){var e;yield null===(e=this.track)||void 0===e?void 0:e.pauseUpstream()})}resumeUpstream(){return El(this,void 0,void 0,function*(){var e;yield null===(e=this.track)||void 0===e?void 0:e.resumeUpstream()})}getTrackFeatures(){var e;if(ih(this.track)){const t=this.track.getSourceTrackSettings(),n=new Set;return t.autoGainControl&&n.add(gs.TF_AUTO_GAIN_CONTROL),t.echoCancellation&&n.add(gs.TF_ECHO_CANCELLATION),t.noiseSuppression&&n.add(gs.TF_NOISE_SUPPRESSION),t.channelCount&&t.channelCount>1&&n.add(gs.TF_STEREO),!(null===(e=this.options)||void 0===e)&&e.dtx||n.add(gs.TF_NO_DTX),this.track.enhancedNoiseCancellation&&n.add(gs.TF_ENHANCED_NOISE_CANCELLATION),Array.from(n.values())}return[]}}function lf(e,t){return El(this,void 0,void 0,function*(){null!=e||(e={});let n=!1;const{audioProcessor:i,videoProcessor:r,optionsWithoutProcessor:a}=vh(e);let o=a.audio,s=a.video;if(i&&"object"==typeof a.audio&&(a.audio.processor=i),r&&"object"==typeof a.video&&(a.video.processor=r),e.audio&&"object"==typeof a.audio&&"string"==typeof a.audio.deviceId){const e=a.audio.deviceId;a.audio.deviceId={exact:e},n=!0,o=Object.assign(Object.assign({},a.audio),{deviceId:{ideal:e}})}if(a.video&&"object"==typeof a.video&&"string"==typeof a.video.deviceId){const e=a.video.deviceId;a.video.deviceId={exact:e},n=!0,s=Object.assign(Object.assign({},a.video),{deviceId:{ideal:e}})}!0===a.audio?a.audio={deviceId:"default"}:"object"==typeof a.audio&&null!==a.audio&&(a.audio=Object.assign(Object.assign({},a.audio),{deviceId:a.audio.deviceId||"default"})),!0===a.video?a.video={deviceId:"default"}:"object"==typeof a.video&&!a.video.deviceId&&(a.video.deviceId="default");const u=ch(a,rp,ap),l=hh(u),c=navigator.mediaDevices.getUserMedia(l);a.audio&&(Th.userMediaPromiseMap.set("audioinput",c),c.catch(()=>Th.userMediaPromiseMap.delete("audioinput"))),a.video&&(Th.userMediaPromiseMap.set("videoinput",c),c.catch(()=>Th.userMediaPromiseMap.delete("videoinput")));try{const e=yield c;return yield Promise.all(e.getTracks().map(n=>El(this,void 0,void 0,function*(){const a="audio"===n.kind;let o,s=a?u.audio:u.video;("boolean"==typeof s||!s)&&(s={});const c=a?l.audio:l.video;"boolean"!=typeof c&&(o=c);const d=n.getSettings().deviceId;null!=o&&o.deviceId&&Hd(o.deviceId)!==d?o.deviceId=d:o||(o={deviceId:d});const h=function(e,t,n){switch(e.kind){case"audio":return new Ep(e,t,!1,void 0,n);case"video":return new Pp(e,t,!1,n);default:throw new Wc("unsupported track type: ".concat(e.kind))}}(n,o,t);return h.kind===cd.Kind.Video?h.source=cd.Source.Camera:h.kind===cd.Kind.Audio&&(h.source=cd.Source.Microphone),h.mediaStream=e,ih(h)&&i?yield h.setProcessor(i):rh(h)&&r&&(yield h.setProcessor(r)),h})))}catch(i){if(!n)throw i;return lf(Object.assign(Object.assign({},e),{audio:o,video:s}),t)}})}!function(e){e.Excellent="excellent",e.Good="good",e.Poor="poor",e.Lost="lost",e.Unknown="unknown"}($p||($p={}));class cf extends Tl.EventEmitter{get logContext(){var e,t;return Object.assign({},null===(t=null===(e=this.loggerOptions)||void 0===e?void 0:e.loggerContextCb)||void 0===t?void 0:t.call(e))}get isEncrypted(){return this.trackPublications.size>0&&Array.from(this.trackPublications.values()).every(e=>e.isEncrypted)}get isAgent(){var e;return(null===(e=this.permissions)||void 0===e?void 0:e.agent)||this.kind===ks.AGENT}get isActive(){var e;return(null===(e=this.participantInfo)||void 0===e?void 0:e.state)===bs.ACTIVE}get kind(){return this._kind}get attributes(){return Object.freeze(Object.assign({},this._attributes))}constructor(e,t,n,i,r,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ks.STANDARD;var s;super(),this.audioLevel=0,this.isSpeaking=!1,this._connectionQuality=$p.Unknown,this.log=ml,this.log=Ol(null!==(s=null==a?void 0:a.loggerName)&&void 0!==s?s:dl.Participant),this.loggerOptions=a,this.setMaxListeners(100),this.sid=e,this.identity=t,this.name=n,this.metadata=i,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this._kind=o,this._attributes=null!=r?r:{}}getTrackPublications(){return Array.from(this.trackPublications.values())}getTrackPublication(e){for(const[,t]of this.trackPublications)if(t.source===e)return t}getTrackPublicationByName(e){for(const[,t]of this.trackPublications)if(t.trackName===e)return t}waitUntilActive(){return this.isActive?Promise.resolve():(this.activeFuture||(this.activeFuture=new Yd,this.once($c.Active,()=>{var e,t;null===(t=null===(e=this.activeFuture)||void 0===e?void 0:e.resolve)||void 0===t||t.call(e),this.activeFuture=void 0})),this.activeFuture.promise)}get connectionQuality(){return this._connectionQuality}get isCameraEnabled(){var e;const t=this.getTrackPublication(cd.Source.Camera);return!(null===(e=null==t?void 0:t.isMuted)||void 0===e||e)}get isMicrophoneEnabled(){var e;const t=this.getTrackPublication(cd.Source.Microphone);return!(null===(e=null==t?void 0:t.isMuted)||void 0===e||e)}get isScreenShareEnabled(){return!!this.getTrackPublication(cd.Source.ScreenShare)}get isLocal(){return!1}get joinedAt(){return this.participantInfo?new Date(1e3*Number.parseInt(this.participantInfo.joinedAt.toString())):new Date}updateInfo(e){var t;return!(this.participantInfo&&this.participantInfo.sid===e.sid&&this.participantInfo.version>e.version||(this.identity=e.identity,this.sid=e.sid,this._setName(e.name),this._setMetadata(e.metadata),this._setAttributes(e.attributes),e.state===bs.ACTIVE&&(null===(t=this.participantInfo)||void 0===t?void 0:t.state)!==bs.ACTIVE&&this.emit($c.Active),e.permission&&this.setPermissions(e.permission),this.participantInfo=e,0))}_setMetadata(e){const t=this.metadata!==e,n=this.metadata;this.metadata=e,t&&this.emit($c.ParticipantMetadataChanged,n)}_setName(e){const t=this.name!==e;this.name=e,t&&this.emit($c.ParticipantNameChanged,e)}_setAttributes(e){const t=function(e,t){var n;void 0===e&&(e={}),void 0===t&&(t={});const i=[...Object.keys(t),...Object.keys(e)],r={};for(const a of i)e[a]!==t[a]&&(r[a]=null!==(n=t[a])&&void 0!==n?n:"");return r}(this.attributes,e);this._attributes=e,Object.keys(t).length>0&&this.emit($c.AttributesChanged,t)}setPermissions(e){var t,n,i,r,a,o;const s=this.permissions,u=e.canPublish!==(null===(t=this.permissions)||void 0===t?void 0:t.canPublish)||e.canSubscribe!==(null===(n=this.permissions)||void 0===n?void 0:n.canSubscribe)||e.canPublishData!==(null===(i=this.permissions)||void 0===i?void 0:i.canPublishData)||e.hidden!==(null===(r=this.permissions)||void 0===r?void 0:r.hidden)||e.recorder!==(null===(a=this.permissions)||void 0===a?void 0:a.recorder)||e.canPublishSources.length!==this.permissions.canPublishSources.length||e.canPublishSources.some((e,t)=>{var n;return e!==(null===(n=this.permissions)||void 0===n?void 0:n.canPublishSources[t])})||e.canSubscribeMetrics!==(null===(o=this.permissions)||void 0===o?void 0:o.canSubscribeMetrics);return this.permissions=e,u&&this.emit($c.ParticipantPermissionsChanged,s),u}setIsSpeaking(e){e!==this.isSpeaking&&(this.isSpeaking=e,e&&(this.lastSpokeAt=new Date),this.emit($c.IsSpeakingChanged,e))}setConnectionQuality(e){const t=this._connectionQuality;this._connectionQuality=function(e){switch(e){case hs.EXCELLENT:return $p.Excellent;case hs.GOOD:return $p.Good;case hs.POOR:return $p.Poor;case hs.LOST:return $p.Lost;default:return $p.Unknown}}(e),t!==this._connectionQuality&&this.emit($c.ConnectionQualityChanged,this._connectionQuality)}setDisconnected(){var e,t;this.activeFuture&&(null===(t=(e=this.activeFuture).reject)||void 0===t||t.call(e,new Error("Participant disconnected")),this.activeFuture=void 0)}setAudioContext(e){this.audioContext=e,this.audioTrackPublications.forEach(t=>ih(t.track)&&t.track.setAudioContext(e))}addTrackPublication(e){e.on(qc.Muted,()=>{this.emit($c.TrackMuted,e)}),e.on(qc.Unmuted,()=>{this.emit($c.TrackUnmuted,e)});const t=e;switch(t.track&&(t.track.sid=e.trackSid),this.trackPublications.set(e.trackSid,e),e.kind){case cd.Kind.Audio:this.audioTrackPublications.set(e.trackSid,e);break;case cd.Kind.Video:this.videoTrackPublications.set(e.trackSid,e)}}}class df extends cf{constructor(e,t,n,i,r,a){super(e,t,void 0,void 0,void 0,{loggerName:i.loggerName,loggerContextCb:()=>this.engine.logContext}),this.pendingPublishing=new Set,this.pendingPublishPromises=new Map,this.participantTrackPermissions=[],this.allParticipantsAllowedToSubscribe=!0,this.encryptionType=ys.NONE,this.enabledPublishVideoCodecs=[],this.pendingAcks=new Map,this.pendingResponses=new Map,this.handleReconnecting=()=>{this.reconnectFuture||(this.reconnectFuture=new Yd)},this.handleReconnected=()=>{var e,t;null===(t=null===(e=this.reconnectFuture)||void 0===e?void 0:e.resolve)||void 0===t||t.call(e),this.reconnectFuture=void 0,this.updateTrackSubscriptionPermissions()},this.handleClosing=()=>{var e,t,n,i,r,a;this.reconnectFuture&&(this.reconnectFuture.promise.catch(e=>this.log.warn(e.message,this.logContext)),null===(t=null===(e=this.reconnectFuture)||void 0===e?void 0:e.reject)||void 0===t||t.call(e,new Error("Got disconnected during reconnection attempt")),this.reconnectFuture=void 0),this.signalConnectedFuture&&(null===(i=(n=this.signalConnectedFuture).reject)||void 0===i||i.call(n,new Error("Got disconnected without signal connected")),this.signalConnectedFuture=void 0),null===(a=null===(r=this.activeAgentFuture)||void 0===r?void 0:r.reject)||void 0===a||a.call(r,new Error("Got disconnected without active agent present")),this.activeAgentFuture=void 0,this.firstActiveAgent=void 0},this.handleSignalConnected=e=>{var t,n;e.participant&&this.updateInfo(e.participant),this.signalConnectedFuture||(this.signalConnectedFuture=new Yd),null===(n=(t=this.signalConnectedFuture).resolve)||void 0===n||n.call(t)},this.handleSignalRequestResponse=e=>{const{requestId:t,reason:n,message:i}=e,r=this.pendingSignalRequests.get(t);r&&(n!==tl.OK&&r.reject(new Kc(i,n)),this.pendingSignalRequests.delete(t))},this.handleDataPacket=e=>{switch(e.value.case){case"rpcResponse":let t=e.value.value,n=null,i=null;"payload"===t.value.case?n=t.value.value:"error"===t.value.case&&(i=dp.fromProto(t.value.value)),this.handleIncomingRpcResponse(t.requestId,n,i);break;case"rpcAck":let r=e.value.value;this.handleIncomingRpcAck(r.requestId)}},this.updateTrackSubscriptionPermissions=()=>{this.log.debug("updating track subscription permissions",Object.assign(Object.assign({},this.logContext),{allParticipantsAllowed:this.allParticipantsAllowedToSubscribe,participantTrackPermissions:this.participantTrackPermissions})),this.engine.client.sendUpdateSubscriptionPermissions(this.allParticipantsAllowedToSubscribe,this.participantTrackPermissions.map(e=>function(e){var t,n,i;if(!e.participantSid&&!e.participantIdentity)throw new Error("Invalid track permission, must provide at least one of participantIdentity and participantSid");return new Uu({participantIdentity:null!==(t=e.participantIdentity)&&void 0!==t?t:"",participantSid:null!==(n=e.participantSid)&&void 0!==n?n:"",allTracks:null!==(i=e.allowAll)&&void 0!==i&&i,trackSids:e.allowedTrackSids||[]})}(e)))},this.onTrackUnmuted=e=>{this.onTrackMuted(e,e.isUpstreamPaused)},this.onTrackMuted=(e,t)=>{void 0===t&&(t=!0),e.sid?this.engine.updateMuteStatus(e.sid,t):this.log.error("could not update mute status for unpublished track",Object.assign(Object.assign({},this.logContext),Dh(e)))},this.onTrackUpstreamPaused=e=>{this.log.debug("upstream paused",Object.assign(Object.assign({},this.logContext),Dh(e))),this.onTrackMuted(e,!0)},this.onTrackUpstreamResumed=e=>{this.log.debug("upstream resumed",Object.assign(Object.assign({},this.logContext),Dh(e))),this.onTrackMuted(e,e.isMuted)},this.onTrackFeatureUpdate=e=>{const t=this.audioTrackPublications.get(e.sid);t?this.engine.client.sendUpdateLocalAudioTrack(t.trackSid,t.getTrackFeatures()):this.log.warn("Could not update local audio track settings, missing publication for track ".concat(e.sid),this.logContext)},this.onTrackCpuConstrained=(e,t)=>{this.log.debug("track cpu constrained",Object.assign(Object.assign({},this.logContext),Dh(t))),this.emit($c.LocalTrackCpuConstrained,e,t)},this.handleSubscribedQualityUpdate=e=>El(this,void 0,void 0,function*(){var t,n,i,r,a;if(null===(a=this.roomOptions)||void 0===a||!a.dynacast)return;const o=this.videoTrackPublications.get(e.trackSid);if(!o)return void this.log.warn("received subscribed quality update for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:e.trackSid}));if(!o.videoTrack)return;const s=yield o.videoTrack.setPublishingCodecs(e.subscribedCodecs);try{for(var u,l=!0,c=Cl(s);!(t=(u=yield c.next()).done);l=!0){r=u.value,l=!1;const e=r;Od(e)&&(this.log.debug("publish ".concat(e," for ").concat(o.videoTrack.sid),Object.assign(Object.assign({},this.logContext),Dh(o))),yield this.publishAdditionalCodecForTrack(o.videoTrack,e,o.options))}}catch(e){n={error:e}}finally{try{!l&&!t&&(i=c.return)&&(yield i.call(c))}finally{if(n)throw n.error}}}),this.handleLocalTrackUnpublished=e=>{const t=this.trackPublications.get(e.trackSid);t?this.unpublishTrack(t.track):this.log.warn("received unpublished event for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:e.trackSid}))},this.handleTrackEnded=e=>El(this,void 0,void 0,function*(){if(e.source===cd.Source.ScreenShare||e.source===cd.Source.ScreenShareAudio)this.log.debug("unpublishing local track due to TrackEnded",Object.assign(Object.assign({},this.logContext),Dh(e))),this.unpublishTrack(e);else if(e.isUserProvided)yield e.mute();else if(oh(e)||ah(e))try{if(Rd())try{const t=yield null==navigator?void 0:navigator.permissions.query({name:e.source===cd.Source.Camera?"camera":"microphone"});if(t&&"denied"===t.state)throw this.log.warn("user has revoked access to ".concat(e.source),Object.assign(Object.assign({},this.logContext),Dh(e))),t.onchange=()=>{"denied"!==t.state&&(e.isMuted||e.restartTrack(),t.onchange=null)},new Error("GetUserMedia Permission denied")}catch(e){}e.isMuted||(this.log.debug("track ended, attempting to use a different device",Object.assign(Object.assign({},this.logContext),Dh(e))),oh(e)?yield e.restartTrack({deviceId:"default"}):yield e.restartTrack())}catch(t){this.log.warn("could not restart track, muting instead",Object.assign(Object.assign({},this.logContext),Dh(e))),yield e.mute()}}),this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this.engine=n,this.roomOptions=i,this.setupEngine(n),this.activeDeviceMap=new Map([["audioinput","default"],["videoinput","default"],["audiooutput","default"]]),this.pendingSignalRequests=new Map,this.rpcHandlers=r,this.roomOutgoingDataStreamManager=a}get lastCameraError(){return this.cameraError}get lastMicrophoneError(){return this.microphoneError}get isE2EEEnabled(){return this.encryptionType!==ys.NONE}getTrackPublication(e){const t=super.getTrackPublication(e);if(t)return t}getTrackPublicationByName(e){const t=super.getTrackPublicationByName(e);if(t)return t}setupEngine(e){var t;this.engine=e,this.engine.on(Uc.RemoteMute,(e,t)=>{const n=this.trackPublications.get(e);!n||!n.track||(t?n.mute():n.unmute())}),!(null===(t=this.signalConnectedFuture)||void 0===t)&&t.isResolved&&(this.signalConnectedFuture=void 0),this.engine.on(Uc.Connected,this.handleReconnected).on(Uc.SignalConnected,this.handleSignalConnected).on(Uc.SignalRestarted,this.handleReconnected).on(Uc.SignalResumed,this.handleReconnected).on(Uc.Restarting,this.handleReconnecting).on(Uc.Resuming,this.handleReconnecting).on(Uc.LocalTrackUnpublished,this.handleLocalTrackUnpublished).on(Uc.SubscribedQualityUpdate,this.handleSubscribedQualityUpdate).on(Uc.Closing,this.handleClosing).on(Uc.SignalRequestResponse,this.handleSignalRequestResponse).on(Uc.DataPacketReceived,this.handleDataPacket)}setMetadata(e){return El(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({metadata:e})})}setName(e){return El(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({name:e})})}setAttributes(e){return El(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({attributes:e})})}requestMetadataUpdate(e){return El(this,arguments,void 0,function(e){var t=this;let{metadata:n,name:i,attributes:r}=e;return function*(){return new Promise((e,a)=>El(t,void 0,void 0,function*(){var t,o;try{let s=!1;const u=yield this.engine.client.sendUpdateLocalMetadata(null!==(t=null!=n?n:this.metadata)&&void 0!==t?t:"",null!==(o=null!=i?i:this.name)&&void 0!==o?o:"",r),l=performance.now();for(this.pendingSignalRequests.set(u,{resolve:e,reject:e=>{a(e),s=!0},values:{name:i,metadata:n,attributes:r}});performance.now()-l<5e3&&!s;){if((!i||this.name===i)&&(!n||this.metadata===n)&&(!r||Object.entries(r).every(e=>{let[t,n]=e;return this.attributes[t]===n||""===n&&!this.attributes[t]})))return this.pendingSignalRequests.delete(u),void e();yield kd(50)}a(new Kc("Request to update local metadata timed out","TimeoutError"))}catch(e){e instanceof Error&&a(e)}}))}()})}setCameraEnabled(e,t,n){return this.setTrackEnabled(cd.Source.Camera,e,t,n)}setMicrophoneEnabled(e,t,n){return this.setTrackEnabled(cd.Source.Microphone,e,t,n)}setScreenShareEnabled(e,t,n){return this.setTrackEnabled(cd.Source.ScreenShare,e,t,n)}setE2EEEnabled(e){return El(this,void 0,void 0,function*(){this.encryptionType=e?ys.GCM:ys.NONE,yield this.republishAllTracks(void 0,!1)})}setTrackEnabled(e,t,n,i){return El(this,void 0,void 0,function*(){var r,a;this.log.debug("setTrackEnabled",Object.assign(Object.assign({},this.logContext),{source:e,enabled:t})),this.republishPromise&&(yield this.republishPromise);let o=this.getTrackPublication(e);if(t)if(o)yield o.unmute();else{let t;if(this.pendingPublishing.has(e)){const t=yield this.waitForPendingPublicationOfSource(e);return t||this.log.info("waiting for pending publication promise timed out",Object.assign(Object.assign({},this.logContext),{source:e})),yield null==t?void 0:t.unmute(),t}this.pendingPublishing.add(e);try{switch(e){case cd.Source.Camera:t=yield this.createTracks({video:null===(r=n)||void 0===r||r});break;case cd.Source.Microphone:t=yield this.createTracks({audio:null===(a=n)||void 0===a||a});break;case cd.Source.ScreenShare:t=yield this.createScreenTracks(Object.assign({},n));break;default:throw new Wc(e)}}catch(n){throw null==t||t.forEach(e=>{e.stop()}),n instanceof Error&&this.emit($c.MediaDevicesError,n,mh(e)),this.pendingPublishing.delete(e),n}for(const i of t){const t=Object.assign(Object.assign({},this.roomOptions.publishDefaults),n);e===cd.Source.Microphone&&ih(i)&&t.preConnectBuffer&&(this.log.info("starting preconnect buffer for microphone",Object.assign({},this.logContext)),i.startPreConnectBuffer())}try{const e=[];for(const n of t)this.log.info("publishing track",Object.assign(Object.assign({},this.logContext),Dh(n))),e.push(this.publishTrack(n,i));[o]=yield Promise.all(e)}catch(e){throw null==t||t.forEach(e=>{e.stop()}),e}finally{this.pendingPublishing.delete(e)}}else if(!(null!=o&&o.track)&&this.pendingPublishing.has(e)&&(o=yield this.waitForPendingPublicationOfSource(e),o||this.log.info("waiting for pending publication promise timed out",Object.assign(Object.assign({},this.logContext),{source:e}))),o&&o.track)if(e===cd.Source.ScreenShare){o=yield this.unpublishTrack(o.track);const e=this.getTrackPublication(cd.Source.ScreenShareAudio);e&&e.track&&this.unpublishTrack(e.track)}else yield o.mute();return o})}enableCameraAndMicrophone(){return El(this,void 0,void 0,function*(){if(!this.pendingPublishing.has(cd.Source.Camera)&&!this.pendingPublishing.has(cd.Source.Microphone)){this.pendingPublishing.add(cd.Source.Camera),this.pendingPublishing.add(cd.Source.Microphone);try{const e=yield this.createTracks({audio:!0,video:!0});yield Promise.all(e.map(e=>this.publishTrack(e)))}finally{this.pendingPublishing.delete(cd.Source.Camera),this.pendingPublishing.delete(cd.Source.Microphone)}}})}createTracks(e){return El(this,void 0,void 0,function*(){var t,n;null!=e||(e={});const i=ch(e,null===(t=this.roomOptions)||void 0===t?void 0:t.audioCaptureDefaults,null===(n=this.roomOptions)||void 0===n?void 0:n.videoCaptureDefaults);try{return(yield lf(i,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext})).map(e=>(ih(e)&&(this.microphoneError=void 0,e.setAudioContext(this.audioContext),e.source=cd.Source.Microphone,this.emit($c.AudioStreamAcquired)),rh(e)&&(this.cameraError=void 0,e.source=cd.Source.Camera),e))}catch(t){throw t instanceof Error&&(e.audio&&(this.microphoneError=t),e.video&&(this.cameraError=t)),t}})}createScreenTracks(e){return El(this,void 0,void 0,function*(){if(void 0===e&&(e={}),void 0===navigator.mediaDevices.getDisplayMedia)throw new jc("getDisplayMedia not supported");void 0===e.resolution&&!function(){const e=id();return"Safari"===(null==e?void 0:e.name)&&e.version.startsWith("17.")||"iOS"===(null==e?void 0:e.os)&&!(null==e||!e.osVersion)&&$d(e.osVersion,"17")>=0}()&&(e.resolution=Cd.h1080fps30.resolution);const t=function(e){var t,n;let i=null===(t=e.video)||void 0===t||t;return e.resolution&&e.resolution.width>0&&e.resolution.height>0&&(i="boolean"==typeof i?{}:i,i=wd()?Object.assign(Object.assign({},i),{width:{max:e.resolution.width},height:{max:e.resolution.height},frameRate:e.resolution.frameRate}):Object.assign(Object.assign({},i),{width:{ideal:e.resolution.width},height:{ideal:e.resolution.height},frameRate:e.resolution.frameRate})),{audio:null!==(n=e.audio)&&void 0!==n&&n,video:i,controller:e.controller,selfBrowserSurface:e.selfBrowserSurface,surfaceSwitching:e.surfaceSwitching,systemAudio:e.systemAudio,preferCurrentTab:e.preferCurrentTab}}(e),n=yield navigator.mediaDevices.getDisplayMedia(t),i=n.getVideoTracks();if(0===i.length)throw new Wc("no video track found");const r=new Pp(i[0],void 0,!1,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});r.source=cd.Source.ScreenShare,e.contentHint&&(r.mediaStreamTrack.contentHint=e.contentHint);const a=[r];if(n.getAudioTracks().length>0){this.emit($c.AudioStreamAcquired);const e=new Ep(n.getAudioTracks()[0],void 0,!1,this.audioContext,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});e.source=cd.Source.ScreenShareAudio,a.push(e)}return a})}publishTrack(e,t){return El(this,void 0,void 0,function*(){return this.publishOrRepublishTrack(e,t)})}publishOrRepublishTrack(e,t){return El(this,arguments,void 0,function(e,t){var n=this;let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function*(){var r,a,o,s;let u,l;if(oh(e)&&e.setAudioContext(n.audioContext),yield null===(r=n.reconnectFuture)||void 0===r?void 0:r.promise,n.republishPromise&&!i&&(yield n.republishPromise),nh(e)&&n.pendingPublishPromises.has(e)&&(yield n.pendingPublishPromises.get(e)),e instanceof MediaStreamTrack)u=e.getConstraints();else{let t;switch(u=e.constraints,e.source){case cd.Source.Microphone:t="audioinput";break;case cd.Source.Camera:t="videoinput"}t&&n.activeDeviceMap.has(t)&&(u=Object.assign(Object.assign({},u),{deviceId:n.activeDeviceMap.get(t)}))}if(e instanceof MediaStreamTrack)switch(e.kind){case"audio":e=new Ep(e,u,!0,n.audioContext,{loggerName:n.roomOptions.loggerName,loggerContextCb:()=>n.logContext});break;case"video":e=new Pp(e,u,!0,{loggerName:n.roomOptions.loggerName,loggerContextCb:()=>n.logContext});break;default:throw new Wc("unsupported MediaStreamTrack kind ".concat(e.kind))}else e.updateLoggerOptions({loggerName:n.roomOptions.loggerName,loggerContextCb:()=>n.logContext});if(n.trackPublications.forEach(t=>{t.track&&t.track===e&&(l=t)}),l)return n.log.warn("track has already been published, skipping",Object.assign(Object.assign({},n.logContext),Dh(l))),l;const c=Object.assign(Object.assign({},n.roomOptions.publishDefaults),t),d="channelCount"in e.mediaStreamTrack.getSettings()&&2===e.mediaStreamTrack.getSettings().channelCount||2===e.mediaStreamTrack.getConstraints().channelCount,h=null!==(a=c.forceStereo)&&void 0!==a?a:d;h&&(void 0===c.dtx&&n.log.info("Opus DTX will be disabled for stereo tracks by default. Enable them explicitly to make it work.",Object.assign(Object.assign({},n.logContext),Dh(e))),void 0===c.red&&n.log.info("Opus RED will be disabled for stereo tracks by default. Enable them explicitly to make it work."),null!==(o=c.dtx)&&void 0!==o||(c.dtx=!1),null!==(s=c.red)&&void 0!==s||(c.red=!1)),!function(){const e=id(),t="17.2";if(e)return!!("Safari"!==e.name&&"iOS"!==e.os||"iOS"===e.os&&e.osVersion&&$d(e.osVersion,t)>=0)||"Safari"===e.name&&$d(e.version,t)>=0}()&&n.roomOptions.e2ee&&(n.log.info("End-to-end encryption is set up, simulcast publishing will be disabled on Safari versions and iOS browsers running iOS < v17.2",Object.assign({},n.logContext)),c.simulcast=!1),c.source&&(e.source=c.source);const p=new Promise((t,i)=>El(n,void 0,void 0,function*(){try{if(this.engine.client.currentState!==xh.CONNECTED){this.log.debug("deferring track publication until signal is connected",Object.assign(Object.assign({},this.logContext),{track:Dh(e)}));let n=!1;const r=setTimeout(()=>{n=!0,e.stop(),i(new Hc("publishing rejected as engine not connected within timeout",408))},15e3);if(yield this.waitUntilEngineConnected(),clearTimeout(r),n)return;const a=yield this.publish(e,c,h);t(a)}else try{const n=yield this.publish(e,c,h);t(n)}catch(e){i(e)}}catch(e){i(e)}}));n.pendingPublishPromises.set(e,p);try{return yield p}catch(e){throw e}finally{n.pendingPublishPromises.delete(e)}}()})}waitUntilEngineConnected(){return this.signalConnectedFuture||(this.signalConnectedFuture=new Yd),this.signalConnectedFuture.promise}hasPermissionsToPublish(e){if(!this.permissions)return this.log.warn("no permissions present for publishing track",Object.assign(Object.assign({},this.logContext),Dh(e))),!1;const{canPublish:t,canPublishSources:n}=this.permissions;return!(!t||0!==n.length&&!n.map(e=>function(e){switch(e){case cs.CAMERA:return cd.Source.Camera;case cs.MICROPHONE:return cd.Source.Microphone;case cs.SCREEN_SHARE:return cd.Source.ScreenShare;case cs.SCREEN_SHARE_AUDIO:return cd.Source.ScreenShareAudio;default:return cd.Source.Unknown}}(e)).includes(e.source))||(this.log.warn("insufficient permissions to publish",Object.assign(Object.assign({},this.logContext),Dh(e))),!1)}publish(e,t,n){return El(this,void 0,void 0,function*(){var i,r,a,o,s,u,l,c,d,h;if(!this.hasPermissionsToPublish(e))throw new Hc("failed to publish track, insufficient permissions",403);Array.from(this.trackPublications.values()).find(t=>nh(e)&&t.source===e.source)&&e.source!==cd.Source.Unknown&&this.log.info("publishing a second track with the same source: ".concat(e.source),Object.assign(Object.assign({},this.logContext),Dh(e))),t.stopMicTrackOnMute&&ih(e)&&(e.stopOnMute=!0),e.source===cd.Source.ScreenShare&&_d()&&(t.simulcast=!1),"av1"===t.videoCodec&&!function(){if(!("getCapabilities"in RTCRtpSender)||wd()||_d())return!1;const e=RTCRtpSender.getCapabilities("video");let t=!1;if(e)for(const n of e.codecs)if("video/av1"===n.mimeType.toLowerCase()){t=!0;break}return t}()&&(t.videoCodec=void 0),"vp9"===t.videoCodec&&!function(){if(!("getCapabilities"in RTCRtpSender)||_d())return!1;if(wd()){const e=id();if(null!=e&&e.version&&$d(e.version,"16")<0||"iOS"===(null==e?void 0:e.os)&&null!=e&&e.osVersion&&$d(e.osVersion,"16")<0)return!1}const e=RTCRtpSender.getCapabilities("video");let t=!1;if(e)for(const n of e.codecs)if("video/vp9"===n.mimeType.toLowerCase()){t=!0;break}return t}()&&(t.videoCodec=void 0),void 0===t.videoCodec&&(t.videoCodec=np),this.enabledPublishVideoCodecs.length>0&&(this.enabledPublishVideoCodecs.some(e=>t.videoCodec===Oh(e.mime))||(t.videoCodec=Oh(this.enabledPublishVideoCodecs[0].mime)));const p=t.videoCodec;e.on(qc.Muted,this.onTrackMuted),e.on(qc.Unmuted,this.onTrackUnmuted),e.on(qc.Ended,this.handleTrackEnded),e.on(qc.UpstreamPaused,this.onTrackUpstreamPaused),e.on(qc.UpstreamResumed,this.onTrackUpstreamResumed),e.on(qc.AudioTrackFeatureUpdate,this.onTrackFeatureUpdate);const f=[],m=!(null===(i=t.dtx)||void 0===i||i),O=e.getSourceTrackSettings();O.autoGainControl&&f.push(gs.TF_AUTO_GAIN_CONTROL),O.echoCancellation&&f.push(gs.TF_ECHO_CANCELLATION),O.noiseSuppression&&f.push(gs.TF_NOISE_SUPPRESSION),O.channelCount&&O.channelCount>1&&f.push(gs.TF_STEREO),m&&f.push(gs.TF_NO_DTX),oh(e)&&e.hasPreConnectBuffer&&f.push(gs.TF_PRECONNECT_BUFFER);const g=new pu({cid:e.mediaStreamTrack.id,name:t.name,type:cd.kindToProto(e.kind),muted:e.isMuted,source:cd.sourceToProto(e.source),disableDtx:m,encryption:this.encryptionType,stereo:n,disableRed:this.isE2EEEnabled||!(null===(r=t.red)||void 0===r||r),stream:null==t?void 0:t.stream,backupCodecPolicy:null==t?void 0:t.backupCodecPolicy,audioFeatures:f});let D;if(e.kind===cd.Kind.Video){let n={width:0,height:0};try{n=yield e.waitForDimensions()}catch(t){const i=null!==(o=null===(a=this.roomOptions.videoCaptureDefaults)||void 0===a?void 0:a.resolution)&&void 0!==o?o:vd.h720.resolution;n={width:i.width,height:i.height},this.log.error("could not determine track dimensions, using defaults",Object.assign(Object.assign(Object.assign({},this.logContext),Dh(e)),{dims:n}))}g.width=n.width,g.height=n.height,ah(e)&&(Ad(p)&&(e.source===cd.Source.ScreenShare&&(t.scalabilityMode="L1T3","contentHint"in e.mediaStreamTrack&&(e.mediaStreamTrack.contentHint="motion",this.log.info("forcing contentHint to motion for screenshare with SVC codecs",Object.assign(Object.assign({},this.logContext),Dh(e))))),t.scalabilityMode=null!==(s=t.scalabilityMode)&&void 0!==s?s:"L3T3_KEY"),g.simulcastCodecs=[new hu({codec:p,cid:e.mediaStreamTrack.id})],!0===t.backupCodec&&(t.backupCodec={codec:np}),t.backupCodec&&p!==t.backupCodec.codec&&g.encryption===ys.NONE&&(this.roomOptions.dynacast||(this.roomOptions.dynacast=!0),g.simulcastCodecs.push(new hu({codec:t.backupCodec.codec,cid:""})))),D=Sp(e.source===cd.Source.ScreenShare,g.width,g.height,t),g.layers=Qp(g.width,g.height,D,Ad(t.videoCodec))}else e.kind===cd.Kind.Audio&&(D=[{maxBitrate:null===(u=t.audioPreset)||void 0===u?void 0:u.maxBitrate,priority:null!==(c=null===(l=t.audioPreset)||void 0===l?void 0:l.priority)&&void 0!==c?c:"high",networkPriority:null!==(h=null===(d=t.audioPreset)||void 0===d?void 0:d.priority)&&void 0!==h?h:"high"}]);if(!this.engine||this.engine.isClosed)throw new Vc("cannot publish track when not connected");const v=()=>El(this,void 0,void 0,function*(){var n,i,r;if(!this.engine.pcManager)throw new Vc("pcManager is not ready");if(e.sender=yield this.engine.createSender(e,t,D),this.emit($c.LocalSenderCreated,e.sender,e),ah(e)&&(null!==(n=t.degradationPreference)&&void 0!==n||(t.degradationPreference=function(e){return e.source===cd.Source.ScreenShare||e.constraints.height&&Hd(e.constraints.height)>=1080?"maintain-resolution":"balanced"}(e)),e.setDegradationPreference(t.degradationPreference)),D)if(_d()&&e.kind===cd.Kind.Audio){let t;for(const n of this.engine.pcManager.publisher.getTransceivers())if(n.sender===e.sender){t=n;break}t&&this.engine.pcManager.publisher.setTrackCodecBitrate({transceiver:t,codec:"opus",maxbr:null!==(i=D[0])&&void 0!==i&&i.maxBitrate?D[0].maxBitrate/1e3:0})}else e.codec&&Ad(e.codec)&&null!==(r=D[0])&&void 0!==r&&r.maxBitrate&&this.engine.pcManager.publisher.setTrackCodecBitrate({cid:g.cid,codec:e.codec,maxbr:D[0].maxBitrate/1e3});yield this.engine.negotiate()});let E;const C=new Promise((t,n)=>El(this,void 0,void 0,function*(){var i;try{E=yield this.engine.addTrack(g),t(E)}catch(t){e.sender&&!(null===(i=this.engine.pcManager)||void 0===i)&&i.publisher&&(this.engine.pcManager.publisher.removeTrack(e.sender),yield this.engine.negotiate().catch(t=>{this.log.error("failed to negotiate after removing track due to failed add track request",Object.assign(Object.assign(Object.assign({},this.logContext),Dh(e)),{error:t}))})),n(t)}}));if(this.enabledPublishVideoCodecs.length>0)E=(yield Promise.all([C,v()]))[0];else{let n;if(E=yield C,E.codecs.forEach(e=>{void 0===n&&(n=e.mimeType)}),n&&e.kind===cd.Kind.Video){const i=Oh(n);i!==p&&(this.log.debug("falling back to server selected codec",Object.assign(Object.assign(Object.assign({},this.logContext),Dh(e)),{codec:i})),t.videoCodec=i,D=Sp(e.source===cd.Source.ScreenShare,g.width,g.height,t))}yield v()}const b=new uf(e.kind,E,e,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});if(b.on(qc.CpuConstrained,e=>this.onTrackCpuConstrained(e,b)),b.options=t,e.sid=E.sid,this.log.debug("publishing ".concat(e.kind," with encodings"),Object.assign(Object.assign({},this.logContext),{encodings:D,trackInfo:E})),ah(e)?e.startMonitor(this.engine.client):oh(e)&&e.startMonitor(),this.addTrackPublication(b),this.emit($c.LocalTrackPublished,b),oh(e)&&E.audioFeatures.includes(gs.TF_PRECONNECT_BUFFER)){const t=e.getPreConnectBuffer(),n=e.getPreConnectBufferMimeType();this.on($c.LocalTrackSubscribed,t=>{if(t.trackSid===E.sid){if(!e.hasPreConnectBuffer)return void this.log.warn("subscribe event came to late, buffer already closed",this.logContext);this.log.debug("finished recording preconnect buffer",Object.assign(Object.assign({},this.logContext),Dh(e))),e.stopPreConnectBuffer()}}),t&&new Promise((i,r)=>El(this,void 0,void 0,function*(){var a,o,s,u,l,c;try{this.log.debug("waiting for agent",Object.assign(Object.assign({},this.logContext),Dh(e)));const f=setTimeout(()=>{r(new Error("agent not active within 10 seconds"))},1e4),m=yield this.waitUntilActiveAgentPresent();clearTimeout(f),this.log.debug("sending preconnect buffer",Object.assign(Object.assign({},this.logContext),Dh(e)));const g=yield this.streamBytes({name:"preconnect-buffer",mimeType:n,topic:"lk.agent.pre-connect-audio-buffer",destinationIdentities:[m.identity],attributes:{trackId:b.trackSid,sampleRate:String(null!==(l=O.sampleRate)&&void 0!==l?l:"48000"),channels:String(null!==(c=O.channelCount)&&void 0!==c?c:"1")}});try{for(var d,h=!0,p=Cl(t);!(a=(d=yield p.next()).done);h=!0){u=d.value,h=!1;const e=u;yield g.write(e)}}catch(e){o={error:e}}finally{try{!h&&!a&&(s=p.return)&&(yield s.call(p))}finally{if(o)throw o.error}}yield g.close(),i()}catch(e){r(e)}})).then(()=>{this.log.debug("preconnect buffer sent successfully",Object.assign(Object.assign({},this.logContext),Dh(e)))}).catch(t=>{this.log.error("error sending preconnect buffer",Object.assign(Object.assign(Object.assign({},this.logContext),Dh(e)),{error:t}))})}return b})}get isLocal(){return!0}publishAdditionalCodecForTrack(e,t,n){return El(this,void 0,void 0,function*(){var i;if(this.encryptionType!==ys.NONE)return;let r;if(this.trackPublications.forEach(t=>{t.track&&t.track===e&&(r=t)}),!r)throw new Wc("track is not published");if(!ah(e))throw new Wc("track is not a video track");const a=Object.assign(Object.assign({},null===(i=this.roomOptions)||void 0===i?void 0:i.publishDefaults),n),o=function(e,t,n){var i,r,a,o;if(!n.backupCodec||!0===n.backupCodec||n.backupCodec.codec===n.videoCodec)return;t!==n.backupCodec.codec&&ml.warn("requested a different codec than specified as backup",{serverRequested:t,backup:n.backupCodec.codec}),n.videoCodec=t,n.videoEncoding=n.backupCodec.encoding;const s=e.mediaStreamTrack.getSettings(),u=null!==(i=s.width)&&void 0!==i?i:null===(r=e.dimensions)||void 0===r?void 0:r.width,l=null!==(a=s.height)&&void 0!==a?a:null===(o=e.dimensions)||void 0===o?void 0:o.height;return e.source===cd.Source.ScreenShare&&n.simulcast&&(n.simulcast=!1),Sp(e.source===cd.Source.ScreenShare,u,l,n)}(e,t,a);if(!o)return void this.log.info("backup codec has been disabled, ignoring request to add additional codec for track",Object.assign(Object.assign({},this.logContext),Dh(e)));const s=e.addSimulcastTrack(t,o);if(!s)return;const u=new pu({cid:s.mediaStreamTrack.id,type:cd.kindToProto(e.kind),muted:e.isMuted,source:cd.sourceToProto(e.source),sid:e.sid,simulcastCodecs:[{codec:a.videoCodec,cid:s.mediaStreamTrack.id}]});if(u.layers=Qp(u.width,u.height,o),!this.engine||this.engine.isClosed)throw new Vc("cannot publish track when not connected");const l=(yield Promise.all([this.engine.addTrack(u),(()=>El(this,void 0,void 0,function*(){yield this.engine.createSimulcastSender(e,s,a,o),yield this.engine.negotiate()}))()]))[0];this.log.debug("published ".concat(t," for track ").concat(e.sid),Object.assign(Object.assign({},this.logContext),{encodings:o,trackInfo:l}))})}unpublishTrack(e,t){return El(this,void 0,void 0,function*(){var n,i;if(nh(e)){const t=this.pendingPublishPromises.get(e);t&&(this.log.info("awaiting publish promise before attempting to unpublish",Object.assign(Object.assign({},this.logContext),Dh(e))),yield t)}const r=this.getPublicationForTrack(e),a=r?Dh(r):void 0;if(this.log.debug("unpublishing track",Object.assign(Object.assign({},this.logContext),a)),!r||!r.track)return void this.log.warn("track was not unpublished because no publication was found",Object.assign(Object.assign({},this.logContext),a));(e=r.track).off(qc.Muted,this.onTrackMuted),e.off(qc.Unmuted,this.onTrackUnmuted),e.off(qc.Ended,this.handleTrackEnded),e.off(qc.UpstreamPaused,this.onTrackUpstreamPaused),e.off(qc.UpstreamResumed,this.onTrackUpstreamResumed),e.off(qc.AudioTrackFeatureUpdate,this.onTrackFeatureUpdate),void 0===t&&(t=null===(i=null===(n=this.roomOptions)||void 0===n?void 0:n.stopLocalTrackOnUnpublish)||void 0===i||i),t?e.stop():e.stopMonitor();let o=!1;const s=e.sender;if(e.sender=void 0,this.engine.pcManager&&this.engine.pcManager.currentState<up.FAILED&&s)try{for(const e of this.engine.pcManager.publisher.getTransceivers())e.sender===s&&(e.direction="inactive",o=!0);if(this.engine.removeTrack(s)&&(o=!0),ah(e)){for(const[,t]of e.simulcastCodecs)t.sender&&(this.engine.removeTrack(t.sender)&&(o=!0),t.sender=void 0);e.simulcastCodecs.clear()}}catch(e){this.log.warn("failed to unpublish track",Object.assign(Object.assign(Object.assign({},this.logContext),a),{error:e}))}switch(this.trackPublications.delete(r.trackSid),r.kind){case cd.Kind.Audio:this.audioTrackPublications.delete(r.trackSid);break;case cd.Kind.Video:this.videoTrackPublications.delete(r.trackSid)}return this.emit($c.LocalTrackUnpublished,r),r.setTrack(void 0),o&&(yield this.engine.negotiate()),r})}unpublishTracks(e){return El(this,void 0,void 0,function*(){return(yield Promise.all(e.map(e=>this.unpublishTrack(e)))).filter(e=>!!e)})}republishAllTracks(e){return El(this,arguments,void 0,function(e){var t=this;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function*(){t.republishPromise&&(yield t.republishPromise),t.republishPromise=new Promise((i,r)=>El(t,void 0,void 0,function*(){try{const t=[];this.trackPublications.forEach(n=>{n.track&&(e&&(n.options=Object.assign(Object.assign({},n.options),e)),t.push(n))}),yield Promise.all(t.map(e=>El(this,void 0,void 0,function*(){const t=e.track;yield this.unpublishTrack(t,!1),n&&!t.isMuted&&t.source!==cd.Source.ScreenShare&&t.source!==cd.Source.ScreenShareAudio&&(oh(t)||ah(t))&&!t.isUserProvided&&(this.log.debug("restarting existing track",Object.assign(Object.assign({},this.logContext),{track:e.trackSid})),yield t.restartTrack()),yield this.publishOrRepublishTrack(t,e.options,!0)}))),i()}catch(e){r(e)}finally{this.republishPromise=void 0}})),yield t.republishPromise}()})}publishData(e){return El(this,arguments,void 0,function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){const i=n.reliable?xs.RELIABLE:xs.LOSSY,r=n.destinationIdentities,a=n.topic;let o=new Ns({participantIdentity:t.identity,payload:e,destinationIdentities:r,topic:a});const s=new ws({kind:i,value:{case:"user",value:o}});yield t.engine.sendDataPacket(s,i)}()})}publishDtmf(e,t){return El(this,void 0,void 0,function*(){const n=new ws({kind:xs.RELIABLE,value:{case:"sipDtmf",value:new Bs({code:e,digit:t})}});yield this.engine.sendDataPacket(n,xs.RELIABLE)})}sendChatMessage(e,t){return El(this,void 0,void 0,function*(){const n={id:crypto.randomUUID(),message:e,timestamp:Date.now(),attachedFiles:null==t?void 0:t.attachments},i=new ws({value:{case:"chatMessage",value:new $s(Object.assign(Object.assign({},n),{timestamp:ja.parse(n.timestamp)}))}});return yield this.engine.sendDataPacket(i,xs.RELIABLE),this.emit($c.ChatMessage,n),n})}editChatMessage(e,t){return El(this,void 0,void 0,function*(){const n=Object.assign(Object.assign({},t),{message:e,editTimestamp:Date.now()}),i=new ws({value:{case:"chatMessage",value:new $s(Object.assign(Object.assign({},n),{timestamp:ja.parse(n.timestamp),editTimestamp:ja.parse(n.editTimestamp)}))}});return yield this.engine.sendDataPacket(i,xs.RELIABLE),this.emit($c.ChatMessage,n),n})}sendText(e,t){return El(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.sendText(e,t)})}streamText(e){return El(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.streamText(e)})}sendFile(e,t){return El(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.sendFile(e,t)})}streamBytes(e){return El(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.streamBytes(e)})}performRpc(e){return El(this,arguments,void 0,function(e){var t=this;let{destinationIdentity:n,method:i,payload:r,responseTimeout:a=15e3}=e;return function*(){return new Promise((e,o)=>El(t,void 0,void 0,function*(){var t,s,u,l;if(hp(r)>15360)return void o(dp.builtIn("REQUEST_PAYLOAD_TOO_LARGE"));if(null!==(s=null===(t=this.engine.latestJoinResponse)||void 0===t?void 0:t.serverInfo)&&void 0!==s&&s.version&&$d(null===(l=null===(u=this.engine.latestJoinResponse)||void 0===u?void 0:u.serverInfo)||void 0===l?void 0:l.version,"1.8.0")<0)return void o(dp.builtIn("UNSUPPORTED_SERVER"));const c=Math.max(a,8e3),d=crypto.randomUUID();yield this.publishRpcRequest(n,d,i,r,c);const h=setTimeout(()=>{this.pendingAcks.delete(d),o(dp.builtIn("CONNECTION_TIMEOUT")),this.pendingResponses.delete(d),clearTimeout(p)},7e3);this.pendingAcks.set(d,{resolve:()=>{clearTimeout(h)},participantIdentity:n});const p=setTimeout(()=>{this.pendingResponses.delete(d),o(dp.builtIn("RESPONSE_TIMEOUT"))},a);this.pendingResponses.set(d,{resolve:(t,n)=>{clearTimeout(p),this.pendingAcks.has(d)&&(console.warn("RPC response received before ack",d),this.pendingAcks.delete(d),clearTimeout(h)),n?o(n):e(null!=t?t:"")},participantIdentity:n})}))}()})}registerRpcMethod(e,t){this.rpcHandlers.has(e)&&this.log.warn("you're overriding the RPC handler for method ".concat(e,", in the future this will throw an error")),this.rpcHandlers.set(e,t)}unregisterRpcMethod(e){this.rpcHandlers.delete(e)}setTrackSubscriptionPermissions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.participantTrackPermissions=t,this.allParticipantsAllowedToSubscribe=e,this.engine.client.isDisconnected||this.updateTrackSubscriptionPermissions()}handleIncomingRpcAck(e){const t=this.pendingAcks.get(e);t?(t.resolve(),this.pendingAcks.delete(e)):console.error("Ack received for unexpected RPC request",e)}handleIncomingRpcResponse(e,t,n){const i=this.pendingResponses.get(e);i?(i.resolve(t,n),this.pendingResponses.delete(e)):console.error("Response received for unexpected RPC request",e)}publishRpcRequest(e,t,n,i,r){return El(this,void 0,void 0,function*(){const a=new ws({destinationIdentities:[e],kind:xs.RELIABLE,value:{case:"rpcRequest",value:new Us({id:t,method:n,payload:i,responseTimeoutMs:r,version:1})}});yield this.engine.sendDataPacket(a,xs.RELIABLE)})}handleParticipantDisconnected(e){for(const[t,{participantIdentity:n}]of this.pendingAcks)n===e&&this.pendingAcks.delete(t);for(const[t,{participantIdentity:n,resolve:i}]of this.pendingResponses)n===e&&(i(null,dp.builtIn("RECIPIENT_DISCONNECTED")),this.pendingResponses.delete(t))}setEnabledPublishCodecs(e){this.enabledPublishVideoCodecs=e.filter(e=>"video"===e.mime.split("/")[0].toLowerCase())}updateInfo(e){return!!super.updateInfo(e)&&(e.tracks.forEach(e=>{var t,n;const i=this.trackPublications.get(e.sid);if(i){const r=i.isMuted||null!==(n=null===(t=i.track)||void 0===t?void 0:t.isUpstreamPaused)&&void 0!==n&&n;r!==e.muted&&(this.log.debug("updating server mute state after reconcile",Object.assign(Object.assign(Object.assign({},this.logContext),Dh(i)),{mutedOnServer:r})),this.engine.client.sendMuteTrack(e.sid,r))}}),!0)}setActiveAgent(e){var t,n,i,r;this.firstActiveAgent=e,e&&!this.firstActiveAgent&&(this.firstActiveAgent=e),e?null===(n=null===(t=this.activeAgentFuture)||void 0===t?void 0:t.resolve)||void 0===n||n.call(t,e):null===(r=null===(i=this.activeAgentFuture)||void 0===i?void 0:i.reject)||void 0===r||r.call(i,new Error("Agent disconnected")),this.activeAgentFuture=void 0}waitUntilActiveAgentPresent(){return this.firstActiveAgent?Promise.resolve(this.firstActiveAgent):(this.activeAgentFuture||(this.activeAgentFuture=new Yd),this.activeAgentFuture.promise)}getPublicationForTrack(e){let t;return this.trackPublications.forEach(n=>{const i=n.track;i&&(e instanceof MediaStreamTrack?(oh(i)||ah(i))&&i.mediaStreamTrack===e&&(t=n):e===i&&(t=n))}),t}waitForPendingPublicationOfSource(e){return El(this,void 0,void 0,function*(){const t=Date.now();for(;Date.now()<t+1e4;){const t=Array.from(this.pendingPublishPromises.entries()).find(t=>{let[n]=t;return n.source===e});if(t)return t[1];yield kd(20)}})}}class hf extends sf{constructor(e,t,n,i){super(e,t.sid,t.name,i),this.track=void 0,this.allowed=!0,this.requestedDisabled=void 0,this.visible=!0,this.handleEnded=e=>{this.setTrack(void 0),this.emit(qc.Ended,e)},this.handleVisibilityChange=e=>{this.log.debug("adaptivestream video visibility ".concat(this.trackSid,", visible=").concat(e),this.logContext),this.visible=e,this.emitTrackUpdate()},this.handleVideoDimensionsChange=e=>{this.log.debug("adaptivestream video dimensions ".concat(e.width,"x").concat(e.height),this.logContext),this.videoDimensionsAdaptiveStream=e,this.emitTrackUpdate()},this.subscribed=n,this.updateInfo(t)}setSubscribed(e){const t=this.subscriptionStatus,n=this.permissionStatus;this.subscribed=e,e&&(this.allowed=!0);const i=new bu({trackSids:[this.trackSid],subscribe:this.subscribed,participantTracks:[new Zs({participantSid:"",trackSids:[this.trackSid]})]});this.emit(qc.UpdateSubscription,i),this.emitSubscriptionUpdateIfChanged(t),this.emitPermissionUpdateIfChanged(n)}get subscriptionStatus(){return!1===this.subscribed?sf.SubscriptionStatus.Unsubscribed:super.isSubscribed?sf.SubscriptionStatus.Subscribed:sf.SubscriptionStatus.Desired}get permissionStatus(){return this.allowed?sf.PermissionStatus.Allowed:sf.PermissionStatus.NotAllowed}get isSubscribed(){return!1!==this.subscribed&&super.isSubscribed}get isDesired(){return!1!==this.subscribed}get isEnabled(){return void 0!==this.requestedDisabled?!this.requestedDisabled:!this.isAdaptiveStream||this.visible}get isLocal(){return!1}setEnabled(e){!this.isManualOperationAllowed()||this.requestedDisabled===!e||(this.requestedDisabled=!e,this.emitTrackUpdate())}setVideoQuality(e){!this.isManualOperationAllowed()||this.requestedMaxQuality===e||(this.requestedMaxQuality=e,this.requestedVideoDimensions=void 0,this.emitTrackUpdate())}setVideoDimensions(e){var t,n;this.isManualOperationAllowed()&&((null===(t=this.requestedVideoDimensions)||void 0===t?void 0:t.width)===e.width&&(null===(n=this.requestedVideoDimensions)||void 0===n?void 0:n.height)===e.height||(lh(this.track)&&(this.requestedVideoDimensions=e),this.requestedMaxQuality=void 0,this.emitTrackUpdate()))}setVideoFPS(e){this.isManualOperationAllowed()&&lh(this.track)&&this.fps!==e&&(this.fps=e,this.emitTrackUpdate())}get videoQuality(){var e;return null!==(e=this.requestedMaxQuality)&&void 0!==e?e:ld.HIGH}setTrack(e){const t=this.subscriptionStatus,n=this.permissionStatus,i=this.track;i!==e&&(i&&(i.off(qc.VideoDimensionsChanged,this.handleVideoDimensionsChange),i.off(qc.VisibilityChanged,this.handleVisibilityChange),i.off(qc.Ended,this.handleEnded),i.detach(),i.stopMonitor(),this.emit(qc.Unsubscribed,i)),super.setTrack(e),e&&(e.sid=this.trackSid,e.on(qc.VideoDimensionsChanged,this.handleVideoDimensionsChange),e.on(qc.VisibilityChanged,this.handleVisibilityChange),e.on(qc.Ended,this.handleEnded),this.emit(qc.Subscribed,e)),this.emitPermissionUpdateIfChanged(n),this.emitSubscriptionUpdateIfChanged(t))}setAllowed(e){const t=this.subscriptionStatus,n=this.permissionStatus;this.allowed=e,this.emitPermissionUpdateIfChanged(n),this.emitSubscriptionUpdateIfChanged(t)}setSubscriptionError(e){this.emit(qc.SubscriptionFailed,e)}updateInfo(e){super.updateInfo(e);const t=this.metadataMuted;this.metadataMuted=e.muted,this.track?this.track.setMuted(e.muted):t!==e.muted&&this.emit(e.muted?qc.Muted:qc.Unmuted)}emitSubscriptionUpdateIfChanged(e){const t=this.subscriptionStatus;e!==t&&this.emit(qc.SubscriptionStatusChanged,t,e)}emitPermissionUpdateIfChanged(e){this.permissionStatus!==e&&this.emit(qc.SubscriptionPermissionChanged,this.permissionStatus,e)}isManualOperationAllowed(){return!!this.isDesired||(this.log.warn("cannot update track settings when not subscribed",this.logContext),!1)}get isAdaptiveStream(){return lh(this.track)&&this.track.isAdaptiveStream}emitTrackUpdate(){const e=new ku({trackSids:[this.trackSid],disabled:!this.isEnabled,fps:this.fps});if(this.kind===cd.Kind.Video){let t=this.requestedVideoDimensions;if(void 0!==this.videoDimensionsAdaptiveStream)if(t)Eh(this.videoDimensionsAdaptiveStream,t)&&(this.log.debug("using adaptive stream dimensions instead of requested",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),t=this.videoDimensionsAdaptiveStream);else if(void 0!==this.requestedMaxQuality&&this.trackInfo){const e=function(e,t){var n;return null===(n=e.layers)||void 0===n?void 0:n.find(e=>e.quality===t)}(this.trackInfo,this.requestedMaxQuality);e&&Eh(this.videoDimensionsAdaptiveStream,e)&&(this.log.debug("using adaptive stream dimensions instead of max quality layer",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),t=this.videoDimensionsAdaptiveStream)}else this.log.debug("using adaptive stream dimensions",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),t=this.videoDimensionsAdaptiveStream;t?(e.width=Math.ceil(t.width),e.height=Math.ceil(t.height)):void 0!==this.requestedMaxQuality?(this.log.debug("using requested max quality",Object.assign(Object.assign({},this.logContext),{quality:this.requestedMaxQuality})),e.quality=this.requestedMaxQuality):(this.log.debug("using default quality",Object.assign(Object.assign({},this.logContext),{quality:ld.HIGH})),e.quality=ld.HIGH)}this.emit(qc.UpdateSettings,e)}}class pf extends cf{static fromParticipantInfo(e,t,n){return new pf(e,t.sid,t.identity,t.name,t.metadata,t.attributes,n,t.kind)}get logContext(){return Object.assign(Object.assign({},super.logContext),{rpID:this.sid,remoteParticipant:this.identity})}constructor(e,t,n,i,r,a,o){super(t,n||"",i,r,a,o,arguments.length>7&&void 0!==arguments[7]?arguments[7]:ks.STANDARD),this.signalClient=e,this.trackPublications=new Map,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.volumeMap=new Map}addTrackPublication(e){super.addTrackPublication(e),e.on(qc.UpdateSettings,t=>{this.log.debug("send update settings",Object.assign(Object.assign(Object.assign({},this.logContext),Dh(e)),{settings:t})),this.signalClient.sendUpdateTrackSettings(t)}),e.on(qc.UpdateSubscription,e=>{e.participantTracks.forEach(e=>{e.participantSid=this.sid}),this.signalClient.sendUpdateSubscription(e)}),e.on(qc.SubscriptionPermissionChanged,t=>{this.emit($c.TrackSubscriptionPermissionChanged,e,t)}),e.on(qc.SubscriptionStatusChanged,t=>{this.emit($c.TrackSubscriptionStatusChanged,e,t)}),e.on(qc.Subscribed,t=>{this.emit($c.TrackSubscribed,t,e)}),e.on(qc.Unsubscribed,t=>{this.emit($c.TrackUnsubscribed,t,e)}),e.on(qc.SubscriptionFailed,t=>{this.emit($c.TrackSubscriptionFailed,e.trackSid,t)})}getTrackPublication(e){const t=super.getTrackPublication(e);if(t)return t}getTrackPublicationByName(e){const t=super.getTrackPublicationByName(e);if(t)return t}setVolume(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cd.Source.Microphone;this.volumeMap.set(t,e);const n=this.getTrackPublication(t);n&&n.track&&n.track.setVolume(e)}getVolume(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cd.Source.Microphone;const t=this.getTrackPublication(e);return t&&t.track?t.track.getVolume():this.volumeMap.get(e)}addSubscribedMediaTrack(e,t,n,i,r,a){let o,s=this.getTrackPublicationBySid(t);return s||t.startsWith("TR")||this.trackPublications.forEach(t=>{!s&&e.kind===t.kind.toString()&&(s=t)}),s?"ended"===e.readyState?(this.log.error("unable to subscribe because MediaStreamTrack is ended. Do not call MediaStreamTrack.stop()",Object.assign(Object.assign({},this.logContext),Dh(s))),void this.emit($c.TrackSubscriptionFailed,t)):(o="video"===e.kind?new nf(e,t,i,r):new tf(e,t,i,this.audioContext,this.audioOutput),o.source=s.source,o.isMuted=s.isMuted,o.setMediaStream(n),o.start(),s.setTrack(o),this.volumeMap.has(s.source)&&sh(o)&&ih(o)&&o.setVolume(this.volumeMap.get(s.source)),s):0===a?(this.log.error("could not find published track",Object.assign(Object.assign({},this.logContext),{trackSid:t})),void this.emit($c.TrackSubscriptionFailed,t)):(void 0===a&&(a=20),void setTimeout(()=>{this.addSubscribedMediaTrack(e,t,n,i,r,a-1)},150))}get hasMetadata(){return!!this.participantInfo}getTrackPublicationBySid(e){return this.trackPublications.get(e)}updateInfo(e){if(!super.updateInfo(e))return!1;const t=new Map,n=new Map;return e.tracks.forEach(e=>{var i,r;let a=this.getTrackPublicationBySid(e.sid);if(a)a.updateInfo(e);else{const t=cd.kindFromProto(e.type);if(!t)return;a=new hf(t,e,null===(i=this.signalClient.connectOptions)||void 0===i?void 0:i.autoSubscribe,{loggerContextCb:()=>this.logContext,loggerName:null===(r=this.loggerOptions)||void 0===r?void 0:r.loggerName}),a.updateInfo(e),n.set(e.sid,a);const o=Array.from(this.trackPublications.values()).find(e=>e.source===(null==a?void 0:a.source));o&&a.source!==cd.Source.Unknown&&this.log.debug("received a second track publication for ".concat(this.identity," with the same source: ").concat(a.source),Object.assign(Object.assign({},this.logContext),{oldTrack:Dh(o),newTrack:Dh(a)})),this.addTrackPublication(a)}t.set(e.sid,a)}),this.trackPublications.forEach(e=>{t.has(e.trackSid)||(this.log.trace("detected removed track on remote participant, unpublishing",Object.assign(Object.assign({},this.logContext),Dh(e))),this.unpublishTrack(e.trackSid,!0))}),n.forEach(e=>{this.emit($c.TrackPublished,e)}),!0}unpublishTrack(e,t){const n=this.trackPublications.get(e);if(!n)return;const{track:i}=n;switch(i&&(i.stop(),n.setTrack(void 0)),this.trackPublications.delete(e),n.kind){case cd.Kind.Audio:this.audioTrackPublications.delete(e);break;case cd.Kind.Video:this.videoTrackPublications.delete(e)}t&&this.emit($c.TrackUnpublished,n)}setAudioOutput(e){return El(this,void 0,void 0,function*(){this.audioOutput=e;const t=[];this.audioTrackPublications.forEach(n=>{var i;ih(n.track)&&sh(n.track)&&t.push(n.track.setSinkId(null!==(i=e.deviceId)&&void 0!==i?i:"default"))}),yield Promise.all(t)})}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return this.log.trace("participant event",Object.assign(Object.assign({},this.logContext),{event:e,args:n})),super.emit(e,...n)}}!function(e){e.Disconnected="disconnected",e.Connecting="connecting",e.Connected="connected",e.Reconnecting="reconnecting",e.SignalReconnecting="signalReconnecting"}(Up||(Up={}));class ff extends Tl.EventEmitter{get hasE2EESetup(){return void 0!==this.e2eeManager}constructor(e){var t,n,i,r;if(super(),t=this,this.state=Up.Disconnected,this.activeSpeakers=[],this.isE2EEEnabled=!1,this.audioEnabled=!0,this.isVideoPlaybackBlocked=!1,this.log=ml,this.bufferedEvents=[],this.isResuming=!1,this.rpcHandlers=new Map,this.connect=(e,t,n)=>El(this,void 0,void 0,function*(){var i;if(typeof RTCPeerConnection>"u"||!Td()&&!yd())throw Id()?Error("WebRTC isn't detected, have you called registerGlobals?"):Error("LiveKit doesn't seem to be supported on this browser. Try to update your browser and make sure no browser extensions are disabling webRTC.");const r=yield this.disconnectLock.lock();if(this.state===Up.Connected)return this.log.info("already connected to room ".concat(this.name),this.logContext),r(),Promise.resolve();if(this.connectFuture)return r(),this.connectFuture.promise;this.setAndEmitConnectionState(Up.Connecting),(null===(i=this.regionUrlProvider)||void 0===i?void 0:i.getServerUrl().toString())!==e&&(this.regionUrl=void 0,this.regionUrlProvider=void 0),Qd(new URL(e))&&(void 0===this.regionUrlProvider?this.regionUrlProvider=new cp(e,t):this.regionUrlProvider.updateToken(t),this.regionUrlProvider.fetchRegionSettings().then(e=>{var t;null===(t=this.regionUrlProvider)||void 0===t||t.setServerReportedRegions(e)}).catch(e=>{this.log.warn("could not fetch region settings",Object.assign(Object.assign({},this.logContext),{error:e}))}));const a=(i,o,s)=>El(this,void 0,void 0,function*(){var u,l;this.abortController&&this.abortController.abort();const c=new AbortController;this.abortController=c,null==r||r();try{if(yield bh.getInstance().getBackOffPromise(e),c.signal.aborted)throw new Zc("Connection attempt aborted",Qc.Cancelled);yield this.attemptConnection(null!=s?s:e,t,n,c),this.abortController=void 0,i()}catch(t){if(this.regionUrlProvider&&t instanceof Zc&&t.reason!==Qc.Cancelled&&t.reason!==Qc.NotAllowed){let n=null;try{this.log.debug("Fetching next region"),n=yield this.regionUrlProvider.getNextBestRegionUrl(null===(u=this.abortController)||void 0===u?void 0:u.signal)}catch(e){if(e instanceof Zc&&(401===e.status||e.reason===Qc.Cancelled))return this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),void o(e)}[Qc.InternalError,Qc.ServerUnreachable,Qc.Timeout].includes(t.reason)&&(this.log.debug("Adding failed connection attempt to back off"),bh.getInstance().addFailedConnectionAttempt(e)),!n||null!==(l=this.abortController)&&void 0!==l&&l.signal.aborted?(this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,Jd(t)),o(t)):(this.log.info("Initial connection failed with ConnectionError: ".concat(t.message,". Retrying with another region: ").concat(n),this.logContext),this.recreateEngine(),yield a(i,o,n))}else{let e=fs.UNKNOWN_REASON;t instanceof Zc&&(e=Jd(t)),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,e),o(t)}}}),o=this.regionUrl;return this.regionUrl=void 0,this.connectFuture=new Yd((e,t)=>{a(e,t,o)},()=>{this.clearConnectionFutures()}),this.connectFuture.promise}),this.connectSignal=(e,t,n,i,r,a)=>El(this,void 0,void 0,function*(){var o,s,u;const l=yield n.join(e,t,{autoSubscribe:i.autoSubscribe,adaptiveStream:"object"==typeof r.adaptiveStream||r.adaptiveStream,maxRetries:i.maxRetries,e2eeEnabled:!!this.e2eeManager,websocketTimeout:i.websocketTimeout,singlePeerConnection:r.singlePeerConnection},a.signal);let c=l.serverInfo;if(c||(c={version:l.serverVersion,region:l.serverRegion}),this.serverInfo=c,this.log.debug("connected to Livekit Server ".concat(Object.entries(c).map(e=>{let[t,n]=e;return"".concat(t,": ").concat(n)}).join(", ")),{room:null===(o=l.room)||void 0===o?void 0:o.name,roomSid:null===(s=l.room)||void 0===s?void 0:s.sid,identity:null===(u=l.participant)||void 0===u?void 0:u.identity}),!c.version)throw new Gc("unknown server version");return"0.15.1"===c.version&&this.options.dynacast&&(this.log.debug("disabling dynacast due to server version",this.logContext),r.dynacast=!1),l}),this.applyJoinResponse=e=>{const t=e.participant;if(this.localParticipant.sid=t.sid,this.localParticipant.identity=t.identity,this.localParticipant.setEnabledPublishCodecs(e.enabledPublishCodecs),this.e2eeManager)try{this.e2eeManager.setSifTrailer(e.sifTrailer)}catch(e){this.log.error(e instanceof Error?e.message:"Could not set SifTrailer",Object.assign(Object.assign({},this.logContext),{error:e}))}this.handleParticipantUpdates([t,...e.otherParticipants]),e.room&&this.handleRoomUpdate(e.room)},this.attemptConnection=(e,t,n,i)=>El(this,void 0,void 0,function*(){var r,a;this.state===Up.Reconnecting||this.isResuming||null!==(r=this.engine)&&void 0!==r&&r.pendingReconnect?(this.log.info("Reconnection attempt replaced by new connection attempt",this.logContext),this.recreateEngine()):this.maybeCreateEngine(),!(null===(a=this.regionUrlProvider)||void 0===a)&&a.isCloud()&&this.engine.setRegionUrlProvider(this.regionUrlProvider),this.acquireAudioContext(),this.connOptions=Object.assign(Object.assign({},sp),n),this.connOptions.rtcConfig&&(this.engine.rtcConfig=this.connOptions.rtcConfig),this.connOptions.peerConnectionTimeout&&(this.engine.peerConnectionTimeout=this.connOptions.peerConnectionTimeout);try{const n=yield this.connectSignal(e,t,this.engine,this.connOptions,this.options,i);this.applyJoinResponse(n),this.setupLocalParticipantEvents(),this.emit(Lc.SignalConnected)}catch(e){yield this.engine.close(),this.recreateEngine();const t=new Zc("could not establish signal connection",i.signal.aborted?Qc.Cancelled:Qc.ServerUnreachable);throw e instanceof Error&&(t.message="".concat(t.message,": ").concat(e.message)),e instanceof Zc&&(t.reason=e.reason,t.status=e.status),this.log.debug("error trying to establish signal connection",Object.assign(Object.assign({},this.logContext),{error:e})),t}if(i.signal.aborted)throw yield this.engine.close(),this.recreateEngine(),new Zc("Connection attempt aborted",Qc.Cancelled);try{yield this.engine.waitForPCInitialConnection(this.connOptions.peerConnectionTimeout,i)}catch(e){throw yield this.engine.close(),this.recreateEngine(),e}Rd()&&this.options.disconnectOnPageLeave&&(window.addEventListener("pagehide",this.onPageLeave),window.addEventListener("beforeunload",this.onPageLeave)),Rd()&&document.addEventListener("freeze",this.onPageLeave),this.setAndEmitConnectionState(Up.Connected),this.emit(Lc.Connected),bh.getInstance().resetFailedConnectionAttempts(e),this.registerConnectionReconcile(),this.regionUrlProvider&&this.regionUrlProvider.notifyConnected()}),this.disconnect=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return El(t,[...n],void 0,function(){var e=this;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function*(){var n,i,r;const a=yield e.disconnectLock.lock();try{if(e.state===Up.Disconnected)return void e.log.debug("already disconnected",e.logContext);if(e.log.info("disconnect from room",Object.assign({},e.logContext)),e.state===Up.Connecting||e.state===Up.Reconnecting||e.isResuming){const t="Abort connection attempt due to user initiated disconnect";e.log.warn(t,e.logContext),null===(n=e.abortController)||void 0===n||n.abort(t),null===(r=null===(i=e.connectFuture)||void 0===i?void 0:i.reject)||void 0===r||r.call(i,new Zc("Client initiated disconnect",Qc.Cancelled)),e.connectFuture=void 0}e.engine&&(e.engine.client.isDisconnected||(yield e.engine.client.sendLeave()),yield e.engine.close()),e.handleDisconnect(t,fs.CLIENT_INITIATED),e.engine=void 0}finally{a()}}()})},this.onPageLeave=()=>El(this,void 0,void 0,function*(){this.log.info("Page leave detected, disconnecting",this.logContext),yield this.disconnect()}),this.startAudio=()=>El(this,void 0,void 0,function*(){const e=[],t=id();if(t&&"iOS"===t.os){const t="livekit-dummy-audio-el";let n=document.getElementById(t);if(!n){n=document.createElement("audio"),n.id=t,n.autoplay=!0,n.hidden=!0;const e=Vd();e.enabled=!0;const i=new MediaStream([e]);n.srcObject=i,document.addEventListener("visibilitychange",()=>{n&&(n.srcObject=document.hidden?null:i,document.hidden||(this.log.debug("page visible again, triggering startAudio to resume playback and update playback status",this.logContext),this.startAudio()))}),document.body.append(n),this.once(Lc.Disconnected,()=>{null==n||n.remove(),n=null})}e.push(n)}this.remoteParticipants.forEach(t=>{t.audioTrackPublications.forEach(t=>{t.track&&t.track.attachedElements.forEach(t=>{e.push(t)})})});try{yield Promise.all([this.acquireAudioContext(),...e.map(e=>(e.muted=!1,e.play()))]),this.handleAudioPlaybackStarted()}catch(e){throw this.handleAudioPlaybackFailed(e),e}}),this.startVideo=()=>El(this,void 0,void 0,function*(){const e=[];for(const t of this.remoteParticipants.values())t.videoTrackPublications.forEach(t=>{var n;null===(n=t.track)||void 0===n||n.attachedElements.forEach(t=>{e.includes(t)||e.push(t)})});yield Promise.all(e.map(e=>e.play())).then(()=>{this.handleVideoPlaybackStarted()}).catch(e=>{"NotAllowedError"===e.name?this.handleVideoPlaybackFailed():this.log.warn("Resuming video playback failed, make sure you call `startVideo` directly in a user gesture handler",this.logContext)})}),this.handleRestarting=()=>{this.clearConnectionReconcile(),this.isResuming=!1;for(const e of this.remoteParticipants.values())this.handleParticipantDisconnected(e.identity,e);this.setAndEmitConnectionState(Up.Reconnecting)&&this.emit(Lc.Reconnecting)},this.handleSignalRestarted=e=>El(this,void 0,void 0,function*(){this.log.debug("signal reconnected to server, region ".concat(e.serverRegion),Object.assign(Object.assign({},this.logContext),{region:e.serverRegion})),this.bufferedEvents=[],this.applyJoinResponse(e);try{yield this.localParticipant.republishAllTracks(void 0,!0)}catch(e){this.log.error("error trying to re-publish tracks after reconnection",Object.assign(Object.assign({},this.logContext),{error:e}))}try{yield this.engine.waitForRestarted(),this.log.debug("fully reconnected to server",Object.assign(Object.assign({},this.logContext),{region:e.serverRegion}))}catch(e){return}this.setAndEmitConnectionState(Up.Connected),this.emit(Lc.Reconnected),this.registerConnectionReconcile(),this.emitBufferedEvents()}),this.handleParticipantUpdates=e=>{e.forEach(e=>{var t;if(e.identity===this.localParticipant.identity)return void this.localParticipant.updateInfo(e);""===e.identity&&(e.identity=null!==(t=this.sidToIdentity.get(e.sid))&&void 0!==t?t:"");let n=this.remoteParticipants.get(e.identity);e.state===bs.DISCONNECTED?this.handleParticipantDisconnected(e.identity,n):n=this.getOrCreateParticipant(e.identity,e)})},this.handleActiveSpeakersUpdate=e=>{const t=[],n={};e.forEach(e=>{if(n[e.sid]=!0,e.sid===this.localParticipant.sid)this.localParticipant.audioLevel=e.level,this.localParticipant.setIsSpeaking(!0),t.push(this.localParticipant);else{const n=this.getRemoteParticipantBySid(e.sid);n&&(n.audioLevel=e.level,n.setIsSpeaking(!0),t.push(n))}}),n[this.localParticipant.sid]||(this.localParticipant.audioLevel=0,this.localParticipant.setIsSpeaking(!1)),this.remoteParticipants.forEach(e=>{n[e.sid]||(e.audioLevel=0,e.setIsSpeaking(!1))}),this.activeSpeakers=t,this.emitWhenConnected(Lc.ActiveSpeakersChanged,t)},this.handleSpeakersChanged=e=>{const t=new Map;this.activeSpeakers.forEach(e=>{const n=this.remoteParticipants.get(e.identity);n&&n.sid!==e.sid||t.set(e.sid,e)}),e.forEach(e=>{let n=this.getRemoteParticipantBySid(e.sid);e.sid===this.localParticipant.sid&&(n=this.localParticipant),n&&(n.audioLevel=e.level,n.setIsSpeaking(e.active),e.active?t.set(e.sid,n):t.delete(e.sid))});const n=Array.from(t.values());n.sort((e,t)=>t.audioLevel-e.audioLevel),this.activeSpeakers=n,this.emitWhenConnected(Lc.ActiveSpeakersChanged,n)},this.handleStreamStateUpdate=e=>{e.streamStates.forEach(e=>{const t=this.getRemoteParticipantBySid(e.participantSid);if(!t)return;const n=t.getTrackPublicationBySid(e.trackSid);if(!n||!n.track)return;const i=cd.streamStateFromProto(e.state);n.track.setStreamState(i),i!==n.track.streamState&&(t.emit($c.TrackStreamStateChanged,n,n.track.streamState),this.emitWhenConnected(Lc.TrackStreamStateChanged,n,n.track.streamState,t))})},this.handleSubscriptionPermissionUpdate=e=>{const t=this.getRemoteParticipantBySid(e.participantSid);if(!t)return;const n=t.getTrackPublicationBySid(e.trackSid);n&&n.setAllowed(e.allowed)},this.handleSubscriptionError=e=>{const t=Array.from(this.remoteParticipants.values()).find(t=>t.trackPublications.has(e.trackSid));if(!t)return;const n=t.getTrackPublicationBySid(e.trackSid);n&&n.setSubscriptionError(e.err)},this.handleDataPacket=(e,t)=>{const n=this.remoteParticipants.get(e.participantIdentity);if("user"===e.value.case)this.handleUserPacket(n,e.value.value,e.kind,t);else if("transcription"===e.value.case)this.handleTranscription(n,e.value.value);else if("sipDtmf"===e.value.case)this.handleSipDtmf(n,e.value.value);else if("chatMessage"===e.value.case)this.handleChatMessage(n,e.value.value);else if("metrics"===e.value.case)this.handleMetrics(e.value.value,n);else if("streamHeader"===e.value.case||"streamChunk"===e.value.case||"streamTrailer"===e.value.case)this.handleDataStream(e,t);else if("rpcRequest"===e.value.case){const t=e.value.value;this.handleIncomingRpcRequest(e.participantIdentity,t.id,t.method,t.payload,t.responseTimeoutMs,t.version)}},this.handleUserPacket=(e,t,n,i)=>{this.emit(Lc.DataReceived,t.payload,e,n,t.topic,i),null==e||e.emit($c.DataReceived,t.payload,n,i)},this.handleSipDtmf=(e,t)=>{this.emit(Lc.SipDTMFReceived,t,e),null==e||e.emit($c.SipDTMFReceived,t)},this.handleTranscription=(e,t)=>{const n=t.transcribedParticipantIdentity===this.localParticipant.identity?this.localParticipant:this.getParticipantByIdentity(t.transcribedParticipantIdentity),i=null==n?void 0:n.trackPublications.get(t.trackId),r=function(e,t){return e.segments.map(e=>{let{id:n,text:i,language:r,startTime:a,endTime:o,final:s}=e;var u;const l=null!==(u=t.get(n))&&void 0!==u?u:Date.now(),c=Date.now();return s?t.delete(n):t.set(n,l),{id:n,text:i,startTime:Number.parseInt(a.toString()),endTime:Number.parseInt(o.toString()),final:s,language:r,firstReceivedTime:l,lastReceivedTime:c}})}(t,this.transcriptionReceivedTimes);null==i||i.emit(qc.TranscriptionReceived,r),null==n||n.emit($c.TranscriptionReceived,r,i),this.emit(Lc.TranscriptionReceived,r,n,i)},this.handleChatMessage=(e,t)=>{const n=function(e){const{id:t,timestamp:n,message:i,editTimestamp:r}=e;return{id:t,timestamp:Number.parseInt(n.toString()),editTimestamp:r?Number.parseInt(r.toString()):void 0,message:i}}(t);this.emit(Lc.ChatMessage,n,e)},this.handleMetrics=(e,t)=>{this.emit(Lc.MetricsReceived,e,t)},this.handleDataStream=(e,t)=>{this.incomingDataStreamManager.handleDataStreamPacket(e,t)},this.bufferedSegments=new Map,this.handleAudioPlaybackStarted=()=>{this.canPlaybackAudio||(this.audioEnabled=!0,this.emit(Lc.AudioPlaybackStatusChanged,!0))},this.handleAudioPlaybackFailed=e=>{this.log.warn("could not playback audio",Object.assign(Object.assign({},this.logContext),{error:e})),this.canPlaybackAudio&&(this.audioEnabled=!1,this.emit(Lc.AudioPlaybackStatusChanged,!1))},this.handleVideoPlaybackStarted=()=>{this.isVideoPlaybackBlocked&&(this.isVideoPlaybackBlocked=!1,this.emit(Lc.VideoPlaybackStatusChanged,!0))},this.handleVideoPlaybackFailed=()=>{this.isVideoPlaybackBlocked||(this.isVideoPlaybackBlocked=!0,this.emit(Lc.VideoPlaybackStatusChanged,!1))},this.handleDeviceChange=()=>El(this,void 0,void 0,function*(){var e;"iOS"!==(null===(e=id())||void 0===e?void 0:e.os)&&(yield this.selectDefaultDevices()),this.emit(Lc.MediaDevicesChanged)}),this.handleRoomUpdate=e=>{const t=this.roomInfo;this.roomInfo=e,t&&t.metadata!==e.metadata&&this.emitWhenConnected(Lc.RoomMetadataChanged,e.metadata),(null==t?void 0:t.activeRecording)!==e.activeRecording&&this.emitWhenConnected(Lc.RecordingStatusChanged,e.activeRecording)},this.handleConnectionQualityUpdate=e=>{e.updates.forEach(e=>{if(e.participantSid===this.localParticipant.sid)return void this.localParticipant.setConnectionQuality(e.quality);const t=this.getRemoteParticipantBySid(e.participantSid);t&&t.setConnectionQuality(e.quality)})},this.onLocalParticipantMetadataChanged=e=>{this.emit(Lc.ParticipantMetadataChanged,e,this.localParticipant)},this.onLocalParticipantNameChanged=e=>{this.emit(Lc.ParticipantNameChanged,e,this.localParticipant)},this.onLocalAttributesChanged=e=>{this.emit(Lc.ParticipantAttributesChanged,e,this.localParticipant)},this.onLocalTrackMuted=e=>{this.emit(Lc.TrackMuted,e,this.localParticipant)},this.onLocalTrackUnmuted=e=>{this.emit(Lc.TrackUnmuted,e,this.localParticipant)},this.onTrackProcessorUpdate=e=>{var t;null===(t=null==e?void 0:e.onPublish)||void 0===t||t.call(e,this)},this.onLocalTrackPublished=e=>El(this,void 0,void 0,function*(){var t,n,i,r,a,o;null===(t=e.track)||void 0===t||t.on(qc.TrackProcessorUpdate,this.onTrackProcessorUpdate),null===(n=e.track)||void 0===n||n.on(qc.Restarted,this.onLocalTrackRestarted),null===(a=null===(r=null===(i=e.track)||void 0===i?void 0:i.getProcessor())||void 0===r?void 0:r.onPublish)||void 0===a||a.call(r,this),this.emit(Lc.LocalTrackPublished,e,this.localParticipant),oh(e.track)&&(yield e.track.checkForSilence())&&this.emit(Lc.LocalAudioSilenceDetected,e);const s=yield null===(o=e.track)||void 0===o?void 0:o.getDeviceId(!1),u=mh(e.source);u&&s&&s!==this.localParticipant.activeDeviceMap.get(u)&&(this.localParticipant.activeDeviceMap.set(u,s),this.emit(Lc.ActiveDeviceChanged,u,s))}),this.onLocalTrackUnpublished=e=>{var t,n;null===(t=e.track)||void 0===t||t.off(qc.TrackProcessorUpdate,this.onTrackProcessorUpdate),null===(n=e.track)||void 0===n||n.off(qc.Restarted,this.onLocalTrackRestarted),this.emit(Lc.LocalTrackUnpublished,e,this.localParticipant)},this.onLocalTrackRestarted=e=>El(this,void 0,void 0,function*(){const t=yield e.getDeviceId(!1),n=mh(e.source);n&&t&&t!==this.localParticipant.activeDeviceMap.get(n)&&(this.log.debug("local track restarted, setting ".concat(n," ").concat(t," active"),this.logContext),this.localParticipant.activeDeviceMap.set(n,t),this.emit(Lc.ActiveDeviceChanged,n,t))}),this.onLocalConnectionQualityChanged=e=>{this.emit(Lc.ConnectionQualityChanged,e,this.localParticipant)},this.onMediaDevicesError=(e,t)=>{this.emit(Lc.MediaDevicesError,e,t)},this.onLocalParticipantPermissionsChanged=e=>{this.emit(Lc.ParticipantPermissionsChanged,e,this.localParticipant)},this.onLocalChatMessageSent=e=>{this.emit(Lc.ChatMessage,e,this.localParticipant)},this.setMaxListeners(100),this.remoteParticipants=new Map,this.sidToIdentity=new Map,this.options=Object.assign(Object.assign({},op),e),this.log=Ol(null!==(n=this.options.loggerName)&&void 0!==n?n:dl.Room),this.transcriptionReceivedTimes=new Map,this.options.audioCaptureDefaults=Object.assign(Object.assign({},rp),null==e?void 0:e.audioCaptureDefaults),this.options.videoCaptureDefaults=Object.assign(Object.assign({},ap),null==e?void 0:e.videoCaptureDefaults),this.options.publishDefaults=Object.assign(Object.assign({},ip),null==e?void 0:e.publishDefaults),this.maybeCreateEngine(),this.incomingDataStreamManager=new Vp,this.outgoingDataStreamManager=new Jp(this.engine,this.log),this.disconnectLock=new Ta,this.localParticipant=new df("","",this.engine,this.options,this.rpcHandlers,this.outgoingDataStreamManager),(this.options.e2ee||this.options.encryption)&&this.setupE2EE(),this.engine.e2eeManager=this.e2eeManager,this.options.videoCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("videoinput",Hd(this.options.videoCaptureDefaults.deviceId)),this.options.audioCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("audioinput",Hd(this.options.audioCaptureDefaults.deviceId)),!(null===(i=this.options.audioOutput)||void 0===i)&&i.deviceId&&this.switchActiveDevice("audiooutput",Hd(this.options.audioOutput.deviceId)).catch(e=>this.log.warn("Could not set audio output: ".concat(e.message),this.logContext)),Rd()){const e=new AbortController;null===(r=navigator.mediaDevices)||void 0===r||r.addEventListener("devicechange",this.handleDeviceChange,{signal:e.signal}),ff.cleanupRegistry&&ff.cleanupRegistry.register(this,()=>{e.abort()})}}registerTextStreamHandler(e,t){return this.incomingDataStreamManager.registerTextStreamHandler(e,t)}unregisterTextStreamHandler(e){return this.incomingDataStreamManager.unregisterTextStreamHandler(e)}registerByteStreamHandler(e,t){return this.incomingDataStreamManager.registerByteStreamHandler(e,t)}unregisterByteStreamHandler(e){return this.incomingDataStreamManager.unregisterByteStreamHandler(e)}registerRpcMethod(e,t){if(this.rpcHandlers.has(e))throw Error("RPC handler already registered for method ".concat(e,", unregisterRpcMethod before trying to register again"));this.rpcHandlers.set(e,t)}unregisterRpcMethod(e){this.rpcHandlers.delete(e)}setE2EEEnabled(e){return El(this,void 0,void 0,function*(){if(!this.e2eeManager)throw Error("e2ee not configured, please set e2ee settings within the room options");yield Promise.all([this.localParticipant.setE2EEEnabled(e)]),""!==this.localParticipant.identity&&this.e2eeManager.setParticipantCryptorEnabled(e,this.localParticipant.identity)})}setupE2EE(){var e;const t=!!this.options.encryption,n=this.options.encryption||this.options.e2ee;n&&("e2eeManager"in n?(this.e2eeManager=n.e2eeManager,this.e2eeManager.isDataChannelEncryptionEnabled=t):this.e2eeManager=new Ch(n,t),this.e2eeManager.on(Rc.ParticipantEncryptionStatusChanged,(e,t)=>{(function(e){return e.isLocal})(t)&&(this.isE2EEEnabled=e),this.emit(Lc.ParticipantEncryptionStatusChanged,e,t)}),this.e2eeManager.on(Rc.EncryptionError,(e,t)=>{const n=t?this.getParticipantByIdentity(t):void 0;this.emit(Lc.EncryptionError,e,n)}),null===(e=this.e2eeManager)||void 0===e||e.setup(this))}get logContext(){var e;return{room:this.name,roomID:null===(e=this.roomInfo)||void 0===e?void 0:e.sid,participant:this.localParticipant.identity,pID:this.localParticipant.sid}}get isRecording(){var e,t;return null!==(t=null===(e=this.roomInfo)||void 0===e?void 0:e.activeRecording)&&void 0!==t&&t}getSid(){return El(this,void 0,void 0,function*(){return this.state===Up.Disconnected?"":this.roomInfo&&""!==this.roomInfo.sid?this.roomInfo.sid:new Promise((e,t)=>{const n=t=>{""!==t.sid&&(this.engine.off(Uc.RoomUpdate,n),e(t.sid))};this.engine.on(Uc.RoomUpdate,n),this.once(Lc.Disconnected,()=>{this.engine.off(Uc.RoomUpdate,n),t("Room disconnected before room server id was available")})})})}get name(){var e,t;return null!==(t=null===(e=this.roomInfo)||void 0===e?void 0:e.name)&&void 0!==t?t:""}get metadata(){var e;return null===(e=this.roomInfo)||void 0===e?void 0:e.metadata}get numParticipants(){var e,t;return null!==(t=null===(e=this.roomInfo)||void 0===e?void 0:e.numParticipants)&&void 0!==t?t:0}get numPublishers(){var e,t;return null!==(t=null===(e=this.roomInfo)||void 0===e?void 0:e.numPublishers)&&void 0!==t?t:0}maybeCreateEngine(){this.engine&&!this.engine.isClosed||(this.engine=new Xp(this.options),this.engine.e2eeManager=this.e2eeManager,this.engine.on(Uc.ParticipantUpdate,this.handleParticipantUpdates).on(Uc.RoomUpdate,this.handleRoomUpdate).on(Uc.SpeakersChanged,this.handleSpeakersChanged).on(Uc.StreamStateChanged,this.handleStreamStateUpdate).on(Uc.ConnectionQualityUpdate,this.handleConnectionQualityUpdate).on(Uc.SubscriptionError,this.handleSubscriptionError).on(Uc.SubscriptionPermissionUpdate,this.handleSubscriptionPermissionUpdate).on(Uc.MediaTrackAdded,(e,t,n)=>{this.onTrackAdded(e,t,n)}).on(Uc.Disconnected,e=>{this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,e)}).on(Uc.ActiveSpeakersUpdate,this.handleActiveSpeakersUpdate).on(Uc.DataPacketReceived,this.handleDataPacket).on(Uc.Resuming,()=>{this.clearConnectionReconcile(),this.isResuming=!0,this.log.info("Resuming signal connection",this.logContext),this.setAndEmitConnectionState(Up.SignalReconnecting)&&this.emit(Lc.SignalReconnecting)}).on(Uc.Resumed,()=>{this.registerConnectionReconcile(),this.isResuming=!1,this.log.info("Resumed signal connection",this.logContext),this.updateSubscriptions(),this.emitBufferedEvents(),this.setAndEmitConnectionState(Up.Connected)&&this.emit(Lc.Reconnected)}).on(Uc.SignalResumed,()=>{this.bufferedEvents=[],(this.state===Up.Reconnecting||this.isResuming)&&this.sendSyncState()}).on(Uc.Restarting,this.handleRestarting).on(Uc.SignalRestarted,this.handleSignalRestarted).on(Uc.Offline,()=>{this.setAndEmitConnectionState(Up.Reconnecting)&&this.emit(Lc.Reconnecting)}).on(Uc.DCBufferStatusChanged,(e,t)=>{this.emit(Lc.DCBufferStatusChanged,e,t)}).on(Uc.LocalTrackSubscribed,e=>{const t=this.localParticipant.getTrackPublications().find(t=>{let{trackSid:n}=t;return n===e});t?(this.localParticipant.emit($c.LocalTrackSubscribed,t),this.emitWhenConnected(Lc.LocalTrackSubscribed,t,this.localParticipant)):this.log.warn("could not find local track subscription for subscribed event",this.logContext)}).on(Uc.RoomMoved,e=>{this.log.debug("room moved",e),e.room&&this.handleRoomUpdate(e.room),this.remoteParticipants.forEach((e,t)=>{this.handleParticipantDisconnected(t,e)}),this.emit(Lc.Moved,e.room.name),e.participant?this.handleParticipantUpdates([e.participant,...e.otherParticipants]):this.handleParticipantUpdates(e.otherParticipants)}),this.localParticipant&&this.localParticipant.setupEngine(this.engine),this.e2eeManager&&this.e2eeManager.setupEngine(this.engine),this.outgoingDataStreamManager&&this.outgoingDataStreamManager.setupEngine(this.engine))}static getLocalDevices(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Th.getInstance().getDevices(e,t)}prepareConnection(e,t){return El(this,void 0,void 0,function*(){if(this.state===Up.Disconnected){this.log.debug("prepareConnection to ".concat(e),this.logContext);try{if(Qd(new URL(e))&&t){this.regionUrlProvider=new cp(e,t);const n=yield this.regionUrlProvider.getNextBestRegionUrl();n&&this.state===Up.Disconnected&&(this.regionUrl=n,yield fetch(Kd(n),{method:"HEAD"}),this.log.debug("prepared connection to ".concat(n),this.logContext))}else yield fetch(Kd(e),{method:"HEAD"})}catch(e){this.log.warn("could not prepare connection",Object.assign(Object.assign({},this.logContext),{error:e}))}}})}getParticipantByIdentity(e){return this.localParticipant.identity===e?this.localParticipant:this.remoteParticipants.get(e)}clearConnectionFutures(){this.connectFuture=void 0}simulateScenario(e,t){return El(this,void 0,void 0,function*(){let n,i=()=>El(this,void 0,void 0,function*(){});switch(e){case"signal-reconnect":yield this.engine.client.handleOnClose("simulate disconnect");break;case"speaker":n=new Gu({scenario:{case:"speakerUpdate",value:3}});break;case"node-failure":n=new Gu({scenario:{case:"nodeFailure",value:!0}});break;case"server-leave":n=new Gu({scenario:{case:"serverLeave",value:!0}});break;case"migration":n=new Gu({scenario:{case:"migration",value:!0}});break;case"resume-reconnect":this.engine.failNext(),yield this.engine.client.handleOnClose("simulate resume-disconnect");break;case"disconnect-signal-on-resume":i=()=>El(this,void 0,void 0,function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")}),n=new Gu({scenario:{case:"disconnectSignalOnResume",value:!0}});break;case"disconnect-signal-on-resume-no-messages":i=()=>El(this,void 0,void 0,function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")}),n=new Gu({scenario:{case:"disconnectSignalOnResumeNoMessages",value:!0}});break;case"full-reconnect":this.engine.fullReconnectOnNext=!0,yield this.engine.client.handleOnClose("simulate full-reconnect");break;case"force-tcp":case"force-tls":n=new Gu({scenario:{case:"switchCandidateProtocol",value:"force-tls"===e?2:1}}),i=()=>El(this,void 0,void 0,function*(){const e=this.engine.client.onLeave;e&&e(new Au({reason:fs.CLIENT_INITIATED,action:Su.RECONNECT}))});break;case"subscriber-bandwidth":if(void 0===t||"number"!=typeof t)throw new Error("subscriber-bandwidth requires a number as argument");n=new Gu({scenario:{case:"subscriberBandwidth",value:th(t)}});break;case"leave-full-reconnect":n=new Gu({scenario:{case:"leaveRequestFullReconnect",value:!0}})}n&&(yield this.engine.client.sendSimulateScenario(n),yield i())})}get canPlaybackAudio(){return this.audioEnabled}get canPlaybackVideo(){return!this.isVideoPlaybackBlocked}getActiveDevice(e){return this.localParticipant.activeDeviceMap.get(e)}switchActiveDevice(e,t){return El(this,arguments,void 0,function(e,t){var n=this;let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function*(){var r,a,o,s,u,l,c;let d=!0,h=!1;const p=i?{exact:t}:t;if("audioinput"===e){h=0===n.localParticipant.audioTrackPublications.size;const t=null!==(r=n.getActiveDevice(e))&&void 0!==r?r:n.options.audioCaptureDefaults.deviceId;n.options.audioCaptureDefaults.deviceId=p;const i=Array.from(n.localParticipant.audioTrackPublications.values()).filter(e=>e.source===cd.Source.Microphone);try{d=(yield Promise.all(i.map(e=>{var t;return null===(t=e.audioTrack)||void 0===t?void 0:t.setDeviceId(p)}))).every(e=>!0===e)}catch(e){throw n.options.audioCaptureDefaults.deviceId=t,e}const a=i.some(e=>{var t,n;return null!==(n=null===(t=e.track)||void 0===t?void 0:t.isMuted)&&void 0!==n&&n});d&&a&&(h=!0)}else if("videoinput"===e){h=0===n.localParticipant.videoTrackPublications.size;const t=null!==(a=n.getActiveDevice(e))&&void 0!==a?a:n.options.videoCaptureDefaults.deviceId;n.options.videoCaptureDefaults.deviceId=p;const i=Array.from(n.localParticipant.videoTrackPublications.values()).filter(e=>e.source===cd.Source.Camera);try{d=(yield Promise.all(i.map(e=>{var t;return null===(t=e.videoTrack)||void 0===t?void 0:t.setDeviceId(p)}))).every(e=>!0===e)}catch(e){throw n.options.videoCaptureDefaults.deviceId=t,e}const r=i.some(e=>{var t,n;return null!==(n=null===(t=e.track)||void 0===t?void 0:t.isMuted)&&void 0!==n&&n});d&&r&&(h=!0)}else if("audiooutput"===e){if(h=!0,!Sd()&&!n.options.webAudioMix||n.options.webAudioMix&&n.audioContext&&!("setSinkId"in n.audioContext))throw new Error("cannot switch audio output, the current browser does not support it");n.options.webAudioMix&&(t=null!==(o=yield Th.getInstance().normalizeDeviceId("audiooutput",t))&&void 0!==o?o:""),null!==(s=(c=n.options).audioOutput)&&void 0!==s||(c.audioOutput={});const i=null!==(u=n.getActiveDevice(e))&&void 0!==u?u:n.options.audioOutput.deviceId;n.options.audioOutput.deviceId=t;try{n.options.webAudioMix&&(null===(l=n.audioContext)||void 0===l||l.setSinkId(t)),yield Promise.all(Array.from(n.remoteParticipants.values()).map(e=>e.setAudioOutput({deviceId:t})))}catch(e){throw n.options.audioOutput.deviceId=i,e}}return h&&(n.localParticipant.activeDeviceMap.set(e,t),n.emit(Lc.ActiveDeviceChanged,e,t)),d}()})}setupLocalParticipantEvents(){this.localParticipant.on($c.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).on($c.ParticipantNameChanged,this.onLocalParticipantNameChanged).on($c.AttributesChanged,this.onLocalAttributesChanged).on($c.TrackMuted,this.onLocalTrackMuted).on($c.TrackUnmuted,this.onLocalTrackUnmuted).on($c.LocalTrackPublished,this.onLocalTrackPublished).on($c.LocalTrackUnpublished,this.onLocalTrackUnpublished).on($c.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).on($c.MediaDevicesError,this.onMediaDevicesError).on($c.AudioStreamAcquired,this.startAudio).on($c.ChatMessage,this.onLocalChatMessageSent).on($c.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged)}recreateEngine(){var e;null===(e=this.engine)||void 0===e||e.close(),this.engine=void 0,this.isResuming=!1,this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.bufferedEvents=[],this.maybeCreateEngine()}onTrackAdded(e,t,n){if(this.state===Up.Connecting||this.state===Up.Reconnecting){const i=()=>{this.log.debug("deferring on track for later",{mediaTrackId:e.id,mediaStreamId:t.id,tracksInStream:t.getTracks().map(e=>e.id)}),this.onTrackAdded(e,t,n),r()},r=()=>{this.off(Lc.Reconnected,i),this.off(Lc.Connected,i),this.off(Lc.Disconnected,r)};return this.once(Lc.Reconnected,i),this.once(Lc.Connected,i),void this.once(Lc.Disconnected,r)}if(this.state===Up.Disconnected)return void this.log.warn("skipping incoming track after Room disconnected",this.logContext);if("ended"===e.readyState)return void this.log.info("skipping incoming track as it already ended",this.logContext);const i=function(e){const t=e.split("|");return t.length>1?[t[0],e.substr(t[0].length+1)]:[e,""]}(t.id),r=i[0];let a=i[1],o=e.id;if(a&&a.startsWith("TR")&&(o=a),r===this.localParticipant.sid)return void this.log.warn("tried to create RemoteParticipant for local participant",this.logContext);const s=Array.from(this.remoteParticipants.values()).find(e=>e.sid===r);if(!s)return void this.log.error("Tried to add a track for a participant, that's not present. Sid: ".concat(r),this.logContext);if(!o.startsWith("TR")){const e=this.engine.getTrackIdForReceiver(n);if(!e)return void this.log.error("Tried to add a track whose 'sid' could not be found for a participant, that's not present. Sid: ".concat(r),this.logContext);o=e}let u;o.startsWith("TR")||this.log.warn("Tried to add a track whose 'sid' could not be determined for a participant, that's not present. Sid: ".concat(r,", streamId: ").concat(a,", trackId: ").concat(o),Object.assign(Object.assign({},this.logContext),{rpID:r,streamId:a,trackId:o})),this.options.adaptiveStream&&(u="object"==typeof this.options.adaptiveStream?this.options.adaptiveStream:{});const l=s.addSubscribedMediaTrack(e,o,t,n,u);null!=l&&l.isEncrypted&&!this.e2eeManager&&this.emit(Lc.EncryptionError,new Error("Encrypted ".concat(l.source," track received from participant ").concat(s.sid,", but room does not have encryption enabled!")))}handleDisconnect(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;var n;if(this.clearConnectionReconcile(),this.isResuming=!1,this.bufferedEvents=[],this.transcriptionReceivedTimes.clear(),this.incomingDataStreamManager.clearControllers(),this.state!==Up.Disconnected){this.regionUrl=void 0,this.regionUrlProvider&&this.regionUrlProvider.notifyDisconnected();try{this.remoteParticipants.forEach(e=>{e.trackPublications.forEach(t=>{e.unpublishTrack(t.trackSid)})}),this.localParticipant.trackPublications.forEach(t=>{var n,i,r;t.track&&this.localParticipant.unpublishTrack(t.track,e),e?(null===(n=t.track)||void 0===n||n.detach(),null===(i=t.track)||void 0===i||i.stop()):null===(r=t.track)||void 0===r||r.stopMonitor()}),this.localParticipant.off($c.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).off($c.ParticipantNameChanged,this.onLocalParticipantNameChanged).off($c.AttributesChanged,this.onLocalAttributesChanged).off($c.TrackMuted,this.onLocalTrackMuted).off($c.TrackUnmuted,this.onLocalTrackUnmuted).off($c.LocalTrackPublished,this.onLocalTrackPublished).off($c.LocalTrackUnpublished,this.onLocalTrackUnpublished).off($c.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).off($c.MediaDevicesError,this.onMediaDevicesError).off($c.AudioStreamAcquired,this.startAudio).off($c.ChatMessage,this.onLocalChatMessageSent).off($c.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged),this.localParticipant.trackPublications.clear(),this.localParticipant.videoTrackPublications.clear(),this.localParticipant.audioTrackPublications.clear(),this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.activeSpeakers=[],this.audioContext&&"boolean"==typeof this.options.webAudioMix&&(this.audioContext.close(),this.audioContext=void 0),Rd()&&(window.removeEventListener("beforeunload",this.onPageLeave),window.removeEventListener("pagehide",this.onPageLeave),window.removeEventListener("freeze",this.onPageLeave),null===(n=navigator.mediaDevices)||void 0===n||n.removeEventListener("devicechange",this.handleDeviceChange))}finally{this.setAndEmitConnectionState(Up.Disconnected),this.emit(Lc.Disconnected,t)}}}handleParticipantDisconnected(e,t){var n;this.remoteParticipants.delete(e),t&&(this.incomingDataStreamManager.validateParticipantHasNoActiveDataStreams(e),t.trackPublications.forEach(e=>{t.unpublishTrack(e.trackSid,!0)}),this.emit(Lc.ParticipantDisconnected,t),t.setDisconnected(),null===(n=this.localParticipant)||void 0===n||n.handleParticipantDisconnected(t.identity))}handleIncomingRpcRequest(e,t,n,i,r,a){return El(this,void 0,void 0,function*(){if(yield this.engine.publishRpcAck(e,t),1!==a)return void(yield this.engine.publishRpcResponse(e,t,null,dp.builtIn("UNSUPPORTED_VERSION")));const o=this.rpcHandlers.get(n);if(!o)return void(yield this.engine.publishRpcResponse(e,t,null,dp.builtIn("UNSUPPORTED_METHOD")));let s=null,u=null;try{const a=yield o({requestId:t,callerIdentity:e,payload:i,responseTimeout:r});hp(a)>15360?(s=dp.builtIn("RESPONSE_PAYLOAD_TOO_LARGE"),console.warn("RPC Response payload too large for ".concat(n))):u=a}catch(e){e instanceof dp?s=e:(console.warn("Uncaught error returned by RPC handler for ".concat(n,". Returning APPLICATION_ERROR instead."),e),s=dp.builtIn("APPLICATION_ERROR"))}yield this.engine.publishRpcResponse(e,t,u,s)})}selectDefaultDevices(){return El(this,void 0,void 0,function*(){var e,t,n;const i=Th.getInstance().previousDevices,r=yield Th.getInstance().getDevices(void 0,!1),a=id();if("Chrome"===(null==a?void 0:a.name)&&"iOS"!==a.os)for(let e of r){const t=i.find(t=>t.deviceId===e.deviceId);t&&""!==t.label&&t.kind===e.kind&&t.label!==e.label&&"default"===this.getActiveDevice(e.kind)&&this.emit(Lc.ActiveDeviceChanged,e.kind,e.deviceId)}const o=["audiooutput","audioinput","videoinput"];for(let a of o){const o=fh(a),s=this.localParticipant.getTrackPublication(o);if(s&&null!==(e=s.track)&&void 0!==e&&e.isUserProvided)continue;const u=r.filter(e=>e.kind===a),l=this.getActiveDevice(a);l===(null===(t=i.filter(e=>e.kind===a)[0])||void 0===t?void 0:t.deviceId)&&u.length>0&&(null===(n=u[0])||void 0===n?void 0:n.deviceId)!==l?yield this.switchActiveDevice(a,u[0].deviceId):"audioinput"===a&&!xd()||"videoinput"===a||u.length>0&&!u.find(e=>e.deviceId===this.getActiveDevice(a))&&("audiooutput"!==a||!xd())&&(yield this.switchActiveDevice(a,u[0].deviceId))}})}acquireAudioContext(){return El(this,void 0,void 0,function*(){var e,t;if("boolean"!=typeof this.options.webAudioMix&&this.options.webAudioMix.audioContext?this.audioContext=this.options.webAudioMix.audioContext:(!this.audioContext||"closed"===this.audioContext.state)&&(this.audioContext=null!==(e=ph())&&void 0!==e?e:void 0),this.options.webAudioMix&&this.remoteParticipants.forEach(e=>e.setAudioContext(this.audioContext)),this.localParticipant.setAudioContext(this.audioContext),this.audioContext&&"suspended"===this.audioContext.state)try{yield Promise.race([this.audioContext.resume(),kd(200)])}catch(e){this.log.warn("Could not resume audio context",Object.assign(Object.assign({},this.logContext),{error:e}))}const n="running"===(null===(t=this.audioContext)||void 0===t?void 0:t.state);n!==this.canPlaybackAudio&&(this.audioEnabled=n,this.emit(Lc.AudioPlaybackStatusChanged,n))})}createParticipant(e,t){var n;let i;return i=t?pf.fromParticipantInfo(this.engine.client,t,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}):new pf(this.engine.client,"",e,void 0,void 0,void 0,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}),this.options.webAudioMix&&i.setAudioContext(this.audioContext),!(null===(n=this.options.audioOutput)||void 0===n)&&n.deviceId&&i.setAudioOutput(this.options.audioOutput).catch(e=>this.log.warn("Could not set audio output: ".concat(e.message),this.logContext)),i}getOrCreateParticipant(e,t){if(this.remoteParticipants.has(e)){const n=this.remoteParticipants.get(e);return t&&n.updateInfo(t)&&this.sidToIdentity.set(t.sid,t.identity),n}const n=this.createParticipant(e,t);return this.remoteParticipants.set(e,n),this.sidToIdentity.set(t.sid,t.identity),this.emitWhenConnected(Lc.ParticipantConnected,n),n.on($c.TrackPublished,e=>{this.emitWhenConnected(Lc.TrackPublished,e,n)}).on($c.TrackSubscribed,(e,t)=>{e.kind===cd.Kind.Audio?(e.on(qc.AudioPlaybackStarted,this.handleAudioPlaybackStarted),e.on(qc.AudioPlaybackFailed,this.handleAudioPlaybackFailed)):e.kind===cd.Kind.Video&&(e.on(qc.VideoPlaybackFailed,this.handleVideoPlaybackFailed),e.on(qc.VideoPlaybackStarted,this.handleVideoPlaybackStarted)),this.emit(Lc.TrackSubscribed,e,t,n)}).on($c.TrackUnpublished,e=>{this.emit(Lc.TrackUnpublished,e,n)}).on($c.TrackUnsubscribed,(e,t)=>{this.emit(Lc.TrackUnsubscribed,e,t,n)}).on($c.TrackMuted,e=>{this.emitWhenConnected(Lc.TrackMuted,e,n)}).on($c.TrackUnmuted,e=>{this.emitWhenConnected(Lc.TrackUnmuted,e,n)}).on($c.ParticipantMetadataChanged,e=>{this.emitWhenConnected(Lc.ParticipantMetadataChanged,e,n)}).on($c.ParticipantNameChanged,e=>{this.emitWhenConnected(Lc.ParticipantNameChanged,e,n)}).on($c.AttributesChanged,e=>{this.emitWhenConnected(Lc.ParticipantAttributesChanged,e,n)}).on($c.ConnectionQualityChanged,e=>{this.emitWhenConnected(Lc.ConnectionQualityChanged,e,n)}).on($c.ParticipantPermissionsChanged,e=>{this.emitWhenConnected(Lc.ParticipantPermissionsChanged,e,n)}).on($c.TrackSubscriptionStatusChanged,(e,t)=>{this.emitWhenConnected(Lc.TrackSubscriptionStatusChanged,e,t,n)}).on($c.TrackSubscriptionFailed,(e,t)=>{this.emit(Lc.TrackSubscriptionFailed,e,n,t)}).on($c.TrackSubscriptionPermissionChanged,(e,t)=>{this.emitWhenConnected(Lc.TrackSubscriptionPermissionChanged,e,t,n)}).on($c.Active,()=>{this.emitWhenConnected(Lc.ParticipantActive,n),n.kind===ks.AGENT&&this.localParticipant.setActiveAgent(n)}),t&&n.updateInfo(t),n}sendSyncState(){const e=Array.from(this.remoteParticipants.values()).reduce((e,t)=>(e.push(...t.getTrackPublications()),e),[]),t=this.localParticipant.getTrackPublications();this.engine.sendSyncState(e,t)}updateSubscriptions(){for(const e of this.remoteParticipants.values())for(const t of e.videoTrackPublications.values())t.isSubscribed&&uh(t)&&t.emitTrackUpdate()}getRemoteParticipantBySid(e){const t=this.sidToIdentity.get(e);if(t)return this.remoteParticipants.get(t)}registerConnectionReconcile(){this.clearConnectionReconcile();let e=0;this.connectionReconcileInterval=sd.setInterval(()=>{this.engine&&!this.engine.isClosed&&this.engine.verifyTransport()?e=0:(e++,this.log.warn("detected connection state mismatch",Object.assign(Object.assign({},this.logContext),{numFailures:e,engine:this.engine?{closed:this.engine.isClosed,transportsConnected:this.engine.verifyTransport()}:void 0})),e>=3&&(this.recreateEngine(),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,fs.STATE_MISMATCH)))},4e3)}clearConnectionReconcile(){this.connectionReconcileInterval&&sd.clearInterval(this.connectionReconcileInterval)}setAndEmitConnectionState(e){return e!==this.state&&(this.state=e,this.emit(Lc.ConnectionStateChanged,this.state),!0)}emitBufferedEvents(){this.bufferedEvents.forEach(e=>{let[t,n]=e;this.emit(t,...n)}),this.bufferedEvents=[]}emitWhenConnected(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(this.state===Up.Reconnecting||this.isResuming||!this.engine||this.engine.pendingReconnect)this.bufferedEvents.push([e,n]);else if(this.state===Up.Connected)return this.emit(e,...n);return!1}simulateParticipants(e){return El(this,void 0,void 0,function*(){var t,n;const i=Object.assign({audio:!0,video:!0,useRealTracks:!1},e.publish),r=Object.assign({count:9,audio:!1,video:!0,aspectRatios:[1.66,1.7,1.3]},e.participants);if(this.handleDisconnect(),this.roomInfo=new Ds({sid:"RM_SIMULATED",name:"simulated-room",emptyTimeout:0,maxParticipants:0,creationTime:ja.parse((new Date).getTime()),metadata:"",numParticipants:1,numPublishers:1,turnPassword:"",enabledCodecs:[],activeRecording:!1}),this.localParticipant.updateInfo(new Cs({identity:"simulated-local",name:"local-name"})),this.setupLocalParticipantEvents(),this.emit(Lc.SignalConnected),this.emit(Lc.Connected),this.setAndEmitConnectionState(Up.Connected),i.video){const e=new uf(cd.Kind.Video,new Ss({source:cs.CAMERA,sid:Math.floor(1e4*Math.random()).toString(),type:ls.AUDIO,name:"video-dummy"}),new Pp(i.useRealTracks?(yield window.navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0]:Wd(160*(null!==(t=r.aspectRatios[0])&&void 0!==t?t:1),160,!0,!0),void 0,!1,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(e),this.localParticipant.emit($c.LocalTrackPublished,e)}if(i.audio){const e=new uf(cd.Kind.Audio,new Ss({source:cs.MICROPHONE,sid:Math.floor(1e4*Math.random()).toString(),type:ls.AUDIO}),new Ep(i.useRealTracks?(yield navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks()[0]:Vd(),void 0,!1,this.audioContext,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(e),this.localParticipant.emit($c.LocalTrackPublished,e)}for(let e=0;e<r.count-1;e+=1){let t=new Cs({sid:Math.floor(1e4*Math.random()).toString(),identity:"simulated-".concat(e),state:bs.ACTIVE,tracks:[],joinedAt:ja.parse(Date.now())});const i=this.getOrCreateParticipant(t.identity,t);if(r.video){const a=Wd(160*(null!==(n=r.aspectRatios[e%r.aspectRatios.length])&&void 0!==n?n:1),160,!1,!0),o=new Ss({source:cs.CAMERA,sid:Math.floor(1e4*Math.random()).toString(),type:ls.AUDIO});i.addSubscribedMediaTrack(a,o.sid,new MediaStream([a]),new RTCRtpReceiver),t.tracks=[...t.tracks,o]}if(r.audio){const e=Vd(),n=new Ss({source:cs.MICROPHONE,sid:Math.floor(1e4*Math.random()).toString(),type:ls.AUDIO});i.addSubscribedMediaTrack(e,n.sid,new MediaStream([e]),new RTCRtpReceiver),t.tracks=[...t.tracks,n]}i.updateInfo(t)}})}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e!==Lc.ActiveSpeakersChanged&&e!==Lc.TranscriptionReceived){const t=mf(n).filter(e=>void 0!==e);(e===Lc.TrackSubscribed||e===Lc.TrackUnsubscribed)&&this.log.trace("subscribe trace: ".concat(e),Object.assign(Object.assign({},this.logContext),{event:e,args:t})),this.log.debug("room event ".concat(e),Object.assign(Object.assign({},this.logContext),{event:e,args:t}))}return super.emit(e,...n)}}function mf(e){return e.map(e=>{if(e)return Array.isArray(e)?mf(e):"object"==typeof e?"logContext"in e?e.logContext:void 0:e})}function Of(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ff.cleanupRegistry=typeof FinalizationRegistry<"u"&&new FinalizationRegistry(e=>{e()}),function(e){e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.SKIPPED=2]="SKIPPED",e[e.SUCCESS=3]="SUCCESS",e[e.FAILED=4]="FAILED"}(qp||(qp={})),Tl.EventEmitter,Tl.EventEmitter,new TextEncoder,new TextDecoder;class gf extends Error{constructor(e,t){var n;super(e,t),Of(this,"code","ERR_JOSE_GENERIC"),this.name=this.constructor.name,null===(n=Error.captureStackTrace)||void 0===n||n.call(Error,this,this.constructor)}}function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Df.apply(null,arguments)}Of(gf,"code","ERR_JOSE_GENERIC"),Of(class extends gf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unspecified",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unspecified";super(e,{cause:{claim:n,reason:i,payload:t}}),Of(this,"code","ERR_JWT_CLAIM_VALIDATION_FAILED"),Of(this,"claim",void 0),Of(this,"reason",void 0),Of(this,"payload",void 0),this.claim=n,this.reason=i,this.payload=t}},"code","ERR_JWT_CLAIM_VALIDATION_FAILED"),Of(class extends gf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unspecified",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unspecified";super(e,{cause:{claim:n,reason:i,payload:t}}),Of(this,"code","ERR_JWT_EXPIRED"),Of(this,"claim",void 0),Of(this,"reason",void 0),Of(this,"payload",void 0),this.claim=n,this.reason=i,this.payload=t}},"code","ERR_JWT_EXPIRED"),Of(class extends gf{constructor(){super(...arguments),Of(this,"code","ERR_JOSE_ALG_NOT_ALLOWED")}},"code","ERR_JOSE_ALG_NOT_ALLOWED"),Of(class extends gf{constructor(){super(...arguments),Of(this,"code","ERR_JOSE_NOT_SUPPORTED")}},"code","ERR_JOSE_NOT_SUPPORTED"),Of(class extends gf{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"decryption operation failed",arguments.length>1?arguments[1]:void 0),Of(this,"code","ERR_JWE_DECRYPTION_FAILED")}},"code","ERR_JWE_DECRYPTION_FAILED"),Of(class extends gf{constructor(){super(...arguments),Of(this,"code","ERR_JWE_INVALID")}},"code","ERR_JWE_INVALID"),Of(class extends gf{constructor(){super(...arguments),Of(this,"code","ERR_JWS_INVALID")}},"code","ERR_JWS_INVALID"),Of(class extends gf{constructor(){super(...arguments),Of(this,"code","ERR_JWT_INVALID")}},"code","ERR_JWT_INVALID"),Of(class extends gf{constructor(){super(...arguments),Of(this,"code","ERR_JWK_INVALID")}},"code","ERR_JWK_INVALID"),Of(class extends gf{constructor(){super(...arguments),Of(this,"code","ERR_JWKS_INVALID")}},"code","ERR_JWKS_INVALID"),Of(class extends gf{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"no applicable key found in the JSON Web Key Set",arguments.length>1?arguments[1]:void 0),Of(this,"code","ERR_JWKS_NO_MATCHING_KEY")}},"code","ERR_JWKS_NO_MATCHING_KEY"),Of(class extends gf{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"multiple matching keys found in the JSON Web Key Set",arguments.length>1?arguments[1]:void 0),Of(this,Symbol.asyncIterator,void 0),Of(this,"code","ERR_JWKS_MULTIPLE_MATCHING_KEYS")}},"code","ERR_JWKS_MULTIPLE_MATCHING_KEYS"),Of(class extends gf{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"request timed out",arguments.length>1?arguments[1]:void 0),Of(this,"code","ERR_JWKS_TIMEOUT")}},"code","ERR_JWKS_TIMEOUT"),Of(class extends gf{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"signature verification failed",arguments.length>1?arguments[1]:void 0),Of(this,"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED")}},"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED");const vf=new Uint8Array(0);let Ef=class{static getFullOptions(e){var t;const n=function(e){var t,n;const{textOnly:i}=null!=(t=null==(n=e.overrides)?void 0:n.conversation)?t:{},{textOnly:r}=e;return"boolean"==typeof r?("boolean"==typeof i&&r!==i&&console.warn(`Conflicting textOnly options provided: ${r} via options.textOnly (will be used) and ${i} via options.overrides.conversation.textOnly (will be ignored)`),r):"boolean"==typeof i?i:void 0}(e);return Df({clientTools:{},onConnect:()=>{},onDebug:()=>{},onDisconnect:()=>{},onError:()=>{},onMessage:()=>{},onAudio:()=>{},onModeChange:()=>{},onStatusChange:()=>{},onCanSendFeedbackChange:()=>{},onInterruption:()=>{}},e,{textOnly:n,overrides:Df({},e.overrides,{conversation:Df({},null==(t=e.overrides)?void 0:t.conversation,{textOnly:n})})})}constructor(e,t){var n=this;this.options=void 0,this.connection=void 0,this.lastInterruptTimestamp=0,this.mode="listening",this.status="connecting",this.volume=1,this.currentEventId=1,this.lastFeedbackEventId=0,this.canSendFeedback=!1,this.endSessionWithDetails=async function(e){"connected"!==n.status&&"connecting"!==n.status||(n.updateStatus("disconnecting"),await n.handleEndSession(),n.updateStatus("disconnected"),n.options.onDisconnect&&n.options.onDisconnect(e))},this.onMessage=async function(e){switch(e.type){case"interruption":return void n.handleInterruption(e);case"agent_response":return void n.handleAgentResponse(e);case"user_transcript":return void n.handleUserTranscript(e);case"internal_tentative_agent_response":return void n.handleTentativeAgentResponse(e);case"client_tool_call":try{await n.handleClientToolCall(e)}catch(t){n.onError(`Unexpected error in client tool call handling: ${t instanceof Error?t.message:String(t)}`,{clientToolName:e.client_tool_call.tool_name,toolCallId:e.client_tool_call.tool_call_id})}return;case"audio":return void n.handleAudio(e);case"vad_score":return void n.handleVadScore(e);case"ping":return void n.connection.sendMessage({type:"pong",event_id:e.ping_event.event_id});case"mcp_tool_call":return void n.handleMCPToolCall(e);case"mcp_connection_status":return void n.handleMCPConnectionStatus(e);case"agent_tool_request":return void n.handleAgentToolRequest(e);case"agent_tool_response":return void n.handleAgentToolResponse(e);case"conversation_initiation_metadata":return void n.handleConversationMetadata(e);case"asr_initiation_metadata":return void n.handleAsrInitiationMetadata(e);case"agent_chat_response_part":return void n.handleAgentChatResponsePart(e);case"error":return void n.handleErrorEvent(e);default:return void(n.options.onDebug&&n.options.onDebug(e))}},this.setVolume=({volume:e})=>{this.volume=e},this.options=e,this.connection=t,this.options.onConnect&&this.options.onConnect({conversationId:t.conversationId}),this.connection.onMessage(this.onMessage),this.connection.onDisconnect(this.endSessionWithDetails),this.connection.onModeChange(e=>this.updateMode(e)),this.updateStatus("connected")}endSession(){return this.endSessionWithDetails({reason:"user"})}async handleEndSession(){this.connection.close()}updateMode(e){e!==this.mode&&(this.mode=e,this.options.onModeChange&&this.options.onModeChange({mode:e}))}updateStatus(e){e!==this.status&&(this.status=e,this.options.onStatusChange&&this.options.onStatusChange({status:e}))}updateCanSendFeedback(){const e=this.currentEventId!==this.lastFeedbackEventId;this.canSendFeedback!==e&&(this.canSendFeedback=e,this.options.onCanSendFeedbackChange&&this.options.onCanSendFeedbackChange({canSendFeedback:e}))}handleInterruption(e){e.interruption_event&&(this.lastInterruptTimestamp=e.interruption_event.event_id,this.options.onInterruption&&this.options.onInterruption({event_id:e.interruption_event.event_id}))}handleAgentResponse(e){this.options.onMessage&&this.options.onMessage({source:"ai",role:"agent",message:e.agent_response_event.agent_response})}handleUserTranscript(e){this.options.onMessage&&this.options.onMessage({source:"user",role:"user",message:e.user_transcription_event.user_transcript})}handleTentativeAgentResponse(e){this.options.onDebug&&this.options.onDebug({type:"tentative_agent_response",response:e.tentative_agent_response_internal_event.tentative_agent_response})}handleVadScore(e){this.options.onVadScore&&this.options.onVadScore({vadScore:e.vad_score_event.vad_score})}async handleClientToolCall(e){if(Object.prototype.hasOwnProperty.call(this.options.clientTools,e.client_tool_call.tool_name))try{var t;const n=null!=(t=await this.options.clientTools[e.client_tool_call.tool_name](e.client_tool_call.parameters))?t:"Client tool execution successful.",i="object"==typeof n?JSON.stringify(n):String(n);this.connection.sendMessage({type:"client_tool_result",tool_call_id:e.client_tool_call.tool_call_id,result:i,is_error:!1})}catch(t){this.onError(`Client tool execution failed with following error: ${null==t?void 0:t.message}`,{clientToolName:e.client_tool_call.tool_name}),this.connection.sendMessage({type:"client_tool_result",tool_call_id:e.client_tool_call.tool_call_id,result:`Client tool execution failed: ${null==t?void 0:t.message}`,is_error:!0})}else{if(this.options.onUnhandledClientToolCall)return void this.options.onUnhandledClientToolCall(e.client_tool_call);this.onError(`Client tool with name ${e.client_tool_call.tool_name} is not defined on client`,{clientToolName:e.client_tool_call.tool_name}),this.connection.sendMessage({type:"client_tool_result",tool_call_id:e.client_tool_call.tool_call_id,result:`Client tool with name ${e.client_tool_call.tool_name} is not defined on client`,is_error:!0})}}handleAudio(e){}handleMCPToolCall(e){this.options.onMCPToolCall&&this.options.onMCPToolCall(e.mcp_tool_call)}handleMCPConnectionStatus(e){this.options.onMCPConnectionStatus&&this.options.onMCPConnectionStatus(e.mcp_connection_status)}handleAgentToolRequest(e){this.options.onAgentToolRequest&&this.options.onAgentToolRequest(e.agent_tool_request)}handleAgentToolResponse(e){"end_call"===e.agent_tool_response.tool_name&&this.endSessionWithDetails({reason:"agent",context:new CloseEvent("end_call",{reason:"Agent ended the call"})}),this.options.onAgentToolResponse&&this.options.onAgentToolResponse(e.agent_tool_response)}handleConversationMetadata(e){this.options.onConversationMetadata&&this.options.onConversationMetadata(e.conversation_initiation_metadata_event)}handleAsrInitiationMetadata(e){this.options.onAsrInitiationMetadata&&this.options.onAsrInitiationMetadata(e.asr_initiation_metadata_event)}handleAgentChatResponsePart(e){this.options.onAgentChatResponsePart&&this.options.onAgentChatResponsePart(e.text_response_part)}handleErrorEvent(e){const t=e.error_event.error_type,n=e.error_event.message||e.error_event.reason||"Unknown error";"max_duration_exceeded"!==t?this.onError(`Server error: ${n}`,{errorType:t,code:e.error_event.code,debugMessage:e.error_event.debug_message,details:e.error_event.details}):this.endSessionWithDetails({reason:"error",message:n,context:new Event("max_duration_exceeded")})}onError(e,t){console.error(e,t),this.options.onError&&this.options.onError(e,t)}getId(){return this.connection.conversationId}isOpen(){return"connected"===this.status}setMicMuted(e){this.connection.setMicMuted(e)}getInputByteFrequencyData(){return vf}getOutputByteFrequencyData(){return vf}getInputVolume(){return 0}getOutputVolume(){return 0}sendFeedback(e){this.canSendFeedback?(this.connection.sendMessage({type:"feedback",score:e?"like":"dislike",event_id:this.currentEventId}),this.lastFeedbackEventId=this.currentEventId,this.updateCanSendFeedback()):console.warn(0===this.lastFeedbackEventId?"Cannot send feedback: the conversation has not started yet.":"Cannot send feedback: feedback has already been sent for the current response.")}sendContextualUpdate(e){this.connection.sendMessage({type:"contextual_update",text:e})}sendUserMessage(e){this.connection.sendMessage({type:"user_message",text:e})}sendUserActivity(){this.connection.sendMessage({type:"user_activity"})}sendMCPToolApprovalResult(e,t){this.connection.sendMessage({type:"mcp_tool_approval_result",tool_call_id:e,is_approved:t})}};class Cf{constructor(e={}){this.queue=[],this.disconnectionDetails=null,this.onDisconnectCallback=null,this.onMessageCallback=null,this.onModeChangeCallback=null,this.onDebug=void 0,this.onDebug=e.onDebug}debug(e){this.onDebug&&this.onDebug(e)}onMessage(e){this.onMessageCallback=e;const t=this.queue;this.queue=[],t.length>0&&queueMicrotask(()=>{t.forEach(e)})}onDisconnect(e){this.onDisconnectCallback=e;const t=this.disconnectionDetails;t&&queueMicrotask(()=>{e(t)})}onModeChange(e){this.onModeChangeCallback=e}updateMode(e){var t;null==(t=this.onModeChangeCallback)||t.call(this,e)}disconnect(e){var t;this.disconnectionDetails||(this.disconnectionDetails=e,null==(t=this.onDisconnectCallback)||t.call(this,e))}handleMessage(e){this.onMessageCallback?this.onMessageCallback(e):this.queue.push(e)}}function bf(e){const[t,n]=e.split("_");if(!["pcm","ulaw"].includes(t))throw new Error(`Invalid format: ${e}`);const i=Number.parseInt(n);if(Number.isNaN(i))throw new Error(`Invalid sample rate: ${n}`);return{format:t,sampleRate:i}}const kf="0.14.0";function Tf(e){return!!e.type}const yf="conversation_initiation_client_data";function Af(e){var t;const n={type:yf};var i,r,a,o,s,u,l,c;return e.overrides&&(n.conversation_config_override={agent:{prompt:null==(i=e.overrides.agent)?void 0:i.prompt,first_message:null==(r=e.overrides.agent)?void 0:r.firstMessage,language:null==(a=e.overrides.agent)?void 0:a.language},tts:{voice_id:null==(o=e.overrides.tts)?void 0:o.voiceId,speed:null==(s=e.overrides.tts)?void 0:s.speed,stability:null==(u=e.overrides.tts)?void 0:u.stability,similarity_boost:null==(l=e.overrides.tts)?void 0:l.similarityBoost},conversation:{text_only:null==(c=e.overrides.conversation)?void 0:c.textOnly}}),e.customLlmExtraBody&&(n.custom_llm_extra_body=e.customLlmExtraBody),e.dynamicVariables&&(n.dynamic_variables=e.dynamicVariables),e.userId&&(n.user_id=e.userId),null!=(t=e.overrides)&&t.client&&(n.source_info={source:e.overrides.client.source,version:e.overrides.client.version}),n}let Sf=class extends Error{constructor(e,t){super(e),this.closeCode=void 0,this.closeReason=void 0,this.name="SessionConnectionError",this.closeCode=null==t?void 0:t.closeCode,this.closeReason=null==t?void 0:t.closeReason}},_f=class e extends Cf{constructor(e,t,n,i){super(),this.socket=void 0,this.conversationId=void 0,this.inputFormat=void 0,this.outputFormat=void 0,this.socket=e,this.conversationId=t,this.inputFormat=n,this.outputFormat=i,this.socket.addEventListener("error",e=>{setTimeout(()=>this.disconnect({reason:"error",message:"The connection was closed due to a socket error.",context:e}),0)}),this.socket.addEventListener("close",e=>{this.disconnect(1e3===e.code?{reason:"agent",context:e,closeCode:e.code,closeReason:e.reason||void 0}:{reason:"error",message:e.reason||"The connection was closed by the server.",context:e,closeCode:e.code,closeReason:e.reason||void 0})}),this.socket.addEventListener("message",e=>{try{const t=JSON.parse(e.data);if(!Tf(t))return void this.debug({type:"invalid_event",message:"Received invalid socket event",data:e.data});this.handleMessage(t)}catch(t){this.debug({type:"parsing_error",message:"Failed to parse socket message",error:t instanceof Error?t.message:String(t),data:e.data})}})}static async create(t){let n=null;try{var i,r,a;const o=null!=(i=t.origin)?i:"wss://api.elevenlabs.io";let s;const u=(null==(r=t.overrides)||null==(r=r.client)?void 0:r.version)||kf,l=(null==(a=t.overrides)||null==(a=a.client)?void 0:a.source)||"js_sdk";if(t.signedUrl){const e=t.signedUrl.includes("?")?"&":"?";s=`${t.signedUrl}${e}source=${l}&version=${u}`}else s=`${o}/v1/convai/conversation?agent_id=${t.agentId}&source=${l}&version=${u}`;const c=["convai"];t.authorization&&c.push(`bearer.${t.authorization}`),n=new WebSocket(s,c);const d=await new Promise((e,i)=>{n.addEventListener("open",()=>{var e;const i=Af(t);null==(e=n)||e.send(JSON.stringify(i))},{once:!0}),n.addEventListener("error",e=>{setTimeout(()=>i(new Sf("The connection was closed due to a socket error.")),0)}),n.addEventListener("close",e=>{i(new Sf(e.reason||(1e3===e.code?"Connection closed normally before session could be established.":"Connection closed unexpectedly before session could be established."),{closeCode:e.code,closeReason:e.reason||void 0}))}),n.addEventListener("message",t=>{const n=JSON.parse(t.data);Tf(n)&&("conversation_initiation_metadata"===n.type?e(n.conversation_initiation_metadata_event):console.warn("First received message is not conversation metadata."))},{once:!0})}),{conversation_id:h,agent_output_audio_format:p,user_input_audio_format:f}=d,m=bf(null!=f?f:"pcm_16000"),O=bf(p);return new e(n,h,m,O)}catch(e){var o;throw null==(o=n)||o.close(),e}}close(){this.socket.close(1e3,"User ended conversation")}sendMessage(e){this.socket.send(JSON.stringify(e))}async setMicMuted(e){console.warn(`WebSocket connection setMicMuted called with ${e}, but this is handled by VoiceConversation`)}};function Ff(e){const t=new Uint8Array(e);return window.btoa(String.fromCharCode(...t))}function wf(e){const t=window.atob(e),n=t.length,i=new Uint8Array(n);for(let e=0;e<n;e++)i[e]=t.charCodeAt(e);return i.buffer}const xf=new Map;function Pf(e,t){return async(n,i)=>{const r=xf.get(e);if(r)return n.addModule(r);if(i)try{return await n.addModule(i),void xf.set(e,i)}catch(t){throw new Error(`Failed to load the ${e} worklet module from path: ${i}. Error: ${t}`)}const a=new Blob([t],{type:"application/javascript"}),o=URL.createObjectURL(a);try{return await n.addModule(o),void xf.set(e,o)}catch(e){URL.revokeObjectURL(o)}try{const i=`data:application/javascript;base64,${btoa(t)}`;await n.addModule(i),xf.set(e,i)}catch(t){throw new Error(`Failed to load the ${e} worklet module. Make sure the browser supports AudioWorklets. If you are using a strict CSP, you may need to self-host the worklet files.`)}}}const Rf=Pf("rawAudioProcessor",'/*\n * ulaw encoding logic taken from the wavefile library\n * https://github.com/rochars/wavefile/blob/master/lib/codecs/mulaw.js\n * USED BY @elevenlabs/client\n */\n\nconst BIAS = 0x84;\nconst CLIP = 32635;\nconst encodeTable = [\n  0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,\n  4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,\n  5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,\n  5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,\n  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\n  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\n  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\n  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\n  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7\n];\n\nfunction encodeSample(sample) {\n  let sign;\n  let exponent;\n  let mantissa;\n  let muLawSample;\n  sign = (sample >> 8) & 0x80;\n  if (sign !== 0) sample = -sample;\n  sample = sample + BIAS;\n  if (sample > CLIP) sample = CLIP;\n  exponent = encodeTable[(sample>>7) & 0xFF];\n  mantissa = (sample >> (exponent+3)) & 0x0F;\n  muLawSample = ~(sign | (exponent << 4) | mantissa);\n  \n  return muLawSample;\n}\n\nclass RawAudioProcessor extends AudioWorkletProcessor {\n  constructor() {\n    super();\n              \n    this.port.onmessage = ({ data }) => {\n      switch (data.type) {\n        case "setFormat":\n          this.isMuted = false;\n          this.buffer = []; // Initialize an empty buffer\n          this.bufferSize = data.sampleRate / 10;\n          this.format = data.format;\n\n          if (globalThis.LibSampleRate && sampleRate !== data.sampleRate) {\n            globalThis.LibSampleRate.create(1, sampleRate, data.sampleRate).then(resampler => {\n              this.resampler = resampler;\n            });\n          }\n          break;\n        case "setMuted":\n          this.isMuted = data.isMuted;\n          break;\n      }\n    };\n  }\n  process(inputs) {\n    if (!this.buffer) {\n      return true;\n    }\n    \n    const input = inputs[0]; // Get the first input node\n    if (input.length > 0) {\n      let channelData = input[0]; // Get the first channel\'s data\n\n      // Resample the audio if necessary\n      if (this.resampler) {\n        channelData = this.resampler.full(channelData);\n      }\n\n      // Add channel data to the buffer\n      this.buffer.push(...channelData);\n      // Get max volume \n      let sum = 0.0;\n      for (let i = 0; i < channelData.length; i++) {\n        sum += channelData[i] * channelData[i];\n      }\n      const maxVolume = Math.sqrt(sum / channelData.length);\n      // Check if buffer size has reached or exceeded the threshold\n      if (this.buffer.length >= this.bufferSize) {\n        const float32Array = this.isMuted \n          ? new Float32Array(this.buffer.length)\n          : new Float32Array(this.buffer);\n\n        let encodedArray = this.format === "ulaw"\n          ? new Uint8Array(float32Array.length)\n          : new Int16Array(float32Array.length);\n\n        // Iterate through the Float32Array and convert each sample to PCM16\n        for (let i = 0; i < float32Array.length; i++) {\n          // Clamp the value to the range [-1, 1]\n          let sample = Math.max(-1, Math.min(1, float32Array[i]));\n\n          // Scale the sample to the range [-32768, 32767]\n          let value = sample < 0 ? sample * 32768 : sample * 32767;\n          if (this.format === "ulaw") {\n            value = encodeSample(Math.round(value));\n          }\n\n          encodedArray[i] = value;\n        }\n\n        // Send the buffered data to the main script\n        this.port.postMessage([encodedArray, maxVolume]);\n\n        // Clear the buffer after sending\n        this.buffer = [];\n      }\n    }\n    return true; // Continue processing\n  }\n}\nregisterProcessor("rawAudioProcessor", RawAudioProcessor);\n');let If=class e extends Cf{constructor(e,t,n,i,r={}){super(r),this.conversationId=void 0,this.inputFormat=void 0,this.outputFormat=void 0,this.room=void 0,this.isConnected=!1,this.audioEventId=1,this.audioCaptureContext=null,this.audioElements=[],this.outputDeviceId=null,this.outputAnalyser=null,this.outputFrequencyData=null,this.room=e,this.conversationId=t,this.inputFormat=n,this.outputFormat=i,this.setupRoomEventListeners()}static async create(t){let n;if("conversationToken"in t&&t.conversationToken)n=t.conversationToken;else{if(!("agentId"in t)||!t.agentId)throw new Error("Either conversationToken or agentId is required for WebRTC connection");try{var i,r,a;const e=(null==(i=t.overrides)||null==(i=i.client)?void 0:i.version)||kf,s=(null==(r=t.overrides)||null==(r=r.client)?void 0:r.source)||"js_sdk",u=`${o=null!=(a=t.origin)?a:"https://api.elevenlabs.io",o.replace(/^wss:\/\//,"https://")}/v1/convai/conversation/token?agent_id=${t.agentId}&source=${s}&version=${e}`,l=await fetch(u);if(!l.ok)throw new Error(`ElevenLabs API returned ${l.status} ${l.statusText}`);if(n=(await l.json()).token,!n)throw new Error("No conversation token received from API")}catch(e){let n=e instanceof Error?e.message:String(e);throw e instanceof Error&&e.message.includes("401")&&(n="Your agent has authentication enabled, but no signed URL or conversation token was provided."),new Error(`Failed to fetch conversation token for agent ${t.agentId}: ${n}`)}}var o;const s=new ff;try{const i=`room_${Date.now()}`,r=bf("pcm_48000"),a=bf("pcm_48000"),o=new e(s,i,r,a,t),l=t.livekitUrl||"wss://livekit.rtc.elevenlabs.io";var u;await s.connect(l,n),await new Promise(e=>{if(o.isConnected)e();else{const t=()=>{s.off(Lc.Connected,t),e()};s.on(Lc.Connected,t)}}),s.name&&(o.conversationId=(null==(u=s.name.match(/(conv_[a-zA-Z0-9]+)/))?void 0:u[0])||s.name),t.textOnly||await s.localParticipant.setMicrophoneEnabled(!0);const c=Af(t);return o.debug({type:yf,message:c}),await o.sendMessage(c),o}catch(e){throw await s.disconnect(),e}}setupRoomEventListeners(){var e=this;this.room.on(Lc.Connected,async function(){e.isConnected=!0,console.info("WebRTC room connected")}),this.room.on(Lc.Disconnected,e=>{this.isConnected=!1,this.disconnect({reason:"agent",context:new CloseEvent("close",{reason:null==e?void 0:e.toString()})})}),this.room.on(Lc.ConnectionStateChanged,e=>{e===Up.Disconnected&&(this.isConnected=!1,this.disconnect({reason:"error",message:`LiveKit connection state changed to ${e}`,context:new Event("connection_state_changed")}))}),this.room.on(Lc.DataReceived,(e,t)=>{try{const t=JSON.parse((new TextDecoder).decode(e));if("audio"===t.type)return;Tf(t)?this.handleMessage(t):console.warn("Invalid socket event received:",t)}catch(t){console.warn("Failed to parse incoming data message:",t),console.warn("Raw payload:",(new TextDecoder).decode(e))}}),this.room.on(Lc.TrackSubscribed,async function(t,n,i){if(t.kind===cd.Kind.Audio&&i.identity.includes("agent")){const n=t,i=n.attach();if(i.autoplay=!0,i.controls=!1,e.outputDeviceId&&i.setSinkId)try{await i.setSinkId(e.outputDeviceId)}catch(e){console.warn("Failed to set output device for new audio element:",e)}i.style.display="none",document.body.appendChild(i),e.audioElements.push(i),1===e.audioElements.length&&(null==e.onDebug||e.onDebug({type:"audio_element_ready"})),await e.setupAudioCapture(n)}}),this.room.on(Lc.ActiveSpeakersChanged,async function(t){e.updateMode(t.length>0&&t[0].identity.startsWith("agent")?"speaking":"listening")}),this.room.on(Lc.ParticipantDisconnected,e=>{var t;null!=(t=e.identity)&&t.startsWith("agent")&&this.disconnect({reason:"agent",context:new CloseEvent("close",{reason:"agent disconnected"})})})}close(){if(this.isConnected){try{this.room.localParticipant.audioTrackPublications.forEach(e=>{e.track&&e.track.stop()})}catch(e){console.warn("Error stopping local tracks:",e)}this.audioCaptureContext&&(this.audioCaptureContext.close().catch(e=>{console.warn("Error closing audio capture context:",e)}),this.audioCaptureContext=null),this.audioElements.forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)}),this.audioElements=[],this.room.disconnect()}}async sendMessage(e){if(this.isConnected&&this.room.localParticipant){if(!("user_audio_chunk"in e))try{const t=(new TextEncoder).encode(JSON.stringify(e));await this.room.localParticipant.publishData(t,{reliable:!0})}catch(t){this.debug({type:"send_message_error",message:{message:e,error:t}}),console.error("Failed to send message via WebRTC:",t)}}else console.warn("Cannot send message: room not connected or no local participant")}getRoom(){return this.room}async setMicMuted(e){if(!this.isConnected||!this.room.localParticipant)return void console.warn("Cannot set microphone muted: room not connected or no local participant");const t=this.room.localParticipant.getTrackPublication(cd.Source.Microphone);if(null!=t&&t.track)try{e?await t.track.mute():await t.track.unmute()}catch(t){await this.room.localParticipant.setMicrophoneEnabled(!e)}else await this.room.localParticipant.setMicrophoneEnabled(!e)}async setupAudioCapture(e){try{const t=new AudioContext;this.audioCaptureContext=t,this.outputAnalyser=t.createAnalyser(),this.outputAnalyser.fftSize=2048,this.outputAnalyser.smoothingTimeConstant=.8;const n=new MediaStream([e.mediaStreamTrack]),i=t.createMediaStreamSource(n);i.connect(this.outputAnalyser),await Rf(t.audioWorklet);const r=new AudioWorkletNode(t,"rawAudioProcessor");this.outputAnalyser.connect(r),r.port.postMessage({type:"setFormat",format:this.outputFormat.format,sampleRate:this.outputFormat.sampleRate}),r.port.onmessage=e=>{const[t,n]=e.data;if(n>.01){const e=Ff(t.buffer),n=this.audioEventId++;this.handleMessage({type:"audio",audio_event:{audio_base_64:e,event_id:n}})}},i.connect(r)}catch(e){console.warn("Failed to set up audio capture:",e)}}setAudioVolume(e){this.audioElements.forEach(t=>{t.volume=e})}async setAudioOutputDevice(e){if(!("setSinkId"in HTMLAudioElement.prototype))throw new Error("setSinkId is not supported in this browser");const t=this.audioElements.map(async function(t){try{await t.setSinkId(e)}catch(e){throw console.error("Failed to set sink ID for audio element:",e),e}});await Promise.all(t),this.outputDeviceId=e}async setAudioInputDevice(e){if(!this.isConnected||!this.room.localParticipant)throw new Error("Cannot change input device: room not connected or no local participant");try{const t=this.room.localParticipant.getTrackPublication(cd.Source.Microphone);null!=t&&t.track&&(await t.track.stop(),await this.room.localParticipant.unpublishTrack(t.track));const n={deviceId:{exact:e},echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,channelCount:{ideal:1}},i=await function(e){return El(this,void 0,void 0,function*(){return(yield lf({audio:null==e||e,video:!1}))[0]})}(n);await this.room.localParticipant.publishTrack(i,{name:"microphone",source:cd.Source.Microphone})}catch(e){console.error("Failed to change input device:",e);try{await this.room.localParticipant.setMicrophoneEnabled(!0)}catch(e){console.error("Failed to recover microphone after device switch error:",e)}throw e}}getOutputByteFrequencyData(){return this.outputAnalyser?(null!=this.outputFrequencyData||(this.outputFrequencyData=new Uint8Array(this.outputAnalyser.frequencyBinCount)),this.outputAnalyser.getByteFrequencyData(this.outputFrequencyData),this.outputFrequencyData):null}};async function Qf(e){const t=(n=e).connectionType?n.connectionType:"conversationToken"in n&&n.conversationToken?"webrtc":"websocket";var n;switch(t){case"websocket":return _f.create(e);case"webrtc":return If.create(e);default:throw new Error(`Unknown connection type: ${t}`)}}function Nf(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}async function Bf(e={default:0,android:3e3}){let t=e.default;var n;if(/android/i.test(navigator.userAgent))t=null!=(n=e.android)?n:t;else if(Nf()){var i;t=null!=(i=e.ios)?i:t}t>0&&await new Promise(e=>setTimeout(e,t))}let Mf=class e extends Ef{static async startSession(t){const n=Ef.getFullOptions(t);n.onStatusChange&&n.onStatusChange({status:"connecting"}),n.onCanSendFeedbackChange&&n.onCanSendFeedbackChange({canSendFeedback:!1}),n.onModeChange&&n.onModeChange({mode:"listening"}),n.onCanSendFeedbackChange&&n.onCanSendFeedbackChange({canSendFeedback:!1});let i=null;try{return await Bf(n.connectionDelay),i=await Qf(t),new e(n,i)}catch(e){var r;throw n.onStatusChange&&n.onStatusChange({status:"disconnected"}),null==(r=i)||r.close(),e}}};const Lf={echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,channelCount:{ideal:1}};let $f=class e{static async create({sampleRate:t,format:n,preferHeadphonesForIosDevices:i,inputDeviceId:r,workletPaths:a,libsampleratePath:o,onError:s}){let u=null,l=null;try{const c=Df({sampleRate:{ideal:t}},Lf);if(Nf()&&i){const e=(await window.navigator.mediaDevices.enumerateDevices()).find(e=>"audioinput"===e.kind&&["airpod","headphone","earphone"].find(t=>e.label.toLowerCase().includes(t)));e&&(c.deviceId={ideal:e.deviceId})}r&&(c.deviceId=e.getDeviceIdConstraint(r));const d=navigator.mediaDevices.getSupportedConstraints().sampleRate;u=new window.AudioContext(d?{sampleRate:t}:{});const h=u.createAnalyser();if(!d){const e=o||"https://cdn.jsdelivr.net/npm/@alexanderolsen/libsamplerate-js@2.1.2/dist/libsamplerate.worklet.js";await u.audioWorklet.addModule(e)}await Rf(u.audioWorklet,null==a?void 0:a.rawAudioProcessor);const p=Df({voiceIsolation:!0},c);l=await navigator.mediaDevices.getUserMedia({audio:p});const f=u.createMediaStreamSource(l),m=new AudioWorkletNode(u,"rawAudioProcessor");m.port.postMessage({type:"setFormat",format:n,sampleRate:t}),f.connect(h),h.connect(m),await u.resume();const O=await navigator.permissions.query({name:"microphone"});return new e(u,h,m,l,f,O,s)}catch(e){var c,d;throw null==(c=l)||c.getTracks().forEach(e=>{e.stop()}),null==(d=u)||d.close(),e}}static getDeviceIdConstraint(e){if(e)return Nf()?{ideal:e}:{exact:e}}constructor(e,t,n,i,r,a,o=console.error){this.context=void 0,this.analyser=void 0,this.worklet=void 0,this.inputStream=void 0,this.mediaStreamSource=void 0,this.permissions=void 0,this.onError=void 0,this.settingInput=!1,this.handlePermissionsChange=()=>{if("denied"===this.permissions.state)this.onError("Microphone permission denied");else if(!this.settingInput){var e;const[t]=this.inputStream.getAudioTracks(),{deviceId:n}=null!=(e=null==t?void 0:t.getSettings())?e:{};this.setInputDevice(n).catch(e=>{this.onError("Failed to reset input device after permission change:",e)})}},this.context=e,this.analyser=t,this.worklet=n,this.inputStream=i,this.mediaStreamSource=r,this.permissions=a,this.onError=o,this.permissions.addEventListener("change",this.handlePermissionsChange)}forgetInputStreamAndSource(){for(const e of this.inputStream.getTracks())e.stop();this.mediaStreamSource.disconnect()}async close(){this.forgetInputStreamAndSource(),this.permissions.removeEventListener("change",this.handlePermissionsChange),await this.context.close()}setMuted(e){this.worklet.port.postMessage({type:"setMuted",isMuted:e})}async setInputDevice(t){try{if(this.settingInput)throw new Error("Input device is already being set");this.settingInput=!0;const n=Df({},Lf);t&&(n.deviceId=e.getDeviceIdConstraint(t));const i=Df({voiceIsolation:!0},n),r=await navigator.mediaDevices.getUserMedia({audio:i});this.forgetInputStreamAndSource(),this.inputStream=r,this.mediaStreamSource=this.context.createMediaStreamSource(r),this.mediaStreamSource.connect(this.analyser)}catch(e){throw this.onError("Failed to switch input device:",e),e}finally{this.settingInput=!1}}};const Uf=Pf("audioConcatProcessor",'/*\n * ulaw decoding logic taken from the wavefile library\n * https://github.com/rochars/wavefile/blob/master/lib/codecs/mulaw.js\n * USED BY @elevenlabs/client\n */\n\nconst decodeTable = [0,132,396,924,1980,4092,8316,16764];\n\nfunction decodeSample(muLawSample) {\n  let sign;\n  let exponent;\n  let mantissa;\n  let sample;\n  muLawSample = ~muLawSample;\n  sign = (muLawSample & 0x80);\n  exponent = (muLawSample >> 4) & 0x07;\n  mantissa = muLawSample & 0x0F;\n  sample = decodeTable[exponent] + (mantissa << (exponent+3));\n  if (sign !== 0) sample = -sample;\n\n  return sample;\n}\n\nclass AudioConcatProcessor extends AudioWorkletProcessor {\n  constructor() {\n    super();\n    this.buffers = []; // Initialize an empty buffer\n    this.cursor = 0;\n    this.currentBuffer = null;\n    this.wasInterrupted = false;\n    this.finished = false;\n    \n    this.port.onmessage = ({ data }) => {\n      switch (data.type) {\n        case "setFormat":\n          this.format = data.format;\n          break;\n        case "buffer":\n          this.wasInterrupted = false;\n          this.buffers.push(\n            this.format === "ulaw"\n              ? new Uint8Array(data.buffer)\n              : new Int16Array(data.buffer)\n          );\n          break;\n        case "interrupt":\n          this.wasInterrupted = true;\n          break;\n        case "clearInterrupted":\n          if (this.wasInterrupted) {\n            this.wasInterrupted = false;\n            this.buffers = [];\n            this.currentBuffer = null;\n          }\n      }\n    };\n  }\n  process(_, outputs) {\n    let finished = false;\n    const output = outputs[0][0];\n    for (let i = 0; i < output.length; i++) {\n      if (!this.currentBuffer) {\n        if (this.buffers.length === 0) {\n          finished = true;\n          break;\n        }\n        this.currentBuffer = this.buffers.shift();\n        this.cursor = 0;\n      }\n\n      let value = this.currentBuffer[this.cursor];\n      if (this.format === "ulaw") {\n        value = decodeSample(value);\n      }\n      output[i] = value / 32768;\n      this.cursor++;\n\n      if (this.cursor >= this.currentBuffer.length) {\n        this.currentBuffer = null;\n      }\n    }\n\n    if (this.finished !== finished) {\n      this.finished = finished;\n      this.port.postMessage({ type: "process", finished });\n    }\n\n    return true; // Continue processing\n  }\n}\n\nregisterProcessor("audioConcatProcessor", AudioConcatProcessor);\n');class qf{static async create({sampleRate:e,format:t,outputDeviceId:n,workletPaths:i}){let r=null,a=null;try{r=new AudioContext({sampleRate:e});const o=r.createAnalyser(),s=r.createGain();a=new Audio,a.src="",a.load(),a.autoplay=!0,a.style.display="none",document.body.appendChild(a);const u=r.createMediaStreamDestination();a.srcObject=u.stream,s.connect(o),o.connect(u),await Uf(r.audioWorklet,null==i?void 0:i.audioConcatProcessor);const l=new AudioWorkletNode(r,"audioConcatProcessor");return l.port.postMessage({type:"setFormat",format:t}),l.connect(s),await r.resume(),n&&a.setSinkId&&await a.setSinkId(n),new qf(r,o,s,l,a)}catch(e){var o,s;throw null!=(o=a)&&o.parentNode&&a.parentNode.removeChild(a),null==(s=a)||s.pause(),r&&"closed"!==r.state&&await r.close(),e}}constructor(e,t,n,i,r){this.context=void 0,this.analyser=void 0,this.gain=void 0,this.worklet=void 0,this.audioElement=void 0,this.context=e,this.analyser=t,this.gain=n,this.worklet=i,this.audioElement=r}async setOutputDevice(e){if(!("setSinkId"in HTMLAudioElement.prototype))throw new Error("setSinkId is not supported in this browser");await this.audioElement.setSinkId(e||"")}async close(){this.audioElement.parentNode&&this.audioElement.parentNode.removeChild(this.audioElement),this.audioElement.pause(),await this.context.close()}}let Xf=class e extends Ef{static async requestWakeLock(){if("wakeLock"in navigator)try{return await navigator.wakeLock.request("screen")}catch(e){}return null}static async startSession(t){var n;const i=Ef.getFullOptions(t);i.onStatusChange&&i.onStatusChange({status:"connecting"}),i.onCanSendFeedbackChange&&i.onCanSendFeedbackChange({canSendFeedback:!1});let r=null,a=null,o=null,s=null,u=null;(null==(n=t.useWakeLock)||n)&&(u=await e.requestWakeLock());try{var l;return s=await navigator.mediaDevices.getUserMedia({audio:!0}),await Bf(i.connectionDelay),a=await Qf(t),[r,o]=await Promise.all([$f.create(Df({},a.inputFormat,{preferHeadphonesForIosDevices:t.preferHeadphonesForIosDevices,inputDeviceId:t.inputDeviceId,workletPaths:t.workletPaths,libsampleratePath:t.libsampleratePath})),qf.create(Df({},a.outputFormat,{outputDeviceId:t.outputDeviceId,workletPaths:t.workletPaths}))]),null==(l=s)||l.getTracks().forEach(e=>{e.stop()}),s=null,new e(i,a,r,o,u)}catch(e){var c,d,h,p;i.onStatusChange&&i.onStatusChange({status:"disconnected"}),null==(c=s)||c.getTracks().forEach(e=>{e.stop()}),null==(d=a)||d.close(),await(null==(h=r)?void 0:h.close()),await(null==(p=o)?void 0:p.close());try{var f;await(null==(f=u)?void 0:f.release()),u=null}catch(e){}throw e}}constructor(t,n,i,r,a){super(t,n),this.input=void 0,this.output=void 0,this.wakeLock=void 0,this.inputFrequencyData=void 0,this.outputFrequencyData=void 0,this.visibilityChangeHandler=null,this.onInputWorkletMessage=e=>{"connected"===this.status&&this.connection.sendMessage({user_audio_chunk:Ff(e.data[0].buffer)})},this.onOutputWorkletMessage=({data:e})=>{"process"===e.type&&this.updateMode(e.finished?"listening":"speaking")},this.addAudioBase64Chunk=e=>{this.output.gain.gain.cancelScheduledValues(this.output.context.currentTime),this.output.gain.gain.value=this.volume,this.output.worklet.port.postMessage({type:"clearInterrupted"}),this.output.worklet.port.postMessage({type:"buffer",buffer:wf(e)})},this.fadeOutAudio=()=>{this.updateMode("listening"),this.output.worklet.port.postMessage({type:"interrupt"}),this.output.gain.gain.exponentialRampToValueAtTime(1e-4,this.output.context.currentTime+2),setTimeout(()=>{this.output.gain.gain.value=this.volume,this.output.worklet.port.postMessage({type:"clearInterrupted"})},2e3)},this.calculateVolume=e=>{if(0===e.length)return 0;let t=0;for(let n=0;n<e.length;n++)t+=e[n]/255;return t/=e.length,t<0?0:t>1?1:t},this.setVolume=({volume:e})=>{const t=Number.isFinite(e)?Math.min(1,Math.max(0,e)):1;this.volume=t,this.connection instanceof If?this.connection.setAudioVolume(t):this.output.gain.gain.value=t},this.input=i,this.output=r,this.wakeLock=a,this.input.worklet.port.onmessage=this.onInputWorkletMessage,this.output.worklet.port.onmessage=this.onOutputWorkletMessage,a&&(this.visibilityChangeHandler=()=>{var t;"visible"===document.visibilityState&&null!=(t=this.wakeLock)&&t.released&&e.requestWakeLock().then(e=>{this.wakeLock=e})},document.addEventListener("visibilitychange",this.visibilityChangeHandler))}async handleEndSession(){await super.handleEndSession(),this.visibilityChangeHandler&&document.removeEventListener("visibilitychange",this.visibilityChangeHandler);try{var e;await(null==(e=this.wakeLock)?void 0:e.release()),this.wakeLock=null}catch(e){}await this.input.close(),await this.output.close()}handleInterruption(e){super.handleInterruption(e),this.fadeOutAudio()}handleAudio(e){var t,n;super.handleAudio(e),e.audio_event.alignment&&this.options.onAudioAlignment&&this.options.onAudioAlignment(e.audio_event.alignment),this.lastInterruptTimestamp<=e.audio_event.event_id&&(e.audio_event.audio_base_64&&(null==(t=(n=this.options).onAudio)||t.call(n,e.audio_event.audio_base_64),this.connection instanceof If||this.addAudioBase64Chunk(e.audio_event.audio_base_64)),this.currentEventId=e.audio_event.event_id,this.updateCanSendFeedback(),this.updateMode("speaking"))}setMicMuted(e){this.connection instanceof If?this.connection.setMicMuted(e):this.input.setMuted(e)}getInputByteFrequencyData(){return null!=this.inputFrequencyData||(this.inputFrequencyData=new Uint8Array(this.input.analyser.frequencyBinCount)),this.input.analyser.getByteFrequencyData(this.inputFrequencyData),this.inputFrequencyData}getOutputByteFrequencyData(){return this.connection instanceof If?this.connection.getOutputByteFrequencyData()||new Uint8Array(1024):(null!=this.outputFrequencyData||(this.outputFrequencyData=new Uint8Array(this.output.analyser.frequencyBinCount)),this.output.analyser.getByteFrequencyData(this.outputFrequencyData),this.outputFrequencyData)}getInputVolume(){return this.calculateVolume(this.getInputByteFrequencyData())}getOutputVolume(){return this.calculateVolume(this.getOutputByteFrequencyData())}async changeInputDevice({sampleRate:e,format:t,preferHeadphonesForIosDevices:n,inputDeviceId:i}){try{if(this.connection instanceof _f)try{return await this.input.setInputDevice(i),this.input}catch(e){console.warn("Failed to change device on existing input, recreating:",e)}this.connection instanceof If&&await this.connection.setAudioInputDevice(i||""),await this.input.close();const r=await $f.create({sampleRate:null!=e?e:this.connection.inputFormat.sampleRate,format:null!=t?t:this.connection.inputFormat.format,preferHeadphonesForIosDevices:n,inputDeviceId:i,workletPaths:this.options.workletPaths,libsampleratePath:this.options.libsampleratePath,onError:this.options.onError});return this.input=r,this.input.worklet.port.onmessage=this.onInputWorkletMessage,this.input}catch(e){throw console.error("Error changing input device",e),e}}async changeOutputDevice({sampleRate:e,format:t,outputDeviceId:n}){try{if(this.connection instanceof _f)try{return await this.output.setOutputDevice(n),this.output}catch(e){console.warn("Failed to change device on existing output, recreating:",e)}this.connection instanceof If&&await this.connection.setAudioOutputDevice(n||""),await this.output.close();const i=await qf.create({sampleRate:null!=e?e:this.connection.outputFormat.sampleRate,format:null!=t?t:this.connection.outputFormat.format,outputDeviceId:n,workletPaths:this.options.workletPaths});return this.output=i,this.output}catch(e){throw console.error("Error changing output device",e),e}}};function zf(e,t,n="https://api.elevenlabs.io"){const i={};return"boolean"==typeof t?i.feedback=t?"like":"dislike":(i.rating=t.rating,i.comment=t.comment),fetch(`${n}/v1/convai/conversations/${e}/feedback`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}})}var Zf,jf,Wf;!function(e){e.SESSION_STARTED="session_started",e.PARTIAL_TRANSCRIPT="partial_transcript",e.COMMITTED_TRANSCRIPT="committed_transcript",e.COMMITTED_TRANSCRIPT_WITH_TIMESTAMPS="committed_transcript_with_timestamps",e.AUTH_ERROR="auth_error",e.ERROR="error",e.OPEN="open",e.CLOSE="close",e.QUOTA_EXCEEDED="quota_exceeded",e.COMMIT_THROTTLED="commit_throttled",e.TRANSCRIBER_ERROR="transcriber_error",e.UNACCEPTED_TERMS="unaccepted_terms",e.RATE_LIMITED="rate_limited",e.INPUT_ERROR="input_error",e.QUEUE_OVERFLOW="queue_overflow",e.RESOURCE_EXHAUSTED="resource_exhausted",e.SESSION_TIME_LIMIT_EXCEEDED="session_time_limit_exceeded",e.CHUNK_SIZE_EXCEEDED="chunk_size_exceeded",e.INSUFFICIENT_AUDIO_ACTIVITY="insufficient_audio_activity"}(Zf||(Zf={})),function(e){e.PCM_8000="pcm_8000",e.PCM_16000="pcm_16000",e.PCM_22050="pcm_22050",e.PCM_24000="pcm_24000",e.PCM_44100="pcm_44100",e.PCM_48000="pcm_48000",e.ULAW_8000="ulaw_8000"}(jf||(jf={})),function(e){e.MANUAL="manual",e.VAD="vad"}(Wf||(Wf={}));let Gf=class e extends Ef{static startSession(t){const n=e.getFullOptions(t);return n.textOnly?Mf.startSession(n):Xf.startSession(n)}};const Vf=Wt(null);function Yf({children:e}){const{language:t}=Ea(),n=ha("override-prompt"),i=ha("override-llm"),r=ha("override-speed"),a=ha("override-stability"),o=ha("override-similarity-boost"),s=ha("override-first-message"),u=ha("override-voice-id"),l=ha("override-text-only"),c=ha("user-id"),d=Sr(()=>{var e;return{agent:{prompt:{prompt:n.value,llm:i.value},firstMessage:s.value,language:t.value.languageCode},tts:{voiceId:u.value,speed:r.value?parseFloat(r.value):void 0,stability:a.value?parseFloat(a.value):void 0,similarityBoost:o.value?parseFloat(o.value):void 0},conversation:{textOnly:null!==(e=sn(l.value))&&void 0!==e?e:void 0}}}),h=ha("dynamic-variables"),f=Sr(()=>{if(h.value)try{return JSON.parse(h.value)}catch(e){console.error(`[ConversationalAI] Cannot parse dynamic-variables: ${null==e?void 0:e.message}`)}}),m=ha("worklet-path-raw-audio-processor"),O=ha("worklet-path-audio-concat-processor"),g=ha("worklet-path-libsamplerate"),{webSocketUrl:D}=ma(),v=ha("agent-id"),E=ha("signed-url"),C=pm(),b=function(){const e=hm();return Sr(()=>{var t;return null!==(t=e.value.use_rtc)&&void 0!==t&&t})}(),k=Sr(()=>{const e=b.value,t={dynamicVariables:f.value,overrides:d.value,connectionDelay:{default:300},textOnly:C.value,userId:c.value||void 0,libsampleratePath:g.value,workletPaths:{rawAudioProcessor:m.value,audioConcatProcessor:O.value}};return v.value?p(e?{agentId:v.value,origin:D.value,connectionType:"webrtc"}:{agentId:v.value,origin:D.value,connectionType:"websocket"},t):E.value?p({signedUrl:E.value,connectionType:"websocket"},t):(console.error("[ConversationalAI] Either agent-id or signed-url is required"),null)});return k.value?dn(Vf.Provider,{value:k,children:e}):null}const Hf=Wt(null);function Kf({children:e}){const t=gm(),n=Ar(!1),i=Ar(!1),r=Pn(()=>{const e=cr(()=>!t.value.terms_html||i.value);let r=[];return{termsShown:n,termsAccepted:e,dismissTerms:()=>{n.value=!1,r.forEach(e=>e.reject()),r=[]},acceptTerms:()=>{i.value=!0,n.value=!1;const e=t.peek().terms_key;e&&localStorage.setItem(e,"true"),r.forEach(e=>e.resolve()),r=[]},requestTerms:async()=>{e.peek()||(n.value=!0,await new Promise((e,t)=>{r.push({resolve:e,reject:t})}))}}},[n,i,t]);return Ir(()=>{const e=t.value.terms_key,n=!!e&&!!localStorage.getItem(e);i.value=n}),dn(Hf.Provider,{value:r,children:e})}function Jf(){return la(Hf)}function em(e){const t=wn(e);return Fn(()=>{t.current=e},[e]),Rn((...e)=>t.current(...e),[])}const tm=Wt(null);function nm({children:e}){const t=Ar(null),n=Rn(e=>{t.value=function(e){if(!e)return null;const t=null==e?void 0:e.getRootNode();return t instanceof ShadowRoot&&t.host instanceof HTMLElement?t.host:e.parentElement}(e)},[t]);return dn(tm.Provider,{value:t,children:[dn("template",{ref:n}),e]})}function im(){return la(tm)}const rm="loading",am="success",om="error",sm=Wt(null);function um({children:e}){const t=function(){const e=wn(null),t=wn(null),n=wn(!1),i=wn(null),r=wn(null),a=wn(!1),o=im(),s=hm(),u=mm(),l=Jf(),c=la(Vf),d=function(){const e=Ar(!1),t=em(()=>{e.value=!0});return _n(()=>(window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}),[t]),e}();return _n(()=>()=>{var t;null==(t=e.current)||t.endSession()},[]),Pn(()=>{var h;const f=ar("disconnected"),m=ar(!1),O=cr(()=>m.value?"connecting":f.value),g=cr(()=>"disconnected"===O.value),D=ar("listening"),v=cr(()=>"speaking"===D.value),E=ar(null),C=ar(null),b=ar(!1),k=ar(null!==(h=s.value.transcript_entries)&&void 0!==h?h:[]),T=ar(0),y=ar(null),A=ar(new Map);return{status:O,isSpeaking:v,mode:D,isDisconnected:g,lastId:C,error:E,canSendFeedback:b,conversationIndex:T,conversationTextOnly:y,transcript:k,toolCallStatus:A,startSession:async(h,O={})=>{var g,v,S,_,F,w,x,P,R,I,Q,N;const B=O.resume?"/* continue */":O.initialMessage;if(await l.requestTerms(),null!=(_=e.current)&&_.isOpen())return e.current.getId();if(t.current)return(await t.current).getId();let M=structuredClone(c.peek());(null!=(F=O.resume)&&F.textOnly||O.initialMessage)&&s.value.supports_text_only&&(M.textOnly=!0,s.value.text_only||(null!==(g=M.overrides)&&void 0!==g||(M.overrides={}),null!==(v=(w=M.overrides).conversation)&&void 0!==v||(w.conversation={}),M.overrides.conversation.textOnly=!0));try{var L;M=function(e,t,n){try{const i=new CustomEvent("elevenlabs-convai:call",{bubbles:!0,composed:!0,detail:p({config:t},n)});return e.dispatchEvent(i),i.detail.config}catch(e){return console.error("[ConversationalAI] Could not trigger call event:",e),t}}(null!==(L=o.value)&&void 0!==L?L:h,M,{sendUserMessage:t=>{var n;return null==(n=e.current)?void 0:n.sendUserMessage(t)}})}catch(e){console.error("[ConversationalAI] Error triggering call event:",e)}i.current=M,y.value=null!==(S=M.textOnly)&&void 0!==S&&S,O.initialMessage&&(k.value=[{type:"message",role:"user",message:O.initialMessage,isText:!0,conversationIndex:T.peek()}],null==(x=M.onSendUserMessage)||x.call(M,O.initialMessage));try{if(t.current=function(e,{signal:t,tries:n=5}={}){return async(...i)=>{t&&(t.value=!0);try{for(let t=1;t<=n;t++)try{return await e(...i)}catch(e){if(t===n)throw e;await new Promise(e=>setTimeout(e,1e3))}}finally{t&&(t.value=!1)}}}(Gf.startSession,{signal:m})(p(p({},M),{},{overrides:p(p({},M.overrides),{},{client:p(p({},null==(P=M.overrides)?void 0:P.client),{},{source:(null==(I=null==(R=M.overrides)?void 0:R.client)?void 0:I.source)||"widget",version:(null==(N=null==(Q=M.overrides)?void 0:Q.client)?void 0:N.version)||"0.8.2-cobrowse.3"})}),onModeChange:e=>{d.peek()||(D.value=e.mode)},onStatusChange:e=>{d.peek()||(f.value=e.status)},onCanSendFeedbackChange:e=>{d.peek()||(b.value=e.canSendFeedback)},onMessage:e=>{var t;const{role:i,message:o}=e;if(!u.peek()||!0!==y.peek()||"agent"!==i||n.current){if("agent"===i&&(n.current=!0),null==(t=M.onMessage)||t.call(M,e),"agent"===i&&a.current){const e=r.current;if(null!==e){const t=[...k.peek()];t[e]={type:"message",role:"agent",message:o,isText:!0,conversationIndex:T.peek()},k.value=t}return void(a.current=!1)}k.value=[...k.peek(),{type:"message",role:i,message:o,isText:!1,conversationIndex:T.peek()}]}else n.current=!0},onAgentChatResponsePart:({text:e,type:t})=>{if(u.peek()&&!0===y.peek()&&!n.current)return;const i=k.peek();if("start"===t)a.current=!0,r.current=i.length;else if("delta"===t){const t=r.current;if(null!==t&&e){var o;const n=[...i],r=null!==(o=n[t])&&void 0!==o?o:n[t]={type:"message",role:"agent",message:"",isText:!0,conversationIndex:T.peek()};"message"===r.type&&(n[t]=p(p({},r),{},{message:r.message+e}),k.value=n)}}else"stop"===t&&(r.current=null)},onAgentToolRequest:({tool_call_id:e,event_id:t})=>{var n;const i=A.peek(),r=!i.has(t),a=new Map(i),o=new Map(null!==(n=a.get(t))&&void 0!==n?n:[]);o.set(e,rm),a.set(t,o),A.value=a,r&&s.value.show_agent_status&&(k.value=[...k.peek(),{type:"tool_call",eventId:t,conversationIndex:T.peek(),status:rm}])},onAgentToolResponse:({tool_call_id:e,is_error:t,event_id:n})=>{const i=A.peek(),r=i.get(n);if(null==r||!r.has(e))return;const a=new Map(i),o=new Map(r);if(o.set(e,t?om:am),a.set(n,o),A.value=a,s.value.show_agent_status&&![...o.values()].some(e=>e===rm)){const e=[...o.values()].some(e=>e===om)?om:am;k.value=k.peek().map(t=>"tool_call"===t.type&&t.eventId===n?p(p({},t),{},{status:e}):t)}},onDisconnect:e=>{var t;n.current=!1,!d.peek()&&(y.value=null,r.current=null,a.current=!1,A.value=new Map,k.value=[...k.peek(),"error"===e.reason?{type:"error",message:e.message,conversationIndex:T.peek()}:{type:"disconnection",role:"user"===e.reason?"user":"agent",conversationIndex:T.peek()}],T.value++,"error"===e.reason&&(E.value=e.message,console.error("[ConversationalAI] Disconnected due to an error:",e.message)),null==(t=M.onDisconnect)||t.call(M,e))}})),e.current=await t.current,B){const t=e.current;setTimeout(()=>t.sendUserMessage(B),100)}const i=e.current.getId();return C.value=i,E.value=null,i}catch(e){let t="Could not start a conversation.";e instanceof CloseEvent?t=e.reason||t:e instanceof Error&&(t=e.message||t),E.value=t,k.value=[...k.value,{type:"error",message:t,conversationIndex:T.peek()}]}finally{t.current=null}},endSession:async()=>{const t=e.current;e.current=null,await(null==t?void 0:t.endSession())},getInputVolume:()=>{var t,n;return null!==(t=null==(n=e.current)?void 0:n.getInputVolume())&&void 0!==t?t:0},getOutputVolume:()=>{var t,n;return null!==(t=null==(n=e.current)?void 0:n.getOutputVolume())&&void 0!==t?t:0},setVolume:t=>{var n;null==(n=e.current)||n.setVolume({volume:t})},setMicMuted:t=>{var n;null==(n=e.current)||n.setMicMuted(t)},sendFeedback:t=>{var n;null==(n=e.current)||n.sendFeedback(t)},sendUserMessage:t=>{var n,r,a;null==(n=e.current)||n.sendUserMessage(t),!function(e){return e.startsWith("/* ")&&e.endsWith(" */")}(t)&&(k.value=[...k.value,{type:"message",role:"user",message:t,isText:!0,conversationIndex:T.peek()}],null==(a=null==(r=i.current)?void 0:r.onSendUserMessage)||a.call(r,t))},sendUserActivity:()=>{var t;null==(t=e.current)||t.sendUserActivity()},sendContextualUpdate:t=>{var n;null==(n=e.current)||n.sendContextualUpdate(t)},addModeToggleEntry:t=>{var n;null!=(n=e.current)&&n.isOpen()&&(k.value=[...k.value,{type:"mode_toggle",mode:t,conversationIndex:T.peek()}])}}},[c])}();return Ir(()=>{if(!0===t.conversationTextOnly.value){t.transcript.value;const e=setTimeout(()=>{t.endSession()},6e5);return()=>{clearTimeout(e)}}}),dn(sm.Provider,{value:t,children:e})}function lm(){return la(sm)}const cm=Wt(null);function dm({children:e}){const{serverUrl:t}=ma(),n=ha("agent-id"),i=ha("override-config"),r=ha("signed-url"),a=Ar(null);Ir(()=>{if(i.value)try{const e=JSON.parse(i.value);if(e)return void(a.value=e)}catch(e){console.error(`[ConversationalAI] Cannot parse override-config: ${null==e?void 0:e.message}`)}let e,o=n.value;if(r.value){var s,u;const t=new URL(r.value).searchParams;o=null!==(s=t.get("agent_id"))&&void 0!==s?s:n.value,e=null!==(u=t.get("conversation_signature"))&&void 0!==u?u:void 0}if(!o)return void(a.value=null);const l=new AbortController;return async function(e,t,n,i){const r=await(await fetch(`${t}/v1/convai/agents/${e}/widget${i?`?conversation_signature=${encodeURIComponent(i)}`:""}`,{signal:n})).json();if(!r.widget_config)throw new Error("Response does not contain widget_config");return r.widget_config}(o,t.value,l.signal,e).then(e=>{l.signal.aborted||(a.value=e)}).catch(e=>{console.error(`[ConversationalAI] Cannot fetch config for agent ${n.value}: ${null==e?void 0:e.message}`),l.signal.aborted||(a.value=null)}),()=>{l.abort()}});const o=ha("variant"),s=ha("placement"),u=ha("terms-key"),l=ha("mic-muting"),c=ha("transcript"),d=ha("transcript-entries"),h=ha("text-input"),f=ha("default-expanded"),m=ha("always-expanded"),O=ha("dismissible"),g=ha("strip-audio-tags"),D=ha("override-text-only"),v=ha("use-rtc"),E=ha("auto-resume"),C=ha("show-agent-status"),b=Sr(()=>{var e,t,n,i,r,b,k,T,y,A,S,_,F,w,x,P,R,I,Q,N,B,M;if(!a.value)return null;const L=null!==(e=o.value)&&void 0!==e?e:a.value.variant,$=null!==(t=s.value)&&void 0!==t?t:a.value.placement,U=null!==(n=u.value)&&void 0!==n?n:a.value.terms_key,q=null!==(i=null!==(r=sn(D.value))&&void 0!==r?r:a.value.text_only)&&void 0!==i&&i,X=null!==(b=sn(l.value))&&void 0!==b?b:a.value.mic_muting_enabled,z=null!==(k=sn(c.value))&&void 0!==k?k:a.value.transcript_enabled,Z=null!==(T=sn(h.value))&&void 0!==T?T:a.value.text_input_enabled,j=null!==(y=null!==(A=sn(m.value))&&void 0!==A?A:a.value.always_expanded)&&void 0!==y&&y,W=null!==(S=null!==(_=sn(f.value))&&void 0!==_?_:a.value.default_expanded)&&void 0!==S&&S,G=null!==(F=null!==(w=sn(O.value))&&void 0!==w?w:a.value.dismissible)&&void 0!==F&&F,V=null!==(x=null!==(P=sn(g.value))&&void 0!==P?P:a.value.strip_audio_tags)&&void 0!==x?x:!q,Y=null!==(R=null!==(I=sn(v.value))&&void 0!==I?I:a.value.use_rtc)&&void 0!==R&&R,H=null!==(Q=un(E.value))&&void 0!==Q?Q:void 0,K=null!==(N=un(d.value))&&void 0!==N?N:[],J=null!==(B=null!==(M=sn(C.value))&&void 0!==M?M:a.value.show_agent_status)&&void 0!==B&&B;return p(p({},a.value),{},{variant:na(L),placement:ra($),terms_key:U,mic_muting_enabled:!q&&X,transcript_enabled:q||z,transcript_entries:K,text_input_enabled:q||Z,always_expanded:j,default_expanded:W,dismissible:G,strip_audio_tags:V,use_rtc:Y,auto_resume:H,show_agent_status:J})});return b.value?dn(cm.Provider,{value:b,children:e}):null}function hm(){return la(cm)}function pm(){const e=ha("override-text-only"),t=hm();return Sr(()=>{var n,i;return null!==(n=null!==(i=sn(e.value))&&void 0!==i?i:t.value.text_only)&&void 0!==n&&n})}function fm(){const e=pm(),{conversationTextOnly:t}=lm();return Sr(()=>{var n;return null!==(n=t.value)&&void 0!==n?n:e.value})}function mm(){const e=ha("override-first-message"),t=hm(),{language:n}=Ea();return Sr(()=>{var i,r,a,o,s;return null!==(i=null!==(r=null!==(a=e.value)&&void 0!==a?a:null==(s=null==(o=t.value.language_presets)?void 0:o[n.value.languageCode])?void 0:s.first_message)&&void 0!==r?r:t.value.first_message)&&void 0!==i?i:null})}function Om(){const e=hm();return Sr(()=>{var t;return null!==(t=e.value.text_input_enabled)&&void 0!==t&&t})}function gm(){const e=hm(),{language:t}=Ea();return Sr(()=>{var n,i,r,a;const o=null==(a=e.value.language_presets)?void 0:a[t.value.languageCode];return{terms_html:null!==(n=null==o?void 0:o.terms_html)&&void 0!==n?n:e.value.terms_html,terms_text:null!==(i=null==o?void 0:o.terms_text)&&void 0!==i?i:e.value.terms_text,terms_key:null!==(r=null==o?void 0:o.terms_key)&&void 0!==r?r:e.value.terms_key}})}const Dm=Jn(function(){const e=hm(),t=Sr(()=>{const t=e.value.styles;return`:host, :root {\n${ua.map(e=>{var n;return`${function(e){return`--el-${e.replace(/_/g,"-")}`}(e)}: ${function(e){return"number"==typeof e?`${e}px`:e}(null!==(n=null==t?void 0:t[e])&&void 0!==n?n:sa[e])};`}).join("\n")}\n}`});return dn("style",{children:[t,'@import"https://fonts.googleapis.com/css2?family=Inter:wght@400,500&display=swap";/*! tailwindcss v4.1.18 | MIT License | https://tailwindcss.com */@layer properties{@supports ((not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1;--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-divide-y-reverse:0;--tw-border-style:solid;--tw-gradient-position:initial;--tw-gradient-from:#0000;--tw-gradient-via:#0000;--tw-gradient-to:#0000;--tw-gradient-stops:initial;--tw-gradient-via-stops:initial;--tw-gradient-from-position:0%;--tw-gradient-via-position:50%;--tw-gradient-to-position:100%;--tw-leading:initial;--tw-font-weight:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial;--tw-duration:initial;--tw-ease:initial}}}@layer theme{:host,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--font-weight-medium:500;--font-weight-semibold:600;--ease-out:cubic-bezier(0,0,.2,1);--animate-spin:spin 1s linear infinite;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){-webkit-appearance:button;-moz-appearance:button;appearance:button}::file-selector-button{-webkit-appearance:button;-moz-appearance:button;appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}}@layer components;@layer utilities{.pointer-events-auto{pointer-events:auto}.pointer-events-none{pointer-events:none}.\\!visible{visibility:visible!important}.collapse{visibility:collapse}.visible{visibility:visible}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.static{position:static}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.start-3{inset-inline-start:12px}.end-3{inset-inline-end:12px}.top-0{top:0}.top-1{top:4px}.top-1\\/2{top:50%}.top-4{top:16px}.top-16{top:64px}.top-20{top:80px}.top-\\[40\\%\\]{top:40%}.top-\\[88px\\]{top:88px}.right-0{right:0}.right-1{right:4px}.-bottom-3{bottom:-12px}.bottom-0{bottom:0}.bottom-20{bottom:80px}.left-0{left:0}.left-1\\/2{left:50%}.left-4{left:16px}.z-1{z-index:1}.z-2{z-index:2}.z-10{z-index:10}.container{width:100%}@media(min-width:40rem){.container{max-width:40rem}}@media(min-width:48rem){.container{max-width:48rem}}@media(min-width:64rem){.container{max-width:64rem}}@media(min-width:80rem){.container{max-width:80rem}}@media(min-width:96rem){.container{max-width:96rem}}.m-0{margin:0}.m-1{margin:4px}.-mx-0\\.5{margin-inline:-2px}.mx-1{margin-inline:4px}.-my-4{margin-block:-16px}.my-4{margin-block:16px}.my-6{margin-block:24px}.ms-auto{margin-inline-start:auto}.mt-3{margin-top:12px}.mt-4{margin-top:16px}.mt-6{margin-top:24px}.-mr-1\\.5{margin-right:-6px}.mb-0\\.5{margin-bottom:2px}.mb-1{margin-bottom:4px}.mb-2{margin-bottom:8px}.mb-3{margin-bottom:12px}.mb-4{margin-bottom:16px}.ml-4{margin-left:16px}.ml-auto{margin-left:auto}.\\!flex{display:flex!important}.block{display:block}.contents{display:contents}.flex{display:flex}.grid{display:grid}.hidden{display:none}.inline{display:inline}.inline-block{display:inline-block}.inline-flex{display:inline-flex}.list-item{display:list-item}.table{display:table}.table-cell{display:table-cell}.table-row{display:table-row}.\\[field-sizing\\:content\\],.field-sizing-content{field-sizing:content}.h-4{height:16px}.h-5{height:20px}.h-6{height:24px}.h-7{height:28px}.h-8{height:32px}.h-9{height:36px}.h-12{height:48px}.h-16{height:64px}.h-48{height:192px}.h-full{height:100%}.h-screen{height:100vh}.max-h-\\[50\\%\\]{max-height:50%}.max-h-\\[min\\(384px\\,var\\(--radix-select-content-available-height\\)\\)\\]{max-height:min(384px,var(--radix-select-content-available-height))}.max-h-full{max-height:100%}.min-h-0{min-height:0}.min-h-\\[6lh\\]{min-height:6lh}.min-h-full{min-height:100%}.min-h-min{min-height:min-content}.w-1\\/2{width:50%}.w-4{width:16px}.w-5{width:20px}.w-6{width:24px}.w-8{width:32px}.w-9{width:36px}.w-12{width:48px}.w-20{width:80px}.w-48{width:192px}.w-64{width:256px}.w-full{width:100%}.w-screen{width:100vw}.max-w-64{max-width:256px}.max-w-\\[400px\\]{max-width:400px}.max-w-full{max-width:100%}.\\!min-w-60{min-width:240px!important}.min-w-0{min-width:0}.min-w-9{min-width:36px}.min-w-60{min-width:240px}.min-w-\\[var\\(--radix-select-trigger-width\\)\\]{min-width:var(--radix-select-trigger-width)}.min-w-max{min-width:max-content}.min-w-min{min-width:min-content}.flex-1{flex:1}.shrink-0{flex-shrink:0}.grow{flex-grow:1}.border-collapse{border-collapse:collapse}.origin-bottom{transform-origin:bottom}.origin-bottom-left{transform-origin:0 100%}.origin-bottom-right{transform-origin:100% 100%}.origin-top{transform-origin:top}.origin-top-left{transform-origin:0 0}.origin-top-right{transform-origin:100% 0}.-translate-x-1\\/2{--tw-translate-x: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-1\\/2{--tw-translate-y: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-\\[calc\\(var\\(--el-overlay-padding\\)\\)\\]{--tw-translate-y:calc(calc(var(--el-overlay-padding))*-1);translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-full{--tw-translate-y:-100%;translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-y-1\\/2{--tw-translate-y: 50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-y-\\[calc\\(var\\(--el-overlay-padding\\)\\)\\]{--tw-translate-y:calc(var(--el-overlay-padding));translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-y-full{--tw-translate-y:100%;translate:var(--tw-translate-x)var(--tw-translate-y)}.scale-75{--tw-scale-x:75%;--tw-scale-y:75%;--tw-scale-z:75%;scale:var(--tw-scale-x)var(--tw-scale-y)}.scale-90{--tw-scale-x:90%;--tw-scale-y:90%;--tw-scale-z:90%;scale:var(--tw-scale-x)var(--tw-scale-y)}.scale-100{--tw-scale-x:100%;--tw-scale-y:100%;--tw-scale-z:100%;scale:var(--tw-scale-x)var(--tw-scale-y)}.scale-150{--tw-scale-x:150%;--tw-scale-y:150%;--tw-scale-z:150%;scale:var(--tw-scale-x)var(--tw-scale-y)}.scale-\\[0\\.1667\\]{scale:.1667}.-rotate-90{rotate:-90deg}.-rotate-180{rotate:-180deg}.transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)}.cursor-default{cursor:default}.cursor-pointer{cursor:pointer}.resize{resize:both}.resize-none{resize:none}.list-outside{list-style-position:outside}.list-decimal{list-style-type:decimal}.list-disc{list-style-type:disc}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-row{flex-direction:row}.place-content-center{place-content:center}.items-center{align-items:center}.items-end{align-items:flex-end}.items-start{align-items:flex-start}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.justify-end{justify-content:flex-end}.gap-1{gap:4px}.gap-1\\.5{gap:6px}.gap-2{gap:8px}.gap-2\\.5{gap:10px}.gap-3{gap:12px}.gap-6{gap:24px}.gap-8{gap:32px}:where(.divide-y>:not(:last-child)){--tw-divide-y-reverse:0;border-bottom-style:var(--tw-border-style);border-top-style:var(--tw-border-style);border-top-width:calc(1px*var(--tw-divide-y-reverse));border-bottom-width:calc(1px*calc(1 - var(--tw-divide-y-reverse)))}:where(.divide-base-border>:not(:last-child)){border-color:var(--el-base-border)}.self-auto{align-self:auto}.self-stretch{align-self:stretch}.truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-auto{overflow-y:auto}.rounded-\\[calc\\(var\\(--el-button-radius\\)\\+4px\\)\\]{border-radius:calc(var(--el-button-radius) + 4px)}.rounded-\\[calc\\(var\\(--el-sheet-radius\\)-8px\\)\\]{border-radius:calc(var(--el-sheet-radius) - 8px)}.rounded-bubble{border-radius:var(--el-bubble-radius)}.rounded-button{border-radius:var(--el-button-radius)}.rounded-compact-sheet{border-radius:var(--el-compact-sheet-radius)}.rounded-dropdown-sheet{border-radius:var(--el-dropdown-sheet-radius)}.rounded-full{border-radius:9999px}.rounded-input{border-radius:var(--el-input-radius)}.rounded-sheet{border-radius:var(--el-sheet-radius)}.border{border-style:var(--tw-border-style);border-width:1px}.border-r{border-right-style:var(--tw-border-style);border-right-width:1px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-l-4{border-left-style:var(--tw-border-style);border-left-width:4px}.border-accent{border-color:var(--el-accent)}.border-base{border-color:var(--el-base)}.border-base-border{border-color:var(--el-base-border)}.border-base-subtle\\/30{border-color:var(--el-base-subtle)}@supports (color:color-mix(in lab,red,red)){.border-base-subtle\\/30{border-color:color-mix(in oklab,var(--el-base-subtle)30%,transparent)}}.bg-accent{background-color:var(--el-accent)}.bg-base{background-color:var(--el-base)}.bg-base-active,.bg-base-active\\/40{background-color:var(--el-base-active)}@supports (color:color-mix(in lab,red,red)){.bg-base-active\\/40{background-color:color-mix(in oklab,var(--el-base-active)40%,transparent)}}.bg-base-active\\/80{background-color:var(--el-base-active)}@supports (color:color-mix(in lab,red,red)){.bg-base-active\\/80{background-color:color-mix(in oklab,var(--el-base-active)80%,transparent)}}.bg-base-border{background-color:var(--el-base-border)}.bg-base-hover{background-color:var(--el-base-hover)}.bg-gradient-to-b{--tw-gradient-position:to bottom in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.bg-gradient-to-t{--tw-gradient-position:to top in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.from-base{--tw-gradient-from:var(--el-base);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-transparent{--tw-gradient-to:transparent;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.\\[mask-image\\:linear-gradient\\(to_bottom\\,black\\,transparent\\)\\]{-webkit-mask-image:linear-gradient(#000,#0000);mask-image:linear-gradient(#000,#0000)}.\\[mask-image\\:linear-gradient\\(to_top\\,black\\,transparent\\)\\]{-webkit-mask-image:linear-gradient(#0000,#000);mask-image:linear-gradient(#0000,#000)}.bg-cover{background-size:cover}.object-cover{object-fit:cover}.p-1{padding:4px}.p-1\\.5{padding:6px}.p-2{padding:8px}.p-3{padding:12px}.p-4{padding:16px}.px-1{padding-inline:4px}.px-1\\.5{padding-inline:6px}.px-2{padding-inline:8px}.px-2\\.5{padding-inline:10px}.px-3{padding-inline:12px}.px-4{padding-inline:16px}.px-8{padding-inline:32px}.py-0\\.5{padding-block:2px}.py-1{padding-block:4px}.py-1\\.5{padding-block:6px}.py-2{padding-block:8px}.py-2\\.5{padding-block:10px}.py-4{padding-block:16px}.py-\\[calc\\(theme\\(spacing\\.2\\)-1px\\)\\]{padding-block:7px}.pt-1{padding-top:4px}.pt-1\\.5{padding-top:6px}.pt-2{padding-top:8px}.pt-4{padding-top:16px}.pt-20{padding-top:80px}.pr-3{padding-right:12px}.pr-8{padding-right:32px}.pr-16{padding-right:64px}.pb-1{padding-bottom:4px}.pb-2{padding-bottom:8px}.pb-3{padding-bottom:12px}.pb-4{padding-bottom:16px}.pb-\\[60px\\]{padding-bottom:60px}.pl-1\\.5{padding-left:6px}.pl-4{padding-left:16px}.pl-16{padding-left:64px}.text-center{text-align:center}.text-left{text-align:left}.font-mono{font-family:var(--font-mono)}.text-lg{font-size:18px;line-height:var(--tw-leading,26px)}.text-md{font-size:16px;line-height:var(--tw-leading,24px)}.text-sm{font-size:14px;line-height:var(--tw-leading,20px)}.text-xl{font-size:20px;line-height:var(--tw-leading,28px)}.text-xs{font-size:12px;line-height:var(--tw-leading,16px)}.text-\\[10px\\]{font-size:10px}.text-\\[13px\\]{font-size:13px}.leading-4{--tw-leading:16px;line-height:16px}.leading-5{--tw-leading:20px;line-height:20px}.\\[line-height\\:var\\(--el-overlay-padding\\)\\]{line-height:var(--el-overlay-padding)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.wrap-anywhere{overflow-wrap:anywhere}.wrap-break-word{overflow-wrap:break-word}.break-all{word-break:break-all}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-wrap{white-space:pre-wrap}.text-accent-primary{color:var(--el-accent-primary)}.text-base-border{color:var(--el-base-border)}.text-base-error{color:var(--el-base-error)}.text-base-primary{color:var(--el-base-primary)}.text-base-subtle{color:var(--el-base-subtle)}.italic{font-style:italic}.underline{text-decoration-line:underline}.opacity-0{opacity:0}.opacity-30{opacity:.3}.shadow-header{--tw-shadow:0 0 1px 0 var(--tw-shadow-color,#0006),0 2px 2px 0 var(--tw-shadow-color,#0000000a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-lg{--tw-shadow:0 2px 40px 1px var(--tw-shadow-color,#0000001f);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-md{--tw-shadow:0 2px 24px 1px var(--tw-shadow-color,#00000029);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-scroll-fade-bottom{--tw-shadow:0 8px 16px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-scroll-fade-top{--tw-shadow:0 -8px 16px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-2{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-accent{--tw-ring-color:var(--el-accent)}.outline-hidden{--tw-outline-style:none;outline-style:none}@media(forced-colors:active){.outline-hidden{outline-offset:2px;outline:2px solid #0000}}.blur{--tw-blur:blur(8px);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.grayscale{--tw-grayscale:grayscale(100%);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.filter{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.backdrop-blur-\\[1px\\]{--tw-backdrop-blur:blur(1px);-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[border-radius\\]{transition-property:border-radius;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[colors\\,opacity\\]{transition-property:colors,opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[margin\\]{transition-property:margin;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[opacity\\,transform\\]{transition-property:opacity,transform;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[opacity\\,width\\,height\\,transform\\,flex-grow\\]{transition-property:opacity,width,height,transform,flex-grow;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[opacity\\]{transition-property:opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[transform\\,left\\,top\\,opacity\\,scale\\]{transition-property:transform,left,top,opacity,scale;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[transform\\,opacity\\]{transition-property:transform,opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[width\\,height\\,max-width\\,max-height\\,transform\\,border-radius\\,opacity\\,inset\\,bottom\\,top\\,left\\,right\\,margin\\,padding\\]{transition-property:width,height,max-width,max-height,transform,border-radius,opacity,inset,bottom,top,left,right,margin,padding;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-shadow{transition-property:box-shadow;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.duration-200{--tw-duration:.2s;transition-duration:.2s}.duration-300{--tw-duration:.3s;transition-duration:.3s}.ease-out{--tw-ease:var(--ease-out);transition-timing-function:var(--ease-out)}.select-none{-webkit-user-select:none;user-select:none}.group-focus-within\\:pointer-events-auto:is(:where(.group):focus-within *){pointer-events:auto}.group-focus-within\\:opacity-100:is(:where(.group):focus-within *){opacity:1}@media(hover:hover){.group-hover\\:pointer-events-auto:is(:where(.group):hover *){pointer-events:auto}.group-hover\\:opacity-100:is(:where(.group):hover *){opacity:1}}.placeholder\\:text-base-subtle::placeholder{color:var(--el-base-subtle)}.first\\:mt-0:first-child,:is(.\\*\\:first\\:mt-0>*):first-child{margin-top:0}.last\\:mb-0:last-child,:is(.\\*\\:last\\:mb-0>*):last-child{margin-bottom:0}@media(hover:hover){.hover\\:scale-105:hover{--tw-scale-x:105%;--tw-scale-y:105%;--tw-scale-z:105%;scale:var(--tw-scale-x)var(--tw-scale-y)}.hover\\:border-accent-hover:hover{border-color:var(--el-accent-hover)}.hover\\:border-base-hover:hover{border-color:var(--el-base-hover)}.hover\\:bg-accent-hover:hover{background-color:var(--el-accent-hover)}.hover\\:bg-base-hover:hover{background-color:var(--el-base-hover)}.hover\\:opacity-50:hover{opacity:.5}}.focus\\:ring-2:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus\\:outline-none:focus{--tw-outline-style:none;outline-style:none}.focus-visible\\:underline-offset-2:focus-visible{text-underline-offset:2px}.focus-visible\\:opacity-100:focus-visible{opacity:1}.focus-visible\\:outline-hidden:focus-visible{--tw-outline-style:none;outline-style:none}@media(forced-colors:active){.focus-visible\\:outline-hidden:focus-visible{outline-offset:2px;outline:2px solid #0000}}.active\\:scale-95:active{--tw-scale-x:95%;--tw-scale-y:95%;--tw-scale-z:95%;scale:var(--tw-scale-x)var(--tw-scale-y)}.active\\:border-accent-active:active{border-color:var(--el-accent-active)}.active\\:border-base-active:active{border-color:var(--el-base-active)}.active\\:bg-accent-active:active{background-color:var(--el-accent-active)}.active\\:bg-base-active:active{background-color:var(--el-base-active)}.disabled\\:pointer-events-none:disabled{pointer-events:none}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}.data-hidden\\:translate-x-full[data-shown=false]{--tw-translate-x:100%;translate:var(--tw-translate-x)var(--tw-translate-y)}.data-hidden\\:-translate-y-4[data-shown=false]{--tw-translate-y: -16px ;translate:var(--tw-translate-x)var(--tw-translate-y)}.data-hidden\\:translate-y-2[data-shown=false]{--tw-translate-y:8px;translate:var(--tw-translate-x)var(--tw-translate-y)}.data-hidden\\:scale-75[data-shown=false]{--tw-scale-x:75%;--tw-scale-y:75%;--tw-scale-z:75%;scale:var(--tw-scale-x)var(--tw-scale-y)}.data-hidden\\:scale-90[data-shown=false]{--tw-scale-x:90%;--tw-scale-y:90%;--tw-scale-z:90%;scale:var(--tw-scale-x)var(--tw-scale-y)}.data-hidden\\:scale-100[data-shown=false]{--tw-scale-x:100%;--tw-scale-y:100%;--tw-scale-z:100%;scale:var(--tw-scale-x)var(--tw-scale-y)}.data-hidden\\:opacity-0[data-shown=false]{opacity:0}.data-highlighted\\:bg-base-active[data-highlighted]{background-color:var(--el-base-active)}.overlay{inset:var(--el-overlay-padding);right:calc(var(--el-overlay-padding) + var(--removed-body-scroll-bar-size,0px));position:absolute}.focus-ring{--tw-ring-color:var(--el-accent);--tw-ring-offset-width:2px;--tw-ring-offset-shadow:var(--tw-ring-inset,)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color);--tw-ring-offset-color:var(--el-base)}.focus-ring:focus-visible{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow);--tw-outline-style:none;outline-style:none}[data-variant=compact].sheet{border-radius:var(--el-sheet-radius);width:100%;max-width:400px;height:calc(100% - 80px);max-height:550px}[data-variant=expanded].sheet{border-radius:var(--el-sheet-radius);width:100%;max-width:600px;height:100%;max-height:calc(100% - 80px)}[data-variant=fullscreen].sheet{width:100%;max-width:100dvw;height:100%;max-height:100dvh;margin:calc(-1*var(--el-overlay-padding));width:calc(100% + 2*var(--el-overlay-padding));height:calc(100% + 2*var(--el-overlay-padding));border-radius:0;padding-bottom:24px;bottom:0}.animate-text{background-image:linear-gradient(75deg,var(--el-base-primary),var(--el-base-subtle),var(--el-base-primary),var(--el-base-subtle));color:#0000;background-size:300% 100%;-webkit-background-clip:text;background-clip:text;animation:2s linear infinite TextAnimation}@keyframes TextAnimation{0%{background-position:0 0}to{background-position:100% 0}}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.animate-spin{animation:1s linear infinite spin}.terms h6{font-size:12px;line-height:var(--tw-leading,16px);--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium);color:var(--el-base-primary)}.terms h5{font-size:14px;line-height:var(--tw-leading,20px);--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium);color:var(--el-base-primary)}.terms h4{font-size:16px;line-height:var(--tw-leading,24px);--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium);color:var(--el-base-primary)}.terms h3{font-size:18px;line-height:var(--tw-leading,26px);--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium);color:var(--el-base-primary)}.terms h2{font-size:20px;line-height:var(--tw-leading,28px);--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium);color:var(--el-base-primary)}.terms h1{font-size:24px;line-height:var(--tw-leading,30px);--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium);color:var(--el-base-primary)}}.dev-host,:host{pointer-events:none;z-index:1000;font-size:16px;line-height:var(--tw-leading,24px);color:var(--el-base-primary);scrollbar-color:#e5e7eb transparent;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;position:fixed;top:0;right:0;bottom:0;left:0}.markdown{text-autospace:normal;text-spacing-trim:trim-start}.markdown h1,.markdown h2,.markdown h3,.markdown h4,.markdown h5,.markdown h6{word-break:auto-phrase}.tok-comment,.tok-meta{color:#6a737d}.tok-keyword{color:#d73a49}.tok-atom,.tok-bool,.tok-literal,.tok-number{color:#005cc5}.tok-string,.tok-string2{color:#032f62}.tok-variableName{color:#24292e}.tok-variableName.tok-definition{color:#6f42c1}.tok-variableName.tok-local{color:#24292e}.tok-variableName2,.tok-macroName,.tok-typeName,.tok-namespace,.tok-className{color:#6f42c1}.tok-propertyName{color:#24292e}.tok-propertyName.tok-definition{color:#005cc5}.tok-labelName{color:#22863a}.tok-url,.tok-link{color:#032f62;text-decoration:underline}.tok-operator{color:#d73a49}.tok-punctuation{color:#24292e}.tok-invalid{color:#b31d28}.tok-deleted{color:#b31d28;background-color:#ffeef0}.tok-inserted{color:#22863a;background-color:#f0fff4}.tok-heading{color:#005cc5;font-weight:700}.tok-emphasis{color:#24292e;font-style:italic}.tok-strong{color:#24292e;font-weight:700}.tok-strikethrough{text-decoration:line-through}.tok-monospace{color:#005cc5}.tok-processingInstruction,[data-syntax-theme=dark] .tok-comment,[data-syntax-theme=dark] .tok-meta{color:#6a737d}[data-syntax-theme=dark] .tok-keyword{color:#f97583}[data-syntax-theme=dark] .tok-atom,[data-syntax-theme=dark] .tok-bool,[data-syntax-theme=dark] .tok-literal,[data-syntax-theme=dark] .tok-number,[data-syntax-theme=dark] .tok-propertyName.tok-definition{color:#79b8ff}[data-syntax-theme=dark] .tok-string,[data-syntax-theme=dark] .tok-string2{color:#9ecbff}[data-syntax-theme=dark] .tok-url,[data-syntax-theme=dark] .tok-link{color:#dbedff}[data-syntax-theme=dark] .tok-variableName,[data-syntax-theme=dark] .tok-variableName.tok-local,[data-syntax-theme=dark] .tok-propertyName,[data-syntax-theme=dark] .tok-emphasis,[data-syntax-theme=dark] .tok-strong{color:#e1e4e8}[data-syntax-theme=dark] .tok-variableName.tok-definition,[data-syntax-theme=dark] .tok-variableName2,[data-syntax-theme=dark] .tok-macroName,[data-syntax-theme=dark] .tok-typeName,[data-syntax-theme=dark] .tok-namespace,[data-syntax-theme=dark] .tok-className{color:#b392f0}[data-syntax-theme=dark] .tok-labelName{color:#85e89d}[data-syntax-theme=dark] .tok-invalid{color:#fdaeb7}[data-syntax-theme=dark] .tok-deleted{color:#fdaeb7;background-color:#86181d}[data-syntax-theme=dark] .tok-inserted{color:#85e89d;background-color:#144620}[data-syntax-theme=dark] .tok-heading{color:#79b8ff}[data-syntax-theme=dark] .tok-operator{color:#f97583}[data-syntax-theme=dark] .tok-punctuation{color:#e1e4e8}[data-syntax-theme=dark] .tok-monospace{color:#79b8ff}[data-syntax-theme=dark] .tok-processingInstruction{color:#6a737d}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-scale-x{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-y{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-z{syntax:"*";inherits:false;initial-value:1}@property --tw-rotate-x{syntax:"*";inherits:false}@property --tw-rotate-y{syntax:"*";inherits:false}@property --tw-rotate-z{syntax:"*";inherits:false}@property --tw-skew-x{syntax:"*";inherits:false}@property --tw-skew-y{syntax:"*";inherits:false}@property --tw-divide-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-gradient-position{syntax:"*";inherits:false}@property --tw-gradient-from{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-via{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-to{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-stops{syntax:"*";inherits:false}@property --tw-gradient-via-stops{syntax:"*";inherits:false}@property --tw-gradient-from-position{syntax:"<length-percentage>";inherits:false;initial-value:0%}@property --tw-gradient-via-position{syntax:"<length-percentage>";inherits:false;initial-value:50%}@property --tw-gradient-to-position{syntax:"<length-percentage>";inherits:false;initial-value:100%}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-drop-shadow-color{syntax:"*";inherits:false}@property --tw-drop-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:"*";inherits:false}@property --tw-backdrop-blur{syntax:"*";inherits:false}@property --tw-backdrop-brightness{syntax:"*";inherits:false}@property --tw-backdrop-contrast{syntax:"*";inherits:false}@property --tw-backdrop-grayscale{syntax:"*";inherits:false}@property --tw-backdrop-hue-rotate{syntax:"*";inherits:false}@property --tw-backdrop-invert{syntax:"*";inherits:false}@property --tw-backdrop-opacity{syntax:"*";inherits:false}@property --tw-backdrop-saturate{syntax:"*";inherits:false}@property --tw-backdrop-sepia{syntax:"*";inherits:false}@property --tw-duration{syntax:"*";inherits:false}@property --tw-ease{syntax:"*";inherits:false}@keyframes spin{to{transform:rotate(360deg)}}']})}),vm=Wt(null);function Em({children:e}){const t=Ar("voice"),{isDisconnected:n,addModeToggleEntry:i,setVolume:r}=lm();Ir(()=>{const e="text"===t.value;r(e?0:1)});const a=Pn(()=>({mode:cr(()=>t.value),setMode:e=>{t.value!==e&&(t.value=e,n.value||i(e))},isTextMode:cr(()=>"text"===t.value),isVoiceMode:cr(()=>"voice"===t.value)}),[n,i]);return dn(vm.Provider,{value:a,children:e})}function Cm(){return la(vm)}const bm=Wt(null);function km({children:e}){const t=hm(),{isTextMode:n}=Cm(),{setMicMuted:i,status:r}=lm(),a=Sr(()=>{var e;return null!==(e=t.value.mic_muting_enabled)&&void 0!==e&&e}),o=Ar(!1),s=wn(null);Ir(()=>{"disconnected"===r.value&&(o.value=!1)}),Ir(()=>{n.value?(null===s.current&&(s.current=o.peek()),i(!0)):(null!==s.current&&(o.value=s.current,s.current=null),i(!!a.value&&o.value))});const u=Pn(()=>({isMuted:cr(()=>!!n.value||!!a.value&&o.value),setIsMuted:e=>{o.value=e},isMutingEnabled:a}),[]);return dn(bm.Provider,{value:u,children:e})}function Tm(){return la(bm)}const ym=Wt(null);function Am({children:e}){const t=hm(),{language:n}=Ea(),i=ha("text-contents"),r=Sr(()=>{try{if(i.value){const e=JSON.parse(i.value);if("object"==typeof e)return e}}catch(e){console.error("[ConversationalAI] Cannot parse text-contents:",e)}return{}}),a=Pn(()=>Object.fromEntries(oa.map(e=>[e,cr(()=>{var i,a,o,s,u,l,c;return null!==(i=null!==(a=null!==(o=r.value[e])&&void 0!==o?o:null==(l=null==(u=null==(s=t.value.language_presets)?void 0:s[n.value.languageCode])?void 0:u.text_contents)?void 0:l[e])&&void 0!==a?a:null==(c=t.value.text_contents)?void 0:c[e])&&void 0!==i?i:aa[e]})])),[]);return dn(ym.Provider,{value:a,children:e})}function Sm(){return la(ym)}const _m=Wt(null);function Fm({children:e}){const t=hm(),n=ha("avatar-image-url"),i=ha("avatar-orb-color-1"),r=ha("avatar-orb-color-2"),a=Ar(""),o=Sr(()=>n.value?{type:"image",url:n.value}:i.value&&r.value?{type:"orb",color_1:i.value,color_2:r.value}:t.value.avatar),s=Sr(()=>{switch(o.value.type){case"url":return o.value.custom_url;case"orb":return a.value;case"image":return o.value.url}}),u=Pn(()=>({config:o,previewUrl:s,canvasUrl:a}),[]);return dn(_m.Provider,{value:u,children:e})}function wm(){return la(_m)}const xm=Wt(null);function Pm(e){let{children:t}=e,n=m(e,T);const[i,r]=An(null);return dn("div",p(p({ref:r},n),{},{children:i&&dn(xm.Provider,{value:i,children:t})}))}function Rm(){return la(xm)}function Im(e){return e&&"object"==typeof e&&"peek"in e}function Qm(e){return Im(e)?e.value:e}function Nm(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Bm(...e){return t=>{let n=!1;const i=e.map(e=>{const i=Nm(e,t);return!n&&"function"==typeof i&&(n=!0),i});if(n)return()=>{for(let t=0;t<i.length;t++){const n=i[t];"function"==typeof n?n():Nm(e[t],null)}}}}function Mm(...e){return Rn(Bm(...e),e)}var Lm=Symbol.for("react.lazy"),$m=Wi[" use ".trim().toString()];function Um(e){return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===Lm&&"_payload"in e&&function(e){return"object"==typeof e&&null!==e&&"then"in e}(e._payload)}function qm(e){const t=zm(e),n=ni((e,n)=>{let{children:i}=e,r=m(e,y);Um(i)&&"function"==typeof $m&&(i=$m(i._payload));const a=ri.toArray(i),o=a.find(jm);if(o){const e=o.props.children,i=a.map(t=>t===o?ri.count(e)>1?ri.only(null):Ni(e)?e.props.children:null:t);return dn(t,p(p({},r),{},{ref:n,children:Ni(e)?Li(e,void 0,i):null}))}return dn(t,p(p({},r),{},{ref:n,children:i}))});return n.displayName=`${e}.Slot`,n}var Xm=qm("Slot");function zm(e){const t=ni((e,t)=>{let{children:n}=e,i=m(e,A);if(Um(n)&&"function"==typeof $m&&(n=$m(n._payload)),Ni(n)){const e=function(e){var t,n;let i=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,r=i&&"isReactWarning"in i&&i.isReactWarning;return r?e.ref:(i=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,r=i&&"isReactWarning"in i&&i.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}(n),r=function(e,t){const n=p({},t);for(const i in t){const r=e[i],a=t[i];/^on[A-Z]/.test(i)?r&&a?n[i]=(...e)=>{const t=a(...e);return r(...e),t}:r&&(n[i]=r):"style"===i?n[i]=p(p({},r),a):"className"===i&&(n[i]=[r,a].filter(Boolean).join(" "))}return p(p({},e),n)}(i,n.props);return n.type!==Tt&&(r.ref=t?Bm(t,e):e),Li(n,r)}return ri.count(n)>1?ri.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Zm=Symbol("radix.slottable");function jm(e){return Ni(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Zm}const Wm=window.matchMedia("(prefers-reduced-motion: reduce)");function Gm(){const e=Ar(Wm.matches);return _n(()=>{const t=t=>{e.value=t.matches};return Wm.addEventListener("change",t),()=>Wm.removeEventListener("change",t)},[]),e}function Vm({onStart:e,onEnd:t}){var n;const i=wn();null!==(n=i.current)&&void 0!==n||(i.current=new Set);const r=wn(e);r.current=e;const a=wn(t);a.current=t;const o=Ar(!1),s=Rn(e=>{var t,n;e.target===e.currentTarget&&(null==(t=i.current)||t.add(e.propertyName),o.peek()||(o.value=!0,null==(n=r.current)||n.call(r)))},[]),u=Rn(e=>{var t,n,r;e.target===e.currentTarget&&(null==(t=i.current)||t.delete(e.propertyName),null!=(n=i.current)&&n.size||(o.value=!1,null==(r=a.current)||r.call(a)))},[]);return{transitioning:o,handlers:{onTransitionStart:s,onTransitionEnd:u}}}function Ym(e){return dn(Gm().value?Hm:Km,p({},e))}function Hm(e){let{active:t}=e,n=m(e,S);return Qm(t)?dn(Xm,p({"data-shown":!0},n)):null}function Km(e){let{active:t,initial:n=t}=e,i=m(e,_);const r=function(e){const t=Im(e),n=Ar(t?e.peek():e);return t?e:(n.value=e,n)}(t),a=Ar(function(e){return Im(e)?e.peek():e}(n));Ir(()=>{r.value&&(a.value=r.value)});const{handlers:o}=Vm({onEnd:()=>{a.value=r.value}});return r.value||a.value?dn(Xm,p(p({"data-shown":r.value&&a.value},o),i)):null}function Jm(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=Jm(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function eO(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=Jm(e))&&(i&&(i+=" "),i+=t);return i}const tO=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),nO="-",iO=[],rO=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const i=e[t],r=n.nextPart.get(i);if(r){const n=rO(e,t+1,r);if(n)return n}const a=n.validators;if(null===a)return;const o=0===t?e.join(nO):e.slice(t).join(nO),s=a.length;for(let e=0;e<s;e++){const t=a[e];if(t.validator(o))return t.classGroupId}},aO=e=>-1===e.slice(1,-1).indexOf(":")?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),i=t.slice(0,n);return i?"arbitrary.."+i:void 0})(),oO=e=>{const{theme:t,classGroups:n}=e;return sO(n,t)},sO=(e,t)=>{const n=tO();for(const i in e){const r=e[i];uO(r,n,i,t)}return n},uO=(e,t,n,i)=>{const r=e.length;for(let a=0;a<r;a++){const r=e[a];lO(r,t,n,i)}},lO=(e,t,n,i)=>{"string"!=typeof e?"function"!=typeof e?hO(e,t,n,i):dO(e,t,n,i):cO(e,t,n)},cO=(e,t,n)=>{(""===e?t:pO(t,e)).classGroupId=n},dO=(e,t,n,i)=>{fO(e)?uO(e(i),t,n,i):(null===t.validators&&(t.validators=[]),t.validators.push(((e,t)=>({classGroupId:e,validator:t}))(n,e)))},hO=(e,t,n,i)=>{const r=Object.entries(e),a=r.length;for(let e=0;e<a;e++){const[a,o]=r[e];uO(o,pO(t,a),n,i)}},pO=(e,t)=>{let n=e;const i=t.split(nO),r=i.length;for(let e=0;e<r;e++){const t=i[e];let r=n.nextPart.get(t);r||(r=tO(),n.nextPart.set(t,r)),n=r}return n},fO=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,mO=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),i=Object.create(null);const r=(r,a)=>{n[r]=a,t++,t>e&&(t=0,i=n,n=Object.create(null))};return{get(e){let t=n[e];return void 0!==t?t:void 0!==(t=i[e])?(r(e,t),t):void 0},set(e,t){e in n?n[e]=t:r(e,t)}}},OO=[],gO=(e,t,n,i,r)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:i,isExternal:r}),DO=e=>{const{prefix:t,experimentalParseClassName:n}=e;let i=e=>{const t=[];let n,i=0,r=0,a=0;const o=e.length;for(let s=0;s<o;s++){const o=e[s];if(0===i&&0===r){if(":"===o){t.push(e.slice(a,s)),a=s+1;continue}if("/"===o){n=s;continue}}"["===o?i++:"]"===o?i--:"("===o?r++:")"===o&&r--}const s=0===t.length?e:e.slice(a);let u=s,l=!1;return s.endsWith("!")?(u=s.slice(0,-1),l=!0):s.startsWith("!")&&(u=s.slice(1),l=!0),gO(t,l,u,n&&n>a?n-a:void 0)};if(t){const e=t+":",n=i;i=t=>t.startsWith(e)?n(t.slice(e.length)):gO(OO,!1,t,void 0,!0)}if(n){const e=i;i=t=>n({className:t,parseClassName:e})}return i},vO=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((e,n)=>{t.set(e,1e6+n)}),e=>{const n=[];let i=[];for(let r=0;r<e.length;r++){const a=e[r],o="["===a[0],s=t.has(a);o||s?(i.length>0&&(i.sort(),n.push(...i),i=[]),n.push(a)):i.push(a)}return i.length>0&&(i.sort(),n.push(...i)),n}},EO=/\s+/,CO=e=>{if("string"==typeof e)return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=CO(e[i]))&&(n&&(n+=" "),n+=t);return n},bO=(e,...t)=>{let n,i,r,a;const o=e=>{const t=i(e);if(t)return t;const a=((e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:r,sortModifiers:a}=t,o=[],s=e.trim().split(EO);let u="";for(let e=s.length-1;e>=0;e-=1){const t=s[e],{isExternal:l,modifiers:c,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=n(t);if(l){u=t+(u.length>0?" "+u:u);continue}let f=!!p,m=i(f?h.substring(0,p):h);if(!m){if(!f){u=t+(u.length>0?" "+u:u);continue}if(m=i(h),!m){u=t+(u.length>0?" "+u:u);continue}f=!1}const O=0===c.length?"":1===c.length?c[0]:a(c).join(":"),g=d?O+"!":O,D=g+m;if(o.indexOf(D)>-1)continue;o.push(D);const v=r(m,f);for(let e=0;e<v.length;++e){const t=v[e];o.push(g+t)}u=t+(u.length>0?" "+u:u)}return u})(e,n);return r(e,a),a};return a=s=>{const u=t.reduce((e,t)=>t(e),e());return n=(e=>p({cache:mO(e.cacheSize),parseClassName:DO(e),sortModifiers:vO(e)},(e=>{const t=oO(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]"))return aO(e);const n=e.split(nO),i=""===n[0]&&n.length>1?1:0;return rO(n,i,t)},getConflictingClassGroupIds:(e,t)=>{if(t){const t=i[e],r=n[e];return t?r?((e,t)=>{const n=new Array(e.length+t.length);for(let t=0;t<e.length;t++)n[t]=e[t];for(let i=0;i<t.length;i++)n[e.length+i]=t[i];return n})(r,t):t:r||iO}return n[e]||iO}}})(e)))(u),i=n.cache.get,r=n.cache.set,a=o,o(s)},(...e)=>a(((...e)=>{let t,n,i=0,r="";for(;i<e.length;)(t=e[i++])&&(n=CO(t))&&(r&&(r+=" "),r+=n);return r})(...e))},kO=[],TO=e=>{const t=t=>t[e]||kO;return t.isThemeGetter=!0,t},yO=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,AO=/^\((?:(\w[\w-]*):)?(.+)\)$/i,SO=/^\d+\/\d+$/,_O=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,FO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,xO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,PO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,RO=e=>SO.test(e),IO=e=>!!e&&!Number.isNaN(Number(e)),QO=e=>!!e&&Number.isInteger(Number(e)),NO=e=>e.endsWith("%")&&IO(e.slice(0,-1)),BO=e=>_O.test(e),MO=()=>!0,LO=e=>FO.test(e)&&!wO.test(e),$O=()=>!1,UO=e=>xO.test(e),qO=e=>PO.test(e),XO=e=>!ZO(e)&&!HO(e),zO=e=>rg(e,ug,$O),ZO=e=>yO.test(e),jO=e=>rg(e,lg,LO),WO=e=>rg(e,cg,IO),GO=e=>rg(e,og,$O),VO=e=>rg(e,sg,qO),YO=e=>rg(e,hg,UO),HO=e=>AO.test(e),KO=e=>ag(e,lg),JO=e=>ag(e,dg),eg=e=>ag(e,og),tg=e=>ag(e,ug),ng=e=>ag(e,sg),ig=e=>ag(e,hg,!0),rg=(e,t,n)=>{const i=yO.exec(e);return!!i&&(i[1]?t(i[1]):n(i[2]))},ag=(e,t,n=!1)=>{const i=AO.exec(e);return!!i&&(i[1]?t(i[1]):n)},og=e=>"position"===e||"percentage"===e,sg=e=>"image"===e||"url"===e,ug=e=>"length"===e||"size"===e||"bg-size"===e,lg=e=>"length"===e,cg=e=>"number"===e,dg=e=>"family-name"===e,hg=e=>"shadow"===e,pg=()=>{const e=TO("color"),t=TO("font"),n=TO("text"),i=TO("font-weight"),r=TO("tracking"),a=TO("leading"),o=TO("breakpoint"),s=TO("container"),u=TO("spacing"),l=TO("radius"),c=TO("shadow"),d=TO("inset-shadow"),h=TO("text-shadow"),p=TO("drop-shadow"),f=TO("blur"),m=TO("perspective"),O=TO("aspect"),g=TO("ease"),D=TO("animate"),v=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",HO,ZO],E=()=>[HO,ZO,u],C=()=>[RO,"full","auto",...E()],b=()=>[QO,"none","subgrid",HO,ZO],k=()=>["auto",{span:["full",QO,HO,ZO]},QO,HO,ZO],T=()=>[QO,"auto",HO,ZO],y=()=>["auto","min","max","fr",HO,ZO],A=()=>["auto",...E()],S=()=>[RO,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],_=()=>[e,HO,ZO],F=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",eg,GO,{position:[HO,ZO]}],w=()=>["auto","cover","contain",tg,zO,{size:[HO,ZO]}],x=()=>[NO,KO,jO],P=()=>["","none","full",l,HO,ZO],R=()=>["",IO,KO,jO],I=()=>[IO,NO,eg,GO],Q=()=>["","none",f,HO,ZO],N=()=>["none",IO,HO,ZO],B=()=>["none",IO,HO,ZO],M=()=>[IO,HO,ZO],L=()=>[RO,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[BO],breakpoint:[BO],color:[MO],container:[BO],"drop-shadow":[BO],ease:["in","out","in-out"],font:[XO],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[BO],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[BO],shadow:[BO],spacing:["px",IO],text:[BO],"text-shadow":[BO],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",RO,ZO,HO,O]}],container:["container"],columns:[{columns:[IO,ZO,HO,s]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:v()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[QO,"auto",HO,ZO]}],basis:[{basis:[RO,"full","auto",s,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[IO,RO,"auto","initial","none",ZO]}],grow:[{grow:["",IO,HO,ZO]}],shrink:[{shrink:["",IO,HO,ZO]}],order:[{order:[QO,"first","last","none",HO,ZO]}],"grid-cols":[{"grid-cols":b()}],"col-start-end":[{col:k()}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":b()}],"row-start-end":[{row:k()}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":y()}],"auto-rows":[{"auto-rows":y()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:A()}],mx:[{mx:A()}],my:[{my:A()}],ms:[{ms:A()}],me:[{me:A()}],mt:[{mt:A()}],mr:[{mr:A()}],mb:[{mb:A()}],ml:[{ml:A()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:S()}],w:[{w:[s,"screen",...S()]}],"min-w":[{"min-w":[s,"screen","none",...S()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[o]},...S()]}],h:[{h:["screen","lh",...S()]}],"min-h":[{"min-h":["screen","lh","none",...S()]}],"max-h":[{"max-h":["screen","lh",...S()]}],"font-size":[{text:["base",n,KO,jO]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,HO,WO]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",NO,ZO]}],"font-family":[{font:[JO,ZO,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,HO,ZO]}],"line-clamp":[{"line-clamp":[IO,"none",HO,WO]}],leading:[{leading:[a,...E()]}],"list-image":[{"list-image":["none",HO,ZO]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",HO,ZO]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:_()}],"text-color":[{text:_()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[IO,"from-font","auto",HO,jO]}],"text-decoration-color":[{decoration:_()}],"underline-offset":[{"underline-offset":[IO,"auto",HO,ZO]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",HO,ZO]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",HO,ZO]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:F()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:w()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},QO,HO,ZO],radial:["",HO,ZO],conic:[QO,HO,ZO]},ng,VO]}],"bg-color":[{bg:_()}],"gradient-from-pos":[{from:x()}],"gradient-via-pos":[{via:x()}],"gradient-to-pos":[{to:x()}],"gradient-from":[{from:_()}],"gradient-via":[{via:_()}],"gradient-to":[{to:_()}],rounded:[{rounded:P()}],"rounded-s":[{"rounded-s":P()}],"rounded-e":[{"rounded-e":P()}],"rounded-t":[{"rounded-t":P()}],"rounded-r":[{"rounded-r":P()}],"rounded-b":[{"rounded-b":P()}],"rounded-l":[{"rounded-l":P()}],"rounded-ss":[{"rounded-ss":P()}],"rounded-se":[{"rounded-se":P()}],"rounded-ee":[{"rounded-ee":P()}],"rounded-es":[{"rounded-es":P()}],"rounded-tl":[{"rounded-tl":P()}],"rounded-tr":[{"rounded-tr":P()}],"rounded-br":[{"rounded-br":P()}],"rounded-bl":[{"rounded-bl":P()}],"border-w":[{border:R()}],"border-w-x":[{"border-x":R()}],"border-w-y":[{"border-y":R()}],"border-w-s":[{"border-s":R()}],"border-w-e":[{"border-e":R()}],"border-w-t":[{"border-t":R()}],"border-w-r":[{"border-r":R()}],"border-w-b":[{"border-b":R()}],"border-w-l":[{"border-l":R()}],"divide-x":[{"divide-x":R()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":R()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:_()}],"border-color-x":[{"border-x":_()}],"border-color-y":[{"border-y":_()}],"border-color-s":[{"border-s":_()}],"border-color-e":[{"border-e":_()}],"border-color-t":[{"border-t":_()}],"border-color-r":[{"border-r":_()}],"border-color-b":[{"border-b":_()}],"border-color-l":[{"border-l":_()}],"divide-color":[{divide:_()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[IO,HO,ZO]}],"outline-w":[{outline:["",IO,KO,jO]}],"outline-color":[{outline:_()}],shadow:[{shadow:["","none",c,ig,YO]}],"shadow-color":[{shadow:_()}],"inset-shadow":[{"inset-shadow":["none",d,ig,YO]}],"inset-shadow-color":[{"inset-shadow":_()}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:_()}],"ring-offset-w":[{"ring-offset":[IO,jO]}],"ring-offset-color":[{"ring-offset":_()}],"inset-ring-w":[{"inset-ring":R()}],"inset-ring-color":[{"inset-ring":_()}],"text-shadow":[{"text-shadow":["none",h,ig,YO]}],"text-shadow-color":[{"text-shadow":_()}],opacity:[{opacity:[IO,HO,ZO]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[IO]}],"mask-image-linear-from-pos":[{"mask-linear-from":I()}],"mask-image-linear-to-pos":[{"mask-linear-to":I()}],"mask-image-linear-from-color":[{"mask-linear-from":_()}],"mask-image-linear-to-color":[{"mask-linear-to":_()}],"mask-image-t-from-pos":[{"mask-t-from":I()}],"mask-image-t-to-pos":[{"mask-t-to":I()}],"mask-image-t-from-color":[{"mask-t-from":_()}],"mask-image-t-to-color":[{"mask-t-to":_()}],"mask-image-r-from-pos":[{"mask-r-from":I()}],"mask-image-r-to-pos":[{"mask-r-to":I()}],"mask-image-r-from-color":[{"mask-r-from":_()}],"mask-image-r-to-color":[{"mask-r-to":_()}],"mask-image-b-from-pos":[{"mask-b-from":I()}],"mask-image-b-to-pos":[{"mask-b-to":I()}],"mask-image-b-from-color":[{"mask-b-from":_()}],"mask-image-b-to-color":[{"mask-b-to":_()}],"mask-image-l-from-pos":[{"mask-l-from":I()}],"mask-image-l-to-pos":[{"mask-l-to":I()}],"mask-image-l-from-color":[{"mask-l-from":_()}],"mask-image-l-to-color":[{"mask-l-to":_()}],"mask-image-x-from-pos":[{"mask-x-from":I()}],"mask-image-x-to-pos":[{"mask-x-to":I()}],"mask-image-x-from-color":[{"mask-x-from":_()}],"mask-image-x-to-color":[{"mask-x-to":_()}],"mask-image-y-from-pos":[{"mask-y-from":I()}],"mask-image-y-to-pos":[{"mask-y-to":I()}],"mask-image-y-from-color":[{"mask-y-from":_()}],"mask-image-y-to-color":[{"mask-y-to":_()}],"mask-image-radial":[{"mask-radial":[HO,ZO]}],"mask-image-radial-from-pos":[{"mask-radial-from":I()}],"mask-image-radial-to-pos":[{"mask-radial-to":I()}],"mask-image-radial-from-color":[{"mask-radial-from":_()}],"mask-image-radial-to-color":[{"mask-radial-to":_()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[IO]}],"mask-image-conic-from-pos":[{"mask-conic-from":I()}],"mask-image-conic-to-pos":[{"mask-conic-to":I()}],"mask-image-conic-from-color":[{"mask-conic-from":_()}],"mask-image-conic-to-color":[{"mask-conic-to":_()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:F()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:w()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",HO,ZO]}],filter:[{filter:["","none",HO,ZO]}],blur:[{blur:Q()}],brightness:[{brightness:[IO,HO,ZO]}],contrast:[{contrast:[IO,HO,ZO]}],"drop-shadow":[{"drop-shadow":["","none",p,ig,YO]}],"drop-shadow-color":[{"drop-shadow":_()}],grayscale:[{grayscale:["",IO,HO,ZO]}],"hue-rotate":[{"hue-rotate":[IO,HO,ZO]}],invert:[{invert:["",IO,HO,ZO]}],saturate:[{saturate:[IO,HO,ZO]}],sepia:[{sepia:["",IO,HO,ZO]}],"backdrop-filter":[{"backdrop-filter":["","none",HO,ZO]}],"backdrop-blur":[{"backdrop-blur":Q()}],"backdrop-brightness":[{"backdrop-brightness":[IO,HO,ZO]}],"backdrop-contrast":[{"backdrop-contrast":[IO,HO,ZO]}],"backdrop-grayscale":[{"backdrop-grayscale":["",IO,HO,ZO]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[IO,HO,ZO]}],"backdrop-invert":[{"backdrop-invert":["",IO,HO,ZO]}],"backdrop-opacity":[{"backdrop-opacity":[IO,HO,ZO]}],"backdrop-saturate":[{"backdrop-saturate":[IO,HO,ZO]}],"backdrop-sepia":[{"backdrop-sepia":["",IO,HO,ZO]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",HO,ZO]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[IO,"initial",HO,ZO]}],ease:[{ease:["linear","initial",g,HO,ZO]}],delay:[{delay:[IO,HO,ZO]}],animate:[{animate:["none",D,HO,ZO]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,HO,ZO]}],"perspective-origin":[{"perspective-origin":v()}],rotate:[{rotate:N()}],"rotate-x":[{"rotate-x":N()}],"rotate-y":[{"rotate-y":N()}],"rotate-z":[{"rotate-z":N()}],scale:[{scale:B()}],"scale-x":[{"scale-x":B()}],"scale-y":[{"scale-y":B()}],"scale-z":[{"scale-z":B()}],"scale-3d":["scale-3d"],skew:[{skew:M()}],"skew-x":[{"skew-x":M()}],"skew-y":[{"skew-y":M()}],transform:[{transform:[HO,ZO,"","none","gpu","cpu"]}],"transform-origin":[{origin:v()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:L()}],"translate-x":[{"translate-x":L()}],"translate-y":[{"translate-y":L()}],"translate-z":[{"translate-z":L()}],"translate-none":["translate-none"],accent:[{accent:_()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:_()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",HO,ZO]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",HO,ZO]}],fill:[{fill:["none",..._()]}],"stroke-w":[{stroke:[IO,KO,jO,WO]}],stroke:[{stroke:["none",..._()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},fg=bO(pg),mg=(...e)=>fg(eO(e)),Og=Wt(null);function gg({children:e}){const t=Ar(null),n=Ar(""),i=Ar("initial"),{lastId:r}=lm();ha("agent-id");const{serverUrl:a}=ma(),o=Rn(async e=>{const n=r.value;if(n)try{t.value=e,i.value="submitted-rating",await zf(n,{rating:e},a.value)}catch(e){console.error("[ConversationalAI] Failed to submit rating:",e)}else console.warn("[ConversationalAI] Cannot submit rating: missing conversation_id")},[]),s=Rn(async()=>{const e=r.value;if(e)if(null!==t.value){if(n.value)try{i.value="submitted-follow-up",await zf(e,{rating:t.value,comment:n.value||void 0},a.value)}catch(e){console.error("[ConversationalAI] Failed to submit feedback:",e)}}else console.warn("[ConversationalAI] Cannot submit feedback: rating not set");else console.warn("[ConversationalAI] Cannot submit feedback: missing conversation_id")},[]),u=Rn(()=>{t.value=null,n.value="",i.value="initial"},[]);Ir(()=>{null!==r.value&&u()});const l=Pn(()=>({rating:t,feedbackText:n,feedbackProgress:i,submitRating:o,submitFeedback:s,reset:u}),[o,s,u]);return dn(Og.Provider,{value:l,children:e})}function Dg(){return la(Og)}const vg=Wt(null);function Eg({defaultContent:e="transcript",children:t}){const n=Ar(e),i=Pn(()=>{const e="feedback"===n.value?{showHeaderBack:!0,onHeaderBack:()=>{n.value="transcript"}}:{showHeaderBack:!1};return{currentContent:n,currentConfig:e}},[n.value]);return dn(vg.Provider,{value:i,children:t})}function Cg(){return la(vg)}const bg={phone:function(e){return dn("svg",p(p({height:"1em",width:"1em",viewBox:"0 0 18 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:dn("path",{d:"M3.7489 2.25C2.93286 2.25 2.21942 2.92142 2.27338 3.7963C2.6686 10.2041 7.79483 15.3303 14.2026 15.7255C15.0775 15.7795 15.7489 15.066 15.7489 14.25V11.958C15.7489 11.2956 15.3144 10.7116 14.6799 10.5213L12.6435 9.91035C12.1149 9.75179 11.542 9.89623 11.1518 10.2864L10.5901 10.8482C9.15291 10.0389 7.95998 8.84599 7.15074 7.40881L7.71246 6.84709C8.10266 6.45689 8.24711 5.88396 8.08854 5.35541L7.47761 3.31898C7.28727 2.6845 6.70329 2.25 6.04087 2.25H3.7489Z"})}))},"phone-off":function(e){return dn("svg",p(p({height:"1em",width:"1em",viewBox:"0 0 19 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[dn("path",{d:"M16.0303 3.53033C16.3232 3.23744 16.3232 2.76256 16.0303 2.46967C15.7374 2.17678 15.2626 2.17678 14.9697 2.46967L8.6271 8.81224C8.25925 8.3778 7.93185 7.90804 7.65074 7.40881L8.21246 6.84709C8.60266 6.45689 8.74711 5.88396 8.58854 5.35541L7.97761 3.31898C7.78727 2.6845 7.20329 2.25 6.54087 2.25H4.2489C3.43286 2.25 2.71942 2.92142 2.77338 3.7963C2.95462 6.73468 4.13069 9.40357 5.96899 11.4703L2.96967 14.4697C2.67678 14.7626 2.67678 15.2374 2.96967 15.5303C3.26256 15.8232 3.73744 15.8232 4.03033 15.5303L16.0303 3.53033Z"}),dn("path",{d:"M14.7026 15.7255C12.2994 15.5773 10.0765 14.7636 8.21584 13.4665L10.9278 10.7545C10.9815 10.7863 11.0356 10.8175 11.0901 10.8482L11.6518 10.2864C12.042 9.89623 12.6149 9.75179 13.1435 9.91035L15.1799 10.5213C15.8144 10.7116 16.2489 11.2956 16.2489 11.958V14.25C16.2489 15.066 15.5775 15.7795 14.7026 15.7255Z"})]}))},chat:function(e){return dn("svg",p(p({height:"1em",width:"1em",viewBox:"0 0 19 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:dn("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1.5 6.75C1.5 4.26472 3.51472 2.25 6 2.25H12C14.4853 2.25 16.5 4.26472 16.5 6.75V11.25C16.5 13.7353 14.4853 15.75 12 15.75H2.25C1.83579 15.75 1.5 15.4142 1.5 15V6.75ZM6 9.9375C5.48223 9.9375 5.0625 9.51777 5.0625 9C5.0625 8.48223 5.48223 8.0625 6 8.0625C6.51777 8.0625 6.9375 8.48223 6.9375 9C6.9375 9.51777 6.51777 9.9375 6 9.9375ZM9 9.9375C8.48223 9.9375 8.0625 9.51777 8.0625 9C8.0625 8.48223 8.48223 8.0625 9 8.0625C9.51777 8.0625 9.9375 8.48223 9.9375 9C9.9375 9.51777 9.51777 9.9375 9 9.9375ZM11.0625 9C11.0625 9.51777 11.4822 9.9375 12 9.9375C12.5178 9.9375 12.9375 9.51777 12.9375 9C12.9375 8.48223 12.5178 8.0625 12 8.0625C11.4822 8.0625 11.0625 8.48223 11.0625 9Z"})}))},mic:function(e){return dn("svg",p(p({height:"1em",width:"1em",viewBox:"0 0 19 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[dn("path",{d:"M9.50008 1.5C7.42901 1.5 5.75008 3.17893 5.75008 5.25V8.25C5.75008 10.3211 7.42901 12 9.50008 12C11.5712 12 13.2501 10.3211 13.2501 8.25V5.25C13.2501 3.17893 11.5712 1.5 9.50008 1.5Z"}),dn("path",{d:"M4.88997 10.8417C4.66448 10.4943 4.20002 10.3954 3.85256 10.6209C3.50509 10.8463 3.40621 11.3108 3.63169 11.6583C4.47442 12.9569 6.08493 14.6838 8.75008 14.9616V15.75C8.75008 16.1642 9.08587 16.5 9.50008 16.5C9.9143 16.5 10.2501 16.1642 10.2501 15.75V14.9616C12.9152 14.6838 14.5257 12.9569 15.3685 11.6583C15.594 11.3108 15.4951 10.8463 15.1476 10.6209C14.8001 10.3954 14.3357 10.4943 14.1102 10.8417C13.3305 12.0432 11.9002 13.5 9.50008 13.5C7.1 13.5 5.66968 12.0432 4.88997 10.8417Z"})]}))},"mic-off":function(e){return dn("svg",p(p({height:"1em",width:"1em",viewBox:"0 0 19 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[dn("path",{d:"M13.25 8.25C13.25 8.64791 13.188 9.03135 13.0732 9.39119L6.57947 2.8975C7.26687 2.04521 8.31974 1.5 9.49995 1.5C11.571 1.5 13.25 3.17893 13.25 5.25V8.25Z"}),dn("path",{d:"M2.21967 1.71967C2.51256 1.42678 2.98744 1.42678 3.28033 1.71967L16.7803 15.2197C17.0732 15.5126 17.0732 15.9874 16.7803 16.2803C16.4874 16.5732 16.0126 16.5732 15.7197 16.2803L13.2828 13.8435C12.4719 14.4022 11.4678 14.8338 10.25 14.9614V15.75C10.25 16.1642 9.91422 16.5 9.50001 16.5C9.08579 16.5 8.75001 16.1642 8.75001 15.75V14.9616C6.08485 14.6838 4.47434 12.9569 3.63162 11.6583C3.40614 11.3108 3.50502 10.8463 3.85248 10.6209C4.19995 10.3954 4.66441 10.4943 4.88989 10.8417C5.6696 12.0432 7.09993 13.5 9.50001 13.5C10.5978 13.5 11.4845 13.1981 12.1992 12.7598L11.0875 11.6482C10.605 11.8739 10.0667 12 9.50001 12C7.42894 12 5.75001 10.3211 5.75001 8.25V6.31067L2.21967 2.78033C1.92678 2.48744 1.92678 2.01256 2.21967 1.71967Z"})]}))},soundwave:function(e){return dn("svg",p(p({height:"1em",width:"1em",viewBox:"0 0 18 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[dn("rect",{x:"1.5",y:"6.75",width:"2",height:"4.5",rx:"1"}),dn("rect",{x:"5",y:"4.5",width:"2",height:"9",rx:"1"}),dn("rect",{x:"8.5",y:"2.25",width:"2",height:"13.5",rx:"1"}),dn("rect",{x:"12",y:"4.5",width:"2",height:"9",rx:"1"}),dn("rect",{x:"15.5",y:"6.75",width:"2",height:"4.5",rx:"1"})]}))},check:function(e){return dn("svg",p(p({xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},e),{},{children:dn("path",{d:"M20 6 9 17l-5-5"})}))},"chevron-down":function(e){return dn("svg",p(p({xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},e),{},{children:dn("path",{d:"m6 9 6 6 6-6"})}))},"chevron-up":function(e){return dn("svg",p(p({xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},e),{},{children:dn("path",{d:"m18 15-6-6-6 6"})}))},send:function(e){return dn("svg",p(p({xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 20 20",fill:"currentColor"},e),{},{children:dn("path",{d:"M4.64337 17.6645C3.243 18.1313 1.97185 16.6817 2.6176 15.3543L8.50148 3.25965C9.10962 2.00957 10.8908 2.00958 11.4989 3.25965L17.3828 15.3543C18.0286 16.6817 16.7574 18.1313 15.357 17.6645L10.8334 16.1567L10.8334 12.5005C10.8334 12.0403 10.4603 11.6672 10 11.6672C9.5398 11.6672 9.16671 12.0403 9.16671 12.5005L9.16671 16.1568L4.64337 17.6645Z"})}))},star:function(e){return dn("svg",p(p({height:"1em",width:"1em",viewBox:"0 0 21 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:dn("path",{d:"M11.8621 0.854898C11.3145 -0.284967 9.68804 -0.284965 9.1404 0.854899L6.77181 5.78487C6.77181 5.78487 6.76902 5.78867 6.7646 5.78925L1.31499 6.50272C0.0591912 6.66713 -0.452868 8.21568 0.474832 9.09033L4.45896 12.8466C4.46075 12.8483 4.46059 12.8502 4.46059 12.8502L3.46003 18.2169C3.22657 19.4691 4.55184 20.4152 5.66108 19.8172L10.4957 17.2111C10.4991 17.2093 10.5035 17.2093 10.5068 17.2111L15.3415 19.8172C16.4507 20.4152 17.776 19.4691 17.5425 18.2169L16.542 12.8502C16.542 12.8502 16.5418 12.8483 16.5436 12.8466L20.5277 9.09033C21.4554 8.21568 20.9434 6.66713 19.6876 6.50272L14.2379 5.78925C14.2335 5.78867 14.2307 5.78487 14.2307 5.78487L11.8621 0.854898Z"})}))},copy:function(e){return dn("svg",p(p({xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},e),{},{children:[dn("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),dn("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]}))},download:function(e){return dn("svg",p(p({xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},e),{},{children:[dn("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),dn("polyline",{points:"7 10 12 15 17 10"}),dn("line",{x1:"12",x2:"12",y1:"15",y2:"3"})]}))},wrap:function(e){return dn("svg",p(p({xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},e),{},{children:[dn("line",{x1:"3",x2:"21",y1:"6",y2:"6"}),dn("path",{d:"M3 12h15a3 3 0 1 1 0 6h-4"}),dn("polyline",{points:"16 16 14 18 16 20"}),dn("line",{x1:"3",x2:"10",y1:"18",y2:"18"})]}))},maximize:function(e){return dn("svg",p(p({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},e),{},{children:[dn("path",{d:"M15 3h6v6"}),dn("path",{d:"m21 3-7 7"}),dn("path",{d:"m3 21 7-7"}),dn("path",{d:"M9 21H3v-6"})]}))},minimize:function(e){return dn("svg",p(p({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},e),{},{children:[dn("path",{d:"m14 10 7-7"}),dn("path",{d:"M20 10h-6V4"}),dn("path",{d:"m3 21 7-7"}),dn("path",{d:"M4 14h6v6"})]}))},loader:function(e){return dn("svg",p(p({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},e),{},{children:dn("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}))},x:function(e){return dn("svg",p(p({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},e),{},{children:[dn("path",{d:"M18 6 6 18"}),dn("path",{d:"m6 6 12 12"})]}))}},kg={xs:"text-xs",sm:"text-sm",md:"text-lg",lg:"text-xl"};function Tg({name:e,size:t="md",className:n}){const i=bg[e];return dn("slot",{name:`icon-${e}`,className:eO("flex",kg[t],n),"aria-hidden":!0,children:dn(i,{})})}function yg({orbColor:e,circleBackgroundColor:t,starColor:n,className:i}){return dn("slot",{name:"icon-feedback",className:eO("flex",i),"aria-hidden":!0,children:dn("svg",{width:"100%",height:"100%",viewBox:"0 0 82 88",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[dn("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9 42C9 59.6731 23.3269 74 41 74C58.6731 74 73 59.6731 73 42C73 24.3269 58.6731 10 41 10C23.3269 10 9 24.3269 9 42ZM29.4529 18.5973C31.1347 18.0574 32.8641 17.5023 34.9844 16.6005C42.2533 13.5091 48.3526 11.9217 51.7782 14.094C53.5063 15.1899 54.4051 16.7749 55.6117 18.9024C56.7969 20.9922 58.279 23.6057 61.1358 26.7937C62.2737 28.0636 63.3886 29.2195 64.4371 30.3064C68.7007 34.7263 71.8645 38.0061 70.9949 43.1697C70.2965 47.316 67.9794 49.4559 65.6038 51.65C63.4317 53.656 61.2107 55.7073 60.1332 59.3786C57.8774 67.0653 53.5327 71.9113 48.3526 72.7468C43.1725 73.5823 36.6555 75.1698 29.8043 70.1567C26.1949 67.5157 25.229 64.3182 24.1947 60.894C23.2657 57.8184 22.2814 54.56 19.2768 51.3577C14.1619 45.9062 10.2533 29.6345 19.2768 23.0339C23.736 20.4327 26.5223 19.5382 29.4529 18.5973Z",fill:e,"fill-opacity":"0.15",stroke:e,"stroke-opacity":"0.35"}),dn("path",{d:"M43.5 73.4212C40.4387 73.4212 35.0039 71.1025 37.556 56.4696C40.143 41.6365 42.6582 40.577 44.6991 25.744C46.3318 13.8775 41.1635 8.87964 33 10.9988",stroke:e,"stroke-opacity":"0.35"}),dn("path",{d:"M43.5 73.4212C40.4387 73.4212 35.0039 71.1025 37.556 56.4696C40.143 41.6365 42.6582 40.577 44.6991 25.744C46.3318 13.8775 41.1635 8.87964 33 10.9988",stroke:e,"stroke-opacity":"0.35"}),dn("path",{d:"M21.9366 68.1987C21.3549 66.5119 21.0386 60.9231 28.1376 53.3448C37.0114 43.8719 40.5 43.9579 51.4911 31.7482C59.5691 22.7747 59.1723 17.0524 58.0993 15.4626",stroke:e,"stroke-opacity":"0.35"}),dn("path",{d:"M9.26819 42.161C10.4003 43.5337 15.6951 46.3853 25.7661 44.3926C38.3548 41.9018 52.434 40.307 57.694 41.0287C70.352 42.7655 71.4138 51.3035 71.4138 51.3035",stroke:e,"stroke-opacity":"0.35"}),dn("path",{d:"M22 16.4916C18.815 21.85 19.6451 26.0591 27.9943 32.0828C38.4307 39.6124 50.2985 48.8304 53.5024 53.1027C58.6684 59.9914 59.5 67.928 59.5 67.928",stroke:e,"stroke-opacity":"0.35"}),dn("rect",{x:"9.26099",y:"10",width:"63.7129",height:"63.7129",rx:"31.8565",stroke:e,"stroke-opacity":"0.43","stroke-width":"1.5"}),dn("g",{"clip-path":"url(#clip0_7006_42127)",children:[dn("circle",{cx:"62.4996",cy:"18.2032",r:"15.0195",transform:"rotate(6.27205 62.4996 18.2032)",fill:t}),dn("path",{d:"M60.7142 12.1753C62.057 10.0714 65.2294 10.4202 66.0833 12.7654L66.6158 14.2308L68.1251 14.6217C70.5415 15.2484 71.1908 18.3742 69.2237 19.911L67.9944 20.8704L68.0896 22.4262C68.2403 24.9178 65.4681 26.5011 63.3987 25.1056L62.1065 24.2326L60.6555 24.8041C58.3322 25.7172 55.9702 23.5694 56.6585 21.1698L57.0884 19.6717L56.0977 18.4684C54.5112 16.541 55.8231 13.6307 58.318 13.5438L59.8751 13.4899L60.7142 12.1753Z",fill:n,stroke:t,"stroke-width":"3.27381"}),dn("path",{d:"M63.925 5.23719C71.0867 6.02431 76.2545 12.4676 75.4676 19.6293C74.6805 26.7911 68.2364 31.959 61.0746 31.1718C53.9129 30.3845 48.7459 23.9406 49.533 16.7789C50.3203 9.61739 56.7634 4.45029 63.925 5.23719ZM63.6957 7.32326C57.6866 6.66302 52.2797 10.9991 51.6191 17.0082C50.9586 23.0174 55.2946 28.4251 61.3038 29.0858C67.3132 29.7462 72.7211 25.4094 73.3816 19.4C74.0418 13.3908 69.705 7.98372 63.6957 7.32326Z",fill:n,stroke:t,"stroke-width":"0.3","stroke-linecap":"round","stroke-linejoin":"round"})]}),dn("ellipse",{cx:"41",cy:"85",rx:"15",ry:"3",fill:e,"fill-opacity":"0.35"}),dn("defs",{children:dn("clipPath",{id:"clip0_7006_42127",children:dn("rect",{width:"33",height:"33",fill:"white",transform:"translate(47.9012) rotate(6.27205)"})})})]})})}function Ag(e){return dn(Gm().value?Sg:_g,p({},e))}function Sg(e){let{visible:t,className:n,grow:i,dep:r}=e,a=m(e,F);return t?dn("div",p({className:eO(i&&"grow",n)},a)):null}function _g(e){let{visible:t,children:n,className:i,grow:r,dep:a}=e,o=m(e,w);const[s,u]=An(t),[l,c]=An(null),[d,h]=An(null),f=wn(n);t&&(f.current=n);const O=Rn(e=>{c(e),e&&!t&&(e.style.width="0px",e.style.height="0px")},[]);_n(()=>{d&&(d.style.transition="none",d.style.opacity="0",d.offsetWidth,d.style.transition="",d.style.opacity="")},[a]),Pn(()=>{l&&(l.style.width=`${l.offsetWidth}px`,l.style.height=`${l.offsetHeight}px`)},[l,t,a]),_n(()=>{if(!l||!d)return;t&&u(!0);const e=t?d.offsetWidth:0,n=t?d.offsetHeight:0;l.style.width=t&&l.offsetWidth===e?"":`${e}px`,l.style.height=t&&l.offsetHeight===n?"":`${n}px`},[l,d,t,a]);const{transitioning:g,handlers:D}=Vm({onEnd:()=>{t?(l.style.width="",l.style.height=""):u(!1)}});return dn("div",p(p({ref:O,className:eO("relative inline-flex shrink-0 justify-center items-center transition-[opacity,width,height,transform,flex-grow] duration-200 min-w-0",!t&&"opacity-0 scale-75",t&&r&&"grow",t&&s&&!g.value&&"z-1")},D),{},{children:dn("div",p(p({ref:h,className:eO("shrink-0 min-h-min min-w-min transition-opacity duration-200",r&&"grow",i)},o),{},{children:(t||s)&&f.current}))}))}const Fg={primary:"text-accent-primary border border-accent bg-accent hover:border-accent-hover hover:bg-accent-hover active:border-accent-active active:bg-accent-active",secondary:"text-base-primary border border-base-border bg-base hover:bg-base-hover active:bg-base-active",ghost:"text-base-primary border border-base bg-base hover:bg-base-hover hover:border-base-hover active:bg-base-active active:border-base-active","md-button":"text-base-primary border border-base-border bg-base hover:bg-base-hover active:bg-base-active text-sm h-6"},wg=ni(function(e,t){let{variant:n="secondary",children:i,icon:r,className:a,iconClassName:o,truncate:s=!0}=e,u=m(e,x);const l=!!r&&!i;return dn("button",p(p({ref:t,className:mg("h-9 flex px-2.5 text-sm items-center transition-[colors,opacity] justify-center rounded-button duration-200 focus-ring overflow-hidden select-none","disabled:opacity-50 disabled:pointer-events-none",Fg[n],l&&"min-w-9",a),type:"button"},u),{},{children:[r&&dn(Tg,{className:mg("transition-[margin] duration-200",l&&"-mx-0.5","md-button"===n&&"text-sm",o),name:r}),dn(Ag,{visible:!!i,dep:i,children:dn("span",{className:mg("block whitespace-nowrap max-w-64 truncate","md-button"===n?"pl-1.5":"px-1.5"),children:i})})]}))}),xg=(e,t)=>Array.from({length:t-e+1},(t,n)=>n+e),Pg=({isFilled:e,iconName:t})=>dn("span",{className:eO("w-8 h-8 grid place-content-center",e?"text-base-primary":"text-base-border"),children:dn(Tg,{name:t,size:"lg"})}),Rg=({value:e,rating:t,hoverRating:n,onClick:i,onHover:r,onKeyDown:a,iconName:o})=>{const s=null!==t.value&&e<=t.value,u=null!==n.value&&e<=n.value,l=Rn(t=>{t.stopPropagation(),i(e)},[i,e]),c=Rn(t=>{a(t,e)},[a,e]);return dn("button",{type:"button",role:"radio","aria-checked":s,"aria-label":e.toString(),onMouseEnter:()=>r(e),onClick:l,onKeyDown:c,className:eO("w-8 h-8 grid place-content-center rounded-full focus-ring transition-colors cursor-pointer",s||u?"text-base-primary":"text-base-border"),children:dn(Tg,{name:o,size:"lg"})})},Ig=({onRate:e,min:t=1,max:n=5,ariaLabel:i,icon:r="star"})=>{const a=Ar(null),o=Ar(null),s=xg(t,n),u=Rn(e=>{o.value=e},[o]),l=Rn(()=>{o.value=null},[o]),c=Rn(t=>{a.value=t,e(t)},[a,e]),d=Rn((i,r)=>{if("Enter"===i.key||" "===i.key)i.preventDefault(),a.value=r,e(r);else if("ArrowLeft"===i.key||"ArrowDown"===i.key){if(i.preventDefault(),r-1>=t){const e=i.currentTarget,t=null==e?void 0:e.previousElementSibling;null==t||t.focus()}}else if(("ArrowRight"===i.key||"ArrowUp"===i.key)&&(i.preventDefault(),r+1<=n)){const e=i.currentTarget,t=null==e?void 0:e.nextElementSibling;null==t||t.focus()}},[a,e,t,n]);return dn("div",{role:"radiogroup","aria-label":i,className:"flex no-wrap cursor-pointer",onMouseLeave:l,children:s.map(e=>dn(Rg,{value:e,rating:a,hoverRating:o,onClick:c,onHover:u,onKeyDown:d,iconName:r},e))})};function Qg({rating:e,min:t=1,max:n=5,icon:i="star"}){const r=xg(t,n);return dn("div",{className:"flex no-wrap",role:"img","aria-label":`Rating: ${e} out of ${n}`,children:r.map(t=>dn(Pg,{isFilled:e>=t,iconName:i},t))})}function Ng({icon:e,onRate:t}){const n=Sm();return dn("div",{className:"flex flex-col items-center",children:[dn("div",{className:"text-sm text-base-primary font-medium",children:n.initiate_feedback}),dn("div",{className:"py-4",children:dn(Ig,{onRate:t,ariaLabel:n.initiate_feedback,icon:e})})]})}function Bg({icon:e,rating:t,showFollowUpButton:n,onFollowUpClick:i}){const r=Sm();return dn("div",{className:"flex flex-col items-center gap-3 mb-4",children:[dn("div",{className:"text-sm text-base-primary font-medium",children:r.thanks_for_feedback}),dn(Qg,{rating:t,min:1,max:5,icon:e}),n&&dn(wg,{variant:"secondary",onClick:i,children:r.request_follow_up_feedback})]})}function Mg({icon:e="star"}){var t;const{currentContent:n}=Cg(),{rating:i,feedbackProgress:r,submitRating:a}=Dg(),o="initial"!==r.value&&null!==i.value,s=Rn(e=>{a(e),n.value="feedback"},[a]),u=Rn(()=>{n.value="feedback"},[]);return o?dn(Bg,{icon:e,rating:null!==(t=i.value)&&void 0!==t?t:0,showFollowUpButton:"submitted-follow-up"!==r.value,onFollowUpClick:u}):dn(Ng,{icon:e,onRate:s})}const Lg=/\[[\w\s]+\](?!\()\s*/g,$g="object"==typeof self?self:globalThis,Ug=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),i=r=>{if(e.has(r))return e.get(r);const[a,o]=t[r];switch(a){case 0:case-1:return n(o,r);case 1:{const e=n([],r);for(const t of o)e.push(i(t));return e}case 2:{const e=n({},r);for(const[t,n]of o)e[i(t)]=i(n);return e}case 3:return n(new Date(o),r);case 4:{const{source:e,flags:t}=o;return n(new RegExp(e,t),r)}case 5:{const e=n(new Map,r);for(const[t,n]of o)e.set(i(t),i(n));return e}case 6:{const e=n(new Set,r);for(const t of o)e.add(i(t));return e}case 7:{const{name:e,message:t}=o;return n(new $g[e](t),r)}case 8:return n(BigInt(o),r);case"BigInt":return n(Object(BigInt(o)),r);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:e}=new Uint8Array(o);return n(new DataView(e),o)}}return n(new $g[a](o),r)};return i})(new Map,e)(0),qg="",{toString:Xg}={},{keys:zg}=Object,Zg=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=Xg.call(e).slice(8,-1);switch(n){case"Array":return[1,qg];case"Object":return[2,qg];case"Date":return[3,qg];case"RegExp":return[4,qg];case"Map":return[5,qg];case"Set":return[6,qg];case"DataView":return[1,n]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},jg=([e,t])=>0===e&&("function"===t||"symbol"===t),Wg=(e,{json:t,lossy:n}={})=>{const i=[];return((e,t,n,i)=>{const r=(e,t)=>{const r=i.push(e)-1;return n.set(t,r),r},a=i=>{if(n.has(i))return n.get(i);let[o,s]=Zg(i);switch(o){case 0:{let t=i;switch(s){case"bigint":o=8,t=i.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+s);t=null;break;case"undefined":return r([-1],i)}return r([o,t],i)}case 1:{if(s){let e=i;return"DataView"===s?e=new Uint8Array(i.buffer):"ArrayBuffer"===s&&(e=new Uint8Array(i)),r([s,[...e]],i)}const e=[],t=r([o,e],i);for(const t of i)e.push(a(t));return t}case 2:{if(s)switch(s){case"BigInt":return r([s,i.toString()],i);case"Boolean":case"Number":case"String":return r([s,i.valueOf()],i)}if(t&&"toJSON"in i)return a(i.toJSON());const n=[],u=r([o,n],i);for(const t of zg(i))(e||!jg(Zg(i[t])))&&n.push([a(t),a(i[t])]);return u}case 3:return r([o,i.toISOString()],i);case 4:{const{source:e,flags:t}=i;return r([o,{source:e,flags:t}],i)}case 5:{const t=[],n=r([o,t],i);for(const[n,r]of i)(e||!jg(Zg(n))&&!jg(Zg(r)))&&t.push([a(n),a(r)]);return n}case 6:{const t=[],n=r([o,t],i);for(const n of i)(e||!jg(Zg(n)))&&t.push(a(n));return n}}const{message:u}=i;return r([o,{name:s,message:u}],i)};return a})(!(t||n),!!t,new Map,i)(e),i},Gg="function"==typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?Ug(Wg(e,t)):structuredClone(e):(e,t)=>Ug(Wg(e,t)),Vg=Hg("end"),Yg=Hg("start");function Hg(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"==typeof n.line&&n.line>0&&"number"==typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"==typeof n.offset&&n.offset>-1?n.offset:void 0}}}function Kg(e){const t=Yg(e),n=Vg(e);if(t&&n)return{start:t,end:n}}const Jg=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],eD={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...Jg,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...Jg],h2:[["className","sr-only"]],img:[...Jg,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...Jg,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...Jg],table:[...Jg],ul:[...Jg,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},tD={}.hasOwnProperty;function nD(e,t){if(t&&"object"==typeof t){const n=t;switch("string"==typeof n.type?n.type:""){case"comment":return function(e,t){if(e.schema.allowComments){const e="string"==typeof t.value?t.value:"",n=e.indexOf("--\x3e"),i={type:"comment",value:n<0?e:e.slice(0,n)};return oD(i,t),i}}(e,n);case"doctype":return function(e,t){if(e.schema.allowDoctypes){const e={type:"doctype"};return oD(e,t),e}}(e,n);case"element":return function(e,t){const n="string"==typeof t.tagName?t.tagName:"";e.stack.push(n);const i=iD(e,t.children),r=function(e,t){const n=e.stack[e.stack.length-1],i=e.schema.attributes,r=e.schema.required,a=i&&tD.call(i,n)?i[n]:void 0,o=i&&tD.call(i,"*")?i["*"]:void 0,s=t&&"object"==typeof t?t:{},u={};let l;for(l in s)if(tD.call(s,l)){const t=s[l];let n=rD(e,sD(a,l),l,t);null==n&&(n=rD(e,sD(o,l),l,t)),null!=n&&(u[l]=n)}if(r&&tD.call(r,n)){const e=r[n];for(l in e)tD.call(e,l)&&!tD.call(u,l)&&(u[l]=e[l])}return u}(e,t.properties);e.stack.pop();let a=!1;if(n&&"*"!==n&&(!e.schema.tagNames||e.schema.tagNames.includes(n))&&(a=!0,e.schema.ancestors&&tD.call(e.schema.ancestors,n))){const t=e.schema.ancestors[n];let i=-1;for(a=!1;++i<t.length;)e.stack.includes(t[i])&&(a=!0)}if(!a)return e.schema.strip&&!e.schema.strip.includes(n)?i:void 0;const o={type:"element",tagName:n,properties:r,children:i};return oD(o,t),o}(e,n);case"root":return function(e,t){const n={type:"root",children:iD(e,t.children)};return oD(n,t),n}(e,n);case"text":return function(e,t){const n={type:"text",value:"string"==typeof t.value?t.value:""};return oD(n,t),n}(0,n)}}}function iD(e,t){const n=[];if(Array.isArray(t)){const i=t;let r=-1;for(;++r<i.length;){const t=nD(e,i[r]);t&&(Array.isArray(t)?n.push(...t):n.push(t))}}return n}function rD(e,t,n,i){return t?Array.isArray(i)?function(e,t,n,i){let r=-1;const a=[];for(;++r<i.length;){const o=aD(e,t,n,i[r]);("number"==typeof o||"string"==typeof o)&&a.push(o)}return a}(e,t,n,i):aD(e,t,n,i):void 0}function aD(e,t,n,i){if(("boolean"==typeof i||"number"==typeof i||"string"==typeof i)&&function(e,t,n){const i=e.schema.protocols&&tD.call(e.schema.protocols,t)?e.schema.protocols[t]:void 0;if(!i||0===i.length)return!0;const r=String(n),a=r.indexOf(":"),o=r.indexOf("?"),s=r.indexOf("#"),u=r.indexOf("/");if(a<0||u>-1&&a>u||o>-1&&a>o||s>-1&&a>s)return!0;let l=-1;for(;++l<i.length;){const e=i[l];if(a===e.length&&r.slice(0,e.length)===e)return!0}return!1}(e,n,i)){if("object"==typeof t&&t.length>1){let e=!1,n=0;for(;++n<t.length;){const r=t[n];if(r&&"object"==typeof r&&"flags"in r){if(r.test(String(i))){e=!0;break}}else if(r===i){e=!0;break}}if(!e)return}return e.schema.clobber&&e.schema.clobberPrefix&&e.schema.clobber.includes(n)?e.schema.clobberPrefix+i:i}}function oD(e,t){const n=Kg(t);t.data&&(e.data=Gg(t.data)),n&&(e.position=n)}function sD(e,t){let n,i=-1;if(e)for(;++i<e.length;){const r=e[i],a="string"==typeof r?r:r[0];if(a===t)return r;"data*"===a&&(n=r)}if(t.length>4&&"data"===t.slice(0,4).toLowerCase())return n}function uD(e){return function(t){return function(e,t){let n={type:"root",children:[]};const i=nD({schema:t?p(p({},eD),t):eD,stack:[]},e);return i&&(Array.isArray(i)?1===i.length?n=i[0]:n.children=i:n=i),n}(t,e)}}class lD{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}function cD(e,t){const n={},i={};for(const t of e)Object.assign(n,t.property),Object.assign(i,t.normal);return new lD(n,i,t)}function dD(e){return e.toLowerCase()}lD.prototype.normal={},lD.prototype.property={},lD.prototype.space=void 0;class hD{constructor(e,t){this.attribute=t,this.property=e}}hD.prototype.attribute="",hD.prototype.booleanish=!1,hD.prototype.boolean=!1,hD.prototype.commaOrSpaceSeparated=!1,hD.prototype.commaSeparated=!1,hD.prototype.defined=!1,hD.prototype.mustUseProperty=!1,hD.prototype.number=!1,hD.prototype.overloadedBoolean=!1,hD.prototype.property="",hD.prototype.spaceSeparated=!1,hD.prototype.space=void 0;let pD=0;const fD=CD(),mD=CD(),OD=CD(),gD=CD(),DD=CD(),vD=CD(),ED=CD();function CD(){return 2**++pD}const bD=Object.freeze(Object.defineProperty({__proto__:null,boolean:fD,booleanish:mD,commaOrSpaceSeparated:ED,commaSeparated:vD,number:gD,overloadedBoolean:OD,spaceSeparated:DD},Symbol.toStringTag,{value:"Module"})),kD=Object.keys(bD);class TD extends hD{constructor(e,t,n,i){let r=-1;if(super(e,t),yD(this,"space",i),"number"==typeof n)for(;++r<kD.length;){const e=kD[r];yD(this,kD[r],(n&bD[e])===bD[e])}}}function yD(e,t,n){n&&(e[t]=n)}function AD(e){const t={},n={};for(const[i,r]of Object.entries(e.properties)){const a=new TD(i,e.transform(e.attributes||{},i),r,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(a.mustUseProperty=!0),t[i]=a,n[dD(i)]=i,n[dD(a.attribute)]=i}return new lD(t,n,e.space)}TD.prototype.defined=!0;const SD=AD({properties:{ariaActiveDescendant:null,ariaAtomic:mD,ariaAutoComplete:null,ariaBusy:mD,ariaChecked:mD,ariaColCount:gD,ariaColIndex:gD,ariaColSpan:gD,ariaControls:DD,ariaCurrent:null,ariaDescribedBy:DD,ariaDetails:null,ariaDisabled:mD,ariaDropEffect:DD,ariaErrorMessage:null,ariaExpanded:mD,ariaFlowTo:DD,ariaGrabbed:mD,ariaHasPopup:null,ariaHidden:mD,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:DD,ariaLevel:gD,ariaLive:null,ariaModal:mD,ariaMultiLine:mD,ariaMultiSelectable:mD,ariaOrientation:null,ariaOwns:DD,ariaPlaceholder:null,ariaPosInSet:gD,ariaPressed:mD,ariaReadOnly:mD,ariaRelevant:null,ariaRequired:mD,ariaRoleDescription:DD,ariaRowCount:gD,ariaRowIndex:gD,ariaRowSpan:gD,ariaSelected:mD,ariaSetSize:gD,ariaSort:null,ariaValueMax:gD,ariaValueMin:gD,ariaValueNow:gD,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function _D(e,t){return t in e?e[t]:t}function FD(e,t){return _D(e,t.toLowerCase())}const wD=AD({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:vD,acceptCharset:DD,accessKey:DD,action:null,allow:null,allowFullScreen:fD,allowPaymentRequest:fD,allowUserMedia:fD,alt:null,as:null,async:fD,autoCapitalize:null,autoComplete:DD,autoFocus:fD,autoPlay:fD,blocking:DD,capture:null,charSet:null,checked:fD,cite:null,className:DD,cols:gD,colSpan:null,content:null,contentEditable:mD,controls:fD,controlsList:DD,coords:gD|vD,crossOrigin:null,data:null,dateTime:null,decoding:null,default:fD,defer:fD,dir:null,dirName:null,disabled:fD,download:OD,draggable:mD,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:fD,formTarget:null,headers:DD,height:gD,hidden:OD,high:gD,href:null,hrefLang:null,htmlFor:DD,httpEquiv:DD,id:null,imageSizes:null,imageSrcSet:null,inert:fD,inputMode:null,integrity:null,is:null,isMap:fD,itemId:null,itemProp:DD,itemRef:DD,itemScope:fD,itemType:DD,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:fD,low:gD,manifest:null,max:null,maxLength:gD,media:null,method:null,min:null,minLength:gD,multiple:fD,muted:fD,name:null,nonce:null,noModule:fD,noValidate:fD,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:fD,optimum:gD,pattern:null,ping:DD,placeholder:null,playsInline:fD,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:fD,referrerPolicy:null,rel:DD,required:fD,reversed:fD,rows:gD,rowSpan:gD,sandbox:DD,scope:null,scoped:fD,seamless:fD,selected:fD,shadowRootClonable:fD,shadowRootDelegatesFocus:fD,shadowRootMode:null,shape:null,size:gD,sizes:null,slot:null,span:gD,spellCheck:mD,src:null,srcDoc:null,srcLang:null,srcSet:null,start:gD,step:null,style:null,tabIndex:gD,target:null,title:null,translate:null,type:null,typeMustMatch:fD,useMap:null,value:mD,width:gD,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:DD,axis:null,background:null,bgColor:null,border:gD,borderColor:null,bottomMargin:gD,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:fD,declare:fD,event:null,face:null,frame:null,frameBorder:null,hSpace:gD,leftMargin:gD,link:null,longDesc:null,lowSrc:null,marginHeight:gD,marginWidth:gD,noResize:fD,noHref:fD,noShade:fD,noWrap:fD,object:null,profile:null,prompt:null,rev:null,rightMargin:gD,rules:null,scheme:null,scrolling:mD,standby:null,summary:null,text:null,topMargin:gD,valueType:null,version:null,vAlign:null,vLink:null,vSpace:gD,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:fD,disableRemotePlayback:fD,prefix:null,property:null,results:gD,security:null,unselectable:null},space:"html",transform:FD}),xD=AD({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ED,accentHeight:gD,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:gD,amplitude:gD,arabicForm:null,ascent:gD,attributeName:null,attributeType:null,azimuth:gD,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:gD,by:null,calcMode:null,capHeight:gD,className:DD,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:gD,diffuseConstant:gD,direction:null,display:null,dur:null,divisor:gD,dominantBaseline:null,download:fD,dx:null,dy:null,edgeMode:null,editable:null,elevation:gD,enableBackground:null,end:null,event:null,exponent:gD,externalResourcesRequired:null,fill:null,fillOpacity:gD,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:vD,g2:vD,glyphName:vD,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:gD,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:gD,horizOriginX:gD,horizOriginY:gD,id:null,ideographic:gD,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:gD,k:gD,k1:gD,k2:gD,k3:gD,k4:gD,kernelMatrix:ED,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:gD,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:gD,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:gD,overlineThickness:gD,paintOrder:null,panose1:null,path:null,pathLength:gD,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:DD,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:gD,pointsAtY:gD,pointsAtZ:gD,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ED,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ED,rev:ED,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ED,requiredFeatures:ED,requiredFonts:ED,requiredFormats:ED,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:gD,specularExponent:gD,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:gD,strikethroughThickness:gD,string:null,stroke:null,strokeDashArray:ED,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:gD,strokeOpacity:gD,strokeWidth:null,style:null,surfaceScale:gD,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ED,tabIndex:gD,tableValues:null,target:null,targetX:gD,targetY:gD,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ED,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:gD,underlineThickness:gD,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:gD,values:null,vAlphabetic:gD,vMathematical:gD,vectorEffect:null,vHanging:gD,vIdeographic:gD,version:null,vertAdvY:gD,vertOriginX:gD,vertOriginY:gD,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:gD,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:_D}),PD=AD({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),RD=AD({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:FD}),ID=AD({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),QD={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},ND=/[A-Z]/g,BD=/-[a-z]/g,MD=/^data[-\w.:]+$/i;function LD(e,t){const n=dD(t);let i=t,r=hD;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&MD.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(BD,UD);i="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!BD.test(e)){let n=e.replace(ND,$D);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}r=TD}return new r(i,t)}function $D(e){return"-"+e.toLowerCase()}function UD(e){return e.charAt(1).toUpperCase()}const qD=cD([SD,wD,PD,RD,ID],"html"),XD=cD([SD,xD,PD,RD,ID],"svg");function zD(e){const t=[],n=String(e||"");let i=n.indexOf(","),r=0,a=!1;for(;!a;){-1===i&&(i=n.length,a=!0);const e=n.slice(r,i).trim();(e||!a)&&t.push(e),r=i+1,i=n.indexOf(",",r)}return t}function ZD(e,t){const n={};return(""===e[e.length-1]?[...e,""]:e).join((n.padRight?" ":"")+","+(!1===n.padLeft?"":" ")).trim()}const jD=/[#.]/g;function WD(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function GD(e){return e.join(" ").trim()}function VD(e,t,n){const i=n?function(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}(n):void 0;return function(n,r,...a){let o;if(null==n){o={type:"root",children:[]};const e=r;a.unshift(e)}else{o=function(e,t){const n=e||"",i={};let r,a,o=0;for(;o<n.length;){jD.lastIndex=o;const e=jD.exec(n),t=n.slice(o,e?e.index:n.length);t&&(r?"#"===r?i.id=t:Array.isArray(i.className)?i.className.push(t):i.className=[t]:a=t,o+=t.length),e&&(r=e[0],o++)}return{type:"element",tagName:a||t||"div",properties:i,children:[]}}(n,t);const s=o.tagName.toLowerCase(),u=i?i.get(s):void 0;if(o.tagName=u||s,function(e){if(null===e||"object"!=typeof e||Array.isArray(e))return!0;if("string"!=typeof e.type)return!1;const t=e,n=Object.keys(e);for(const e of n){const n=t[e];if(n&&"object"==typeof n){if(!Array.isArray(n))return!0;const e=n;for(const t of e)if("number"!=typeof t&&"string"!=typeof t)return!0}}return!(!("children"in e)||!Array.isArray(e.children))}(r))a.unshift(r);else for(const[t,n]of Object.entries(r))YD(e,o.properties,t,n)}for(const e of a)HD(o.children,e);return"element"===o.type&&"template"===o.tagName&&(o.content={type:"root",children:o.children},o.children=[]),o}}function YD(e,t,n,i){const r=LD(e,n);let a;if(null!=i){if("number"==typeof i){if(Number.isNaN(i))return;a=i}else a="boolean"==typeof i?i:"string"==typeof i?r.spaceSeparated?WD(i):r.commaSeparated?zD(i):r.commaOrSpaceSeparated?WD(zD(i).join(" ")):KD(r,r.property,i):Array.isArray(i)?[...i]:"style"===r.property?function(e){const t=[];for(const[n,i]of Object.entries(e))t.push([n,i].join(": "));return t.join("; ")}(i):String(i);if(Array.isArray(a)){const e=[];for(const t of a)e.push(KD(r,r.property,t));a=e}"className"===r.property&&Array.isArray(t.className)&&(a=t.className.concat(a)),t[r.property]=a}}function HD(e,t){if(null!=t)if("number"==typeof t||"string"==typeof t)e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)HD(e,n);else{if("object"!=typeof t||!("type"in t))throw new Error("Expected node, nodes, or string, got `"+t+"`");"root"===t.type?HD(e,t.children):e.push(t)}}function KD(e,t,n){if("string"==typeof n){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(""===n||dD(n)===dD(t)))return!0}return n}const JD=VD(qD,"div"),ev=VD(XD,"g",["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"]);function tv(e,t){const n=e.indexOf("\r",t),i=e.indexOf("\n",t);return-1===i?n:-1===n||n+1===i?i:n<i?n:i}const nv={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},iv={}.hasOwnProperty,rv=Object.prototype;function av(e,t){let n;switch(t.nodeName){case"#comment":{const i=t;return n={type:"comment",value:i.data},sv(e,i,n),n}case"#document":case"#document-fragment":{const i=t,r="mode"in i&&("quirks"===i.mode||"limited-quirks"===i.mode);if(n={type:"root",children:ov(e,t.childNodes),data:{quirksMode:r}},e.file&&e.location){const t=String(e.file),i=function(e){const t=String(e),n=[];return{toOffset:function(e){if(e&&"number"==typeof e.line&&"number"==typeof e.column&&!Number.isNaN(e.line)&&!Number.isNaN(e.column)){for(;n.length<e.line;){const e=n[n.length-1],i=tv(t,e),r=-1===i?t.length+1:i+1;if(e===r)break;n.push(r)}const i=(e.line>1?n[e.line-2]:0)+e.column-1;if(i<n[e.line-1])return i}},toPoint:function(e){if("number"==typeof e&&e>-1&&e<=t.length){let i=0;for(;;){let r=n[i];if(void 0===r){const e=tv(t,n[i-1]);r=-1===e?t.length+1:e+1,n[i]=r}if(r>e)return{line:i+1,column:e-(i>0?n[i-1]:0)+1,offset:e};i++}}}}}(t),r=i.toPoint(0),a=i.toPoint(t.length);n.position={start:r,end:a}}return n}case"#documentType":return n={type:"doctype"},sv(e,t,n),n;case"#text":{const i=t;return n={type:"text",value:i.value},sv(e,i,n),n}default:return n=function(e,t){const n=e.schema;e.schema=t.namespaceURI===nv.svg?XD:qD;let i=-1;const r={};for(;++i<t.attrs.length;){const e=t.attrs[i],n=(e.prefix?e.prefix+":":"")+e.name;iv.call(rv,n)||(r[n]=e.value)}const a=("svg"===e.schema.space?ev:JD)(t.tagName,r,ov(e,t.childNodes));if(sv(e,t,a),"template"===a.tagName){const n=t,i=n.sourceCodeLocation,r=i&&i.startTag&&uv(i.startTag),o=i&&i.endTag&&uv(i.endTag),s=av(e,n.content);r&&o&&e.file&&(s.position={start:r.end,end:o.start}),a.content=s}return e.schema=n,a}(e,t),n}}function ov(e,t){let n=-1;const i=[];for(;++n<t.length;){const r=av(e,t[n]);i.push(r)}return i}function sv(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const i=function(e,t,n){const i=uv(n);if("element"===t.type){const r=t.children[t.children.length-1];if(i&&!n.endTag&&r&&r.position&&r.position.end&&(i.end=Object.assign({},r.position.end)),e.verbose){const i={};let r;if(n.attrs)for(r in n.attrs)iv.call(n.attrs,r)&&(i[LD(e.schema,r).property]=uv(n.attrs[r]));n.startTag;const a=uv(n.startTag),o=n.endTag?uv(n.endTag):void 0,s={opening:a};o&&(s.closing=o),s.properties=i,t.data={position:s}}}return i}(e,n,t.sourceCodeLocation);i&&(e.location=!0,n.position=i)}}function uv(e){const t=lv({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=lv({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function lv(e){return e.line&&e.column?e:void 0}const cv={}.hasOwnProperty;function dv(e,t){const n=t||{};function i(t,...n){let r=i.invalid;const a=i.handlers;if(t&&cv.call(t,e)){const n=String(t[e]);r=cv.call(a,n)?a[n]:i.unknown}if(r)return r.call(this,t,...n)}return i.handlers=n.handlers||{},i.invalid=n.invalid,i.unknown=n.unknown,i}const hv={},pv={}.hasOwnProperty,fv=dv("type",{handlers:{root:function(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=Ov(e.children,n,t),gv(e,n),n},element:function(e,t){const n=t;let i=n;"element"===e.type&&"svg"===e.tagName.toLowerCase()&&"html"===n.space&&(i=XD);const r=[];let a;if(e.properties)for(a in e.properties)if("children"!==a&&pv.call(e.properties,a)){const t=mv(i,a,e.properties[a]);t&&r.push(t)}const o=i.space,s={nodeName:e.tagName,tagName:e.tagName,attrs:r,namespaceURI:nv[o],childNodes:[],parentNode:null};return s.childNodes=Ov(e.children,s,i),gv(e,s),"template"===e.tagName&&e.content&&(s.content=function(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=Ov(e.children,n,t),gv(e,n),n}(e.content,i)),s},text:function(e){const t={nodeName:"#text",value:e.value,parentNode:null};return gv(e,t),t},comment:function(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return gv(e,t),t},doctype:function(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return gv(e,t),t}}});function mv(e,t,n){const i=LD(e,t);if(!1===n||null==n||"number"==typeof n&&Number.isNaN(n)||!n&&i.boolean)return;Array.isArray(n)&&(n=i.commaSeparated?ZD(n):GD(n));const r={name:i.attribute,value:!0===n?"":String(n)};if(i.space&&"html"!==i.space&&"svg"!==i.space){const e=r.name.indexOf(":");e<0?r.prefix="":(r.name=r.name.slice(e+1),r.prefix=i.attribute.slice(0,e)),r.namespace=nv[i.space]}return r}function Ov(e,t,n){let i=-1;const r=[];if(e)for(;++i<e.length;){const a=fv(e[i],n);a.parentNode=t,r.push(a)}return r}function gv(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const Dv=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],vv=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Ev="";var Cv;!function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"}(Cv||(Cv={}));const bv="[CDATA[",kv="doctype",Tv="script";function yv(e){return e>=55296&&e<=57343}function Av(e){return 32!==e&&10!==e&&13!==e&&9!==e&&12!==e&&e>=1&&e<=31||e>=127&&e<=159}function Sv(e){return e>=64976&&e<=65007||vv.has(e)}var _v,Fv;!function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"}(_v||(_v={}));class wv{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,t){const{line:n,col:i,offset:r}=this,a=i+t,o=r+t;return{code:e,startLine:n,endLine:n,startCol:a,endCol:a,startOffset:o,endOffset:o}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const t=this.html.charCodeAt(this.pos+1);if(function(e){return e>=56320&&e<=57343}(t))return this.pos++,this._addGap(),function(e,t){return 1024*(e-55296)+9216+t}(e,t)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,Cv.EOF;return this._err(_v.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,t){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=t}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,t){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(t)return this.html.startsWith(e,this.pos);for(let t=0;t<e.length;t++)if((32|this.html.charCodeAt(this.pos+t))!==e.charCodeAt(t))return!1;return!0}peek(e){const t=this.pos+e;if(t>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Cv.EOF;const n=this.html.charCodeAt(t);return n===Cv.CARRIAGE_RETURN?Cv.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Cv.EOF;let e=this.html.charCodeAt(this.pos);return e===Cv.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,Cv.LINE_FEED):e===Cv.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,yv(e)&&(e=this._processSurrogate(e)),null===this.handler.onParseError||e>31&&e<127||e===Cv.LINE_FEED||e===Cv.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){Av(e)?this._err(_v.controlCharacterInInputStream):Sv(e)&&this._err(_v.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}function xv(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}!function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"}(Fv||(Fv={}));const Pv=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),Rv=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var Iv,Qv,Nv,Bv,Mv,Lv,$v,Uv,qv;function Xv(e){return e>=Iv.ZERO&&e<=Iv.NINE}function zv(e){return e>=Iv.UPPER_A&&e<=Iv.UPPER_F||e>=Iv.LOWER_A&&e<=Iv.LOWER_F}function Zv(e){return e===Iv.EQUALS||function(e){return e>=Iv.UPPER_A&&e<=Iv.UPPER_Z||e>=Iv.LOWER_A&&e<=Iv.LOWER_Z||Xv(e)}(e)}!function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"}(Iv||(Iv={})),function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"}(Qv||(Qv={})),function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"}(Nv||(Nv={})),function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"}(Bv||(Bv={}));class jv{constructor(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=Nv.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Bv.Strict}startEntity(e){this.decodeMode=e,this.state=Nv.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case Nv.EntityStart:return e.charCodeAt(t)===Iv.NUM?(this.state=Nv.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=Nv.NamedEntity,this.stateNamedEntity(e,t));case Nv.NumericStart:return this.stateNumericStart(e,t);case Nv.NumericDecimal:return this.stateNumericDecimal(e,t);case Nv.NumericHex:return this.stateNumericHex(e,t);case Nv.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===Iv.LOWER_X?(this.state=Nv.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=Nv.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,n,i){if(t!==n){const r=n-t;this.result=this.result*Math.pow(i,r)+Number.parseInt(e.substr(t,r),i),this.consumed+=r}}stateNumericHex(e,t){const n=t;for(;t<e.length;){const i=e.charCodeAt(t);if(!Xv(i)&&!zv(i))return this.addToNumericResult(e,n,t,16),this.emitNumericEntity(i,3);t+=1}return this.addToNumericResult(e,n,t,16),-1}stateNumericDecimal(e,t){const n=t;for(;t<e.length;){const i=e.charCodeAt(t);if(!Xv(i))return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(i,2);t+=1}return this.addToNumericResult(e,n,t,10),-1}emitNumericEntity(e,t){var n;if(this.consumed<=t)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Iv.SEMI)this.consumed+=1;else if(this.decodeMode===Bv.Strict)return 0;return this.emitCodePoint(function(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=Rv.get(e))&&void 0!==t?t:e}(this.result),this.consumed),this.errors&&(e!==Iv.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:n}=this;let i=n[this.treeIndex],r=(i&Qv.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const a=e.charCodeAt(t);if(this.treeIndex=Wv(n,i,this.treeIndex+Math.max(1,r),a),this.treeIndex<0)return 0===this.result||this.decodeMode===Bv.Attribute&&(0===r||Zv(a))?0:this.emitNotTerminatedNamedEntity();if(i=n[this.treeIndex],r=(i&Qv.VALUE_LENGTH)>>14,0!==r){if(a===Iv.SEMI)return this.emitNamedEntityData(this.treeIndex,r,this.consumed+this.excess);this.decodeMode!==Bv.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:n}=this,i=(n[t]&Qv.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,i,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,n){const{decodeTree:i}=this;return this.emitCodePoint(1===t?i[e]&~Qv.VALUE_LENGTH:i[e+1],n),3===t&&this.emitCodePoint(i[e+2],n),n}end(){var e;switch(this.state){case Nv.NamedEntity:return 0===this.result||this.decodeMode===Bv.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case Nv.NumericDecimal:return this.emitNumericEntity(0,2);case Nv.NumericHex:return this.emitNumericEntity(0,3);case Nv.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Nv.EntityStart:return 0}}}function Wv(e,t,n,i){const r=(t&Qv.BRANCH_LENGTH)>>7,a=t&Qv.JUMP_TABLE;if(0===r)return 0!==a&&i===a?n:-1;if(a){const t=i-a;return t<0||t>=r?-1:e[n+t]-1}let o=n,s=o+r-1;for(;o<=s;){const t=o+s>>>1,n=e[t];if(n<i)o=t+1;else{if(!(n>i))return e[t+r];s=t-1}}return-1}!function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"}(Mv||(Mv={})),function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"}(Lv||(Lv={})),function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"}($v||($v={})),function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"}(Uv||(Uv={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"}(qv||(qv={}));const Gv=new Map([[Uv.A,qv.A],[Uv.ADDRESS,qv.ADDRESS],[Uv.ANNOTATION_XML,qv.ANNOTATION_XML],[Uv.APPLET,qv.APPLET],[Uv.AREA,qv.AREA],[Uv.ARTICLE,qv.ARTICLE],[Uv.ASIDE,qv.ASIDE],[Uv.B,qv.B],[Uv.BASE,qv.BASE],[Uv.BASEFONT,qv.BASEFONT],[Uv.BGSOUND,qv.BGSOUND],[Uv.BIG,qv.BIG],[Uv.BLOCKQUOTE,qv.BLOCKQUOTE],[Uv.BODY,qv.BODY],[Uv.BR,qv.BR],[Uv.BUTTON,qv.BUTTON],[Uv.CAPTION,qv.CAPTION],[Uv.CENTER,qv.CENTER],[Uv.CODE,qv.CODE],[Uv.COL,qv.COL],[Uv.COLGROUP,qv.COLGROUP],[Uv.DD,qv.DD],[Uv.DESC,qv.DESC],[Uv.DETAILS,qv.DETAILS],[Uv.DIALOG,qv.DIALOG],[Uv.DIR,qv.DIR],[Uv.DIV,qv.DIV],[Uv.DL,qv.DL],[Uv.DT,qv.DT],[Uv.EM,qv.EM],[Uv.EMBED,qv.EMBED],[Uv.FIELDSET,qv.FIELDSET],[Uv.FIGCAPTION,qv.FIGCAPTION],[Uv.FIGURE,qv.FIGURE],[Uv.FONT,qv.FONT],[Uv.FOOTER,qv.FOOTER],[Uv.FOREIGN_OBJECT,qv.FOREIGN_OBJECT],[Uv.FORM,qv.FORM],[Uv.FRAME,qv.FRAME],[Uv.FRAMESET,qv.FRAMESET],[Uv.H1,qv.H1],[Uv.H2,qv.H2],[Uv.H3,qv.H3],[Uv.H4,qv.H4],[Uv.H5,qv.H5],[Uv.H6,qv.H6],[Uv.HEAD,qv.HEAD],[Uv.HEADER,qv.HEADER],[Uv.HGROUP,qv.HGROUP],[Uv.HR,qv.HR],[Uv.HTML,qv.HTML],[Uv.I,qv.I],[Uv.IMG,qv.IMG],[Uv.IMAGE,qv.IMAGE],[Uv.INPUT,qv.INPUT],[Uv.IFRAME,qv.IFRAME],[Uv.KEYGEN,qv.KEYGEN],[Uv.LABEL,qv.LABEL],[Uv.LI,qv.LI],[Uv.LINK,qv.LINK],[Uv.LISTING,qv.LISTING],[Uv.MAIN,qv.MAIN],[Uv.MALIGNMARK,qv.MALIGNMARK],[Uv.MARQUEE,qv.MARQUEE],[Uv.MATH,qv.MATH],[Uv.MENU,qv.MENU],[Uv.META,qv.META],[Uv.MGLYPH,qv.MGLYPH],[Uv.MI,qv.MI],[Uv.MO,qv.MO],[Uv.MN,qv.MN],[Uv.MS,qv.MS],[Uv.MTEXT,qv.MTEXT],[Uv.NAV,qv.NAV],[Uv.NOBR,qv.NOBR],[Uv.NOFRAMES,qv.NOFRAMES],[Uv.NOEMBED,qv.NOEMBED],[Uv.NOSCRIPT,qv.NOSCRIPT],[Uv.OBJECT,qv.OBJECT],[Uv.OL,qv.OL],[Uv.OPTGROUP,qv.OPTGROUP],[Uv.OPTION,qv.OPTION],[Uv.P,qv.P],[Uv.PARAM,qv.PARAM],[Uv.PLAINTEXT,qv.PLAINTEXT],[Uv.PRE,qv.PRE],[Uv.RB,qv.RB],[Uv.RP,qv.RP],[Uv.RT,qv.RT],[Uv.RTC,qv.RTC],[Uv.RUBY,qv.RUBY],[Uv.S,qv.S],[Uv.SCRIPT,qv.SCRIPT],[Uv.SEARCH,qv.SEARCH],[Uv.SECTION,qv.SECTION],[Uv.SELECT,qv.SELECT],[Uv.SOURCE,qv.SOURCE],[Uv.SMALL,qv.SMALL],[Uv.SPAN,qv.SPAN],[Uv.STRIKE,qv.STRIKE],[Uv.STRONG,qv.STRONG],[Uv.STYLE,qv.STYLE],[Uv.SUB,qv.SUB],[Uv.SUMMARY,qv.SUMMARY],[Uv.SUP,qv.SUP],[Uv.TABLE,qv.TABLE],[Uv.TBODY,qv.TBODY],[Uv.TEMPLATE,qv.TEMPLATE],[Uv.TEXTAREA,qv.TEXTAREA],[Uv.TFOOT,qv.TFOOT],[Uv.TD,qv.TD],[Uv.TH,qv.TH],[Uv.THEAD,qv.THEAD],[Uv.TITLE,qv.TITLE],[Uv.TR,qv.TR],[Uv.TRACK,qv.TRACK],[Uv.TT,qv.TT],[Uv.U,qv.U],[Uv.UL,qv.UL],[Uv.SVG,qv.SVG],[Uv.VAR,qv.VAR],[Uv.WBR,qv.WBR],[Uv.XMP,qv.XMP]]);function Vv(e){var t;return null!==(t=Gv.get(e))&&void 0!==t?t:qv.UNKNOWN}const Yv=qv,Hv={[Mv.HTML]:new Set([Yv.ADDRESS,Yv.APPLET,Yv.AREA,Yv.ARTICLE,Yv.ASIDE,Yv.BASE,Yv.BASEFONT,Yv.BGSOUND,Yv.BLOCKQUOTE,Yv.BODY,Yv.BR,Yv.BUTTON,Yv.CAPTION,Yv.CENTER,Yv.COL,Yv.COLGROUP,Yv.DD,Yv.DETAILS,Yv.DIR,Yv.DIV,Yv.DL,Yv.DT,Yv.EMBED,Yv.FIELDSET,Yv.FIGCAPTION,Yv.FIGURE,Yv.FOOTER,Yv.FORM,Yv.FRAME,Yv.FRAMESET,Yv.H1,Yv.H2,Yv.H3,Yv.H4,Yv.H5,Yv.H6,Yv.HEAD,Yv.HEADER,Yv.HGROUP,Yv.HR,Yv.HTML,Yv.IFRAME,Yv.IMG,Yv.INPUT,Yv.LI,Yv.LINK,Yv.LISTING,Yv.MAIN,Yv.MARQUEE,Yv.MENU,Yv.META,Yv.NAV,Yv.NOEMBED,Yv.NOFRAMES,Yv.NOSCRIPT,Yv.OBJECT,Yv.OL,Yv.P,Yv.PARAM,Yv.PLAINTEXT,Yv.PRE,Yv.SCRIPT,Yv.SECTION,Yv.SELECT,Yv.SOURCE,Yv.STYLE,Yv.SUMMARY,Yv.TABLE,Yv.TBODY,Yv.TD,Yv.TEMPLATE,Yv.TEXTAREA,Yv.TFOOT,Yv.TH,Yv.THEAD,Yv.TITLE,Yv.TR,Yv.TRACK,Yv.UL,Yv.WBR,Yv.XMP]),[Mv.MATHML]:new Set([Yv.MI,Yv.MO,Yv.MN,Yv.MS,Yv.MTEXT,Yv.ANNOTATION_XML]),[Mv.SVG]:new Set([Yv.TITLE,Yv.FOREIGN_OBJECT,Yv.DESC]),[Mv.XLINK]:new Set,[Mv.XML]:new Set,[Mv.XMLNS]:new Set},Kv=new Set([Yv.H1,Yv.H2,Yv.H3,Yv.H4,Yv.H5,Yv.H6]);var Jv;Uv.STYLE,Uv.SCRIPT,Uv.XMP,Uv.IFRAME,Uv.NOEMBED,Uv.NOFRAMES,Uv.PLAINTEXT,function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"}(Jv||(Jv={}));const eE={DATA:Jv.DATA,RCDATA:Jv.RCDATA,RAWTEXT:Jv.RAWTEXT,SCRIPT_DATA:Jv.SCRIPT_DATA,PLAINTEXT:Jv.PLAINTEXT,CDATA_SECTION:Jv.CDATA_SECTION};function tE(e){return e>=Cv.LATIN_CAPITAL_A&&e<=Cv.LATIN_CAPITAL_Z}function nE(e){return function(e){return e>=Cv.LATIN_SMALL_A&&e<=Cv.LATIN_SMALL_Z}(e)||tE(e)}function iE(e){return nE(e)||function(e){return e>=Cv.DIGIT_0&&e<=Cv.DIGIT_9}(e)}function rE(e){return e+32}function aE(e){return e===Cv.SPACE||e===Cv.LINE_FEED||e===Cv.TABULATION||e===Cv.FORM_FEED}function oE(e){return aE(e)||e===Cv.SOLIDUS||e===Cv.GREATER_THAN_SIGN}class sE{constructor(e,t){this.options=e,this.handler=t,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=Jv.DATA,this.returnState=Jv.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new wv(t),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new jv(Pv,(e,t)=>{this.preprocessor.pos=this.entityStartPos+t-1,this._flushCodePointConsumedAsCharacterReference(e)},t.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(_v.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:e=>{this._err(_v.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+e)},validateNumericCharacterReference:e=>{const t=function(e){return e===Cv.NULL?_v.nullCharacterReference:e>1114111?_v.characterReferenceOutsideUnicodeRange:yv(e)?_v.surrogateCharacterReference:Sv(e)?_v.noncharacterCharacterReference:Av(e)||e===Cv.CARRIAGE_RETURN?_v.controlCharacterReference:null}(e);t&&this._err(t,1)}}:void 0)}_err(e,t=0){var n,i;null===(i=(n=this.handler).onParseError)||void 0===i||i.call(n,this.preprocessor.getError(e,t))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||null==e||e())}write(e,t,n){this.active=!0,this.preprocessor.write(e,t),this._runParsingLoop(),this.paused||null==n||n()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0)}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let t=0;t<e;t++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,t){return!!this.preprocessor.startsWith(e,t)&&(this._advanceBy(e.length-1),!0)}_createStartTagToken(){this.currentToken={type:Fv.START_TAG,tagName:"",tagID:qv.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Fv.END_TAG,tagName:"",tagID:qv.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:Fv.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:Fv.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,t){this.currentCharacterToken={type:e,chars:t,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,t;const n=this.currentToken;null===xv(n,this.currentAttr.name)?(n.attrs.push(this.currentAttr),n.location&&this.currentLocation&&((null!==(e=(t=n.location).attrs)&&void 0!==e?e:t.attrs=Object.create(null))[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue())):this._err(_v.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=Vv(e.tagName),e.type===Fv.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(_v.endTagWithAttributes),e.selfClosing&&this._err(_v.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case Fv.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case Fv.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case Fv.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:Fv.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,t){if(this.currentCharacterToken){if(this.currentCharacterToken.type===e)return void(this.currentCharacterToken.chars+=t);this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk()}this._createCharacterToken(e,t)}_emitCodePoint(e){const t=aE(e)?Fv.WHITESPACE_CHARACTER:e===Cv.NULL?Fv.NULL_CHARACTER:Fv.CHARACTER;this._appendCharToCurrentCharacterToken(t,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(Fv.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=Jv.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Bv.Attribute:Bv.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===Jv.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===Jv.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===Jv.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case Jv.DATA:this._stateData(e);break;case Jv.RCDATA:this._stateRcdata(e);break;case Jv.RAWTEXT:this._stateRawtext(e);break;case Jv.SCRIPT_DATA:this._stateScriptData(e);break;case Jv.PLAINTEXT:this._statePlaintext(e);break;case Jv.TAG_OPEN:this._stateTagOpen(e);break;case Jv.END_TAG_OPEN:this._stateEndTagOpen(e);break;case Jv.TAG_NAME:this._stateTagName(e);break;case Jv.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(e);break;case Jv.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(e);break;case Jv.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(e);break;case Jv.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(e);break;case Jv.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(e);break;case Jv.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(e);break;case Jv.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(e);break;case Jv.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(e);break;case Jv.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(e);break;case Jv.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(e);break;case Jv.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(e);break;case Jv.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(e);break;case Jv.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(e);break;case Jv.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(e);break;case Jv.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(e);break;case Jv.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(e);break;case Jv.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(e);break;case Jv.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(e);break;case Jv.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(e);break;case Jv.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(e);break;case Jv.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(e);break;case Jv.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(e);break;case Jv.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(e);break;case Jv.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(e);break;case Jv.ATTRIBUTE_NAME:this._stateAttributeName(e);break;case Jv.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(e);break;case Jv.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(e);break;case Jv.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(e);break;case Jv.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(e);break;case Jv.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(e);break;case Jv.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(e);break;case Jv.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(e);break;case Jv.BOGUS_COMMENT:this._stateBogusComment(e);break;case Jv.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(e);break;case Jv.COMMENT_START:this._stateCommentStart(e);break;case Jv.COMMENT_START_DASH:this._stateCommentStartDash(e);break;case Jv.COMMENT:this._stateComment(e);break;case Jv.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(e);break;case Jv.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(e);break;case Jv.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(e);break;case Jv.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(e);break;case Jv.COMMENT_END_DASH:this._stateCommentEndDash(e);break;case Jv.COMMENT_END:this._stateCommentEnd(e);break;case Jv.COMMENT_END_BANG:this._stateCommentEndBang(e);break;case Jv.DOCTYPE:this._stateDoctype(e);break;case Jv.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(e);break;case Jv.DOCTYPE_NAME:this._stateDoctypeName(e);break;case Jv.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(e);break;case Jv.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(e);break;case Jv.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(e);break;case Jv.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(e);break;case Jv.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(e);break;case Jv.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(e);break;case Jv.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break;case Jv.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(e);break;case Jv.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(e);break;case Jv.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(e);break;case Jv.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(e);break;case Jv.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(e);break;case Jv.BOGUS_DOCTYPE:this._stateBogusDoctype(e);break;case Jv.CDATA_SECTION:this._stateCdataSection(e);break;case Jv.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(e);break;case Jv.CDATA_SECTION_END:this._stateCdataSectionEnd(e);break;case Jv.CHARACTER_REFERENCE:this._stateCharacterReference();break;case Jv.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(e);break;default:throw new Error("Unknown state")}}_stateData(e){switch(e){case Cv.LESS_THAN_SIGN:this.state=Jv.TAG_OPEN;break;case Cv.AMPERSAND:this._startCharacterReference();break;case Cv.NULL:this._err(_v.unexpectedNullCharacter),this._emitCodePoint(e);break;case Cv.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case Cv.AMPERSAND:this._startCharacterReference();break;case Cv.LESS_THAN_SIGN:this.state=Jv.RCDATA_LESS_THAN_SIGN;break;case Cv.NULL:this._err(_v.unexpectedNullCharacter),this._emitChars(Ev);break;case Cv.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case Cv.LESS_THAN_SIGN:this.state=Jv.RAWTEXT_LESS_THAN_SIGN;break;case Cv.NULL:this._err(_v.unexpectedNullCharacter),this._emitChars(Ev);break;case Cv.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case Cv.LESS_THAN_SIGN:this.state=Jv.SCRIPT_DATA_LESS_THAN_SIGN;break;case Cv.NULL:this._err(_v.unexpectedNullCharacter),this._emitChars(Ev);break;case Cv.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case Cv.NULL:this._err(_v.unexpectedNullCharacter),this._emitChars(Ev);break;case Cv.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateTagOpen(e){if(nE(e))this._createStartTagToken(),this.state=Jv.TAG_NAME,this._stateTagName(e);else switch(e){case Cv.EXCLAMATION_MARK:this.state=Jv.MARKUP_DECLARATION_OPEN;break;case Cv.SOLIDUS:this.state=Jv.END_TAG_OPEN;break;case Cv.QUESTION_MARK:this._err(_v.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=Jv.BOGUS_COMMENT,this._stateBogusComment(e);break;case Cv.EOF:this._err(_v.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(_v.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=Jv.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(nE(e))this._createEndTagToken(),this.state=Jv.TAG_NAME,this._stateTagName(e);else switch(e){case Cv.GREATER_THAN_SIGN:this._err(_v.missingEndTagName),this.state=Jv.DATA;break;case Cv.EOF:this._err(_v.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(_v.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=Jv.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const t=this.currentToken;switch(e){case Cv.SPACE:case Cv.LINE_FEED:case Cv.TABULATION:case Cv.FORM_FEED:this.state=Jv.BEFORE_ATTRIBUTE_NAME;break;case Cv.SOLIDUS:this.state=Jv.SELF_CLOSING_START_TAG;break;case Cv.GREATER_THAN_SIGN:this.state=Jv.DATA,this.emitCurrentTagToken();break;case Cv.NULL:this._err(_v.unexpectedNullCharacter),t.tagName+=Ev;break;case Cv.EOF:this._err(_v.eofInTag),this._emitEOFToken();break;default:t.tagName+=String.fromCodePoint(tE(e)?rE(e):e)}}_stateRcdataLessThanSign(e){e===Cv.SOLIDUS?this.state=Jv.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=Jv.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){nE(e)?(this.state=Jv.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=Jv.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();switch(this._createEndTagToken(),this.currentToken.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case Cv.SPACE:case Cv.LINE_FEED:case Cv.TABULATION:case Cv.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=Jv.BEFORE_ATTRIBUTE_NAME,!1;case Cv.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=Jv.SELF_CLOSING_START_TAG,!1;case Cv.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=Jv.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Jv.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===Cv.SOLIDUS?this.state=Jv.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=Jv.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){nE(e)?(this.state=Jv.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=Jv.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Jv.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case Cv.SOLIDUS:this.state=Jv.SCRIPT_DATA_END_TAG_OPEN;break;case Cv.EXCLAMATION_MARK:this.state=Jv.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=Jv.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){nE(e)?(this.state=Jv.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=Jv.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Jv.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===Cv.HYPHEN_MINUS?(this.state=Jv.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=Jv.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===Cv.HYPHEN_MINUS?(this.state=Jv.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=Jv.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case Cv.HYPHEN_MINUS:this.state=Jv.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case Cv.LESS_THAN_SIGN:this.state=Jv.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Cv.NULL:this._err(_v.unexpectedNullCharacter),this._emitChars(Ev);break;case Cv.EOF:this._err(_v.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case Cv.HYPHEN_MINUS:this.state=Jv.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case Cv.LESS_THAN_SIGN:this.state=Jv.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Cv.NULL:this._err(_v.unexpectedNullCharacter),this.state=Jv.SCRIPT_DATA_ESCAPED,this._emitChars(Ev);break;case Cv.EOF:this._err(_v.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=Jv.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case Cv.HYPHEN_MINUS:this._emitChars("-");break;case Cv.LESS_THAN_SIGN:this.state=Jv.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Cv.GREATER_THAN_SIGN:this.state=Jv.SCRIPT_DATA,this._emitChars(">");break;case Cv.NULL:this._err(_v.unexpectedNullCharacter),this.state=Jv.SCRIPT_DATA_ESCAPED,this._emitChars(Ev);break;case Cv.EOF:this._err(_v.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=Jv.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===Cv.SOLIDUS?this.state=Jv.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:nE(e)?(this._emitChars("<"),this.state=Jv.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=Jv.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){nE(e)?(this.state=Jv.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=Jv.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Jv.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(Tv,!1)&&oE(this.preprocessor.peek(6))){this._emitCodePoint(e);for(let e=0;e<6;e++)this._emitCodePoint(this._consume());this.state=Jv.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=Jv.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case Cv.HYPHEN_MINUS:this.state=Jv.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case Cv.LESS_THAN_SIGN:this.state=Jv.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Cv.NULL:this._err(_v.unexpectedNullCharacter),this._emitChars(Ev);break;case Cv.EOF:this._err(_v.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case Cv.HYPHEN_MINUS:this.state=Jv.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case Cv.LESS_THAN_SIGN:this.state=Jv.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Cv.NULL:this._err(_v.unexpectedNullCharacter),this.state=Jv.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Ev);break;case Cv.EOF:this._err(_v.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=Jv.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case Cv.HYPHEN_MINUS:this._emitChars("-");break;case Cv.LESS_THAN_SIGN:this.state=Jv.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Cv.GREATER_THAN_SIGN:this.state=Jv.SCRIPT_DATA,this._emitChars(">");break;case Cv.NULL:this._err(_v.unexpectedNullCharacter),this.state=Jv.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Ev);break;case Cv.EOF:this._err(_v.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=Jv.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===Cv.SOLIDUS?(this.state=Jv.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=Jv.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(Tv,!1)&&oE(this.preprocessor.peek(6))){this._emitCodePoint(e);for(let e=0;e<6;e++)this._emitCodePoint(this._consume());this.state=Jv.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=Jv.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case Cv.SPACE:case Cv.LINE_FEED:case Cv.TABULATION:case Cv.FORM_FEED:break;case Cv.SOLIDUS:case Cv.GREATER_THAN_SIGN:case Cv.EOF:this.state=Jv.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case Cv.EQUALS_SIGN:this._err(_v.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=Jv.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=Jv.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case Cv.SPACE:case Cv.LINE_FEED:case Cv.TABULATION:case Cv.FORM_FEED:case Cv.SOLIDUS:case Cv.GREATER_THAN_SIGN:case Cv.EOF:this._leaveAttrName(),this.state=Jv.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case Cv.EQUALS_SIGN:this._leaveAttrName(),this.state=Jv.BEFORE_ATTRIBUTE_VALUE;break;case Cv.QUOTATION_MARK:case Cv.APOSTROPHE:case Cv.LESS_THAN_SIGN:this._err(_v.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break;case Cv.NULL:this._err(_v.unexpectedNullCharacter),this.currentAttr.name+=Ev;break;default:this.currentAttr.name+=String.fromCodePoint(tE(e)?rE(e):e)}}_stateAfterAttributeName(e){switch(e){case Cv.SPACE:case Cv.LINE_FEED:case Cv.TABULATION:case Cv.FORM_FEED:break;case Cv.SOLIDUS:this.state=Jv.SELF_CLOSING_START_TAG;break;case Cv.EQUALS_SIGN:this.state=Jv.BEFORE_ATTRIBUTE_VALUE;break;case Cv.GREATER_THAN_SIGN:this.state=Jv.DATA,this.emitCurrentTagToken();break;case Cv.EOF:this._err(_v.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=Jv.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case Cv.SPACE:case Cv.LINE_FEED:case Cv.TABULATION:case Cv.FORM_FEED:break;case Cv.QUOTATION_MARK:this.state=Jv.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case Cv.APOSTROPHE:this.state=Jv.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case Cv.GREATER_THAN_SIGN:this._err(_v.missingAttributeValue),this.state=Jv.DATA,this.emitCurrentTagToken();break;default:this.state=Jv.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case Cv.QUOTATION_MARK:this.state=Jv.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case Cv.AMPERSAND:this._startCharacterReference();break;case Cv.NULL:this._err(_v.unexpectedNullCharacter),this.currentAttr.value+=Ev;break;case Cv.EOF:this._err(_v.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case Cv.APOSTROPHE:this.state=Jv.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case Cv.AMPERSAND:this._startCharacterReference();break;case Cv.NULL:this._err(_v.unexpectedNullCharacter),this.currentAttr.value+=Ev;break;case Cv.EOF:this._err(_v.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case Cv.SPACE:case Cv.LINE_FEED:case Cv.TABULATION:case Cv.FORM_FEED:this._leaveAttrValue(),this.state=Jv.BEFORE_ATTRIBUTE_NAME;break;case Cv.AMPERSAND:this._startCharacterReference();break;case Cv.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=Jv.DATA,this.emitCurrentTagToken();break;case Cv.NULL:this._err(_v.unexpectedNullCharacter),this.currentAttr.value+=Ev;break;case Cv.QUOTATION_MARK:case Cv.APOSTROPHE:case Cv.LESS_THAN_SIGN:case Cv.EQUALS_SIGN:case Cv.GRAVE_ACCENT:this._err(_v.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break;case Cv.EOF:this._err(_v.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case Cv.SPACE:case Cv.LINE_FEED:case Cv.TABULATION:case Cv.FORM_FEED:this._leaveAttrValue(),this.state=Jv.BEFORE_ATTRIBUTE_NAME;break;case Cv.SOLIDUS:this._leaveAttrValue(),this.state=Jv.SELF_CLOSING_START_TAG;break;case Cv.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=Jv.DATA,this.emitCurrentTagToken();break;case Cv.EOF:this._err(_v.eofInTag),this._emitEOFToken();break;default:this._err(_v.missingWhitespaceBetweenAttributes),this.state=Jv.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case Cv.GREATER_THAN_SIGN:this.currentToken.selfClosing=!0,this.state=Jv.DATA,this.emitCurrentTagToken();break;case Cv.EOF:this._err(_v.eofInTag),this._emitEOFToken();break;default:this._err(_v.unexpectedSolidusInTag),this.state=Jv.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const t=this.currentToken;switch(e){case Cv.GREATER_THAN_SIGN:this.state=Jv.DATA,this.emitCurrentComment(t);break;case Cv.EOF:this.emitCurrentComment(t),this._emitEOFToken();break;case Cv.NULL:this._err(_v.unexpectedNullCharacter),t.data+=Ev;break;default:t.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch("--",!0)?(this._createCommentToken(3),this.state=Jv.COMMENT_START):this._consumeSequenceIfMatch(kv,!1)?(this.currentLocation=this.getCurrentLocation(8),this.state=Jv.DOCTYPE):this._consumeSequenceIfMatch(bv,!0)?this.inForeignNode?this.state=Jv.CDATA_SECTION:(this._err(_v.cdataInHtmlContent),this._createCommentToken(8),this.currentToken.data="[CDATA[",this.state=Jv.BOGUS_COMMENT):this._ensureHibernation()||(this._err(_v.incorrectlyOpenedComment),this._createCommentToken(2),this.state=Jv.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case Cv.HYPHEN_MINUS:this.state=Jv.COMMENT_START_DASH;break;case Cv.GREATER_THAN_SIGN:{this._err(_v.abruptClosingOfEmptyComment),this.state=Jv.DATA;const e=this.currentToken;this.emitCurrentComment(e);break}default:this.state=Jv.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const t=this.currentToken;switch(e){case Cv.HYPHEN_MINUS:this.state=Jv.COMMENT_END;break;case Cv.GREATER_THAN_SIGN:this._err(_v.abruptClosingOfEmptyComment),this.state=Jv.DATA,this.emitCurrentComment(t);break;case Cv.EOF:this._err(_v.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=Jv.COMMENT,this._stateComment(e)}}_stateComment(e){const t=this.currentToken;switch(e){case Cv.HYPHEN_MINUS:this.state=Jv.COMMENT_END_DASH;break;case Cv.LESS_THAN_SIGN:t.data+="<",this.state=Jv.COMMENT_LESS_THAN_SIGN;break;case Cv.NULL:this._err(_v.unexpectedNullCharacter),t.data+=Ev;break;case Cv.EOF:this._err(_v.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const t=this.currentToken;switch(e){case Cv.EXCLAMATION_MARK:t.data+="!",this.state=Jv.COMMENT_LESS_THAN_SIGN_BANG;break;case Cv.LESS_THAN_SIGN:t.data+="<";break;default:this.state=Jv.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===Cv.HYPHEN_MINUS?this.state=Jv.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=Jv.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===Cv.HYPHEN_MINUS?this.state=Jv.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=Jv.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==Cv.GREATER_THAN_SIGN&&e!==Cv.EOF&&this._err(_v.nestedComment),this.state=Jv.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const t=this.currentToken;switch(e){case Cv.HYPHEN_MINUS:this.state=Jv.COMMENT_END;break;case Cv.EOF:this._err(_v.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=Jv.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const t=this.currentToken;switch(e){case Cv.GREATER_THAN_SIGN:this.state=Jv.DATA,this.emitCurrentComment(t);break;case Cv.EXCLAMATION_MARK:this.state=Jv.COMMENT_END_BANG;break;case Cv.HYPHEN_MINUS:t.data+="-";break;case Cv.EOF:this._err(_v.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--",this.state=Jv.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const t=this.currentToken;switch(e){case Cv.HYPHEN_MINUS:t.data+="--!",this.state=Jv.COMMENT_END_DASH;break;case Cv.GREATER_THAN_SIGN:this._err(_v.incorrectlyClosedComment),this.state=Jv.DATA,this.emitCurrentComment(t);break;case Cv.EOF:this._err(_v.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--!",this.state=Jv.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case Cv.SPACE:case Cv.LINE_FEED:case Cv.TABULATION:case Cv.FORM_FEED:this.state=Jv.BEFORE_DOCTYPE_NAME;break;case Cv.GREATER_THAN_SIGN:this.state=Jv.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break;case Cv.EOF:{this._err(_v.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._err(_v.missingWhitespaceBeforeDoctypeName),this.state=Jv.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(tE(e))this._createDoctypeToken(String.fromCharCode(rE(e))),this.state=Jv.DOCTYPE_NAME;else switch(e){case Cv.SPACE:case Cv.LINE_FEED:case Cv.TABULATION:case Cv.FORM_FEED:break;case Cv.NULL:this._err(_v.unexpectedNullCharacter),this._createDoctypeToken(Ev),this.state=Jv.DOCTYPE_NAME;break;case Cv.GREATER_THAN_SIGN:{this._err(_v.missingDoctypeName),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=Jv.DATA;break}case Cv.EOF:{this._err(_v.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=Jv.DOCTYPE_NAME}}_stateDoctypeName(e){const t=this.currentToken;switch(e){case Cv.SPACE:case Cv.LINE_FEED:case Cv.TABULATION:case Cv.FORM_FEED:this.state=Jv.AFTER_DOCTYPE_NAME;break;case Cv.GREATER_THAN_SIGN:this.state=Jv.DATA,this.emitCurrentDoctype(t);break;case Cv.NULL:this._err(_v.unexpectedNullCharacter),t.name+=Ev;break;case Cv.EOF:this._err(_v.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.name+=String.fromCodePoint(tE(e)?rE(e):e)}}_stateAfterDoctypeName(e){const t=this.currentToken;switch(e){case Cv.SPACE:case Cv.LINE_FEED:case Cv.TABULATION:case Cv.FORM_FEED:break;case Cv.GREATER_THAN_SIGN:this.state=Jv.DATA,this.emitCurrentDoctype(t);break;case Cv.EOF:this._err(_v.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._consumeSequenceIfMatch("public",!1)?this.state=Jv.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch("system",!1)?this.state=Jv.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(_v.invalidCharacterSequenceAfterDoctypeName),t.forceQuirks=!0,this.state=Jv.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const t=this.currentToken;switch(e){case Cv.SPACE:case Cv.LINE_FEED:case Cv.TABULATION:case Cv.FORM_FEED:this.state=Jv.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case Cv.QUOTATION_MARK:this._err(_v.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=Jv.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case Cv.APOSTROPHE:this._err(_v.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=Jv.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case Cv.GREATER_THAN_SIGN:this._err(_v.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=Jv.DATA,this.emitCurrentDoctype(t);break;case Cv.EOF:this._err(_v.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(_v.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=Jv.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case Cv.SPACE:case Cv.LINE_FEED:case Cv.TABULATION:case Cv.FORM_FEED:break;case Cv.QUOTATION_MARK:t.publicId="",this.state=Jv.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case Cv.APOSTROPHE:t.publicId="",this.state=Jv.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case Cv.GREATER_THAN_SIGN:this._err(_v.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=Jv.DATA,this.emitCurrentDoctype(t);break;case Cv.EOF:this._err(_v.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(_v.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=Jv.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case Cv.QUOTATION_MARK:this.state=Jv.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case Cv.NULL:this._err(_v.unexpectedNullCharacter),t.publicId+=Ev;break;case Cv.GREATER_THAN_SIGN:this._err(_v.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=Jv.DATA;break;case Cv.EOF:this._err(_v.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case Cv.APOSTROPHE:this.state=Jv.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case Cv.NULL:this._err(_v.unexpectedNullCharacter),t.publicId+=Ev;break;case Cv.GREATER_THAN_SIGN:this._err(_v.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=Jv.DATA;break;case Cv.EOF:this._err(_v.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case Cv.SPACE:case Cv.LINE_FEED:case Cv.TABULATION:case Cv.FORM_FEED:this.state=Jv.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case Cv.GREATER_THAN_SIGN:this.state=Jv.DATA,this.emitCurrentDoctype(t);break;case Cv.QUOTATION_MARK:this._err(_v.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=Jv.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Cv.APOSTROPHE:this._err(_v.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=Jv.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Cv.EOF:this._err(_v.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(_v.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Jv.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const t=this.currentToken;switch(e){case Cv.SPACE:case Cv.LINE_FEED:case Cv.TABULATION:case Cv.FORM_FEED:break;case Cv.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=Jv.DATA;break;case Cv.QUOTATION_MARK:t.systemId="",this.state=Jv.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Cv.APOSTROPHE:t.systemId="",this.state=Jv.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Cv.EOF:this._err(_v.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(_v.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Jv.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const t=this.currentToken;switch(e){case Cv.SPACE:case Cv.LINE_FEED:case Cv.TABULATION:case Cv.FORM_FEED:this.state=Jv.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case Cv.QUOTATION_MARK:this._err(_v.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=Jv.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Cv.APOSTROPHE:this._err(_v.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=Jv.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Cv.GREATER_THAN_SIGN:this._err(_v.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Jv.DATA,this.emitCurrentDoctype(t);break;case Cv.EOF:this._err(_v.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(_v.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Jv.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case Cv.SPACE:case Cv.LINE_FEED:case Cv.TABULATION:case Cv.FORM_FEED:break;case Cv.QUOTATION_MARK:t.systemId="",this.state=Jv.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Cv.APOSTROPHE:t.systemId="",this.state=Jv.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Cv.GREATER_THAN_SIGN:this._err(_v.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Jv.DATA,this.emitCurrentDoctype(t);break;case Cv.EOF:this._err(_v.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(_v.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Jv.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case Cv.QUOTATION_MARK:this.state=Jv.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case Cv.NULL:this._err(_v.unexpectedNullCharacter),t.systemId+=Ev;break;case Cv.GREATER_THAN_SIGN:this._err(_v.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=Jv.DATA;break;case Cv.EOF:this._err(_v.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case Cv.APOSTROPHE:this.state=Jv.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case Cv.NULL:this._err(_v.unexpectedNullCharacter),t.systemId+=Ev;break;case Cv.GREATER_THAN_SIGN:this._err(_v.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=Jv.DATA;break;case Cv.EOF:this._err(_v.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case Cv.SPACE:case Cv.LINE_FEED:case Cv.TABULATION:case Cv.FORM_FEED:break;case Cv.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=Jv.DATA;break;case Cv.EOF:this._err(_v.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(_v.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=Jv.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const t=this.currentToken;switch(e){case Cv.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=Jv.DATA;break;case Cv.NULL:this._err(_v.unexpectedNullCharacter);break;case Cv.EOF:this.emitCurrentDoctype(t),this._emitEOFToken()}}_stateCdataSection(e){switch(e){case Cv.RIGHT_SQUARE_BRACKET:this.state=Jv.CDATA_SECTION_BRACKET;break;case Cv.EOF:this._err(_v.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===Cv.RIGHT_SQUARE_BRACKET?this.state=Jv.CDATA_SECTION_END:(this._emitChars("]"),this.state=Jv.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case Cv.GREATER_THAN_SIGN:this.state=Jv.DATA;break;case Cv.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=Jv.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0){if(!this.preprocessor.lastChunkWritten)return this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,void(this.preprocessor.endOfChunkHit=!0);e=this.entityDecoder.end()}0===e?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(Cv.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&iE(this.preprocessor.peek(1))?Jv.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){iE(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===Cv.SEMICOLON&&this._err(_v.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const uE=new Set([qv.DD,qv.DT,qv.LI,qv.OPTGROUP,qv.OPTION,qv.P,qv.RB,qv.RP,qv.RT,qv.RTC]),lE=new Set([...uE,qv.CAPTION,qv.COLGROUP,qv.TBODY,qv.TD,qv.TFOOT,qv.TH,qv.THEAD,qv.TR]),cE=new Set([qv.APPLET,qv.CAPTION,qv.HTML,qv.MARQUEE,qv.OBJECT,qv.TABLE,qv.TD,qv.TEMPLATE,qv.TH]),dE=new Set([...cE,qv.OL,qv.UL]),hE=new Set([...cE,qv.BUTTON]),pE=new Set([qv.ANNOTATION_XML,qv.MI,qv.MN,qv.MO,qv.MS,qv.MTEXT]),fE=new Set([qv.DESC,qv.FOREIGN_OBJECT,qv.TITLE]),mE=new Set([qv.TR,qv.TEMPLATE,qv.HTML]),OE=new Set([qv.TBODY,qv.TFOOT,qv.THEAD,qv.TEMPLATE,qv.HTML]),gE=new Set([qv.TABLE,qv.TEMPLATE,qv.HTML]),DE=new Set([qv.TD,qv.TH]);class vE{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,t,n){this.treeAdapter=t,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=qv.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===qv.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Mv.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,t){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=t,this.currentTagId=t,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,t,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,t){const n=this._indexOf(e);this.items[n]=t,n===this.stackTop&&(this.current=t)}insertAfter(e,t,n){const i=this._indexOf(e)+1;this.items.splice(i,0,t),this.tagIDs.splice(i,0,n),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&void 0!==this.currentTagId&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(e){let t=this.stackTop+1;do{t=this.tagIDs.lastIndexOf(e,t-1)}while(t>0&&this.treeAdapter.getNamespaceURI(this.items[t])!==Mv.HTML);this.shortenToLength(Math.max(t,0))}shortenToLength(e){for(;this.stackTop>=e;){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,this.stackTop<e)}}popUntilElementPopped(e){const t=this._indexOf(e);this.shortenToLength(Math.max(t,0))}popUntilPopped(e,t){const n=this._indexOfTagNames(e,t);this.shortenToLength(Math.max(n,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(Kv,Mv.HTML)}popUntilTableCellPopped(){this.popUntilPopped(DE,Mv.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,t){for(let n=this.stackTop;n>=0;n--)if(e.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===t)return n;return-1}clearBackTo(e,t){const n=this._indexOfTagNames(e,t);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(gE,Mv.HTML)}clearBackToTableBodyContext(){this.clearBackTo(OE,Mv.HTML)}clearBackToTableRowContext(){this.clearBackTo(mE,Mv.HTML)}remove(e){const t=this._indexOf(e);t>=0&&(t===this.stackTop?this.pop():(this.items.splice(t,1),this.tagIDs.splice(t,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===qv.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const t=this._indexOf(e)-1;return t>=0?this.items[t]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===qv.HTML}hasInDynamicScope(e,t){for(let n=this.stackTop;n>=0;n--){const i=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case Mv.HTML:if(i===e)return!0;if(t.has(i))return!1;break;case Mv.SVG:if(fE.has(i))return!1;break;case Mv.MATHML:if(pE.has(i))return!1}}return!0}hasInScope(e){return this.hasInDynamicScope(e,cE)}hasInListItemScope(e){return this.hasInDynamicScope(e,dE)}hasInButtonScope(e){return this.hasInDynamicScope(e,hE)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const t=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case Mv.HTML:if(Kv.has(t))return!0;if(cE.has(t))return!1;break;case Mv.SVG:if(fE.has(t))return!1;break;case Mv.MATHML:if(pE.has(t))return!1}}return!0}hasInTableScope(e){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===Mv.HTML)switch(this.tagIDs[t]){case e:return!0;case qv.TABLE:case qv.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===Mv.HTML)switch(this.tagIDs[e]){case qv.TBODY:case qv.THEAD:case qv.TFOOT:return!0;case qv.TABLE:case qv.HTML:return!1}return!0}hasInSelectScope(e){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===Mv.HTML)switch(this.tagIDs[t]){case e:return!0;case qv.OPTION:case qv.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;void 0!==this.currentTagId&&uE.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;void 0!==this.currentTagId&&lE.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;void 0!==this.currentTagId&&this.currentTagId!==e&&lE.has(this.currentTagId);)this.pop()}}var EE;!function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"}(EE||(EE={}));const CE={type:EE.Marker};class bE{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,t){const n=[],i=t.length,r=this.treeAdapter.getTagName(e),a=this.treeAdapter.getNamespaceURI(e);for(let e=0;e<this.entries.length;e++){const t=this.entries[e];if(t.type===EE.Marker)break;const{element:o}=t;if(this.treeAdapter.getTagName(o)===r&&this.treeAdapter.getNamespaceURI(o)===a){const t=this.treeAdapter.getAttrList(o);t.length===i&&n.push({idx:e,attrs:t})}}return n}_ensureNoahArkCondition(e){if(this.entries.length<3)return;const t=this.treeAdapter.getAttrList(e),n=this._getNoahArkConditionCandidates(e,t);if(n.length<3)return;const i=new Map(t.map(e=>[e.name,e.value]));let r=0;for(let e=0;e<n.length;e++){const t=n[e];t.attrs.every(e=>i.get(e.name)===e.value)&&(r+=1,r>=3&&this.entries.splice(t.idx,1))}}insertMarker(){this.entries.unshift(CE)}pushElement(e,t){this._ensureNoahArkCondition(e),this.entries.unshift({type:EE.Element,element:e,token:t})}insertElementAfterBookmark(e,t){const n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:EE.Element,element:e,token:t})}removeEntry(e){const t=this.entries.indexOf(e);-1!==t&&this.entries.splice(t,1)}clearToLastMarker(){const e=this.entries.indexOf(CE);-1===e?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const t=this.entries.find(t=>t.type===EE.Marker||this.treeAdapter.getTagName(t.element)===e);return t&&t.type===EE.Element?t:null}getElementEntry(e){return this.entries.find(t=>t.type===EE.Element&&t.element===e)}}const kE={createDocument:()=>({nodeName:"#document",mode:$v.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(e,t,n)=>({nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}),createCommentNode:e=>({nodeName:"#comment",data:e,parentNode:null}),createTextNode:e=>({nodeName:"#text",value:e,parentNode:null}),appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const i=e.childNodes.indexOf(n);e.childNodes.splice(i,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent:e=>e.content,setDocumentType(e,t,n,i){const r=e.childNodes.find(e=>"#documentType"===e.nodeName);if(r)r.name=t,r.publicId=n,r.systemId=i;else{const r={nodeName:"#documentType",name:t,publicId:n,systemId:i,parentNode:null};kE.appendChild(e,r)}},setDocumentMode(e,t){e.mode=t},getDocumentMode:e=>e.mode,detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(kE.isTextNode(n))return void(n.value+=t)}kE.appendChild(e,kE.createTextNode(t))},insertTextBefore(e,t,n){const i=e.childNodes[e.childNodes.indexOf(n)-1];i&&kE.isTextNode(i)?i.value+=t:kE.insertBefore(e,kE.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(e=>e.name));for(let i=0;i<t.length;i++)n.has(t[i].name)||e.attrs.push(t[i])},getFirstChild:e=>e.childNodes[0],getChildNodes:e=>e.childNodes,getParentNode:e=>e.parentNode,getAttrList:e=>e.attrs,getTagName:e=>e.tagName,getNamespaceURI:e=>e.namespaceURI,getTextNodeContent:e=>e.value,getCommentNodeContent:e=>e.data,getDocumentTypeNodeName:e=>e.name,getDocumentTypeNodePublicId:e=>e.publicId,getDocumentTypeNodeSystemId:e=>e.systemId,isTextNode:e=>"#text"===e.nodeName,isCommentNode:e=>"#comment"===e.nodeName,isDocumentTypeNode:e=>"#documentType"===e.nodeName,isElementNode:e=>Object.prototype.hasOwnProperty.call(e,"tagName"),setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation:e=>e.sourceCodeLocation,updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation=p(p({},e.sourceCodeLocation),t)}},TE="html",yE=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],AE=[...yE,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],SE=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),_E=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],FE=[..._E,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function wE(e,t){return t.some(t=>e.startsWith(t))}const xE=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),PE=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Mv.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Mv.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Mv.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Mv.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Mv.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Mv.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Mv.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Mv.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Mv.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Mv.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Mv.XMLNS}]]),RE=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),IE=new Set([qv.B,qv.BIG,qv.BLOCKQUOTE,qv.BODY,qv.BR,qv.CENTER,qv.CODE,qv.DD,qv.DIV,qv.DL,qv.DT,qv.EM,qv.EMBED,qv.H1,qv.H2,qv.H3,qv.H4,qv.H5,qv.H6,qv.HEAD,qv.HR,qv.I,qv.IMG,qv.LI,qv.LISTING,qv.MENU,qv.META,qv.NOBR,qv.OL,qv.P,qv.PRE,qv.RUBY,qv.S,qv.SMALL,qv.SPAN,qv.STRONG,qv.STRIKE,qv.SUB,qv.SUP,qv.TABLE,qv.TT,qv.U,qv.UL,qv.VAR]);function QE(e){for(let t=0;t<e.attrs.length;t++)if("definitionurl"===e.attrs[t].name){e.attrs[t].name="definitionURL";break}}function NE(e){for(let t=0;t<e.attrs.length;t++){const n=xE.get(e.attrs[t].name);null!=n&&(e.attrs[t].name=n)}}function BE(e){for(let t=0;t<e.attrs.length;t++){const n=PE.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}var ME;!function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"}(ME||(ME={}));const LE={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},$E=new Set([qv.TABLE,qv.TBODY,qv.TFOOT,qv.THEAD,qv.TR]),UE={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:kE,onParseError:null};let qE=class{constructor(e,t,n=null,i=null){this.fragmentContext=n,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=ME.INITIAL,this.originalInsertionMode=ME.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options=p(p({},UE),e),this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!=t?t:this.treeAdapter.createDocument(),this.tokenizer=new sE(this.options,this),this.activeFormattingElements=new bE(this.treeAdapter),this.fragmentContextID=n?Vv(this.treeAdapter.getTagName(n)):qv.UNKNOWN,this._setContextModes(null!=n?n:this.document,this.fragmentContextID),this.openElements=new vE(this.document,this.treeAdapter,this)}static parse(e,t){const n=new this(t);return n.tokenizer.write(e,!0),n.document}static getFragmentParser(e,t){const n=p(p({},UE),t);null!=e||(e=n.treeAdapter.createElement(Uv.TEMPLATE,Mv.HTML,[]));const i=n.treeAdapter.createElement("documentmock",Mv.HTML,[]),r=new this(n,i,e);return r.fragmentContextID===qv.TEMPLATE&&r.tmplInsertionModeStack.unshift(ME.IN_TEMPLATE),r._initTokenizerForFragmentParsing(),r._insertFakeRootElement(),r._resetInsertionMode(),r._findFormInFragmentContext(),r}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,t),t}_err(e,t,n){var i;if(!this.onParseError)return;const r=null!==(i=e.location)&&void 0!==i?i:LE,a={code:t,startLine:r.startLine,startCol:r.startCol,startOffset:r.startOffset,endLine:n?r.startLine:r.endLine,endCol:n?r.startCol:r.endCol,endOffset:n?r.startOffset:r.endOffset};this.onParseError(a)}onItemPush(e,t,n){var i,r;null===(r=(i=this.treeAdapter).onItemPush)||void 0===r||r.call(i,e),n&&this.openElements.stackTop>0&&this._setContextModes(e,t)}onItemPop(e,t){var n,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),null===(i=(n=this.treeAdapter).onItemPop)||void 0===i||i.call(n,e,this.openElements.current),t){let e,t;0===this.openElements.stackTop&&this.fragmentContext?(e=this.fragmentContext,t=this.fragmentContextID):({current:e,currentTagId:t}=this.openElements),this._setContextModes(e,t)}}_setContextModes(e,t){const n=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===Mv.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&void 0!==e&&void 0!==t&&!this._isIntegrationPoint(t,e)}_switchToTextParsing(e,t){this._insertElement(e,Mv.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=ME.TEXT}switchToPlaintextParsing(){this.insertionMode=ME.TEXT,this.originalInsertionMode=ME.IN_BODY,this.tokenizer.state=eE.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===Uv.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===Mv.HTML)switch(this.fragmentContextID){case qv.TITLE:case qv.TEXTAREA:this.tokenizer.state=eE.RCDATA;break;case qv.STYLE:case qv.XMP:case qv.IFRAME:case qv.NOEMBED:case qv.NOFRAMES:case qv.NOSCRIPT:this.tokenizer.state=eE.RAWTEXT;break;case qv.SCRIPT:this.tokenizer.state=eE.SCRIPT_DATA;break;case qv.PLAINTEXT:this.tokenizer.state=eE.PLAINTEXT}}_setDocumentType(e){const t=e.name||"",n=e.publicId||"",i=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,t,n,i),e.location){const t=this.treeAdapter.getChildNodes(this.document).find(e=>this.treeAdapter.isDocumentTypeNode(e));t&&this.treeAdapter.setNodeSourceCodeLocation(t,e.location)}}_attachElementToTree(e,t){if(this.options.sourceCodeLocationInfo){const n=t&&p(p({},t),{},{startTag:t});this.treeAdapter.setNodeSourceCodeLocation(e,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const t=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(null!=t?t:this.document,e)}}_appendElement(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location)}_insertElement(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID)}_insertFakeElement(e,t){const n=this.treeAdapter.createElement(e,Mv.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,t)}_insertTemplate(e){const t=this.treeAdapter.createElement(e.tagName,Mv.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t,e.location),this.openElements.push(t,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(Uv.HTML,Mv.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,qv.HTML)}_appendCommentNode(e,t){const n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,e.location)}_insertCharacters(e){let t,n;if(this._shouldFosterParentOnInsertion()?(({parent:t,beforeElement:n}=this._findFosterParentingLocation()),n?this.treeAdapter.insertTextBefore(t,e.chars,n):this.treeAdapter.insertText(t,e.chars)):(t=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(t,e.chars)),!e.location)return;const i=this.treeAdapter.getChildNodes(t),r=n?i.lastIndexOf(n):i.length,a=i[r-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:t,endCol:n,endOffset:i}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:t,endCol:n,endOffset:i})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,e.location)}_adoptNodes(e,t){for(let n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n)}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){const n=t.location,i=this.treeAdapter.getTagName(e),r=t.type===Fv.END_TAG&&i===t.tagName?{endTag:p({},n),endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,r)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let t,n;return 0===this.openElements.stackTop&&this.fragmentContext?(t=this.fragmentContext,n=this.fragmentContextID):({current:t,currentTagId:n}=this.openElements),(e.tagID!==qv.SVG||this.treeAdapter.getTagName(t)!==Uv.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(t)!==Mv.MATHML)&&(this.tokenizer.inForeignNode||(e.tagID===qv.MGLYPH||e.tagID===qv.MALIGNMARK)&&void 0!==n&&!this._isIntegrationPoint(n,t,Mv.HTML))}_processToken(e){switch(e.type){case Fv.CHARACTER:this.onCharacter(e);break;case Fv.NULL_CHARACTER:this.onNullCharacter(e);break;case Fv.COMMENT:this.onComment(e);break;case Fv.DOCTYPE:this.onDoctype(e);break;case Fv.START_TAG:this._processStartTag(e);break;case Fv.END_TAG:this.onEndTag(e);break;case Fv.EOF:this.onEof(e);break;case Fv.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(e)}}_isIntegrationPoint(e,t,n){return function(e,t,n,i){return(!i||i===Mv.HTML)&&function(e,t,n){if(t===Mv.MATHML&&e===qv.ANNOTATION_XML)for(let e=0;e<n.length;e++)if(n[e].name===Lv.ENCODING){const t=n[e].value.toLowerCase();return"text/html"===t||"application/xhtml+xml"===t}return t===Mv.SVG&&(e===qv.FOREIGN_OBJECT||e===qv.DESC||e===qv.TITLE)}(e,t,n)||(!i||i===Mv.MATHML)&&function(e,t){return t===Mv.MATHML&&(e===qv.MI||e===qv.MO||e===qv.MN||e===qv.MS||e===qv.MTEXT)}(e,t)}(e,this.treeAdapter.getNamespaceURI(t),this.treeAdapter.getAttrList(t),n)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const t=this.activeFormattingElements.entries.findIndex(e=>e.type===EE.Marker||this.openElements.contains(e.element));for(let n=-1===t?e-1:t-1;n>=0;n--){const e=this.activeFormattingElements.entries[n];this._insertElement(e.token,this.treeAdapter.getNamespaceURI(e.element)),e.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=ME.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(qv.P),this.openElements.popUntilTagNamePopped(qv.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(0===e&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case qv.TR:return void(this.insertionMode=ME.IN_ROW);case qv.TBODY:case qv.THEAD:case qv.TFOOT:return void(this.insertionMode=ME.IN_TABLE_BODY);case qv.CAPTION:return void(this.insertionMode=ME.IN_CAPTION);case qv.COLGROUP:return void(this.insertionMode=ME.IN_COLUMN_GROUP);case qv.TABLE:return void(this.insertionMode=ME.IN_TABLE);case qv.BODY:return void(this.insertionMode=ME.IN_BODY);case qv.FRAMESET:return void(this.insertionMode=ME.IN_FRAMESET);case qv.SELECT:return void this._resetInsertionModeForSelect(e);case qv.TEMPLATE:return void(this.insertionMode=this.tmplInsertionModeStack[0]);case qv.HTML:return void(this.insertionMode=this.headElement?ME.AFTER_HEAD:ME.BEFORE_HEAD);case qv.TD:case qv.TH:if(e>0)return void(this.insertionMode=ME.IN_CELL);break;case qv.HEAD:if(e>0)return void(this.insertionMode=ME.IN_HEAD)}this.insertionMode=ME.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){const e=this.openElements.tagIDs[t];if(e===qv.TEMPLATE)break;if(e===qv.TABLE)return void(this.insertionMode=ME.IN_SELECT_IN_TABLE)}this.insertionMode=ME.IN_SELECT}_isElementCausesFosterParenting(e){return $E.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&void 0!==this.openElements.currentTagId&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const t=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case qv.TEMPLATE:if(this.treeAdapter.getNamespaceURI(t)===Mv.HTML)return{parent:this.treeAdapter.getTemplateContent(t),beforeElement:null};break;case qv.TABLE:{const n=this.treeAdapter.getParentNode(t);return n?{parent:n,beforeElement:t}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)}_isSpecialElement(e,t){const n=this.treeAdapter.getNamespaceURI(e);return Hv[n].has(t)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){e._insertCharacters(t),e.framesetOk=!1}(this,e);else switch(this.insertionMode){case ME.INITIAL:KE(this,e);break;case ME.BEFORE_HTML:JE(this,e);break;case ME.BEFORE_HEAD:eC(this,e);break;case ME.IN_HEAD:iC(this,e);break;case ME.IN_HEAD_NO_SCRIPT:rC(this,e);break;case ME.AFTER_HEAD:aC(this,e);break;case ME.IN_BODY:case ME.IN_CAPTION:case ME.IN_CELL:case ME.IN_TEMPLATE:uC(this,e);break;case ME.TEXT:case ME.IN_SELECT:case ME.IN_SELECT_IN_TABLE:this._insertCharacters(e);break;case ME.IN_TABLE:case ME.IN_TABLE_BODY:case ME.IN_ROW:gC(this,e);break;case ME.IN_TABLE_TEXT:bC(this,e);break;case ME.IN_COLUMN_GROUP:AC(this,e);break;case ME.AFTER_BODY:QC(this,e);break;case ME.AFTER_AFTER_BODY:NC(this,e)}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){t.chars=Ev,e._insertCharacters(t)}(this,e);else switch(this.insertionMode){case ME.INITIAL:KE(this,e);break;case ME.BEFORE_HTML:JE(this,e);break;case ME.BEFORE_HEAD:eC(this,e);break;case ME.IN_HEAD:iC(this,e);break;case ME.IN_HEAD_NO_SCRIPT:rC(this,e);break;case ME.AFTER_HEAD:aC(this,e);break;case ME.TEXT:this._insertCharacters(e);break;case ME.IN_TABLE:case ME.IN_TABLE_BODY:case ME.IN_ROW:gC(this,e);break;case ME.IN_COLUMN_GROUP:AC(this,e);break;case ME.AFTER_BODY:QC(this,e);break;case ME.AFTER_AFTER_BODY:NC(this,e)}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML)YE(this,e);else switch(this.insertionMode){case ME.INITIAL:case ME.BEFORE_HTML:case ME.BEFORE_HEAD:case ME.IN_HEAD:case ME.IN_HEAD_NO_SCRIPT:case ME.AFTER_HEAD:case ME.IN_BODY:case ME.IN_TABLE:case ME.IN_CAPTION:case ME.IN_COLUMN_GROUP:case ME.IN_TABLE_BODY:case ME.IN_ROW:case ME.IN_CELL:case ME.IN_SELECT:case ME.IN_SELECT_IN_TABLE:case ME.IN_TEMPLATE:case ME.IN_FRAMESET:case ME.AFTER_FRAMESET:YE(this,e);break;case ME.IN_TABLE_TEXT:kC(this,e);break;case ME.AFTER_BODY:!function(e,t){e._appendCommentNode(t,e.openElements.items[0])}(this,e);break;case ME.AFTER_AFTER_BODY:case ME.AFTER_AFTER_FRAMESET:!function(e,t){e._appendCommentNode(t,e.document)}(this,e)}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case ME.INITIAL:!function(e,t){e._setDocumentType(t);const n=t.forceQuirks?$v.QUIRKS:function(e){if(e.name!==TE)return $v.QUIRKS;const{systemId:t}=e;if(t&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===t.toLowerCase())return $v.QUIRKS;let{publicId:n}=e;if(null!==n){if(n=n.toLowerCase(),SE.has(n))return $v.QUIRKS;let e=null===t?AE:yE;if(wE(n,e))return $v.QUIRKS;if(e=null===t?_E:FE,wE(n,e))return $v.LIMITED_QUIRKS}return $v.NO_QUIRKS}(t);(function(e){return e.name===TE&&null===e.publicId&&(null===e.systemId||"about:legacy-compat"===e.systemId)})(t)||e._err(t,_v.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=ME.BEFORE_HTML}(this,e);break;case ME.BEFORE_HEAD:case ME.IN_HEAD:case ME.IN_HEAD_NO_SCRIPT:case ME.AFTER_HEAD:this._err(e,_v.misplacedDoctype);break;case ME.IN_TABLE_TEXT:kC(this,e)}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,_v.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?function(e,t){if(function(e){const t=e.tagID;return t===qv.FONT&&e.attrs.some(({name:e})=>e===Lv.COLOR||e===Lv.SIZE||e===Lv.FACE)||IE.has(t)}(t))BC(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),i=e.treeAdapter.getNamespaceURI(n);i===Mv.MATHML?QE(t):i===Mv.SVG&&(function(e){const t=RE.get(e.tagName);null!=t&&(e.tagName=t,e.tagID=Vv(e.tagName))}(t),NE(t)),BE(t),t.selfClosing?e._appendElement(t,i):e._insertElement(t,i),t.ackSelfClosing=!0}}(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case ME.INITIAL:KE(this,e);break;case ME.BEFORE_HTML:!function(e,t){t.tagID===qv.HTML?(e._insertElement(t,Mv.HTML),e.insertionMode=ME.BEFORE_HEAD):JE(e,t)}(this,e);break;case ME.BEFORE_HEAD:!function(e,t){switch(t.tagID){case qv.HTML:pC(e,t);break;case qv.HEAD:e._insertElement(t,Mv.HTML),e.headElement=e.openElements.current,e.insertionMode=ME.IN_HEAD;break;default:eC(e,t)}}(this,e);break;case ME.IN_HEAD:tC(this,e);break;case ME.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case qv.HTML:pC(e,t);break;case qv.BASEFONT:case qv.BGSOUND:case qv.HEAD:case qv.LINK:case qv.META:case qv.NOFRAMES:case qv.STYLE:tC(e,t);break;case qv.NOSCRIPT:e._err(t,_v.nestedNoscriptInHead);break;default:rC(e,t)}}(this,e);break;case ME.AFTER_HEAD:!function(e,t){switch(t.tagID){case qv.HTML:pC(e,t);break;case qv.BODY:e._insertElement(t,Mv.HTML),e.framesetOk=!1,e.insertionMode=ME.IN_BODY;break;case qv.FRAMESET:e._insertElement(t,Mv.HTML),e.insertionMode=ME.IN_FRAMESET;break;case qv.BASE:case qv.BASEFONT:case qv.BGSOUND:case qv.LINK:case qv.META:case qv.NOFRAMES:case qv.SCRIPT:case qv.STYLE:case qv.TEMPLATE:case qv.TITLE:e._err(t,_v.abandonedHeadElementChild),e.openElements.push(e.headElement,qv.HEAD),tC(e,t),e.openElements.remove(e.headElement);break;case qv.HEAD:e._err(t,_v.misplacedStartTagForHeadElement);break;default:aC(e,t)}}(this,e);break;case ME.IN_BODY:pC(this,e);break;case ME.IN_TABLE:DC(this,e);break;case ME.IN_TABLE_TEXT:kC(this,e);break;case ME.IN_CAPTION:!function(e,t){const n=t.tagID;TC.has(n)?e.openElements.hasInTableScope(qv.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(qv.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ME.IN_TABLE,DC(e,t)):pC(e,t)}(this,e);break;case ME.IN_COLUMN_GROUP:yC(this,e);break;case ME.IN_TABLE_BODY:SC(this,e);break;case ME.IN_ROW:FC(this,e);break;case ME.IN_CELL:!function(e,t){const n=t.tagID;TC.has(n)?(e.openElements.hasInTableScope(qv.TD)||e.openElements.hasInTableScope(qv.TH))&&(e._closeTableCell(),FC(e,t)):pC(e,t)}(this,e);break;case ME.IN_SELECT:xC(this,e);break;case ME.IN_SELECT_IN_TABLE:!function(e,t){const n=t.tagID;n===qv.CAPTION||n===qv.TABLE||n===qv.TBODY||n===qv.TFOOT||n===qv.THEAD||n===qv.TR||n===qv.TD||n===qv.TH?(e.openElements.popUntilTagNamePopped(qv.SELECT),e._resetInsertionMode(),e._processStartTag(t)):xC(e,t)}(this,e);break;case ME.IN_TEMPLATE:!function(e,t){switch(t.tagID){case qv.BASE:case qv.BASEFONT:case qv.BGSOUND:case qv.LINK:case qv.META:case qv.NOFRAMES:case qv.SCRIPT:case qv.STYLE:case qv.TEMPLATE:case qv.TITLE:tC(e,t);break;case qv.CAPTION:case qv.COLGROUP:case qv.TBODY:case qv.TFOOT:case qv.THEAD:e.tmplInsertionModeStack[0]=ME.IN_TABLE,e.insertionMode=ME.IN_TABLE,DC(e,t);break;case qv.COL:e.tmplInsertionModeStack[0]=ME.IN_COLUMN_GROUP,e.insertionMode=ME.IN_COLUMN_GROUP,yC(e,t);break;case qv.TR:e.tmplInsertionModeStack[0]=ME.IN_TABLE_BODY,e.insertionMode=ME.IN_TABLE_BODY,SC(e,t);break;case qv.TD:case qv.TH:e.tmplInsertionModeStack[0]=ME.IN_ROW,e.insertionMode=ME.IN_ROW,FC(e,t);break;default:e.tmplInsertionModeStack[0]=ME.IN_BODY,e.insertionMode=ME.IN_BODY,pC(e,t)}}(this,e);break;case ME.AFTER_BODY:!function(e,t){t.tagID===qv.HTML?pC(e,t):QC(e,t)}(this,e);break;case ME.IN_FRAMESET:!function(e,t){switch(t.tagID){case qv.HTML:pC(e,t);break;case qv.FRAMESET:e._insertElement(t,Mv.HTML);break;case qv.FRAME:e._appendElement(t,Mv.HTML),t.ackSelfClosing=!0;break;case qv.NOFRAMES:tC(e,t)}}(this,e);break;case ME.AFTER_FRAMESET:!function(e,t){switch(t.tagID){case qv.HTML:pC(e,t);break;case qv.NOFRAMES:tC(e,t)}}(this,e);break;case ME.AFTER_AFTER_BODY:!function(e,t){t.tagID===qv.HTML?pC(e,t):NC(e,t)}(this,e);break;case ME.AFTER_AFTER_FRAMESET:!function(e,t){switch(t.tagID){case qv.HTML:pC(e,t);break;case qv.NOFRAMES:tC(e,t)}}(this,e)}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?function(e,t){if(t.tagID===qv.P||t.tagID===qv.BR)return BC(e),void e._endTagOutsideForeignContent(t);for(let n=e.openElements.stackTop;n>0;n--){const i=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(i)===Mv.HTML){e._endTagOutsideForeignContent(t);break}const r=e.treeAdapter.getTagName(i);if(r.toLowerCase()===t.tagName){t.tagName=r,e.openElements.shortenToLength(n);break}}}(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case ME.INITIAL:KE(this,e);break;case ME.BEFORE_HTML:!function(e,t){const n=t.tagID;(n===qv.HTML||n===qv.HEAD||n===qv.BODY||n===qv.BR)&&JE(e,t)}(this,e);break;case ME.BEFORE_HEAD:!function(e,t){const n=t.tagID;n===qv.HEAD||n===qv.BODY||n===qv.HTML||n===qv.BR?eC(e,t):e._err(t,_v.endTagWithoutMatchingOpenElement)}(this,e);break;case ME.IN_HEAD:!function(e,t){switch(t.tagID){case qv.HEAD:e.openElements.pop(),e.insertionMode=ME.AFTER_HEAD;break;case qv.BODY:case qv.BR:case qv.HTML:iC(e,t);break;case qv.TEMPLATE:nC(e,t);break;default:e._err(t,_v.endTagWithoutMatchingOpenElement)}}(this,e);break;case ME.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case qv.NOSCRIPT:e.openElements.pop(),e.insertionMode=ME.IN_HEAD;break;case qv.BR:rC(e,t);break;default:e._err(t,_v.endTagWithoutMatchingOpenElement)}}(this,e);break;case ME.AFTER_HEAD:!function(e,t){switch(t.tagID){case qv.BODY:case qv.HTML:case qv.BR:aC(e,t);break;case qv.TEMPLATE:nC(e,t);break;default:e._err(t,_v.endTagWithoutMatchingOpenElement)}}(this,e);break;case ME.IN_BODY:mC(this,e);break;case ME.TEXT:!function(e,t){var n;t.tagID===qv.SCRIPT&&(null===(n=e.scriptHandler)||void 0===n||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}(this,e);break;case ME.IN_TABLE:vC(this,e);break;case ME.IN_TABLE_TEXT:kC(this,e);break;case ME.IN_CAPTION:!function(e,t){const n=t.tagID;switch(n){case qv.CAPTION:case qv.TABLE:e.openElements.hasInTableScope(qv.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(qv.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ME.IN_TABLE,n===qv.TABLE&&vC(e,t));break;case qv.BODY:case qv.COL:case qv.COLGROUP:case qv.HTML:case qv.TBODY:case qv.TD:case qv.TFOOT:case qv.TH:case qv.THEAD:case qv.TR:break;default:mC(e,t)}}(this,e);break;case ME.IN_COLUMN_GROUP:!function(e,t){switch(t.tagID){case qv.COLGROUP:e.openElements.currentTagId===qv.COLGROUP&&(e.openElements.pop(),e.insertionMode=ME.IN_TABLE);break;case qv.TEMPLATE:nC(e,t);break;case qv.COL:break;default:AC(e,t)}}(this,e);break;case ME.IN_TABLE_BODY:_C(this,e);break;case ME.IN_ROW:wC(this,e);break;case ME.IN_CELL:!function(e,t){const n=t.tagID;switch(n){case qv.TD:case qv.TH:e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ME.IN_ROW);break;case qv.TABLE:case qv.TBODY:case qv.TFOOT:case qv.THEAD:case qv.TR:e.openElements.hasInTableScope(n)&&(e._closeTableCell(),wC(e,t));break;case qv.BODY:case qv.CAPTION:case qv.COL:case qv.COLGROUP:case qv.HTML:break;default:mC(e,t)}}(this,e);break;case ME.IN_SELECT:PC(this,e);break;case ME.IN_SELECT_IN_TABLE:!function(e,t){const n=t.tagID;n===qv.CAPTION||n===qv.TABLE||n===qv.TBODY||n===qv.TFOOT||n===qv.THEAD||n===qv.TR||n===qv.TD||n===qv.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(qv.SELECT),e._resetInsertionMode(),e.onEndTag(t)):PC(e,t)}(this,e);break;case ME.IN_TEMPLATE:!function(e,t){t.tagID===qv.TEMPLATE&&nC(e,t)}(this,e);break;case ME.AFTER_BODY:IC(this,e);break;case ME.IN_FRAMESET:!function(e,t){t.tagID===qv.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==qv.FRAMESET&&(e.insertionMode=ME.AFTER_FRAMESET))}(this,e);break;case ME.AFTER_FRAMESET:!function(e,t){t.tagID===qv.HTML&&(e.insertionMode=ME.AFTER_AFTER_FRAMESET)}(this,e);break;case ME.AFTER_AFTER_BODY:NC(this,e)}}onEof(e){switch(this.insertionMode){case ME.INITIAL:KE(this,e);break;case ME.BEFORE_HTML:JE(this,e);break;case ME.BEFORE_HEAD:eC(this,e);break;case ME.IN_HEAD:iC(this,e);break;case ME.IN_HEAD_NO_SCRIPT:rC(this,e);break;case ME.AFTER_HEAD:aC(this,e);break;case ME.IN_BODY:case ME.IN_TABLE:case ME.IN_CAPTION:case ME.IN_COLUMN_GROUP:case ME.IN_TABLE_BODY:case ME.IN_ROW:case ME.IN_CELL:case ME.IN_SELECT:case ME.IN_SELECT_IN_TABLE:OC(this,e);break;case ME.TEXT:!function(e,t){e._err(t,_v.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}(this,e);break;case ME.IN_TABLE_TEXT:kC(this,e);break;case ME.IN_TEMPLATE:RC(this,e);break;case ME.AFTER_BODY:case ME.IN_FRAMESET:case ME.AFTER_FRAMESET:case ME.AFTER_AFTER_BODY:case ME.AFTER_AFTER_FRAMESET:HE(this,e)}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===Cv.LINE_FEED)){if(1===e.chars.length)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode)this._insertCharacters(e);else switch(this.insertionMode){case ME.IN_HEAD:case ME.IN_HEAD_NO_SCRIPT:case ME.AFTER_HEAD:case ME.TEXT:case ME.IN_COLUMN_GROUP:case ME.IN_SELECT:case ME.IN_SELECT_IN_TABLE:case ME.IN_FRAMESET:case ME.AFTER_FRAMESET:this._insertCharacters(e);break;case ME.IN_BODY:case ME.IN_CAPTION:case ME.IN_CELL:case ME.IN_TEMPLATE:case ME.AFTER_BODY:case ME.AFTER_AFTER_BODY:case ME.AFTER_AFTER_FRAMESET:sC(this,e);break;case ME.IN_TABLE:case ME.IN_TABLE_BODY:case ME.IN_ROW:gC(this,e);break;case ME.IN_TABLE_TEXT:CC(this,e)}}};function XE(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):fC(e,t),n}function zE(e,t){let n=null,i=e.openElements.stackTop;for(;i>=0;i--){const r=e.openElements.items[i];if(r===t.element)break;e._isSpecialElement(r,e.openElements.tagIDs[i])&&(n=r)}return n||(e.openElements.shortenToLength(Math.max(i,0)),e.activeFormattingElements.removeEntry(t)),n}function ZE(e,t,n){let i=t,r=e.openElements.getCommonAncestor(t);for(let a=0,o=r;o!==n;a++,o=r){r=e.openElements.getCommonAncestor(o);const n=e.activeFormattingElements.getElementEntry(o),s=n&&a>=3;!n||s?(s&&e.activeFormattingElements.removeEntry(n),e.openElements.remove(o)):(o=jE(e,n),i===t&&(e.activeFormattingElements.bookmark=n),e.treeAdapter.detachNode(i),e.treeAdapter.appendChild(o,i),i=o)}return i}function jE(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),i=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,i),t.element=i,i}function WE(e,t,n){const i=Vv(e.treeAdapter.getTagName(t));if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const r=e.treeAdapter.getNamespaceURI(t);i===qv.TEMPLATE&&r===Mv.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function GE(e,t,n){const i=e.treeAdapter.getNamespaceURI(n.element),{token:r}=n,a=e.treeAdapter.createElement(r.tagName,i,r.attrs);e._adoptNodes(t,a),e.treeAdapter.appendChild(t,a),e.activeFormattingElements.insertElementAfterBookmark(a,r),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,a,r.tagID)}function VE(e,t){for(let n=0;n<8;n++){const n=XE(e,t);if(!n)break;const i=zE(e,n);if(!i)break;e.activeFormattingElements.bookmark=n;const r=ZE(e,i,n.element),a=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(r),a&&WE(e,a,r),GE(e,i,n)}}function YE(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function HE(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let i=e.openElements.stackTop;i>=n;i--)e._setEndLocation(e.openElements.items[i],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const n=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(n);if(i&&!i.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){const n=e.openElements.items[1],i=e.treeAdapter.getNodeSourceCodeLocation(n);i&&!i.endTag&&e._setEndLocation(n,t)}}}}function KE(e,t){e._err(t,_v.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,$v.QUIRKS),e.insertionMode=ME.BEFORE_HTML,e._processToken(t)}function JE(e,t){e._insertFakeRootElement(),e.insertionMode=ME.BEFORE_HEAD,e._processToken(t)}function eC(e,t){e._insertFakeElement(Uv.HEAD,qv.HEAD),e.headElement=e.openElements.current,e.insertionMode=ME.IN_HEAD,e._processToken(t)}function tC(e,t){switch(t.tagID){case qv.HTML:pC(e,t);break;case qv.BASE:case qv.BASEFONT:case qv.BGSOUND:case qv.LINK:case qv.META:e._appendElement(t,Mv.HTML),t.ackSelfClosing=!0;break;case qv.TITLE:e._switchToTextParsing(t,eE.RCDATA);break;case qv.NOSCRIPT:e.options.scriptingEnabled?e._switchToTextParsing(t,eE.RAWTEXT):(e._insertElement(t,Mv.HTML),e.insertionMode=ME.IN_HEAD_NO_SCRIPT);break;case qv.NOFRAMES:case qv.STYLE:e._switchToTextParsing(t,eE.RAWTEXT);break;case qv.SCRIPT:e._switchToTextParsing(t,eE.SCRIPT_DATA);break;case qv.TEMPLATE:e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=ME.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(ME.IN_TEMPLATE);break;case qv.HEAD:e._err(t,_v.misplacedStartTagForHeadElement);break;default:iC(e,t)}}function nC(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==qv.TEMPLATE&&e._err(t,_v.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(qv.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,_v.endTagWithoutMatchingOpenElement)}function iC(e,t){e.openElements.pop(),e.insertionMode=ME.AFTER_HEAD,e._processToken(t)}function rC(e,t){const n=t.type===Fv.EOF?_v.openElementsLeftAfterEof:_v.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=ME.IN_HEAD,e._processToken(t)}function aC(e,t){e._insertFakeElement(Uv.BODY,qv.BODY),e.insertionMode=ME.IN_BODY,oC(e,t)}function oC(e,t){switch(t.type){case Fv.CHARACTER:uC(e,t);break;case Fv.WHITESPACE_CHARACTER:sC(e,t);break;case Fv.COMMENT:YE(e,t);break;case Fv.START_TAG:pC(e,t);break;case Fv.END_TAG:mC(e,t);break;case Fv.EOF:OC(e,t)}}function sC(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function uC(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function lC(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Mv.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function cC(e){const t=xv(e,Lv.TYPE);return null!=t&&"hidden"===t.toLowerCase()}function dC(e,t){e._switchToTextParsing(t,eE.RAWTEXT)}function hC(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Mv.HTML)}function pC(e,t){switch(t.tagID){case qv.I:case qv.S:case qv.B:case qv.U:case qv.EM:case qv.TT:case qv.BIG:case qv.CODE:case qv.FONT:case qv.SMALL:case qv.STRIKE:case qv.STRONG:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Mv.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case qv.A:!function(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(Uv.A);n&&(VE(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,Mv.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case qv.H1:case qv.H2:case qv.H3:case qv.H4:case qv.H5:case qv.H6:!function(e,t){e.openElements.hasInButtonScope(qv.P)&&e._closePElement(),void 0!==e.openElements.currentTagId&&Kv.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Mv.HTML)}(e,t);break;case qv.P:case qv.DL:case qv.OL:case qv.UL:case qv.DIV:case qv.DIR:case qv.NAV:case qv.MAIN:case qv.MENU:case qv.ASIDE:case qv.CENTER:case qv.FIGURE:case qv.FOOTER:case qv.HEADER:case qv.HGROUP:case qv.DIALOG:case qv.DETAILS:case qv.ADDRESS:case qv.ARTICLE:case qv.SEARCH:case qv.SECTION:case qv.SUMMARY:case qv.FIELDSET:case qv.BLOCKQUOTE:case qv.FIGCAPTION:!function(e,t){e.openElements.hasInButtonScope(qv.P)&&e._closePElement(),e._insertElement(t,Mv.HTML)}(e,t);break;case qv.LI:case qv.DD:case qv.DT:!function(e,t){e.framesetOk=!1;const n=t.tagID;for(let t=e.openElements.stackTop;t>=0;t--){const i=e.openElements.tagIDs[t];if(n===qv.LI&&i===qv.LI||(n===qv.DD||n===qv.DT)&&(i===qv.DD||i===qv.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==qv.ADDRESS&&i!==qv.DIV&&i!==qv.P&&e._isSpecialElement(e.openElements.items[t],i))break}e.openElements.hasInButtonScope(qv.P)&&e._closePElement(),e._insertElement(t,Mv.HTML)}(e,t);break;case qv.BR:case qv.IMG:case qv.WBR:case qv.AREA:case qv.EMBED:case qv.KEYGEN:lC(e,t);break;case qv.HR:!function(e,t){e.openElements.hasInButtonScope(qv.P)&&e._closePElement(),e._appendElement(t,Mv.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}(e,t);break;case qv.RB:case qv.RTC:!function(e,t){e.openElements.hasInScope(qv.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Mv.HTML)}(e,t);break;case qv.RT:case qv.RP:!function(e,t){e.openElements.hasInScope(qv.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(qv.RTC),e._insertElement(t,Mv.HTML)}(e,t);break;case qv.PRE:case qv.LISTING:!function(e,t){e.openElements.hasInButtonScope(qv.P)&&e._closePElement(),e._insertElement(t,Mv.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}(e,t);break;case qv.XMP:!function(e,t){e.openElements.hasInButtonScope(qv.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,eE.RAWTEXT)}(e,t);break;case qv.SVG:!function(e,t){e._reconstructActiveFormattingElements(),NE(t),BE(t),t.selfClosing?e._appendElement(t,Mv.SVG):e._insertElement(t,Mv.SVG),t.ackSelfClosing=!0}(e,t);break;case qv.HTML:!function(e,t){0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}(e,t);break;case qv.BASE:case qv.LINK:case qv.META:case qv.STYLE:case qv.TITLE:case qv.SCRIPT:case qv.BGSOUND:case qv.BASEFONT:case qv.TEMPLATE:tC(e,t);break;case qv.BODY:!function(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}(e,t);break;case qv.FORM:!function(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(qv.P)&&e._closePElement(),e._insertElement(t,Mv.HTML),n||(e.formElement=e.openElements.current))}(e,t);break;case qv.NOBR:!function(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(qv.NOBR)&&(VE(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Mv.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case qv.MATH:!function(e,t){e._reconstructActiveFormattingElements(),QE(t),BE(t),t.selfClosing?e._appendElement(t,Mv.MATHML):e._insertElement(t,Mv.MATHML),t.ackSelfClosing=!0}(e,t);break;case qv.TABLE:!function(e,t){e.treeAdapter.getDocumentMode(e.document)!==$v.QUIRKS&&e.openElements.hasInButtonScope(qv.P)&&e._closePElement(),e._insertElement(t,Mv.HTML),e.framesetOk=!1,e.insertionMode=ME.IN_TABLE}(e,t);break;case qv.INPUT:!function(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Mv.HTML),cC(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}(e,t);break;case qv.PARAM:case qv.TRACK:case qv.SOURCE:!function(e,t){e._appendElement(t,Mv.HTML),t.ackSelfClosing=!0}(e,t);break;case qv.IMAGE:!function(e,t){t.tagName=Uv.IMG,t.tagID=qv.IMG,lC(e,t)}(e,t);break;case qv.BUTTON:!function(e,t){e.openElements.hasInScope(qv.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(qv.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Mv.HTML),e.framesetOk=!1}(e,t);break;case qv.APPLET:case qv.OBJECT:case qv.MARQUEE:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Mv.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}(e,t);break;case qv.IFRAME:!function(e,t){e.framesetOk=!1,e._switchToTextParsing(t,eE.RAWTEXT)}(e,t);break;case qv.SELECT:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Mv.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===ME.IN_TABLE||e.insertionMode===ME.IN_CAPTION||e.insertionMode===ME.IN_TABLE_BODY||e.insertionMode===ME.IN_ROW||e.insertionMode===ME.IN_CELL?ME.IN_SELECT_IN_TABLE:ME.IN_SELECT}(e,t);break;case qv.OPTION:case qv.OPTGROUP:!function(e,t){e.openElements.currentTagId===qv.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Mv.HTML)}(e,t);break;case qv.NOEMBED:case qv.NOFRAMES:dC(e,t);break;case qv.FRAMESET:!function(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Mv.HTML),e.insertionMode=ME.IN_FRAMESET)}(e,t);break;case qv.TEXTAREA:!function(e,t){e._insertElement(t,Mv.HTML),e.skipNextNewLine=!0,e.tokenizer.state=eE.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=ME.TEXT}(e,t);break;case qv.NOSCRIPT:e.options.scriptingEnabled?dC(e,t):hC(e,t);break;case qv.PLAINTEXT:!function(e,t){e.openElements.hasInButtonScope(qv.P)&&e._closePElement(),e._insertElement(t,Mv.HTML),e.tokenizer.state=eE.PLAINTEXT}(e,t);break;case qv.COL:case qv.TH:case qv.TD:case qv.TR:case qv.HEAD:case qv.FRAME:case qv.TBODY:case qv.TFOOT:case qv.THEAD:case qv.CAPTION:case qv.COLGROUP:break;default:hC(e,t)}}function fC(e,t){const n=t.tagName,i=t.tagID;for(let t=e.openElements.stackTop;t>0;t--){const r=e.openElements.items[t],a=e.openElements.tagIDs[t];if(i===a&&(i!==qv.UNKNOWN||e.treeAdapter.getTagName(r)===n)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.stackTop>=t&&e.openElements.shortenToLength(t);break}if(e._isSpecialElement(r,a))break}}function mC(e,t){switch(t.tagID){case qv.A:case qv.B:case qv.I:case qv.S:case qv.U:case qv.EM:case qv.TT:case qv.BIG:case qv.CODE:case qv.FONT:case qv.NOBR:case qv.SMALL:case qv.STRIKE:case qv.STRONG:VE(e,t);break;case qv.P:!function(e){e.openElements.hasInButtonScope(qv.P)||e._insertFakeElement(Uv.P,qv.P),e._closePElement()}(e);break;case qv.DL:case qv.UL:case qv.OL:case qv.DIR:case qv.DIV:case qv.NAV:case qv.PRE:case qv.MAIN:case qv.MENU:case qv.ASIDE:case qv.BUTTON:case qv.CENTER:case qv.FIGURE:case qv.FOOTER:case qv.HEADER:case qv.HGROUP:case qv.DIALOG:case qv.ADDRESS:case qv.ARTICLE:case qv.DETAILS:case qv.SEARCH:case qv.SECTION:case qv.SUMMARY:case qv.LISTING:case qv.FIELDSET:case qv.BLOCKQUOTE:case qv.FIGCAPTION:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}(e,t);break;case qv.LI:!function(e){e.openElements.hasInListItemScope(qv.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(qv.LI),e.openElements.popUntilTagNamePopped(qv.LI))}(e);break;case qv.DD:case qv.DT:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}(e,t);break;case qv.H1:case qv.H2:case qv.H3:case qv.H4:case qv.H5:case qv.H6:!function(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}(e);break;case qv.BR:!function(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(Uv.BR,qv.BR),e.openElements.pop(),e.framesetOk=!1}(e);break;case qv.BODY:!function(e,t){if(e.openElements.hasInScope(qv.BODY)&&(e.insertionMode=ME.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}(e,t);break;case qv.HTML:!function(e,t){e.openElements.hasInScope(qv.BODY)&&(e.insertionMode=ME.AFTER_BODY,IC(e,t))}(e,t);break;case qv.FORM:!function(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(qv.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(qv.FORM):n&&e.openElements.remove(n))}(e);break;case qv.APPLET:case qv.OBJECT:case qv.MARQUEE:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}(e,t);break;case qv.TEMPLATE:nC(e,t);break;default:fC(e,t)}}function OC(e,t){e.tmplInsertionModeStack.length>0?RC(e,t):HE(e,t)}function gC(e,t){if(void 0!==e.openElements.currentTagId&&$E.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=ME.IN_TABLE_TEXT,t.type){case Fv.CHARACTER:bC(e,t);break;case Fv.WHITESPACE_CHARACTER:CC(e,t)}else EC(e,t)}function DC(e,t){switch(t.tagID){case qv.TD:case qv.TH:case qv.TR:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Uv.TBODY,qv.TBODY),e.insertionMode=ME.IN_TABLE_BODY,SC(e,t)}(e,t);break;case qv.STYLE:case qv.SCRIPT:case qv.TEMPLATE:tC(e,t);break;case qv.COL:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Uv.COLGROUP,qv.COLGROUP),e.insertionMode=ME.IN_COLUMN_GROUP,yC(e,t)}(e,t);break;case qv.FORM:!function(e,t){!e.formElement&&0===e.openElements.tmplCount&&(e._insertElement(t,Mv.HTML),e.formElement=e.openElements.current,e.openElements.pop())}(e,t);break;case qv.TABLE:!function(e,t){e.openElements.hasInTableScope(qv.TABLE)&&(e.openElements.popUntilTagNamePopped(qv.TABLE),e._resetInsertionMode(),e._processStartTag(t))}(e,t);break;case qv.TBODY:case qv.TFOOT:case qv.THEAD:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Mv.HTML),e.insertionMode=ME.IN_TABLE_BODY}(e,t);break;case qv.INPUT:!function(e,t){cC(t)?e._appendElement(t,Mv.HTML):EC(e,t),t.ackSelfClosing=!0}(e,t);break;case qv.CAPTION:!function(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Mv.HTML),e.insertionMode=ME.IN_CAPTION}(e,t);break;case qv.COLGROUP:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Mv.HTML),e.insertionMode=ME.IN_COLUMN_GROUP}(e,t);break;default:EC(e,t)}}function vC(e,t){switch(t.tagID){case qv.TABLE:e.openElements.hasInTableScope(qv.TABLE)&&(e.openElements.popUntilTagNamePopped(qv.TABLE),e._resetInsertionMode());break;case qv.TEMPLATE:nC(e,t);break;case qv.BODY:case qv.CAPTION:case qv.COL:case qv.COLGROUP:case qv.HTML:case qv.TBODY:case qv.TD:case qv.TFOOT:case qv.TH:case qv.THEAD:case qv.TR:break;default:EC(e,t)}}function EC(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,oC(e,t),e.fosterParentingEnabled=n}function CC(e,t){e.pendingCharacterTokens.push(t)}function bC(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function kC(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)EC(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const TC=new Set([qv.CAPTION,qv.COL,qv.COLGROUP,qv.TBODY,qv.TD,qv.TFOOT,qv.TH,qv.THEAD,qv.TR]);function yC(e,t){switch(t.tagID){case qv.HTML:pC(e,t);break;case qv.COL:e._appendElement(t,Mv.HTML),t.ackSelfClosing=!0;break;case qv.TEMPLATE:tC(e,t);break;default:AC(e,t)}}function AC(e,t){e.openElements.currentTagId===qv.COLGROUP&&(e.openElements.pop(),e.insertionMode=ME.IN_TABLE,e._processToken(t))}function SC(e,t){switch(t.tagID){case qv.TR:e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Mv.HTML),e.insertionMode=ME.IN_ROW;break;case qv.TH:case qv.TD:e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(Uv.TR,qv.TR),e.insertionMode=ME.IN_ROW,FC(e,t);break;case qv.CAPTION:case qv.COL:case qv.COLGROUP:case qv.TBODY:case qv.TFOOT:case qv.THEAD:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ME.IN_TABLE,DC(e,t));break;default:DC(e,t)}}function _C(e,t){const n=t.tagID;switch(t.tagID){case qv.TBODY:case qv.TFOOT:case qv.THEAD:e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ME.IN_TABLE);break;case qv.TABLE:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ME.IN_TABLE,vC(e,t));break;case qv.BODY:case qv.CAPTION:case qv.COL:case qv.COLGROUP:case qv.HTML:case qv.TD:case qv.TH:case qv.TR:break;default:vC(e,t)}}function FC(e,t){switch(t.tagID){case qv.TH:case qv.TD:e.openElements.clearBackToTableRowContext(),e._insertElement(t,Mv.HTML),e.insertionMode=ME.IN_CELL,e.activeFormattingElements.insertMarker();break;case qv.CAPTION:case qv.COL:case qv.COLGROUP:case qv.TBODY:case qv.TFOOT:case qv.THEAD:case qv.TR:e.openElements.hasInTableScope(qv.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ME.IN_TABLE_BODY,SC(e,t));break;default:DC(e,t)}}function wC(e,t){switch(t.tagID){case qv.TR:e.openElements.hasInTableScope(qv.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ME.IN_TABLE_BODY);break;case qv.TABLE:e.openElements.hasInTableScope(qv.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ME.IN_TABLE_BODY,_C(e,t));break;case qv.TBODY:case qv.TFOOT:case qv.THEAD:(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(qv.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ME.IN_TABLE_BODY,_C(e,t));break;case qv.BODY:case qv.CAPTION:case qv.COL:case qv.COLGROUP:case qv.HTML:case qv.TD:case qv.TH:break;default:vC(e,t)}}function xC(e,t){switch(t.tagID){case qv.HTML:pC(e,t);break;case qv.OPTION:e.openElements.currentTagId===qv.OPTION&&e.openElements.pop(),e._insertElement(t,Mv.HTML);break;case qv.OPTGROUP:e.openElements.currentTagId===qv.OPTION&&e.openElements.pop(),e.openElements.currentTagId===qv.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Mv.HTML);break;case qv.HR:e.openElements.currentTagId===qv.OPTION&&e.openElements.pop(),e.openElements.currentTagId===qv.OPTGROUP&&e.openElements.pop(),e._appendElement(t,Mv.HTML),t.ackSelfClosing=!0;break;case qv.INPUT:case qv.KEYGEN:case qv.TEXTAREA:case qv.SELECT:e.openElements.hasInSelectScope(qv.SELECT)&&(e.openElements.popUntilTagNamePopped(qv.SELECT),e._resetInsertionMode(),t.tagID!==qv.SELECT&&e._processStartTag(t));break;case qv.SCRIPT:case qv.TEMPLATE:tC(e,t)}}function PC(e,t){switch(t.tagID){case qv.OPTGROUP:e.openElements.stackTop>0&&e.openElements.currentTagId===qv.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===qv.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===qv.OPTGROUP&&e.openElements.pop();break;case qv.OPTION:e.openElements.currentTagId===qv.OPTION&&e.openElements.pop();break;case qv.SELECT:e.openElements.hasInSelectScope(qv.SELECT)&&(e.openElements.popUntilTagNamePopped(qv.SELECT),e._resetInsertionMode());break;case qv.TEMPLATE:nC(e,t)}}function RC(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(qv.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):HE(e,t)}function IC(e,t){var n;if(t.tagID===qv.HTML){if(e.fragmentContext||(e.insertionMode=ME.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===qv.HTML){e._setEndLocation(e.openElements.items[0],t);const i=e.openElements.items[1];i&&(null===(n=e.treeAdapter.getNodeSourceCodeLocation(i))||void 0===n||!n.endTag)&&e._setEndLocation(i,t)}}else QC(e,t)}function QC(e,t){e.insertionMode=ME.IN_BODY,oC(e,t)}function NC(e,t){e.insertionMode=ME.IN_BODY,oC(e,t)}function BC(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Mv.HTML&&void 0!==e.openElements.currentTagId&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}Uv.AREA,Uv.BASE,Uv.BASEFONT,Uv.BGSOUND,Uv.BR,Uv.COL,Uv.EMBED,Uv.FRAME,Uv.HR,Uv.IMG,Uv.INPUT,Uv.KEYGEN,Uv.LINK,Uv.META,Uv.PARAM,Uv.SOURCE,Uv.TRACK,Uv.WBR;const MC=function(e){if(null==e)return $C;if("function"==typeof e)return LC(e);if("object"==typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=MC(e[n]);return LC(function(...e){let n=-1;for(;++n<t.length;)if(t[n].apply(this,e))return!0;return!1})}(e):function(e){const t=e;return LC(function(n){const i=n;let r;for(r in e)if(i[r]!==t[r])return!1;return!0})}(e);if("string"==typeof e)return function(e){return LC(function(t){return t&&t.type===e})}(e);throw new Error("Expected function, string, or object as test")};function LC(e){return function(t,n,i){return!(!function(e){return null!==e&&"object"==typeof e&&"type"in e}(t)||!e.call(this,t,"number"==typeof n?n:void 0,i||void 0))}}function $C(){return!0}const UC=[],qC=!0,XC=!1,zC="skip";function ZC(e,t,n,i){let r;"function"==typeof t&&"function"!=typeof n?(i=n,n=t):r=t;const a=MC(r),o=i?-1:1;!function e(r,s,u){const l=r&&"object"==typeof r?r:{};if("string"==typeof l.type){const e="string"==typeof l.tagName?l.tagName:"string"==typeof l.name?l.name:void 0;Object.defineProperty(c,"name",{value:"node ("+r.type+(e?"<"+e+">":"")+")"})}return c;function c(){let l,c,d,h=UC;if((!t||a(r,s,u[u.length-1]||void 0))&&(h=function(e){return Array.isArray(e)?e:"number"==typeof e?[qC,e]:null==e?UC:[e]}(n(r,u)),h[0]===XC))return h;if("children"in r&&r.children){const t=r;if(t.children&&h[0]!==zC)for(c=(i?t.children.length:-1)+o,d=u.concat(t);c>-1&&c<t.children.length;){const n=t.children[c];if(l=e(n,c,d)(),l[0]===XC)return l;c="number"==typeof l[1]?l[1]:c+o}}return h}}(e,void 0,[])()}function jC(e,t,n,i){let r,a,o;"function"==typeof t&&"function"!=typeof n?(a=void 0,o=t,r=n):(a=t,o=n,r=i),ZC(e,a,function(e,t){const n=t[t.length-1],i=n?n.children.indexOf(e):void 0;return o(e,i,n)},r)}const WC=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,GC=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),VC={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function YC(e,t){const n=function(e){const t="root"===e.type?e.children[0]:e;return!(!t||"doctype"!==t.type&&("element"!==t.type||"html"!==t.tagName.toLowerCase()))}(e),i=dv("type",{handlers:{root:KC,element:JC,text:eb,comment:nb,doctype:tb,raw:ib},unknown:rb}),r={parser:n?new qE(VC):qE.getFragmentParser(void 0,VC),handle(e){i(e,r)},stitches:!1,options:t||{}};i(e,r),ab(r,Yg());const a=function(e,t){const n=t||{};return av({file:n.file||void 0,location:!1,schema:"svg"===n.space?XD:qD,verbose:n.verbose||!1},e)}(n?r.parser.document:r.parser.getFragment(),{file:r.options.file});return r.stitches&&jC(a,"comment",function(e,t,n){const i=e;if(i.value.stitch&&n&&void 0!==t)return n.children[t]=i.value.stitch,t}),"root"===a.type&&1===a.children.length&&a.children[0].type===e.type?a.children[0]:a}function HC(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function KC(e,t){HC(e.children,t)}function JC(e,t){(function(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===eE.PLAINTEXT)return;ab(t,Yg(e));const i=t.parser.openElements.current;let r="namespaceURI"in i?i.namespaceURI:nv.html;r===nv.html&&"svg"===n&&(r=nv.svg);const a=function(e,t){return fv(e,"svg"===(t||hv).space?XD:qD)}(p(p({},e),{},{children:[]}),{space:r===nv.svg?"svg":"html"}),o={type:Fv.START_TAG,tagName:n,tagID:Vv(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in a?a.attrs:[],location:sb(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n})(e,t),HC(e.children,t),function(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&Dv.includes(n)||t.parser.tokenizer.state===eE.PLAINTEXT)return;ab(t,Vg(e));const i={type:Fv.END_TAG,tagName:n,tagID:Vv(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:sb(e)};t.parser.currentToken=i,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===eE.RCDATA||t.parser.tokenizer.state===eE.RAWTEXT||t.parser.tokenizer.state===eE.SCRIPT_DATA)&&(t.parser.tokenizer.state=eE.DATA)}(e,t)}function eb(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:Fv.CHARACTER,chars:e.value,location:sb(e)};ab(t,Yg(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function tb(e,t){const n={type:Fv.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:sb(e)};ab(t,Yg(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function nb(e,t){const n=e.value,i={type:Fv.COMMENT,data:n,location:sb(e)};ab(t,Yg(e)),t.parser.currentToken=i,t.parser._processToken(t.parser.currentToken)}function ib(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,ob(t,Yg(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(WC,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),72===t.parser.tokenizer.state||78===t.parser.tokenizer.state){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const e=t.parser.tokenizer._consume();t.parser.tokenizer._callState(e)}}function rb(e,t){const n=e;if(!t.options.passThrough||!t.options.passThrough.includes(n.type)){let e="";throw GC.has(n.type)&&(e=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+e)}!function(e,t){t.stitches=!0;const n=function(e){return Gg("children"in e?p(p({},e),{},{children:[]}):e)}(e);if("children"in e&&"children"in n){const i=YC({type:"root",children:e.children},t.options);n.children=i.children}nb({type:"comment",value:{stitch:n}},t)}(n,t)}function ab(e,t){ob(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=eE.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function ob(e,t){if(t&&void 0!==t.offset){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=1-t.column,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function sb(e){const t=Yg(e)||{line:void 0,column:void 0,offset:void 0},n=Vg(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function ub(e){return function(t,n){return YC(t,p(p({},e),{},{file:n}))}}function lb({defaultOrigin:e="",allowedLinkPrefixes:t=[],allowedImagePrefixes:n=[],allowDataImages:i=!1,allowedProtocols:r=[],blockedImageClass:a="inline-block bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 px-3 py-1 rounded text-sm",blockedLinkClass:o="text-gray-500"}){const s=t.length&&!t.every(e=>"*"===e),u=n.length&&!n.every(e=>"*"===e);if(!e&&(s||u))throw new Error("defaultOrigin is required when allowedLinkPrefixes or allowedImagePrefixes are provided");return s=>{jC(s,mb(e,t,n,i,r,a,o))}}function cb(e,t){if("string"!=typeof e)return null;try{return new URL(e)}catch(n){if(t)try{return new URL(e,t)}catch(e){return null}if(e.startsWith("/")||e.startsWith("./")||e.startsWith("../"))try{return new URL(e,"http://example.com")}catch(e){return null}return null}}const db=new Set(["https:","http:","irc:","ircs:","mailto:","xmpp:","blob:"]),hb=new Set(["javascript:","data:","file:","vbscript:"]);function pb(e,t,n,i=!1,r=!1,a=[]){if(!e)return null;if("string"==typeof e&&e.startsWith("#")&&!r)try{if(new URL(e,"http://example.com").hash===e)return e}catch(e){}if("string"==typeof e&&e.startsWith("data:"))return r&&i&&e.startsWith("data:image/")?e:null;if("string"==typeof e&&e.startsWith("blob:")){try{if("blob:"===new URL(e).protocol&&e.length>5){const t=e.substring(5);if(t&&t.length>0&&"invalid"!==t)return e}}catch(e){return null}return null}const o=cb(e,n);if(!o||hb.has(o.protocol)||!(db.has(o.protocol)||a.includes(o.protocol)||a.includes("*")))return null;if("mailto:"===o.protocol||!o.protocol.match(/^https?:$/))return o.href;const s=function(e){return"string"==typeof e&&(e.startsWith("/")||e.startsWith("./")||e.startsWith("../"))}(e);return o&&t.some(e=>{const t=cb(e,n);return!(!t||t.origin!==o.origin)&&o.href.startsWith(t.href)})?s?o.pathname+o.search+o.hash:o.href:t.includes("*")?"https:"!==o.protocol&&"http:"!==o.protocol?null:s?o.pathname+o.search+o.hash:o.href:null}const fb=Symbol("node-seen"),mb=(e,t,n,i,r,a,o)=>{const s=(u,l,c)=>{if("element"!==u.type||u[fb])return qC;if("a"===u.tagName){const n=pb(u.properties.href,t,e,!1,!1,r);return null===n?(u[fb]=!0,jC(u,s),c&&"number"==typeof l&&(c.children[l]={type:"element",tagName:"span",properties:{title:"Blocked URL: "+String(u.properties.href),class:o},children:[...u.children,{type:"text",value:" [blocked]"}]}),zC):(u.properties.href=n,u.properties.target="_blank",u.properties.rel="noopener noreferrer",qC)}if("img"===u.tagName){const t=pb(u.properties.src,n,e,i,!0,r);return null===t?(u[fb]=!0,jC(u,s),c&&"number"==typeof l&&(c.children[l]={type:"element",tagName:"span",properties:{class:a},children:[{type:"text",value:"[Image blocked: "+String(u.properties.alt||"No description")+"]"}]}),zC):(u.properties.src=t,qC)}return qC};return s},Ob=42,gb=95,Db=126,vb="emphasisSequence",Eb="strongSequence",Cb=Rb(/[A-Za-z]/),bb=Rb(/[\dA-Za-z]/),kb=Rb(/[#-'*+\--9=?A-Z^-~]/);function Tb(e){return null!==e&&(e<32||127===e)}const yb=Rb(/\d/),Ab=Rb(/[\dA-Fa-f]/),Sb=Rb(/[!-/:-@[-`{-~]/);function _b(e){return null!==e&&e<-2}function Fb(e){return null!==e&&(e<0||32===e)}function wb(e){return-2===e||-1===e||32===e}const xb=Rb(new RegExp("\\p{P}|\\p{S}","u")),Pb=Rb(/\s/);function Rb(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}var Ib=Object.defineProperty;function Qb(e){if(!e||e<4352)return!1;switch(function(e){return function(e){if(!Number.isSafeInteger(e))throw new TypeError(`Expected a code point, got \`${typeof e}\`.`)}(e),function(e){return function(e){return 161===e||164===e||167===e||168===e||170===e||173===e||174===e||e>=176&&e<=180||e>=182&&e<=186||e>=188&&e<=191||198===e||208===e||215===e||216===e||e>=222&&e<=225||230===e||e>=232&&e<=234||236===e||237===e||240===e||242===e||243===e||e>=247&&e<=250||252===e||254===e||257===e||273===e||275===e||283===e||294===e||295===e||299===e||e>=305&&e<=307||312===e||e>=319&&e<=322||324===e||e>=328&&e<=331||333===e||338===e||339===e||358===e||359===e||363===e||462===e||464===e||466===e||468===e||470===e||472===e||474===e||476===e||593===e||609===e||708===e||711===e||e>=713&&e<=715||717===e||720===e||e>=728&&e<=731||733===e||735===e||e>=768&&e<=879||e>=913&&e<=929||e>=931&&e<=937||e>=945&&e<=961||e>=963&&e<=969||1025===e||e>=1040&&e<=1103||1105===e||8208===e||e>=8211&&e<=8214||8216===e||8217===e||8220===e||8221===e||e>=8224&&e<=8226||e>=8228&&e<=8231||8240===e||8242===e||8243===e||8245===e||8251===e||8254===e||8308===e||8319===e||e>=8321&&e<=8324||8364===e||8451===e||8453===e||8457===e||8467===e||8470===e||8481===e||8482===e||8486===e||8491===e||8531===e||8532===e||e>=8539&&e<=8542||e>=8544&&e<=8555||e>=8560&&e<=8569||8585===e||e>=8592&&e<=8601||8632===e||8633===e||8658===e||8660===e||8679===e||8704===e||8706===e||8707===e||8711===e||8712===e||8715===e||8719===e||8721===e||8725===e||8730===e||e>=8733&&e<=8736||8739===e||8741===e||e>=8743&&e<=8748||8750===e||e>=8756&&e<=8759||8764===e||8765===e||8776===e||8780===e||8786===e||8800===e||8801===e||e>=8804&&e<=8807||8810===e||8811===e||8814===e||8815===e||8834===e||8835===e||8838===e||8839===e||8853===e||8857===e||8869===e||8895===e||8978===e||e>=9312&&e<=9449||e>=9451&&e<=9547||e>=9552&&e<=9587||e>=9600&&e<=9615||e>=9618&&e<=9621||9632===e||9633===e||e>=9635&&e<=9641||9650===e||9651===e||9654===e||9655===e||9660===e||9661===e||9664===e||9665===e||e>=9670&&e<=9672||9675===e||e>=9678&&e<=9681||e>=9698&&e<=9701||9711===e||9733===e||9734===e||9737===e||9742===e||9743===e||9756===e||9758===e||9792===e||9794===e||9824===e||9825===e||e>=9827&&e<=9829||e>=9831&&e<=9834||9836===e||9837===e||9839===e||9886===e||9887===e||9919===e||e>=9926&&e<=9933||e>=9935&&e<=9939||e>=9941&&e<=9953||9955===e||9960===e||9961===e||e>=9963&&e<=9969||9972===e||e>=9974&&e<=9977||9979===e||9980===e||9982===e||9983===e||10045===e||e>=10102&&e<=10111||e>=11094&&e<=11097||e>=12872&&e<=12879||e>=57344&&e<=63743||e>=65024&&e<=65039||65533===e||e>=127232&&e<=127242||e>=127248&&e<=127277||e>=127280&&e<=127337||e>=127344&&e<=127373||127375===e||127376===e||e>=127387&&e<=127404||e>=917760&&e<=917999||e>=983040&&e<=1048573||e>=1048576&&e<=1114109}(e)?"ambiguous":function(e){return 12288===e||e>=65281&&e<=65376||e>=65504&&e<=65510}(e)?"fullwidth":8361===e||e>=65377&&e<=65470||e>=65474&&e<=65479||e>=65482&&e<=65487||e>=65490&&e<=65495||e>=65498&&e<=65500||e>=65512&&e<=65518?"halfwidth":e>=32&&e<=126||162===e||163===e||165===e||166===e||172===e||175===e||e>=10214&&e<=10221||10629===e||10630===e?"narrow":function(e){return e>=4352&&e<=4447||8986===e||8987===e||9001===e||9002===e||e>=9193&&e<=9196||9200===e||9203===e||9725===e||9726===e||9748===e||9749===e||e>=9776&&e<=9783||e>=9800&&e<=9811||9855===e||e>=9866&&e<=9871||9875===e||9889===e||9898===e||9899===e||9917===e||9918===e||9924===e||9925===e||9934===e||9940===e||9962===e||9970===e||9971===e||9973===e||9978===e||9981===e||9989===e||9994===e||9995===e||10024===e||10060===e||10062===e||e>=10067&&e<=10069||10071===e||e>=10133&&e<=10135||10160===e||10175===e||11035===e||11036===e||11088===e||11093===e||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12287||e>=12289&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12591||e>=12593&&e<=12686||e>=12688&&e<=12773||e>=12783&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=94176&&e<=94180||e>=94192&&e<=94198||e>=94208&&e<=101589||e>=101631&&e<=101662||e>=101760&&e<=101874||e>=110576&&e<=110579||e>=110581&&e<=110587||110589===e||110590===e||e>=110592&&e<=110882||110898===e||e>=110928&&e<=110930||110933===e||e>=110948&&e<=110951||e>=110960&&e<=111355||e>=119552&&e<=119638||e>=119648&&e<=119670||126980===e||127183===e||127374===e||e>=127377&&e<=127386||e>=127488&&e<=127490||e>=127504&&e<=127547||e>=127552&&e<=127560||127568===e||127569===e||e>=127584&&e<=127589||e>=127744&&e<=127776||e>=127789&&e<=127797||e>=127799&&e<=127868||e>=127870&&e<=127891||e>=127904&&e<=127946||e>=127951&&e<=127955||e>=127968&&e<=127984||127988===e||e>=127992&&e<=128062||128064===e||e>=128066&&e<=128252||e>=128255&&e<=128317||e>=128331&&e<=128334||e>=128336&&e<=128359||128378===e||128405===e||128406===e||128420===e||e>=128507&&e<=128591||e>=128640&&e<=128709||128716===e||e>=128720&&e<=128722||e>=128725&&e<=128728||e>=128732&&e<=128735||128747===e||128748===e||e>=128756&&e<=128764||e>=128992&&e<=129003||129008===e||e>=129292&&e<=129338||e>=129340&&e<=129349||e>=129351&&e<=129535||e>=129648&&e<=129660||e>=129664&&e<=129674||e>=129678&&e<=129734||129736===e||e>=129741&&e<=129756||e>=129759&&e<=129770||e>=129775&&e<=129784||e>=131072&&e<=196605||e>=196608&&e<=262141}(e)?"wide":"neutral"}(e)}(e)){case"fullwidth":case"halfwidth":return!0;case"wide":return!function(e){return new RegExp("^\\p{Emoji_Presentation}","u").test(String.fromCodePoint(e))}(e);case"narrow":return!1;case"ambiguous":return 917760<=e&&e<=917999&&null;case"neutral":return new RegExp("^\\p{sc=Hangul}","u").test(String.fromCodePoint(e))}}var Nb,Bb=Lb(new RegExp("\\p{P}|\\p{S}","u")),Mb=Lb(/\s/);function Lb(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCodePoint(t))}}function $b(e){if(null===e||Fb(e)||Mb(e))return 1;let t=0;if(e>=4352){if(function(e){return null!==e&&e>=65024&&e<=65038}(e))return Nb.nonEmojiGeneralUseVS;switch(Qb(e)){case null:return Nb.ivs;case!0:t|=Nb.cjk}}return Bb(e)&&(t|=2),t}function Ub(e,t,n){if(!function(e){return e===Nb.nonEmojiGeneralUseVS}(e))return e;const i=t(),r=$b(i);return!i||qb(r)?e:function(e,t){return!(65025!==t||!e||e<8216||8216!==e&&8217!==e&&8220!==e&&8221!==e)}(i,n)?Nb.cjkPunctuation:function(e){return e&~Nb.ivs}(r)}function qb(e){return!!(1&e)}function Xb(e){return 2===(e&Nb.cjkPunctuation)}function zb(e){return!!(e&Nb.cjk)}function Zb(e){return!!(e&Nb.spaceOrPunctuation)}function jb(e){return!!(e&&e>=55296&&e<=56319)}function Wb(e){return!!(e&&e>=56320&&e<=57343)}function Gb(e,t,n){if(t._bufferIndex<2)return e;const i=n({start:p(p({},t),{},{_bufferIndex:t._bufferIndex-2}),end:t}).codePointAt(0);return i&&i>=65536?i:e}(e=>{e.spaceOrPunctuation=3,e.cjk=4096,e.cjkPunctuation=4098,e.ivs=8192,e.cjkOrIvs=12288,e.nonEmojiGeneralUseVS=16384,e.variationSelector=24576,e.ivsToCjkRightShift=1})(Nb||(Nb={}));var Vb=class{constructor(e,t,n){this.previousCode=e,this.nowPoint=t,this.sliceSerialize=n,((e,t,n)=>{((e,t,n)=>{t in e?Ib(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,t+"",n)})(this,"cachedValue")}value(){return void 0===this.cachedValue&&(this.cachedValue=function(e,t,n){const i=e>=65536?2:1;if(t._bufferIndex<1+i)return null;const r=t._bufferIndex-i-2,a=n({start:p(p({},t),{},{_bufferIndex:r>=0?r:0}),end:p(p({},t),{},{_bufferIndex:t._bufferIndex-i})}),o=a.charCodeAt(a.length-1);if(Number.isNaN(o))return null;if(a.length<2||o<56320||57343<o)return o;const s=a.codePointAt(0);return s&&s>=65536?s:o}(this.previousCode,this.nowPoint,this.sliceSerialize)),this.cachedValue}};function Yb(e,t,n){const i=n({start:t,end:p(p({},t),{},{_bufferIndex:t._bufferIndex+2})}).codePointAt(0);return i&&i>=65536?i:e}function Hb(e,t,n,i){const r=e.length;let a,o=0;if(t=t<0?-t>r?0:r+t:t>r?r:t,n=n>0?n:0,i.length<1e4)a=Array.from(i),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);o<i.length;)a=i.slice(o,o+1e4),a.unshift(t,0),e.splice(...a),o+=1e4,t+=1e4}function Kb(e,t){return e.length>0?(Hb(e,e.length,0,t),e):t}function Jb(e,t,n){const i=[];let r=-1;for(;++r<e.length;){const a=e[r].resolveAll;a&&!i.includes(a)&&(t=a(t,n),i.push(a))}return t}var ek={name:"attention",resolveAll:function(e,t){let n,i,r,a,o,s,u,l,c=-1;for(;++c<e.length;)if("enter"===e[c][0]&&"attentionSequence"===e[c][1].type&&e[c][1]._close)for(n=c;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[c][1]).charCodeAt(0)){if((e[n][1]._close||e[c][1]._open)&&(e[c][1].end.offset-e[c][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[c][1].end.offset-e[c][1].start.offset)%3))continue;s=e[n][1].end.offset-e[n][1].start.offset>1&&e[c][1].end.offset-e[c][1].start.offset>1?2:1;const d=p({},e[n][1].end),h=p({},e[c][1].start);tk(d,-s),tk(h,s),a={type:s>1?Eb:vb,start:d,end:p({},e[n][1].end)},o={type:s>1?Eb:vb,start:p({},e[c][1].start),end:h},r={type:s>1?"strongText":"emphasisText",start:p({},e[n][1].end),end:p({},e[c][1].start)},i={type:s>1?"strong":"emphasis",start:p({},a.start),end:p({},o.end)},e[n][1].end=p({},a.start),e[c][1].start=p({},o.end),u=[],e[n][1].end.offset-e[n][1].start.offset&&(u=Kb(u,[["enter",e[n][1],t],["exit",e[n][1],t]])),u=Kb(u,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",r,t]]),t.parser.constructs.insideSpan.null,u=Kb(u,Jb(t.parser.constructs.insideSpan.null,e.slice(n+1,c),t)),u=Kb(u,[["exit",r,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[c][1].end.offset-e[c][1].start.offset?(l=2,u=Kb(u,[["enter",e[c][1],t],["exit",e[c][1],t]])):l=0,Hb(e,n-1,c-n+3,u),c=n+u.length-l-2;break}for(c=-1;++c<e.length;)"attentionSequence"===e[c][1].type&&(e[c][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,{now:i,sliceSerialize:r,previous:a}=this,o=Wb(a)?Gb(a,i(),r):a,s=$b(o),u=new Vb(o,i(),r),l=Ub(s,u.value.bind(u),o);let c;return function(t){return c=t,e.enter("attentionSequence"),d(t)};function d(a){if(a===c)return e.consume(a),d;const s=e.exit("attentionSequence"),u=$b(jb(a)?Yb(a,i(),r):a),h=Xb(l),p=h||qb(l),f=Xb(u),m=f||qb(u),O=function(e){return!!(e&Nb.cjkOrIvs)}(l),g=!m||f&&(p||O)||n.includes(a),D=!p||h&&(m||zb(u))||n.includes(o);return s._open=!!(42===c?g:g&&(Zb(l)||!D)),s._close=!!(42===c?D:D&&(Zb(u)||!g)),t(a)}}};function tk(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}function nk(e,t){const n=String(e);if("string"!=typeof t)throw new TypeError("Expected character");let i=0,r=n.indexOf(t);for(;-1!==r;)i++,r=n.indexOf(t,r+t.length);return i}function ik(e){return"string"==typeof e?new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e),"g"):e}function rk(e){return"function"==typeof e?e:function(){return e}}const ak="phrasing",ok=["autolink","link","image","label"];function sk(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function uk(e){this.config.enter.autolinkProtocol.call(this,e)}function lk(e){this.config.exit.autolinkProtocol.call(this,e)}function ck(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function dk(e){this.config.exit.autolinkEmail.call(this,e)}function hk(e){this.exit(e)}function pk(e){!function(e,t,n){const i=MC((n||{}).ignore||[]),r=function(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let i=-1;for(;++i<n.length;){const e=n[i];t.push([ik(e[0]),rk(e[1])])}return t}(t);let a=-1;for(;++a<r.length;)ZC(e,"text",o);function o(e,t){let n,o=-1;for(;++o<t.length;){const e=t[o],r=n?n.children:void 0;if(i(e,r?r.indexOf(e):void 0,n))return;n=e}if(n)return function(e,t){const n=t[t.length-1],i=r[a][0],o=r[a][1];let s=0;const u=n.children.indexOf(e);let l=!1,c=[];i.lastIndex=0;let d=i.exec(e.value);for(;d;){const n=d.index,r={index:d.index,input:d.input,stack:[...t,e]};let a=o(...d,r);if("string"==typeof a&&(a=a.length>0?{type:"text",value:a}:void 0),!1===a?i.lastIndex=n+1:(s!==n&&c.push({type:"text",value:e.value.slice(s,n)}),Array.isArray(a)?c.push(...a):a&&c.push(a),s=n+d[0].length,l=!0),!i.global)break;d=i.exec(e.value)}return l?(s<e.value.length&&c.push({type:"text",value:e.value.slice(s)}),n.children.splice(u,1,...c)):c=[e],u+c.length}(e,t)}}(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,fk],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),mk]],{ignore:["link","linkReference"]})}function fk(e,t,n,i,r){let a="";if(!Ok(r)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!function(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}(n)))return!1;const o=function(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],i=n.indexOf(")");const r=nk(e,"(");let a=nk(e,")");for(;-1!==i&&r>a;)e+=n.slice(0,i+1),n=n.slice(i+1),i=n.indexOf(")"),a++;return[e,n]}(n+i);if(!o[0])return!1;const s={type:"link",title:null,url:a+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function mk(e,t,n,i){return!(!Ok(i,!0)||/[-\d_]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Ok(e,t){const n=e.input.charCodeAt(e.index-1);return(0===e.index||Pb(n)||xb(n))&&(!t||47!==n)}function gk(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}function Dk(){this.buffer()}function vk(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Ek(){this.buffer()}function Ck(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function bk(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=gk(this.sliceSerialize(e)).toLowerCase(),n.label=t}function kk(e){this.exit(e)}function Tk(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=gk(this.sliceSerialize(e)).toLowerCase(),n.label=t}function yk(e){this.exit(e)}function Ak(e,t,n,i){const r=n.createTracker(i);let a=r.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return a+=r.move(n.safe(n.associationId(e),{after:"]",before:a})),s(),o(),a+=r.move("]"),a}function Sk(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:function(e,n,i,r){const a=i.createTracker(r);let o=a.move("[^");const s=i.enter("footnoteDefinition"),u=i.enter("label");return o+=a.move(i.safe(i.associationId(e),{before:o,after:"]"})),u(),o+=a.move("]:"),e.children&&e.children.length>0&&(a.shift(4),o+=a.move((t?"\n":" ")+i.indentLines(i.containerFlow(e,a.current()),t?Fk:_k))),s(),o},footnoteReference:Ak},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]}}function _k(e,t,n){return 0===t?e:Fk(e,0,n)}function Fk(e,t,n){return(n?"":"    ")+e}Ak.peek=function(){return"["};const wk=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];function xk(e){this.enter({type:"delete",children:[]},e)}function Pk(e){this.exit(e)}function Rk(e,t,n,i){const r=n.createTracker(i),a=n.enter("strikethrough");let o=r.move("~~");return o+=n.containerPhrasing(e,p(p({},r.current()),{},{before:o,after:"~"})),o+=r.move("~~"),a(),o}function Ik(e){return e.length}function Qk(e){return null==e?"":String(e)}function Nk(e){const t="string"==typeof e?e.codePointAt(0):0;return 67===t||99===t?99:76===t||108===t?108:82===t||114===t?114:0}function Bk(e,t,n){return">"+(n?"":" ")+e}function Mk(e,t){return Lk(e,t.inConstruct,!0)&&!Lk(e,t.notInConstruct,!1)}function Lk(e,t,n){if("string"==typeof t&&(t=[t]),!t||0===t.length)return n;let i=-1;for(;++i<t.length;)if(e.includes(t[i]))return!0;return!1}function $k(e,t,n,i){let r=-1;for(;++r<n.unsafe.length;)if("\n"===n.unsafe[r].character&&Mk(n.stack,n.unsafe[r]))return/[ \t]/.test(i.before)?"":" ";return"\\\n"}function Uk(e,t,n){return(n?"":"    ")+e}function qk(e){const t=e.options.quote||'"';if('"'!==t&&"'"!==t)throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Xk(e){return"&#x"+e.toString(16).toUpperCase()+";"}function zk(e){return null===e||Fb(e)||Pb(e)?1:xb(e)?2:void 0}function Zk(e,t,n){const i=zk(e),r=zk(t);return void 0===i?void 0===r?"_"===n?{inside:!0,outside:!0}:{inside:!1,outside:!1}:1===r?{inside:!0,outside:!0}:{inside:!1,outside:!0}:1===i?void 0===r?{inside:!1,outside:!1}:1===r?{inside:!0,outside:!0}:{inside:!1,outside:!1}:void 0===r?{inside:!1,outside:!1}:1===r?{inside:!0,outside:!1}:{inside:!1,outside:!1}}function jk(e,t,n,i){const r=function(e){const t=e.options.emphasis||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}(n),a=n.enter("emphasis"),o=n.createTracker(i),s=o.move(r);let u=o.move(n.containerPhrasing(e,p({after:r,before:s},o.current())));const l=u.charCodeAt(0),c=Zk(i.before.charCodeAt(i.before.length-1),l,r);c.inside&&(u=Xk(l)+u.slice(1));const d=u.charCodeAt(u.length-1),h=Zk(i.after.charCodeAt(0),d,r);h.inside&&(u=u.slice(0,-1)+Xk(d));const f=o.move(r);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:c.outside},s+u+f}Rk.peek=function(){return"~"},jk.peek=function(e,t,n){return n.options.emphasis||"*"};const Wk={};function Gk(e,t){return Vk(e,"boolean"!=typeof Wk.includeImageAlt||Wk.includeImageAlt,"boolean"!=typeof Wk.includeHtml||Wk.includeHtml)}function Vk(e,t,n){if(function(e){return!(!e||"object"!=typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Yk(e.children,t,n)}return Array.isArray(e)?Yk(e,t,n):""}function Yk(e,t,n){const i=[];let r=-1;for(;++r<e.length;)i[r]=Vk(e[r],t,n);return i.join("")}function Hk(e){return e.value||""}function Kk(e,t,n,i){const r=qk(n),a='"'===r?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const u=n.createTracker(i);let l=u.move("![");return l+=u.move(n.safe(e.alt,p({before:l,after:"]"},u.current()))),l+=u.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),l+=u.move("<"),l+=u.move(n.safe(e.url,p({before:l,after:">"},u.current()))),l+=u.move(">")):(s=n.enter("destinationRaw"),l+=u.move(n.safe(e.url,p({before:l,after:e.title?" ":")"},u.current())))),s(),e.title&&(s=n.enter(`title${a}`),l+=u.move(" "+r),l+=u.move(n.safe(e.title,p({before:l,after:r},u.current()))),l+=u.move(r),s()),l+=u.move(")"),o(),l}function Jk(e,t,n,i){const r=e.referenceType,a=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(i);let u=s.move("![");const l=n.safe(e.alt,p({before:u,after:"]"},s.current()));u+=s.move(l+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),p({before:u,after:"]"},s.current()));return o(),n.stack=c,a(),"full"!==r&&l&&l===d?"shortcut"===r?u=u.slice(0,-1):u+=s.move("]"):u+=s.move(d+"]"),u}function eT(e,t,n){let i=e.value||"",r="`",a=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(i);)r+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++a<n.unsafe.length;){const e=n.unsafe[a],t=n.compilePattern(e);let r;if(e.atBreak)for(;r=t.exec(i);){let e=r.index;10===i.charCodeAt(e)&&13===i.charCodeAt(e-1)&&e--,i=i.slice(0,e)+" "+i.slice(r.index+1)}}return r+i+r}function tT(e,t){const n=Gk(e);return!(t.options.resourceLink||!e.url||e.title||!e.children||1!==e.children.length||"text"!==e.children[0].type||n!==e.url&&"mailto:"+n!==e.url||!/^[a-z][a-z+.-]+:/i.test(e.url)||/[\0- <>\u007F]/.test(e.url))}function nT(e,t,n,i){const r=qk(n),a='"'===r?"Quote":"Apostrophe",o=n.createTracker(i);let s,u;if(tT(e,n)){const t=n.stack;n.stack=[],s=n.enter("autolink");let i=o.move("<");return i+=o.move(n.containerPhrasing(e,p({before:i,after:">"},o.current()))),i+=o.move(">"),s(),n.stack=t,i}s=n.enter("link"),u=n.enter("label");let l=o.move("[");return l+=o.move(n.containerPhrasing(e,p({before:l,after:"]("},o.current()))),l+=o.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),l+=o.move("<"),l+=o.move(n.safe(e.url,p({before:l,after:">"},o.current()))),l+=o.move(">")):(u=n.enter("destinationRaw"),l+=o.move(n.safe(e.url,p({before:l,after:e.title?" ":")"},o.current())))),u(),e.title&&(u=n.enter(`title${a}`),l+=o.move(" "+r),l+=o.move(n.safe(e.title,p({before:l,after:r},o.current()))),l+=o.move(r),u()),l+=o.move(")"),s(),l}function iT(e,t,n,i){const r=e.referenceType,a=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(i);let u=s.move("[");const l=n.containerPhrasing(e,p({before:u,after:"]"},s.current()));u+=s.move(l+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),p({before:u,after:"]"},s.current()));return o(),n.stack=c,a(),"full"!==r&&l&&l===d?"shortcut"===r?u=u.slice(0,-1):u+=s.move("]"):u+=s.move(d+"]"),u}function rT(e){const t=e.options.bullet||"*";if("*"!==t&&"+"!==t&&"-"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function aT(e){const t=e.options.rule||"*";if("*"!==t&&"-"!==t&&"_"!==t)throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}Hk.peek=function(){return"<"},Kk.peek=function(){return"!"},Jk.peek=function(){return"!"},eT.peek=function(){return"`"},nT.peek=function(e,t,n){return tT(e,n)?"<":"["},iT.peek=function(){return"["};const oT=MC(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function sT(e,t,n,i){const r=function(e){const t=e.options.strong||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}(n),a=n.enter("strong"),o=n.createTracker(i),s=o.move(r+r);let u=o.move(n.containerPhrasing(e,p({after:r,before:s},o.current())));const l=u.charCodeAt(0),c=Zk(i.before.charCodeAt(i.before.length-1),l,r);c.inside&&(u=Xk(l)+u.slice(1));const d=u.charCodeAt(u.length-1),h=Zk(i.after.charCodeAt(0),d,r);h.inside&&(u=u.slice(0,-1)+Xk(d));const f=o.move(r+r);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:c.outside},s+u+f}sT.peek=function(e,t,n){return n.options.strong||"*"};const uT={blockquote:function(e,t,n,i){const r=n.enter("blockquote"),a=n.createTracker(i);a.move("> "),a.shift(2);const o=n.indentLines(n.containerFlow(e,a.current()),Bk);return r(),o},break:$k,code:function(e,t,n,i){const r=function(e){const t=e.options.fence||"`";if("`"!==t&&"~"!==t)throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}(n),a=e.value||"",o="`"===r?"GraveAccent":"Tilde";if(function(e,t){return!(!1!==t.options.fences||!e.value||e.lang||!/[^ \r\n]/.test(e.value)||/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}(e,n)){const e=n.enter("codeIndented"),t=n.indentLines(a,Uk);return e(),t}const s=n.createTracker(i),u=r.repeat(Math.max(function(e,t){const n=String(e);let i=n.indexOf(t),r=i,a=0,o=0;if("string"!=typeof t)throw new TypeError("Expected substring");for(;-1!==i;)i===r?++a>o&&(o=a):a=1,r=i+t.length,i=n.indexOf(t,r);return o}(a,r)+1,3)),l=n.enter("codeFenced");let c=s.move(u);if(e.lang){const t=n.enter(`codeFencedLang${o}`);c+=s.move(n.safe(e.lang,p({before:c,after:" ",encode:["`"]},s.current()))),t()}if(e.lang&&e.meta){const t=n.enter(`codeFencedMeta${o}`);c+=s.move(" "),c+=s.move(n.safe(e.meta,p({before:c,after:"\n",encode:["`"]},s.current()))),t()}return c+=s.move("\n"),a&&(c+=s.move(a+"\n")),c+=s.move(u),l(),c},definition:function(e,t,n,i){const r=qk(n),a='"'===r?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const u=n.createTracker(i);let l=u.move("[");return l+=u.move(n.safe(n.associationId(e),p({before:l,after:"]"},u.current()))),l+=u.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),l+=u.move("<"),l+=u.move(n.safe(e.url,p({before:l,after:">"},u.current()))),l+=u.move(">")):(s=n.enter("destinationRaw"),l+=u.move(n.safe(e.url,p({before:l,after:e.title?" ":"\n"},u.current())))),s(),e.title&&(s=n.enter(`title${a}`),l+=u.move(" "+r),l+=u.move(n.safe(e.title,p({before:l,after:r},u.current()))),l+=u.move(r),s()),o(),l},emphasis:jk,hardBreak:$k,heading:function(e,t,n,i){const r=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(i);if(function(e,t){let n=!1;return jC(e,function(e){if("value"in e&&/\r?\n|\r/.test(e.value)||"break"===e.type)return n=!0,XC}),!(e.depth&&!(e.depth<3)||!Gk(e)||!t.options.setext&&!n)}(e,n)){const t=n.enter("headingSetext"),i=n.enter("phrasing"),o=n.containerPhrasing(e,p(p({},a.current()),{},{before:"\n",after:"\n"}));return i(),t(),o+"\n"+(1===r?"=":"-").repeat(o.length-(Math.max(o.lastIndexOf("\r"),o.lastIndexOf("\n"))+1))}const o="#".repeat(r),s=n.enter("headingAtx"),u=n.enter("phrasing");a.move(o+" ");let l=n.containerPhrasing(e,p({before:"# ",after:"\n"},a.current()));return/^[\t ]/.test(l)&&(l=Xk(l.charCodeAt(0))+l.slice(1)),l=l?o+" "+l:o,n.options.closeAtx&&(l+=" "+o),u(),s(),l},html:Hk,image:Kk,imageReference:Jk,inlineCode:eT,link:nT,linkReference:iT,list:function(e,t,n,i){const r=n.enter("list"),a=n.bulletCurrent;let o=e.ordered?function(e){const t=e.options.bulletOrdered||".";if("."!==t&&")"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}(n):rT(n);const s=e.ordered?"."===o?")":".":function(e){const t=rT(e),n=e.options.bulletOther;if(!n)return"*"===t?"-":"*";if("*"!==n&&"+"!==n&&"-"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}(n);let u=!(!t||!n.bulletLastUsed)&&o===n.bulletLastUsed;if(!e.ordered){const t=e.children?e.children[0]:void 0;if(("*"===o||"-"===o)&&t&&(!t.children||!t.children[0])&&"list"===n.stack[n.stack.length-1]&&"listItem"===n.stack[n.stack.length-2]&&"list"===n.stack[n.stack.length-3]&&"listItem"===n.stack[n.stack.length-4]&&0===n.indexStack[n.indexStack.length-1]&&0===n.indexStack[n.indexStack.length-2]&&0===n.indexStack[n.indexStack.length-3]&&(u=!0),aT(n)===o&&t){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n&&"listItem"===n.type&&n.children&&n.children[0]&&"thematicBreak"===n.children[0].type){u=!0;break}}}}u&&(o=s),n.bulletCurrent=o;const l=n.containerFlow(e,i);return n.bulletLastUsed=o,n.bulletCurrent=a,r(),l},listItem:function(e,t,n,i){const r=function(e){const t=e.options.listItemIndent||"one";if("tab"!==t&&"one"!==t&&"mixed"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}(n);let a=n.bulletCurrent||rT(n);t&&"list"===t.type&&t.ordered&&(a=("number"==typeof t.start&&t.start>-1?t.start:1)+(!1===n.options.incrementListMarker?0:t.children.indexOf(e))+a);let o=a.length+1;("tab"===r||"mixed"===r&&(t&&"list"===t.type&&t.spread||e.spread))&&(o=4*Math.ceil(o/4));const s=n.createTracker(i);s.move(a+" ".repeat(o-a.length)),s.shift(o);const u=n.enter("listItem"),l=n.indentLines(n.containerFlow(e,s.current()),function(e,t,n){return t?(n?"":" ".repeat(o))+e:(n?a:a+" ".repeat(o-a.length))+e});return u(),l},paragraph:function(e,t,n,i){const r=n.enter("paragraph"),a=n.enter("phrasing"),o=n.containerPhrasing(e,i);return a(),r(),o},root:function(e,t,n,i){return(e.children.some(function(e){return oT(e)})?n.containerPhrasing:n.containerFlow).call(n,e,i)},strong:sT,text:function(e,t,n,i){return n.safe(e.value,i)},thematicBreak:function(e,t,n){const i=(aT(n)+(n.options.ruleSpaces?" ":"")).repeat(function(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}(n));return n.options.ruleSpaces?i.slice(0,-1):i}},lT=document.createElement("i");function cT(e){const t="&"+e+";";lT.innerHTML=t;const n=lT.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&n!==t&&n}function dT(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||!(65535&~n)||65534==(65535&n)||n>1114111?"":String.fromCodePoint(n)}const hT=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function pT(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return dT(n.slice(t?2:1),t?16:10)}return cT(n)||e}function fT(e){const t=e._align;this.enter({type:"table",align:t.map(function(e){return"none"===e?null:e}),children:[]},e),this.data.inTable=!0}function mT(e){this.exit(e),this.data.inTable=void 0}function OT(e){this.enter({type:"tableRow",children:[]},e)}function gT(e){this.exit(e)}function DT(e){this.enter({type:"tableCell",children:[]},e)}function vT(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,ET));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function ET(e,t){return"|"===t?t:e}function CT(e){const t=e||{},n=t.tableCellPadding,i=t.tablePipeAlign,r=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[\t :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:function(e,t,n){let i=uT.inlineCode(e,t,n);return n.stack.includes("tableCell")&&(i=i.replace(/\|/g,"\\$&")),i},table:function(e,t,n,i){return s(function(e,t,n){const i=e.children;let r=-1;const a=[],o=t.enter("table");for(;++r<i.length;)a[r]=u(i[r],t,n);return o(),a}(e,n,i),e.align)},tableCell:o,tableRow:function(e,t,n,i){const r=s([u(e,n,i)]);return r.slice(0,r.indexOf("\n"))}}};function o(e,t,n,i){const r=n.enter("tableCell"),o=n.enter("phrasing"),s=n.containerPhrasing(e,p(p({},i),{},{before:a,after:a}));return o(),r(),s}function s(e,t){return function(e,t){const n=t||{},i=(n.align||[]).concat(),r=n.stringLength||Ik,a=[],o=[],s=[],u=[];let l=0,c=-1;for(;++c<e.length;){const t=[],i=[];let a=-1;for(e[c].length>l&&(l=e[c].length);++a<e[c].length;){const o=Qk(e[c][a]);if(!1!==n.alignDelimiters){const e=r(o);i[a]=e,(void 0===u[a]||e>u[a])&&(u[a]=e)}t.push(o)}o[c]=t,s[c]=i}let d=-1;if("object"==typeof i&&"length"in i)for(;++d<l;)a[d]=Nk(i[d]);else{const e=Nk(i);for(;++d<l;)a[d]=e}d=-1;const h=[],p=[];for(;++d<l;){const e=a[d];let t="",i="";99===e?(t=":",i=":"):108===e?t=":":114===e&&(i=":");let r=!1===n.alignDelimiters?1:Math.max(1,u[d]-t.length-i.length);const o=t+"-".repeat(r)+i;!1!==n.alignDelimiters&&(r=t.length+r+i.length,r>u[d]&&(u[d]=r),p[d]=r),h[d]=o}o.splice(1,0,h),s.splice(1,0,p),c=-1;const f=[];for(;++c<o.length;){const e=o[c],t=s[c];d=-1;const i=[];for(;++d<l;){const r=e[d]||"";let o="",s="";if(!1!==n.alignDelimiters){const e=u[d]-(t[d]||0),n=a[d];114===n?o=" ".repeat(e):99===n?e%2?(o=" ".repeat(e/2+.5),s=" ".repeat(e/2-.5)):(o=" ".repeat(e/2),s=o):s=" ".repeat(e)}!1!==n.delimiterStart&&!d&&i.push("|"),!1!==n.padding&&!(!1===n.alignDelimiters&&""===r)&&(!1!==n.delimiterStart||d)&&i.push(" "),!1!==n.alignDelimiters&&i.push(o),i.push(r),!1!==n.alignDelimiters&&i.push(s),!1!==n.padding&&i.push(" "),(!1!==n.delimiterEnd||d!==l-1)&&i.push("|")}f.push(!1===n.delimiterEnd?i.join("").replace(/ +$/,""):i.join(""))}return f.join("\n")}(e,{align:t,alignDelimiters:i,padding:n,stringLength:r})}function u(e,t,n){const i=e.children;let r=-1;const a=[],s=t.enter("tableRow");for(;++r<i.length;)a[r]=o(i[r],0,t,n);return s(),a}}function bT(e){const t=this.stack[this.stack.length-2];t.type,t.checked="taskListCheckValueChecked"===e.type}function kT(e){const t=this.stack[this.stack.length-2];if(t&&"listItem"===t.type&&"boolean"==typeof t.checked){const e=this.stack[this.stack.length-1];e.type;const n=e.children[0];if(n&&"text"===n.type){const i=t.children;let r,a=-1;for(;++a<i.length;){const e=i[a];if("paragraph"===e.type){r=e;break}}r===e&&(n.value=n.value.slice(1),0===n.value.length?e.children.shift():e.position&&n.position&&"number"==typeof n.position.start.offset&&(n.position.start.column++,n.position.start.offset++,e.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function TT(e,t,n,i){const r=e.children[0],a="boolean"==typeof e.checked&&r&&"paragraph"===r.type,o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(i);a&&s.move(o);let u=uT.listItem(e,t,n,p(p({},i),s.current()));return a&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(e){return e+o})),u}const yT={}.hasOwnProperty;function AT(e){const t={};let n=-1;for(;++n<e.length;)ST(t,e[n]);return t}function ST(e,t){let n;for(n in t){const i=(yT.call(e,n)?e[n]:void 0)||(e[n]={}),r=t[n];let a;if(r)for(a in r){yT.call(i,a)||(i[a]=[]);const e=r[a];_T(i[a],Array.isArray(e)?e:e?[e]:[])}}}function _T(e,t){let n=-1;const i=[];for(;++n<t.length;)("after"===t[n].add?e:i).push(t[n]);Hb(e,0,0,i)}const FT={tokenize:function(e,t,n){let i=0;return function t(a){return(87===a||119===a)&&i<3?(i++,e.consume(a),t):46===a&&3===i?(e.consume(a),r):n(a)};function r(e){return null===e?n(e):t(e)}},partial:!0},wT={tokenize:function(e,t,n){let i,r,a;return o;function o(t){return 46===t||95===t?e.check(PT,u,s)(t):null===t||Fb(t)||Pb(t)||45!==t&&xb(t)?u(t):(a=!0,e.consume(t),o)}function s(t){return 95===t?i=!0:(r=i,i=void 0),e.consume(t),o}function u(e){return r||i||!a?n(e):t(e)}},partial:!0},xT={tokenize:function(e,t){let n=0,i=0;return r;function r(o){return 40===o?(n++,e.consume(o),r):41===o&&i<n?a(o):33===o||34===o||38===o||39===o||41===o||42===o||44===o||46===o||58===o||59===o||60===o||63===o||93===o||95===o||126===o?e.check(PT,t,a)(o):null===o||Fb(o)||Pb(o)?t(o):(e.consume(o),r)}function a(t){return 41===t&&i++,e.consume(t),r}},partial:!0},PT={tokenize:function(e,t,n){return i;function i(o){return 33===o||34===o||39===o||41===o||42===o||44===o||46===o||58===o||59===o||63===o||95===o||126===o?(e.consume(o),i):38===o?(e.consume(o),a):93===o?(e.consume(o),r):60===o||null===o||Fb(o)||Pb(o)?t(o):n(o)}function r(e){return null===e||40===e||91===e||Fb(e)||Pb(e)?t(e):i(e)}function a(e){return Cb(e)?o(e):n(e)}function o(t){return 59===t?(e.consume(t),i):Cb(t)?(e.consume(t),o):n(t)}},partial:!0},RT={tokenize:function(e,t,n){return function(t){return e.consume(t),i};function i(e){return bb(e)?n(e):t(e)}},partial:!0},IT={name:"wwwAutolink",tokenize:function(e,t,n){const i=this;return function(t){return 87!==t&&119!==t||!LT.call(i,i.previous)||XT(i.events)?n(t):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(FT,e.attempt(wT,e.attempt(xT,r),n),n)(t))};function r(n){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(n)}},previous:LT},QT={name:"protocolAutolink",tokenize:function(e,t,n){const i=this;let r="",a=!1;return function(t){return 72!==t&&104!==t||!$T.call(i,i.previous)||XT(i.events)?n(t):(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),r+=String.fromCodePoint(t),e.consume(t),o)};function o(t){if(Cb(t)&&r.length<5)return r+=String.fromCodePoint(t),e.consume(t),o;if(58===t){const n=r.toLowerCase();if("http"===n||"https"===n)return e.consume(t),s}return n(t)}function s(t){return 47===t?(e.consume(t),a?u:(a=!0,s)):n(t)}function u(t){return null===t||Tb(t)||Fb(t)||Pb(t)||xb(t)?n(t):e.attempt(wT,e.attempt(xT,l),n)(t)}function l(n){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(n)}},previous:$T},NT={name:"emailAutolink",tokenize:function(e,t,n){const i=this;let r,a;return function(t){return qT(t)&&UT.call(i,i.previous)&&!XT(i.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(t)):n(t)};function o(t){return qT(t)?(e.consume(t),o):64===t?(e.consume(t),s):n(t)}function s(t){return 46===t?e.check(RT,l,u)(t):45===t||95===t||bb(t)?(a=!0,e.consume(t),s):l(t)}function u(t){return e.consume(t),r=!0,s}function l(o){return a&&r&&Cb(i.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(o)):n(o)}},previous:UT},BT={};let MT=48;for(;MT<123;)BT[MT]=NT,MT++,58===MT?MT=65:91===MT&&(MT=97);function LT(e){return null===e||40===e||42===e||95===e||91===e||93===e||126===e||Fb(e)}function $T(e){return!Cb(e)}function UT(e){return!(47===e||qT(e))}function qT(e){return 43===e||45===e||46===e||95===e||bb(e)}function XT(e){let t=e.length,n=!1;for(;t--;){const i=e[t][1];if(("labelLink"===i.type||"labelImage"===i.type)&&!i._balanced){n=!0;break}if(i._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function zT(e){const t=[];let n=-1,i=0,r=0;for(;++n<e.length;){const a=e.charCodeAt(n);let o="";if(37===a&&bb(e.charCodeAt(n+1))&&bb(e.charCodeAt(n+2)))r=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const t=e.charCodeAt(n+1);a<56320&&t>56319&&t<57344?(o=String.fromCharCode(a,t),r=1):o=""}else o=String.fromCharCode(a);o&&(t.push(e.slice(i,n),encodeURIComponent(o)),i=n+r+1,o=""),r&&(n+=r,r=0)}return t.join("")+e.slice(i)}BT[43]=NT,BT[45]=NT,BT[46]=NT,BT[95]=NT,BT[72]=[NT,QT],BT[104]=[NT,QT],BT[87]=[NT,IT],BT[119]=[NT,IT];const ZT={name:"attention",resolveAll:function(e,t){let n,i,r,a,o,s,u,l,c=-1;for(;++c<e.length;)if("enter"===e[c][0]&&"attentionSequence"===e[c][1].type&&e[c][1]._close)for(n=c;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[c][1]).charCodeAt(0)){if((e[n][1]._close||e[c][1]._open)&&(e[c][1].end.offset-e[c][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[c][1].end.offset-e[c][1].start.offset)%3))continue;s=e[n][1].end.offset-e[n][1].start.offset>1&&e[c][1].end.offset-e[c][1].start.offset>1?2:1;const d=p({},e[n][1].end),h=p({},e[c][1].start);jT(d,-s),jT(h,s),a={type:s>1?"strongSequence":"emphasisSequence",start:d,end:p({},e[n][1].end)},o={type:s>1?"strongSequence":"emphasisSequence",start:p({},e[c][1].start),end:h},r={type:s>1?"strongText":"emphasisText",start:p({},e[n][1].end),end:p({},e[c][1].start)},i={type:s>1?"strong":"emphasis",start:p({},a.start),end:p({},o.end)},e[n][1].end=p({},a.start),e[c][1].start=p({},o.end),u=[],e[n][1].end.offset-e[n][1].start.offset&&(u=Kb(u,[["enter",e[n][1],t],["exit",e[n][1],t]])),u=Kb(u,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",r,t]]),u=Kb(u,Jb(t.parser.constructs.insideSpan.null,e.slice(n+1,c),t)),u=Kb(u,[["exit",r,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[c][1].end.offset-e[c][1].start.offset?(l=2,u=Kb(u,[["enter",e[c][1],t],["exit",e[c][1],t]])):l=0,Hb(e,n-1,c-n+3,u),c=n+u.length-l-2;break}for(c=-1;++c<e.length;)"attentionSequence"===e[c][1].type&&(e[c][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,r=zk(i);let a;return function(t){return a=t,e.enter("attentionSequence"),o(t)};function o(s){if(s===a)return e.consume(s),o;const u=e.exit("attentionSequence"),l=zk(s),c=!l||2===l&&r||n.includes(s),d=!r||2===r&&l||n.includes(i);return u._open=!!(42===a?c:c&&(r||!d)),u._close=!!(42===a?d:d&&(l||!c)),t(s)}}};function jT(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const WT={name:"autolink",tokenize:function(e,t,n){let i=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),r};function r(t){return Cb(t)?(e.consume(t),a):64===t?n(t):u(t)}function a(e){return 43===e||45===e||46===e||bb(e)?(i=1,o(e)):u(e)}function o(t){return 58===t?(e.consume(t),i=0,s):(43===t||45===t||46===t||bb(t))&&i++<32?(e.consume(t),o):(i=0,u(t))}function s(i){return 62===i?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(i),e.exit("autolinkMarker"),e.exit("autolink"),t):null===i||32===i||60===i||Tb(i)?n(i):(e.consume(i),s)}function u(t){return 64===t?(e.consume(t),l):kb(t)?(e.consume(t),u):n(t)}function l(e){return bb(e)?c(e):n(e)}function c(n){return 46===n?(e.consume(n),i=0,l):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):d(n)}function d(t){if((45===t||bb(t))&&i++<63){const n=45===t?d:c;return e.consume(t),n}return n(t)}}};function GT(e,t,n,i){const r=i?i-1:Number.POSITIVE_INFINITY;let a=0;return function(i){return wb(i)?(e.enter(n),o(i)):t(i)};function o(i){return wb(i)&&a++<r?(e.consume(i),o):(e.exit(n),t(i))}}const VT={partial:!0,tokenize:function(e,t,n){return function(t){return wb(t)?GT(e,i,"linePrefix")(t):i(t)};function i(e){return null===e||_b(e)?t(e):n(e)}}},YT={continuation:{tokenize:function(e,t,n){const i=this;return function(t){return wb(t)?GT(e,r,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):r(t)};function r(i){return e.attempt(YT,t,n)(i)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){const i=this;return function(t){if(62===t){const n=i.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),r}return n(t)};function r(n){return wb(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}}},HT={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),i};function i(i){return Sb(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}},KT={name:"characterReference",tokenize:function(e,t,n){const i=this;let r,a,o=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),s};function s(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),r=31,a=bb,l(t))}function u(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),r=6,a=Ab,l):(e.enter("characterReferenceValue"),r=7,a=yb,l(t))}function l(s){if(59===s&&o){const r=e.exit("characterReferenceValue");return a!==bb||cT(i.sliceSerialize(r))?(e.enter("characterReferenceMarker"),e.consume(s),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(s)}return a(s)&&o++<r?(e.consume(s),l):n(s)}}},JT={partial:!0,tokenize:function(e,t,n){const i=this;return function(t){return null===t?n(t):(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r)};function r(e){return i.parser.lazy[i.now().line]?n(e):t(e)}}},ey={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){const i=this,r={partial:!0,tokenize:function(e,t,n){let r=0;return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o};function o(t){return e.enter("codeFencedFence"),wb(t)?GT(e,u,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):u(t)}function u(t){return t===a?(e.enter("codeFencedFenceSequence"),l(t)):n(t)}function l(t){return t===a?(r++,e.consume(t),l):r>=s?(e.exit("codeFencedFenceSequence"),wb(t)?GT(e,c,"whitespace")(t):c(t)):n(t)}function c(i){return null===i||_b(i)?(e.exit("codeFencedFence"),t(i)):n(i)}}};let a,o=0,s=0;return function(t){return function(t){const n=i.events[i.events.length-1];return o=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,a=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(t)}(t)};function u(t){return t===a?(s++,e.consume(t),u):s<3?n(t):(e.exit("codeFencedFenceSequence"),wb(t)?GT(e,l,"whitespace")(t):l(t))}function l(n){return null===n||_b(n)?(e.exit("codeFencedFence"),i.interrupt?t(n):e.check(JT,p,D)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),c(n))}function c(t){return null===t||_b(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),l(t)):wb(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),GT(e,d,"whitespace")(t)):96===t&&t===a?n(t):(e.consume(t),c)}function d(t){return null===t||_b(t)?l(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(t))}function h(t){return null===t||_b(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),l(t)):96===t&&t===a?n(t):(e.consume(t),h)}function p(t){return e.attempt(r,D,f)(t)}function f(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),m}function m(t){return o>0&&wb(t)?GT(e,O,"linePrefix",o+1)(t):O(t)}function O(t){return null===t||_b(t)?e.check(JT,p,D)(t):(e.enter("codeFlowValue"),g(t))}function g(t){return null===t||_b(t)?(e.exit("codeFlowValue"),O(t)):(e.consume(t),g)}function D(n){return e.exit("codeFenced"),t(n)}}},ty={name:"codeIndented",tokenize:function(e,t,n){const i=this;return function(t){return e.enter("codeIndented"),GT(e,r,"linePrefix",5)(t)};function r(e){const t=i.events[i.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?a(e):n(e)}function a(t){return null===t?s(t):_b(t)?e.attempt(ny,a,s)(t):(e.enter("codeFlowValue"),o(t))}function o(t){return null===t||_b(t)?(e.exit("codeFlowValue"),a(t)):(e.consume(t),o)}function s(n){return e.exit("codeIndented"),t(n)}}},ny={partial:!0,tokenize:function(e,t,n){const i=this;return r;function r(t){return i.parser.lazy[i.now().line]?n(t):_b(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r):GT(e,a,"linePrefix",5)(t)}function a(e){const a=i.events[i.events.length-1];return a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(e):_b(e)?r(e):n(e)}}},iy={name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,n,i=e.length-4,r=3;if(!("lineEnding"!==e[r][1].type&&"space"!==e[r][1].type||"lineEnding"!==e[i][1].type&&"space"!==e[i][1].type))for(t=r;++t<i;)if("codeTextData"===e[t][1].type){e[r][1].type="codeTextPadding",e[i][1].type="codeTextPadding",r+=2,i-=2;break}for(t=r-1,i++;++t<=i;)void 0===n?t!==i&&"lineEnding"!==e[t][1].type&&(n=t):(t===i||"lineEnding"===e[t][1].type)&&(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),i-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let i,r,a=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),o(t)};function o(t){return 96===t?(e.consume(t),a++,o):(e.exit("codeTextSequence"),s(t))}function s(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),s):96===t?(r=e.enter("codeTextSequence"),i=0,l(t)):_b(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s):(e.enter("codeTextData"),u(t))}function u(t){return null===t||32===t||96===t||_b(t)?(e.exit("codeTextData"),s(t)):(e.consume(t),u)}function l(n){return 96===n?(e.consume(n),i++,l):i===a?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(r.type="codeTextData",u(n))}}};class ry{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null!=t?t:Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const i=t||0;this.setCursor(Math.trunc(e));const r=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&ay(this.left,n),r.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),ay(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),ay(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);ay(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);ay(this.left,t.reverse())}}}function ay(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function oy(e){const t={};let n,i,r,a,o,s,u,l=-1;const c=new ry(e);for(;++l<c.length;){for(;l in t;)l=t[l];if(n=c.get(l),l&&"chunkFlow"===n[1].type&&"listItemPrefix"===c.get(l-1)[1].type&&(s=n[1]._tokenizer.events,r=0,r<s.length&&"lineEndingBlank"===s[r][1].type&&(r+=2),r<s.length&&"content"===s[r][1].type))for(;++r<s.length&&"content"!==s[r][1].type;)"chunkText"===s[r][1].type&&(s[r][1]._isInFirstContentOfListItem=!0,r++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,sy(c,l)),l=t[l],u=!0);else if(n[1]._container){for(r=l,i=void 0;r--;)if(a=c.get(r),"lineEnding"===a[1].type||"lineEndingBlank"===a[1].type)"enter"===a[0]&&(i&&(c.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=r);else if("linePrefix"!==a[1].type&&"listItemIndent"!==a[1].type)break;i&&(n[1].end=p({},c.get(i)[1].start),o=c.slice(i,l),o.unshift(n),c.splice(i,l-i+1,o))}}return Hb(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function sy(e,t){const n=e.get(t)[1],i=e.get(t)[2];let r=t-1;const a=[];let o=n._tokenizer;o||(o=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,u=[],l={};let c,d,h=-1,p=n,f=0,m=0;const O=[m];for(;p;){for(;e.get(++r)[1]!==p;);a.push(r),p._tokenizer||(c=i.sliceStream(p),p.next||c.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++h<s.length;)"exit"===s[h][0]&&"enter"===s[h-1][0]&&s[h][1].type===s[h-1][1].type&&s[h][1].start.line!==s[h][1].end.line&&(m=h+1,O.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):O.pop(),h=O.length;h--;){const t=s.slice(O[h],O[h+1]),n=a.pop();u.push([n,n+t.length-1]),e.splice(n,2,t)}for(u.reverse(),h=-1;++h<u.length;)l[f+u[h][0]]=f+u[h][1],f+=u[h][1]-u[h][0]-1;return l}const uy={resolve:function(e){return oy(e),e},tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(t)};function i(t){return null===t?r(t):_b(t)?e.check(ly,a,r)(t):(e.consume(t),i)}function r(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function a(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}},ly={partial:!0,tokenize:function(e,t,n){const i=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),GT(e,r,"linePrefix")};function r(r){if(null===r||_b(r))return n(r);const a=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(r):e.interrupt(i.parser.constructs.flow,n,t)(r)}}};function cy(e,t,n,i,r,a,o,s,u){const l=u||Number.POSITIVE_INFINITY;let c=0;return function(t){return 60===t?(e.enter(i),e.enter(r),e.enter(a),e.consume(t),e.exit(a),d):null===t||32===t||41===t||Tb(t)?n(t):(e.enter(i),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),f(t))};function d(n){return 62===n?(e.enter(a),e.consume(n),e.exit(a),e.exit(r),e.exit(i),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),h(n))}function h(t){return 62===t?(e.exit("chunkString"),e.exit(s),d(t)):null===t||60===t||_b(t)?n(t):(e.consume(t),92===t?p:h)}function p(t){return 60===t||62===t||92===t?(e.consume(t),h):h(t)}function f(r){return c||null!==r&&41!==r&&!Fb(r)?c<l&&40===r?(e.consume(r),c++,f):41===r?(e.consume(r),c--,f):null===r||32===r||40===r||Tb(r)?n(r):(e.consume(r),92===r?m:f):(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(i),t(r))}function m(t){return 40===t||41===t||92===t?(e.consume(t),f):f(t)}}function dy(e,t,n,i,r,a){const o=this;let s,u=0;return function(t){return e.enter(i),e.enter(r),e.consume(t),e.exit(r),e.enter(a),l};function l(d){return u>999||null===d||91===d||93===d&&!s||94===d&&!u&&"_hiddenFootnoteSupport"in o.parser.constructs?n(d):93===d?(e.exit(a),e.enter(r),e.consume(d),e.exit(r),e.exit(i),t):_b(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(t){return null===t||91===t||93===t||_b(t)||u++>999?(e.exit("chunkString"),l(t)):(e.consume(t),s||(s=!wb(t)),92===t?d:c)}function d(t){return 91===t||92===t||93===t?(e.consume(t),u++,c):c(t)}}function hy(e,t,n,i,r,a){let o;return function(t){return 34===t||39===t||40===t?(e.enter(i),e.enter(r),e.consume(t),e.exit(r),o=40===t?41:t,s):n(t)};function s(n){return n===o?(e.enter(r),e.consume(n),e.exit(r),e.exit(i),t):(e.enter(a),u(n))}function u(t){return t===o?(e.exit(a),s(o)):null===t?n(t):_b(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),GT(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),l(t))}function l(t){return t===o||null===t||_b(t)?(e.exit("chunkString"),u(t)):(e.consume(t),92===t?c:l)}function c(t){return t===o||92===t?(e.consume(t),l):l(t)}}function py(e,t){let n;return function i(r){return _b(r)?(e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),n=!0,i):wb(r)?GT(e,i,n?"linePrefix":"lineSuffix")(r):t(r)}}const fy={name:"definition",tokenize:function(e,t,n){const i=this;let r;return function(t){return e.enter("definition"),function(t){return dy.call(i,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function a(t){return r=gk(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),o):n(t)}function o(t){return Fb(t)?py(e,s)(t):s(t)}function s(t){return cy(e,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function u(t){return e.attempt(my,l,l)(t)}function l(t){return wb(t)?GT(e,c,"whitespace")(t):c(t)}function c(a){return null===a||_b(a)?(e.exit("definition"),i.parser.defined.push(r),t(a)):n(a)}}},my={partial:!0,tokenize:function(e,t,n){return function(t){return Fb(t)?py(e,i)(t):n(t)};function i(t){return hy(e,r,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function r(t){return wb(t)?GT(e,a,"whitespace")(t):a(t)}function a(e){return null===e||_b(e)?t(e):n(e)}}},Oy={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),i};function i(i){return _b(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}},gy={name:"headingAtx",resolve:function(e,t){let n,i,r=e.length-2,a=3;return"whitespace"===e[a][1].type&&(a+=2),r-2>a&&"whitespace"===e[r][1].type&&(r-=2),"atxHeadingSequence"===e[r][1].type&&(a===r-1||r-4>a&&"whitespace"===e[r-2][1].type)&&(r-=a+1===r?2:4),r>a&&(n={type:"atxHeadingText",start:e[a][1].start,end:e[r][1].end},i={type:"chunkText",start:e[a][1].start,end:e[r][1].end,contentType:"text"},Hb(e,a,r-a+1,[["enter",n,t],["enter",i,t],["exit",i,t],["exit",n,t]])),e},tokenize:function(e,t,n){let i=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),r(t)}(t)};function r(t){return 35===t&&i++<6?(e.consume(t),r):null===t||Fb(t)?(e.exit("atxHeadingSequence"),a(t)):n(t)}function a(n){return 35===n?(e.enter("atxHeadingSequence"),o(n)):null===n||_b(n)?(e.exit("atxHeading"),t(n)):wb(n)?GT(e,a,"whitespace")(n):(e.enter("atxHeadingText"),s(n))}function o(t){return 35===t?(e.consume(t),o):(e.exit("atxHeadingSequence"),a(t))}function s(t){return null===t||35===t||Fb(t)?(e.exit("atxHeadingText"),a(t)):(e.consume(t),s)}}},Dy=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],vy=["pre","script","style","textarea"],Ey={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););return t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e},tokenize:function(e,t,n){const i=this;let r,a,o,s,u;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),l}(t)};function l(s){return 33===s?(e.consume(s),c):47===s?(e.consume(s),a=!0,p):63===s?(e.consume(s),r=3,i.interrupt?t:I):Cb(s)?(e.consume(s),o=String.fromCharCode(s),f):n(s)}function c(a){return 45===a?(e.consume(a),r=2,d):91===a?(e.consume(a),r=5,s=0,h):Cb(a)?(e.consume(a),r=4,i.interrupt?t:I):n(a)}function d(r){return 45===r?(e.consume(r),i.interrupt?t:I):n(r)}function h(r){return r==="CDATA[".charCodeAt(s++)?(e.consume(r),6===s?i.interrupt?t:A:h):n(r)}function p(t){return Cb(t)?(e.consume(t),o=String.fromCharCode(t),f):n(t)}function f(s){if(null===s||47===s||62===s||Fb(s)){const u=47===s,l=o.toLowerCase();return u||a||!vy.includes(l)?Dy.includes(o.toLowerCase())?(r=6,u?(e.consume(s),m):i.interrupt?t(s):A(s)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(s):a?O(s):g(s)):(r=1,i.interrupt?t(s):A(s))}return 45===s||bb(s)?(e.consume(s),o+=String.fromCharCode(s),f):n(s)}function m(r){return 62===r?(e.consume(r),i.interrupt?t:A):n(r)}function O(t){return wb(t)?(e.consume(t),O):T(t)}function g(t){return 47===t?(e.consume(t),T):58===t||95===t||Cb(t)?(e.consume(t),D):wb(t)?(e.consume(t),g):T(t)}function D(t){return 45===t||46===t||58===t||95===t||bb(t)?(e.consume(t),D):v(t)}function v(t){return 61===t?(e.consume(t),E):wb(t)?(e.consume(t),v):g(t)}function E(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),u=t,C):wb(t)?(e.consume(t),E):b(t)}function C(t){return t===u?(e.consume(t),u=null,k):null===t||_b(t)?n(t):(e.consume(t),C)}function b(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||Fb(t)?v(t):(e.consume(t),b)}function k(e){return 47===e||62===e||wb(e)?g(e):n(e)}function T(t){return 62===t?(e.consume(t),y):n(t)}function y(t){return null===t||_b(t)?A(t):wb(t)?(e.consume(t),y):n(t)}function A(t){return 45===t&&2===r?(e.consume(t),w):60===t&&1===r?(e.consume(t),x):62===t&&4===r?(e.consume(t),Q):63===t&&3===r?(e.consume(t),I):93===t&&5===r?(e.consume(t),R):!_b(t)||6!==r&&7!==r?null===t||_b(t)?(e.exit("htmlFlowData"),S(t)):(e.consume(t),A):(e.exit("htmlFlowData"),e.check(Cy,N,S)(t))}function S(t){return e.check(by,_,N)(t)}function _(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),F}function F(t){return null===t||_b(t)?S(t):(e.enter("htmlFlowData"),A(t))}function w(t){return 45===t?(e.consume(t),I):A(t)}function x(t){return 47===t?(e.consume(t),o="",P):A(t)}function P(t){if(62===t){const n=o.toLowerCase();return vy.includes(n)?(e.consume(t),Q):A(t)}return Cb(t)&&o.length<8?(e.consume(t),o+=String.fromCharCode(t),P):A(t)}function R(t){return 93===t?(e.consume(t),I):A(t)}function I(t){return 62===t?(e.consume(t),Q):45===t&&2===r?(e.consume(t),I):A(t)}function Q(t){return null===t||_b(t)?(e.exit("htmlFlowData"),N(t)):(e.consume(t),Q)}function N(n){return e.exit("htmlFlow"),t(n)}}},Cy={partial:!0,tokenize:function(e,t,n){return function(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(VT,t,n)}}},by={partial:!0,tokenize:function(e,t,n){const i=this;return function(t){return _b(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r):n(t)};function r(e){return i.parser.lazy[i.now().line]?n(e):t(e)}}},ky={name:"htmlText",tokenize:function(e,t,n){const i=this;let r,a,o;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),s};function s(t){return 33===t?(e.consume(t),u):47===t?(e.consume(t),E):63===t?(e.consume(t),D):Cb(t)?(e.consume(t),k):n(t)}function u(t){return 45===t?(e.consume(t),l):91===t?(e.consume(t),a=0,p):Cb(t)?(e.consume(t),g):n(t)}function l(t){return 45===t?(e.consume(t),h):n(t)}function c(t){return null===t?n(t):45===t?(e.consume(t),d):_b(t)?(o=c,P(t)):(e.consume(t),c)}function d(t){return 45===t?(e.consume(t),h):c(t)}function h(e){return 62===e?x(e):45===e?d(e):c(e)}function p(t){return t==="CDATA[".charCodeAt(a++)?(e.consume(t),6===a?f:p):n(t)}function f(t){return null===t?n(t):93===t?(e.consume(t),m):_b(t)?(o=f,P(t)):(e.consume(t),f)}function m(t){return 93===t?(e.consume(t),O):f(t)}function O(t){return 62===t?x(t):93===t?(e.consume(t),O):f(t)}function g(t){return null===t||62===t?x(t):_b(t)?(o=g,P(t)):(e.consume(t),g)}function D(t){return null===t?n(t):63===t?(e.consume(t),v):_b(t)?(o=D,P(t)):(e.consume(t),D)}function v(e){return 62===e?x(e):D(e)}function E(t){return Cb(t)?(e.consume(t),C):n(t)}function C(t){return 45===t||bb(t)?(e.consume(t),C):b(t)}function b(t){return _b(t)?(o=b,P(t)):wb(t)?(e.consume(t),b):x(t)}function k(t){return 45===t||bb(t)?(e.consume(t),k):47===t||62===t||Fb(t)?T(t):n(t)}function T(t){return 47===t?(e.consume(t),x):58===t||95===t||Cb(t)?(e.consume(t),y):_b(t)?(o=T,P(t)):wb(t)?(e.consume(t),T):x(t)}function y(t){return 45===t||46===t||58===t||95===t||bb(t)?(e.consume(t),y):A(t)}function A(t){return 61===t?(e.consume(t),S):_b(t)?(o=A,P(t)):wb(t)?(e.consume(t),A):T(t)}function S(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),r=t,_):_b(t)?(o=S,P(t)):wb(t)?(e.consume(t),S):(e.consume(t),F)}function _(t){return t===r?(e.consume(t),r=void 0,w):null===t?n(t):_b(t)?(o=_,P(t)):(e.consume(t),_)}function F(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||Fb(t)?T(t):(e.consume(t),F)}function w(e){return 47===e||62===e||Fb(e)?T(e):n(e)}function x(i){return 62===i?(e.consume(i),e.exit("htmlTextData"),e.exit("htmlText"),t):n(i)}function P(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),R}function R(t){return wb(t)?GT(e,I,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):I(t)}function I(t){return e.enter("htmlTextData"),o(t)}}},Ty={name:"labelEnd",resolveAll:function(e){let t=-1;const n=[];for(;++t<e.length;){const i=e[t][1];if(n.push(e[t]),"labelImage"===i.type||"labelLink"===i.type||"labelEnd"===i.type){const e="labelImage"===i.type?4:2;i.type="data",t+=e}}return e.length!==n.length&&Hb(e,0,e.length,n),e},resolveTo:function(e,t){let n,i,r,a,o=e.length,s=0;for(;o--;)if(n=e[o][1],i){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[o][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(r){if("enter"===e[o][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(i=o,"labelLink"!==n.type)){s=2;break}}else"labelEnd"===n.type&&(r=o);const u={type:"labelLink"===e[i][1].type?"link":"image",start:p({},e[i][1].start),end:p({},e[e.length-1][1].end)},l={type:"label",start:p({},e[i][1].start),end:p({},e[r][1].end)},c={type:"labelText",start:p({},e[i+s+2][1].end),end:p({},e[r-2][1].start)};return a=[["enter",u,t],["enter",l,t]],a=Kb(a,e.slice(i+1,i+s+3)),a=Kb(a,[["enter",c,t]]),a=Kb(a,Jb(t.parser.constructs.insideSpan.null,e.slice(i+s+4,r-3),t)),a=Kb(a,[["exit",c,t],e[r-2],e[r-1],["exit",l,t]]),a=Kb(a,e.slice(r+1)),a=Kb(a,[["exit",u,t]]),Hb(e,i,e.length,a),e},tokenize:function(e,t,n){const i=this;let r,a,o=i.events.length;for(;o--;)if(("labelImage"===i.events[o][1].type||"labelLink"===i.events[o][1].type)&&!i.events[o][1]._balanced){r=i.events[o][1];break}return function(t){return r?r._inactive?c(t):(a=i.parser.defined.includes(gk(i.sliceSerialize({start:r.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),s):n(t)};function s(t){return 40===t?e.attempt(yy,l,a?l:c)(t):91===t?e.attempt(Ay,l,a?u:c)(t):a?l(t):c(t)}function u(t){return e.attempt(Sy,l,c)(t)}function l(e){return t(e)}function c(e){return r._balanced=!0,n(e)}}},yy={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),i};function i(t){return Fb(t)?py(e,r)(t):r(t)}function r(t){return 41===t?l(t):cy(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function a(t){return Fb(t)?py(e,s)(t):l(t)}function o(e){return n(e)}function s(t){return 34===t||39===t||40===t?hy(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):l(t)}function u(t){return Fb(t)?py(e,l)(t):l(t)}function l(i){return 41===i?(e.enter("resourceMarker"),e.consume(i),e.exit("resourceMarker"),e.exit("resource"),t):n(i)}}},Ay={tokenize:function(e,t,n){const i=this;return function(t){return dy.call(i,e,r,a,"reference","referenceMarker","referenceString")(t)};function r(e){return i.parser.defined.includes(gk(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function a(e){return n(e)}}},Sy={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),i};function i(i){return 93===i?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}},_y={name:"labelStartImage",resolveAll:Ty.resolveAll,tokenize:function(e,t,n){const i=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),r};function r(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),a):n(t)}function a(e){return 94===e&&"_hiddenFootnoteSupport"in i.parser.constructs?n(e):t(e)}}},Fy={name:"labelStartLink",resolveAll:Ty.resolveAll,tokenize:function(e,t,n){const i=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),r};function r(e){return 94===e&&"_hiddenFootnoteSupport"in i.parser.constructs?n(e):t(e)}}},wy={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),GT(e,t,"linePrefix")}}},xy={name:"thematicBreak",tokenize:function(e,t,n){let i,r=0;return function(t){return e.enter("thematicBreak"),function(e){return i=e,a(e)}(t)};function a(a){return a===i?(e.enter("thematicBreakSequence"),o(a)):r>=3&&(null===a||_b(a))?(e.exit("thematicBreak"),t(a)):n(a)}function o(t){return t===i?(e.consume(t),r++,o):(e.exit("thematicBreakSequence"),wb(t)?GT(e,a,"whitespace")(t):a(t))}}},Py={continuation:{tokenize:function(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(VT,function(n){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,GT(e,t,"listItemIndent",i.containerState.size+1)(n)},function(n){return i.containerState.furtherBlankLines||!wb(n)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,r(n)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(Iy,t,r)(n))});function r(r){return i.containerState._closeFlow=!0,i.interrupt=void 0,GT(e,e.attempt(Py,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(r)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){const i=this,r=i.events[i.events.length-1];let a=r&&"linePrefix"===r[1].type?r[2].sliceSerialize(r[1],!0).length:0,o=0;return function(t){const r=i.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===r?!i.containerState.marker||t===i.containerState.marker:yb(t)){if(i.containerState.type||(i.containerState.type=r,e.enter(r,{_container:!0})),"listUnordered"===r)return e.enter("listItemPrefix"),42===t||45===t?e.check(xy,n,u)(t):u(t);if(!i.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(t)}return n(t)};function s(t){return yb(t)&&++o<10?(e.consume(t),s):(!i.interrupt||o<2)&&(i.containerState.marker?t===i.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),u(t)):n(t)}function u(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||t,e.check(VT,i.interrupt?n:l,e.attempt(Ry,d,c))}function l(e){return i.containerState.initialBlankLine=!0,a++,d(e)}function c(t){return wb(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),d):n(t)}function d(n){return i.containerState.size=a+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}}},Ry={partial:!0,tokenize:function(e,t,n){const i=this;return GT(e,function(e){const r=i.events[i.events.length-1];return!wb(e)&&r&&"listItemPrefixWhitespace"===r[1].type?t(e):n(e)},"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},Iy={partial:!0,tokenize:function(e,t,n){const i=this;return GT(e,function(e){const r=i.events[i.events.length-1];return r&&"listItemIndent"===r[1].type&&r[2].sliceSerialize(r[1],!0).length===i.containerState.size?t(e):n(e)},"listItemIndent",i.containerState.size+1)}},Qy={name:"setextUnderline",resolveTo:function(e,t){let n,i,r,a=e.length;for(;a--;)if("enter"===e[a][0]){if("content"===e[a][1].type){n=a;break}"paragraph"===e[a][1].type&&(i=a)}else"content"===e[a][1].type&&e.splice(a,1),!r&&"definition"===e[a][1].type&&(r=a);const o={type:"setextHeading",start:p({},e[n][1].start),end:p({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",r?(e.splice(i,0,["enter",o,t]),e.splice(r+1,0,["exit",e[n][1],t]),e[n][1].end=p({},e[r][1].end)):e[n][1]=o,e.push(["exit",o,t]),e},tokenize:function(e,t,n){const i=this;let r;return function(t){let o,s=i.events.length;for(;s--;)if("lineEnding"!==i.events[s][1].type&&"linePrefix"!==i.events[s][1].type&&"content"!==i.events[s][1].type){o="paragraph"===i.events[s][1].type;break}return i.parser.lazy[i.now().line]||!i.interrupt&&!o?n(t):(e.enter("setextHeadingLine"),r=t,function(t){return e.enter("setextHeadingLineSequence"),a(t)}(t))};function a(t){return t===r?(e.consume(t),a):(e.exit("setextHeadingLineSequence"),wb(t)?GT(e,o,"lineSuffix")(t):o(t))}function o(i){return null===i||_b(i)?(e.exit("setextHeadingLine"),t(i)):n(i)}}},Ny={tokenize:function(e,t,n){const i=this;return GT(e,function(e){const r=i.events[i.events.length-1];return r&&"gfmFootnoteDefinitionIndent"===r[1].type&&4===r[2].sliceSerialize(r[1],!0).length?t(e):n(e)},"gfmFootnoteDefinitionIndent",5)},partial:!0};function By(e,t,n){const i=this;let r=i.events.length;const a=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o;for(;r--;){const e=i.events[r][1];if("labelImage"===e.type){o=e;break}if("gfmFootnoteCall"===e.type||"labelLink"===e.type||"label"===e.type||"image"===e.type||"link"===e.type)break}return function(r){if(!o||!o._balanced)return n(r);const s=gk(i.sliceSerialize({start:o.end,end:i.now()}));return 94===s.codePointAt(0)&&a.includes(s.slice(1))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(r),e.exit("gfmFootnoteCallLabelMarker"),t(r)):n(r)}}function My(e,t){let n=e.length;for(;n--;)if("labelImage"===e[n][1].type&&"enter"===e[n][0]){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},s=[e[n+1],e[n+2],["enter",i,t],e[n+3],e[n+4],["enter",r,t],["exit",r,t],["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",i,t]];return e.splice(n,e.length-n+1,...s),e}function Ly(e,t,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let a,o=0;return function(t){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(t),e.exit("gfmFootnoteCallLabelMarker"),s};function s(t){return 94!==t?n(t):(e.enter("gfmFootnoteCallMarker"),e.consume(t),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(s){if(o>999||93===s&&!a||null===s||91===s||Fb(s))return n(s);if(93===s){e.exit("chunkString");const a=e.exit("gfmFootnoteCallString");return r.includes(gk(i.sliceSerialize(a)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(s),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(s)}return Fb(s)||(a=!0),o++,e.consume(s),92===s?l:u}function l(t){return 91===t||92===t||93===t?(e.consume(t),o++,u):u(t)}}function $y(e,t,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let a,o,s=0;return function(t){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),u};function u(t){return 94===t?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",l):n(t)}function l(t){if(s>999||93===t&&!o||null===t||91===t||Fb(t))return n(t);if(93===t){e.exit("chunkString");const n=e.exit("gfmFootnoteDefinitionLabelString");return a=gk(i.sliceSerialize(n)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),d}return Fb(t)||(o=!0),s++,e.consume(t),92===t?c:l}function c(t){return 91===t||92===t||93===t?(e.consume(t),s++,l):l(t)}function d(t){return 58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),r.includes(a)||r.push(a),GT(e,h,"gfmFootnoteDefinitionWhitespace")):n(t)}function h(e){return t(e)}}function Uy(e,t,n){return e.check(VT,t,e.attempt(Ny,t,n))}function qy(e){e.exit("gfmFootnoteDefinition")}function Xy(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:function(e,n,i){const r=this.previous,a=this.events;let o=0;return function(t){return 126===r&&"characterEscape"!==a[a.length-1][1].type?i(t):(e.enter("strikethroughSequenceTemporary"),s(t))};function s(a){const u=zk(r);if(126===a)return o>1?i(a):(e.consume(a),o++,s);if(o<2&&!t)return i(a);const l=e.exit("strikethroughSequenceTemporary"),c=zk(a);return l._open=!c||2===c&&!!u,l._close=!u||2===u&&!!c,n(a)}},resolveAll:function(e,t){let n=-1;for(;++n<e.length;)if("enter"===e[n][0]&&"strikethroughSequenceTemporary"===e[n][1].type&&e[n][1]._close){let i=n;for(;i--;)if("exit"===e[i][0]&&"strikethroughSequenceTemporary"===e[i][1].type&&e[i][1]._open&&e[n][1].end.offset-e[n][1].start.offset===e[i][1].end.offset-e[i][1].start.offset){e[n][1].type="strikethroughSequence",e[i][1].type="strikethroughSequence";const r={type:"strikethrough",start:Object.assign({},e[i][1].start),end:Object.assign({},e[n][1].end)},a={type:"strikethroughText",start:Object.assign({},e[i][1].end),end:Object.assign({},e[n][1].start)},o=[["enter",r,t],["enter",e[i][1],t],["exit",e[i][1],t],["enter",a,t]],s=t.parser.constructs.insideSpan.null;s&&Hb(o,o.length,0,Jb(s,e.slice(i+1,n),t)),Hb(o,o.length,0,[["exit",a,t],["enter",e[n][1],t],["exit",e[n][1],t],["exit",r,t]]),Hb(e,i-1,n-i+3,o),n=i+o.length-2;break}}for(n=-1;++n<e.length;)"strikethroughSequenceTemporary"===e[n][1].type&&(e[n][1].type="data");return e}};return null==t&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}}}class zy{constructor(){this.map=[]}add(e,t,n){!function(e,t,n,i){let r=0;if(0!==n||0!==i.length){for(;r<e.map.length;){if(e.map[r][0]===t)return e.map[r][1]+=n,void e.map[r][2].push(...i);r+=1}e.map.push([t,n,i])}}(this,e,t,n)}consume(e){if(this.map.sort(function(e,t){return e[0]-t[0]}),0===this.map.length)return;let t=this.map.length;const n=[];for(;t>0;)t-=1,n.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];n.push(e.slice()),e.length=0;let i=n.pop();for(;i;){for(const t of i)e.push(t);i=n.pop()}this.map.length=0}}function Zy(e,t){let n=!1;const i=[];for(;t<e.length;){const r=e[t];if(n){if("enter"===r[0])"tableContent"===r[1].type&&i.push("tableDelimiterMarker"===e[t+1][1].type?"left":"none");else if("tableContent"===r[1].type){if("tableDelimiterMarker"===e[t-1][1].type){const e=i.length-1;i[e]="left"===i[e]?"center":"right"}}else if("tableDelimiterRow"===r[1].type)break}else"enter"===r[0]&&"tableDelimiterRow"===r[1].type&&(n=!0);t+=1}return i}function jy(e,t,n){const i=this;let r,a=0,o=0;return function(e){let t=i.events.length-1;for(;t>-1;){const e=i.events[t][1].type;if("lineEnding"!==e&&"linePrefix"!==e)break;t--}const r=t>-1?i.events[t][1].type:null,a="tableHead"===r||"tableRow"===r?E:s;return a===E&&i.parser.lazy[i.now().line]?n(e):a(e)};function s(t){return e.enter("tableHead"),e.enter("tableRow"),function(e){return 124===e||(r=!0,o+=1),u(e)}(t)}function u(t){return null===t?n(t):_b(t)?o>1?(o=0,i.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),d):n(t):wb(t)?GT(e,u,"whitespace")(t):(o+=1,r&&(r=!1,a+=1),124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),r=!0,u):(e.enter("data"),l(t)))}function l(t){return null===t||124===t||Fb(t)?(e.exit("data"),u(t)):(e.consume(t),92===t?c:l)}function c(t){return 92===t||124===t?(e.consume(t),l):l(t)}function d(t){return i.interrupt=!1,i.parser.lazy[i.now().line]?n(t):(e.enter("tableDelimiterRow"),r=!1,wb(t)?GT(e,h,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):h(t))}function h(t){return 45===t||58===t?f(t):124===t?(r=!0,e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),p):v(t)}function p(t){return wb(t)?GT(e,f,"whitespace")(t):f(t)}function f(t){return 58===t?(o+=1,r=!0,e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),m):45===t?(o+=1,m(t)):null===t||_b(t)?D(t):v(t)}function m(t){return 45===t?(e.enter("tableDelimiterFiller"),O(t)):v(t)}function O(t){return 45===t?(e.consume(t),O):58===t?(r=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),g):(e.exit("tableDelimiterFiller"),g(t))}function g(t){return wb(t)?GT(e,D,"whitespace")(t):D(t)}function D(n){return 124===n?h(n):(null===n||_b(n))&&r&&a===o?(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(n)):v(n)}function v(e){return n(e)}function E(t){return e.enter("tableRow"),C(t)}function C(n){return 124===n?(e.enter("tableCellDivider"),e.consume(n),e.exit("tableCellDivider"),C):null===n||_b(n)?(e.exit("tableRow"),t(n)):wb(n)?GT(e,C,"whitespace")(n):(e.enter("data"),b(n))}function b(t){return null===t||124===t||Fb(t)?(e.exit("data"),C(t)):(e.consume(t),92===t?k:b)}function k(t){return 92===t||124===t?(e.consume(t),b):b(t)}}function Wy(e,t){let n,i,r,a=-1,o=!0,s=0,u=[0,0,0,0],l=[0,0,0,0],c=!1,d=0;const h=new zy;for(;++a<e.length;){const p=e[a],f=p[1];"enter"===p[0]?"tableHead"===f.type?(c=!1,0!==d&&(Vy(h,t,d,n,i),i=void 0,d=0),n={type:"table",start:Object.assign({},f.start),end:Object.assign({},f.end)},h.add(a,0,[["enter",n,t]])):"tableRow"===f.type||"tableDelimiterRow"===f.type?(o=!0,r=void 0,u=[0,0,0,0],l=[0,a+1,0,0],c&&(c=!1,i={type:"tableBody",start:Object.assign({},f.start),end:Object.assign({},f.end)},h.add(a,0,[["enter",i,t]])),s="tableDelimiterRow"===f.type?2:i?3:1):!s||"data"!==f.type&&"tableDelimiterMarker"!==f.type&&"tableDelimiterFiller"!==f.type?"tableCellDivider"===f.type&&(o?o=!1:(0!==u[1]&&(l[0]=l[1],r=Gy(h,t,u,s,void 0,r)),u=l,l=[u[1],a,0,0])):(o=!1,0===l[2]&&(0!==u[1]&&(l[0]=l[1],r=Gy(h,t,u,s,void 0,r),u=[0,0,0,0]),l[2]=a)):"tableHead"===f.type?(c=!0,d=a):"tableRow"===f.type||"tableDelimiterRow"===f.type?(d=a,0!==u[1]?(l[0]=l[1],r=Gy(h,t,u,s,a,r)):0!==l[1]&&(r=Gy(h,t,l,s,a,r)),s=0):s&&("data"===f.type||"tableDelimiterMarker"===f.type||"tableDelimiterFiller"===f.type)&&(l[3]=a)}for(0!==d&&Vy(h,t,d,n,i),h.consume(t.events),a=-1;++a<t.events.length;){const e=t.events[a];"enter"===e[0]&&"table"===e[1].type&&(e[1]._align=Zy(t.events,a))}return e}function Gy(e,t,n,i,r,a){const o=1===i?"tableHeader":2===i?"tableDelimiter":"tableData";0!==n[0]&&(a.end=Object.assign({},Yy(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const s=Yy(t.events,n[1]);if(a={type:o,start:Object.assign({},s),end:Object.assign({},s)},e.add(n[1],0,[["enter",a,t]]),0!==n[2]){const r=Yy(t.events,n[2]),a=Yy(t.events,n[3]),o={type:"tableContent",start:Object.assign({},r),end:Object.assign({},a)};if(e.add(n[2],0,[["enter",o,t]]),2!==i){const i=t.events[n[2]],r=t.events[n[3]];if(i[1].end=Object.assign({},r[1].end),i[1].type="chunkText",i[1].contentType="text",n[3]>n[2]+1){const t=n[2]+1,i=n[3]-n[2]-1;e.add(t,i,[])}}e.add(n[3]+1,0,[["exit",o,t]])}return void 0!==r&&(a.end=Object.assign({},Yy(t.events,r)),e.add(r,0,[["exit",a,t]]),a=void 0),a}function Vy(e,t,n,i,r){const a=[],o=Yy(t.events,n);r&&(r.end=Object.assign({},o),a.push(["exit",r,t])),i.end=Object.assign({},o),a.push(["exit",i,t]),e.add(n+1,0,a)}function Yy(e,t){const n=e[t],i="enter"===n[0]?"start":"end";return n[1][i]}const Hy={name:"tasklistCheck",tokenize:function(e,t,n){const i=this;return function(t){return null===i.previous&&i._gfmTasklistFirstContentOfListItem?(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),r):n(t)};function r(t){return Fb(t)?(e.enter("taskListCheckValueUnchecked"),e.consume(t),e.exit("taskListCheckValueUnchecked"),a):88===t||120===t?(e.enter("taskListCheckValueChecked"),e.consume(t),e.exit("taskListCheckValueChecked"),a):n(t)}function a(t){return 93===t?(e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(t)}function o(i){return _b(i)?t(i):wb(i)?e.check({tokenize:Ky},t,n)(i):n(i)}}};function Ky(e,t,n){return GT(e,function(e){return null===e?n(e):t(e)},"whitespace")}const Jy={},eA=1024;let tA=0;class nA{constructor(e,t){this.from=e,this.to=t}}class iA{constructor(e={}){this.id=tA++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=oA.match(e)),t=>{let n=e(t);return void 0===n?null:[this,n]}}}iA.closedBy=new iA({deserialize:e=>e.split(" ")}),iA.openedBy=new iA({deserialize:e=>e.split(" ")}),iA.group=new iA({deserialize:e=>e.split(" ")}),iA.isolate=new iA({deserialize:e=>{if(e&&"rtl"!=e&&"ltr"!=e&&"auto"!=e)throw new RangeError("Invalid value for isolate: "+e);return e||"auto"}}),iA.contextHash=new iA({perNode:!0}),iA.lookAhead=new iA({perNode:!0}),iA.mounted=new iA({perNode:!0});class rA{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}static get(e){return e&&e.props&&e.props[iA.mounted.id]}}const aA=Object.create(null);class oA{constructor(e,t,n,i=0){this.name=e,this.props=t,this.id=n,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):aA,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),i=new oA(e.name||"",t,e.id,n);if(e.props)for(let n of e.props)if(Array.isArray(n)||(n=n(i)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[n[0].id]=n[1]}return i}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(iA.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let i of n.split(" "))t[i]=e[n];return e=>{for(let n=e.prop(iA.group),i=-1;i<(n?n.length:0);i++){let r=t[i<0?e.name:n[i]];if(r)return r}}}}oA.none=new oA("",Object.create(null),0,8);class sA{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let i=null;for(let t of e){let e=t(n);if(e){i||(i=Object.assign({},n.props));let t=e[1],r=e[0];r.combine&&r.id in i&&(t=r.combine(i[r.id],t)),i[r.id]=t}}t.push(i?new oA(n.name,i,n.id,n.flags):n)}return new sA(t)}}const uA=new WeakMap,lA=new WeakMap;var cA;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(cA||(cA={}));class dA{constructor(e,t,n,i,r){if(this.type=e,this.children=t,this.positions=n,this.length=i,this.props=null,r&&r.length){this.props=Object.create(null);for(let[e,t]of r)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=rA.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let e of this.children){let n=e.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new TA(this.topNode,e)}cursorAt(e,t=0,n=0){let i=uA.get(this)||this.topNode,r=new TA(i);return r.moveTo(e,t),uA.set(this,r._tree),r}get topNode(){return new gA(this,0,0,null)}resolve(e,t=0){let n=mA(uA.get(this)||this.topNode,e,t,!1);return uA.set(this,n),n}resolveInner(e,t=0){let n=mA(lA.get(this)||this.topNode,e,t,!0);return lA.set(this,n),n}resolveStack(e,t=0){return function(e,t,n){let i=e.resolveInner(t,n),r=null;for(let e=i instanceof gA?i:i.context.parent;e;e=e.parent)if(e.index<0){let a=e.parent;(r||(r=[i])).push(a.resolve(t,n)),e=a}else{let a=rA.get(e.tree);if(a&&a.overlay&&a.overlay[0].from<=t&&a.overlay[a.overlay.length-1].to>=t){let o=new gA(a.tree,a.overlay[0].from+e.from,-1,e);(r||(r=[i])).push(mA(o,t,n,!1))}}return r?bA(r):i}(this,e,t)}iterate(e){let{enter:t,leave:n,from:i=0,to:r=this.length}=e,a=e.mode||0,o=(a&cA.IncludeAnonymous)>0;for(let e=this.cursor(a|cA.IncludeAnonymous);;){let a=!1;if(e.from<=r&&e.to>=i&&(!o&&e.type.isAnonymous||!1!==t(e))){if(e.firstChild())continue;a=!0}for(;a&&n&&(o||!e.type.isAnonymous)&&n(e),!e.nextSibling();){if(!e.parent())return;a=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:_A(oA.none,this.children,this.positions,0,this.children.length,0,this.length,(e,t,n)=>new dA(this.type,e,t,n,this.propValues),e.makeTree||((e,t,n)=>new dA(oA.none,e,t,n)))}static build(e){return function(e){var t;let{buffer:n,nodeSet:i,maxBufferLength:r=eA,reused:a=[],minRepeatType:o=i.types.length}=e,s=Array.isArray(n)?new hA(n,n.length):n,u=i.types,l=0,c=0;function d(e,t,n,O,g,D){let{id:v,start:E,end:C,size:b}=s,k=c,T=l;if(b<0){if(s.next(),-1==b){let t=a[v];return n.push(t),void O.push(E-e)}if(-3==b)return void(l=v);if(-4==b)return void(c=v);throw new RangeError(`Unrecognized record size: ${b}`)}let y,A,S=u[v],_=E-e;if(C-E<=r&&(A=function(e,t){let n=s.fork(),i=0,a=0,u=0,l=n.end-r,c={size:0,start:0,skip:0};e:for(let r=n.pos-e;n.pos>r;){let e=n.size;if(n.id==t&&e>=0){c.size=i,c.start=a,c.skip=u,u+=4,i+=4,n.next();continue}let s=n.pos-e;if(e<0||s<r||n.start<l)break;let d=n.id>=o?4:0,h=n.start;for(n.next();n.pos>s;){if(n.size<0){if(-3!=n.size&&-4!=n.size)break e;d+=4}else n.id>=o&&(d+=4);n.next()}a=h,i+=e,u+=d}return(t<0||i==e)&&(c.size=i,c.start=a,c.skip=u),c.size>4?c:void 0}(s.pos-t,g))){let t=new Uint16Array(A.size-A.skip),n=s.pos-A.size,r=t.length;for(;s.pos>n;)r=m(A.start,t,r);y=new pA(t,C-A.start,i),_=A.start-e}else{let e=s.pos-b;s.next();let t=[],n=[],i=v>=o?v:-1,a=0,u=C;for(;s.pos>e;)i>=0&&s.id==i&&s.size>=0?(s.end<=u-r&&(p(t,n,E,a,s.end,u,i,k,T),a=t.length,u=s.end),s.next()):D>2500?h(E,e,t,n):d(E,e,t,n,i,D+1);if(i>=0&&a>0&&a<t.length&&p(t,n,E,a,E,u,i,k,T),t.reverse(),n.reverse(),i>-1&&a>0){let e=function(e,t){return(n,i,r)=>{let a,o,s=0,u=n.length-1;if(u>=0&&(a=n[u])instanceof dA){if(!u&&a.type==e&&a.length==r)return a;(o=a.prop(iA.lookAhead))&&(s=i[u]+a.length+o)}return f(e,n,i,r,s,t)}}(S,T);y=_A(S,t,n,0,t.length,0,C-E,e,e)}else y=f(S,t,n,C-E,k-C,T)}n.push(y),O.push(_)}function h(e,t,n,a){let o=[],u=0,l=-1;for(;s.pos>t;){let{id:e,start:t,end:n,size:i}=s;if(i>4)s.next();else{if(l>-1&&t<l)break;l<0&&(l=n-r),o.push(e,t,n),u++,s.next()}}if(u){let t=new Uint16Array(4*u),r=o[o.length-2];for(let e=o.length-3,n=0;e>=0;e-=3)t[n++]=o[e],t[n++]=o[e+1]-r,t[n++]=o[e+2]-r,t[n++]=n;n.push(new pA(t,o[2]-r,i)),a.push(r-e)}}function p(e,t,n,r,a,o,s,u,l){let c=[],d=[];for(;e.length>r;)c.push(e.pop()),d.push(t.pop()+n-a);e.push(f(i.types[s],c,d,o-a,u-o,l)),t.push(a-n)}function f(e,t,n,i,r,a,o){if(a){let e=[iA.contextHash,a];o=o?[e].concat(o):[e]}if(r>25){let e=[iA.lookAhead,r];o=o?[e].concat(o):[e]}return new dA(e,t,n,i,o)}function m(e,t,n){let{id:i,start:r,end:a,size:u}=s;if(s.next(),u>=0&&i<o){let o=n;if(u>4){let i=s.pos-(u-4);for(;s.pos>i;)n=m(e,t,n)}t[--n]=o,t[--n]=a-e,t[--n]=r-e,t[--n]=i}else-3==u?l=i:-4==u&&(c=i);return n}let O=[],g=[];for(;s.pos>0;)d(e.start||0,e.bufferStart||0,O,g,-1,0);let D=null!==(t=e.length)&&void 0!==t?t:O.length?g[0]+O[0].length:0;return new dA(u[e.topID],O.reverse(),g.reverse(),D)}(e)}}dA.empty=new dA(oA.none,[],[],0);class hA{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new hA(this.buffer,this.index)}}class pA{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return oA.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],i=this.set.types[t],r=i.name;if(/\W/.test(r)&&!i.isError&&(r=JSON.stringify(r)),n==(e+=4))return r;let a=[];for(;e<n;)a.push(this.childString(e)),e=this.buffer[e+3];return r+"("+a.join(",")+")"}findChild(e,t,n,i,r){let{buffer:a}=this,o=-1;for(let s=e;s!=t&&!(fA(r,i,a[s+1],a[s+2])&&(o=s,n>0));s=a[s+3]);return o}slice(e,t,n){let i=this.buffer,r=new Uint16Array(t-e),a=0;for(let o=e,s=0;o<t;){r[s++]=i[o++],r[s++]=i[o++]-n;let t=r[s++]=i[o++]-n;r[s++]=i[o++]-e,a=Math.max(a,t)}return new pA(r,a,this.set)}}function fA(e,t,n,i){switch(e){case-2:return n<t;case-1:return i>=t&&n<t;case 0:return n<t&&i>t;case 1:return n<=t&&i>t;case 2:return i>t;case 4:return!0}}function mA(e,t,n,i){for(var r;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){let t=!i&&e instanceof gA&&e.index<0?null:e.parent;if(!t)return e;e=t}let a=i?0:cA.IgnoreOverlays;if(i)for(let i=e,o=i.parent;o;i=o,o=i.parent)i instanceof gA&&i.index<0&&(null===(r=o.enter(t,n,a))||void 0===r?void 0:r.from)!=i.from&&(e=o);for(;;){let i=e.enter(t,n,a);if(!i)return e;e=i}}class OA{cursor(e=0){return new TA(this,e)}getChild(e,t=null,n=null){let i=DA(this,e,t,n);return i.length?i[0]:null}getChildren(e,t=null,n=null){return DA(this,e,t,n)}resolve(e,t=0){return mA(this,e,t,!1)}resolveInner(e,t=0){return mA(this,e,t,!0)}matchContext(e){return vA(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),n=this;for(;t;){let e=t.lastChild;if(!e||e.to!=t.to)break;e.type.isError&&e.from==e.to?(n=t,t=e.prevSibling):t=e}return n}get node(){return this}get next(){return this.parent}}class gA extends OA{constructor(e,t,n,i){super(),this._tree=e,this.from=t,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,i,r=0){for(let a=this;;){for(let{children:o,positions:s}=a._tree,u=t>0?o.length:-1;e!=u;e+=t){let u=o[e],l=s[e]+a.from;if(fA(i,n,l,l+u.length))if(u instanceof pA){if(r&cA.ExcludeBuffers)continue;let o=u.findChild(0,u.buffer.length,t,n-l,i);if(o>-1)return new CA(new EA(a,u,e,l),null,o)}else if(r&cA.IncludeAnonymous||!u.type.isAnonymous||yA(u)){let o;if(!(r&cA.IgnoreMounts)&&(o=rA.get(u))&&!o.overlay)return new gA(o.tree,l,e,a);let s=new gA(u,l,e,a);return r&cA.IncludeAnonymous||!s.type.isAnonymous?s:s.nextChild(t<0?u.children.length-1:0,t,n,i)}}if(r&cA.IncludeAnonymous||!a.type.isAnonymous||(e=a.index>=0?a.index+t:t<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,t,n=0){let i;if(!(n&cA.IgnoreOverlays)&&(i=rA.get(this._tree))&&i.overlay){let n=e-this.from;for(let{from:e,to:r}of i.overlay)if((t>0?e<=n:e<n)&&(t<0?r>=n:r>n))return new gA(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function DA(e,t,n,i){let r=e.cursor(),a=[];if(!r.firstChild())return a;if(null!=n)for(let e=!1;!e;)if(e=r.type.is(n),!r.nextSibling())return a;for(;;){if(null!=i&&r.type.is(i))return a;if(r.type.is(t)&&a.push(r.node),!r.nextSibling())return null==i?a:[]}}function vA(e,t,n=t.length-1){for(let i=e;n>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(t[n]&&t[n]!=i.name)return!1;n--}}return!0}class EA{constructor(e,t,n,i){this.parent=e,this.buffer=t,this.index=n,this.start=i}}class CA extends OA{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){super(),this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:i}=this.context,r=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,n);return r<0?null:new CA(this.context,this,r)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,t,n=0){if(n&cA.ExcludeBuffers)return null;let{buffer:i}=this.context,r=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return r<0?null:new CA(this.context,this,r)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new CA(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new CA(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,i=this.index+4,r=n.buffer[this.index+3];if(r>i){let a=n.buffer[this.index+1];e.push(n.slice(i,r,a)),t.push(0)}return new dA(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function bA(e){if(!e.length)return null;let t=0,n=e[0];for(let i=1;i<e.length;i++){let r=e[i];(r.from>n.from||r.to<n.to)&&(n=r,t=i)}let i=n instanceof gA&&n.index<0?null:n.parent,r=e.slice();return i?r[t]=i:r.splice(t,1),new kA(r,n)}class kA{constructor(e,t){this.heads=e,this.node=t}get next(){return bA(this.heads)}}class TA{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof gA)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:n,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=n+i.buffer[e+1],this.to=n+i.buffer[e+2],!0}yield(e){return!!e&&(e instanceof gA?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:i}=this.buffer,r=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,n);return!(r<0)&&(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?!(n&cA.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&cA.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&cA.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let e=n<0?0:this.stack[n]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(e)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(i.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:n}=i)}else({index:t,_parent:n}=this._tree);for(;n;({index:t,_parent:n}=n))if(t>-1)for(let i=t+e,r=e<0?-1:n._tree.children.length;i!=r;i+=e){let e=n._tree.children[i];if(this.mode&cA.IncludeAnonymous||e instanceof pA||!e.type.isAnonymous||yA(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let i=this.index,r=this.stack.length;r>=0;){for(let a=e;a;a=a._parent)if(a.index==i){if(i==this.index)return a;t=a,n=r+1;break e}i=this.stack[--r]}for(let e=n;e<this.stack.length;e++)t=new CA(this.buffer,t,this.stack[e]);return this.bufferNode=new CA(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let i=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,i=!0}}}matchContext(e){if(!this.buffer)return vA(this.node.parent,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let i=e.length-1,r=this.stack.length-1;i>=0;r--){if(r<0)return vA(this._tree,e,i);let a=n[t.buffer[this.stack[r]]];if(!a.isAnonymous){if(e[i]&&e[i]!=a.name)return!1;i--}}return!0}}function yA(e){return e.children.some(e=>e instanceof pA||!e.type.isAnonymous||yA(e))}const AA=new WeakMap;function SA(e,t){if(!e.isAnonymous||t instanceof pA||t.type!=e)return 1;let n=AA.get(t);if(null==n){n=1;for(let i of t.children){if(i.type!=e||!(i instanceof dA)){n=1;break}n+=SA(e,i)}AA.set(t,n)}return n}function _A(e,t,n,i,r,a,o,s,u){let l=0;for(let n=i;n<r;n++)l+=SA(e,t[n]);let c=Math.ceil(1.5*l/8),d=[],h=[];return function t(n,i,r,o,s){for(let l=r;l<o;){let r=l,p=i[l],f=SA(e,n[l]);for(l++;l<o;l++){let t=SA(e,n[l]);if(f+t>=c)break;f+=t}if(l==r+1){if(f>c){let e=n[r];t(e.children,e.positions,0,e.children.length,i[r]+s);continue}d.push(n[r])}else{let t=i[l-1]+n[l-1].length-p;d.push(_A(e,n,i,r,l,p,t,null,u))}h.push(p+s-a)}}(t,n,i,r,0),(s||u)(d,h,o)}class FA{startParse(e,t,n){return"string"==typeof e&&(e=new wA(e)),n=n?n.length?n.map(e=>new nA(e.from,e.to)):[new nA(0,0)]:[new nA(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let i=this.startParse(e,t,n);for(;;){let e=i.advance();if(e)return e}}}class wA{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new iA({perNode:!0});let xA=0,PA=class e{constructor(e,t,n,i){this.name=e,this.set=t,this.base=n,this.modified=i,this.id=xA++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(t,n){let i="string"==typeof t?t:"?";if(t instanceof e&&(n=t),null!=n&&n.base)throw new Error("Can not derive from a modified tag");let r=new e(i,[],null,[]);if(r.set.push(r),n)for(let e of n.set)r.set.push(e);return r}static defineModifier(e){let t=new IA(e);return e=>e.modified.indexOf(t)>-1?e:IA.get(e.base||e,e.modified.concat(t).sort((e,t)=>e.id-t.id))}},RA=0;class IA{constructor(e){this.name=e,this.instances=[],this.id=RA++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find(n=>n.base==e&&function(e,t){return e.length==t.length&&e.every((e,n)=>e==t[n])}(t,n.modified));if(n)return n;let i=[],r=new PA(e.name,i,e,t);for(let e of t)e.instances.push(r);let a=function(e){let t=[[]];for(let n=0;n<e.length;n++)for(let i=0,r=t.length;i<r;i++)t.push(t[i].concat(e[n]));return t.sort((e,t)=>t.length-e.length)}(t);for(let t of e.set)if(!t.modified.length)for(let e of a)i.push(IA.get(t,e));return r}}function QA(e){let t=Object.create(null);for(let n in e){let i=e[n];Array.isArray(i)||(i=[i]);for(let e of n.split(" "))if(e){let n=[],r=2,a=e;for(let t=0;;){if("..."==a&&t>0&&t+3==e.length){r=1;break}let i=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!i)throw new RangeError("Invalid path: "+e);if(n.push("*"==i[0]?"":'"'==i[0][0]?JSON.parse(i[0]):i[0]),t+=i[0].length,t==e.length)break;let o=e[t++];if(t==e.length&&"!"==o){r=0;break}if("/"!=o)throw new RangeError("Invalid path: "+e);a=e.slice(t)}let o=n.length-1,s=n[o];if(!s)throw new RangeError("Invalid path: "+e);let u=new BA(i,r,o>0?n.slice(0,o):null);t[s]=u.sort(t[s])}}return NA.add(t)}const NA=new iA({combine(e,t){let n,i,r;for(;e||t;){if(!e||t&&e.depth>=t.depth?(r=t,t=t.next):(r=e,e=e.next),n&&n.mode==r.mode&&!r.context&&!n.context)continue;let a=new BA(r.tags,r.mode,r.context);n?n.next=a:i=a,n=a}return i}});class BA{constructor(e,t,n,i){this.tags=e,this.mode=t,this.context=n,this.next=i}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}BA.empty=new BA([],2,null);class MA{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,i,r){let{type:a,from:o,to:s}=e;if(o>=n||s<=t)return;a.isTop&&(r=this.highlighters.filter(e=>!e.scope||e.scope(a)));let u=i,l=function(e){let t=e.type.prop(NA);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}(e)||BA.empty,c=function(e,t){let n=null;for(let i of e){let e=i.style(t);e&&(n=n?n+" "+e:e)}return n}(r,l.tags);if(c&&(u&&(u+=" "),u+=c,1==l.mode&&(i+=(i?" ":"")+c)),this.startSpan(Math.max(t,o),u),l.opaque)return;let d=e.tree&&e.tree.prop(iA.mounted);if(d&&d.overlay){let a=e.node.enter(d.overlay[0].from+o,1),l=this.highlighters.filter(e=>!e.scope||e.scope(d.tree.type)),c=e.firstChild();for(let h=0,p=o;;h++){let f=h<d.overlay.length?d.overlay[h]:null,m=f?f.from+o:s,O=Math.max(t,p),g=Math.min(n,m);if(O<g&&c)for(;e.from<g&&(this.highlightRange(e,O,g,i,r),this.startSpan(Math.min(g,e.to),u),!(e.to>=m)&&e.nextSibling()););if(!f||m>n)break;p=f.to+o,p>t&&(this.highlightRange(a.cursor(),Math.max(t,f.from+o),Math.min(n,p),"",l),this.startSpan(Math.min(n,p),u))}c&&e.parent()}else if(e.firstChild()){d&&(i="");do{if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,i,r),this.startSpan(Math.min(n,e.to),u)}}while(e.nextSibling());e.parent()}}}const LA=PA.define,$A=LA(),UA=LA(),qA=LA(UA),XA=LA(UA),zA=LA(),ZA=LA(zA),jA=LA(zA),WA=LA(),GA=LA(WA),VA=LA(),YA=LA(),HA=LA(),KA=LA(HA),JA=LA(),eS={comment:$A,lineComment:LA($A),blockComment:LA($A),docComment:LA($A),name:UA,variableName:LA(UA),typeName:qA,tagName:LA(qA),propertyName:XA,attributeName:LA(XA),className:LA(UA),labelName:LA(UA),namespace:LA(UA),macroName:LA(UA),literal:zA,string:ZA,docString:LA(ZA),character:LA(ZA),attributeValue:LA(ZA),number:jA,integer:LA(jA),float:LA(jA),bool:LA(zA),regexp:LA(zA),escape:LA(zA),color:LA(zA),url:LA(zA),keyword:VA,self:LA(VA),null:LA(VA),atom:LA(VA),unit:LA(VA),modifier:LA(VA),operatorKeyword:LA(VA),controlKeyword:LA(VA),definitionKeyword:LA(VA),moduleKeyword:LA(VA),operator:YA,derefOperator:LA(YA),arithmeticOperator:LA(YA),logicOperator:LA(YA),bitwiseOperator:LA(YA),compareOperator:LA(YA),updateOperator:LA(YA),definitionOperator:LA(YA),typeOperator:LA(YA),controlOperator:LA(YA),punctuation:HA,separator:LA(HA),bracket:KA,angleBracket:LA(KA),squareBracket:LA(KA),paren:LA(KA),brace:LA(KA),content:WA,heading:GA,heading1:LA(GA),heading2:LA(GA),heading3:LA(GA),heading4:LA(GA),heading5:LA(GA),heading6:LA(GA),contentSeparator:LA(WA),list:LA(WA),quote:LA(WA),emphasis:LA(WA),strong:LA(WA),link:LA(WA),monospace:LA(WA),strikethrough:LA(WA),inserted:LA(),deleted:LA(),changed:LA(),invalid:LA(),meta:JA,documentMeta:LA(JA),annotation:LA(JA),processingInstruction:LA(JA),definition:PA.defineModifier("definition"),constant:PA.defineModifier("constant"),function:PA.defineModifier("function"),standard:PA.defineModifier("standard"),local:PA.defineModifier("local"),special:PA.defineModifier("special")};for(let e in eS){let t=eS[e];t instanceof PA&&(t.name=e)}const tS=function(e){let t=Object.create(null);for(let n of e)if(Array.isArray(n.tag))for(let e of n.tag)t[e.id]=n.class;else t[n.tag.id]=n.class;let{scope:n,all:i=null}={};return{style:e=>{let n=i;for(let i of e)for(let e of i.set){let i=t[e.id];if(i){n=n?n+" "+i:i;break}}return n},scope:n}}([{tag:eS.link,class:"tok-link"},{tag:eS.heading,class:"tok-heading"},{tag:eS.emphasis,class:"tok-emphasis"},{tag:eS.strong,class:"tok-strong"},{tag:eS.keyword,class:"tok-keyword"},{tag:eS.atom,class:"tok-atom"},{tag:eS.bool,class:"tok-bool"},{tag:eS.url,class:"tok-url"},{tag:eS.labelName,class:"tok-labelName"},{tag:eS.inserted,class:"tok-inserted"},{tag:eS.deleted,class:"tok-deleted"},{tag:eS.literal,class:"tok-literal"},{tag:eS.string,class:"tok-string"},{tag:eS.number,class:"tok-number"},{tag:[eS.regexp,eS.escape,eS.special(eS.string)],class:"tok-string2"},{tag:eS.variableName,class:"tok-variableName"},{tag:eS.local(eS.variableName),class:"tok-variableName tok-local"},{tag:eS.definition(eS.variableName),class:"tok-variableName tok-definition"},{tag:eS.special(eS.variableName),class:"tok-variableName2"},{tag:eS.definition(eS.propertyName),class:"tok-propertyName tok-definition"},{tag:eS.typeName,class:"tok-typeName"},{tag:eS.namespace,class:"tok-namespace"},{tag:eS.className,class:"tok-className"},{tag:eS.macroName,class:"tok-macroName"},{tag:eS.propertyName,class:"tok-propertyName"},{tag:eS.operator,class:"tok-operator"},{tag:eS.comment,class:"tok-comment"},{tag:eS.meta,class:"tok-meta"},{tag:eS.invalid,class:"tok-invalid"},{tag:eS.punctuation,class:"tok-punctuation"}]);function nS(e,t){const n=[];let i=0;return function(e,t,n,i=0,r=e.length){let a=new MA(i,Array.isArray(t)?t:[t],n);a.highlightRange(e.cursor(),i,r,"",a.highlighters),a.flush(r)}(t,tS,(t,r,a)=>{t>i&&n.push({type:"text",value:e.slice(i,t)}),n.push({type:"element",tagName:"span",properties:{className:a},children:[{type:"text",value:e.slice(t,r)}]}),i=r}),i<e.length&&n.push({type:"text",value:e.slice(i)}),{type:"root",children:n}}const iS=/^(?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088F\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5C\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDC-\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC7\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDB0-\uDDDB\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF2-\uDFF6]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDEC0-\uDEDE\uDEE0-\uDEE2\uDEE4\uDEE5\uDEE7-\uDEED\uDEF0-\uDEF4\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79])(?:[\$0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u0870-\u0887\u0889-\u088F\u0897-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5C\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDC-\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1-\u0CF3\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECE\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1715\u171F-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1ABF-\u1ADD\u1AE0-\u1AEB\u1B00-\u1B4C\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA827\uA82C\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF65-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDD40-\uDD65\uDD69-\uDD6D\uDD6F-\uDD85\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDEC2-\uDEC7\uDEFA-\uDF1C\uDF27\uDF30-\uDF50\uDF70-\uDF85\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC75\uDC7F-\uDCBA\uDCC2\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E-\uDE41\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7-\uDFC0\uDFC2\uDFC5\uDFC7-\uDFCA\uDFCC-\uDFD3\uDFE1\uDFE2]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E-\uDC61\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39\uDF40-\uDF46]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEB0-\uDEF8\uDF60-\uDF67\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDDB0-\uDDDB\uDDE0-\uDDE9\uDEE0-\uDEF6\uDF00-\uDF10\uDF12-\uDF3A\uDF3E-\uDF42\uDF50-\uDF5A\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC40-\uDC55\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE7F\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFE4\uDFF0-\uDFF6]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD833[\uDCF0-\uDCF9\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC30-\uDC6D\uDC8F\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAE\uDEC0-\uDEF9]|\uD839[\uDCD0-\uDCF9\uDDD0-\uDDFA\uDEC0-\uDEDE\uDEE0-\uDEF5\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]|\uDB40[\uDD00-\uDDEF])*$/,rS=/^(?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088F\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5C\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDC-\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC7\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDB0-\uDDDB\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF2-\uDFF6]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDEC0-\uDEDE\uDEE0-\uDEE2\uDEE4\uDEE5\uDEE7-\uDEED\uDEF0-\uDEF4\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79])(?:[\$\x2D0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u0870-\u0887\u0889-\u088F\u0897-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5C\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDC-\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1-\u0CF3\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECE\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1715\u171F-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1ABF-\u1ADD\u1AE0-\u1AEB\u1B00-\u1B4C\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA827\uA82C\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF65-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDD40-\uDD65\uDD69-\uDD6D\uDD6F-\uDD85\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDEC2-\uDEC7\uDEFA-\uDF1C\uDF27\uDF30-\uDF50\uDF70-\uDF85\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC75\uDC7F-\uDCBA\uDCC2\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E-\uDE41\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7-\uDFC0\uDFC2\uDFC5\uDFC7-\uDFCA\uDFCC-\uDFD3\uDFE1\uDFE2]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E-\uDC61\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39\uDF40-\uDF46]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEB0-\uDEF8\uDF60-\uDF67\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDDB0-\uDDDB\uDDE0-\uDDE9\uDEE0-\uDEF6\uDF00-\uDF10\uDF12-\uDF3A\uDF3E-\uDF42\uDF50-\uDF5A\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC40-\uDC55\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE7F\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFE4\uDFF0-\uDFF6]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD833[\uDCF0-\uDCF9\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC30-\uDC6D\uDC8F\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAE\uDEC0-\uDEF9]|\uD839[\uDCD0-\uDCF9\uDDD0-\uDDFA\uDEC0-\uDEDE\uDEE0-\uDEF5\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]|\uDB40[\uDD00-\uDDEF])*$/,aS={};function oS(e,t){return(aS.jsx?rS:iS).test(e)}const sS=/[ \t\n\f\r]/g;function uS(e){return""===e.replace(sS,"")}function lS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cS,dS,hS,pS={};var fS,mS,OS,gS={};const DS=lS(function(){if(OS)return mS;OS=1;var e=(mS&&mS.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(function(){if(hS)return pS;hS=1;var e=pS&&pS.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pS,"__esModule",{value:!0}),pS.default=function(e,n){let i=null;if(!e||"string"!=typeof e)return i;const r=(0,t.default)(e),a="function"==typeof n;return r.forEach(e=>{if("declaration"!==e.type)return;const{property:t,value:r}=e;a?n(t,r,e):r&&(i=i||{},i[t]=r)}),i};const t=e(function(){if(dS)return cS;dS=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,s=/^\s+|\s+$/g,u="";function l(e){return e?e.replace(s,u):u}return cS=function(s,c){if("string"!=typeof s)throw new TypeError("First argument must be a string");if(!s)return[];c=c||{};var d=1,h=1;function p(e){var n=e.match(t);n&&(d+=n.length);var i=e.lastIndexOf("\n");h=~i?e.length-i:h+e.length}function f(){var e={line:d,column:h};return function(t){return t.position=new m(e),D(),t}}function m(e){this.start=e,this.end={line:d,column:h},this.source=c.source}function O(e){var t=new Error(c.source+":"+d+":"+h+": "+e);if(t.reason=e,t.filename=c.source,t.line=d,t.column=h,t.source=s,!c.silent)throw t}function g(e){var t=e.exec(s);if(t){var n=t[0];return p(n),s=s.slice(n.length),t}}function D(){g(n)}function v(e){var t;for(e=e||[];t=E();)!1!==t&&e.push(t);return e}function E(){var e=f();if("/"==s.charAt(0)&&"*"==s.charAt(1)){for(var t=2;u!=s.charAt(t)&&("*"!=s.charAt(t)||"/"!=s.charAt(t+1));)++t;if(t+=2,u===s.charAt(t-1))return O("End of comment missing");var n=s.slice(2,t-2);return h+=2,p(n),s=s.slice(t),h+=2,e({type:"comment",comment:n})}}function C(){var t=f(),n=g(i);if(n){if(E(),!g(r))return O("property missing ':'");var s=g(a),c=t({type:"declaration",property:l(n[0].replace(e,u)),value:s?l(s[0].replace(e,u)):u});return g(o),c}}return m.prototype.content=s,D(),function(){var e,t=[];for(v(t);e=C();)!1!==e&&(t.push(e),v(t));return t}()}}());return pS}()),t=function(){if(fS)return gS;fS=1,Object.defineProperty(gS,"__esModule",{value:!0}),gS.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,a=function(e,t){return t.toUpperCase()},o=function(e,t){return"".concat(t,"-")};return gS.camelCase=function(s,u){return void 0===u&&(u={}),function(t){return!t||n.test(t)||e.test(t)}(s)?s:(s=s.toLowerCase(),(s=u.reactCompat?s.replace(r,o):s.replace(i,o)).replace(t,a))},gS}();function n(n,i){var r={};return!n||"string"!=typeof n||(0,e.default)(n,function(e,n){e&&n&&(r[(0,t.camelCase)(e,i)]=n)}),r}return n.default=n,mS=n}());function vS(e){return e&&"object"==typeof e?"position"in e||"type"in e?CS(e.position):"start"in e||"end"in e?CS(e):"line"in e||"column"in e?ES(e):"":""}function ES(e){return bS(e&&e.line)+":"+bS(e&&e.column)}function CS(e){return ES(e&&e.start)+"-"+ES(e&&e.end)}function bS(e){return e&&"number"==typeof e?e:1}class kS extends Error{constructor(e,t,n){super(),"string"==typeof t&&(n=t,t=void 0);let i="",r={},a=!1;if(t&&(r="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:p({},t)),"string"==typeof e?i=e:!r.cause&&e&&(a=!0,i=e.message,r.cause=e),!r.ruleId&&!r.source&&"string"==typeof n){const e=n.indexOf(":");-1===e?r.ruleId=n:(r.source=n.slice(0,e),r.ruleId=n.slice(e+1))}if(!r.place&&r.ancestors&&r.ancestors){const e=r.ancestors[r.ancestors.length-1];e&&(r.place=e.position)}const o=r.place&&"start"in r.place?r.place.start:r.place;this.ancestors=r.ancestors||void 0,this.cause=r.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=vS(r.place)||"1:1",this.place=r.place||void 0,this.reason=this.message,this.ruleId=r.ruleId||void 0,this.source=r.source||void 0,this.stack=a&&r.cause&&"string"==typeof r.cause.stack?r.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}kS.prototype.file="",kS.prototype.name="",kS.prototype.reason="",kS.prototype.message="",kS.prototype.stack="",kS.prototype.column=void 0,kS.prototype.line=void 0,kS.prototype.ancestors=void 0,kS.prototype.cause=void 0,kS.prototype.fatal=void 0,kS.prototype.place=void 0,kS.prototype.ruleId=void 0,kS.prototype.source=void 0;const TS={}.hasOwnProperty,yS=new Map,AS=/[A-Z]/g,SS=new Set(["table","tbody","thead","tfoot","tr"]),_S=new Set(["td","th"]),FS="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function wS(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let i;if(t.development){if("function"!=typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=function(e,t){return function(n,i,r,a){const o=Array.isArray(r.children),s=Yg(n);return t(i,r,a,o,{columnNumber:s?s.column-1:void 0,fileName:e,lineNumber:s?s.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!=typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!=typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");i=function(e,t,n){return function(e,i,r,a){const o=Array.isArray(r.children)?n:t;return a?o(i,r,a):o(i,r)}}(0,t.jsx,t.jsxs)}const r={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?XD:qD,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},a=xS(r,e,void 0);return a&&"string"!=typeof a?a:r.create(e,r.Fragment,{children:a||void 0},void 0)}function xS(e,t,n){return"element"===t.type?function(e,t,n){const i=e.schema;let r=i;"svg"===t.tagName.toLowerCase()&&"html"===i.space&&(r=XD,e.schema=r),e.ancestors.push(t);const a=NS(e,t.tagName,!1),o=function(e,t){const n={};let i,r;for(r in t.properties)if("children"!==r&&TS.call(t.properties,r)){const a=QS(e,r,t.properties[r]);if(a){const[r,o]=a;e.tableCellAlignToStyle&&"align"===r&&"string"==typeof o&&_S.has(t.tagName)?i=o:n[r]=o}}return i&&((n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=i),n}(e,t);let s=IS(e,t);return SS.has(t.tagName)&&(s=s.filter(function(e){return"string"!=typeof e||!function(e){return"object"==typeof e?"text"===e.type&&uS(e.value):uS(e)}(e)})),PS(e,o,a,t),RS(o,s),e.ancestors.pop(),e.schema=i,e.create(t,a,o,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}BS(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const i=e.schema;let r=i;"svg"===t.name&&"html"===i.space&&(r=XD,e.schema=r),e.ancestors.push(t);const a=null===t.name?e.Fragment:NS(e,t.name,!0),o=function(e,t){const n={};for(const i of t.attributes)if("mdxJsxExpressionAttribute"===i.type)if(i.data&&i.data.estree&&e.evaluater){const t=i.data.estree.body[0];t.type;const r=t.expression;r.type;const a=r.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else BS(e,t.position);else{const r=i.name;let a;if(i.value&&"object"==typeof i.value)if(i.value.data&&i.value.data.estree&&e.evaluater){const t=i.value.data.estree.body[0];t.type,a=e.evaluater.evaluateExpression(t.expression)}else BS(e,t.position);else a=null===i.value||i.value;n[r]=a}return n}(e,t),s=IS(e,t);return PS(e,o,a,t),RS(o,s),e.ancestors.pop(),e.schema=i,e.create(t,a,o,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);BS(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const i={};return RS(i,IS(e,t)),e.create(t,e.Fragment,i,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function PS(e,t,n,i){"string"!=typeof n&&n!==e.Fragment&&e.passNode&&(t.node=i)}function RS(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function IS(e,t){const n=[];let i=-1;const r=e.passKeys?new Map:yS;for(;++i<t.children.length;){const a=t.children[i];let o;if(e.passKeys){const e="element"===a.type?a.tagName:"mdxJsxFlowElement"===a.type||"mdxJsxTextElement"===a.type?a.name:void 0;if(e){const t=r.get(e)||0;o=e+"-"+t,r.set(e,t+1)}}const s=xS(e,a,o);void 0!==s&&n.push(s)}return n}function QS(e,t,n){const i=LD(e.schema,t);if(!(null==n||"number"==typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?ZD(n):GD(n)),"style"===i.property){let t="object"==typeof n?n:function(e,t){try{return DS(t,{reactCompat:!0})}catch(t){if(e.ignoreInvalidStyle)return{};const n=t,i=new kS("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=FS+"#cannot-parse-style-attribute",i}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)TS.call(e,n)&&(t[MS(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&i.space?QD[i.property]||i.property:i.attribute,n]}}function NS(e,t,n){let i;if(n)if(t.includes(".")){const e=t.split(".");let n,r=-1;for(;++r<e.length;){const t=oS(e[r])?{type:"Identifier",name:e[r]}:{type:"Literal",value:e[r]};n=n?{type:"MemberExpression",object:n,property:t,computed:!(!r||"Literal"!==t.type),optional:!1}:t}i=n}else i=oS(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else i={type:"Literal",value:t};if("Literal"===i.type){const t=i.value;return TS.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(i);BS(e)}function BS(e,t){const n=new kS("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=FS+"#cannot-handle-mdx-estrees-without-createevaluater",n}function MS(e){let t=e.replace(AS,LS);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function LS(e){return"-"+e.toLowerCase()}class $S{constructor(e,t,n,i,r,a,o,s,u,l=0,c){this.p=e,this.stack=t,this.state=n,this.reducePos=i,this.pos=r,this.score=a,this.buffer=o,this.bufferBase=s,this.curContext=u,this.lookAhead=l,this.parent=c}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,n=0){let i=e.parser.context;return new $S(e,[],t,n,n,0,[],0,i?new US(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let n=e>>19,i=65535&e,{parser:r}=this.p,a=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),o=r.dynamicPrecedence(i);if(o&&(this.score+=o),0==n)return this.pushState(r.getGoto(this.state,i,!0),this.reducePos),i<r.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,a?8:4,!0),void this.reduceContext(i,this.reducePos);let s=this.stack.length-3*(n-1)-(262144&e?6:0),u=s?this.stack[s-2]:this.p.ranges[0].from,l=this.reducePos-u;l>=2e3&&(null===(t=this.p.parser.nodeSet.types[i])||void 0===t||!t.isAnonymous)&&(u==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=l):this.p.lastBigReductionSize<l&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=u,this.p.lastBigReductionSize=l));let c=s?this.stack[s-1]:0,d=this.bufferBase+this.buffer.length-c;if(i<r.minRepeatTerm||131072&e){let e=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,u,e,d+4,!0)}if(262144&e)this.state=this.stack[s];else{let e=this.stack[s-3];this.state=r.getGoto(e,i,!0)}for(;this.stack.length>s;)this.stack.pop();this.reduceContext(i,u)}storeNode(e,t,n,i=4,r=!1){if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let e=this,i=this.buffer.length;if(0==i&&e.parent&&(i=e.bufferBase-e.parent.bufferBase,e=e.parent),i>0&&0==e.buffer[i-4]&&e.buffer[i-1]>-1){if(t==n)return;if(e.buffer[i-2]>=t)return void(e.buffer[i-2]=n)}}if(r&&this.pos!=n){let r=this.buffer.length;if(r>0&&(0!=this.buffer[r-4]||this.buffer[r-1]<0)){let e=!1;for(let t=r;t>0&&this.buffer[t-2]>n;t-=4)if(this.buffer[t-1]>=0){e=!0;break}if(e)for(;r>0&&this.buffer[r-2]>n;)this.buffer[r]=this.buffer[r-4],this.buffer[r+1]=this.buffer[r-3],this.buffer[r+2]=this.buffer[r-2],this.buffer[r+3]=this.buffer[r-1],r-=4,i>4&&(i-=4)}this.buffer[r]=e,this.buffer[r+1]=t,this.buffer[r+2]=n,this.buffer[r+3]=i}else this.buffer.push(e,t,n,i)}shift(e,t,n,i){if(131072&e)this.pushState(65535&e,this.pos);else if(262144&e)this.pos=i,this.shiftContext(t,n),t<=this.p.parser.maxNode&&this.buffer.push(t,n,i,4);else{let r=e,{parser:a}=this.p;(i>this.pos||t<=a.maxNode)&&(this.pos=i,a.stateFlag(r,1)||(this.reducePos=i)),this.pushState(r,n),this.shiftContext(t,n),t<=a.maxNode&&this.buffer.push(t,n,i,4)}}apply(e,t,n,i){65536&e?this.reduce(e):this.shift(e,t,n,i)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(n,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new $S(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new qS(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==n)return!1;if(!(65536&n))return!0;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let n=[];for(let i,r=0;r<t.length;r+=2)(i=t[r+1])!=this.state&&this.p.parser.hasAction(i,e)&&n.push(t[r],i);if(this.stack.length<120)for(let e=0;n.length<8&&e<t.length;e+=2){let i=t[e+1];n.some((e,t)=>1&t&&e==i)||n.push(t[e],i)}t=n}let n=[];for(let e=0;e<t.length&&n.length<4;e+=2){let i=t[e+1];if(i==this.state)continue;let r=this.split();r.pushState(i,this.pos),r.storeNode(0,r.pos,r.pos,4,!0),r.shiftContext(t[e],this.pos),r.reducePos=this.pos,r.score-=200,n.push(r)}return n}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(65536&t))return!1;if(!e.validAction(this.state,t)){let n=t>>19,i=65535&t,r=this.stack.length-3*n;if(r<0||e.getGoto(this.stack[r],i,!1)<0){let e=this.findForcedReduction();if(null==e)return!1;t=e}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],n=(i,r)=>{if(!t.includes(i))return t.push(i),e.allActions(i,t=>{if(!(393216&t))if(65536&t){let n=(t>>19)-r;if(n>1){let i=65535&t,r=this.stack.length-3*n;if(r>=0&&e.getGoto(this.stack[r],i,!1)>=0)return n<<19|65536|i}}else{let e=n(t,r+1);if(null!=e)return e}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new US(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){return!(e<=this.lookAhead||(this.emitLookAhead(),this.lookAhead=e,0))}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class US{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class qS{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,n=e>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class XS{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new XS(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new XS(this.stack,this.pos,this.index)}}function zS(e,t=Uint16Array){if("string"!=typeof e)return e;let n=null;for(let i=0,r=0;i<e.length;){let a=0;for(;;){let t=e.charCodeAt(i++),n=!1;if(126==t){a=65535;break}t>=92&&t--,t>=34&&t--;let r=t-32;if(r>=46&&(r-=46,n=!0),a+=r,n)break;a*=46}n?n[r++]=a:n=new t(a)}return n}class ZS{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const jS=new ZS;class WS{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=jS,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,i=this.rangeIndex,r=this.pos+e;for(;r<n.from;){if(!i)return null;let e=this.ranges[--i];r-=n.from-e.to,n=e}for(;t<0?r>n.to:r>=n.to;){if(i==this.ranges.length-1)return null;let e=this.ranges[++i];r+=e.from-n.to,n=e}return r}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t,n,i=this.chunkOff+e;if(i>=0&&i<this.chunk.length)t=this.pos+e,n=this.chunk.charCodeAt(i);else{let i=this.resolveOffset(e,1);if(null==i)return-1;if(t=i,t>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(t-this.chunk2Pos);else{let e=this.rangeIndex,i=this.range;for(;i.to<=t;)i=this.ranges[++e];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>i.to&&(this.chunk2=this.chunk2.slice(0,i.to-t)),n=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),n}acceptToken(e,t=0){let n=t?this.resolveOffset(t,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=jS,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(n+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return n}}class GS{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:n}=t.p;HS(this.data,e,t,this.id,n.data,n.tokenPrecTable)}}GS.prototype.contextual=GS.prototype.fallback=GS.prototype.extend=!1;class VS{constructor(e,t,n){this.precTable=t,this.elseToken=n,this.data="string"==typeof e?zS(e):e}token(e,t){let n=e.pos,i=0;for(;;){let n=e.next<0,r=e.resolveOffset(1,1);if(HS(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(null==this.elseToken)return;if(n||i++,null==r)break;e.reset(r,e.token)}i&&(e.reset(n,e.token),e.acceptToken(this.elseToken,i))}}VS.prototype.contextual=GS.prototype.fallback=GS.prototype.extend=!1;class YS{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function HS(e,t,n,i,r,a){let o=0,s=1<<i,{dialect:u}=n.p.parser;e:for(;0!=(s&e[o]);){let n=e[o+1];for(let i=o+3;i<n;i+=2)if((e[i+1]&s)>0){let n=e[i];if(u.allows(n)&&(-1==t.token.value||t.token.value==n||JS(n,t.token.value,r,a))){t.acceptToken(n);break}}let i=t.next,l=0,c=e[o+2];if(!(t.next<0&&c>l&&65535==e[n+3*c-3])){for(;l<c;){let r=l+c>>1,a=n+r+(r<<1),s=e[a],u=e[a+1]||65536;if(i<s)c=r;else{if(!(i>=u)){o=e[a+2],t.advance();continue e}l=r+1}}break}o=e[n+3*c-1]}}function KS(e,t,n){for(let i,r=t;65535!=(i=e[r]);r++)if(i==n)return r-t;return-1}function JS(e,t,n,i){let r=KS(n,i,t);return r<0||KS(n,i,e)<r}const e_=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG);let t_=null;function n_(e,t,n){let i=e.cursor(cA.IncludeAnonymous);for(i.moveTo(t);;)if(!(n<0?i.childBefore(t):i.childAfter(t)))for(;;){if((n<0?i.to<t:i.from>t)&&!i.type.isError)return n<0?Math.max(0,Math.min(i.to-1,t-25)):Math.min(e.length,Math.max(i.from+1,t+25));if(n<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return n<0?0:e.length}}let i_=class{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?n_(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?n_(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],i=this.index[t];if(i==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let r=n.children[i],a=this.start[t]+n.positions[i];if(a>e)return this.nextStart=a,null;if(r instanceof dA){if(a==e){if(a<this.safeFrom)return null;let e=a+r.length;if(e<=this.safeTo){let t=r.prop(iA.lookAhead);if(!t||e+t<this.fragment.to)return r}}this.index[t]++,a+r.length>=Math.max(this.safeFrom,e)&&(this.trees.push(r),this.start.push(a),this.index.push(0))}else this.index[t]++,this.nextStart=a+r.length}}};class r_{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(e=>new ZS)}getActions(e){let t=0,n=null,{parser:i}=e.p,{tokenizers:r}=i,a=i.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,s=0;for(let i=0;i<r.length;i++){if(!(1<<i&a))continue;let u=r[i],l=this.tokens[i];if((!n||u.fallback)&&((u.contextual||l.start!=e.pos||l.mask!=a||l.context!=o)&&(this.updateCachedToken(l,u,e),l.mask=a,l.context=o),l.lookAhead>l.end+25&&(s=Math.max(l.lookAhead,s)),0!=l.value)){let i=t;if(l.extended>-1&&(t=this.addActions(e,l.extended,l.end,t)),t=this.addActions(e,l.value,l.end,t),!u.extend&&(n=l,t>i))break}}for(;this.actions.length>t;)this.actions.pop();return s&&e.setLookAhead(s),!n&&e.pos==this.stream.end&&(n=new ZS,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new ZS,{pos:n,p:i}=e;return t.start=n,t.end=Math.min(n+1,i.stream.end),t.value=n==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,n){let i=this.stream.clipPos(n.pos);if(t.token(this.stream.reset(i,e),n),e.value>-1){let{parser:t}=n.p;for(let i=0;i<t.specialized.length;i++)if(t.specialized[i]==e.value){let r=t.specializers[i](this.stream.read(e.start,e.end),n);if(r>=0&&n.p.parser.dialect.allows(r>>1)){1&r?e.extended=r>>1:e.value=r>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,t,n,i){for(let t=0;t<i;t+=3)if(this.actions[t]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=n,i}addActions(e,t,n,i){let{state:r}=e,{parser:a}=e.p,{data:o}=a;for(let e=0;e<2;e++)for(let s=a.stateSlot(r,e?2:1);;s+=3){if(65535==o[s]){if(1!=o[s+1]){0==i&&2==o[s+1]&&(i=this.putAction(d_(o,s+2),t,n,i));break}s=d_(o,s+2)}o[s]==t&&(i=this.putAction(d_(o,s+1),t,n,i))}return i}}class a_{constructor(e,t,n,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new WS(t,i),this.tokens=new r_(e,this.stream),this.topTerm=e.top[1];let{from:r}=i[0];this.stacks=[$S.start(this,e.top[0],r)],this.fragments=n.length&&this.stream.end-r>4*e.bufferLength?new i_(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e,t,n=this.stacks,i=this.minStackPos,r=this.stacks=[];if(this.bigReductionCount>300&&1==n.length){let[e]=n;for(;e.forceReduce()&&e.stack.length&&e.stack[e.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<n.length;a++){let o=n[a];for(;;){if(this.tokens.mainToken=null,o.pos>i)r.push(o);else{if(this.advanceStack(o,r,n))continue;{e||(e=[],t=[]),e.push(o);let n=this.tokens.getMainToken(o);t.push(n.value,n.end)}}break}}if(!r.length){let t=e&&function(e){let t=null;for(let n of e){let e=n.p.stoppedAt;(n.pos==n.p.stream.end||null!=e&&n.pos>e)&&n.p.parser.stateFlag(n.state,2)&&(!t||t.score<n.score)&&(t=n)}return t}(e);if(t)return e_&&console.log("Finish with "+this.stackID(t)),this.stackToTree(t);if(this.parser.strict)throw e_&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+i);this.recovering||(this.recovering=5)}if(this.recovering&&e){let n=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,r);if(n)return e_&&console.log("Force-finish "+this.stackID(n)),this.stackToTree(n.forceAll())}if(this.recovering){let e=1==this.recovering?1:3*this.recovering;if(r.length>e)for(r.sort((e,t)=>t.score-e.score);r.length>e;)r.pop();r.some(e=>e.reducePos>i)&&this.recovering--}else if(r.length>1){e:for(let e=0;e<r.length-1;e++){let t=r[e];for(let n=e+1;n<r.length;n++){let i=r[n];if(t.sameState(i)||t.buffer.length>500&&i.buffer.length>500){if(!((t.score-i.score||t.buffer.length-i.buffer.length)>0)){r.splice(e--,1);continue e}r.splice(n--,1)}}}r.length>12&&(r.sort((e,t)=>t.score-e.score),r.splice(12,r.length-12))}this.minStackPos=r[0].pos;for(let e=1;e<r.length;e++)r[e].pos<this.minStackPos&&(this.minStackPos=r[e].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,n){let i=e.pos,{parser:r}=this,a=e_?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let t=e.curContext&&e.curContext.tracker.strict,n=t?e.curContext.hash:0;for(let o=this.fragments.nodeAt(i);o;){let i=this.parser.nodeSet.types[o.type.id]==o.type?r.getGoto(e.state,o.type.id):-1;if(i>-1&&o.length&&(!t||(o.prop(iA.contextHash)||0)==n))return e.useNode(o,i),e_&&console.log(a+this.stackID(e)+` (via reuse of ${r.getName(o.type.id)})`),!0;if(!(o instanceof dA)||0==o.children.length||o.positions[0]>0)break;let s=o.children[0];if(!(s instanceof dA&&0==o.positions[0]))break;o=s}}let o=r.stateSlot(e.state,4);if(o>0)return e.reduce(o),e_&&console.log(a+this.stackID(e)+` (via always-reduce ${r.getName(65535&o)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let s=this.tokens.getActions(e);for(let o=0;o<s.length;){let u=s[o++],l=s[o++],c=s[o++],d=o==s.length||!n,h=d?e:e.split(),p=this.tokens.mainToken;if(h.apply(u,l,p?p.start:h.pos,c),e_&&console.log(a+this.stackID(h)+` (via ${65536&u?`reduce of ${r.getName(65535&u)}`:"shift"} for ${r.getName(l)} @ ${i}${h==e?"":", split"})`),d)return!0;h.pos>i?t.push(h):n.push(h)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return o_(e,t),!0}}runRecovery(e,t,n){let i=null,r=!1;for(let a=0;a<e.length;a++){let o=e[a],s=t[a<<1],u=t[1+(a<<1)],l=e_?this.stackID(o)+" -> ":"";if(o.deadEnd&&(r||(r=!0,o.restart(),e_&&console.log(l+this.stackID(o)+" (restarted)"),this.advanceFully(o,n))))continue;let c=o.split(),d=l;for(let e=0;e<10&&c.forceReduce()&&(e_&&console.log(d+this.stackID(c)+" (via force-reduce)"),!this.advanceFully(c,n));e++)e_&&(d=this.stackID(c)+" -> ");for(let e of o.recoverByInsert(s))e_&&console.log(l+this.stackID(e)+" (via recover-insert)"),this.advanceFully(e,n);this.stream.end>o.pos?(u==o.pos&&(u++,s=0),o.recoverByDelete(s,u),e_&&console.log(l+this.stackID(o)+` (via recover-delete ${this.parser.getName(s)})`),o_(o,n)):(!i||i.score<o.score)&&(i=o)}return i}stackToTree(e){return e.close(),dA.build({buffer:XS.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(t_||(t_=new WeakMap)).get(e);return t||t_.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function o_(e,t){for(let n=0;n<t.length;n++){let i=t[n];if(i.pos==e.pos&&i.sameState(e))return void(t[n].score<e.score&&(t[n]=e))}t.push(e)}class s_{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||0==this.disabled[e]}}const u_=e=>e;class l_{constructor(e){this.start=e.start,this.shift=e.shift||u_,this.reduce=e.reduce||u_,this.reuse=e.reuse||u_,this.hash=e.hash||(()=>0),this.strict=!1!==e.strict}}class c_ extends FA{constructor(e){if(super(),this.wrappers=[],14!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let n=0;n<e.repeatNodeCount;n++)t.push("");let n=Object.keys(e.topRules).map(t=>e.topRules[t][1]),i=[];for(let e=0;e<t.length;e++)i.push([]);function r(e,t,n){i[e].push([t,t.deserialize(String(n))])}if(e.nodeProps)for(let t of e.nodeProps){let e=t[0];"string"==typeof e&&(e=iA[e]);for(let n=1;n<t.length;){let i=t[n++];if(i>=0)r(i,e,t[n++]);else{let a=t[n+-i];for(let o=-i;o>0;o--)r(t[n++],e,a);n++}}}this.nodeSet=new sA(t.map((t,r)=>oA.define({name:r>=this.minRepeatTerm?void 0:t,id:r,props:i[r],top:n.indexOf(r)>-1,error:0==r,skipped:e.skippedNodes&&e.skippedNodes.indexOf(r)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=eA;let a=zS(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let e=0;e<this.specializerSpecs.length;e++)this.specialized[e]=this.specializerSpecs[e].term;this.specializers=this.specializerSpecs.map(h_),this.states=zS(e.states,Uint32Array),this.data=zS(e.stateData),this.goto=zS(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(e=>"number"==typeof e?new GS(a,e):e),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let i=new a_(this,e,t,n);for(let r of this.wrappers)i=r(i,e,t,n);return i}getGoto(e,t,n=!1){let i=this.goto;if(t>=i[0])return-1;for(let r=i[t+1];;){let t=i[r++],a=1&t,o=i[r++];if(a&&n)return o;for(let n=r+(t>>1);r<n;r++)if(i[r]==e)return o;if(a)return-1}}hasAction(e,t){let n=this.data;for(let i=0;i<2;i++)for(let r,a=this.stateSlot(e,i?2:1);;a+=3){if(65535==(r=n[a])){if(1!=n[a+1]){if(2==n[a+1])return d_(n,a+2);break}r=n[a=d_(n,a+2)]}if(r==t||0==r)return d_(n,a+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,e=>e==t||null)}allActions(e,t){let n=this.stateSlot(e,4),i=n?t(n):void 0;for(let n=this.stateSlot(e,1);null==i;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=d_(this.data,n+2)}i=t(d_(this.data,n+1))}return i}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=d_(this.data,n+2)}if(!(1&this.data[n+2])){let e=this.data[n+1];t.some((t,n)=>1&n&&t==e)||t.push(this.data[n],e)}}return t}configure(e){let t=Object.assign(Object.create(c_.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(t=>{let n=e.tokenizers.find(e=>e.from==t);return n?n.to:t})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((n,i)=>{let r=e.specializers.find(e=>e.from==n.external);if(!r)return n;let a=Object.assign(Object.assign({},n),{external:r.to});return t.specializers[i]=h_(a),a})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map(()=>!1);if(e)for(let i of e.split(" ")){let e=t.indexOf(i);e>=0&&(n[e]=!0)}let i=null;for(let e=0;e<t.length;e++)if(!n[e])for(let n,r=this.dialects[t[e]];65535!=(n=this.data[r++]);)(i||(i=new Uint8Array(this.maxTerm+1)))[n]=1;return new s_(e,n,i)}static deserialize(e){return new c_(e)}}function d_(e,t){return e[t]|e[t+1]<<16}function h_(e){if(e.external){let t=e.extend?1:0;return(n,i)=>e.external(n,i)<<1|t}return e.get}const p_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},f_={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},m_={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function O_(e){return 45==e||46==e||58==e||e>=65&&e<=90||95==e||e>=97&&e<=122||e>=161}let g_=null,D_=null,v_=0;function E_(e,t){let n=e.pos+t;if(v_==n&&D_==e)return g_;let i=e.peek(t),r="";for(;O_(i);)r+=String.fromCharCode(i),i=e.peek(++t);return D_=e,v_=n,g_=r?r.toLowerCase():i==C_||i==b_?void 0:null}const C_=63,b_=33;function k_(e,t){this.name=e,this.parent=t}const T_=[6,10,7,8,9],y_=new l_({start:null,shift:(e,t,n,i)=>T_.indexOf(t)>-1?new k_(E_(i,1)||"",e):e,reduce:(e,t)=>21==t&&e?e.parent:e,reuse(e,t,n,i){let r=t.type.id;return 6==r||37==r?new k_(E_(i,1)||"",e):e},strict:!1}),A_=new YS((e,t)=>{if(60!=e.next)return void(e.next<0&&t.context&&e.acceptToken(58));e.advance();let n=47==e.next;n&&e.advance();let i=E_(e,0);if(void 0===i)return;if(!i)return e.acceptToken(n?15:14);let r=t.context?t.context.name:null;if(n){if(i==r)return e.acceptToken(11);if(r&&f_[r])return e.acceptToken(58,-2);if(t.dialectEnabled(0))return e.acceptToken(12);for(let e=t.context;e;e=e.parent)if(e.name==i)return;e.acceptToken(13)}else{if("script"==i)return e.acceptToken(7);if("style"==i)return e.acceptToken(8);if("textarea"==i)return e.acceptToken(9);if(p_.hasOwnProperty(i))return e.acceptToken(10);r&&m_[r]&&m_[r][i]?e.acceptToken(58,-1):e.acceptToken(6)}},{contextual:!0}),S_=new YS(e=>{for(let t=0,n=0;;n++){if(e.next<0){n&&e.acceptToken(59);break}if(45==e.next)t++;else{if(62==e.next&&t>=2){n>=3&&e.acceptToken(59,-2);break}t=0}e.advance()}}),__=new YS((e,t)=>{if(47==e.next&&62==e.peek(1)){let n=t.dialectEnabled(1)||function(e){for(;e;e=e.parent)if("svg"==e.name||"math"==e.name)return!0;return!1}(t.context);e.acceptToken(n?5:4,2)}else 62==e.next&&e.acceptToken(4,1)});function F_(e,t,n){let i=2+e.length;return new YS(r=>{for(let a=0,o=0,s=0;;s++){if(r.next<0){s&&r.acceptToken(t);break}if(0==a&&60==r.next||1==a&&47==r.next||a>=2&&a<i&&r.next==e.charCodeAt(a-2))a++,o++;else{if(a==i&&62==r.next){s>o?r.acceptToken(t,-o):r.acceptToken(n,-(o-2));break}if((10==r.next||13==r.next)&&s){r.acceptToken(t,1);break}a=o=0}r.advance()}})}const w_=F_("script",55,1),x_=F_("style",56,2),P_=F_("textarea",57,3),R_=QA({"Text RawText IncompleteTag IncompleteCloseTag":eS.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":eS.angleBracket,TagName:eS.tagName,"MismatchedCloseTag/TagName":[eS.tagName,eS.invalid],AttributeName:eS.attributeName,"AttributeValue UnquotedAttributeValue":eS.attributeValue,Is:eS.definitionOperator,"EntityReference CharacterReference":eS.character,Comment:eS.blockComment,ProcessingInst:eS.processingInstruction,DoctypeDecl:eS.documentMeta}),I_=c_.deserialize({version:14,states:",xOVO!rOOO!ZQ#tO'#CrO!`Q#tO'#C{O!eQ#tO'#DOO!jQ#tO'#DRO!oQ#tO'#DTO!tOaO'#CqO#PObO'#CqO#[OdO'#CqO$kO!rO'#CqOOO`'#Cq'#CqO$rO$fO'#DUO$zQ#tO'#DWO%PQ#tO'#DXOOO`'#Dl'#DlOOO`'#DZ'#DZQVO!rOOO%UQ&rO,59^O%aQ&rO,59gO%lQ&rO,59jO%wQ&rO,59mO&SQ&rO,59oOOOa'#D_'#D_O&_OaO'#CyO&jOaO,59]OOOb'#D`'#D`O&rObO'#C|O&}ObO,59]OOOd'#Da'#DaO'VOdO'#DPO'bOdO,59]OOO`'#Db'#DbO'jO!rO,59]O'qQ#tO'#DSOOO`,59],59]OOOp'#Dc'#DcO'vO$fO,59pOOO`,59p,59pO(OQ#|O,59rO(TQ#|O,59sOOO`-E7X-E7XO(YQ&rO'#CtOOQW'#D['#D[O(hQ&rO1G.xOOOa1G.x1G.xOOO`1G/Z1G/ZO(sQ&rO1G/ROOOb1G/R1G/RO)OQ&rO1G/UOOOd1G/U1G/UO)ZQ&rO1G/XOOO`1G/X1G/XO)fQ&rO1G/ZOOOa-E7]-E7]O)qQ#tO'#CzOOO`1G.w1G.wOOOb-E7^-E7^O)vQ#tO'#C}OOOd-E7_-E7_O){Q#tO'#DQOOO`-E7`-E7`O*QQ#|O,59nOOOp-E7a-E7aOOO`1G/[1G/[OOO`1G/^1G/^OOO`1G/_1G/_O*VQ,UO,59`OOQW-E7Y-E7YOOOa7+$d7+$dOOO`7+$u7+$uOOOb7+$m7+$mOOOd7+$p7+$pOOO`7+$s7+$sO*bQ#|O,59fO*gQ#|O,59iO*lQ#|O,59lOOO`1G/Y1G/YO*qO7[O'#CwO+SOMhO'#CwOOQW1G.z1G.zOOO`1G/Q1G/QOOO`1G/T1G/TOOO`1G/W1G/WOOOO'#D]'#D]O+eO7[O,59cOOQW,59c,59cOOOO'#D^'#D^O+vOMhO,59cOOOO-E7Z-E7ZOOQW1G.}1G.}OOOO-E7[-E7[",stateData:",c~O!_OS~OUSOVPOWQOXROYTO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O|_O!eZO~OgaO~OgbO~OgcO~OgdO~OgeO~O!XfOPmP![mP~O!YiOQpP![pP~O!ZlORsP![sP~OUSOVPOWQOXROYTOZqO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O!eZO~O![rO~P#gO!]sO!fuO~OgvO~OgwO~OS|OT}OiyO~OS!POT}OiyO~OS!ROT}OiyO~OS!TOT}OiyO~OS}OT}OiyO~O!XfOPmX![mX~OP!WO![!XO~O!YiOQpX![pX~OQ!ZO![!XO~O!ZlORsX![sX~OR!]O![!XO~O![!XO~P#gOg!_O~O!]sO!f!aO~OS!bO~OS!cO~Oj!dOShXThXihX~OS!fOT!gOiyO~OS!hOT!gOiyO~OS!iOT!gOiyO~OS!jOT!gOiyO~OS!gOT!gOiyO~Og!kO~Og!lO~Og!mO~OS!nO~Ol!qO!a!oO!c!pO~OS!rO~OS!sO~OS!tO~Ob!uOc!uOd!uO!a!wO!b!uO~Ob!xOc!xOd!xO!c!wO!d!xO~Ob!uOc!uOd!uO!a!{O!b!uO~Ob!xOc!xOd!xO!c!{O!d!xO~OT~cbd!ey|!e~",goto:"%q!aPPPPPPPPPPPPPPPPPPPPP!b!hP!nPP!zP!}#Q#T#Z#^#a#g#j#m#s#y!bP!b!bP$P$V$m$s$y%P%V%]%cPPPPPPPP%iX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:68,context:y_,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,22,31,34,37,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,30,33,36,38,"OpenTag"],["group",-10,14,15,18,19,20,21,40,41,42,43,"Entity",17,"Entity TextContent",-3,29,32,35,"TextContent Entity"],["isolate",-11,22,30,31,33,34,36,37,38,39,42,43,"ltr",-3,27,28,40,""]],propSources:[R_],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|caPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bXaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UVaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pTaPOv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!dpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({WaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!b`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!b`!dpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYlWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]`aP!b`!dp!_^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebiSlWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXiSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vciSaP!b`!dpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!ahaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WiiSlWd!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zblWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOb!R!R7tP;=`<%l7S!Z8OYlWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{iiSlWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbiSlWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QciSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXiSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TalWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOc!R!RAwP;=`<%lAY!ZBRYlWc!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbiSlWc!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbiSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXiSc!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!cxaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYliSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_kiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_XaP!b`!dp!fQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZiSgQaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!b`!dpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!b`!dp!ePOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!b`!dpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!b`!dpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!b`!dpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!b`!dpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!b`!dpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!b`!dpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!b`!dpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!dpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO|PP!-nP;=`<%l!-Sq!-xS!dp|POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!b`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!b`|POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!b`!dp|POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!b`!dpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!b`!dpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!b`!dpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!b`!dpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!b`!dpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!b`!dpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!dpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOyPP!7TP;=`<%l!6Vq!7]V!dpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!dpyPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!b`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!b`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!b`yPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!b`!dpyPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXjSaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[w_,x_,P_,__,A_,S_,0,1,2,3,4,5],topRules:{Document:[0,16]},dialects:{noMatch:0,selfClosing:515},tokenPrec:517}),Q_=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],N_=new l_({start:!1,shift:(e,t)=>5==t||6==t||320==t?e:321==t,strict:!1}),B_=new YS((e,t)=>{let{next:n}=e;(125==n||-1==n||t.context)&&e.acceptToken(318)},{contextual:!0,fallback:!0}),M_=new YS((e,t)=>{let n,{next:i}=e;Q_.indexOf(i)>-1||47==i&&(47==(n=e.peek(1))||42==n)||125!=i&&59!=i&&-1!=i&&!t.context&&e.acceptToken(316)},{contextual:!0}),L_=new YS((e,t)=>{91==e.next&&!t.context&&e.acceptToken(317)},{contextual:!0}),$_=new YS((e,t)=>{let{next:n}=e;if(43==n||45==n){if(e.advance(),n==e.next){e.advance();let n=!t.context&&t.canShift(1);e.acceptToken(n?1:2)}}else 63==n&&46==e.peek(1)&&(e.advance(),e.advance(),(e.next<48||e.next>57)&&e.acceptToken(3))},{contextual:!0});function U_(e,t){return e>=65&&e<=90||e>=97&&e<=122||95==e||e>=192||!t&&e>=48&&e<=57}const q_=new YS((e,t)=>{if(60!=e.next||!t.dialectEnabled(0)||(e.advance(),47==e.next))return;let n=0;for(;Q_.indexOf(e.next)>-1;)e.advance(),n++;if(U_(e.next,!0)){for(e.advance(),n++;U_(e.next,!1);)e.advance(),n++;for(;Q_.indexOf(e.next)>-1;)e.advance(),n++;if(44==e.next)return;for(let t=0;;t++){if(7==t){if(!U_(e.next,!0))return;break}if(e.next!="extends".charCodeAt(t))break;e.advance(),n++}}e.acceptToken(4,-n)}),X_=QA({"get set async static":eS.modifier,"for while do if else switch try catch finally return throw break continue default case defer":eS.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":eS.operatorKeyword,"let var const using function class extends":eS.definitionKeyword,"import export from":eS.moduleKeyword,"with debugger new":eS.keyword,TemplateString:eS.special(eS.string),super:eS.atom,BooleanLiteral:eS.bool,this:eS.self,null:eS.null,Star:eS.modifier,VariableName:eS.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":eS.function(eS.variableName),VariableDefinition:eS.definition(eS.variableName),Label:eS.labelName,PropertyName:eS.propertyName,PrivatePropertyName:eS.special(eS.propertyName),"CallExpression/MemberExpression/PropertyName":eS.function(eS.propertyName),"FunctionDeclaration/VariableDefinition":eS.function(eS.definition(eS.variableName)),"ClassDeclaration/VariableDefinition":eS.definition(eS.className),"NewExpression/VariableName":eS.className,PropertyDefinition:eS.definition(eS.propertyName),PrivatePropertyDefinition:eS.definition(eS.special(eS.propertyName)),UpdateOp:eS.updateOperator,"LineComment Hashbang":eS.lineComment,BlockComment:eS.blockComment,Number:eS.number,String:eS.string,Escape:eS.escape,ArithOp:eS.arithmeticOperator,LogicOp:eS.logicOperator,BitOp:eS.bitwiseOperator,CompareOp:eS.compareOperator,RegExp:eS.regexp,Equals:eS.definitionOperator,Arrow:eS.function(eS.punctuation),": Spread":eS.punctuation,"( )":eS.paren,"[ ]":eS.squareBracket,"{ }":eS.brace,"InterpolationStart InterpolationEnd":eS.special(eS.brace),".":eS.derefOperator,", ;":eS.separator,"@":eS.meta,TypeName:eS.typeName,TypeDefinition:eS.definition(eS.typeName),"type enum interface implements namespace module declare":eS.definitionKeyword,"abstract global Privacy readonly override":eS.modifier,"is keyof unique infer asserts":eS.operatorKeyword,JSXAttributeValue:eS.attributeValue,JSXText:eS.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":eS.angleBracket,"JSXIdentifier JSXNameSpacedName":eS.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":eS.attributeName,"JSXBuiltin/JSXIdentifier":eS.standard(eS.tagName)}),z_={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},Z_={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},j_={__proto__:null,"<":193},W_=c_.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:N_,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[X_],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[M_,L_,$_,q_,2,3,4,5,6,7,8,9,10,11,12,13,14,B_,new VS("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new VS("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:e=>z_[e]||-1},{term:343,get:e=>Z_[e]||-1},{term:95,get:e=>j_[e]||-1}],tokenPrec:15201}),G_=QA({String:eS.string,Number:eS.number,"True False":eS.bool,PropertyName:eS.propertyName,Null:eS.null,", :":eS.separator,"[ ]":eS.squareBracket,"{ }":eS.brace}),V_=c_.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[G_],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0});class Y_{static create(e,t,n,i,r){return new Y_(e,t,n,i+(i<<8)+e+(t<<4)|0,r,[],[])}constructor(e,t,n,i,r,a,o){this.type=e,this.value=t,this.from=n,this.hash=i,this.end=r,this.children=a,this.positions=o,this.hashProp=[[iA.contextHash,i]]}addChild(e,t){e.prop(iA.contextHash)!=this.hash&&(e=new dA(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(t)}toTree(e,t=this.end){let n=this.children.length-1;return n>=0&&(t=Math.max(t,this.positions[n]+this.children[n].length+this.from)),new dA(e.types[this.type],this.children,this.positions,t-this.from).balance({makeTree:(e,t,n)=>new dA(oA.none,e,t,n,this.hashProp)})}}var H_;!function(e){e[e.Document=1]="Document",e[e.CodeBlock=2]="CodeBlock",e[e.FencedCode=3]="FencedCode",e[e.Blockquote=4]="Blockquote",e[e.HorizontalRule=5]="HorizontalRule",e[e.BulletList=6]="BulletList",e[e.OrderedList=7]="OrderedList",e[e.ListItem=8]="ListItem",e[e.ATXHeading1=9]="ATXHeading1",e[e.ATXHeading2=10]="ATXHeading2",e[e.ATXHeading3=11]="ATXHeading3",e[e.ATXHeading4=12]="ATXHeading4",e[e.ATXHeading5=13]="ATXHeading5",e[e.ATXHeading6=14]="ATXHeading6",e[e.SetextHeading1=15]="SetextHeading1",e[e.SetextHeading2=16]="SetextHeading2",e[e.HTMLBlock=17]="HTMLBlock",e[e.LinkReference=18]="LinkReference",e[e.Paragraph=19]="Paragraph",e[e.CommentBlock=20]="CommentBlock",e[e.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",e[e.Escape=22]="Escape",e[e.Entity=23]="Entity",e[e.HardBreak=24]="HardBreak",e[e.Emphasis=25]="Emphasis",e[e.StrongEmphasis=26]="StrongEmphasis",e[e.Link=27]="Link",e[e.Image=28]="Image",e[e.InlineCode=29]="InlineCode",e[e.HTMLTag=30]="HTMLTag",e[e.Comment=31]="Comment",e[e.ProcessingInstruction=32]="ProcessingInstruction",e[e.Autolink=33]="Autolink",e[e.HeaderMark=34]="HeaderMark",e[e.QuoteMark=35]="QuoteMark",e[e.ListMark=36]="ListMark",e[e.LinkMark=37]="LinkMark",e[e.EmphasisMark=38]="EmphasisMark",e[e.CodeMark=39]="CodeMark",e[e.CodeText=40]="CodeText",e[e.CodeInfo=41]="CodeInfo",e[e.LinkTitle=42]="LinkTitle",e[e.LinkLabel=43]="LinkLabel",e[e.URL=44]="URL"}(H_||(H_={}));class K_{constructor(e,t){this.start=e,this.content=t,this.marks=[],this.parsers=[]}}class J_{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return iF(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,t=0,n=0){for(let i=t;i<e;i++)n+=9==this.text.charCodeAt(i)?4-n%4:1;return n}findColumn(e){let t=0;for(let n=0;t<this.text.length&&n<e;t++)n+=9==this.text.charCodeAt(t)?4-n%4:1;return t}scrub(){if(!this.baseIndent)return this.text;let e="";for(let t=0;t<this.basePos;t++)e+=" ";return e+this.text.slice(this.basePos)}}function eF(e,t,n){if(n.pos==n.text.length||e!=t.block&&n.indent>=t.stack[n.depth+1].value+n.baseIndent)return!0;if(n.indent>=n.baseIndent+4)return!1;let i=(e.type==H_.OrderedList?cF:lF)(n,t,!1);return i>0&&(e.type!=H_.BulletList||sF(n,t,!1)<0)&&n.text.charCodeAt(n.pos+i-1)==e.value}const tF={[H_.Blockquote]:(e,t,n)=>62==n.next&&(n.markers.push(MF(H_.QuoteMark,t.lineStart+n.pos,t.lineStart+n.pos+1)),n.moveBase(n.pos+(nF(n.text.charCodeAt(n.pos+1))?2:1)),e.end=t.lineStart+n.text.length,!0),[H_.ListItem]:(e,t,n)=>!(n.indent<n.baseIndent+e.value&&n.next>-1||(n.moveBaseColumn(n.baseIndent+e.value),0)),[H_.OrderedList]:eF,[H_.BulletList]:eF,[H_.Document]:()=>!0};function nF(e){return 32==e||9==e||10==e||13==e}function iF(e,t=0){for(;t<e.length&&nF(e.charCodeAt(t));)t++;return t}function rF(e,t,n){for(;t>n&&nF(e.charCodeAt(t-1));)t--;return t}function aF(e){if(96!=e.next&&126!=e.next)return-1;let t=e.pos+1;for(;t<e.text.length&&e.text.charCodeAt(t)==e.next;)t++;if(t<e.pos+3)return-1;if(96==e.next)for(let n=t;n<e.text.length;n++)if(96==e.text.charCodeAt(n))return-1;return t}function oF(e){return 62!=e.next?-1:32==e.text.charCodeAt(e.pos+1)?2:1}function sF(e,t,n){if(42!=e.next&&45!=e.next&&95!=e.next)return-1;let i=1;for(let t=e.pos+1;t<e.text.length;t++){let n=e.text.charCodeAt(t);if(n==e.next)i++;else if(!nF(n))return-1}return n&&45==e.next&&hF(e)>-1&&e.depth==t.stack.length&&t.parser.leafBlockParsers.indexOf(TF.SetextHeading)>-1||i<3?-1:1}function uF(e,t){for(let n=e.stack.length-1;n>=0;n--)if(e.stack[n].type==t)return!0;return!1}function lF(e,t,n){return 45!=e.next&&43!=e.next&&42!=e.next||e.pos!=e.text.length-1&&!nF(e.text.charCodeAt(e.pos+1))||!(!n||uF(t,H_.BulletList)||e.skipSpace(e.pos+2)<e.text.length)?-1:1}function cF(e,t,n){let i=e.pos,r=e.next;for(;r>=48&&r<=57;){if(i++,i==e.text.length)return-1;r=e.text.charCodeAt(i)}return i==e.pos||i>e.pos+9||46!=r&&41!=r||i<e.text.length-1&&!nF(e.text.charCodeAt(i+1))||n&&!uF(t,H_.OrderedList)&&(e.skipSpace(i+1)==e.text.length||i>e.pos+1||49!=e.next)?-1:i+1-e.pos}function dF(e){if(35!=e.next)return-1;let t=e.pos+1;for(;t<e.text.length&&35==e.text.charCodeAt(t);)t++;if(t<e.text.length&&32!=e.text.charCodeAt(t))return-1;let n=t-e.pos;return n>6?-1:n}function hF(e){if(45!=e.next&&61!=e.next||e.indent>=e.baseIndent+4)return-1;let t=e.pos+1;for(;t<e.text.length&&e.text.charCodeAt(t)==e.next;)t++;let n=t;for(;t<e.text.length&&nF(e.text.charCodeAt(t));)t++;return t==e.text.length?n:-1}const pF=/^[ \t]*$/,fF=/-->/,mF=/\?>/,OF=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,fF],[/^\s*<\?/,mF],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,pF],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,pF]];function gF(e,t,n){if(60!=e.next)return-1;let i=e.text.slice(e.pos);for(let e=0,t=OF.length-(n?1:0);e<t;e++)if(OF[e][0].test(i))return e;return-1}function DF(e,t){let n=e.countIndent(t,e.pos,e.indent),i=e.countIndent(e.skipSpace(t),t,n);return i>=n+5?n+1:i}function vF(e,t,n){let i=e.length-1;i>=0&&e[i].to==t&&e[i].type==H_.CodeText?e[i].to=n:e.push(MF(H_.CodeText,t,n))}const EF={LinkReference:void 0,IndentedCode(e,t){let n=t.baseIndent+4;if(t.indent<n)return!1;let i=t.findColumn(n),r=e.lineStart+i,a=e.lineStart+t.text.length,o=[],s=[];for(vF(o,r,a);e.nextLine()&&t.depth>=e.stack.length;)if(t.pos==t.text.length){vF(s,e.lineStart-1,e.lineStart);for(let e of t.markers)s.push(e)}else{if(t.indent<n)break;{if(s.length){for(let e of s)e.type==H_.CodeText?vF(o,e.from,e.to):o.push(e);s=[]}vF(o,e.lineStart-1,e.lineStart);for(let e of t.markers)o.push(e);a=e.lineStart+t.text.length;let n=e.lineStart+t.findColumn(t.baseIndent+4);n<a&&vF(o,n,a)}}return s.length&&(s=s.filter(e=>e.type!=H_.CodeText),s.length&&(t.markers=s.concat(t.markers))),e.addNode(e.buffer.writeElements(o,-r).finish(H_.CodeBlock,a-r),r),!0},FencedCode(e,t){let n=aF(t);if(n<0)return!1;let i=e.lineStart+t.pos,r=t.next,a=n-t.pos,o=t.skipSpace(n),s=rF(t.text,t.text.length,o),u=[MF(H_.CodeMark,i,i+a)];o<s&&u.push(MF(H_.CodeInfo,e.lineStart+o,e.lineStart+s));for(let n=!0;e.nextLine()&&t.depth>=e.stack.length;n=!1){let i=t.pos;if(t.indent-t.baseIndent<4)for(;i<t.text.length&&t.text.charCodeAt(i)==r;)i++;if(i-t.pos>=a&&t.skipSpace(i)==t.text.length){for(let e of t.markers)u.push(e);u.push(MF(H_.CodeMark,e.lineStart+t.pos,e.lineStart+i)),e.nextLine();break}{n||vF(u,e.lineStart-1,e.lineStart);for(let e of t.markers)u.push(e);let i=e.lineStart+t.basePos,r=e.lineStart+t.text.length;i<r&&vF(u,i,r)}}return e.addNode(e.buffer.writeElements(u,-i).finish(H_.FencedCode,e.prevLineEnd()-i),i),!0},Blockquote(e,t){let n=oF(t);return!(n<0)&&(e.startContext(H_.Blockquote,t.pos),e.addNode(H_.QuoteMark,e.lineStart+t.pos,e.lineStart+t.pos+1),t.moveBase(t.pos+n),null)},HorizontalRule(e,t){if(sF(t,e,!1)<0)return!1;let n=e.lineStart+t.pos;return e.nextLine(),e.addNode(H_.HorizontalRule,n),!0},BulletList(e,t){let n=lF(t,e,!1);if(n<0)return!1;e.block.type!=H_.BulletList&&e.startContext(H_.BulletList,t.basePos,t.next);let i=DF(t,t.pos+1);return e.startContext(H_.ListItem,t.basePos,i-t.baseIndent),e.addNode(H_.ListMark,e.lineStart+t.pos,e.lineStart+t.pos+n),t.moveBaseColumn(i),null},OrderedList(e,t){let n=cF(t,e,!1);if(n<0)return!1;e.block.type!=H_.OrderedList&&e.startContext(H_.OrderedList,t.basePos,t.text.charCodeAt(t.pos+n-1));let i=DF(t,t.pos+n);return e.startContext(H_.ListItem,t.basePos,i-t.baseIndent),e.addNode(H_.ListMark,e.lineStart+t.pos,e.lineStart+t.pos+n),t.moveBaseColumn(i),null},ATXHeading(e,t){let n=dF(t);if(n<0)return!1;let i=t.pos,r=e.lineStart+i,a=rF(t.text,t.text.length,i),o=a;for(;o>i&&t.text.charCodeAt(o-1)==t.next;)o--;(o==a||o==i||!nF(t.text.charCodeAt(o-1)))&&(o=t.text.length);let s=e.buffer.write(H_.HeaderMark,0,n).writeElements(e.parser.parseInline(t.text.slice(i+n+1,o),r+n+1),-r);o<t.text.length&&s.write(H_.HeaderMark,o-i,a-i);let u=s.finish(H_.ATXHeading1-1+n,t.text.length-i);return e.nextLine(),e.addNode(u,r),!0},HTMLBlock(e,t){let n=gF(t,0,!1);if(n<0)return!1;let i=e.lineStart+t.pos,r=OF[n][1],a=[],o=r!=pF;for(;!r.test(t.text)&&e.nextLine();){if(t.depth<e.stack.length){o=!1;break}for(let e of t.markers)a.push(e)}o&&e.nextLine();let s=r==fF?H_.CommentBlock:r==mF?H_.ProcessingInstructionBlock:H_.HTMLBlock,u=e.prevLineEnd();return e.addNode(e.buffer.writeElements(a,-i).finish(s,u-i),i),!0},SetextHeading:void 0};class CF{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,t,n){if(-1==this.stage)return!1;let i=n.content+"\n"+t.scrub(),r=this.advance(i);return r>-1&&r<i.length&&this.complete(e,n,r)}finish(e,t){return(2==this.stage||3==this.stage)&&iF(t.content,this.pos)==t.content.length&&this.complete(e,t,t.content.length)}complete(e,t,n){return e.addLeafElement(t,MF(H_.LinkReference,this.start,this.start+n,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(!1===e&&(this.stage=-1),!1)}advance(e){for(;;){if(-1==this.stage)return-1;if(0==this.stage){if(!this.nextStage(VF(e,this.pos,this.start,!0)))return-1;if(58!=e.charCodeAt(this.pos))return this.stage=-1;this.elts.push(MF(H_.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else{if(1!=this.stage){if(2==this.stage){let t=iF(e,this.pos),n=0;if(t>this.pos){let i=GF(e,t,this.start);if(i){let t=bF(e,i.to-this.start);t>0&&(this.nextStage(i),n=t)}}return n||(n=bF(e,this.pos)),n>0&&n<e.length?n:-1}return bF(e,this.pos)}if(!this.nextStage(WF(e,iF(e,this.pos),this.start)))return-1}}}}function bF(e,t){for(;t<e.length;t++){let n=e.charCodeAt(t);if(10==n)break;if(!nF(n))return-1}return t}class kF{nextLine(e,t,n){let i=t.depth<e.stack.length?-1:hF(t),r=t.next;if(i<0)return!1;let a=MF(H_.HeaderMark,e.lineStart+t.pos,e.lineStart+i);return e.nextLine(),e.addLeafElement(n,MF(61==r?H_.SetextHeading1:H_.SetextHeading2,n.start,e.prevLineEnd(),[...e.parser.parseInline(n.content,n.start),a])),!0}finish(){return!1}}const TF={LinkReference:(e,t)=>91==t.content.charCodeAt(0)?new CF(t):null,SetextHeading:()=>new kF},yF=[(e,t)=>dF(t)>=0,(e,t)=>aF(t)>=0,(e,t)=>oF(t)>=0,(e,t)=>lF(t,e,!0)>=0,(e,t)=>cF(t,e,!0)>=0,(e,t)=>sF(t,e,!0)>=0,(e,t)=>gF(t,0,!0)>=0],AF={text:"",end:0};class SF{constructor(e,t,n,i){this.parser=e,this.input=t,this.ranges=i,this.line=new J_,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=i[i.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=i[0].from,this.block=Y_.create(H_.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=n.length?new JF(n,t):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(null!=this.stoppedAt&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(let t=0;;){let n=e.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;t<e.markers.length&&(!n||e.markers[t].from<n.end);){let n=e.markers[t++];this.addNode(n.type,n.from,n.to)}if(!n)break;this.finishContext()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let t of this.parser.blockParsers)if(t){let n=t(this,e);if(0!=n){if(1==n)return null;e.forward();continue e}}break}let t=new K_(this.lineStart+e.pos,e.text.slice(e.pos));for(let e of this.parser.leafBlockParsers)if(e){let n=e(this,t);n&&t.parsers.push(n)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4)for(let n of this.parser.endLeafBlock)if(n(this,e,t))break e;for(let n of t.parsers)if(n.nextLine(this,e,t))return null;t.content+="\n"+e.scrub();for(let n of e.markers)t.marks.push(n)}return this.finishLeaf(t),null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let t=this.fragments.takeNodes(this);return!!t&&(this.absoluteLineStart+=t,this.lineStart=ew(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0)}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let t=AF;if(t.end=e,e>=this.to)t.text="";else if(t.text=this.lineChunkAt(e),t.end+=t.text.length,this.ranges.length>1){let e=this.absoluteLineStart,n=this.rangeI;for(;this.ranges[n].to<t.end;){n++;let i=this.ranges[n].from,r=this.lineChunkAt(i);t.end=i+r.length,t.text=t.text.slice(0,this.ranges[n-1].to-e)+r,e=t.end-t.text.length}}return t}readLine(){let{line:e}=this,{text:t,end:n}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=n,e.reset(t);e.depth<this.stack.length;e.depth++){let t=this.stack[e.depth],n=this.parser.skipContextMarkup[t.type];if(!n)throw new Error("Unhandled block context "+H_[t.type]);let i=this.line.markers.length;if(!n(t,this,e)){this.line.markers.length>i&&(t.end=this.line.markers[this.line.markers.length-1].to),e.forward();break}e.forward()}}lineChunkAt(e){let t,n=this.input.chunk(e);if(this.input.lineChunks)t="\n"==n?"":n;else{let e=n.indexOf("\n");t=e<0?n:n.slice(0,e)}return e+t.length>this.to?t.slice(0,this.to-e):t}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,t,n=0){this.block=Y_.create(e,n,this.lineStart+t,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,t,n=0){this.startContext(this.parser.getNodeType(e),t,n)}addNode(e,t,n){"number"==typeof e&&(e=new dA(this.parser.nodeSet.types[e],IF,IF,(null!=n?n:this.prevLineEnd())-t)),this.block.addChild(e,t-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,t){this.addNode(this.buffer.writeElements(HF(t.children,e.marks),-t.from).finish(t.type,t.to-t.from),t.from)}finishContext(){let e=this.stack.pop(),t=this.stack[this.stack.length-1];t.addChild(e.toTree(this.parser.nodeSet),e.from-t.from),this.block=t}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?_F(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let t of e.parsers)if(t.finish(this,e))return;let t=HF(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(t,-e.start).finish(H_.Paragraph,e.content.length),e.start)}elt(e,t,n,i){return"string"==typeof e?MF(this.parser.getNodeType(e),t,n,i):new BF(e,t)}get buffer(){return new QF(this.parser.nodeSet)}}function _F(e,t,n,i,r){let a=e[t].to,o=[],s=[],u=n.from+i;function l(n,r){for(;r?n>=a:n>a;){let r=e[t+1].from-a;i+=r,n+=r,t++,a=e[t].to}}for(let c=n.firstChild;c;c=c.nextSibling){l(c.from+i,!0);let n,d=c.from+i,h=r.get(c.tree);h?n=h:c.to+i>a?(n=_F(e,t,c,i,r),l(c.to+i,!1)):n=c.toTree(),o.push(n),s.push(d-u)}return l(n.to+i,!1),new dA(n.type,o,s,n.to+i-u,n.tree?n.tree.propValues:void 0)}class FF extends FA{constructor(e,t,n,i,r,a,o,s,u){super(),this.nodeSet=e,this.blockParsers=t,this.leafBlockParsers=n,this.blockNames=i,this.endLeafBlock=r,this.skipContextMarkup=a,this.inlineParsers=o,this.inlineNames=s,this.wrappers=u,this.nodeTypes=Object.create(null);for(let t of e.types)this.nodeTypes[t.name]=t.id}createParse(e,t,n){let i=new SF(this,e,t,n);for(let r of this.wrappers)i=r(i,e,t,n);return i}configure(e){let t=xF(e);if(!t)return this;let{nodeSet:n,skipContextMarkup:i}=this,r=this.blockParsers.slice(),a=this.leafBlockParsers.slice(),o=this.blockNames.slice(),s=this.inlineParsers.slice(),u=this.inlineNames.slice(),l=this.endLeafBlock.slice(),c=this.wrappers;if(wF(t.defineNodes)){i=Object.assign({},i);let e,r=n.types.slice();for(let n of t.defineNodes){let{name:t,block:a,composite:o,style:s}="string"==typeof n?{name:n}:n;if(r.some(e=>e.name==t))continue;o&&(i[r.length]=(e,t,n)=>o(t,n,e.value));let u=r.length,l=o?["Block","BlockContext"]:a?u>=H_.ATXHeading1&&u<=H_.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;r.push(oA.define({id:u,name:t,props:l&&[[iA.group,l]]})),s&&(e||(e={}),Array.isArray(s)||s instanceof PA?e[t]=s:Object.assign(e,s))}n=new sA(r),e&&(n=n.extend(QA(e)))}if(wF(t.props)&&(n=n.extend(...t.props)),wF(t.remove))for(let e of t.remove){let t=this.blockNames.indexOf(e),n=this.inlineNames.indexOf(e);t>-1&&(r[t]=a[t]=void 0),n>-1&&(s[n]=void 0)}if(wF(t.parseBlock))for(let e of t.parseBlock){let t=o.indexOf(e.name);if(t>-1)r[t]=e.parse,a[t]=e.leaf;else{let t=e.before?PF(o,e.before):e.after?PF(o,e.after)+1:o.length-1;r.splice(t,0,e.parse),a.splice(t,0,e.leaf),o.splice(t,0,e.name)}e.endLeaf&&l.push(e.endLeaf)}if(wF(t.parseInline))for(let e of t.parseInline){let t=u.indexOf(e.name);if(t>-1)s[t]=e.parse;else{let t=e.before?PF(u,e.before):e.after?PF(u,e.after)+1:u.length-1;s.splice(t,0,e.parse),u.splice(t,0,e.name)}}return t.wrap&&(c=c.concat(t.wrap)),new FF(n,r,a,o,l,i,s,u,c)}getNodeType(e){let t=this.nodeTypes[e];if(null==t)throw new RangeError(`Unknown node type '${e}'`);return t}parseInline(e,t){let n=new YF(this,e,t);e:for(let e=t;e<n.end;){let t=n.char(e);for(let i of this.inlineParsers)if(i){let r=i(n,t,e);if(r>=0){e=r;continue e}}e++}return n.resolveMarkers(0)}}function wF(e){return null!=e&&e.length>0}function xF(e){if(!Array.isArray(e))return e;if(0==e.length)return null;let t=xF(e[0]);if(1==e.length)return t;let n=xF(e.slice(1));if(!n||!t)return t||n;let i=(e,t)=>(e||IF).concat(t||IF),r=t.wrap,a=n.wrap;return{props:i(t.props,n.props),defineNodes:i(t.defineNodes,n.defineNodes),parseBlock:i(t.parseBlock,n.parseBlock),parseInline:i(t.parseInline,n.parseInline),remove:i(t.remove,n.remove),wrap:r?a?(e,t,n,i)=>r(a(e,t,n,i),t,n,i):r:a}}function PF(e,t){let n=e.indexOf(t);if(n<0)throw new RangeError(`Position specified relative to unknown parser ${t}`);return n}let RF=[oA.none];for(let e,t=1;e=H_[t];t++)RF[t]=oA.define({id:t,name:e,props:t>=H_.Escape?[]:[[iA.group,t in tF?["Block","BlockContext"]:["Block","LeafBlock"]]],top:"Document"==e});const IF=[];class QF{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,t,n,i=0){return this.content.push(e,t,n,4+4*i),this}writeElements(e,t=0){for(let n of e)n.writeTo(this,t);return this}finish(e,t){return dA.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:t})}}let NF=class{constructor(e,t,n,i=IF){this.type=e,this.from=t,this.to=n,this.children=i}writeTo(e,t){let n=e.content.length;e.writeElements(this.children,t),e.content.push(this.type,this.from+t,this.to+t,e.content.length+4-n)}toTree(e){return new QF(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class BF{constructor(e,t){this.tree=e,this.from=t}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return IF}writeTo(e,t){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+t,this.to+t,-1)}toTree(){return this.tree}}function MF(e,t,n,i){return new NF(e,t,n,i)}const LF={resolve:"Emphasis",mark:"EmphasisMark"},$F={resolve:"Emphasis",mark:"EmphasisMark"},UF={},qF={};class XF{constructor(e,t,n,i){this.type=e,this.from=t,this.to=n,this.side=i}}let zF=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{zF=new RegExp("[\\p{S}|\\p{P}]","u")}catch(e){}const ZF={Escape(e,t,n){if(92!=t||n==e.end-1)return-1;let i=e.char(n+1);for(let t=0;t<32;t++)if("!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~".charCodeAt(t)==i)return e.append(MF(H_.Escape,n,n+2));return-1},Entity(e,t,n){if(38!=t)return-1;let i=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(e.slice(n+1,n+31));return i?e.append(MF(H_.Entity,n,n+1+i[0].length)):-1},InlineCode(e,t,n){if(96!=t||n&&96==e.char(n-1))return-1;let i=n+1;for(;i<e.end&&96==e.char(i);)i++;let r=i-n,a=0;for(;i<e.end;i++)if(96==e.char(i)){if(a++,a==r&&96!=e.char(i+1))return e.append(MF(H_.InlineCode,n,i+1,[MF(H_.CodeMark,n,n+r),MF(H_.CodeMark,i+1-r,i+1)]))}else a=0;return-1},HTMLTag(e,t,n){if(60!=t||n==e.end-1)return-1;let i=e.slice(n+1,e.end),r=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(i);if(r)return e.append(MF(H_.Autolink,n,n+1+r[0].length,[MF(H_.LinkMark,n,n+1),MF(H_.URL,n+1,n+r[0].length),MF(H_.LinkMark,n+r[0].length,n+1+r[0].length)]));let a=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(i);if(a)return e.append(MF(H_.Comment,n,n+1+a[0].length));let o=/^\?[^]*?\?>/.exec(i);if(o)return e.append(MF(H_.ProcessingInstruction,n,n+1+o[0].length));let s=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(i);return s?e.append(MF(H_.HTMLTag,n,n+1+s[0].length)):-1},Emphasis(e,t,n){if(95!=t&&42!=t)return-1;let i=n+1;for(;e.char(i)==t;)i++;let r=e.slice(n-1,n),a=e.slice(i,i+1),o=zF.test(r),s=zF.test(a),u=/\s|^$/.test(r),l=/\s|^$/.test(a),c=!l&&(!s||u||o),d=!u&&(!o||l||s),h=c&&(42==t||!d||o),p=d&&(42==t||!c||s);return e.append(new XF(95==t?LF:$F,n,i,(h?1:0)|(p?2:0)))},HardBreak(e,t,n){if(92==t&&10==e.char(n+1))return e.append(MF(H_.HardBreak,n,n+2));if(32==t){let t=n+1;for(;32==e.char(t);)t++;if(10==e.char(t)&&t>=n+2)return e.append(MF(H_.HardBreak,n,t+1))}return-1},Link:(e,t,n)=>91==t?e.append(new XF(UF,n,n+1,1)):-1,Image:(e,t,n)=>33==t&&91==e.char(n+1)?e.append(new XF(qF,n,n+2,1)):-1,LinkEnd(e,t,n){if(93!=t)return-1;for(let t=e.parts.length-1;t>=0;t--){let i=e.parts[t];if(i instanceof XF&&(i.type==UF||i.type==qF)){if(!i.side||e.skipSpace(i.to)==n&&!/[(\[]/.test(e.slice(n+1,n+2)))return e.parts[t]=null,-1;let r=e.takeContent(t),a=e.parts[t]=jF(e,r,i.type==UF?H_.Link:H_.Image,i.from,n+1);if(i.type==UF)for(let n=0;n<t;n++){let t=e.parts[n];t instanceof XF&&t.type==UF&&(t.side=0)}return a.to}}return-1}};function jF(e,t,n,i,r){let{text:a}=e,o=e.char(r),s=r;if(t.unshift(MF(H_.LinkMark,i,i+(n==H_.Image?2:1))),t.push(MF(H_.LinkMark,r-1,r)),40==o){let n,i=e.skipSpace(r+1),o=WF(a,i-e.offset,e.offset);o&&(i=e.skipSpace(o.to),i!=o.to&&(n=GF(a,i-e.offset,e.offset),n&&(i=e.skipSpace(n.to)))),41==e.char(i)&&(t.push(MF(H_.LinkMark,r,r+1)),s=i+1,o&&t.push(o),n&&t.push(n),t.push(MF(H_.LinkMark,i,s)))}else if(91==o){let n=VF(a,r-e.offset,e.offset,!1);n&&(t.push(n),s=n.to)}return MF(n,i,s,t)}function WF(e,t,n){if(60==e.charCodeAt(t)){for(let i=t+1;i<e.length;i++){let r=e.charCodeAt(i);if(62==r)return MF(H_.URL,t+n,i+1+n);if(60==r||10==r)return!1}return null}{let i=0,r=t;for(let t=!1;r<e.length;r++){let n=e.charCodeAt(r);if(nF(n))break;if(t)t=!1;else if(40==n)i++;else if(41==n){if(!i)break;i--}else 92==n&&(t=!0)}return r>t?MF(H_.URL,t+n,r+n):r==e.length&&null}}function GF(e,t,n){let i=e.charCodeAt(t);if(39!=i&&34!=i&&40!=i)return!1;let r=40==i?41:i;for(let i=t+1,a=!1;i<e.length;i++){let o=e.charCodeAt(i);if(a)a=!1;else{if(o==r)return MF(H_.LinkTitle,t+n,i+1+n);92==o&&(a=!0)}}return null}function VF(e,t,n,i){for(let r=!1,a=t+1,o=Math.min(e.length,a+999);a<o;a++){let o=e.charCodeAt(a);if(r)r=!1;else{if(93==o)return!i&&MF(H_.LinkLabel,t+n,a+1+n);if(i&&!nF(o)&&(i=!1),91==o)return!1;92==o&&(r=!0)}}return null}class YF{constructor(e,t,n){this.parser=e,this.text=t,this.offset=n,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,t){return this.text.slice(e-this.offset,t-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,t,n,i,r){return this.append(new XF(e,t,n,(i?1:0)|(r?2:0)))}get hasOpenLink(){for(let e=this.parts.length-1;e>=0;e--){let t=this.parts[e];if(t instanceof XF&&(t.type==UF||t.type==qF))return!0}return!1}addElement(e){return this.append(e)}resolveMarkers(e){for(let t=e;t<this.parts.length;t++){let n=this.parts[t];if(!(n instanceof XF&&n.type.resolve&&2&n.side))continue;let i,r=n.type==LF||n.type==$F,a=n.to-n.from,o=t-1;for(;o>=e;o--){let e=this.parts[o];if(e instanceof XF&&1&e.side&&e.type==n.type&&!(r&&(1&n.side||2&e.side)&&(e.to-e.from+a)%3==0&&((e.to-e.from)%3||a%3))){i=e;break}}if(!i)continue;let s=n.type.resolve,u=[],l=i.from,c=n.to;if(r){let e=Math.min(2,i.to-i.from,a);l=i.to-e,c=n.from+e,s=1==e?"Emphasis":"StrongEmphasis"}i.type.mark&&u.push(this.elt(i.type.mark,l,i.to));for(let e=o+1;e<t;e++)this.parts[e]instanceof NF&&u.push(this.parts[e]),this.parts[e]=null;n.type.mark&&u.push(this.elt(n.type.mark,n.from,c));let d=this.elt(s,l,c,u);this.parts[o]=r&&i.from!=l?new XF(i.type,i.from,l,i.side):null,(this.parts[t]=r&&n.to!=c?new XF(n.type,c,n.to,n.side):null)?this.parts.splice(t,0,d):this.parts[t]=d}let t=[];for(let n=e;n<this.parts.length;n++){let e=this.parts[n];e instanceof NF&&t.push(e)}return t}findOpeningDelimiter(e){for(let t=this.parts.length-1;t>=0;t--){let n=this.parts[t];if(n instanceof XF&&n.type==e&&1&n.side)return t}return null}takeContent(e){let t=this.resolveMarkers(e);return this.parts.length=e,t}getDelimiterAt(e){let t=this.parts[e];return t instanceof XF?t:null}skipSpace(e){return iF(this.text,e-this.offset)+this.offset}elt(e,t,n,i){return"string"==typeof e?MF(this.parser.getNodeType(e),t,n,i):new BF(e,t)}}function HF(e,t){if(!t.length)return e;if(!e.length)return t;let n=e.slice(),i=0;for(let e of t){for(;i<n.length&&n[i].to<e.to;)i++;if(i<n.length&&n[i].from<e.from){let t=n[i];t instanceof NF&&(n[i]=new NF(t.type,t.from,t.to,HF(t.children,[e])))}else n.splice(i++,0,e)}return n}YF.linkStart=UF,YF.imageStart=qF;const KF=[H_.CodeBlock,H_.ListItem,H_.OrderedList,H_.BulletList];class JF{constructor(e,t){this.fragments=e,this.input=t,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,t){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let e=this.fragment.to;for(;e>0&&"\n"!=this.input.read(e-1,e);)e--;this.fragmentEnd=e?e-1:0}let n=this.cursor;n||(n=this.cursor=this.fragment.tree.cursor(),n.firstChild());let i=e+this.fragment.offset;for(;n.to<=i;)if(!n.parent())return!1;for(;;){if(n.from>=i)return this.fragment.from<=t;if(!n.childAfter(i))return!1}}matches(e){let t=this.cursor.tree;return t&&t.prop(iA.contextHash)==e}takeNodes(e){let t=this.cursor,n=this.fragment.offset,i=this.fragmentEnd-(this.fragment.openEnd?1:0),r=e.absoluteLineStart,a=r,o=e.block.children.length,s=a,u=o;for(;;){if(t.to-n>i){if(t.type.isAnonymous&&t.firstChild())continue;break}let r=ew(t.from-n,e.ranges);if(t.to-n<=e.ranges[e.rangeI].to)e.addNode(t.tree,r);else{let n=new dA(e.parser.nodeSet.types[H_.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(n,t.tree),e.addNode(n,r)}if(t.type.is("Block")&&(KF.indexOf(t.type.id)<0?(a=t.to-n,o=e.block.children.length):(a=s,o=u,s=t.to-n,u=e.block.children.length)),!t.nextSibling())break}for(;e.block.children.length>o;)e.block.children.pop(),e.block.positions.pop();return a-r}}function ew(e,t){let n=e;for(let i=1;i<t.length;i++){let r=t[i-1].to,a=t[i].from;r<e&&(n-=a-r)}return n}const tw=QA({"Blockquote/...":eS.quote,HorizontalRule:eS.contentSeparator,"ATXHeading1/... SetextHeading1/...":eS.heading1,"ATXHeading2/... SetextHeading2/...":eS.heading2,"ATXHeading3/...":eS.heading3,"ATXHeading4/...":eS.heading4,"ATXHeading5/...":eS.heading5,"ATXHeading6/...":eS.heading6,"Comment CommentBlock":eS.comment,Escape:eS.escape,Entity:eS.character,"Emphasis/...":eS.emphasis,"StrongEmphasis/...":eS.strong,"Link/... Image/...":eS.link,"OrderedList/... BulletList/...":eS.list,"BlockQuote/...":eS.quote,"InlineCode CodeText":eS.monospace,"URL Autolink":eS.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":eS.processingInstruction,"CodeInfo LinkLabel":eS.labelName,LinkTitle:eS.string,Paragraph:eS.content}),nw=new FF(new sA(RF).extend(tw),Object.keys(EF).map(e=>EF[e]),Object.keys(EF).map(e=>TF[e]),Object.keys(EF),yF,tF,Object.keys(ZF).map(e=>ZF[e]),Object.keys(ZF),[]);eS.special(eS.content),eS.special(eS.content);const iw=10,rw=new Set([25,49,50,263,65,130,56,57,238,62,63,72,73,77,60,61,151,152,155,112]);function aw(e){return e==iw||13==e}function ow(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}const sw=new YS((e,t)=>{let n;if(e.next<0)e.acceptToken(199);else if(t.context.flags&lw)aw(e.next)&&e.acceptToken(198,1);else if(((n=e.peek(-1))<0||aw(n))&&t.canShift(197)){let t=0;for(;32==e.next||9==e.next;)e.advance(),t++;(e.next==iw||13==e.next||35==e.next)&&e.acceptToken(197,-t)}else aw(e.next)&&e.acceptToken(196,1)},{contextual:!0}),uw=new YS((e,t)=>{let n=t.context;if(n.flags)return;let i=e.peek(-1);if(i==iw||13==i){let t=0,i=0;for(;;){if(32==e.next)t++;else{if(9!=e.next)break;t+=8-t%8}e.advance(),i++}t!=n.indent&&e.next!=iw&&13!=e.next&&35!=e.next&&(t<n.indent?e.acceptToken(195,-i):e.acceptToken(194))}}),lw=1,cw=4,dw=8,hw=16,pw=32;function fw(e,t,n){this.parent=e,this.indent=t,this.flags=n,this.hash=(e?e.hash+e.hash<<8:0)+t+(t<<4)+n+(n<<6)}const mw=new fw(null,0,0),Ow=new Map([[241,0],[242,cw],[243,dw],[244,dw|cw],[245,hw],[246,hw|cw],[247,hw|dw],[248,hw|dw|cw],[249,pw],[250,pw|cw],[251,pw|dw],[252,pw|dw|cw],[253,pw|hw],[254,pw|hw|cw],[255,pw|hw|dw],[256,pw|hw|dw|cw]].map(([e,t])=>[e,2|t])),gw=new l_({start:mw,reduce:(e,t,n,i)=>e.flags&lw&&rw.has(t)||(71==t||72==t)&&2&e.flags?e.parent:e,shift:(e,t,n,i)=>194==t?new fw(e,function(e){let t=0;for(let n=0;n<e.length;n++)t+=9==e.charCodeAt(n)?8-t%8:1;return t}(i.read(i.pos,n.pos)),0):195==t?e.parent:24==t||55==t||59==t||3==t?new fw(e,0,lw):Ow.has(t)?new fw(e,0,Ow.get(t)|e.flags&lw):e,hash:e=>e.hash}),Dw=new YS(e=>{for(let t=0;t<5;t++){if(e.next!="print".charCodeAt(t))return;e.advance()}if(!/\w/.test(String.fromCharCode(e.next)))for(let t=0;;t++){let n=e.peek(t);if(32!=n&&9!=n)return void(40!=n&&46!=n&&n!=iw&&13!=n&&35!=n&&e.acceptToken(1))}}),vw=new YS((e,t)=>{let{flags:n}=t.context,i=n&cw?34:39,r=(n&dw)>0,a=!(n&hw),o=(n&pw)>0,s=e.pos;for(;!(e.next<0);)if(o&&123==e.next){if(123!=e.peek(1)){if(e.pos==s)return void e.acceptToken(3,1);break}e.advance(2)}else{if(a&&92==e.next){if(e.pos==s){e.advance();let t=e.next;return t>=0&&(e.advance(),Ew(e,t)),void e.acceptToken(2)}break}if(92==e.next&&!a&&e.peek(1)>-1)e.advance(2);else{if(e.next==i&&(!r||e.peek(1)==i&&e.peek(2)==i)){if(e.pos==s)return void e.acceptToken(201,r?3:1);break}if(e.next==iw){if(r)e.advance();else if(e.pos==s)return void e.acceptToken(201);break}e.advance()}}e.pos>s&&e.acceptToken(200)});function Ew(e,t){if(111==t)for(let t=0;t<2&&e.next>=48&&e.next<=55;t++)e.advance();else if(120==t)for(let t=0;t<2&&ow(e.next);t++)e.advance();else if(117==t)for(let t=0;t<4&&ow(e.next);t++)e.advance();else if(85==t)for(let t=0;t<8&&ow(e.next);t++)e.advance();else if(78==t&&123==e.next){for(e.advance();e.next>=0&&125!=e.next&&39!=e.next&&34!=e.next&&e.next!=iw;)e.advance();125==e.next&&e.advance()}}const Cw=QA({'async "*" "**" FormatConversion FormatSpec':eS.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":eS.controlKeyword,"in not and or is del":eS.operatorKeyword,"from def class global nonlocal lambda":eS.definitionKeyword,import:eS.moduleKeyword,"with as print":eS.keyword,Boolean:eS.bool,None:eS.null,VariableName:eS.variableName,"CallExpression/VariableName":eS.function(eS.variableName),"FunctionDefinition/VariableName":eS.function(eS.definition(eS.variableName)),"ClassDefinition/VariableName":eS.definition(eS.className),PropertyName:eS.propertyName,"CallExpression/MemberExpression/PropertyName":eS.function(eS.propertyName),Comment:eS.lineComment,Number:eS.number,String:eS.string,FormatString:eS.special(eS.string),Escape:eS.escape,UpdateOp:eS.updateOperator,"ArithOp!":eS.arithmeticOperator,BitOp:eS.bitwiseOperator,CompareOp:eS.compareOperator,AssignOp:eS.definitionOperator,Ellipsis:eS.punctuation,At:eS.meta,"( )":eS.paren,"[ ]":eS.squareBracket,"{ }":eS.brace,".":eS.derefOperator,", ;":eS.separator}),bw={__proto__:null,await:44,or:54,and:56,in:60,not:62,is:64,if:70,else:72,lambda:76,yield:94,from:96,async:102,for:104,None:162,True:164,False:164,del:178,pass:182,break:186,continue:190,return:194,raise:202,import:206,as:208,global:212,nonlocal:214,assert:218,type:223,elif:236,while:240,try:246,except:248,finally:250,with:254,def:258,class:268,match:279,case:285},kw=c_.deserialize({version:14,states:"##jO`QeOOP$}OSOOO&WQtO'#HUOOQS'#Co'#CoOOQS'#Cp'#CpO'vQdO'#CnO*UQtO'#HTOOQS'#HU'#HUOOQS'#DU'#DUOOQS'#HT'#HTO*rQdO'#D_O+VQdO'#DfO+gQdO'#DjO+zOWO'#DuO,VOWO'#DvO.[QtO'#GuOOQS'#Gu'#GuO'vQdO'#GtO0ZQtO'#GtOOQS'#Eb'#EbO0rQdO'#EcOOQS'#Gs'#GsO0|QdO'#GrOOQV'#Gr'#GrO1XQdO'#FYOOQS'#G^'#G^O1^QdO'#FXOOQV'#IS'#ISOOQV'#Gq'#GqOOQV'#Fq'#FqQ`QeOOO'vQdO'#CqO1lQdO'#C}O1sQdO'#DRO2RQdO'#HYO2cQtO'#EVO'vQdO'#EWOOQS'#EY'#EYOOQS'#E['#E[OOQS'#E^'#E^O2wQdO'#E`O3_QdO'#EdO3rQdO'#EfO3zQtO'#EfO1XQdO'#EiO0rQdO'#ElO1XQdO'#EnO0rQdO'#EtO0rQdO'#EwO4VQdO'#EyO4^QdO'#FOO4iQdO'#EzO0rQdO'#FOO1XQdO'#FQO1XQdO'#FVO4nQdO'#F[P4uOdO'#GpPOOO)CBd)CBdOOQS'#Ce'#CeOOQS'#Cf'#CfOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Cl'#ClO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO5TQdO'#DoOOQS,5:Y,5:YO5hQdO'#HdOOQS,5:],5:]O5uQ!fO,5:]O5zQtO,59YO1lQdO,59bO1lQdO,59bO1lQdO,59bO8jQdO,59bO8oQdO,59bO8vQdO,59jO8}QdO'#HTO:TQdO'#HSOOQS'#HS'#HSOOQS'#D['#D[O:lQdO,59aO'vQdO,59aO:zQdO,59aOOQS,59y,59yO;PQdO,5:RO'vQdO,5:ROOQS,5:Q,5:QO;_QdO,5:QO;dQdO,5:XO'vQdO,5:XO'vQdO,5:VOOQS,5:U,5:UO;uQdO,5:UO;zQdO,5:WOOOW'#Fy'#FyO<POWO,5:aOOQS,5:a,5:aO<[QdO'#HwOOOW'#Dw'#DwOOOW'#Fz'#FzO<lOWO,5:bOOQS,5:b,5:bOOQS'#F}'#F}O<zQtO,5:iO?lQtO,5=`O@VQ#xO,5=`O@vQtO,5=`OOQS,5:},5:}OA_QeO'#GWOBqQdO,5;^OOQV,5=^,5=^OB|QtO'#IPOCkQdO,5;tOOQS-E:[-E:[OOQV,5;s,5;sO4dQdO'#FQOOQV-E9o-E9oOCsQtO,59]OEzQtO,59iOFeQdO'#HVOFpQdO'#HVO1XQdO'#HVOF{QdO'#DTOGTQdO,59mOGYQdO'#HZO'vQdO'#HZO0rQdO,5=tOOQS,5=t,5=tO0rQdO'#EROOQS'#ES'#ESOGwQdO'#GPOHXQdO,58|OHXQdO,58|O*xQdO,5:oOHgQtO'#H]OOQS,5:r,5:rOOQS,5:z,5:zOHzQdO,5;OOI]QdO'#IOO1XQdO'#H}OOQS,5;Q,5;QOOQS'#GT'#GTOIqQtO,5;QOJPQdO,5;QOJUQdO'#IQOOQS,5;T,5;TOJdQdO'#H|OOQS,5;W,5;WOJuQdO,5;YO4iQdO,5;`O4iQdO,5;cOJ}QtO'#ITO'vQdO'#ITOKXQdO,5;eO4VQdO,5;eO0rQdO,5;jO1XQdO,5;lOK^QeO'#EuOLjQgO,5;fO!!kQdO'#IUO4iQdO,5;jO!!vQdO,5;lO!#OQdO,5;qO!#ZQtO,5;vO'vQdO,5;vPOOO,5=[,5=[P!#bOSO,5=[P!#jOdO,5=[O!&bQtO1G.jO!&iQtO1G.jO!)YQtO1G.jO!)dQtO1G.jO!+}QtO1G.jO!,bQtO1G.jO!,uQdO'#HcO!-TQtO'#GuO0rQdO'#HcO!-_QdO'#HbOOQS,5:Z,5:ZO!-gQdO,5:ZO!-lQdO'#HeO!-wQdO'#HeO!.[QdO,5>OOOQS'#Ds'#DsOOQS1G/w1G/wOOQS1G.|1G.|O!/[QtO1G.|O!/cQtO1G.|O1lQdO1G.|O!0OQdO1G/UOOQS'#DZ'#DZO0rQdO,59tOOQS1G.{1G.{O!0VQdO1G/eO!0gQdO1G/eO!0oQdO1G/fO'vQdO'#H[O!0tQdO'#H[O!0yQtO1G.{O!1ZQdO,59iO!2aQdO,5=zO!2qQdO,5=zO!2yQdO1G/mO!3OQtO1G/mOOQS1G/l1G/lO!3`QdO,5=uO!4VQdO,5=uO0rQdO1G/qO!4tQdO1G/sO!4yQtO1G/sO!5ZQtO1G/qOOQS1G/p1G/pOOQS1G/r1G/rOOOW-E9w-E9wOOQS1G/{1G/{O!5kQdO'#HxO0rQdO'#HxO!5|QdO,5>cOOOW-E9x-E9xOOQS1G/|1G/|OOQS-E9{-E9{O!6[Q#xO1G2zO!6{QtO1G2zO'vQdO,5<jOOQS,5<j,5<jOOQS-E9|-E9|OOQS,5<r,5<rOOQS-E:U-E:UOOQV1G0x1G0xO1XQdO'#GRO!7dQtO,5>kOOQS1G1`1G1`O!8RQdO1G1`OOQS'#DV'#DVO0rQdO,5=qOOQS,5=q,5=qO!8WQdO'#FrO!8cQdO,59oO!8kQdO1G/XO!8uQtO,5=uOOQS1G3`1G3`OOQS,5:m,5:mO!9fQdO'#GtOOQS,5<k,5<kOOQS-E9}-E9}O!9wQdO1G.hOOQS1G0Z1G0ZO!:VQdO,5=wO!:gQdO,5=wO0rQdO1G0jO0rQdO1G0jO!:xQdO,5>jO!;ZQdO,5>jO1XQdO,5>jO!;lQdO,5>iOOQS-E:R-E:RO!;qQdO1G0lO!;|QdO1G0lO!<RQdO,5>lO!<aQdO,5>lO!<oQdO,5>hO!=VQdO,5>hO!=hQdO'#EpO0rQdO1G0tO!=sQdO1G0tO!=xQgO1G0zO!AvQgO1G0}O!EqQdO,5>oO!E{QdO,5>oO!FTQtO,5>oO0rQdO1G1PO!F_QdO1G1PO4iQdO1G1UO!!vQdO1G1WOOQV,5;a,5;aO!FdQfO,5;aO!FiQgO1G1QO!JjQdO'#GZO4iQdO1G1QO4iQdO1G1QO!JzQdO,5>pO!KXQdO,5>pO1XQdO,5>pOOQV1G1U1G1UO!KaQdO'#FSO!KrQ!fO1G1WO!KzQdO1G1WOOQV1G1]1G1]O4iQdO1G1]O!LPQdO1G1]O!LXQdO'#F^OOQV1G1b1G1bO!#ZQtO1G1bPOOO1G2v1G2vP!L^OSO1G2vOOQS,5=},5=}OOQS'#Dp'#DpO0rQdO,5=}O!LfQdO,5=|O!LyQdO,5=|OOQS1G/u1G/uO!MRQdO,5>PO!McQdO,5>PO!MkQdO,5>PO!NOQdO,5>PO!N`QdO,5>POOQS1G3j1G3jOOQS7+$h7+$hO!8kQdO7+$pO#!RQdO1G.|O#!YQdO1G.|OOQS1G/`1G/`OOQS,5<`,5<`O'vQdO,5<`OOQS7+%P7+%PO#!aQdO7+%POOQS-E9r-E9rOOQS7+%Q7+%QO#!qQdO,5=vO'vQdO,5=vOOQS7+$g7+$gO#!vQdO7+%PO##OQdO7+%QO##TQdO1G3fOOQS7+%X7+%XO##eQdO1G3fO##mQdO7+%XOOQS,5<_,5<_O'vQdO,5<_O##rQdO1G3aOOQS-E9q-E9qO#$iQdO7+%]OOQS7+%_7+%_O#$wQdO1G3aO#%fQdO7+%_O#%kQdO1G3gO#%{QdO1G3gO#&TQdO7+%]O#&YQdO,5>dO#&sQdO,5>dO#&sQdO,5>dOOQS'#Dx'#DxO#'UO&jO'#DzO#'aO`O'#HyOOOW1G3}1G3}O#'fQdO1G3}O#'nQdO1G3}O#'yQ#xO7+(fO#(jQtO1G2UP#)TQdO'#GOOOQS,5<m,5<mOOQS-E:P-E:POOQS7+&z7+&zOOQS1G3]1G3]OOQS,5<^,5<^OOQS-E9p-E9pOOQS7+$s7+$sO#)bQdO,5=`O#){QdO,5=`O#*^QtO,5<aO#*qQdO1G3cOOQS-E9s-E9sOOQS7+&U7+&UO#+RQdO7+&UO#+aQdO,5<nO#+uQdO1G4UOOQS-E:Q-E:QO#,WQdO1G4UOOQS1G4T1G4TOOQS7+&W7+&WO#,iQdO7+&WOOQS,5<p,5<pO#,tQdO1G4WOOQS-E:S-E:SOOQS,5<l,5<lO#-SQdO1G4SOOQS-E:O-E:OO1XQdO'#EqO#-jQdO'#EqO#-uQdO'#IRO#-}QdO,5;[OOQS7+&`7+&`O0rQdO7+&`O#.SQgO7+&fO!JmQdO'#GXO4iQdO7+&fO4iQdO7+&iO#2QQtO,5<tO'vQdO,5<tO#2[QdO1G4ZOOQS-E:W-E:WO#2fQdO1G4ZO4iQdO7+&kO0rQdO7+&kOOQV7+&p7+&pO!KrQ!fO7+&rO!KzQdO7+&rO`QeO1G0{OOQV-E:X-E:XO4iQdO7+&lO4iQdO7+&lOOQV,5<u,5<uO#2nQdO,5<uO!JmQdO,5<uOOQV7+&l7+&lO#2yQgO7+&lO#6tQdO,5<vO#7PQdO1G4[OOQS-E:Y-E:YO#7^QdO1G4[O#7fQdO'#IWO#7tQdO'#IWO1XQdO'#IWOOQS'#IW'#IWO#8PQdO'#IVOOQS,5;n,5;nO#8XQdO,5;nO0rQdO'#FUOOQV7+&r7+&rO4iQdO7+&rOOQV7+&w7+&wO4iQdO7+&wO#8^QfO,5;xOOQV7+&|7+&|POOO7+(b7+(bO#8cQdO1G3iOOQS,5<c,5<cO#8qQdO1G3hOOQS-E9u-E9uO#9UQdO,5<dO#9aQdO,5<dO#9tQdO1G3kOOQS-E9v-E9vO#:UQdO1G3kO#:^QdO1G3kO#:nQdO1G3kO#:UQdO1G3kOOQS<<H[<<H[O#:yQtO1G1zOOQS<<Hk<<HkP#;WQdO'#FtO8vQdO1G3bO#;eQdO1G3bO#;jQdO<<HkOOQS<<Hl<<HlO#;zQdO7+)QOOQS<<Hs<<HsO#<[QtO1G1yP#<{QdO'#FsO#=YQdO7+)RO#=jQdO7+)RO#=rQdO<<HwO#=wQdO7+({OOQS<<Hy<<HyO#>nQdO,5<bO'vQdO,5<bOOQS-E9t-E9tOOQS<<Hw<<HwOOQS,5<g,5<gO0rQdO,5<gO#>sQdO1G4OOOQS-E9y-E9yO#?^QdO1G4OO<[QdO'#H{OOOO'#D{'#D{OOOO'#F|'#F|O#?oO&jO,5:fOOOW,5>e,5>eOOOW7+)i7+)iO#?zQdO7+)iO#@SQdO1G2zO#@mQdO1G2zP'vQdO'#FuO0rQdO<<IpO1XQdO1G2YP1XQdO'#GSO#AOQdO7+)pO#AaQdO7+)pOOQS<<Ir<<IrP1XQdO'#GUP0rQdO'#GQOOQS,5;],5;]O#ArQdO,5>mO#BQQdO,5>mOOQS1G0v1G0vOOQS<<Iz<<IzOOQV-E:V-E:VO4iQdO<<JQOOQV,5<s,5<sO4iQdO,5<sOOQV<<JQ<<JQOOQV<<JT<<JTO#BYQtO1G2`P#BdQdO'#GYO#BkQdO7+)uO#BuQgO<<JVO4iQdO<<JVOOQV<<J^<<J^O4iQdO<<J^O!KrQ!fO<<J^O#FpQgO7+&gOOQV<<JW<<JWO#FzQgO<<JWOOQV1G2a1G2aO1XQdO1G2aO#JuQdO1G2aO4iQdO<<JWO1XQdO1G2bP0rQdO'#G[O#KQQdO7+)vO#K_QdO7+)vOOQS'#FT'#FTO0rQdO,5>rO#KgQdO,5>rO#KrQdO,5>rO#K}QdO,5>qO#L`QdO,5>qOOQS1G1Y1G1YOOQS,5;p,5;pOOQV<<Jc<<JcO#LhQdO1G1dOOQS7+)T7+)TP#LmQdO'#FwO#L}QdO1G2OO#MbQdO1G2OO#MrQdO1G2OP#M}QdO'#FxO#N[QdO7+)VO#NlQdO7+)VO#NlQdO7+)VO#NtQdO7+)VO$ UQdO7+(|O8vQdO7+(|OOQSAN>VAN>VO$ oQdO<<LmOOQSAN>cAN>cO0rQdO1G1|O$!PQtO1G1|P$!ZQdO'#FvOOQS1G2R1G2RP$!hQdO'#F{O$!uQdO7+)jO$#`QdO,5>gOOOO-E9z-E9zOOOW<<MT<<MTO$#nQdO7+(fOOQSAN?[AN?[OOQS7+'t7+'tO$$XQdO<<M[OOQS,5<q,5<qO$$jQdO1G4XOOQS-E:T-E:TOOQVAN?lAN?lOOQV1G2_1G2_O4iQdOAN?qO$$xQgOAN?qOOQVAN?xAN?xO4iQdOAN?xOOQV<<JR<<JRO4iQdOAN?rO4iQdO7+'{OOQV7+'{7+'{O1XQdO7+'{OOQVAN?rAN?rOOQS7+'|7+'|O$(sQdO<<MbOOQS1G4^1G4^O0rQdO1G4^OOQS,5<w,5<wO$)QQdO1G4]OOQS-E:Z-E:ZOOQU'#G_'#G_O$)cQfO7+'OO$)nQdO'#F_O$*uQdO7+'jO$+VQdO7+'jOOQS7+'j7+'jO$+bQdO<<LqO$+rQdO<<LqO$+rQdO<<LqO$+zQdO'#H^OOQS<<Lh<<LhO$,UQdO<<LhOOQS7+'h7+'hOOQS'#D|'#D|OOOO1G4R1G4RO$,oQdO1G4RO$,wQdO1G4RP!=hQdO'#GVOOQVG25]G25]O4iQdOG25]OOQVG25dG25dOOQVG25^G25^OOQV<<Kg<<KgO4iQdO<<KgOOQS7+)x7+)xP$-SQdO'#G]OOQU-E:]-E:]OOQV<<Jj<<JjO$-vQtO'#FaOOQS'#Fc'#FcO$.WQdO'#FbO$.xQdO'#FbOOQS'#Fb'#FbO$.}QdO'#IYO$)nQdO'#FiO$)nQdO'#FiO$/fQdO'#FjO$)nQdO'#FkO$/mQdO'#IZOOQS'#IZ'#IZO$0[QdO,5;yOOQS<<KU<<KUO$0dQdO<<KUO$0tQdOANB]O$1UQdOANB]O$1^QdO'#H_OOQS'#H_'#H_O1sQdO'#DcO$1wQdO,5=xOOQSANBSANBSOOOO7+)m7+)mO$2`QdO7+)mOOQVLD*wLD*wOOQVANARANARO5uQ!fO'#GaO$2hQtO,5<SO$)nQdO'#FmOOQS,5<W,5<WOOQS'#Fd'#FdO$3YQdO,5;|O$3_QdO,5;|OOQS'#Fg'#FgO$)nQdO'#G`O$4PQdO,5<QO$4kQdO,5>tO$4{QdO,5>tO1XQdO,5<PO$5^QdO,5<TO$5cQdO,5<TO$)nQdO'#I[O$5hQdO'#I[O$5mQdO,5<UOOQS,5<V,5<VO0rQdO'#FpOOQU1G1e1G1eO4iQdO1G1eOOQSAN@pAN@pO$5rQdOG27wO$6SQdO,59}OOQS1G3d1G3dOOOO<<MX<<MXOOQS,5<{,5<{OOQS-E:_-E:_O$6XQtO'#FaO$6`QdO'#I]O$6nQdO'#I]O$6vQdO,5<XOOQS1G1h1G1hO$6{QdO1G1hO$7QQdO,5<zOOQS-E:^-E:^O$7lQdO,5=OO$8TQdO1G4`OOQS-E:b-E:bOOQS1G1k1G1kOOQS1G1o1G1oO$8eQdO,5>vO$)nQdO,5>vOOQS1G1p1G1pOOQS,5<[,5<[OOQU7+'P7+'PO$+zQdO1G/iO$)nQdO,5<YO$8sQdO,5>wO$8zQdO,5>wOOQS1G1s1G1sOOQS7+'S7+'SP$)nQdO'#GdO$9SQdO1G4bO$9^QdO1G4bO$9fQdO1G4bOOQS7+%T7+%TO$9tQdO1G1tO$:SQtO'#FaO$:ZQdO,5<}OOQS,5<},5<}O$:iQdO1G4cOOQS-E:a-E:aO$)nQdO,5<|O$:pQdO,5<|O$:uQdO7+)|OOQS-E:`-E:`O$;PQdO7+)|O$)nQdO,5<ZP$)nQdO'#GcO$;XQdO1G2hO$)nQdO1G2hP$;gQdO'#GbO$;nQdO<<MhO$;xQdO1G1uO$<WQdO7+(SO8vQdO'#C}O8vQdO,59bO8vQdO,59bO8vQdO,59bO$<fQtO,5=`O8vQdO1G.|O0rQdO1G/XO0rQdO7+$pP$<yQdO'#GOO'vQdO'#GtO$=WQdO,59bO$=]QdO,59bO$=dQdO,59mO$=iQdO1G/UO1sQdO'#DRO8vQdO,59j",stateData:"$>S~O%cOS%^OSSOS%]PQ~OPdOVaOfoOhYOopOs!POvqO!PrO!Q{O!T!SO!U!RO!XZO!][O!h`O!r`O!s`O!t`O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#l!QO#o!TO#s!UO#u!VO#z!WO#}hO$P!XO%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~O%]!YO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%j![O%k!]O%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aO~Ok%xXl%xXm%xXn%xXo%xXp%xXs%xXz%xX{%xX!x%xX#g%xX%[%xX%_%xX%z%xXg%xX!T%xX!U%xX%{%xX!W%xX![%xX!Q%xX#[%xXt%xX!m%xX~P%SOfoOhYO!XZO!][O!h`O!r`O!s`O!t`O%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~Oz%wX{%wX#g%wX%[%wX%_%wX%z%wX~Ok!pOl!qOm!oOn!oOo!rOp!sOs!tO!x%wX~P)pOV!zOg!|Oo0cOv0qO!PrO~P'vOV#OOo0cOv0qO!W#PO~P'vOV#SOa#TOo0cOv0qO![#UO~P'vOQ#XO%`#XO%a#ZO~OQ#^OR#[O%`#^O%a#`O~OV%iX_%iXa%iXh%iXk%iXl%iXm%iXn%iXo%iXp%iXs%iXz%iX!X%iX!f%iX%j%iX%k%iX%l%iX%m%iX%n%iX%o%iX%p%iX%q%iX%r%iX%s%iXg%iX!T%iX!U%iX~O&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O{%iX!x%iX#g%iX%[%iX%_%iX%z%iX%{%iX!W%iX![%iX!Q%iX#[%iXt%iX!m%iX~P,eOz#dO{%hX!x%hX#g%hX%[%hX%_%hX%z%hX~Oo0cOv0qO~P'vO#g#gO%[#iO%_#iO~O%uWO~O!T#nO#u!VO#z!WO#}hO~OopO~P'vOV#sOa#tO%uWO{wP~OV#xOo0cOv0qO!Q#yO~P'vO{#{O!x$QO%z#|O#g!yX%[!yX%_!yX~OV#xOo0cOv0qO#g#SX%[#SX%_#SX~P'vOo0cOv0qO#g#WX%[#WX%_#WX~P'vOh$WO%uWO~O!f$YO!r$YO%uWO~OV$eO~P'vO!U$gO#s$hO#u$iO~O{$jO~OV$qO~P'vOS$sO%[$rO%_$rO%c$tO~OV$}Oa$}Og%POo0cOv0qO~P'vOo0cOv0qO{%SO~P'vO&Y%UO~Oa!bOh!iO!X!kO!f!mOVba_bakbalbambanbaobapbasbazba{ba!xba#gba%[ba%_ba%jba%kba%lba%mba%nba%oba%pba%qba%rba%sba%zbagba!Tba!Uba%{ba!Wba![ba!Qba#[batba!mba~On%ZO~Oo%ZO~P'vOo0cO~P'vOk0eOl0fOm0dOn0dOo0mOp0nOs0rOg%wX!T%wX!U%wX%{%wX!W%wX![%wX!Q%wX#[%wX!m%wX~P)pO%{%]Og%vXz%vX!T%vX!U%vX!W%vX{%vX~Og%_Oz%`O!T%dO!U%cO~Og%_O~Oz%gO!T%dO!U%cO!W&SX~O!W%kO~Oz%lO{%nO!T%dO!U%cO![%}X~O![%rO~O![%sO~OQ#XO%`#XO%a%uO~OV%wOo0cOv0qO!PrO~P'vOQ#^OR#[O%`#^O%a%zO~OV!qa_!qaa!qah!qak!qal!qam!qan!qao!qap!qas!qaz!qa{!qa!X!qa!f!qa!x!qa#g!qa%[!qa%_!qa%j!qa%k!qa%l!qa%m!qa%n!qa%o!qa%p!qa%q!qa%r!qa%s!qa%z!qag!qa!T!qa!U!qa%{!qa!W!qa![!qa!Q!qa#[!qat!qa!m!qa~P#yOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P%SOV&OOopOvqO{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P'vOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#g$zX%[$zX%_$zX~P'vO#g#gO%[&TO%_&TO~O!f&UOh&sX%[&sXz&sX#[&sX#g&sX%_&sX#Z&sXg&sX~Oh!iO%[&WO~Okealeameaneaoeapeaseazea{ea!xea#gea%[ea%_ea%zeagea!Tea!Uea%{ea!Wea![ea!Qea#[eatea!mea~P%SOsqazqa{qa#gqa%[qa%_qa%zqa~Ok!pOl!qOm!oOn!oOo!rOp!sO!xqa~PEcO%z&YOz%yX{%yX~O%uWOz%yX{%yX~Oz&]O{wX~O{&_O~Oz%lO#g%}X%[%}X%_%}Xg%}X{%}X![%}X!m%}X%z%}X~OV0lOo0cOv0qO!PrO~P'vO%z#|O#gUa%[Ua%_Ua~Oz&hO#g&PX%[&PX%_&PXn&PX~P%SOz&kO!Q&jO#g#Wa%[#Wa%_#Wa~Oz&lO#[&nO#g&rX%[&rX%_&rXg&rX~O!f$YO!r$YO#Z&qO%uWO~O#Z&qO~Oz&sO#g&tX%[&tX%_&tX~Oz&uO#g&pX%[&pX%_&pX{&pX~O!X&wO%z&xO~Oz&|On&wX~P%SOn'PO~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO%['UO~P'vOt'YO#p'WO#q'XOP#naV#naf#nah#nao#nas#nav#na!P#na!Q#na!T#na!U#na!X#na!]#na!h#na!r#na!s#na!t#na!{#na!}#na#P#na#R#na#T#na#X#na#Z#na#^#na#_#na#a#na#c#na#l#na#o#na#s#na#u#na#z#na#}#na$P#na%X#na%o#na%p#na%t#na%u#na&Z#na&[#na&]#na&^#na&_#na&`#na&a#na&b#na&c#na&d#na&e#na&f#na&g#na&h#na&i#na&j#na%Z#na%_#na~Oz'ZO#[']O{&xX~Oh'_O!X&wO~Oh!iO{$jO!X&wO~O{'eO~P%SO%['hO%_'hO~OS'iO%['hO%_'hO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%k!]O~P!#uO%kWi~P!#uOV!aO_!aOa!bOh!iO!X!kO!f!mO%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%m!_O%n!_O~P!&pO%mWi%nWi~P!&pOa!bOh!iO!X!kO!f!mOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%mWi%nWi%oWi%pWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~OV!aO_!aO%q!aO%r!aO%s!aO~P!)nOVWi_Wi%qWi%rWi%sWi~P!)nO!T%dO!U%cOg&VXz&VX~O%z'kO%{'kO~P,eOz'mOg&UX~Og'oO~Oz'pO{'rO!W&XX~Oo0cOv0qOz'pO{'sO!W&XX~P'vO!W'uO~Om!oOn!oOo!rOp!sOkjisjizji{ji!xji#gji%[ji%_ji%zji~Ol!qO~P!.aOlji~P!.aOk0eOl0fOm0dOn0dOo0mOp0nO~Ot'wO~P!/jOV'|Og'}Oo0cOv0qO~P'vOg'}Oz(OO~Og(QO~O!U(SO~Og(TOz(OO!T%dO!U%cO~P%SOk0eOl0fOm0dOn0dOo0mOp0nOgqa!Tqa!Uqa%{qa!Wqa![qa!Qqa#[qatqa!mqa~PEcOV'|Oo0cOv0qO!W&Sa~P'vOz(WO!W&Sa~O!W(XO~Oz(WO!T%dO!U%cO!W&Sa~P%SOV(]Oo0cOv0qO![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~P'vOz(^O![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~O![(aO~Oz(^O!T%dO!U%cO![%}a~P%SOz(dO!T%dO!U%cO![&Ta~P%SOz(gO{&lX![&lX!m&lX%z&lX~O{(kO![(mO!m(nO%z(jO~OV&OOopOvqO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~P'vOz(pO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~O!f&UOh&sa%[&saz&sa#[&sa#g&sa%_&sa#Z&sag&sa~O%[(uO~OV#sOa#tO%uWO~Oz&]O{wa~OopOvqO~P'vOz(^O#g%}a%[%}a%_%}ag%}a{%}a![%}a!m%}a%z%}a~P%SOz(zO#g%hX%[%hX%_%hX%z%hX~O%z#|O#gUi%[Ui%_Ui~O#g&Pa%[&Pa%_&Pan&Pa~P'vOz(}O#g&Pa%[&Pa%_&Pan&Pa~O%uWO#g&ra%[&ra%_&rag&ra~Oz)SO#g&ra%[&ra%_&rag&ra~Og)VO~OV)WOh$WO%uWO~O#Z)XO~O%uWO#g&ta%[&ta%_&ta~Oz)ZO#g&ta%[&ta%_&ta~Oo0cOv0qO#g&pa%[&pa%_&pa{&pa~P'vOz)^O#g&pa%[&pa%_&pa{&pa~OV)`Oa)`O%uWO~O%z)eO~Ot)hO#j)gOP#hiV#hif#hih#hio#his#hiv#hi!P#hi!Q#hi!T#hi!U#hi!X#hi!]#hi!h#hi!r#hi!s#hi!t#hi!{#hi!}#hi#P#hi#R#hi#T#hi#X#hi#Z#hi#^#hi#_#hi#a#hi#c#hi#l#hi#o#hi#s#hi#u#hi#z#hi#}#hi$P#hi%X#hi%o#hi%p#hi%t#hi%u#hi&Z#hi&[#hi&]#hi&^#hi&_#hi&`#hi&a#hi&b#hi&c#hi&d#hi&e#hi&f#hi&g#hi&h#hi&i#hi&j#hi%Z#hi%_#hi~Ot)iOP#kiV#kif#kih#kio#kis#kiv#ki!P#ki!Q#ki!T#ki!U#ki!X#ki!]#ki!h#ki!r#ki!s#ki!t#ki!{#ki!}#ki#P#ki#R#ki#T#ki#X#ki#Z#ki#^#ki#_#ki#a#ki#c#ki#l#ki#o#ki#s#ki#u#ki#z#ki#}#ki$P#ki%X#ki%o#ki%p#ki%t#ki%u#ki&Z#ki&[#ki&]#ki&^#ki&_#ki&`#ki&a#ki&b#ki&c#ki&d#ki&e#ki&f#ki&g#ki&h#ki&i#ki&j#ki%Z#ki%_#ki~OV)kOn&wa~P'vOz)lOn&wa~Oz)lOn&wa~P%SOn)pO~O%Y)tO~Ot)wO#p'WO#q)vOP#niV#nif#nih#nio#nis#niv#ni!P#ni!Q#ni!T#ni!U#ni!X#ni!]#ni!h#ni!r#ni!s#ni!t#ni!{#ni!}#ni#P#ni#R#ni#T#ni#X#ni#Z#ni#^#ni#_#ni#a#ni#c#ni#l#ni#o#ni#s#ni#u#ni#z#ni#}#ni$P#ni%X#ni%o#ni%p#ni%t#ni%u#ni&Z#ni&[#ni&]#ni&^#ni&_#ni&`#ni&a#ni&b#ni&c#ni&d#ni&e#ni&f#ni&g#ni&h#ni&i#ni&j#ni%Z#ni%_#ni~OV)zOo0cOv0qO{$jO~P'vOo0cOv0qO{&xa~P'vOz*OO{&xa~OV*SOa*TOg*WO%q*UO%uWO~O{$jO&{*YO~Oh'_O~Oh!iO{$jO~O%[*_O~O%[*aO%_*aO~OV$}Oa$}Oo0cOv0qOg&Ua~P'vOz*dOg&Ua~Oo0cOv0qO{*gO!W&Xa~P'vOz*hO!W&Xa~Oo0cOv0qOz*hO{*kO!W&Xa~P'vOo0cOv0qOz*hO!W&Xa~P'vOz*hO{*kO!W&Xa~Om0dOn0dOo0mOp0nOgjikjisjizji!Tji!Uji%{ji!Wji{ji![ji#gji%[ji%_ji!Qji#[jitji!mji%zji~Ol0fO~P!NkOlji~P!NkOV'|Og*pOo0cOv0qO~P'vOn*rO~Og*pOz*tO~Og*uO~OV'|Oo0cOv0qO!W&Si~P'vOz*vO!W&Si~O!W*wO~OV(]Oo0cOv0qO![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~P'vOz*zO!T%dO!U%cO![&Ti~Oz*}O![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~O![+OO~Oa+QOo0cOv0qO![&Ti~P'vOz*zO![&Ti~O![+SO~OV+UOo0cOv0qO{&la![&la!m&la%z&la~P'vOz+VO{&la![&la!m&la%z&la~O!]+YO&n+[O![!nX~O![+^O~O{(kO![+_O~O{(kO![+_O!m+`O~OV&OOopOvqO{%hq!x%hq#g%hq%[%hq%_%hq%z%hq~P'vOz$ri{$ri!x$ri#g$ri%[$ri%_$ri%z$ri~P%SOV&OOopOvqO~P'vOV&OOo0cOv0qO#g%ha%[%ha%_%ha%z%ha~P'vOz+aO#g%ha%[%ha%_%ha%z%ha~Oz$ia#g$ia%[$ia%_$ian$ia~P%SO#g&Pi%[&Pi%_&Pin&Pi~P'vOz+dO#g#Wq%[#Wq%_#Wq~O#[+eOz$va#g$va%[$va%_$vag$va~O%uWO#g&ri%[&ri%_&rig&ri~Oz+gO#g&ri%[&ri%_&rig&ri~OV+iOh$WO%uWO~O%uWO#g&ti%[&ti%_&ti~Oo0cOv0qO#g&pi%[&pi%_&pi{&pi~P'vO{#{Oz#eX!W#eX~Oz+mO!W&uX~O!W+oO~Ot+rO#j)gOP#hqV#hqf#hqh#hqo#hqs#hqv#hq!P#hq!Q#hq!T#hq!U#hq!X#hq!]#hq!h#hq!r#hq!s#hq!t#hq!{#hq!}#hq#P#hq#R#hq#T#hq#X#hq#Z#hq#^#hq#_#hq#a#hq#c#hq#l#hq#o#hq#s#hq#u#hq#z#hq#}#hq$P#hq%X#hq%o#hq%p#hq%t#hq%u#hq&Z#hq&[#hq&]#hq&^#hq&_#hq&`#hq&a#hq&b#hq&c#hq&d#hq&e#hq&f#hq&g#hq&h#hq&i#hq&j#hq%Z#hq%_#hq~On$|az$|a~P%SOV)kOn&wi~P'vOz+yOn&wi~Oz,TO{$jO#[,TO~O#q,VOP#nqV#nqf#nqh#nqo#nqs#nqv#nq!P#nq!Q#nq!T#nq!U#nq!X#nq!]#nq!h#nq!r#nq!s#nq!t#nq!{#nq!}#nq#P#nq#R#nq#T#nq#X#nq#Z#nq#^#nq#_#nq#a#nq#c#nq#l#nq#o#nq#s#nq#u#nq#z#nq#}#nq$P#nq%X#nq%o#nq%p#nq%t#nq%u#nq&Z#nq&[#nq&]#nq&^#nq&_#nq&`#nq&a#nq&b#nq&c#nq&d#nq&e#nq&f#nq&g#nq&h#nq&i#nq&j#nq%Z#nq%_#nq~O#[,WOz%Oa{%Oa~Oo0cOv0qO{&xi~P'vOz,YO{&xi~O{#{O%z,[Og&zXz&zX~O%uWOg&zXz&zX~Oz,`Og&yX~Og,bO~O%Y,eO~O!T%dO!U%cOg&Viz&Vi~OV$}Oa$}Oo0cOv0qOg&Ui~P'vO{,hOz$la!W$la~Oo0cOv0qO{,iOz$la!W$la~P'vOo0cOv0qO{*gO!W&Xi~P'vOz,lO!W&Xi~Oo0cOv0qOz,lO!W&Xi~P'vOz,lO{,oO!W&Xi~Og$hiz$hi!W$hi~P%SOV'|Oo0cOv0qO~P'vOn,qO~OV'|Og,rOo0cOv0qO~P'vOV'|Oo0cOv0qO!W&Sq~P'vOz$gi![$gi#g$gi%[$gi%_$gig$gi{$gi!m$gi%z$gi~P%SOV(]Oo0cOv0qO~P'vOa+QOo0cOv0qO![&Tq~P'vOz,sO![&Tq~O![,tO~OV(]Oo0cOv0qO![%}q#g%}q%[%}q%_%}qg%}q{%}q!m%}q%z%}q~P'vO{,uO~OV+UOo0cOv0qO{&li![&li!m&li%z&li~P'vOz,zO{&li![&li!m&li%z&li~O!]+YO&n+[O![!na~O{(kO![,}O~OV&OOo0cOv0qO#g%hi%[%hi%_%hi%z%hi~P'vOz-OO#g%hi%[%hi%_%hi%z%hi~O%uWO#g&rq%[&rq%_&rqg&rq~Oz-RO#g&rq%[&rq%_&rqg&rq~OV)`Oa)`O%uWO!W&ua~Oz-TO!W&ua~On$|iz$|i~P%SOV)kO~P'vOV)kOn&wq~P'vOt-XOP#myV#myf#myh#myo#mys#myv#my!P#my!Q#my!T#my!U#my!X#my!]#my!h#my!r#my!s#my!t#my!{#my!}#my#P#my#R#my#T#my#X#my#Z#my#^#my#_#my#a#my#c#my#l#my#o#my#s#my#u#my#z#my#}#my$P#my%X#my%o#my%p#my%t#my%u#my&Z#my&[#my&]#my&^#my&_#my&`#my&a#my&b#my&c#my&d#my&e#my&f#my&g#my&h#my&i#my&j#my%Z#my%_#my~O%Z-]O%_-]O~P`O#q-^OP#nyV#nyf#nyh#nyo#nys#nyv#ny!P#ny!Q#ny!T#ny!U#ny!X#ny!]#ny!h#ny!r#ny!s#ny!t#ny!{#ny!}#ny#P#ny#R#ny#T#ny#X#ny#Z#ny#^#ny#_#ny#a#ny#c#ny#l#ny#o#ny#s#ny#u#ny#z#ny#}#ny$P#ny%X#ny%o#ny%p#ny%t#ny%u#ny&Z#ny&[#ny&]#ny&^#ny&_#ny&`#ny&a#ny&b#ny&c#ny&d#ny&e#ny&f#ny&g#ny&h#ny&i#ny&j#ny%Z#ny%_#ny~Oz-aO{$jO#[-aO~Oo0cOv0qO{&xq~P'vOz-dO{&xq~O%z,[Og&zaz&za~O{#{Og&zaz&za~OV*SOa*TO%q*UO%uWOg&ya~Oz-hOg&ya~O$S-lO~OV$}Oa$}Oo0cOv0qO~P'vOo0cOv0qO{-mOz$li!W$li~P'vOo0cOv0qOz$li!W$li~P'vO{-mOz$li!W$li~Oo0cOv0qO{*gO~P'vOo0cOv0qO{*gO!W&Xq~P'vOz-pO!W&Xq~Oo0cOv0qOz-pO!W&Xq~P'vOs-sO!T%dO!U%cOg&Oq!W&Oq![&Oqz&Oq~P!/jOa+QOo0cOv0qO![&Ty~P'vOz$ji![$ji~P%SOa+QOo0cOv0qO~P'vOV+UOo0cOv0qO~P'vOV+UOo0cOv0qO{&lq![&lq!m&lq%z&lq~P'vO{(kO![-xO!m-yO%z-wO~OV&OOo0cOv0qO#g%hq%[%hq%_%hq%z%hq~P'vO%uWO#g&ry%[&ry%_&ryg&ry~OV)`Oa)`O%uWO!W&ui~Ot-}OP#m!RV#m!Rf#m!Rh#m!Ro#m!Rs#m!Rv#m!R!P#m!R!Q#m!R!T#m!R!U#m!R!X#m!R!]#m!R!h#m!R!r#m!R!s#m!R!t#m!R!{#m!R!}#m!R#P#m!R#R#m!R#T#m!R#X#m!R#Z#m!R#^#m!R#_#m!R#a#m!R#c#m!R#l#m!R#o#m!R#s#m!R#u#m!R#z#m!R#}#m!R$P#m!R%X#m!R%o#m!R%p#m!R%t#m!R%u#m!R&Z#m!R&[#m!R&]#m!R&^#m!R&_#m!R&`#m!R&a#m!R&b#m!R&c#m!R&d#m!R&e#m!R&f#m!R&g#m!R&h#m!R&i#m!R&j#m!R%Z#m!R%_#m!R~Oo0cOv0qO{&xy~P'vOV*SOa*TO%q*UO%uWOg&yi~O$S-lO%Z.VO%_.VO~OV.aOh._O!X.^O!].`O!h.YO!s.[O!t.[O%p.XO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O~Oo0cOv0qOz$lq!W$lq~P'vO{.fOz$lq!W$lq~Oo0cOv0qO{*gO!W&Xy~P'vOz.gO!W&Xy~Oo0cOv.kO~P'vOs-sO!T%dO!U%cOg&Oy!W&Oy![&Oyz&Oy~P!/jO{(kO![.nO~O{(kO![.nO!m.oO~OV*SOa*TO%q*UO%uWO~Oh.tO!f.rOz$TX#[$TX%j$TXg$TX~Os$TX{$TX!W$TX![$TX~P$-bO%o.vO%p.vOs$UXz$UX{$UX#[$UX%j$UX!W$UXg$UX![$UX~O!h.xO~Oz.|O#[/OO%j.yOs&|X{&|X!W&|Xg&|X~Oa/RO~P$)zOh.tOs&}Xz&}X{&}X#[&}X%j&}X!W&}Xg&}X![&}X~Os/VO{$jO~Oo0cOv0qOz$ly!W$ly~P'vOo0cOv0qO{*gO!W&X!R~P'vOz/ZO!W&X!R~Og&RXs&RX!T&RX!U&RX!W&RX![&RXz&RX~P!/jOs-sO!T%dO!U%cOg&Qa!W&Qa![&Qaz&Qa~O{(kO![/^O~O!f.rOh$[as$[az$[a{$[a#[$[a%j$[a!W$[ag$[a![$[a~O!h/eO~O%o.vO%p.vOs$Uaz$Ua{$Ua#[$Ua%j$Ua!W$Uag$Ua![$Ua~O%j.yOs$Yaz$Ya{$Ya#[$Ya!W$Yag$Ya![$Ya~Os&|a{&|a!W&|ag&|a~P$)nOz/jOs&|a{&|a!W&|ag&|a~O!W/mO~Og/mO~O{/oO~O![/pO~Oo0cOv0qO{*gO!W&X!Z~P'vO{/sO~O%z/tO~P$-bOz/uO#[/OO%j.yOg'PX~Oz/uOg'PX~Og/wO~O!h/xO~O#[/OOs%Saz%Sa{%Sa%j%Sa!W%Sag%Sa![%Sa~O#[/OO%j.yOs%Waz%Wa{%Wa!W%Wag%Wa~Os&|i{&|i!W&|ig&|i~P$)nOz/zO#[/OO%j.yO!['Oa~Og'Pa~P$)nOz0SOg'Pa~Oa0UO!['Oi~P$)zOz0WO!['Oi~Oz0WO#[/OO%j.yO!['Oi~O#[/OO%j.yOg$biz$bi~O%z0ZO~P$-bO#[/OO%j.yOg%Vaz%Va~Og'Pi~P$)nO{0^O~Oa0UO!['Oq~P$)zOz0`O!['Oq~O#[/OO%j.yOz%Ui![%Ui~Oa0UO~P$)zOa0UO!['Oy~P$)zO#[/OO%j.yOg$ciz$ci~O#[/OO%j.yOz%Uq![%Uq~Oz+aO#g%ha%[%ha%_%ha%z%ha~P%SOV&OOo0cOv0qO~P'vOn0hO~Oo0hO~P'vO{0iO~Ot0jO~P!/jO&]&Z&j&h&i&g&f&d&e&c&b&`&a&_&^&[%u~",goto:"!=j'QPPPPPP'RP'Z*s+[+t,_,y-fP.SP'Z.r.r'ZPPP'Z2[PPPPPP2[5PPP5PP7b7k=sPP=v>h>kPP'Z'ZPP>zPP'Z'ZPP'Z'Z'Z'Z'Z?O?w'ZP?zP@QDXGuGyPG|HWH['ZPPPH_Hk'RP'R'RP'RP'RP'RP'RP'R'R'RP'RPP'RPP'RP'RPHqH}IVPI^IdPI^PI^I^PPPI^PKrPK{LVL]KrPI^LfPI^PLmLsPLwM]MzNeLwLwNkNxLwLwLwLw! ^! d! g! l! o! y!!P!!]!!o!!u!#P!#V!#s!#y!$P!$Z!$a!$g!$y!%T!%Z!%a!%k!%q!%w!%}!&T!&Z!&e!&k!&u!&{!'U!'[!'k!'s!'}!(UPPPPPPPPPPP!([!(_!(e!(n!(x!)TPPPPPPPPPPPP!-u!/Z!3^!6oPP!6w!7W!7a!8Y!8P!8c!8i!8l!8o!8r!8z!9jPPPPPPPPPPPPPPPPP!9m!9q!9wP!:]!:a!:m!:v!;S!;j!;m!;p!;v!;|!<S!<VP!<_!<h!=d!=g]eOn#g$j)t,P'}`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r{!cQ#c#p$R$d$p%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g}!dQ#c#p$R$d$p$u%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!P!eQ#c#p$R$d$p$u$v%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!R!fQ#c#p$R$d$p$u$v$w%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!T!gQ#c#p$R$d$p$u$v$w$x%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!V!hQ#c#p$R$d$p$u$v$w$x$y%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!Z!hQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g'}TOTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r&eVOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0r%oXOYZ[dnrxy}!P!Q!U!i!k#[#d#g#y#{#}$Q$h$j$}%S%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#vqQ/[.kR0o0q't`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rh#jhz{$W$Z&l&q)S)X+f+g-RW#rq&].k0qQ$]|Q$a!OQ$n!VQ$o!WW$|!i'm*d,gS&[#s#tQ'S$iQ(s&UQ)U&nU)Y&s)Z+jW)a&w+m-T-{Q*Q']W*R'_,`-h.TQ+l)`S,_*S*TQ-Q+eQ-_,TQ-c,WQ.R-al.W-l.^._.a.z.|/R/j/o/t/y0U0Z0^Q/S.`Q/a.tQ/l/OU0P/u0S0[X0V/z0W0_0`R&Z#r!_!wYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZR%^!vQ!{YQ%x#[Q&d#}Q&g$QR,{+YT.j-s/s!Y!jQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gQ&X#kQ'c$oR*^'dR'l$|Q%V!mR/_.r'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rS#a_#b!P.[-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rT#a_#bT#^^#_R(o%xa(l%x(n(o+`,{-y-z.oT+[(k+]R-z,{Q$PsQ+l)aQ,^*RR-e,_X#}s$O$P&fQ&y$aQ'a$nQ'd$oR)s'SQ)b&wV-S+m-T-{ZgOn$j)t,PXkOn)t,PQ$k!TQ&z$bQ&{$cQ'^$mQ'b$oQ)q'RQ)x'WQ){'XQ)|'YQ*Z'`S*]'c'dQ+s)gQ+u)hQ+v)iQ+z)oS+|)r*[Q,Q)vQ,R)wS,S)y)zQ,d*^Q-V+rQ-W+tQ-Y+{S-Z+},OQ-`,UQ-b,VQ-|-XQ.O-[Q.P-^Q.Q-_Q.p-}Q.q.RQ/W.dR/r/XWkOn)t,PR#mjQ'`$nS)r'S'aR,O)sQ,]*RR-f,^Q*['`Q+})rR-[,OZiOjn)t,PQ'f$pR*`'gT-j,e-ku.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^t.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^Q/S.`X0V/z0W0_0`!P.Z-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`Q.w.YR/f.xg.z.].{/b/i/n/|0O0Q0]0a0bu.b-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^X.u.W.b/a0PR/c.tV0R/u0S0[R/X.dQnOS#on,PR,P)tQ&^#uR(x&^S%m#R#wS(_%m(bT(b%p&`Q%a!yQ%h!}W(P%a%h(U(YQ(U%eR(Y%jQ&i$RR)O&iQ(e%qQ*{(`T+R(e*{Q'n%OR*e'nS'q%R%SY*i'q*j,m-q.hU*j'r's'tU,m*k*l*mS-q,n,oR.h-rQ#Y]R%t#YQ#_^R%y#_Q(h%vS+W(h+XR+X(iQ+](kR,|+]Q#b_R%{#bQ#ebQ%}#cW&Q#e%}({+bQ({&cR+b0gQ$OsS&e$O&fR&f$PQ&v$_R)_&vQ&V#jR(t&VQ&m$VS)T&m+hR+h)UQ$Z{R&p$ZQ&t$]R)[&tQ+n)bR-U+nQ#hfR&S#hQ)f&zR+q)fQ&}$dS)m&})nR)n'OQ'V$kR)u'VQ'[$lS*P'[,ZR,Z*QQ,a*VR-i,aWjOn)t,PR#ljQ-k,eR.U-kd.{.]/b/i/n/|0O0Q0]0a0bR/h.{U.s.W/a0PR/`.sQ/{/nS0X/{0YR0Y/|S/v/b/cR0T/vQ.}.]R/k.}R!ZPXmOn)t,PWlOn)t,PR'T$jYfOn$j)t,PR&R#g[sOn#g$j)t,PR&d#}&dQOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0rQ!nTQ#caQ#poU$Rt%c(SS$d!R$gQ$p!XQ$u!cQ$v!dQ$w!eQ$x!fQ$y!gQ$z!hQ%e!zQ%j#OQ%p#SQ%q#TQ&`#xQ'O$eQ'g$qQ(q&OU(|&h(}+cW)j&|)l+x+yQ*o'|Q*x(]Q+w)kQ,v+QR0g0lQ!yYQ!}ZQ$b!PQ$c!QQ%R!kQ't%S^'{%`%g(O(W*q*t*v^*f'p*h,k,l-p.g/ZQ*l'rQ*m'sQ+t)gQ,j*gQ,n*kQ-n,hQ-o,iQ-r,oQ.e-mR/Y.f[bOn#g$j)t,P!^!vYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZQ#R[Q#fdS#wrxQ$UyW$_}$Q'P)pS$l!U$hW${!i'm*d,gS%v#[+Y`&P#d%|(p(r(z+a-O0kQ&a#yQ&b#{Q&c#}Q'j$}Q'z%^W([%l(^*y*}Q(`%nQ(i%wQ(v&ZS(y&_0iQ)P&jQ)Q&kU)]&u)^+kQ)d&xQ)y'WY)}'Z*O,X,Y-dQ*b'lS*n'w0jW+P(d*z,s,wW+T(g+V,y,zQ+p)eQ,U)zQ,c*YQ,x+UQ-P+dQ-e,]Q-v,uQ.S-fR/q/VhUOn#d#g$j%|&_'w(p(r)t,P%U!uYZ[drxy}!P!Q!U!i!k#[#y#{#}$Q$h$}%S%^%`%g%l%n%w&Z&j&k&u&x'P'W'Z'l'm'p'r's(O(W(^(d(g(z)^)e)g)p)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#qpW%W!o!s0d0nQ%X!pQ%Y!qQ%[!tQ%f0cS'v%Z0hQ'x0eQ'y0fQ,p*rQ-u,qS.i-s/sR0p0rU#uq.k0qR(w&][cOn#g$j)t,PZ!xY#[#}$Q+YQ#W[Q#zrR$TxQ%b!yQ%i!}Q%o#RQ'j${Q(V%eQ(Z%jQ(c%pQ(f%qQ*|(`Q,f*bQ-t,pQ.m-uR/].lQ$StQ(R%cR*s(SQ.l-sR/}/sR#QZR#V[R%Q!iQ%O!iV*c'm*d,g!Z!lQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gR%T!kT#]^#_Q%x#[R,{+YQ(m%xS+_(n(oQ,}+`Q-x,{S.n-y-zR/^.oT+Z(k+]Q$`}Q&g$QQ)o'PR+{)pQ$XzQ)W&qR+i)XQ$XzQ&o$WQ)W&qR+i)XQ#khW$Vz$W&q)XQ$[{Q&r$ZZ)R&l)S+f+g-RR$^|R)c&wXlOn)t,PQ$f!RR'Q$gQ$m!UR'R$hR*X'_Q*V'_V-g,`-h.TQ.d-lQ/P.^R/Q._U.]-l.^._Q/U.aQ/b.tQ/g.zU/i.|/j/yQ/n/RQ/|/oQ0O/tU0Q/u0S0[Q0]0UQ0a0ZR0b0^R/T.`R/d.t",nodeNames:" print Escape { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatSelfDoc FormatConversion FormatSpec FormatReplacement FormatSelfDoc ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:277,context:gw,nodeProps:[["isolate",-5,4,71,72,73,77,""],["group",-15,6,85,87,88,90,92,94,96,98,99,100,102,105,108,110,"Statement Statement",-22,8,18,21,25,40,49,50,56,57,60,61,62,63,64,67,70,71,72,79,80,81,82,"Expression",-10,114,116,119,121,122,126,128,133,135,138,"Statement",-9,143,144,147,148,150,151,152,153,154,"Pattern"],["openedBy",23,"(",54,"[",58,"{"],["closedBy",24,")",55,"]",59,"}"]],propSources:[Cw],skippedNodes:[0,4],repeatNodeCount:34,tokenData:"!2|~R!`OX%TXY%oY[%T[]%o]p%Tpq%oqr'ars)Yst*xtu%Tuv,dvw-hwx.Uxy/tyz0[z{0r{|2S|}2p}!O3W!O!P4_!P!Q:Z!Q!R;k!R![>_![!]Do!]!^Es!^!_FZ!_!`Gk!`!aHX!a!b%T!b!cIf!c!dJU!d!eK^!e!hJU!h!i!#f!i!tJU!t!u!,|!u!wJU!w!x!.t!x!}JU!}#O!0S#O#P&o#P#Q!0j#Q#R!1Q#R#SJU#S#T%T#T#UJU#U#VK^#V#YJU#Y#Z!#f#Z#fJU#f#g!,|#g#iJU#i#j!.t#j#oJU#o#p!1n#p#q!1s#q#r!2a#r#s!2f#s$g%T$g;'SJU;'S;=`KW<%lOJU`%YT&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T`%lP;=`<%l%To%v]&n`%c_OX%TXY%oY[%T[]%o]p%Tpq%oq#O%T#O#P&o#P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To&tX&n`OY%TYZ%oZ]%T]^%o^#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc'f[&n`O!_%T!_!`([!`#T%T#T#U(r#U#f%T#f#g(r#g#h(r#h#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(cTmR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(yT!mR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk)aV&n`&[ZOr%Trs)vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk){V&n`Or%Trs*bs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk*iT&n`&^ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To+PZS_&n`OY*xYZ%TZ]*x]^%T^#o*x#o#p+r#p#q*x#q#r+r#r;'S*x;'S;=`,^<%lO*x_+wTS_OY+rZ]+r^;'S+r;'S;=`,W<%lO+r_,ZP;=`<%l+ro,aP;=`<%l*xj,kV%rQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-XT!xY&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-oV%lQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.]V&n`&ZZOw%Twx.rx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.wV&n`Ow%Twx/^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/eT&n`&]ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/{ThZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc0cTgR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk0yXVZ&n`Oz%Tz{1f{!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk1mVaR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk2ZV%oZ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc2wTzR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To3_W%pZ&n`O!_%T!_!`-Q!`!a3w!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Td4OT&{S&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk4fX!fQ&n`O!O%T!O!P5R!P!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5WV&n`O!O%T!O!P5m!P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5tT!rZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti6[a!hX&n`O!Q%T!Q![6T![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S6T#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti7fZ&n`O{%T{|8X|}%T}!O8X!O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8^V&n`O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8z]!hX&n`O!Q%T!Q![8s![!l%T!l!m9s!m#R%T#R#S8s#S#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti9zT!hX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk:bX%qR&n`O!P%T!P!Q:}!Q!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj;UV%sQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti;ro!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!d%T!d!e?q!e!g%T!g!h7a!h!l%T!l!m9s!m!q%T!q!rA]!r!z%T!z!{Bq!{#R%T#R#S>_#S#U%T#U#V?q#V#X%T#X#Y7a#Y#^%T#^#_9s#_#c%T#c#dA]#d#l%T#l#mBq#m#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti=xV&n`O!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti>fc!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S>_#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti?vY&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti@mY!hX&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiAbX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBUX!hX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBv]&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiCv]!hX&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToDvV{_&n`O!_%T!_!`E]!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TcEdT%{R&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkEzT#gZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkFbXmR&n`O!^%T!^!_F}!_!`([!`!a([!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjGUV%mQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkGrV%zZ&n`O!_%T!_!`([!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkH`WmR&n`O!_%T!_!`([!`!aHx!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjIPV%nQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkIoV_Q#}P&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToJ_]&n`&YS%uZO!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoKZP;=`<%lJUoKge&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!tJU!t!uLx!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#gLx#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoMRa&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUkN_V&n`&`ZOr%TrsNts#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkNyV&n`Or%Trs! `s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! gT&n`&bZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! }V&n`&_ZOw%Twx!!dx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!!iV&n`Ow%Twx!#Ox#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!#VT&n`&aZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!#oe&n`&YS%uZOr%Trs!%Qsw%Twx!&px!Q%T!Q![JU![!c%T!c!tJU!t!u!(`!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#g!(`#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!%XV&n`&dZOr%Trs!%ns#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!%sV&n`Or%Trs!&Ys#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&aT&n`&fZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&wV&n`&cZOw%Twx!'^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!'cV&n`Ow%Twx!'xx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!(PT&n`&eZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!(ia&n`&YS%uZOr%Trs!)nsw%Twx!+^x!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!)uV&n`&hZOr%Trs!*[s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*aV&n`Or%Trs!*vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*}T&n`&jZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!+eV&n`&gZOw%Twx!+zx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,PV&n`Ow%Twx!,fx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,mT&n`&iZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!-Vi&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!dJU!d!eLx!e!hJU!h!i!(`!i!}JU!}#R%T#R#SJU#S#T%T#T#UJU#U#VLx#V#YJU#Y#Z!(`#Z#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUo!.}a&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!0ZT!XZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc!0qT!WR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj!1XV%kQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!1sO!]~k!1zV%jR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!2fO![~i!2mT%tX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T",tokenizers:[Dw,uw,sw,vw,0,1,2,3,4],topRules:{Script:[0,5]},specialized:[{term:221,get:e=>bw[e]||-1}],tokenPrec:7668});function Tw(e){return 45==e||46==e||58==e||e>=65&&e<=90||95==e||e>=97&&e<=122||e>=161}function yw(e){return 9==e||10==e||13==e||32==e}let Aw=null,Sw=null,_w=0;function Fw(e,t){let n=e.pos+t;if(Sw==e&&_w==n)return Aw;for(;yw(e.peek(t));)t++;let i="";for(;;){let n=e.peek(t);if(!Tw(n))break;i+=String.fromCharCode(n),t++}return Sw=e,_w=n,Aw=i||null}function ww(e,t){this.name=e,this.parent=t}const xw=new l_({start:null,shift:(e,t,n,i)=>1==t?new ww(Fw(i,1)||"",e):e,reduce:(e,t)=>11==t&&e?e.parent:e,reuse(e,t,n,i){let r=t.type.id;return 1==r||13==r?new ww(Fw(i,1)||"",e):e},strict:!1}),Pw=new YS((e,t)=>{if(60==e.next)if(e.advance(),47==e.next){e.advance();let n=Fw(e,0);if(!n)return e.acceptToken(5);if(t.context&&n==t.context.name)return e.acceptToken(2);for(let i=t.context;i;i=i.parent)if(i.name==n)return e.acceptToken(3,-2);e.acceptToken(4)}else if(33!=e.next&&63!=e.next)return e.acceptToken(1)},{contextual:!0});function Rw(e,t){return new YS(n=>{let i=0,r=t.charCodeAt(0);e:for(;!(n.next<0);n.advance(),i++)if(n.next==r){for(let e=1;e<t.length;e++)if(n.peek(e)!=t.charCodeAt(e))continue e;break}i&&n.acceptToken(e)})}const Iw=Rw(36,"--\x3e"),Qw=Rw(37,"?>"),Nw=Rw(38,"]]>"),Bw=QA({Text:eS.content,"StartTag StartCloseTag EndTag SelfCloseEndTag":eS.angleBracket,TagName:eS.tagName,"MismatchedCloseTag/TagName":[eS.tagName,eS.invalid],AttributeName:eS.attributeName,AttributeValue:eS.attributeValue,Is:eS.definitionOperator,"EntityReference CharacterReference":eS.character,Comment:eS.blockComment,ProcessingInst:eS.processingInstruction,DoctypeDecl:eS.documentMeta,Cdata:eS.special(eS.string)}),Mw=c_.deserialize({version:14,states:",lOQOaOOOrOxO'#CfOzOpO'#CiO!tOaO'#CgOOOP'#Cg'#CgO!{OrO'#CrO#TOtO'#CsO#]OpO'#CtOOOP'#DT'#DTOOOP'#Cv'#CvQQOaOOOOOW'#Cw'#CwO#eOxO,59QOOOP,59Q,59QOOOO'#Cx'#CxO#mOpO,59TO#uO!bO,59TOOOP'#C|'#C|O$TOaO,59RO$[OpO'#CoOOOP,59R,59ROOOQ'#C}'#C}O$dOrO,59^OOOP,59^,59^OOOS'#DO'#DOO$lOtO,59_OOOP,59_,59_O$tOpO,59`O$|OpO,59`OOOP-E6t-E6tOOOW-E6u-E6uOOOP1G.l1G.lOOOO-E6v-E6vO%UO!bO1G.oO%UO!bO1G.oO%dOpO'#CkO%lO!bO'#CyO%zO!bO1G.oOOOP1G.o1G.oOOOP1G.w1G.wOOOP-E6z-E6zOOOP1G.m1G.mO&VOpO,59ZO&_OpO,59ZOOOQ-E6{-E6{OOOP1G.x1G.xOOOS-E6|-E6|OOOP1G.y1G.yO&gOpO1G.zO&gOpO1G.zOOOP1G.z1G.zO&oO!bO7+$ZO&}O!bO7+$ZOOOP7+$Z7+$ZOOOP7+$c7+$cO'YOpO,59VO'bOpO,59VO'mO!bO,59eOOOO-E6w-E6wO'{OpO1G.uO'{OpO1G.uOOOP1G.u1G.uO(TOpO7+$fOOOP7+$f7+$fO(]O!bO<<GuOOOP<<Gu<<GuOOOP<<G}<<G}O'bOpO1G.qO'bOpO1G.qO(hO#tO'#CnO(vO&jO'#CnOOOO1G.q1G.qO)UOpO7+$aOOOP7+$a7+$aOOOP<<HQ<<HQOOOPAN=aAN=aOOOPAN=iAN=iO'bOpO7+$]OOOO7+$]7+$]OOOO'#Cz'#CzO)^O#tO,59YOOOO,59Y,59YOOOO'#C{'#C{O)lO&jO,59YOOOP<<G{<<G{OOOO<<Gw<<GwOOOO-E6x-E6xOOOO1G.t1G.tOOOO-E6y-E6y",stateData:")z~OPQOSVOTWOVWOWWOXWOiXOyPO!QTO!SUO~OvZOx]O~O^`Oz^O~OPQOQcOSVOTWOVWOWWOXWOyPO!QTO!SUO~ORdO~P!SOteO!PgO~OuhO!RjO~O^lOz^O~OvZOxoO~O^qOz^O~O[vO`sOdwOz^O~ORyO~P!SO^{Oz^O~OteO!P}O~OuhO!R!PO~O^!QOz^O~O[!SOz^O~O[!VO`sOd!WOz^O~Oa!YOz^O~Oz^O[mX`mXdmX~O[!VO`sOd!WO~O^!]Oz^O~O[!_Oz^O~O[!aOz^O~O[!cO`sOd!dOz^O~O[!cO`sOd!dO~Oa!eOz^O~Oz^O{!gO}!hO~Oz^O[ma`madma~O[!kOz^O~O[!lOz^O~O[!mO`sOd!nO~OW!qOX!qO{!sO|!qO~OW!tOX!tO}!sO!O!tO~O[!vOz^O~OW!qOX!qO{!yO|!qO~OW!tOX!tO}!yO!O!tO~O",goto:"%cxPPPPPPPPPPyyP!PP!VPP!`!jP!pyyyP!v!|#S$[$k$q$w$}%TPPPP%ZXWORYbXRORYb_t`qru!T!U!bQ!i!YS!p!e!fR!w!oQdRRybXSORYbQYORmYQ[PRn[Q_QQkVjp_krz!R!T!X!Z!^!`!f!j!oQr`QzcQ!RlQ!TqQ!XsQ!ZtQ!^{Q!`!QQ!f!YQ!j!]R!o!eQu`S!UqrU![u!U!bR!b!TQ!r!gR!x!rQ!u!hR!z!uQbRRxbQfTR|fQiUR!OiSXOYTaRb",nodeNames:" StartTag StartCloseTag MissingCloseTag StartCloseTag StartCloseTag Document Text EntityReference CharacterReference Cdata Element EndTag OpenTag TagName Attribute AttributeName Is AttributeValue CloseTag SelfCloseEndTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag DoctypeDecl",maxTerm:50,context:xw,nodeProps:[["closedBy",1,"SelfCloseEndTag EndTag",13,"CloseTag MissingCloseTag"],["openedBy",12,"StartTag StartCloseTag",19,"OpenTag",20,"StartTag"],["isolate",-6,13,18,19,21,22,24,""]],propSources:[Bw],skippedNodes:[0],repeatNodeCount:9,tokenData:"!)v~R!YOX$qXY)iYZ)iZ]$q]^)i^p$qpq)iqr$qrs*vsv$qvw+fwx/ix}$q}!O0[!O!P$q!P!Q2z!Q![$q![!]4n!]!^$q!^!_8U!_!`!#t!`!a!$l!a!b!%d!b!c$q!c!}4n!}#P$q#P#Q!'W#Q#R$q#R#S4n#S#T$q#T#o4n#o%W$q%W%o4n%o%p$q%p&a4n&a&b$q&b1p4n1p4U$q4U4d4n4d4e$q4e$IS4n$IS$I`$q$I`$Ib4n$Ib$Kh$q$Kh%#t4n%#t&/x$q&/x&Et4n&Et&FV$q&FV;'S4n;'S;:j8O;:j;=`)c<%l?&r$q?&r?Ah4n?Ah?BY$q?BY?Mn4n?MnO$qi$zXVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qa%nVVP!O`Ov%gwx&Tx!^%g!^!_&o!_;'S%g;'S;=`'W<%lO%gP&YTVPOv&Tw!^&T!_;'S&T;'S;=`&i<%lO&TP&lP;=`<%l&T`&tS!O`Ov&ox;'S&o;'S;=`'Q<%lO&o`'TP;=`<%l&oa'ZP;=`<%l%gX'eWVP|WOr'^rs&Tsv'^w!^'^!^!_'}!_;'S'^;'S;=`(i<%lO'^W(ST|WOr'}sv'}w;'S'};'S;=`(c<%lO'}W(fP;=`<%l'}X(lP;=`<%l'^h(vV|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oh)`P;=`<%l(oi)fP;=`<%l$qo)t`VP|W!O`zUOX$qXY)iYZ)iZ]$q]^)i^p$qpq)iqr$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk+PV{YVP!O`Ov%gwx&Tx!^%g!^!_&o!_;'S%g;'S;=`'W<%lO%g~+iast,n![!]-r!c!}-r#R#S-r#T#o-r%W%o-r%p&a-r&b1p-r4U4d-r4e$IS-r$I`$Ib-r$Kh%#t-r&/x&Et-r&FV;'S-r;'S;:j/c?&r?Ah-r?BY?Mn-r~,qQ!Q![,w#l#m-V~,zQ!Q![,w!]!^-Q~-VOX~~-YR!Q![-c!c!i-c#T#Z-c~-fS!Q![-c!]!^-Q!c!i-c#T#Z-c~-ug}!O-r!O!P-r!Q![-r![!]-r!]!^/^!c!}-r#R#S-r#T#o-r$}%O-r%W%o-r%p&a-r&b1p-r1p4U-r4U4d-r4e$IS-r$I`$Ib-r$Je$Jg-r$Kh%#t-r&/x&Et-r&FV;'S-r;'S;:j/c?&r?Ah-r?BY?Mn-r~/cOW~~/fP;=`<%l-rk/rW}bVP|WOr'^rs&Tsv'^w!^'^!^!_'}!_;'S'^;'S;=`(i<%lO'^k0eZVP|W!O`Or$qrs%gsv$qwx'^x}$q}!O1W!O!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk1aZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a2S!a;'S$q;'S;=`)c<%lO$qk2_X!PQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qm3TZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a3v!a;'S$q;'S;=`)c<%lO$qm4RXdSVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qo4{!P`S^QVP|W!O`Or$qrs%gsv$qwx'^x}$q}!O4n!O!P4n!P!Q$q!Q![4n![!]4n!]!^$q!^!_(o!_!c$q!c!}4n!}#R$q#R#S4n#S#T$q#T#o4n#o$}$q$}%O4n%O%W$q%W%o4n%o%p$q%p&a4n&a&b$q&b1p4n1p4U4n4U4d4n4d4e$q4e$IS4n$IS$I`$q$I`$Ib4n$Ib$Je$q$Je$Jg4n$Jg$Kh$q$Kh%#t4n%#t&/x$q&/x&Et4n&Et&FV$q&FV;'S4n;'S;:j8O;:j;=`)c<%l?&r$q?&r?Ah4n?Ah?BY$q?BY?Mn4n?MnO$qo8RP;=`<%l4ni8]Y|W!O`Oq(oqr8{rs&osv(owx'}x!a(o!a!b!#U!b;'S(o;'S;=`)]<%lO(oi9S_|W!O`Or(ors&osv(owx'}x}(o}!O:R!O!f(o!f!g;e!g!}(o!}#ODh#O#W(o#W#XLp#X;'S(o;'S;=`)]<%lO(oi:YX|W!O`Or(ors&osv(owx'}x}(o}!O:u!O;'S(o;'S;=`)]<%lO(oi;OV!QP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oi;lX|W!O`Or(ors&osv(owx'}x!q(o!q!r<X!r;'S(o;'S;=`)]<%lO(oi<`X|W!O`Or(ors&osv(owx'}x!e(o!e!f<{!f;'S(o;'S;=`)]<%lO(oi=SX|W!O`Or(ors&osv(owx'}x!v(o!v!w=o!w;'S(o;'S;=`)]<%lO(oi=vX|W!O`Or(ors&osv(owx'}x!{(o!{!|>c!|;'S(o;'S;=`)]<%lO(oi>jX|W!O`Or(ors&osv(owx'}x!r(o!r!s?V!s;'S(o;'S;=`)]<%lO(oi?^X|W!O`Or(ors&osv(owx'}x!g(o!g!h?y!h;'S(o;'S;=`)]<%lO(oi@QY|W!O`Or?yrs@psv?yvwA[wxBdx!`?y!`!aCr!a;'S?y;'S;=`Db<%lO?ya@uV!O`Ov@pvxA[x!`@p!`!aAy!a;'S@p;'S;=`B^<%lO@pPA_TO!`A[!`!aAn!a;'SA[;'S;=`As<%lOA[PAsOiPPAvP;=`<%lA[aBQSiP!O`Ov&ox;'S&o;'S;=`'Q<%lO&oaBaP;=`<%l@pXBiX|WOrBdrsA[svBdvwA[w!`Bd!`!aCU!a;'SBd;'S;=`Cl<%lOBdXC]TiP|WOr'}sv'}w;'S'};'S;=`(c<%lO'}XCoP;=`<%lBdiC{ViP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oiDeP;=`<%l?yiDoZ|W!O`Or(ors&osv(owx'}x!e(o!e!fEb!f#V(o#V#WIr#W;'S(o;'S;=`)]<%lO(oiEiX|W!O`Or(ors&osv(owx'}x!f(o!f!gFU!g;'S(o;'S;=`)]<%lO(oiF]X|W!O`Or(ors&osv(owx'}x!c(o!c!dFx!d;'S(o;'S;=`)]<%lO(oiGPX|W!O`Or(ors&osv(owx'}x!v(o!v!wGl!w;'S(o;'S;=`)]<%lO(oiGsX|W!O`Or(ors&osv(owx'}x!c(o!c!dH`!d;'S(o;'S;=`)]<%lO(oiHgX|W!O`Or(ors&osv(owx'}x!}(o!}#OIS#O;'S(o;'S;=`)]<%lO(oiI]V|W!O`yPOr(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oiIyX|W!O`Or(ors&osv(owx'}x#W(o#W#XJf#X;'S(o;'S;=`)]<%lO(oiJmX|W!O`Or(ors&osv(owx'}x#T(o#T#UKY#U;'S(o;'S;=`)]<%lO(oiKaX|W!O`Or(ors&osv(owx'}x#h(o#h#iK|#i;'S(o;'S;=`)]<%lO(oiLTX|W!O`Or(ors&osv(owx'}x#T(o#T#UH`#U;'S(o;'S;=`)]<%lO(oiLwX|W!O`Or(ors&osv(owx'}x#c(o#c#dMd#d;'S(o;'S;=`)]<%lO(oiMkX|W!O`Or(ors&osv(owx'}x#V(o#V#WNW#W;'S(o;'S;=`)]<%lO(oiN_X|W!O`Or(ors&osv(owx'}x#h(o#h#iNz#i;'S(o;'S;=`)]<%lO(oi! RX|W!O`Or(ors&osv(owx'}x#m(o#m#n! n#n;'S(o;'S;=`)]<%lO(oi! uX|W!O`Or(ors&osv(owx'}x#d(o#d#e!!b#e;'S(o;'S;=`)]<%lO(oi!!iX|W!O`Or(ors&osv(owx'}x#X(o#X#Y?y#Y;'S(o;'S;=`)]<%lO(oi!#_V!SP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(ok!$PXaQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qo!$wX[UVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk!%mZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a!&`!a;'S$q;'S;=`)c<%lO$qk!&kX!RQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk!'aZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_#P$q#P#Q!(S#Q;'S$q;'S;=`)c<%lO$qk!(]ZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a!)O!a;'S$q;'S;=`)c<%lO$qk!)ZXxQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$q",tokenizers:[Pw,Iw,Qw,Nw,0,1,2,3,4],topRules:{Document:[0,6]},tokenPrec:0}),Lw=63;class $w{constructor(e,t,n){this.parent=e,this.depth=t,this.type=n,this.hash=(e?e.hash+e.hash<<8:0)+t+(t<<4)+n}}function Uw(e,t){for(let n=0,i=t-e.pos-1;;i--,n++){let t=e.peek(i);if(Xw(t)||-1==t)return n}}function qw(e){return 32==e||9==e}function Xw(e){return 10==e||13==e}function zw(e){return qw(e)||Xw(e)}function Zw(e){return e<0||zw(e)}$w.top=new $w(null,-1,0);const jw=new l_({start:$w.top,reduce:(e,t)=>3!=e.type||20!=t&&34!=t?e:e.parent,shift(e,t,n,i){if(3==t)return new $w(e,Uw(i,i.pos),1);if(65==t||5==t)return new $w(e,Uw(i,i.pos),2);if(t==Lw)return e.parent;if(19==t||33==t)return new $w(e,0,3);if(13==t&&4==e.type)return e.parent;if(47==t){let t=/[1-9]/.exec(i.read(i.pos,n.pos));if(t)return new $w(e,e.depth+ +t[0],4)}return e},hash:e=>e.hash});function Ww(e,t,n=0){return e.peek(n)==t&&e.peek(n+1)==t&&e.peek(n+2)==t&&Zw(e.peek(n+3))}const Gw=new YS((e,t)=>{if(-1==e.next&&t.canShift(64))return e.acceptToken(64);let n=e.peek(-1);if((Xw(n)||n<0)&&3!=t.context.type){if(Ww(e,45)){if(!t.canShift(Lw))return e.acceptToken(1,3);e.acceptToken(Lw)}if(Ww(e,46)){if(!t.canShift(Lw))return e.acceptToken(2,3);e.acceptToken(Lw)}let n=0;for(;32==e.next;)n++,e.advance();(n<t.context.depth||n==t.context.depth&&1==t.context.type&&(45!=e.next||!Zw(e.peek(1))))&&-1!=e.next&&!Xw(e.next)&&35!=e.next&&e.acceptToken(Lw,-n)}},{contextual:!0}),Vw=new YS((e,t)=>{if(3!=t.context.type)if(45==e.next)e.advance(),Zw(e.next)&&e.acceptToken(1==t.context.type&&t.context.depth==Uw(e,e.pos-1)?4:3);else if(63==e.next)e.advance(),Zw(e.next)&&e.acceptToken(2==t.context.type&&t.context.depth==Uw(e,e.pos-1)?6:5);else{let n=e.pos;for(;;)if(qw(e.next)){if(e.pos==n)return;e.advance()}else if(33==e.next)Kw(e);else{if(38!=e.next){if(42==e.next){Jw(e);break}if(39==e.next||34==e.next){if(ex(e,!0))break;return}if(91==e.next||123==e.next){if(!tx(e))return;break}ax(e,!0,!1,0);break}Jw(e)}for(;qw(e.next);)e.advance();if(58==e.next){if(e.pos==n&&t.canShift(29))return;Zw(e.peek(1))&&e.acceptTokenTo(2==t.context.type&&t.context.depth==Uw(e,n)?66:65,n)}}else 63==e.next&&(e.advance(),Zw(e.next)&&e.acceptToken(7))},{contextual:!0});function Yw(e){return e>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70}function Hw(e,t){return 37==e.next?(e.advance(),Yw(e.next)&&e.advance(),Yw(e.next)&&e.advance(),!0):!!(function(e){return e>32&&e<127&&34!=e&&37!=e&&44!=e&&60!=e&&62!=e&&92!=e&&94!=e&&96!=e&&123!=e&&124!=e&&125!=e}(e.next)||t&&44==e.next)&&(e.advance(),!0)}function Kw(e){if(e.advance(),60==e.next){for(e.advance();;)if(!Hw(e,!0)){62==e.next&&e.advance();break}}else for(;Hw(e,!1););}function Jw(e){for(e.advance();!Zw(e.next)&&"f"!=ix(e.tag);)e.advance()}function ex(e,t){let n=e.next,i=!1,r=e.pos;for(e.advance();;){let a=e.next;if(a<0)break;if(e.advance(),a==n){if(39!=a)break;if(39!=e.next)break;e.advance()}else if(92==a&&34==n)e.next>=0&&e.advance();else if(Xw(a)){if(t)return!1;i=!0}else if(t&&e.pos>=r+1024)return!1}return!i}function tx(e){for(let t=[],n=e.pos+1024;;)if(91==e.next||123==e.next)t.push(e.next),e.advance();else if(39==e.next||34==e.next){if(!ex(e,!0))return!1}else if(93==e.next||125==e.next){if(t[t.length-1]!=e.next-2)return!1;if(t.pop(),e.advance(),!t.length)return!0}else{if(e.next<0||e.pos>n||Xw(e.next))return!1;e.advance()}}const nx="iiisiiissisfissssssssssssisssiiissssssssssssssssssssssssssfsfssissssssssssssssssssssssssssfif";function ix(e){return e<33?"u":e>125?"s":nx[e-33]}function rx(e,t){let n=ix(e);return"u"!=n&&!(t&&"f"==n)}function ax(e,t,n,i){if("s"!=ix(e.next)&&(63!=e.next&&58!=e.next&&45!=e.next||!rx(e.peek(1),n)))return!1;e.advance();let r=e.pos;for(;;){let a=e.next,o=0,s=i+1;for(;zw(a);){if(Xw(a)){if(t)return!1;s=0}else s++;a=e.peek(++o)}if(!(a>=0&&(58==a?rx(e.peek(o+1),n):35==a?32!=e.peek(o-1):rx(a,n)))||!n&&s<=i||0==s&&!n&&(Ww(e,45,o)||Ww(e,46,o)))break;if(t&&"f"==ix(a))return!1;for(let t=o;t>=0;t--)e.advance();if(t&&e.pos>r+1024)return!1}return!0}const ox=new YS((e,t)=>{if(33==e.next)Kw(e),e.acceptToken(12);else if(38==e.next||42==e.next){let t=38==e.next?10:11;Jw(e),e.acceptToken(t)}else 39==e.next||34==e.next?(ex(e,!1),e.acceptToken(9)):ax(e,!1,3==t.context.type,t.context.depth)&&e.acceptToken(8)}),sx=new YS((e,t)=>{let n=4==t.context.type?t.context.depth:-1,i=e.pos;e:for(;;){let r=0,a=e.next;for(;32==a;)a=e.peek(++r);if(!r&&(Ww(e,45,r)||Ww(e,46,r))||!Xw(a)&&(n<0&&(n=Math.max(t.context.depth+1,r)),r<n))break;for(;;){if(e.next<0)break e;let t=Xw(e.next);if(e.advance(),t)continue e;i=e.pos}}e.acceptTokenTo(13,i)}),ux=QA({DirectiveName:eS.keyword,DirectiveContent:eS.attributeValue,"DirectiveEnd DocEnd":eS.meta,QuotedLiteral:eS.string,BlockLiteralHeader:eS.special(eS.string),BlockLiteralContent:eS.content,Literal:eS.content,"Key/Literal Key/QuotedLiteral":eS.definition(eS.propertyName),"Anchor Alias":eS.labelName,Tag:eS.typeName,Comment:eS.lineComment,": , -":eS.separator,"?":eS.punctuation,"[ ]":eS.squareBracket,"{ }":eS.brace}),lx=c_.deserialize({version:14,states:"5lQ!ZQgOOO#PQfO'#CpO#uQfO'#DOOOQR'#Dv'#DvO$qQgO'#DRO%gQdO'#DUO%nQgO'#DUO&ROaO'#D[OOQR'#Du'#DuO&{QgO'#D^O'rQgO'#D`OOQR'#Dt'#DtO(iOqO'#DbOOQP'#Dj'#DjO(zQaO'#CmO)YQgO'#CmOOQP'#Cm'#CmQ)jQaOOQ)uQgOOQ]QgOOO*PQdO'#CrO*nQdO'#CtOOQO'#Dw'#DwO+]Q`O'#CxO+hQdO'#CwO+rQ`O'#CwOOQO'#Cv'#CvO+wQdO'#CvOOQO'#Cq'#CqO,UQ`O,59[O,^QfO,59[OOQR,59[,59[OOQO'#Cx'#CxO,eQ`O'#DPO,pQdO'#DPOOQO'#Dx'#DxO,zQdO'#DxO-XQ`O,59jO-aQfO,59jOOQR,59j,59jOOQR'#DS'#DSO-hQcO,59mO-sQgO'#DVO.TQ`O'#DVO.YQcO,59pOOQR'#DX'#DXO#|QfO'#DWO.hQcO'#DWOOQR,59v,59vO.yOWO,59vO/OOaO,59vO/WOaO,59vO/cQgO'#D_OOQR,59x,59xO0VQgO'#DaOOQR,59z,59zOOQP,59|,59|O0yOaO,59|O1ROaO,59|O1aOqO,59|OOQP-E7h-E7hO1oQgO,59XOOQP,59X,59XO2PQaO'#DeO2_QgO'#DeO2oQgO'#DkOOQP'#Dk'#DkQ)jQaOOO3PQdO'#CsOOQO,59^,59^O3kQdO'#CuOOQO,59`,59`OOQO,59c,59cO4VQdO,59cO4aQdO'#CzO4kQ`O'#CzOOQO,59b,59bOOQU,5:Q,5:QOOQR1G.v1G.vO4pQ`O1G.vOOQU-E7d-E7dO4xQdO,59kOOQO,59k,59kO5SQdO'#DQO5^Q`O'#DQOOQO,5:d,5:dOOQU,5:R,5:ROOQR1G/U1G/UO5cQ`O1G/UOOQU-E7e-E7eO5kQgO'#DhO5xQcO1G/XOOQR1G/X1G/XOOQR,59q,59qO6TQgO,59qO6eQdO'#DiO6lQgO'#DiO7PQcO1G/[OOQR1G/[1G/[OOQR,59r,59rO#|QfO,59rOOQR1G/b1G/bO7_OWO1G/bO7dOaO1G/bOOQR,59y,59yOOQR,59{,59{OOQP1G/h1G/hO7lOaO1G/hO7tOaO1G/hO8POaO1G/hOOQP1G.s1G.sO8_QgO,5:POOQP,5:P,5:POOQP,5:V,5:VOOQP-E7i-E7iOOQO,59_,59_OOQO,59a,59aOOQO1G.}1G.}OOQO,59f,59fO8oQdO,59fOOQR7+$b7+$bP,XQ`O'#DfOOQO1G/V1G/VOOQO,59l,59lO8yQdO,59lOOQR7+$p7+$pP9TQ`O'#DgOOQR'#DT'#DTOOQR,5:S,5:SOOQR-E7f-E7fOOQR7+$s7+$sOOQR1G/]1G/]O9YQgO'#DYO9jQ`O'#DYOOQR,5:T,5:TO#|QfO'#DZO9oQcO'#DZOOQR-E7g-E7gOOQR7+$v7+$vOOQR1G/^1G/^OOQR7+$|7+$|O:QOWO7+$|OOQP7+%S7+%SO:VOaO7+%SO:_OaO7+%SOOQP1G/k1G/kOOQO1G/Q1G/QOOQO1G/W1G/WOOQR,59t,59tO:jQgO,59tOOQR,59u,59uO#|QfO,59uOOQR<<Hh<<HhOOQP<<Hn<<HnO:zOaO<<HnOOQR1G/`1G/`OOQR1G/a1G/aOOQPAN>YAN>Y",stateData:";S~O!fOS!gOS^OS~OP_OQbORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!V[O!cTO~O`cO~P]OVkOWROXROYeOZfO[dOcPOmhOqQO~OboO~P!bOVtOWROXROYeOZfO[dOcPOmrOqQO~OpwO~P#WORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!cTO~OSvP!avP!bvP~P#|OWROXROYeOZfO[dOcPOqQO~OmzO~P%OOm!OOUzP!azP!bzP!dzP~P#|O^!SO!b!QO!f!TO!g!RO~ORSOTUOWROXROcPOqQO!PVO!cTO~OY!UOP!QXQ!QX!V!QX!`!QXS!QX!a!QX!b!QXU!QXm!QX!d!QX~P&aO[!WOP!SXQ!SX!V!SX!`!SXS!SX!a!SX!b!SXU!SXm!SX!d!SX~P&aO^!ZO!W![O!b!YO!f!]O!g!YO~OP!_O!V[OQaX!`aX~OPaXQaX!VaX!`aX~P#|OP!bOQ!cO!V[O~OP_O!V[O~P#|OWROXROY!fOcPOqQObfXmfXofXpfX~OWROXRO[!hOcPOqQObhXmhXohXphX~ObeXmlXoeX~ObkXokX~P%OOm!kO~Om!lObnPonP~P%OOb!pOo!oO~Ob!pO~P!bOm!sOosXpsX~OosXpsX~P%OOm!uOotPptP~P%OOo!xOp!yO~Op!yO~P#WOS!|O!a#OO!b#OO~OUyX!ayX!byX!dyX~P#|Om#QO~OU#SO!a#UO!b#UO!d#RO~Om#WOUzX!azX!bzX!dzX~O]#XO~O!b#XO!g#YO~O^#ZO!b#XO!g#YO~OP!RXQ!RX!V!RX!`!RXS!RX!a!RX!b!RXU!RXm!RX!d!RX~P&aOP!TXQ!TX!V!TX!`!TXS!TX!a!TX!b!TXU!TXm!TX!d!TX~P&aO!b#^O!g#^O~O^#_O!b#^O!f#`O!g#^O~O^#_O!W#aO!b#^O!g#^O~OPaaQaa!Vaa!`aa~P#|OP#cO!V[OQ!XX!`!XX~OP!XXQ!XX!V!XX!`!XX~P#|OP_O!V[OQ!_X!`!_X~P#|OWROXROcPOqQObgXmgXogXpgX~OWROXROcPOqQObiXmiXoiXpiX~Obkaoka~P%OObnXonX~P%OOm#kO~Ob#lOo!oO~Oosapsa~P%OOotXptX~P%OOm#pO~Oo!xOp#qO~OSwP!awP!bwP~P#|OS!|O!a#vO!b#vO~OUya!aya!bya!dya~P#|Om#xO~P%OOm#{OU}P!a}P!b}P!d}P~P#|OU#SO!a$OO!b$OO!d#RO~O]$QO~O!b$QO!g$RO~O!b$SO!g$SO~O^$TO!b$SO!g$SO~O^$TO!b$SO!f$UO!g$SO~OP!XaQ!Xa!V!Xa!`!Xa~P#|Obnaona~P%OOotapta~P%OOo!xO~OU|X!a|X!b|X!d|X~P#|Om$ZO~Om$]OU}X!a}X!b}X!d}X~O]$^O~O!b$_O!g$_O~O^$`O!b$_O!g$_O~OU|a!a|a!b|a!d|a~P#|O!b$cO!g$cO~O",goto:",]!mPPPPPPPPPPPPPPPPP!nPP!v#v#|$`#|$c$f$j$nP%VPPP!v%Y%^%a%{&O%a&R&U&X&_&b%aP&e&{&e'O'RPP']'a'g'm's'y(XPPPPPPPP(_)e*X+c,VUaObcR#e!c!{ROPQSTUXY_bcdehknrtvz!O!U!W!_!b!c!f!h!k!l!s!u!|#Q#R#S#W#c#k#p#x#{$Z$]QmPR!qnqfPQThknrtv!k!l!s!u#R#k#pR!gdR!ieTlPnTjPnSiPnSqQvQ{TQ!mkQ!trQ!vtR#y#RR!nkTsQvR!wt!RWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]RySR#t!|R|TR|UQ!PUR#|#SR#z#RR#z#SyZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]R!VXR!XYa]O^abc!a!c!eT!da!eQnPR!rnQvQR!{vQ!}yR#u!}Q#T|R#}#TW^Obc!cS!^^!aT!aa!eQ!eaR#f!eW`Obc!cQxSS}U#SQ!`_Q#PzQ#V!OQ#b!_Q#d!bQ#s!|Q#w#QQ$P#WQ$V#cQ$Y#xQ$[#{Q$a$ZR$b$]xZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]Q!VXQ!XYQ#[!UR#]!W!QWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]pfPQThknrtv!k!l!s!u#R#k#pQ!gdQ!ieQ#g!fR#h!hSgPn^pQTkrtv#RQ!jhQ#i!kQ#j!lQ#n!sQ#o!uQ$W#kR$X#pQuQR!zv",nodeNames:" DirectiveEnd DocEnd - - ? ? ? Literal QuotedLiteral Anchor Alias Tag BlockLiteralContent Comment Stream BOM Document ] [ FlowSequence Item Tagged Anchored Anchored Tagged FlowMapping Pair Key : Pair , } { FlowMapping Pair Pair BlockSequence Item Item BlockMapping Pair Pair Key Pair Pair BlockLiteral BlockLiteralHeader Tagged Anchored Anchored Tagged Directive DirectiveName DirectiveContent Document",maxTerm:74,context:jw,nodeProps:[["isolate",-3,8,9,14,""],["openedBy",18,"[",32,"{"],["closedBy",19,"]",33,"}"]],propSources:[ux],skippedNodes:[0],repeatNodeCount:6,tokenData:"-Y~RnOX#PXY$QYZ$]Z]#P]^$]^p#Ppq$Qqs#Pst$btu#Puv$yv|#P|}&e}![#P![!]'O!]!`#P!`!a'i!a!}#P!}#O*g#O#P#P#P#Q+Q#Q#o#P#o#p+k#p#q'i#q#r,U#r;'S#P;'S;=`#z<%l?HT#P?HT?HU,o?HUO#PQ#UU!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PQ#kTOY#PZs#Pt;'S#P;'S;=`#z<%lO#PQ#}P;=`<%l#P~$VQ!f~XY$Qpq$Q~$bO!g~~$gS^~OY$bZ;'S$b;'S;=`$s<%lO$b~$vP;=`<%l$bR%OX!WQOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR%rX!WQ!VPOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR&bP;=`<%l%kR&lUoP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'VUmP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'p[!PP!WQOY#PZp#Ppq#hq{#P{|(f|}#P}!O(f!O!R#P!R![)p![;'S#P;'S;=`#z<%lO#PR(mW!PP!WQOY#PZp#Ppq#hq!R#P!R![)V![;'S#P;'S;=`#z<%lO#PR)^U!PP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR)wY!PP!WQOY#PZp#Ppq#hq{#P{|)V|}#P}!O)V!O;'S#P;'S;=`#z<%lO#PR*nUcP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+XUbP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+rUqP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,]UpP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,vU`P!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#P",tokenizers:[Gw,Vw,ox,sx,0,1],topRules:{Stream:[0,15]},tokenPrec:0}),cx=Wt({}),dx={html:I_,js:W_.configure({dialect:"js"}),jsx:W_.configure({dialect:"jsx"}),ts:W_.configure({dialect:"ts"}),tsx:W_.configure({dialect:"tsx"}),json:V_,md:nw,py:kw,xml:Mw,yaml:lx},hx={html:"html",htm:"html",javascript:"js",js:"js",jsx:"jsx",typescript:"ts",ts:"ts",tsx:"tsx",json:"json",markdown:"md",md:"md",python:"py",py:"py",xml:"xml",yaml:"yaml",yml:"yaml"},px=Jn(e=>{const t=In(cx);if(void 0===e.language||void 0===t[e.language])return dn(Tt,{children:e.code});const n=t[e.language].parse(e.code);return dn(Tt,{children:wS(nS(e.code,n),{Fragment:Tt,jsx:dn,jsxs:dn})})}),fx=Object.assign(function(e){let{children:t,className:n}=e,i=m(e,P);return dn("div",p(p({className:mg("group relative my-4 self-stretch rounded-bubble bg-base-active shadow-header overflow-hidden",n)},i),{},{children:t}))},{Actions:function(e){let{children:t,className:n}=e,i=m(e,R);return dn("div",p(p({className:mg("absolute top-1 right-1 z-10 flex items-center gap-1 transition-opacity duration-200 ease-out opacity-0 pointer-events-none group-hover:opacity-100 group-hover:pointer-events-auto group-focus-within:opacity-100 group-focus-within:pointer-events-auto",n)},i),{},{children:t}))},Content:function(e){let{children:t,className:n}=e,i=m(e,I);return dn("div",p(p({className:n},i),{},{children:t}))}}),mx=Wt(""),Ox=e=>{let{code:t,language:n,className:i}=e,r=m(e,Q);const a=hx[n],{isCopied:o,copyToClipboard:s,disabled:u}=function({code:e,onCopy:t,onError:n,timeout:i=2e3}={}){const r=Ar(!1),a=wn(0),o=In(mx),{isAnimating:s}=In(cQ),u=null!=e?e:o,l=Rn(async()=>{var e;if(typeof window>"u"||null==(e=null==navigator?void 0:navigator.clipboard)||!e.writeText)null==n||n(new Error("Clipboard API not available"));else try{r.value||(await navigator.clipboard.writeText(u),r.value=!0,null==t||t(),a.current=window.setTimeout(()=>{r.value=!1},i))}catch(e){null==n||n(e)}},[u,r,t,n,i]);return _n(()=>()=>{window.clearTimeout(a.current)},[]),{isCopied:r,copyToClipboard:l,disabled:s}}({code:t}),l=Sm(),c=Ar(!1),d=function(){const e=ha("syntax-highlight-theme"),t=hm();return Sr(()=>{var n,i,r;const a=null!==(n=e.value)&&void 0!==n?n:t.value.syntax_highlight_theme;if("light"===a||"dark"===a)return a;const o=null!==(i=null==(r=t.value.styles)?void 0:r.base_active)&&void 0!==i?i:sa.base_active,s=new ea(o);return s.isValid&&s.isDark()?"dark":"light"})}();return dn(mx.Provider,{value:t,children:dn(fx,{"data-code-block-container":!0,"data-language":n,children:[dn(fx.Actions,{children:[dn(wg,{"aria-label":l.wrap.value,disabled:u,icon:"wrap",onClick:()=>c.value=!c.value,variant:"md-button",children:l.wrap.value}),dn(wg,{"aria-label":o.value?l.copied.value:l.copy.value,disabled:u,icon:o.value?"check":"copy",onClick:s,variant:"md-button",children:o.value?l.copied.value:l.copy.value})]}),dn(fx.Content,{className:mg(c.value?"overflow-x-hidden":"overflow-x-auto"),children:dn("div",p(p({className:mg("pt-1.5 pb-2",i),"data-code-block":!0,"data-language":n,"data-syntax-theme":d.value},r),{},{children:dn("pre",{className:mg("m-0 font-mono text-[13px] px-4 py-1.5",c.value?"whitespace-pre-wrap overflow-x-hidden":"whitespace-pre overflow-x-auto"),children:dn("code",{className:mg("block",c.value?"whitespace-pre-wrap break-all":"whitespace-pre"),children:dn(px,{code:t,language:a})})})}))})]})})};function gx(e){const{headers:t,rows:n}=e;if(0===t.length)return"";const i=[],r=t.map(e=>e.replace(/\|/g,"\\|"));i.push(`| ${r.join(" | ")} |`),i.push(`| ${t.map(()=>"---").join(" | ")} |`);for(const e of n){const n=[...e];for(;n.length<t.length;)n.push("");const r=n.map(e=>e.replace(/\|/g,"\\|"));i.push(`| ${r.join(" | ")} |`)}return i.join("\n")}const Dx=e=>{let{children:t,className:n}=e,i=m(e,B);const{isCopied:r,copyTableData:a,disabled:o}=function({onCopy:e,onError:t,timeout:n=2e3}={}){const i=Ar(!1),r=wn(0),{isAnimating:a}=In(cQ);return _n(()=>()=>{window.clearTimeout(r.current)},[]),{isCopied:i,copyTableData:async a=>{var o;if(typeof window>"u"||null==(o=null==navigator?void 0:navigator.clipboard)||!o.write)null==t||t(new Error("Clipboard API not available"));else try{if(!i.value){const o=a.currentTarget.closest('[data-streamdown="table-wrapper"]'),s=null==o?void 0:o.querySelector("table");if(!s)return void(null==t||t(new Error("Table not found")));const u=function(e){var t,n;const i=[],r=[],a=e.querySelectorAll("thead th");for(const e of Array.from(a))i.push((null==(t=e.textContent)?void 0:t.trim())||"");const o=e.querySelectorAll("tbody tr");for(const e of Array.from(o)){const t=[],i=e.querySelectorAll("td");for(const e of Array.from(i))t.push((null==(n=e.textContent)?void 0:n.trim())||"");r.push(t)}return{headers:i,rows:r}}(s),l=new ClipboardItem({"text/plain":gx(u),"text/html":new Blob([s.outerHTML],{type:"text/html"})});await navigator.clipboard.write([l]),i.value=!0,null==e||e(),r.current=window.setTimeout(()=>i.value=!1,n)}}catch(e){null==t||t(e)}},disabled:a}}(),s=Sm();return dn(fx,{"data-streamdown":"table-wrapper",children:[dn(fx.Actions,{children:dn(wg,{"aria-label":r.value?s.copied.value:s.copy.value,disabled:o,icon:r.value?"check":"copy",onClick:a,variant:"md-button",children:r.value?s.copied.value:s.copy.value})}),dn(fx.Content,{className:"overflow-x-auto",children:dn("table",p(p({className:mg("w-full border-collapse border border-base-border",n),"data-streamdown":"table"},i),{},{children:t}))})]})},vx=/language-([^\s]+)/;function Ex(e,t){return e.className===t.className&&function(e,t){if(!(null!=e&&e.position||null!=t&&t.position))return!0;if(null==e||!e.position||null==t||!t.position)return!1;const n=e.position.start,i=t.position.start,r=e.position.end,a=t.position.end;return(null==n?void 0:n.line)===(null==i?void 0:i.line)&&(null==n?void 0:n.column)===(null==i?void 0:i.column)&&(null==r?void 0:r.line)===(null==a?void 0:a.line)&&(null==r?void 0:r.column)===(null==a?void 0:a.column)}(e.node,t.node)}const Cx=Jn(e=>{let{children:t,className:n,node:i}=e,r=m(e,M);return dn("ol",p(p({className:mg("ml-4 mb-2 list-outside list-decimal whitespace-normal text-sm",n),"data-streamdown":"ordered-list"},r),{},{children:t}))},(e,t)=>Ex(e,t));Cx.displayName="MarkdownOl";const bx=Jn(e=>{let{children:t,className:n,node:i}=e,r=m(e,L);return dn("li",p(p({className:mg("py-1",n),"data-streamdown":"list-item"},r),{},{children:t}))},(e,t)=>Ex(e,t));bx.displayName="MarkdownLi";const kx=Jn(e=>{let{children:t,className:n,node:i}=e,r=m(e,$);return dn("ul",p(p({className:mg("ml-4 list-outside list-disc whitespace-normal text-sm",n),"data-streamdown":"unordered-list"},r),{},{children:t}))},(e,t)=>Ex(e,t));kx.displayName="MarkdownUl";const Tx=Jn(e=>{let{className:t,node:n}=e,i=m(e,U);return dn("hr",p({className:mg("my-6 border-base-border",t),"data-streamdown":"horizontal-rule"},i))},(e,t)=>Ex(e,t));Tx.displayName="MarkdownHr";const yx=Jn(e=>{let{children:t,className:n,node:i}=e,r=m(e,q);return dn("span",p(p({className:mg("font-medium",n),"data-streamdown":"strong"},r),{},{children:t}))},(e,t)=>Ex(e,t));yx.displayName="MarkdownStrong";const Ax=Jn(e=>{let{children:t,className:n,href:i,node:r}=e,a=m(e,X);const o="streamdown:incomplete-link"===i;return dn("a",p(p({className:mg("wrap-anywhere font-medium underline",n),"data-incomplete":o,"data-streamdown":"link",href:i,rel:"noreferrer",target:"_blank"},a),{},{children:t}))},(e,t)=>Ex(e,t)&&e.href===t.href);Ax.displayName="MarkdownA";const Sx=Jn(e=>{let{children:t,className:n,node:i}=e,r=m(e,z);return dn("h1",p(p({className:mg("mt-6 mb-2 text-base-primary font-semibold text-xl",n),"data-streamdown":"heading-1"},r),{},{children:t}))},(e,t)=>Ex(e,t));Sx.displayName="MarkdownH1";const _x=Jn(e=>{let{children:t,className:n,node:i}=e,r=m(e,Z);return dn("h2",p(p({className:mg("mt-3 mb-2 text-base-primary font-semibold text-lg",n),"data-streamdown":"heading-2"},r),{},{children:t}))},(e,t)=>Ex(e,t));_x.displayName="MarkdownH2";const Fx=Jn(e=>{let{children:t,className:n,node:i}=e,r=m(e,j);return dn("h3",p(p({className:mg("mt-3 mb-1 text-base-primary font-semibold text-md",n),"data-streamdown":"heading-3"},r),{},{children:t}))},(e,t)=>Ex(e,t));Fx.displayName="MarkdownH3";const wx=Jn(e=>{let{children:t,className:n,node:i}=e,r=m(e,W);return dn("h4",p(p({className:mg("mt-3 mb-1 text-base-primary font-semibold text-sm",n),"data-streamdown":"heading-4"},r),{},{children:t}))},(e,t)=>Ex(e,t));wx.displayName="MarkdownH4";const xx=Jn(e=>{let{children:t,className:n,node:i}=e,r=m(e,G);return dn("h5",p(p({className:mg("mt-3 mb-0.5 text-base-primary font-semibold text-sm",n),"data-streamdown":"heading-5"},r),{},{children:t}))},(e,t)=>Ex(e,t));xx.displayName="MarkdownH5";const Px=Jn(e=>{let{children:t,className:n,node:i}=e,r=m(e,V);return dn("h6",p(p({className:mg("mt-3 text-base-primary font-semibold text-sm",n),"data-streamdown":"heading-6"},r),{},{children:t}))},(e,t)=>Ex(e,t));Px.displayName="MarkdownH6";const Rx=Jn(e=>{let{node:t}=e,n=m(e,Y);return dn(Dx,p({},n))},(e,t)=>Ex(e,t));Rx.displayName="MarkdownTable";const Ix=Jn(e=>{let{children:t,className:n,node:i}=e,r=m(e,H);return dn("thead",p(p({className:mg("bg-base-active/80",n),"data-streamdown":"table-header"},r),{},{children:t}))},(e,t)=>Ex(e,t));Ix.displayName="MarkdownThead";const Qx=Jn(e=>{let{children:t,className:n,node:i}=e,r=m(e,K);return dn("tbody",p(p({className:mg("divide-y divide-base-border bg-base-active/40",n),"data-streamdown":"table-body"},r),{},{children:t}))},(e,t)=>Ex(e,t));Qx.displayName="MarkdownTbody";const Nx=Jn(e=>{let{children:t,className:n,node:i}=e,r=m(e,J);return dn("tr",p(p({className:mg("border-base-border border-b",n),"data-streamdown":"table-row"},r),{},{children:t}))},(e,t)=>Ex(e,t));Nx.displayName="MarkdownTr";const Bx=Jn(e=>{let{children:t,className:n,node:i}=e,r=m(e,ee);return dn("th",p(p({className:mg("whitespace-nowrap px-4 py-2 text-left font-medium text-sm",n),"data-streamdown":"table-header-cell"},r),{},{children:t}))},(e,t)=>Ex(e,t));Bx.displayName="MarkdownTh";const Mx=Jn(e=>{let{children:t,className:n,node:i}=e,r=m(e,te);return dn("td",p(p({className:mg("px-4 py-2 text-sm",n),"data-streamdown":"table-cell"},r),{},{children:t}))},(e,t)=>Ex(e,t));Mx.displayName="MarkdownTd";const Lx=Jn(e=>{let{children:t,className:n,node:i}=e,r=m(e,ne);return dn("blockquote",p(p({className:mg("my-4 border-base-subtle/30 border-l-4 pl-4 text-base-subtle italic",n),"data-streamdown":"blockquote"},r),{},{children:t}))},(e,t)=>Ex(e,t));Lx.displayName="MarkdownBlockquote";const $x=Jn(e=>{let{children:t,className:n,node:i}=e,r=m(e,ie);return dn("sup",p(p({className:mg("text-sm",n),"data-streamdown":"superscript"},r),{},{children:t}))},(e,t)=>Ex(e,t));$x.displayName="MarkdownSup";const Ux=Jn(e=>{let{children:t,className:n,node:i}=e,r=m(e,re);return dn("sub",p(p({className:mg("text-sm",n),"data-streamdown":"subscript"},r),{},{children:t}))},(e,t)=>Ex(e,t));Ux.displayName="MarkdownSub";const qx=Jn(e=>{let{children:t,className:n,node:i}=e,r=m(e,ae);if("data-footnotes"in r){const e=e=>{var t,n;if(!Ni(e))return!1;const i=e,r=Array.isArray(i.props.children)?i.props.children:[i.props.children];let a=!1,o=!1;for(const e of r)if(e)if("string"==typeof e)""!==e.trim()&&(a=!0);else if(Ni(e))if(void 0!==(null==(t=e.props)?void 0:t["data-footnote-backref"]))o=!0;else{const t=Array.isArray(e.props.children)?e.props.children:[e.props.children];for(const e of t){if("string"==typeof e&&""!==e.trim()){a=!0;break}if(Ni(e)&&void 0===(null==(n=e.props)?void 0:n["data-footnote-backref"])){a=!0;break}}}return o&&!a},i=Array.isArray(t)?t.map(t=>{if(!Ni(t))return t;if(t.type===Cx){const n=(Array.isArray(t.props.children)?t.props.children:[t.props.children]).filter(t=>!e(t));return 0===n.length?null:p(p({},t),{},{props:p(p({},t.props),{},{children:n})})}return t}):t;return(Array.isArray(i)?i.some(e=>null!==e):null!==i)?dn("section",p(p({className:n},r),{},{children:i})):null}return dn("section",p(p({className:n},r),{},{children:t}))},(e,t)=>Ex(e,t));qx.displayName="MarkdownSection";const Xx=Jn(e=>{var t;let{node:n,className:i,children:r}=e,a=m(e,oe);var o,s;if((null==(o=null==n?void 0:n.position)?void 0:o.start.line)===(null==(s=null==n?void 0:n.position)?void 0:s.end.line))return dn("code",p(p({className:mg("rounded bg-base-active px-1.5 py-0.5 font-mono text-sm",i),"data-streamdown":"inline-code"},a),{},{children:r}));const u="string"==typeof i?i.match(vx):null,l=null!==(t=null==u?void 0:u.at(1))&&void 0!==t?t:"";let c="";if(Ni(r)){const e=r;e.props&&"object"==typeof e.props&&"children"in e.props&&"string"==typeof e.props.children&&(c=e.props.children)}else"string"==typeof r&&(c=r);return dn(Ox,{code:c,"data-language":l,"data-streamdown":"code-block",language:l})},(e,t)=>Ex(e,t));Xx.displayName="MarkdownCode";const zx=Jn(e=>{let{node:t,className:n,src:i,alt:r}=e,a=m(e,N);const{downloadImage:o,disabled:s}=function({src:e,alt:t,onError:n}){const{isAnimating:i}=In(cQ);return{downloadImage:Rn(async()=>{var i;if(e)try{const n=await(await fetch(e.toString())).blob(),r=new URL(e.toString(),window.location.origin).pathname.split("/").pop()||"",a=r.includes(".")&&(null==(i=r.split(".").pop())?void 0:i.length)<=4;let o="";if(a)o=r;else{const e=n.type;let i="png";e.includes("jpeg")||e.includes("jpg")?i="jpg":e.includes("png")?i="png":e.includes("svg")?i="svg":e.includes("gif")?i="gif":e.includes("webp")&&(i="webp"),o=`${(t||r||"image").toString().replace(/\.[^/.]+$/,"")}.${i}`}((e,t,n)=>{const i="string"==typeof t?new Blob([t],{type:n}):t,r=URL.createObjectURL(i),a=document.createElement("a");a.href=r,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r)})(o,n,n.type)}catch(e){console.error("Failed to download image:",e),null==n||n(e)}},[e,t,n]),disabled:i}}({src:(null==i?void 0:i.toString())||"",alt:null==r?void 0:r.toString()}),u=Sm();return i?dn(fx,{className:"inline-block self-auto","data-streamdown":"image-wrapper",children:[dn(fx.Actions,{children:dn(wg,{"aria-label":u.download.value,disabled:s,icon:"download",onClick:o,variant:"md-button",children:u.download.value})}),dn(fx.Content,{children:dn("img",p({alt:r,className:mg("max-w-full",n),"data-streamdown":"image",src:i},a))})]}):null},(e,t)=>Ex(e,t));zx.displayName="MarkdownImg";const Zx=Jn(e=>{let{children:t,className:n,node:i}=e,r=m(e,se);const a=(Array.isArray(t)?t:[t]).filter(e=>null!=e&&""!==e);return a.some(e=>{var t,n;return Ni(e)&&"img"===(null==(n=null==(t=null==e?void 0:e.props)?void 0:t.node)?void 0:n.tagName)})?1===a.length?dn(Tt,{children:t}):dn("div",p(p({className:mg("text-sm",n)},r),{},{children:t})):dn("p",p(p({className:mg("text-sm mb-3",n)},r),{},{children:t}))},(e,t)=>Ex(e,t));Zx.displayName="MarkdownParagraph";const jx={ol:Cx,li:bx,ul:kx,hr:Tx,strong:yx,a:Ax,h1:Sx,h2:_x,h3:Fx,h4:wx,h5:xx,h6:Px,table:Rx,thead:Ix,tbody:Qx,tr:Nx,th:Bx,td:Mx,blockquote:Lx,code:Xx,img:zx,pre:Tt,sup:$x,sub:Ux,p:Zx,section:qx},Wx={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,function(n){if(null!==n)return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),GT(e,t,"linePrefix");e.consume(n)},function(t){return e.enter("paragraph"),i(t)});let n;return t;function i(t){const i=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=i),n=i,r(t)}function r(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):_b(t)?(e.consume(t),e.exit("chunkText"),i):(e.consume(t),r)}}},Gx={tokenize:function(e){const t=this,n=[];let i,r,a,o=0;return s;function s(i){if(o<n.length){const r=n[o];return t.containerState=r[1],e.attempt(r[0].continuation,u,l)(i)}return l(i)}function u(e){if(o++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const n=t.events.length;let r,a=n;for(;a--;)if("exit"===t.events[a][0]&&"chunkFlow"===t.events[a][1].type){r=t.events[a][1].end;break}D(o);let s=n;for(;s<t.events.length;)t.events[s][1].end=p({},r),s++;return Hb(t.events,a+1,0,t.events.slice(n)),t.events.length=s,l(e)}return s(e)}function l(r){if(o===n.length){if(!i)return h(r);if(i.currentConstruct&&i.currentConstruct.concrete)return m(r);t.interrupt=!(!i.currentConstruct||i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Vx,c,d)(r)}function c(e){return i&&v(),D(o),h(e)}function d(e){return t.parser.lazy[t.now().line]=o!==n.length,a=t.now().offset,m(e)}function h(n){return t.containerState={},e.attempt(Vx,f,m)(n)}function f(e){return o++,n.push([t.currentConstruct,t.containerState]),h(e)}function m(n){return null===n?(i&&v(),D(0),void e.consume(n)):(i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:r}),O(n))}function O(n){return null===n?(g(e.exit("chunkFlow"),!0),D(0),void e.consume(n)):_b(n)?(e.consume(n),g(e.exit("chunkFlow")),o=0,t.interrupt=void 0,s):(e.consume(n),O)}function g(e,n){const s=t.sliceStream(e);if(n&&s.push(null),e.previous=r,r&&(r.next=e),r=e,i.defineSkip(e.start),i.write(s),t.parser.lazy[e.start.line]){let e=i.events.length;for(;e--;)if(i.events[e][1].start.offset<a&&(!i.events[e][1].end||i.events[e][1].end.offset>a))return;const n=t.events.length;let r,s,u=n;for(;u--;)if("exit"===t.events[u][0]&&"chunkFlow"===t.events[u][1].type){if(r){s=t.events[u][1].end;break}r=!0}for(D(o),e=n;e<t.events.length;)t.events[e][1].end=p({},s),e++;Hb(t.events,u+1,0,t.events.slice(n)),t.events.length=e}}function D(i){let r=n.length;for(;r-- >i;){const i=n[r];t.containerState=i[1],i[0].exit.call(t,e)}n.length=i}function v(){i.write([null]),r=void 0,i=void 0,t.containerState._closeFlow=void 0}}},Vx={tokenize:function(e,t,n){return GT(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},Yx={tokenize:function(e){const t=this,n=e.attempt(VT,function(i){if(null!==i)return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n;e.consume(i)},e.attempt(this.parser.constructs.flowInitial,i,GT(e,e.attempt(this.parser.constructs.flow,i,e.attempt(uy,i)),"linePrefix")));return n;function i(i){if(null!==i)return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(i)}}},Hx={resolveAll:tP()},Kx=eP("string"),Jx=eP("text");function eP(e){return{resolveAll:tP("text"===e?nP:void 0),tokenize:function(t){const n=this,i=this.parser.constructs[e],r=t.attempt(i,a,o);return a;function a(e){return u(e)?r(e):o(e)}function o(e){if(null!==e)return t.enter("data"),t.consume(e),s;t.consume(e)}function s(e){return u(e)?(t.exit("data"),r(e)):(t.consume(e),s)}function u(e){if(null===e)return!0;const t=i[e];let r=-1;if(t)for(;++r<t.length;){const e=t[r];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}}function tP(e){return function(t,n){let i,r=-1;for(;++r<=t.length;)void 0===i?t[r]&&"data"===t[r][1].type&&(i=r,r++):(!t[r]||"data"!==t[r][1].type)&&(r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),r=i+2),i=void 0);return e?e(t,n):t}}function nP(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const i=e[n-1][1],r=t.sliceStream(i);let a,o=r.length,s=-1,u=0;for(;o--;){const e=r[o];if("string"==typeof e){for(s=e.length;32===e.charCodeAt(s-1);)u++,s--;if(s)break;s=-1}else if(-2===e)a=!0,u++;else if(-1!==e){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(u=0),u){const r={type:n===e.length||a||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?s:i.start._bufferIndex+s,_index:i.start._index+o,line:i.end.line,column:i.end.column-u,offset:i.end.offset-u},end:p({},i.end)};i.end=p({},r.start),i.start.offset===i.end.offset?Object.assign(i,r):(e.splice(n,0,["enter",r,t],["exit",r,t]),n+=2)}n++}return e}const iP={42:Py,43:Py,45:Py,48:Py,49:Py,50:Py,51:Py,52:Py,53:Py,54:Py,55:Py,56:Py,57:Py,62:YT},rP={91:fy},aP={[-2]:ty,[-1]:ty,32:ty},oP={35:gy,42:xy,45:[Qy,xy],60:Ey,61:Qy,95:xy,96:ey,126:ey},sP={38:KT,92:HT},uP={[-5]:wy,[-4]:wy,[-3]:wy,33:_y,38:KT,42:ZT,60:[WT,ky],91:Fy,92:[Oy,HT],93:Ty,95:ZT,96:iy},lP={null:[ZT,Hx]},cP=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:rP,disable:{null:[]},document:iP,flow:oP,flowInitial:aP,insideSpan:lP,string:sP,text:uP},Symbol.toStringTag,{value:"Module"}));const dP=/[\0\t\n\r]/g,hP={}.hasOwnProperty;function pP(e,t,n){return"string"!=typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:r(D),autolinkProtocol:c,autolinkEmail:c,atxHeading:r(m),blockQuote:r(function(){return{type:"blockquote",children:[]}}),characterEscape:c,characterReference:c,codeFenced:r(f),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:r(f,a),codeText:r(function(){return{type:"inlineCode",value:""}},a),codeTextData:c,data:c,codeFlowValue:c,definition:r(function(){return{type:"definition",identifier:"",label:null,title:null,url:""}}),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:r(function(){return{type:"emphasis",children:[]}}),hardBreakEscape:r(O),hardBreakTrailing:r(O),htmlFlow:r(g,a),htmlFlowData:c,htmlText:r(g,a),htmlTextData:c,image:r(function(){return{type:"image",title:null,url:"",alt:null}}),label:a,link:r(D),listItem:r(function(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}),listItemValue:function(e){this.data.expectingFirstListItemValue&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0)},listOrdered:r(v,function(){this.data.expectingFirstListItemValue=!0}),listUnordered:r(v),paragraph:r(function(){return{type:"paragraph",children:[]}}),reference:function(){this.data.referenceType="collapsed"},referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:r(m),strong:r(function(){return{type:"strong",children:[]}}),thematicBreak:r(function(){return{type:"thematicBreak"}})},exit:{atxHeading:s(),atxHeadingSequence:function(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}},autolink:s(),autolinkEmail:function(e){d.call(this,e),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)},autolinkProtocol:function(e){d.call(this,e),this.stack[this.stack.length-1].url=this.sliceSerialize(e)},blockQuote:s(),characterEscapeValue:d,characterReferenceMarkerHexadecimal:p,characterReferenceMarkerNumeric:p,characterReferenceValue:function(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let i;n?(i=dT(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0):i=cT(t),this.stack[this.stack.length-1].value+=i},characterReference:function(e){this.stack.pop().position.end=fP(e.end)},codeFenced:s(function(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}),codeFencedFence:function(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)},codeFencedFenceInfo:function(){const e=this.resume();this.stack[this.stack.length-1].lang=e},codeFencedFenceMeta:function(){const e=this.resume();this.stack[this.stack.length-1].meta=e},codeFlowValue:d,codeIndented:s(function(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}),codeText:s(function(){const e=this.resume();this.stack[this.stack.length-1].value=e}),codeTextData:d,data:d,definition:s(),definitionDestinationString:function(){const e=this.resume();this.stack[this.stack.length-1].url=e},definitionLabelString:function(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=gk(this.sliceSerialize(e)).toLowerCase()},definitionTitleString:function(){const e=this.resume();this.stack[this.stack.length-1].title=e},emphasis:s(),hardBreakEscape:s(h),hardBreakTrailing:s(h),htmlFlow:s(function(){const e=this.resume();this.stack[this.stack.length-1].value=e}),htmlFlowData:d,htmlText:s(function(){const e=this.resume();this.stack[this.stack.length-1].value=e}),htmlTextData:d,image:s(function(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}),label:function(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t},labelText:function(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(hT,pT)}(t),n.identifier=gk(t).toLowerCase()},lineEnding:function(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak)return n.children[n.children.length-1].position.end=fP(e.end),void(this.data.atHardBreak=void 0);!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(c.call(this,e),d.call(this,e))},link:s(function(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}),listItem:s(),listOrdered:s(),listUnordered:s(),paragraph:s(),referenceString:function(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=gk(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"},resourceDestinationString:function(){const e=this.resume();this.stack[this.stack.length-1].url=e},resourceTitleString:function(){const e=this.resume();this.stack[this.stack.length-1].title=e},resource:function(){this.data.inReference=void 0},setextHeading:s(function(){this.data.setextHeadingSlurpLineEnding=void 0}),setextHeadingLineSequence:function(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2},setextHeadingText:function(){this.data.setextHeadingSlurpLineEnding=!0},strong:s(),thematicBreak:s()}};mP(t,(e||{}).mdastExtensions||[]);const n={};return function(e){let r={type:"root",children:[]};const s={stack:[r],tokenStack:[],config:t,enter:o,exit:u,buffer:a,resume:l,data:n},c=[];let d=-1;for(;++d<e.length;)"listOrdered"!==e[d][1].type&&"listUnordered"!==e[d][1].type||("enter"===e[d][0]?c.push(d):d=i(e,c.pop(),d));for(d=-1;++d<e.length;){const n=t[e[d][0]];hP.call(n,e[d][1].type)&&n[e[d][1].type].call(Object.assign({sliceSerialize:e[d][2].sliceSerialize},s),e[d][1])}if(s.tokenStack.length>0){const e=s.tokenStack[s.tokenStack.length-1];(e[1]||gP).call(s,void 0,e[0])}for(r.position={start:fP(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:fP(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},d=-1;++d<t.transforms.length;)r=t.transforms[d](r)||r;return r};function i(e,t,n){let i,r,a,o,s=t-1,u=-1,l=!1;for(;++s<=n;){const t=e[s];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?u++:u--,o=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(i&&!o&&!u&&!a&&(a=s),o=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:o=void 0}if(!u&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===u&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(i){let o=s;for(r=void 0;o--;){const t=e[o];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;r&&(e[r][1].type="lineEndingBlank",l=!0),t[1].type="lineEnding",r=o}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}a&&(!r||a<r)&&(i._spread=!0),i.end=Object.assign({},r?e[r][1].start:t[1].end),e.splice(r||s,0,["exit",i,t[2]]),s++,n++}if("listItemPrefix"===t[1].type){const r={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};i=r,e.splice(s,0,["enter",r,t[2]]),s++,n++,a=void 0,o=!0}}}return e[t][1]._spread=l,n}function r(e,t){return function(n){o.call(this,e(n),n),t&&t.call(this,n)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:fP(t.start),end:void 0}}function s(e){return function(t){e&&e.call(this,t),u.call(this,t)}}function u(e,t){const n=this.stack.pop(),i=this.tokenStack.pop();if(!i)throw new Error("Cannot close `"+e.type+"` ("+vS({start:e.start,end:e.end})+"): its not open");i[0].type!==e.type&&(t?t.call(this,e,i[0]):(i[1]||gP).call(this,e,i[0])),n.position.end=fP(e.end)}function l(){return Gk(this.stack.pop())}function c(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];(!n||"text"!==n.type)&&(n={type:"text",value:""},n.position={start:fP(e.start),end:void 0},t.push(n)),this.stack.push(n)}function d(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=fP(e.end)}function h(){this.data.atHardBreak=!0}function p(e){this.data.characterReferenceType=e.type}function f(){return{type:"code",lang:null,meta:null,value:""}}function m(){return{type:"heading",depth:0,children:[]}}function O(){return{type:"break"}}function g(){return{type:"html",value:""}}function D(){return{type:"link",title:null,url:"",children:[]}}function v(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}}(n)(function(e){for(;!oy(e););return e}(function(e){const t={constructs:AT([cP,...(e||{}).extensions||[]]),content:n(Wx),defined:[],document:n(Gx),flow:n(Yx),lazy:{},string:n(Kx),text:n(Jx)};return t;function n(e){return function(n){return function(e,t,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const r={},a=[];let o=[],s=[];const u={attempt:m(function(e,t){O(e,t.from)}),check:m(f),consume:function(e){_b(e)?(i.line++,i.column=1,i.offset+=-3===e?2:1,g()):-1!==e&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===o[i._index].length&&(i._bufferIndex=-1,i._index++)),l.previous=e},enter:function(e,t){const n=t||{};return n.type=e,n.start=h(),l.events.push(["enter",n,l]),s.push(n),n},exit:function(e){const t=s.pop();return t.end=h(),l.events.push(["exit",t,l]),t},interrupt:m(f,{interrupt:!0})},l={code:null,containerState:{},defineSkip:function(e){r[e.line]=e.column,g()},events:[],now:h,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let n=-1;const i=[];let r;for(;++n<e.length;){const a=e[n];let o;if("string"==typeof a)o=a;else switch(a){case-5:o="\r";break;case-4:o="\n";break;case-3:o="\r\n";break;case-2:o=t?" ":"\t";break;case-1:if(!t&&r)continue;o=" ";break;default:o=String.fromCharCode(a)}r=-2===a,i.push(o)}return i.join("")}(d(e),t)},sliceStream:d,write:function(e){return o=Kb(o,e),function(){let e;for(;i._index<o.length;){const t=o[i._index];if("string"==typeof t)for(e=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===e&&i._bufferIndex<t.length;)p(t.charCodeAt(i._bufferIndex));else p(t)}}(),null!==o[o.length-1]?[]:(O(t,0),l.events=Jb(a,l.events,l),l.events)}};let c=t.tokenize.call(l,u);return t.resolveAll&&a.push(t),l;function d(e){return function(e,t){const n=t.start._index,i=t.start._bufferIndex,r=t.end._index,a=t.end._bufferIndex;let o;if(n===r)o=[e[n].slice(i,a)];else{if(o=e.slice(n,r),i>-1){const e=o[0];"string"==typeof e?o[0]=e.slice(i):o.shift()}a>0&&o.push(e[r].slice(0,a))}return o}(o,e)}function h(){const{_bufferIndex:e,_index:t,line:n,column:r,offset:a}=i;return{_bufferIndex:e,_index:t,line:n,column:r,offset:a}}function p(e){c=c(e)}function f(e,t){t.restore()}function m(e,t){return function(n,r,a){let o,c,d,p;return Array.isArray(n)?m(n):"tokenize"in n?m([n]):(f=n,function(e){const t=null!==e&&f[e],n=null!==e&&f.null;return m([...Array.isArray(t)?t:t?[t]:[],...Array.isArray(n)?n:n?[n]:[]])(e)});var f;function m(e){return o=e,c=0,0===e.length?a:O(e[c])}function O(e){return function(n){return p=function(){const e=h(),t=l.previous,n=l.currentConstruct,r=l.events.length,a=Array.from(s);return{from:r,restore:function(){i=e,l.previous=t,l.currentConstruct=n,l.events.length=r,s=a,g()}}}(),d=e,e.partial||(l.currentConstruct=e),e.name&&l.parser.constructs.disable.null.includes(e.name)?v():e.tokenize.call(t?Object.assign(Object.create(l),t):l,u,D,v)(n)}}function D(t){return e(d,p),r}function v(e){return p.restore(),++c<o.length?O(o[c]):a}}}function O(e,t){e.resolveAll&&!a.includes(e)&&a.push(e),e.resolve&&Hb(l.events,t,l.events.length-t,e.resolve(l.events.slice(t),l)),e.resolveTo&&(l.events=e.resolveTo(l.events,l))}function g(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}(t,e,n)}}}(n).document().write(function(){let e,t=1,n="",i=!0;return function(r,a,o){const s=[];let u,l,c,d,h;for(r=n+("string"==typeof r?r.toString():new TextDecoder(a||void 0).decode(r)),c=0,n="",i&&(65279===r.charCodeAt(0)&&c++,i=void 0);c<r.length;){if(dP.lastIndex=c,u=dP.exec(r),d=u&&void 0!==u.index?u.index:r.length,h=r.charCodeAt(d),!u){n=r.slice(c);break}if(10===h&&c===d&&e)s.push(-3),e=void 0;else switch(e&&(s.push(-5),e=void 0),c<d&&(s.push(r.slice(c,d)),t+=d-c),h){case 0:s.push(65533),t++;break;case 9:for(l=4*Math.ceil(t/4),s.push(-2);t++<l;)s.push(-1);break;case 10:s.push(-4),t=1;break;default:e=!0,t=1}c=d+1}return o&&(e&&s.push(-5),n&&s.push(n),s.push(null)),s}}()(e,t,!0))))}function fP(e){return{line:e.line,column:e.column,offset:e.offset}}function mP(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?mP(e,i):OP(e,i)}}function OP(e,t){let n;for(n in t)if(hP.call(t,n))switch(n){case"canContainEols":{const i=t[n];i&&e[n].push(...i);break}case"transforms":{const i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{const i=t[n];i&&Object.assign(e[n],i);break}}}function gP(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+vS({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+vS({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+vS({start:t.start,end:t.end})+") is still open")}function DP(e){const t=this;t.parser=function(n){return pP(n,p(p(p({},t.data("settings")),e),{},{extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]}))}}function vP(e,t){const n=t.referenceType;let i="]";if("collapsed"===n?i+="[]":"full"===n&&(i+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+i}];const r=e.all(t),a=r[0];a&&"text"===a.type?a.value="["+a.value:r.unshift({type:"text",value:"["});const o=r[r.length-1];return o&&"text"===o.type?o.value+=i:r.push({type:"text",value:i}),r}function EP(e){const t=e.spread;return null!=t?t:e.children.length>1}function CP(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),r=0;const a=[];for(;i;)a.push(bP(t.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=n.exec(t);return a.push(bP(t.slice(r),r>0,!1)),a.join("")}function bP(e,t,n){let i=0,r=e.length;if(t){let t=e.codePointAt(i);for(;9===t||32===t;)i++,t=e.codePointAt(i)}if(n){let t=e.codePointAt(r-1);for(;9===t||32===t;)r--,t=e.codePointAt(r-1)}return r>i?e.slice(i,r):""}const kP={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",i={},r=t.lang?t.lang.split(/\s+/):[];r.length>0&&(i.className=["language-"+r[0]]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),r=zT(i.toLowerCase()),a=e.footnoteOrder.indexOf(i);let o,s=e.footnoteCounts.get(i);void 0===s?(s=0,e.footnoteOrder.push(i),o=e.footnoteOrder.length):o=a+1,s+=1,e.footnoteCounts.set(i,s);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+r,id:n+"fnref-"+r+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,u);const l={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,l),e.applyData(t,l)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return vP(e,t);const r={src:zT(i.url||""),alt:t.alt};null!==i.title&&void 0!==i.title&&(r.title=i.title);const a={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,a),e.applyData(t,a)},image:function(e,t){const n={src:zT(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return vP(e,t);const r={href:zT(i.url||"")};null!==i.title&&void 0!==i.title&&(r.title=i.title);const a={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)},link:function(e,t){const n={href:zT(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)},listItem:function(e,t,n){const i=e.all(t),r=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=EP(n[i])}return t}(n):EP(t),a={},o=[];if("boolean"==typeof t.checked){const e=i[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},i.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let s=-1;for(;++s<i.length;){const e=i[s];(r||0!==s||"element"!==e.type||"p"!==e.tagName)&&o.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||r?o.push(e):o.push(...e.children)}const u=i[i.length-1];u&&(r||"element"!==u.type||"p"!==u.tagName)&&o.push({type:"text",value:"\n"});const l={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,l),e.applyData(t,l)},list:function(e,t){const n={},i=e.all(t);let r=-1;for("number"==typeof t.start&&1!==t.start&&(n.start=t.start);++r<i.length;){const e=i[r];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),i=n.shift(),r=[];if(i){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],n),r.push(n)}if(n.length>0){const i={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=Yg(t.children[1]),o=Vg(t.children[t.children.length-1]);a&&o&&(i.position={start:a,end:o}),r.push(i)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const i=n?n.children:void 0,r=0===(i?i.indexOf(t):1)?"th":"td",a=n&&"table"===n.type?n.align:void 0,o=a?a.length:t.children.length;let s=-1;const u=[];for(;++s<o;){const n=t.children[s],i={},o=a?a[s]:void 0;o&&(i.align=o);let l={type:"element",tagName:r,properties:i,children:[]};n&&(l.children=e.all(n),e.patch(n,l),l=e.applyData(n,l)),u.push(l)}const l={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,l),e.applyData(t,l)},text:function(e,t){const n={type:"text",value:CP(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:TP,yaml:TP,definition:TP,footnoteDefinition:TP};function TP(){}function yP(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function AP(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const SP={}.hasOwnProperty,_P={};function FP(e,t){const n=t||_P,i=new Map,r=new Map,a=new Map,o=p(p({},kP),n.handlers),s={all:function(e){const t=[];if("children"in e){const n=e.children;let i=-1;for(;++i<n.length;){const r=s.one(n[i],e);if(r){if(i&&"break"===n[i-1].type&&(!Array.isArray(r)&&"text"===r.type&&(r.value=IP(r.value)),!Array.isArray(r)&&"element"===r.type)){const e=r.children[0];e&&"text"===e.type&&(e.value=IP(e.value))}Array.isArray(r)?t.push(...r):t.push(r)}}}return t},applyData:xP,definitionById:i,footnoteById:r,footnoteCounts:a,footnoteOrder:[],handlers:o,one:function(e,t){const n=e.type,i=s.handlers[n];if(SP.call(s.handlers,n)&&i)return i(s,e,t);if(s.options.passThrough&&s.options.passThrough.includes(n)){if("children"in e){const{children:t}=e,n=m(e,ue),i=Gg(n);return i.children=s.all(e),i}return Gg(e)}return(s.options.unknownHandler||PP)(s,e,t)},options:n,patch:wP,wrap:RP};return jC(e,function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?i:r,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}}),s}function wP(e,t){e.position&&(t.position=Kg(e))}function xP(e,t){let n=t;if(e&&e.data){const t=e.data.hName,i=e.data.hChildren,r=e.data.hProperties;"string"==typeof t&&("element"===n.type?n.tagName=t:n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}),"element"===n.type&&r&&Object.assign(n.properties,Gg(r)),"children"in n&&n.children&&null!=i&&(n.children=i)}return n}function PP(e,t){const n=t.data||{},i=!("value"in t)||SP.call(n,"hProperties")||SP.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,i),e.applyData(t,i)}function RP(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:"\n"});++i<e.length;)i&&n.push({type:"text",value:"\n"}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function IP(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function QP(e,t){const n=FP(e,t),i=n.one(e,void 0),r=function(e){const t="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||yP,i=e.options.footnoteBackLabel||AP,r=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let u=-1;for(;++u<e.footnoteOrder.length;){const r=e.footnoteById.get(e.footnoteOrder[u]);if(!r)continue;const a=e.all(r),o=String(r.identifier).toUpperCase(),l=zT(o.toLowerCase());let c=0;const d=[],h=e.footnoteCounts.get(o);for(;void 0!==h&&++c<=h;){d.length>0&&d.push({type:"text",value:" "});let e="string"==typeof n?n:n(u,c);"string"==typeof e&&(e={type:"text",value:e}),d.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+l+(c>1?"-"+c:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof i?i:i(u,c),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const p=a[a.length-1];if(p&&"element"===p.type&&"p"===p.tagName){const e=p.children[p.children.length-1];e&&"text"===e.type?e.value+=" ":p.children.push({type:"text",value:" "}),p.children.push(...d)}else a.push(...d);const f={type:"element",tagName:"li",properties:{id:t+"fn-"+l},children:e.wrap(a,!0)};e.patch(r,f),s.push(f)}if(0!==s.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:p(p({},Gg(o)),{},{id:"footnote-label"}),children:[{type:"text",value:r}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:"\n"}]}}(n),a=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&a.children.push({type:"text",value:"\n"},r),a}function NP(e,t){return e&&"run"in e?async function(n,i){const r=QP(n,p({file:i},t));await e.run(r,i)}:function(n,i){return QP(n,p({file:i},e||t))}}function BP(e){if(e)throw e}var MP,LP,$P=function(){if(LP)return MP;LP=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===t.call(e)},a=function(n){if(!n||"[object Object]"!==t.call(n))return!1;var i,r=e.call(n,"constructor"),a=n.constructor&&n.constructor.prototype&&e.call(n.constructor.prototype,"isPrototypeOf");if(n.constructor&&!r&&!a)return!1;for(i in n);return typeof i>"u"||e.call(n,i)},o=function(e,t){n&&"__proto__"===t.name?n(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},s=function(t,n){if("__proto__"===n){if(!e.call(t,n))return;if(i)return i(t,n).value}return t[n]};return MP=function e(){var t,n,i,u,l,c,d=arguments[0],h=1,p=arguments.length,f=!1;for("boolean"==typeof d&&(f=d,d=arguments[1]||{},h=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});h<p;++h)if(null!=(t=arguments[h]))for(n in t)i=s(d,n),d!==(u=s(t,n))&&(f&&u&&(a(u)||(l=r(u)))?(l?(l=!1,c=i&&r(i)?i:[]):c=i&&a(i)?i:{},o(d,{name:n,newValue:e(f,c,u)})):typeof u<"u"&&o(d,{name:n,newValue:u}));return d}}();const UP=lS($P);function qP(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)}const XP=function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');GP(e);let n,i=0,r=-1,a=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;a--;)if(47===e.codePointAt(a)){if(n){i=a+1;break}}else r<0&&(n=!0,r=a+1);return r<0?"":e.slice(i,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;a--;)if(47===e.codePointAt(a)){if(n){i=a+1;break}}else o<0&&(n=!0,o=a+1),s>-1&&(e.codePointAt(a)===t.codePointAt(s--)?s<0&&(r=a):(s=-1,r=o));return i===r?r=o:r<0&&(r=e.length),e.slice(i,r)},zP=function(e){if(GP(e),0===e.length)return".";let t,n=-1,i=e.length;for(;--i;)if(47===e.codePointAt(i)){if(t){n=i;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},ZP=function(e){GP(e);let t,n=e.length,i=-1,r=0,a=-1,o=0;for(;n--;){const s=e.codePointAt(n);if(47!==s)i<0&&(t=!0,i=n+1),46===s?a<0?a=n:1!==o&&(o=1):a>-1&&(o=-1);else if(t){r=n+1;break}}return a<0||i<0||0===o||1===o&&a===i-1&&a===r+1?"":e.slice(a,i)},jP=function(...e){let t,n=-1;for(;++n<e.length;)GP(e[n]),e[n]&&(t=void 0===t?e[n]:t+"/"+e[n]);return void 0===t?".":function(e){GP(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,i,r="",a=0,o=-1,s=0,u=-1;for(;++u<=e.length;){if(u<e.length)n=e.codePointAt(u);else{if(47===n)break;n=47}if(47===n){if(o!==u-1&&1!==s)if(o!==u-1&&2===s){if(r.length<2||2!==a||46!==r.codePointAt(r.length-1)||46!==r.codePointAt(r.length-2))if(r.length>2){if(i=r.lastIndexOf("/"),i!==r.length-1){i<0?(r="",a=0):(r=r.slice(0,i),a=r.length-1-r.lastIndexOf("/")),o=u,s=0;continue}}else if(r.length>0){r="",a=0,o=u,s=0;continue}t&&(r=r.length>0?r+"/..":"..",a=2)}else r.length>0?r+="/"+e.slice(o+1,u):r=e.slice(o+1,u),a=u-o-1;o=u,s=0}else 46===n&&s>-1?s++:s=-1}return r}(e,!t);return 0===n.length&&!t&&(n="."),n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/"),t?"/"+n:n}(t)},WP="/";function GP(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const VP=function(){return"/"};function YP(e){return!!(null!==e&&"object"==typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}const HP=["history","path","basename","stem","extname","dirname"];class KP{constructor(e){let t;t=e?YP(e)?{path:e}:"string"==typeof e||function(e){return!!(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":VP(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,i=-1;for(;++i<HP.length;){const e=HP[i];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)HP.includes(n)||(this[n]=t[n])}get basename(){return"string"==typeof this.path?XP(this.path):void 0}set basename(e){eR(e,"basename"),JP(e,"basename"),this.path=jP(this.dirname||"",e)}get dirname(){return"string"==typeof this.path?zP(this.path):void 0}set dirname(e){tR(this.basename,"dirname"),this.path=jP(e||"",this.basename)}get extname(){return"string"==typeof this.path?ZP(this.path):void 0}set extname(e){if(JP(e,"extname"),tR(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=jP(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){YP(e)&&(e=function(e){if("string"==typeof e)e=new URL(e);else if(!YP(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}(e)),eR(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"==typeof this.path?XP(this.path,this.extname):void 0}set stem(e){eR(e,"stem"),JP(e,"stem"),this.path=jP(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const i=this.message(e,t,n);throw i.fatal=!0,i}info(e,t,n){const i=this.message(e,t,n);return i.fatal=void 0,i}message(e,t,n){const i=new kS(e,t,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return void 0===this.value?"":"string"==typeof this.value?this.value:new TextDecoder(e||void 0).decode(this.value)}}function JP(e,t){if(e&&e.includes(WP))throw new Error("`"+t+"` cannot be a path: did not expect `"+WP+"`")}function eR(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function tR(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const nR=function(e){const t=this.constructor.prototype,n=t[e],i=function(){return n.apply(i,arguments)};return Object.setPrototypeOf(i,t),i},iR={}.hasOwnProperty;class rR extends nR{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=function(){const e=[],t={run:function(...t){let n=-1;const i=t.pop();if("function"!=typeof i)throw new TypeError("Expected function as last argument, not "+i);!function r(a,...o){const s=e[++n];let u=-1;if(a)i(a);else{for(;++u<t.length;)(null===o[u]||void 0===o[u])&&(o[u]=t[u]);t=o,s?function(e,t){let n;return function(...t){const a=e.length>t.length;let o;a&&t.push(i);try{o=e.apply(this,t)}catch(e){if(a&&n)throw e;return i(e)}a||(o&&o.then&&"function"==typeof o.then?o.then(r,i):o instanceof Error?i(o):r(o))};function i(e,...i){n||(n=!0,t(e,...i))}function r(e){i(null,e)}}(s,r)(...o):i(null,...o)}}(null,...t)},use:function(n){if("function"!=typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}()}copy(){const e=new rR;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(UP(!0,{},this.namespace)),e}data(e,t){return"string"==typeof e?2===arguments.length?(uR("data",this.frozen),this.namespace[e]=t,this):iR.call(this.namespace,e)&&this.namespace[e]||void 0:e?(uR("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const i=t.call(e,...n);"function"==typeof i&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=dR(e),n=this.parser||this.Parser;return oR("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),oR("process",this.parser||this.Parser),sR("process",this.compiler||this.Compiler),t?i(void 0,t):new Promise(i);function i(i,r){const a=dR(e),o=n.parse(a);function s(e,n){e||!n?r(e):i?i(n):t(void 0,n)}n.run(o,a,function(e,t,i){if(e||!t||!i)return s(e);const r=t,a=n.stringify(r,i);!function(e){return"string"==typeof e||function(e){return!!(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)}(a)?i.result=a:i.value=a,s(e,i)})}}processSync(e){let t,n=!1;return this.freeze(),oR("processSync",this.parser||this.Parser),sR("processSync",this.compiler||this.Compiler),this.process(e,function(e,i){n=!0,BP(e),t=i}),cR("processSync","process",n),t}run(e,t,n){lR(e),this.freeze();const i=this.transformers;return!n&&"function"==typeof t&&(n=t,t=void 0),n?r(void 0,n):new Promise(r);function r(r,a){const o=dR(t);i.run(e,o,function(t,i,o){const s=i||e;t?a(t):r?r(s):n(void 0,s,o)})}}runSync(e,t){let n,i=!1;return this.run(e,t,function(e,t){BP(e),n=t,i=!0}),cR("runSync","run",i),n}stringify(e,t){this.freeze();const n=dR(t),i=this.compiler||this.Compiler;return sR("stringify",i),lR(e),i(e,n)}use(e,...t){const n=this.attachers,i=this.namespace;if(uR("use",this.frozen),null!=e)if("function"==typeof e)s(e,t);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?o(e):a(e)}return this;function r(e){if("function"==typeof e)s(e,[]);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;s(t,n)}else a(e)}}function a(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(e.plugins),e.settings&&(i.settings=UP(!0,i.settings,e.settings))}function o(e){let t=-1;if(null!=e){if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;)r(e[t])}}function s(e,t){let i=-1,r=-1;for(;++i<n.length;)if(n[i][0]===e){r=i;break}if(-1===r)n.push([e,...t]);else if(t.length>0){let[i,...a]=t;const o=n[r][1];qP(o)&&qP(i)&&(i=UP(!0,o,i)),n[r]=[e,i,...a]}}}}const aR=(new rR).freeze();function oR(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function sR(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function uR(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function lR(e){if(!qP(e)||"string"!=typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function cR(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function dR(e){return function(e){return!!(e&&"object"==typeof e&&"message"in e&&"messages"in e)}(e)?e:new KP(e)}const hR=[],pR={allowDangerousHtml:!0},fR=new WeakMap,mR=new class{constructor(){ft(this,"cache",new Map),ft(this,"keyCache",new WeakMap),ft(this,"maxSize",100)}generateCacheKey(e){const t=this.keyCache.get(e);if(t)return t;const n=e.rehypePlugins,i=e.remarkPlugins,r=e.remarkRehypeOptions;if(!(n||i||r)){const t="default";return this.keyCache.set(e,t),t}const a=e=>{if(!e||0===e.length)return"";let t="";for(let n=0;n<e.length;n+=1){const i=e[n];if(n>0&&(t+=","),Array.isArray(i)){const[e,n]=i;if("function"==typeof e){let n=fR.get(e);n||(n=e.name,fR.set(e,n)),t+=n}else t+=String(e);t+=":",t+=JSON.stringify(n)}else if("function"==typeof i){let e=fR.get(i);e||(e=i.name,fR.set(i,e)),t+=e}else t+=String(i)}return t},o=a(n),s=`${a(i)}::${o}::${r?JSON.stringify(r):""}`;return this.keyCache.set(e,s),s}get(e){const t=this.generateCacheKey(e),n=this.cache.get(t);return n&&(this.cache.delete(t),this.cache.set(t,n)),n}set(e,t){const n=this.generateCacheKey(e);if(this.cache.size>=this.maxSize){const e=this.cache.keys().next().value;e&&this.cache.delete(e)}this.cache.set(n,t)}clear(){this.cache.clear()}},OR=e=>{const t=gR(e),n=e.children||"";return vR(t.runSync(t.parse(n),n),e)},gR=e=>{const t=mR.get(e);if(t)return t;const n=DR(e);return mR.set(e,n),n},DR=e=>{const t=e.rehypePlugins||hR,n=e.remarkPlugins||hR,i=e.remarkRehypeOptions?p(p({},pR),e.remarkRehypeOptions):pR;return aR().use(DP).use(n).use(NP,i).use(t)},vR=(e,t)=>wS(e,{Fragment:Tt,components:t.components,ignoreInvalidStyle:!0,jsx:dn,jsxs:dn,passKeys:!0,passNode:!0});function ER(e){return e.startsWith("https://")||e.startsWith("http://")}function CR(e){const{allowedHosts:t,includeWww:n,allowHttp:i}=e;if(0===t.length)return[];if(t.includes("*"))return["*"];const r=new Set;for(const e of t){const t=e.trim();if(!t)continue;if(ER(t)){r.add(t);continue}const a=t.replace(/\.$/,"");r.add(`https://${a}`),i&&r.add(`http://${a}`),n&&!a.startsWith("www.")&&(r.add(`https://www.${a}`),i&&r.add(`http://www.${a}`))}return[...r]}var bR={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function kR(e){bR=e}var TR={exec:()=>null};function yR(e,t=""){let n="string"==typeof e?e:e.source,i={replace:(e,t)=>{let r="string"==typeof t?t:t.source;return r=r.replace(SR.caret,"$1"),n=n.replace(e,r),i},getRegex:()=>new RegExp(n,t)};return i}var AR=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch(e){return!1}})(),SR={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088F\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5C\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDC-\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDD40-\uDD65\uDD6F-\uDD85\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC7\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDDB0-\uDDDB\uDDE0-\uDDE9\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDF50-\uDF59\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D\uDD30-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE96\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF2-\uDFF6]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD833[\uDCF0-\uDCF9]|\uD834[\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDCD0-\uDCEB\uDCF0-\uDCF9\uDDD0-\uDDED\uDDF0-\uDDFA\uDEC0-\uDEDE\uDEE0-\uDEE2\uDEE4\uDEE5\uDEE7-\uDEED\uDEF0-\uDEF4\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79])/,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},_R=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,FR=/(?:[*+-]|\d{1,9}[.)])/,wR=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,xR=yR(wR).replace(/bull/g,FR).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),PR=yR(wR).replace(/bull/g,FR).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),RR=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,IR=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,QR=yR(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",IR).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),NR=yR(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,FR).getRegex(),BR="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",MR=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,LR=yR("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",MR).replace("tag",BR).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),$R=yR(RR).replace("hr",_R).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",BR).getRegex(),UR={blockquote:yR(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",$R).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:QR,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:_R,html:LR,lheading:xR,list:NR,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:$R,table:TR,text:/^[^\n]+/},qR=yR("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",_R).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",BR).getRegex(),XR=p(p({},UR),{},{lheading:PR,table:qR,paragraph:yR(RR).replace("hr",_R).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",qR).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",BR).getRegex()}),zR=p(p({},UR),{},{html:yR("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",MR).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:TR,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:yR(RR).replace("hr",_R).replace("heading"," *#{1,6} *[^\n]").replace("lheading",xR).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),ZR=/^( {2,}|\\)\n(?!\s*$)/,jR=/(?:[!-\/:-@\[-`\{-~\xA1-\xA9\xAB\xAC\xAE-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u0482\u055A-\u055F\u0589\u058A\u058D-\u058F\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060F\u061B\u061D-\u061F\u066A-\u066D\u06D4\u06DE\u06E9\u06FD\u06FE\u0700-\u070D\u07F6-\u07F9\u07FE\u07FF\u0830-\u083E\u085E\u0888\u0964\u0965\u0970\u09F2\u09F3\u09FA\u09FB\u09FD\u0A76\u0AF0\u0AF1\u0B70\u0BF3-\u0BFA\u0C77\u0C7F\u0C84\u0D4F\u0D79\u0DF4\u0E3F\u0E4F\u0E5A\u0E5B\u0F01-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F85\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u104A-\u104F\u109E\u109F\u10FB\u1360-\u1368\u1390-\u1399\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DB\u1800-\u180A\u1940\u1944\u1945\u19DE-\u19FF\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2010-\u2027\u2030-\u205E\u207A-\u207E\u208A-\u208E\u20A0-\u20C1\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2775\u2794-\u2B73\u2B76-\u2BFF\u2CE5-\u2CEA\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3001-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u303F\u309B\u309C\u30A0\u30FB\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAA77-\uAA79\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDCF\uFDFC-\uFDFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD00-\uDD02\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDC77\uDC78\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEC8\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDD8E\uDD8F\uDEAD\uDED0-\uDED8\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3F]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFD5-\uDFF1\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3F\uDF44\uDF45]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F[\uDC9C\uDC9F]|\uD833[\uDC00-\uDCEF\uDCFA-\uDCFC\uDD00-\uDEB3\uDEBA-\uDED0\uDEE0-\uDEF0\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE8B]|\uD838[\uDD4F\uDEFF]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED8\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDCD0-\uDCD8\uDD00-\uDE57\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF\uDFFA])/,WR=/(?:[\t-\r -\/:-@\[-`\{-~\xA0-\xA9\xAB\xAC\xAE-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u0482\u055A-\u055F\u0589\u058A\u058D-\u058F\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060F\u061B\u061D-\u061F\u066A-\u066D\u06D4\u06DE\u06E9\u06FD\u06FE\u0700-\u070D\u07F6-\u07F9\u07FE\u07FF\u0830-\u083E\u085E\u0888\u0964\u0965\u0970\u09F2\u09F3\u09FA\u09FB\u09FD\u0A76\u0AF0\u0AF1\u0B70\u0BF3-\u0BFA\u0C77\u0C7F\u0C84\u0D4F\u0D79\u0DF4\u0E3F\u0E4F\u0E5A\u0E5B\u0F01-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F85\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u104A-\u104F\u109E\u109F\u10FB\u1360-\u1368\u1390-\u1399\u1400\u166D\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DB\u1800-\u180A\u1940\u1944\u1945\u19DE-\u19FF\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2000-\u200A\u2010-\u2029\u202F-\u205F\u207A-\u207E\u208A-\u208E\u20A0-\u20C1\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2775\u2794-\u2B73\u2B76-\u2BFF\u2CE5-\u2CEA\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u303F\u309B\u309C\u30A0\u30FB\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAA77-\uAA79\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDCF\uFDFC-\uFDFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD00-\uDD02\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDC77\uDC78\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEC8\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDD8E\uDD8F\uDEAD\uDED0-\uDED8\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3F]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFD5-\uDFF1\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3F\uDF44\uDF45]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F[\uDC9C\uDC9F]|\uD833[\uDC00-\uDCEF\uDCFA-\uDCFC\uDD00-\uDEB3\uDEBA-\uDED0\uDEE0-\uDEF0\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE8B]|\uD838[\uDD4F\uDEFF]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED8\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDCD0-\uDCD8\uDD00-\uDE57\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF\uDFFA])/,GR=/(?:[\0-\x08\x0E-\x1F0-9A-Za-z\x7F-\x9F\xAA\xAD\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376-\u037D\u037F-\u0383\u0386\u0388-\u03F5\u03F7-\u0481\u0483-\u0559\u0560-\u0588\u058B\u058C\u0590-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7-\u05F2\u05F5-\u0605\u0610-\u061A\u061C\u0620-\u0669\u066E-\u06D3\u06D5-\u06DD\u06DF-\u06E8\u06EA-\u06FC\u06FF\u070E-\u07F5\u07FA-\u07FD\u0800-\u082F\u083F-\u085D\u085F-\u0887\u0889-\u0963\u0966-\u096F\u0971-\u09F1\u09F4-\u09F9\u09FC\u09FE-\u0A75\u0A77-\u0AEF\u0AF2-\u0B6F\u0B71-\u0BF2\u0BFB-\u0C76\u0C78-\u0C7E\u0C80-\u0C83\u0C85-\u0D4E\u0D50-\u0D78\u0D7A-\u0DF3\u0DF5-\u0E3E\u0E40-\u0E4E\u0E50-\u0E59\u0E5C-\u0F00\u0F18\u0F19\u0F20-\u0F33\u0F35\u0F37\u0F39\u0F3E-\u0F84\u0F86-\u0FBD\u0FC6\u0FCD\u0FDB-\u1049\u1050-\u109D\u10A0-\u10FA\u10FC-\u135F\u1369-\u138F\u139A-\u13FF\u1401-\u166C\u166F-\u167F\u1681-\u169A\u169D-\u16EA\u16EE-\u1734\u1737-\u17D3\u17D7\u17DC-\u17FF\u180B-\u193F\u1941-\u1943\u1946-\u19DD\u1A00-\u1A1D\u1A20-\u1A9F\u1AA7\u1AAE-\u1B4D\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BFB\u1C00-\u1C3A\u1C40-\u1C7D\u1C80-\u1CBF\u1CC8-\u1CD2\u1CD4-\u1FBC\u1FBE\u1FC2-\u1FCC\u1FD0-\u1FDC\u1FE0-\u1FEC\u1FF0-\u1FFC\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u2079\u207F-\u2089\u208F-\u209F\u20C2-\u20FF\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u218C-\u218F\u242A-\u243F\u244B-\u249B\u24EA-\u24FF\u2776-\u2793\u2B74\u2B75\u2C00-\u2CE4\u2CEB-\u2CF8\u2CFD\u2D00-\u2D6F\u2D71-\u2DFF\u2E2F\u2E5E-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3040-\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u318F\u3192-\u3195\u31A0-\u31BF\u31E6-\u31EE\u31F0-\u31FF\u321F-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48F\uA4C7-\uA4FD\uA500-\uA60C\uA610-\uA672\uA674-\uA67D\uA67F-\uA6F1\uA6F8-\uA6FF\uA717-\uA71F\uA722-\uA788\uA78B-\uA827\uA82C-\uA835\uA83A-\uA873\uA878-\uA8CD\uA8D0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA95E\uA960-\uA9C0\uA9CE-\uA9DD\uA9E0-\uAA5B\uAA60-\uAA76\uAA7A-\uAADD\uAAE0-\uAAEF\uAAF2-\uAB5A\uAB5C-\uAB69\uAB6C-\uABEA\uABEC-\uD7FF\uE000-\uFB28\uFB2A-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDD0-\uFDFB\uFE00-\uFE0F\uFE1A-\uFE2F\uFE53\uFE67\uFE6C-\uFEFE\uFF00\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFDF\uFFE7\uFFEF-\uFFFB\uFFFE\uFFFF]|\uD800[\uDC00-\uDCFF\uDD03-\uDD36\uDD40-\uDD78\uDD8A\uDD8B\uDD8F\uDD9D-\uDD9F\uDDA1-\uDDCF\uDDFD-\uDF9E\uDFA0-\uDFCF\uDFD1-\uDFFF]|\uD801[\uDC00-\uDD6E\uDD70-\uDFFF]|\uD802[\uDC00-\uDC56\uDC58-\uDC76\uDC79-\uDD1E\uDD20-\uDD3E\uDD40-\uDE4F\uDE59-\uDE7E\uDE80-\uDEC7\uDEC9-\uDEEF\uDEF7-\uDF38\uDF40-\uDF98\uDF9D-\uDFFF]|\uD803[\uDC00-\uDD6D\uDD6F-\uDD8D\uDD90-\uDEAC\uDEAE-\uDECF\uDED9-\uDF54\uDF5A-\uDF85\uDF8A-\uDFFF]|\uD804[\uDC00-\uDC46\uDC4E-\uDCBA\uDCBD\uDCC2-\uDD3F\uDD44-\uDD73\uDD76-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDDE0-\uDE37\uDE3E-\uDEA8\uDEAA-\uDFD3\uDFD6\uDFD9-\uDFFF]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5C\uDC5E-\uDCC5\uDCC7-\uDDC0\uDDD8-\uDE40\uDE44-\uDE5F\uDE6D-\uDEB8\uDEBA-\uDF3B\uDF40-\uDFFF]|\uD806[\uDC00-\uDC3A\uDC3C-\uDD43\uDD47-\uDDE1\uDDE3-\uDE3E\uDE47-\uDE99\uDE9D\uDEA3-\uDEFF\uDF0A-\uDFE0\uDFE2-\uDFFF]|\uD807[\uDC00-\uDC40\uDC46-\uDC6F\uDC72-\uDEF6\uDEF9-\uDF42\uDF50-\uDFD4\uDFF2-\uDFFE]|[\uD808\uD80A\uD80C-\uD819\uD81C-\uD82E\uD830-\uD832\uD837\uD83F-\uDBFF][\uDC00-\uDFFF]|\uD809[\uDC00-\uDC6F\uDC75-\uDFFF]|\uD80B[\uDC00-\uDFF0\uDFF3-\uDFFF]|\uD81A[\uDC00-\uDE6D\uDE70-\uDEF4\uDEF6-\uDF36\uDF40-\uDF43\uDF46-\uDFFF]|\uD81B[\uDC00-\uDD6C\uDD70-\uDE96\uDE9B-\uDFE1\uDFE3-\uDFFF]|\uD82F[\uDC00-\uDC9B\uDC9D\uDC9E\uDCA0-\uDFFF]|\uD833[\uDCF0-\uDCF9\uDCFD-\uDCFF\uDEB4-\uDEB9\uDED1-\uDEDF\uDEF1-\uDF4F\uDFC4-\uDFFF]|\uD834[\uDCF6-\uDCFF\uDD27\uDD28\uDD65-\uDD69\uDD6D-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDDEB-\uDDFF\uDE42-\uDE44\uDE46-\uDEFF\uDF57-\uDFFF]|\uD835[\uDC00-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE8C-\uDFFF]|\uD838[\uDC00-\uDD4E\uDD50-\uDEFE\uDF00-\uDFFF]|\uD839[\uDC00-\uDDFE\uDE00-\uDFFF]|\uD83A[\uDC00-\uDD5D\uDD60-\uDFFF]|\uD83B[\uDC00-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDD2D\uDD2F-\uDEEF\uDEF2-\uDFFF]|\uD83C[\uDC2C-\uDC2F\uDC94-\uDC9F\uDCAF\uDCB0\uDCC0\uDCD0\uDCF6-\uDD0C\uDDAE-\uDDE5\uDE03-\uDE0F\uDE3C-\uDE3F\uDE49-\uDE4F\uDE52-\uDE5F\uDE66-\uDEFF]|\uD83D[\uDED9-\uDEDB\uDEED-\uDEEF\uDEFD-\uDEFF\uDFDA-\uDFDF\uDFEC-\uDFEF\uDFF1-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE\uDCAF\uDCBC-\uDCBF\uDCC2-\uDCCF\uDCD9-\uDCFF\uDE58-\uDE5F\uDE6E\uDE6F\uDE7D-\uDE7F\uDE8B-\uDE8D\uDEC7\uDEC9-\uDECC\uDEDD\uDEDE\uDEEB-\uDEEE\uDEF9-\uDEFF\uDF93\uDFF0-\uDFF9\uDFFB-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,VR=yR(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,WR).getRegex(),YR=/(?!~)(?:[!-\/:-@\[-`\{-~\xA1-\xA9\xAB\xAC\xAE-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u0482\u055A-\u055F\u0589\u058A\u058D-\u058F\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060F\u061B\u061D-\u061F\u066A-\u066D\u06D4\u06DE\u06E9\u06FD\u06FE\u0700-\u070D\u07F6-\u07F9\u07FE\u07FF\u0830-\u083E\u085E\u0888\u0964\u0965\u0970\u09F2\u09F3\u09FA\u09FB\u09FD\u0A76\u0AF0\u0AF1\u0B70\u0BF3-\u0BFA\u0C77\u0C7F\u0C84\u0D4F\u0D79\u0DF4\u0E3F\u0E4F\u0E5A\u0E5B\u0F01-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F85\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u104A-\u104F\u109E\u109F\u10FB\u1360-\u1368\u1390-\u1399\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DB\u1800-\u180A\u1940\u1944\u1945\u19DE-\u19FF\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2010-\u2027\u2030-\u205E\u207A-\u207E\u208A-\u208E\u20A0-\u20C1\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2775\u2794-\u2B73\u2B76-\u2BFF\u2CE5-\u2CEA\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3001-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u303F\u309B\u309C\u30A0\u30FB\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAA77-\uAA79\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDCF\uFDFC-\uFDFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD00-\uDD02\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDC77\uDC78\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEC8\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDD8E\uDD8F\uDEAD\uDED0-\uDED8\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3F]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFD5-\uDFF1\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3F\uDF44\uDF45]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F[\uDC9C\uDC9F]|\uD833[\uDC00-\uDCEF\uDCFA-\uDCFC\uDD00-\uDEB3\uDEBA-\uDED0\uDEE0-\uDEF0\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE8B]|\uD838[\uDD4F\uDEFF]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED8\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDCD0-\uDCD8\uDD00-\uDE57\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF\uDFFA])/,HR=yR(/link|precode-code|html/,"g").replace("link",f(/\[(?:[^\[\]`]|(`+)[^`]+\1(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/,{a:1})).replace("precode-",AR?"(?<!`)()":"(^^|[^`])").replace("code",f(/(`+)[^`]+\1(?!`)/,{b:1})).replace("html",/<(?! )[^<>]*?>/).getRegex(),KR=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,JR=yR(KR,"u").replace(/punct/g,jR).getRegex(),eI=yR(KR,"u").replace(/punct/g,YR).getRegex(),tI="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",nI=yR(tI,"gu").replace(/notPunctSpace/g,GR).replace(/punctSpace/g,WR).replace(/punct/g,jR).getRegex(),iI=yR(tI,"gu").replace(/notPunctSpace/g,/(?:(?:[\0-\x08\x0E-\x1F0-9A-Za-z\x7F-\x9F\xAA\xAD\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376-\u037D\u037F-\u0383\u0386\u0388-\u03F5\u03F7-\u0481\u0483-\u0559\u0560-\u0588\u058B\u058C\u0590-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7-\u05F2\u05F5-\u0605\u0610-\u061A\u061C\u0620-\u0669\u066E-\u06D3\u06D5-\u06DD\u06DF-\u06E8\u06EA-\u06FC\u06FF\u070E-\u07F5\u07FA-\u07FD\u0800-\u082F\u083F-\u085D\u085F-\u0887\u0889-\u0963\u0966-\u096F\u0971-\u09F1\u09F4-\u09F9\u09FC\u09FE-\u0A75\u0A77-\u0AEF\u0AF2-\u0B6F\u0B71-\u0BF2\u0BFB-\u0C76\u0C78-\u0C7E\u0C80-\u0C83\u0C85-\u0D4E\u0D50-\u0D78\u0D7A-\u0DF3\u0DF5-\u0E3E\u0E40-\u0E4E\u0E50-\u0E59\u0E5C-\u0F00\u0F18\u0F19\u0F20-\u0F33\u0F35\u0F37\u0F39\u0F3E-\u0F84\u0F86-\u0FBD\u0FC6\u0FCD\u0FDB-\u1049\u1050-\u109D\u10A0-\u10FA\u10FC-\u135F\u1369-\u138F\u139A-\u13FF\u1401-\u166C\u166F-\u167F\u1681-\u169A\u169D-\u16EA\u16EE-\u1734\u1737-\u17D3\u17D7\u17DC-\u17FF\u180B-\u193F\u1941-\u1943\u1946-\u19DD\u1A00-\u1A1D\u1A20-\u1A9F\u1AA7\u1AAE-\u1B4D\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BFB\u1C00-\u1C3A\u1C40-\u1C7D\u1C80-\u1CBF\u1CC8-\u1CD2\u1CD4-\u1FBC\u1FBE\u1FC2-\u1FCC\u1FD0-\u1FDC\u1FE0-\u1FEC\u1FF0-\u1FFC\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u2079\u207F-\u2089\u208F-\u209F\u20C2-\u20FF\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u218C-\u218F\u242A-\u243F\u244B-\u249B\u24EA-\u24FF\u2776-\u2793\u2B74\u2B75\u2C00-\u2CE4\u2CEB-\u2CF8\u2CFD\u2D00-\u2D6F\u2D71-\u2DFF\u2E2F\u2E5E-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3040-\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u318F\u3192-\u3195\u31A0-\u31BF\u31E6-\u31EE\u31F0-\u31FF\u321F-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48F\uA4C7-\uA4FD\uA500-\uA60C\uA610-\uA672\uA674-\uA67D\uA67F-\uA6F1\uA6F8-\uA6FF\uA717-\uA71F\uA722-\uA788\uA78B-\uA827\uA82C-\uA835\uA83A-\uA873\uA878-\uA8CD\uA8D0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA95E\uA960-\uA9C0\uA9CE-\uA9DD\uA9E0-\uAA5B\uAA60-\uAA76\uAA7A-\uAADD\uAAE0-\uAAEF\uAAF2-\uAB5A\uAB5C-\uAB69\uAB6C-\uABEA\uABEC-\uD7FF\uE000-\uFB28\uFB2A-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDD0-\uFDFB\uFE00-\uFE0F\uFE1A-\uFE2F\uFE53\uFE67\uFE6C-\uFEFE\uFF00\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFDF\uFFE7\uFFEF-\uFFFB\uFFFE\uFFFF]|\uD800[\uDC00-\uDCFF\uDD03-\uDD36\uDD40-\uDD78\uDD8A\uDD8B\uDD8F\uDD9D-\uDD9F\uDDA1-\uDDCF\uDDFD-\uDF9E\uDFA0-\uDFCF\uDFD1-\uDFFF]|\uD801[\uDC00-\uDD6E\uDD70-\uDFFF]|\uD802[\uDC00-\uDC56\uDC58-\uDC76\uDC79-\uDD1E\uDD20-\uDD3E\uDD40-\uDE4F\uDE59-\uDE7E\uDE80-\uDEC7\uDEC9-\uDEEF\uDEF7-\uDF38\uDF40-\uDF98\uDF9D-\uDFFF]|\uD803[\uDC00-\uDD6D\uDD6F-\uDD8D\uDD90-\uDEAC\uDEAE-\uDECF\uDED9-\uDF54\uDF5A-\uDF85\uDF8A-\uDFFF]|\uD804[\uDC00-\uDC46\uDC4E-\uDCBA\uDCBD\uDCC2-\uDD3F\uDD44-\uDD73\uDD76-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDDE0-\uDE37\uDE3E-\uDEA8\uDEAA-\uDFD3\uDFD6\uDFD9-\uDFFF]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5C\uDC5E-\uDCC5\uDCC7-\uDDC0\uDDD8-\uDE40\uDE44-\uDE5F\uDE6D-\uDEB8\uDEBA-\uDF3B\uDF40-\uDFFF]|\uD806[\uDC00-\uDC3A\uDC3C-\uDD43\uDD47-\uDDE1\uDDE3-\uDE3E\uDE47-\uDE99\uDE9D\uDEA3-\uDEFF\uDF0A-\uDFE0\uDFE2-\uDFFF]|\uD807[\uDC00-\uDC40\uDC46-\uDC6F\uDC72-\uDEF6\uDEF9-\uDF42\uDF50-\uDFD4\uDFF2-\uDFFE]|[\uD808\uD80A\uD80C-\uD819\uD81C-\uD82E\uD830-\uD832\uD837\uD83F-\uDBFF][\uDC00-\uDFFF]|\uD809[\uDC00-\uDC6F\uDC75-\uDFFF]|\uD80B[\uDC00-\uDFF0\uDFF3-\uDFFF]|\uD81A[\uDC00-\uDE6D\uDE70-\uDEF4\uDEF6-\uDF36\uDF40-\uDF43\uDF46-\uDFFF]|\uD81B[\uDC00-\uDD6C\uDD70-\uDE96\uDE9B-\uDFE1\uDFE3-\uDFFF]|\uD82F[\uDC00-\uDC9B\uDC9D\uDC9E\uDCA0-\uDFFF]|\uD833[\uDCF0-\uDCF9\uDCFD-\uDCFF\uDEB4-\uDEB9\uDED1-\uDEDF\uDEF1-\uDF4F\uDFC4-\uDFFF]|\uD834[\uDCF6-\uDCFF\uDD27\uDD28\uDD65-\uDD69\uDD6D-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDDEB-\uDDFF\uDE42-\uDE44\uDE46-\uDEFF\uDF57-\uDFFF]|\uD835[\uDC00-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE8C-\uDFFF]|\uD838[\uDC00-\uDD4E\uDD50-\uDEFE\uDF00-\uDFFF]|\uD839[\uDC00-\uDDFE\uDE00-\uDFFF]|\uD83A[\uDC00-\uDD5D\uDD60-\uDFFF]|\uD83B[\uDC00-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDD2D\uDD2F-\uDEEF\uDEF2-\uDFFF]|\uD83C[\uDC2C-\uDC2F\uDC94-\uDC9F\uDCAF\uDCB0\uDCC0\uDCD0\uDCF6-\uDD0C\uDDAE-\uDDE5\uDE03-\uDE0F\uDE3C-\uDE3F\uDE49-\uDE4F\uDE52-\uDE5F\uDE66-\uDEFF]|\uD83D[\uDED9-\uDEDB\uDEED-\uDEEF\uDEFD-\uDEFF\uDFDA-\uDFDF\uDFEC-\uDFEF\uDFF1-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE\uDCAF\uDCBC-\uDCBF\uDCC2-\uDCCF\uDCD9-\uDCFF\uDE58-\uDE5F\uDE6E\uDE6F\uDE7D-\uDE7F\uDE8B-\uDE8D\uDEC7\uDEC9-\uDECC\uDEDD\uDEDE\uDEEB-\uDEEE\uDEF9-\uDEFF\uDF93\uDFF0-\uDFF9\uDFFB-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])|~)/).replace(/punctSpace/g,/(?!~)(?:[\t-\r -\/:-@\[-`\{-~\xA0-\xA9\xAB\xAC\xAE-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u0482\u055A-\u055F\u0589\u058A\u058D-\u058F\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060F\u061B\u061D-\u061F\u066A-\u066D\u06D4\u06DE\u06E9\u06FD\u06FE\u0700-\u070D\u07F6-\u07F9\u07FE\u07FF\u0830-\u083E\u085E\u0888\u0964\u0965\u0970\u09F2\u09F3\u09FA\u09FB\u09FD\u0A76\u0AF0\u0AF1\u0B70\u0BF3-\u0BFA\u0C77\u0C7F\u0C84\u0D4F\u0D79\u0DF4\u0E3F\u0E4F\u0E5A\u0E5B\u0F01-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F85\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u104A-\u104F\u109E\u109F\u10FB\u1360-\u1368\u1390-\u1399\u1400\u166D\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DB\u1800-\u180A\u1940\u1944\u1945\u19DE-\u19FF\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2000-\u200A\u2010-\u2029\u202F-\u205F\u207A-\u207E\u208A-\u208E\u20A0-\u20C1\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2775\u2794-\u2B73\u2B76-\u2BFF\u2CE5-\u2CEA\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u303F\u309B\u309C\u30A0\u30FB\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAA77-\uAA79\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDCF\uFDFC-\uFDFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD00-\uDD02\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDC77\uDC78\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEC8\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDD8E\uDD8F\uDEAD\uDED0-\uDED8\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3F]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFD5-\uDFF1\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3F\uDF44\uDF45]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F[\uDC9C\uDC9F]|\uD833[\uDC00-\uDCEF\uDCFA-\uDCFC\uDD00-\uDEB3\uDEBA-\uDED0\uDEE0-\uDEF0\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE8B]|\uD838[\uDD4F\uDEFF]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED8\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDCD0-\uDCD8\uDD00-\uDE57\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF\uDFFA])/).replace(/punct/g,YR).getRegex(),rI=yR("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,GR).replace(/punctSpace/g,WR).replace(/punct/g,jR).getRegex(),aI=yR(/\\(punct)/,"gu").replace(/punct/g,jR).getRegex(),oI=yR(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),sI=yR(MR).replace("(?:--\x3e|$)","--\x3e").getRegex(),uI=yR("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",sI).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),lI=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,cI=yR(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",lI).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),dI=yR(/^!?\[(label)\]\[(ref)\]/).replace("label",lI).replace("ref",IR).getRegex(),hI=yR(/^!?\[(ref)\](?:\[\])?/).replace("ref",IR).getRegex(),pI=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,fI={_backpedal:TR,anyPunctuation:aI,autolink:oI,blockSkip:HR,br:ZR,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:TR,emStrongLDelim:JR,emStrongRDelimAst:nI,emStrongRDelimUnd:rI,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:cI,nolink:hI,punctuation:VR,reflink:dI,reflinkSearch:yR("reflink|nolink(?!\\()","g").replace("reflink",dI).replace("nolink",hI).getRegex(),tag:uI,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:TR},mI=p(p({},fI),{},{link:yR(/^!?\[(label)\]\((.*?)\)/).replace("label",lI).getRegex(),reflink:yR(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",lI).getRegex()}),OI=p(p({},fI),{},{emStrongRDelimAst:iI,emStrongLDelim:eI,url:yR(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",pI).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:yR(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",pI).getRegex()}),gI=p(p({},OI),{},{br:yR(ZR).replace("{2,}","*").getRegex(),text:yR(OI.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),DI={normal:UR,gfm:XR,pedantic:zR},vI={normal:fI,gfm:OI,breaks:gI,pedantic:mI},EI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},CI=e=>EI[e];function bI(e,t){if(t){if(SR.escapeTest.test(e))return e.replace(SR.escapeReplace,CI)}else if(SR.escapeTestNoEncode.test(e))return e.replace(SR.escapeReplaceNoEncode,CI);return e}function kI(e){try{e=encodeURI(e).replace(SR.percentDecode,"%")}catch(e){return null}return e}function TI(e,t){var n;let i=e.replace(SR.findPipe,(e,t,n)=>{let i=!1,r=t;for(;--r>=0&&"\\"===n[r];)i=!i;return i?"|":" |"}).split(SR.splitPipe),r=0;if(i[0].trim()||i.shift(),i.length>0&&!(null!=(n=i.at(-1))&&n.trim())&&i.pop(),t)if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(SR.slashPipe,"|");return i}function yI(e,t,n){let i=e.length;if(0===i)return"";let r=0;for(;r<i&&e.charAt(i-r-1)===t;)r++;return e.slice(0,i-r)}function AI(e,t,n,i,r){let a=t.href,o=t.title||null,s=e[1].replace(r.other.outputLinkReplace,"$1");i.state.inLink=!0;let u={type:"!"===e[0].charAt(0)?"image":"link",raw:n,href:a,title:o,text:s,tokens:i.inlineTokens(s)};return i.state.inLink=!1,u}var SI,_I=class{constructor(e){ft(this,"options"),ft(this,"rules"),ft(this,"lexer"),this.options=e||bR}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let e=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:yI(e,"\n")}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let e=t[0],n=function(e,t,n){let i=e.match(n.other.indentCodeCompensation);if(null===i)return t;let r=i[1];return t.split("\n").map(e=>{let t=e.match(n.other.beginningSpace);if(null===t)return e;let[i]=t;return i.length>=r.length?e.slice(r.length):e}).join("\n")}(e,t[3]||"",this.rules);return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(this.rules.other.endingHash.test(e)){let t=yI(e,"#");(this.options.pedantic||!t||this.rules.other.endingSpaceChar.test(t))&&(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:yI(t[0],"\n")}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let e=yI(t[0],"\n").split("\n"),n="",i="",r=[];for(;e.length>0;){let t,a=!1,o=[];for(t=0;t<e.length;t++)if(this.rules.other.blockquoteStart.test(e[t]))o.push(e[t]),a=!0;else{if(a)break;o.push(e[t])}e=e.slice(t);let s=o.join("\n"),u=s.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}\n${s}`:s,i=i?`${i}\n${u}`:u;let l=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,r,!0),this.lexer.state.top=l,0===e.length)break;let c=r.at(-1);if("code"===(null==c?void 0:c.type))break;if("blockquote"===(null==c?void 0:c.type)){let t=c,a=t.raw+"\n"+e.join("\n"),o=this.blockquote(a);r[r.length-1]=o,n=n.substring(0,n.length-t.raw.length)+o.raw,i=i.substring(0,i.length-t.text.length)+o.text;break}if("list"===(null==c?void 0:c.type)){let t=c,a=t.raw+"\n"+e.join("\n"),o=this.list(a);r[r.length-1]=o,n=n.substring(0,n.length-c.raw.length)+o.raw,i=i.substring(0,i.length-t.raw.length)+o.raw,e=a.substring(r.at(-1).raw.length).split("\n");continue}}return{type:"blockquote",raw:n,tokens:r,text:i}}}list(e){var t,n;let i=this.rules.block.list.exec(e);if(i){let r=i[1].trim(),a=r.length>1,o={type:"list",raw:"",ordered:a,start:a?+r.slice(0,-1):"",loose:!1,items:[]};r=a?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=a?r:"[*+-]");let s=this.rules.other.listItemRegex(r),u=!1;for(;e;){let t=!1,n="",r="";if(!(i=s.exec(e))||this.rules.block.hr.test(e))break;n=i[0],e=e.substring(n.length);let a=i[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,e=>" ".repeat(3*e.length)),l=e.split("\n",1)[0],c=!a.trim(),d=0;if(this.options.pedantic?(d=2,r=a.trimStart()):c?d=i[1].length+1:(d=i[2].search(this.rules.other.nonSpaceChar),d=d>4?1:d,r=a.slice(d),d+=i[1].length),c&&this.rules.other.blankLine.test(l)&&(n+=l+"\n",e=e.substring(l.length+1),t=!0),!t){let t=this.rules.other.nextBulletRegex(d),i=this.rules.other.hrRegex(d),o=this.rules.other.fencesBeginRegex(d),s=this.rules.other.headingBeginRegex(d),u=this.rules.other.htmlBeginRegex(d);for(;e;){let h,p=e.split("\n",1)[0];if(l=p,this.options.pedantic?(l=l.replace(this.rules.other.listReplaceNesting,"  "),h=l):h=l.replace(this.rules.other.tabCharGlobal,"    "),o.test(l)||s.test(l)||u.test(l)||t.test(l)||i.test(l))break;if(h.search(this.rules.other.nonSpaceChar)>=d||!l.trim())r+="\n"+h.slice(d);else{if(c||a.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||o.test(a)||s.test(a)||i.test(a))break;r+="\n"+l}!c&&!l.trim()&&(c=!0),n+=p+"\n",e=e.substring(p.length+1),a=h.slice(d)}}o.loose||(u?o.loose=!0:this.rules.other.doubleBlankLine.test(n)&&(u=!0)),o.items.push({type:"list_item",raw:n,task:!!this.options.gfm&&this.rules.other.listIsTask.test(r),loose:!1,text:r,tokens:[]}),o.raw+=n}let l=o.items.at(-1);if(!l)return;l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd(),o.raw=o.raw.trimEnd();for(let e of o.items){if(this.lexer.state.top=!1,e.tokens=this.lexer.blockTokens(e.text,[]),e.task){if(e.text=e.text.replace(this.rules.other.listReplaceTask,""),"text"===(null==(t=e.tokens[0])?void 0:t.type)||"paragraph"===(null==(n=e.tokens[0])?void 0:n.type)){e.tokens[0].raw=e.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),e.tokens[0].text=e.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let e=this.lexer.inlineQueue.length-1;e>=0;e--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[e].src)){this.lexer.inlineQueue[e].src=this.lexer.inlineQueue[e].src.replace(this.rules.other.listReplaceTask,"");break}}let i=this.rules.other.listTaskCheckbox.exec(e.raw);if(i){let t={type:"checkbox",raw:i[0]+" ",checked:"[ ]"!==i[0]};e.checked=t.checked,o.loose?e.tokens[0]&&["paragraph","text"].includes(e.tokens[0].type)&&"tokens"in e.tokens[0]&&e.tokens[0].tokens?(e.tokens[0].raw=t.raw+e.tokens[0].raw,e.tokens[0].text=t.raw+e.tokens[0].text,e.tokens[0].tokens.unshift(t)):e.tokens.unshift({type:"paragraph",raw:t.raw,text:t.raw,tokens:[t]}):e.tokens.unshift(t)}}if(!o.loose){let t=e.tokens.filter(e=>"space"===e.type),n=t.length>0&&t.some(e=>this.rules.other.anyLine.test(e.raw));o.loose=n}}if(o.loose)for(let e of o.items){e.loose=!0;for(let t of e.tokens)"text"===t.type&&(t.type="paragraph")}return o}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let e=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:i}}}table(e){var t;let n=this.rules.block.table.exec(e);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;let i=TI(n[1]),r=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),a=null!=(t=n[3])&&t.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(i.length===r.length){for(let e of r)this.rules.other.tableAlignRight.test(e)?o.align.push("right"):this.rules.other.tableAlignCenter.test(e)?o.align.push("center"):this.rules.other.tableAlignLeft.test(e)?o.align.push("left"):o.align.push(null);for(let e=0;e<i.length;e++)o.header.push({text:i[e],tokens:this.lexer.inline(i[e]),header:!0,align:o.align[e]});for(let e of a)o.rows.push(TI(e,o.header.length).map((e,t)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:o.align[t]})));return o}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let e=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(e)){if(!this.rules.other.endAngleBracket.test(e))return;let t=yI(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{let e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let i=0;i<e.length;i++)if("\\"===e[i])i++;else if(e[i]===t[0])n++;else if(e[i]===t[1]&&(n--,n<0))return i;return n>0?-2:-1}(t[2],"()");if(-2===e)return;if(e>-1){let n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],i="";if(this.options.pedantic){let e=this.rules.other.pedanticHrefTitle.exec(n);e&&(n=e[1],i=e[3])}else i=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(n=this.options.pedantic&&!this.rules.other.endAngleBracket.test(e)?n.slice(1):n.slice(1,-1)),AI(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=t[(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!e){let e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return AI(n,e,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!(!i||i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!i[1]&&!i[2]||!n||this.rules.inline.punctuation.exec(n))){let n,r,a=[...i[0]].length-1,o=a,s=0,u="*"===i[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,t=t.slice(-1*e.length+a);null!=(i=u.exec(t));){if(n=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!n)continue;if(r=[...n].length,i[3]||i[4]){o+=r;continue}if((i[5]||i[6])&&a%3&&!((a+r)%3)){s+=r;continue}if(o-=r,o>0)continue;r=Math.min(r,r+o+s);let t=[...i[0]][0].length,u=e.slice(0,a+i.index+t+r);if(Math.min(a,r)%2){let e=u.slice(1,-1);return{type:"em",raw:u,text:e,tokens:this.lexer.inlineTokens(e)}}let l=u.slice(2,-2);return{type:"strong",raw:u,text:l,tokens:this.lexer.inlineTokens(l)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(e),i=this.rules.other.startingSpaceChar.test(e)&&this.rules.other.endingSpaceChar.test(e);return n&&i&&(e=e.substring(1,e.length-1)),{type:"codespan",raw:t[0],text:e}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=t[1],n="mailto:"+e):(e=t[1],n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){var t;let n;if(n=this.rules.inline.url.exec(e)){let e,r;if("@"===n[2])e=n[0],r="mailto:"+e;else{let a;do{var i;a=n[0],n[0]=null!==(i=null==(t=this.rules.inline._backpedal.exec(n[0]))?void 0:t[0])&&void 0!==i?i:""}while(a!==n[0]);e=n[0],r="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let e=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:e}}}},FI=class e{constructor(e){ft(this,"tokens"),ft(this,"options"),ft(this,"state"),ft(this,"inlineQueue"),ft(this,"tokenizer"),this.tokens=[],this.tokens.links=Object.create(null),this.options=e||bR,this.options.tokenizer=this.options.tokenizer||new _I,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:SR,block:DI.normal,inline:vI.normal};this.options.pedantic?(t.block=DI.pedantic,t.inline=vI.pedantic):this.options.gfm&&(t.block=DI.gfm,this.options.breaks?t.inline=vI.breaks:t.inline=vI.gfm),this.tokenizer.rules=t}static get rules(){return{block:DI,inline:vI}}static lex(t,n){return new e(n).lex(t)}static lexInline(t,n){return new e(n).inlineTokens(t)}lex(e){e=e.replace(SR.carriageReturn,"\n"),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){let t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){var i,r,a;for(this.options.pedantic&&(e=e.replace(SR.tabCharGlobal,"    ").replace(SR.spaceLine,""));e;){let o;if(null!=(r=null==(i=this.options.extensions)?void 0:i.block)&&r.some(n=>!!(o=n.call({lexer:this},e,t))&&(e=e.substring(o.raw.length),t.push(o),!0)))continue;if(o=this.tokenizer.space(e)){e=e.substring(o.raw.length);let n=t.at(-1);1===o.raw.length&&void 0!==n?n.raw+="\n":t.push(o);continue}if(o=this.tokenizer.code(e)){e=e.substring(o.raw.length);let n=t.at(-1);"paragraph"===(null==n?void 0:n.type)||"text"===(null==n?void 0:n.type)?(n.raw+=(n.raw.endsWith("\n")?"":"\n")+o.raw,n.text+="\n"+o.text,this.inlineQueue.at(-1).src=n.text):t.push(o);continue}if(o=this.tokenizer.fences(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.heading(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.hr(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.blockquote(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.list(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.html(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.def(e)){e=e.substring(o.raw.length);let n=t.at(-1);"paragraph"===(null==n?void 0:n.type)||"text"===(null==n?void 0:n.type)?(n.raw+=(n.raw.endsWith("\n")?"":"\n")+o.raw,n.text+="\n"+o.raw,this.inlineQueue.at(-1).src=n.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title},t.push(o));continue}if(o=this.tokenizer.table(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.lheading(e)){e=e.substring(o.raw.length),t.push(o);continue}let s=e;if(null!=(a=this.options.extensions)&&a.startBlock){let t,n=1/0,i=e.slice(1);this.options.extensions.startBlock.forEach(e=>{t=e.call({lexer:this},i),"number"==typeof t&&t>=0&&(n=Math.min(n,t))}),n<1/0&&n>=0&&(s=e.substring(0,n+1))}if(this.state.top&&(o=this.tokenizer.paragraph(s))){let i=t.at(-1);n&&"paragraph"===(null==i?void 0:i.type)?(i.raw+=(i.raw.endsWith("\n")?"":"\n")+o.raw,i.text+="\n"+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):t.push(o),n=s.length!==e.length,e=e.substring(o.raw.length);continue}if(o=this.tokenizer.text(e)){e=e.substring(o.raw.length);let n=t.at(-1);"text"===(null==n?void 0:n.type)?(n.raw+=(n.raw.endsWith("\n")?"":"\n")+o.raw,n.text+="\n"+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=n.text):t.push(o);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var n,i,r,a,o,s;let u,l=e,c=null;if(this.tokens.links){let e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(c=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(c[0].slice(c[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,c.index)+"["+"a".repeat(c[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(c=this.tokenizer.rules.inline.anyPunctuation.exec(l));)l=l.slice(0,c.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(c=this.tokenizer.rules.inline.blockSkip.exec(l));)u=c[2]?c[2].length:0,l=l.slice(0,c.index+u)+"["+"a".repeat(c[0].length-u-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);l=null!==(n=null==(r=null==(i=this.options.hooks)?void 0:i.emStrongMask)?void 0:r.call({lexer:this},l))&&void 0!==n?n:l;let d=!1,h="";for(;e;){let n;if(d||(h=""),d=!1,null!=(o=null==(a=this.options.extensions)?void 0:a.inline)&&o.some(i=>!!(n=i.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))continue;if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length);let i=t.at(-1);"text"===n.type&&"text"===(null==i?void 0:i.type)?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,l,h)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e))){e=e.substring(n.raw.length),t.push(n);continue}let i=e;if(null!=(s=this.options.extensions)&&s.startInline){let t,n=1/0,r=e.slice(1);this.options.extensions.startInline.forEach(e=>{t=e.call({lexer:this},r),"number"==typeof t&&t>=0&&(n=Math.min(n,t))}),n<1/0&&n>=0&&(i=e.substring(0,n+1))}if(n=this.tokenizer.inlineText(i)){e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(h=n.raw.slice(-1)),d=!0;let i=t.at(-1);"text"===(null==i?void 0:i.type)?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return t}},wI=class{constructor(e){ft(this,"options"),ft(this,"parser"),this.options=e||bR}space(e){return""}code({text:e,lang:t,escaped:n}){var i;let r=null==(i=(t||"").match(SR.notSpaceStart))?void 0:i[0],a=e.replace(SR.endingNewline,"")+"\n";return r?'<pre><code class="language-'+bI(r)+'">'+(n?a:bI(a,!0))+"</code></pre>\n":"<pre><code>"+(n?a:bI(a,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return"<hr>\n"}list(e){let t=e.ordered,n=e.start,i="";for(let t=0;t<e.items.length;t++){let n=e.items[t];i+=this.listitem(n)}let r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+i+"</"+r+">\n"}listitem(e){return`<li>${this.parser.parse(e.tokens)}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",n="";for(let t=0;t<e.header.length;t++)n+=this.tablecell(e.header[t]);t+=this.tablerow({text:n});let i="";for(let t=0;t<e.rows.length;t++){let r=e.rows[t];n="";for(let e=0;e<r.length;e++)n+=this.tablecell(r[e]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+i+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${bI(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let i=this.parser.parseInline(n),r=kI(e);if(null===r)return i;let a='<a href="'+(e=r)+'"';return t&&(a+=' title="'+bI(t)+'"'),a+=">"+i+"</a>",a}image({href:e,title:t,text:n,tokens:i}){i&&(n=this.parser.parseInline(i,this.parser.textRenderer));let r=kI(e);if(null===r)return bI(n);let a=`<img src="${e=r}" alt="${n}"`;return t&&(a+=` title="${bI(t)}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:bI(e.text)}},xI=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}checkbox({raw:e}){return e}},PI=class e{constructor(e){ft(this,"options"),ft(this,"renderer"),ft(this,"textRenderer"),this.options=e||bR,this.options.renderer=this.options.renderer||new wI,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new xI}static parse(t,n){return new e(n).parse(t)}static parseInline(t,n){return new e(n).parseInline(t)}parse(e){var t,n;let i="";for(let r=0;r<e.length;r++){let a=e[r];if(null!=(n=null==(t=this.options.extensions)?void 0:t.renderers)&&n[a.type]){let e=a,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(e.type)){i+=t||"";continue}}let o=a;switch(o.type){case"space":i+=this.renderer.space(o);break;case"hr":i+=this.renderer.hr(o);break;case"heading":i+=this.renderer.heading(o);break;case"code":i+=this.renderer.code(o);break;case"table":i+=this.renderer.table(o);break;case"blockquote":i+=this.renderer.blockquote(o);break;case"list":i+=this.renderer.list(o);break;case"checkbox":i+=this.renderer.checkbox(o);break;case"html":i+=this.renderer.html(o);break;case"def":i+=this.renderer.def(o);break;case"paragraph":i+=this.renderer.paragraph(o);break;case"text":i+=this.renderer.text(o);break;default:{let e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return i}parseInline(e,t=this.renderer){var n,i;let r="";for(let a=0;a<e.length;a++){let o=e[a];if(null!=(i=null==(n=this.options.extensions)?void 0:n.renderers)&&i[o.type]){let e=this.options.extensions.renderers[o.type].call({parser:this},o);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){r+=e||"";continue}}let s=o;switch(s.type){case"escape":case"text":r+=t.text(s);break;case"html":r+=t.html(s);break;case"link":r+=t.link(s);break;case"image":r+=t.image(s);break;case"checkbox":r+=t.checkbox(s);break;case"strong":r+=t.strong(s);break;case"em":r+=t.em(s);break;case"codespan":r+=t.codespan(s);break;case"br":r+=t.br(s);break;case"del":r+=t.del(s);break;default:{let e='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return r}},RI=(SI=class{constructor(e){ft(this,"options"),ft(this,"block"),this.options=e||bR}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?FI.lex:FI.lexInline}provideParser(){return this.block?PI.parse:PI.parseInline}},ft(SI,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),ft(SI,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),SI),II=new class{constructor(...e){ft(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),ft(this,"options",this.setOptions),ft(this,"parse",this.parseMarkdown(!0)),ft(this,"parseInline",this.parseMarkdown(!1)),ft(this,"Parser",PI),ft(this,"Renderer",wI),ft(this,"TextRenderer",xI),ft(this,"Lexer",FI),ft(this,"Tokenizer",_I),ft(this,"Hooks",RI),this.use(...e)}walkTokens(e,t){var n,i;let r=[];for(let a of e)switch(r=r.concat(t.call(this,a)),a.type){case"table":{let e=a;for(let n of e.header)r=r.concat(this.walkTokens(n.tokens,t));for(let n of e.rows)for(let e of n)r=r.concat(this.walkTokens(e.tokens,t));break}case"list":{let e=a;r=r.concat(this.walkTokens(e.items,t));break}default:{let e=a;null!=(i=null==(n=this.defaults.extensions)?void 0:n.childTokens)&&i[e.type]?this.defaults.extensions.childTokens[e.type].forEach(n=>{let i=e[n].flat(1/0);r=r.concat(this.walkTokens(i,t))}):e.tokens&&(r=r.concat(this.walkTokens(e.tokens,t)))}}return r}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(e=>{let n=p({},e);if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach(e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){let n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let i=e.renderer.apply(this,t);return!1===i&&(i=n.apply(this,t)),i}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");let n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)}),n.extensions=t),e.renderer){let t=this.defaults.renderer||new wI(this.defaults);for(let n in e.renderer){if(!(n in t))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;let i=n,r=e.renderer[i],a=t[i];t[i]=(...e)=>{let n=r.apply(t,e);return!1===n&&(n=a.apply(t,e)),n||""}}n.renderer=t}if(e.tokenizer){let t=this.defaults.tokenizer||new _I(this.defaults);for(let n in e.tokenizer){if(!(n in t))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;let i=n,r=e.tokenizer[i],a=t[i];t[i]=(...e)=>{let n=r.apply(t,e);return!1===n&&(n=a.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){let t=this.defaults.hooks||new RI;for(let n in e.hooks){if(!(n in t))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;let i=n,r=e.hooks[i],a=t[i];RI.passThroughHooks.has(n)?t[i]=e=>{if(this.defaults.async&&RI.passThroughHooksRespectAsync.has(n))return(async()=>{let n=await r.call(t,e);return a.call(t,n)})();let i=r.call(t,e);return a.call(t,i)}:t[i]=(...e)=>{if(this.defaults.async)return(async()=>{let n=await r.apply(t,e);return!1===n&&(n=await a.apply(t,e)),n})();let n=r.apply(t,e);return!1===n&&(n=a.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){let t=this.defaults.walkTokens,i=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(i.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults=p(p({},this.defaults),n)}),this}setOptions(e){return this.defaults=p(p({},this.defaults),e),this}lexer(e,t){return FI.lex(e,null!=t?t:this.defaults)}parser(e,t){return PI.parse(e,null!=t?t:this.defaults)}parseMarkdown(e){return(t,n)=>{let i=p({},n),r=p(p({},this.defaults),i),a=this.onError(!!r.silent,!!r.async);if(!0===this.defaults.async&&!1===i.async)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||null===t)return a(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(r.hooks&&(r.hooks.options=r,r.hooks.block=e),r.async)return(async()=>{let n=r.hooks?await r.hooks.preprocess(t):t,i=await(r.hooks?await r.hooks.provideLexer():e?FI.lex:FI.lexInline)(n,r),a=r.hooks?await r.hooks.processAllTokens(i):i;r.walkTokens&&await Promise.all(this.walkTokens(a,r.walkTokens));let o=await(r.hooks?await r.hooks.provideParser():e?PI.parse:PI.parseInline)(a,r);return r.hooks?await r.hooks.postprocess(o):o})().catch(a);try{r.hooks&&(t=r.hooks.preprocess(t));let n=(r.hooks?r.hooks.provideLexer():e?FI.lex:FI.lexInline)(t,r);r.hooks&&(n=r.hooks.processAllTokens(n)),r.walkTokens&&this.walkTokens(n,r.walkTokens);let i=(r.hooks?r.hooks.provideParser():e?PI.parse:PI.parseInline)(n,r);return r.hooks&&(i=r.hooks.postprocess(i)),i}catch(e){return a(e)}}}onError(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){let e="<p>An error occurred:</p><pre>"+bI(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}};function QI(e,t){return II.parse(e,t)}QI.options=QI.setOptions=function(e){return II.setOptions(e),QI.defaults=II.defaults,kR(QI.defaults),QI},QI.getDefaults=function(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},QI.defaults=bR,QI.use=function(...e){return II.use(...e),QI.defaults=II.defaults,kR(QI.defaults),QI},QI.walkTokens=function(e,t){return II.walkTokens(e,t)},QI.parseInline=II.parseInline,QI.Parser=PI,QI.parser=PI.parse,QI.Renderer=wI,QI.TextRenderer=xI,QI.Lexer=FI,QI.lexer=FI.lex,QI.Tokenizer=_I,QI.Hooks=RI,QI.parse=QI,QI.options,QI.setOptions,QI.use,QI.walkTokens,QI.parseInline,PI.parse,FI.lex;const NI=/\[\^[^\]\s]{1,200}\](?!:)/,BI=/\[\^[^\]\s]{1,200}\]:/,MI=/<\/(\w+)>/,LI=/<(\w+)[\s>]/,$I=e=>{let t=0;for(;t<e.length&&(" "===e[t]||"\t"===e[t]||"\n"===e[t]||"\r"===e[t]);)t+=1;return t+1<e.length&&"$"===e[t]&&"$"===e[t+1]},UI=e=>{let t=e.length-1;for(;t>=0&&(" "===e[t]||"\t"===e[t]||"\n"===e[t]||"\r"===e[t]);)t-=1;return t>=1&&"$"===e[t]&&"$"===e[t-1]},qI=e=>{let t=0;for(let n=0;n<e.length-1;n+=1)"$"===e[n]&&"$"===e[n+1]&&(t+=1,n+=1);return t},XI=/(\*\*)([^*]*?)$/,zI=/(__)([^_]*?)$/,ZI=/(\*\*\*)([^*]*?)$/,jI=/(\*)([^*]*?)$/,WI=/(_)([^_]*?)$/,GI=/(`)([^`]*?)$/,VI=/(~~)([^~]*?)$/,YI=/^[\s_~*`]*$/,HI=/^[\s]*[-*+][\s]+$/,KI=/(?:[0-9A-Z_a-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088F\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5C\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDC-\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDD40-\uDD65\uDD6F-\uDD85\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC7\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDDB0-\uDDDB\uDDE0-\uDDE9\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDF50-\uDF59\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D\uDD30-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE96\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF2-\uDFF6]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD833[\uDCF0-\uDCF9]|\uD834[\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDCD0-\uDCEB\uDCF0-\uDCF9\uDDD0-\uDDED\uDDF0-\uDDFA\uDEC0-\uDEDE\uDEE0-\uDEE2\uDEE4\uDEE5\uDEE7-\uDEED\uDEF0-\uDEF4\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79])/,JI=/^```[^`\n]*```?$/,eQ=/^\*{4,}$/,tQ=e=>{if(!e)return!1;const t=e.charCodeAt(0);return t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122||95===t||KI.test(e)},nQ=e=>{const t=(e.match(/```/g)||[]).length;return t>0&&t%2==0&&e.includes("\n")},iQ=(e,t)=>{let n=1;for(let i=t+1;i<e.length;i+=1)if("["===e[i])n+=1;else if("]"===e[i]&&(n-=1,0===n))return i;return-1},rQ=(e,t)=>{let n=!1,i=!1;for(let r=0;r<t;r+=1)"```"!==e.substring(r,r+3)?!i&&"`"===e[r]&&(n=!n):(i=!i,r+=2);return n||i},aQ=(e,t)=>{let n=!1,i=!1;for(let r=0;r<e.length&&r<t;r+=1)"\\"!==e[r]||"$"!==e[r+1]?"$"===e[r]&&("$"===e[r+1]?(i=!i,r+=1,n=!1):i||(n=!n)):r+=1;return n||i},oQ=(e,t)=>{const n="```"===e.substring(t,t+3),i=t>0&&"```"===e.substring(t-1,t+2),r=t>1&&"```"===e.substring(t-2,t+1);return n||i||r},sQ=e=>{if(!e||"string"!=typeof e)return e;let t=e;const n=(e=>{const t=e.lastIndexOf("](");if(-1!==t&&!rQ(e,t)&&!e.substring(t+2).includes(")")){const n=((e,t)=>{let n=1;for(let i=t-1;i>=0;i-=1)if("]"===e[i])n+=1;else if("["===e[i]&&(n-=1,0===n))return i;return-1})(e,t);if(-1!==n&&!rQ(e,n)){const i=n>0&&"!"===e[n-1],r=i?n-1:n,a=e.substring(0,r),o=e.substring(n+1,t);return i?a:`${a}[${o}](streamdown:incomplete-link)`}}for(let t=e.length-1;t>=0;t-=1)if("["===e[t]&&!rQ(e,t)){const n=t>0&&"!"===e[t-1],i=n?t-1:t;if(!e.substring(t+1).includes("]")){const t=e.substring(0,i);return n?t:`${e}](streamdown:incomplete-link)`}if(-1===iQ(e,t)){const t=e.substring(0,i);return n?t:`${e}](streamdown:incomplete-link)`}}return e})(t);return n.endsWith("](streamdown:incomplete-link)")?n:(t=n,t=(e=>{if(nQ(e)||eQ.test(e))return e;const t=e.match(ZI);if(t){const n=t[2];if(!n||YI.test(n))return e;if((e=>{let t=0,n=0;for(let i=0;i<e.length;i+=1)"*"===e[i]?n+=1:(n>=3&&(t+=Math.floor(n/3)),n=0);return n>=3&&(t+=Math.floor(n/3)),t})(e)%2==1)return`${e}***`}return e})(t),t=(e=>{if(nQ(e))return e;const t=e.match(XI);if(t){const n=t[2];if(!n||YI.test(n))return e;const i=e.lastIndexOf(t[1]),r=e.substring(0,i).lastIndexOf("\n"),a=-1===r?0:r+1,o=e.substring(a,i);if(HI.test(o)&&n.includes("\n"))return e;if((e.match(/\*\*/g)||[]).length%2==1)return`${e}**`}return e})(t),t=(e=>{const t=e.match(zI);if(t){const n=t[2];if(!n||YI.test(n))return e;const i=e.lastIndexOf(t[1]),r=e.substring(0,i).lastIndexOf("\n"),a=-1===r?0:r+1,o=e.substring(a,i);if(HI.test(o)&&n.includes("\n"))return e;if((e.match(/__/g)||[]).length%2==1)return`${e}__`}return e})(t),t=(e=>{if(nQ(e))return e;if(e.match(jI)){let t=-1;for(let n=0;n<e.length;n+=1)if("*"===e[n]&&"*"!==e[n-1]&&"*"!==e[n+1]&&"\\"!==e[n-1]){const i=n>0?e[n-1]:"",r=n<e.length-1?e[n+1]:"";if(i&&r&&tQ(i)&&tQ(r))continue;t=n;break}if(-1===t)return e;const n=e.substring(t+1);if(!n||YI.test(n))return e;if((e=>{let t=0;const n=e.length;for(let i=0;i<n;i+=1){if("*"!==e[i])continue;const r=i>0?e[i-1]:"",a=i<n-1?e[i+1]:"";if("\\"===r||"*"===r||"*"===a||r&&a&&tQ(r)&&tQ(a))continue;let o=0;for(let t=i-1;t>=0;t-=1)if("\n"===e[t]){o=t+1;break}let s=!0;for(let t=o;t<i;t+=1)if(" "!==e[t]&&"\t"!==e[t]){s=!1;break}s&&(" "===a||"\t"===a)||(t+=1)}return t})(e)%2==1)return`${e}*`}return e})(t),t=(e=>{if(nQ(e))return e;if(e.match(WI)){let t=-1;for(let n=0;n<e.length;n+=1)if("_"===e[n]&&"_"!==e[n-1]&&"_"!==e[n+1]&&"\\"!==e[n-1]&&!aQ(e,n)){const i=n>0?e[n-1]:"",r=n<e.length-1?e[n+1]:"";if(i&&r&&tQ(i)&&tQ(r))continue;t=n;break}if(-1===t)return e;const n=e.substring(t+1);if(!n||YI.test(n))return e;if((e=>{const t=e.includes("$");let n=0;const i=e.length;for(let r=0;r<i;r+=1){if("_"!==e[r])continue;const a=r>0?e[r-1]:"",o=r<i-1?e[r+1]:"";"\\"!==a&&(t&&aQ(e,r)||"_"===a||"_"===o||a&&o&&tQ(a)&&tQ(o)||(n+=1))}return n})(e)%2==1){let t=e.length;for(;t>0&&"\n"===e[t-1];)t-=1;return t<e.length?`${e.slice(0,t)}_${e.slice(t)}`:`${e}_`}}return e})(t),t=(e=>{if(e.match(JI)&&!e.includes("\n"))return e.endsWith("``")&&!e.endsWith("```")?`${e}\``:e;const t=(e.match(/```/g)||[]).length,n=t%2==1;if(t>0&&t%2==0&&e.includes("\n")||(e.endsWith("```\n")||e.endsWith("```"))&&t%2==0)return e;const i=e.match(GI);if(i&&!n){const t=i[2];if(!t||YI.test(t))return e;if((e=>{let t=0;for(let n=0;n<e.length;n+=1)"`"===e[n]&&!oQ(e,n)&&(t+=1);return t})(e)%2==1)return`${e}\``}return e})(t),t=(e=>{const t=e.match(VI);if(t){const n=t[2];if(!n||YI.test(n))return e;if((e.match(/~~/g)||[]).length%2==1)return`${e}~~`}return e})(t),t)};function uQ(e){var t;const n=function(){if(window.location!==window.parent.location){const{ancestorOrigins:e}=document.location;if(e&&e.length)return e[0];if(document.referrer)try{return new URL(document.referrer).origin}catch(e){}}return document.location.origin}(),i=[n,...CR(e)];return[ub,[uD,p(p({},eD),{},{protocols:p(p({},eD.protocols),{},{src:[...(null==(t=eD.protocols)?void 0:t.src)||[],"data"]})})],[lb,{allowedImagePrefixes:["*"],allowedLinkPrefixes:i,allowedProtocols:["*"],defaultOrigin:n,allowDataImages:!0}]]}const lQ=[[function(e){const t=e||Jy,n=this.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),r=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),a=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(function(e){return AT([{text:BT},{document:{91:{name:"gfmFootnoteDefinition",tokenize:$y,continuation:{tokenize:Uy},exit:qy}},text:{91:{name:"gfmFootnoteCall",tokenize:Ly},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:By,resolveTo:My}}},Xy(e),{flow:{null:{name:"table",tokenize:jy,resolveAll:Wy}}},{text:{91:Hy}}])}(t)),r.push([{transforms:[pk],enter:{literalAutolink:sk,literalAutolinkEmail:uk,literalAutolinkHttp:uk,literalAutolinkWww:uk},exit:{literalAutolink:hk,literalAutolinkEmail:dk,literalAutolinkHttp:lk,literalAutolinkWww:ck}},{enter:{gfmFootnoteCallString:Dk,gfmFootnoteCall:vk,gfmFootnoteDefinitionLabelString:Ek,gfmFootnoteDefinition:Ck},exit:{gfmFootnoteCallString:bk,gfmFootnoteCall:kk,gfmFootnoteDefinitionLabelString:Tk,gfmFootnoteDefinition:yk}},{canContainEols:["delete"],enter:{strikethrough:xk},exit:{strikethrough:Pk}},{enter:{table:fT,tableData:DT,tableHeader:DT,tableRow:OT},exit:{codeText:vT,table:mT,tableData:gT,tableHeader:gT,tableRow:gT}},{exit:{taskListCheckValueChecked:bT,taskListCheckValueUnchecked:bT,paragraph:kT}}]),a.push(function(e){return{extensions:[{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:ak,notInConstruct:ok},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:ak,notInConstruct:ok},{character:":",before:"[ps]",after:"\\/",inConstruct:ak,notInConstruct:ok}]},Sk(e),{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:wk}],handlers:{delete:Rk}},CT(e),{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:TT}}]}}(t))},{}],[function(){const e=this.data();(e.micromarkExtensions||(e.micromarkExtensions=[])).push({text:{[Ob]:ek,[gb]:ek},insideSpan:{null:[ek]}})},{}],[function(e){const t=this.data();(t.micromarkExtensions||(t.micromarkExtensions=[])).push(function(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:function(e,n,i){const{now:r,sliceSerialize:a,previous:o}=this,s=Wb(o)?Gb(o,r(),a):o,u=$b(s),l=new Vb(s,r(),a),c=Ub(u,l.value.bind(l),s),d=this.events;let h=0;return function(t){return s===Db&&"characterEscape"!==d[d.length-1][1].type?i(t):(e.enter("strikethroughSequenceTemporary"),p(t))};function p(o){const u=$b(s);if(o===Db)return h>1?i(o):(e.consume(o),h++,p);if(h<2&&!t)return i(o);const l=e.exit("strikethroughSequenceTemporary"),d=$b(jb(o)?Yb(o,r(),a):o),f=Xb(c)||qb(c),m=Xb(d)||qb(d),O=zb(c)||function(e){return e===Nb.ivs}(u);return l._open=!m||2===d&&(f||O),l._close=!f||2===u&&(m||zb(d)),n(o)}},resolveAll:function(e,t){let n=-1;for(;++n<e.length;)if("enter"===e[n][0]&&"strikethroughSequenceTemporary"===e[n][1].type&&e[n][1]._close){let i=n;for(;i--;)if("exit"===e[i][0]&&"strikethroughSequenceTemporary"===e[i][1].type&&e[i][1]._open&&e[n][1].end.offset-e[n][1].start.offset===e[i][1].end.offset-e[i][1].start.offset){e[n][1].type="strikethroughSequence",e[i][1].type="strikethroughSequence";const r={type:"strikethrough",start:Object.assign({},e[i][1].start),end:Object.assign({},e[n][1].end)},a={type:"strikethroughText",start:Object.assign({},e[i][1].end),end:Object.assign({},e[n][1].start)},o=[["enter",r,t],["enter",e[i][1],t],["exit",e[i][1],t],["enter",a,t]],s=t.parser.constructs.insideSpan.null;s&&Hb(o,o.length,0,Jb(s,e.slice(i+1,n),t)),Hb(o,o.length,0,[["exit",a,t],["enter",e[n][1],t],["exit",e[n][1],t],["exit",r,t]]),Hb(e,i-1,n-i+3,o),n=i+o.length-2;break}}for(n=-1;++n<e.length;)"strikethroughSequenceTemporary"===e[n][1].type&&(e[n][1].type="data");return e}};return null==t&&(t=!0),{text:{[Db]:n},insideSpan:{null:[n]},attentionMarkers:{null:[Db]}}}(e))},{}]],cQ=Wt({isAnimating:!1}),dQ=Jn(({content:e,shouldParseIncompleteMarkdown:t,markdownOptions:n})=>{const i=Pn(()=>"string"==typeof e&&t?sQ(e.trim()):e,[e,t]);return dn(OR,p(p({},n),{},{children:i}))},(e,t)=>e.content===t.content&&e.shouldParseIncompleteMarkdown===t.shouldParseIncompleteMarkdown&&e.markdownOptions===t.markdownOptions),hQ=Jn(({children:e,parseIncompleteMarkdown:t=!0,className:n,isAnimating:i=!1,linkConfig:r})=>{const a=Nn(),o=Pn(()=>(e=>{const t=NI.test(e),n=BI.test(e);if(t||n)return[e];const i=FI.lex(e,{gfm:!0}),r=[],a=[];for(const e of i){const t=e.raw,n=r.length;if(a.length>0){if(r[n-1]+=t,"html"===e.type){const e=t.match(MI);if(e){const t=e[1];a.at(-1)===t&&a.pop()}}}else{if("html"===e.type&&e.block){const e=t.match(LI);if(e){const n=e[1];t.includes(`</${n}>`)||a.push(n)}}if("$$"===t.trim()&&n>0){const e=r[n-1],i=$I(e),a=qI(e);if(i&&a%2==1){r[n-1]=e+t;continue}}if(n>0&&UI(t)){const e=r[n-1],i=$I(e),a=qI(e),o=qI(t);if(i&&a%2==1&&!$I(t)&&1===o){r[n-1]=e+t;continue}}r.push(t)}}return r})("string"==typeof e?e:""),[e]),s=Pn(()=>({components:jx,rehypePlugins:uQ(r),remarkPlugins:lQ}),[r]);return dn(cx.Provider,{value:dx,children:dn(cQ.Provider,{value:{isAnimating:i},children:dn("div",{className:mg("markdown *:first:mt-0 *:last:mb-0",n),children:o.map((e,n)=>dn(dQ,{content:e,shouldParseIncompleteMarkdown:t,markdownOptions:s},`${a}-block-${n}`))})})})},(e,t)=>e.children===t.children&&e.isAnimating===t.isAnimating&&e.className===t.className&&e.parseIncompleteMarkdown===t.parseIncompleteMarkdown&&e.linkConfig===t.linkConfig);function pQ({entry:e}){const t=function(){const e=ha("markdown-link-allowed-hosts"),t=ha("markdown-link-include-www"),n=ha("markdown-link-allow-http"),i=hm();return Sr(()=>{var r,a,o,s;let u=[];if(e.value)u=e.value.split(",").map(e=>e.trim()).filter(Boolean);else{const e=i.value.markdown_link_allowed_hosts;e&&e.length>0&&(u=e.some(e=>"*"===e.hostname)?["*"]:e.map(e=>e.hostname))}return{allowedHosts:u,includeWww:null===(r=null!==(a=sn(t.value))&&void 0!==a?a:i.value.markdown_link_include_www)||void 0===r||r,allowHttp:null===(o=null!==(s=sn(n.value))&&void 0!==s?s:i.value.markdown_link_allow_http)||void 0===o||o}})}(),n=hm().value.strip_audio_tags?function(e){return e.replace(Lg,"").trim()}(e.message):e.message;return dn("div",{className:"pr-8",children:dn(hQ,{linkConfig:t.value,children:n})})}function fQ({entry:e}){const{previewUrl:t}=wm();return dn("div",{className:eO("flex gap-2.5 transition-[opacity,transform] duration-200 data-hidden:opacity-0 data-hidden:scale-75","user"===e.role?"justify-end pl-16 origin-top-right":"pr-16 origin-top-left"),children:["agent"===e.role&&dn("img",{src:t,alt:"AI agent avatar",className:"bg-base-border shrink-0 w-5 h-5 rounded-full"}),dn("div",{dir:"auto",className:eO("px-3 py-2.5 rounded-bubble text-sm min-w-0 wrap-break-word whitespace-pre-wrap","user"===e.role?"bg-accent text-accent-primary":"bg-base-active text-base-primary"),children:e.message})]})}function mQ({entry:e}){const t=Sm(),{lastId:n}=lm(),i=function(){const e=hm();return Sr(()=>{var t,n;return null!==(t=null==(n=e.value.end_feedback)?void 0:n.type)&&void 0!==t?t:null})}();return dn("div",{className:"px-8 flex flex-col",children:["rating"===i.value&&dn(Mg,{}),dn("div",{className:"text-xs text-base-subtle text-center transition-opacity duration-200 data-hidden:opacity-0",children:["user"===e.role?t.user_ended_conversation:t.agent_ended_conversation,dn("br",{}),n.value&&dn("span",{className:"break-all",children:[t.conversation_id,": ",n.value]})]})]})}function OQ({entry:e}){const t=Sm(),{lastId:n}=lm();return dn("div",{className:"px-8 text-xs text-base-error text-center transition-opacity duration-200 data-hidden:opacity-0",children:[t.error_occurred,dn("br",{}),e.message,n.value&&dn(Tt,{children:[dn("br",{}),dn("span",{className:"text-base-subtle break-all",children:[t.conversation_id,": ",n.value]})]})]})}function gQ({entry:e}){const t=Sm();return dn("div",{className:"px-8 text-xs text-base-subtle text-center transition-opacity duration-200 data-hidden:opacity-0",children:"text"===e.mode?t.switched_to_text_mode:t.switched_to_voice_mode})}function DQ({entry:e}){var t;const n=Sm(),i=null!==(t=e.status)&&void 0!==t?t:rm;return dn("div",{className:"-my-4 first:mt-0 last:mb-0 flex items-center",children:dn("div",{className:"flex items-center h-7 px-2 gap-1 rounded-button border border-base-border bg-base",children:[i===rm&&dn(Tt,{children:[dn(Tg,{name:"loader",size:"md",className:"animate-spin shrink-0"}),dn("span",{className:"text-xs leading-4",children:n.agent_working})]}),i===am&&dn(Ym,{active:!0,initial:!1,children:dn("span",{className:"flex items-center gap-1 transition-[opacity,transform] duration-200 data-hidden:opacity-0 data-hidden:scale-75",children:[dn(Tg,{name:"check",size:"sm",className:"shrink-0"}),dn("span",{className:"text-xs leading-4",children:n.agent_done})]})}),i===om&&dn(Ym,{active:!0,initial:!1,children:dn("span",{className:"flex items-center gap-1 transition-[opacity,transform] duration-200 data-hidden:opacity-0 data-hidden:scale-75",children:[dn(Tg,{name:"x",size:"sm",className:"shrink-0 text-base-error"}),dn("span",{className:"text-xs text-base-error leading-4",children:n.agent_error})]})})]})})}function vQ(e){return"disconnection"===e.type?dn(mQ,{entry:e}):"mode_toggle"===e.type?dn(gQ,{entry:e}):"error"===e.type?dn(OQ,{entry:e}):"tool_call"===e.type?dn(DQ,{entry:e}):"agent"===e.role?dn(pQ,{entry:e}):dn(fQ,{entry:e})}function EQ({entry:e,animateIn:t}){return dn(Ym,{initial:!t,active:!0,children:vQ(e)})}function CQ({scrollPinned:e,transcript:t}){const{scrollContainer:n,contentRef:i,handleScroll:r,handleWheel:a,handleTouchStart:o,handleTouchMove:s,firstRender:u}=function({scrollPinned:e}){const t=wn(null),n=wn(null),i=wn(!0),r=Rn(()=>{const e=t.current;e&&e.scrollTo({top:e.scrollHeight,behavior:"smooth"})},[]),a=Rn(t=>{t.deltaY<0&&(e.value=!1)},[e]),o=wn(null),s=Rn(e=>{const t=e.touches[0];t&&(o.current=t.clientY)},[]),u=Rn(t=>{const n=t.touches[0];n&&null!==o.current&&(n.clientY>o.current&&(e.value=!1),o.current=n.clientY)},[e]),l=Rn(()=>{const n=t.current;if(!n)return;const{scrollTop:i,scrollHeight:r,clientHeight:a}=n;r-i-a<=16&&(e.value=!0)},[e]);return _n(()=>{i.current=!1;const a=n.current,o=t.current;if(!a||!o)return;let s=a.getBoundingClientRect().height;const u=new ResizeObserver(([t])=>{const n=t.contentRect.height,i=n>s;s=n,i&&e.peek()&&r()});return u.observe(a),()=>u.disconnect()},[e,r]),{scrollContainer:t,contentRef:n,handleScroll:l,handleWheel:a,handleTouchStart:s,handleTouchMove:u,firstRender:i}}({scrollPinned:e});return dn("div",{ref:n,className:"px-4 pt-20 pb-4 grow overflow-y-auto z-2",onScroll:r,onWheel:a,onTouchStart:o,onTouchMove:s,children:dn("div",{ref:i,className:"flex flex-col gap-6",children:t.value.map((e,t)=>dn(EQ,{entry:e,animateIn:!u.current},`${t}-${e.conversationIndex}`))})})}function bQ(e){let{className:t}=e,n=m(e,le);return dn("textarea",p({className:eO("px-3 py-[calc(theme(spacing.2)-1px)] border text-sm text-base-primary bg-base border-base-border rounded-input focus-ring resize-none [field-sizing:content] placeholder:text-base-subtle",t)},n))}function kQ(){const e=Sm(),{rating:t,feedbackText:n}=Dg(),i=Rn(e=>{n.value=e.currentTarget.value},[]);return dn("div",{className:"grow flex flex-col overflow-y-auto overflow-x-hidden px-4",children:dn("div",{className:"flex flex-col gap-8 min-h-full pt-4 pb-2",children:[dn("div",{className:"flex flex-col items-center justify-center gap-3",children:[dn(yg,{orbColor:"var(--el-base-subtle)",circleBackgroundColor:"var(--el-base)",starColor:"var(--el-base-primary)",className:"w-20 h-22"}),null!==t.value&&dn(Qg,{rating:t.value,min:1,max:5}),dn("div",{className:"text-center",children:[dn("p",{className:"text-sm text-base-primary font-medium",children:e.thanks_for_feedback}),dn("p",{className:"text-sm text-base-subtle",children:e.thanks_for_feedback_details})]})]}),dn(bQ,{className:"w-full min-h-[6lh]",placeholder:e.follow_up_feedback_placeholder,rows:6,value:n,onInput:i})]})})}function TQ(){const e=Sm(),{currentContent:t}=Cg(),{submitFeedback:n}=Dg(),i=Rn(()=>{n(),t.value="transcript"},[n]);return dn("div",{className:"shrink-0 overflow-hidden flex p-3 items-end justify-end",children:dn(wg,{variant:"primary",onClick:i,children:e.submit})})}function yQ(e,[t,n]){return Math.min(n,Math.max(t,e))}function AQ(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(null==e||e(i),!1===n||!i.defaultPrevented)return null==t?void 0:t(i)}}function SQ(e,t=[]){let n=[];const i=()=>{const t=n.map(e=>Wt(e));return function(n){const i=(null==n?void 0:n[e])||t;return Pn(()=>({[`__scope${e}`]:p(p({},n),{},{[e]:i})}),[n,i])}};return i.scopeName=e,[function(t,i){const r=Wt(i),a=n.length;n=[...n,i];const o=t=>{var n;const{scope:i,children:o}=t,s=m(t,ce),u=(null==(n=null==i?void 0:i[e])?void 0:n[a])||r,l=Pn(()=>s,Object.values(s));return dn(u.Provider,{value:l,children:o})};return o.displayName=t+"Provider",[o,function(n,o){var s;const u=In((null==(s=null==o?void 0:o[e])?void 0:s[a])||r);if(u)return u;if(void 0!==i)return i;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},_Q(i,...t)]}function _Q(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const i=n.reduce((t,{useScope:n,scopeName:i})=>{const r=n(e)[`__scope${i}`];return p(p({},t),r)},{});return Pn(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function FQ(e){const t=wQ(e),n=ni((e,n)=>{const{children:i}=e,r=m(e,de),a=ri.toArray(i),o=a.find(PQ);if(o){const e=o.props.children,i=a.map(t=>t===o?ri.count(e)>1?ri.only(null):Ni(e)?e.props.children:null:t);return dn(t,p(p({},r),{},{ref:n,children:Ni(e)?Li(e,void 0,i):null}))}return dn(t,p(p({},r),{},{ref:n,children:i}))});return n.displayName=`${e}.Slot`,n}function wQ(e){const t=ni((e,t)=>{const{children:n}=e,i=m(e,he);if(Ni(n)){const e=function(e){var t,n;let i=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,r=i&&"isReactWarning"in i&&i.isReactWarning;return r?e.ref:(i=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,r=i&&"isReactWarning"in i&&i.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}(n),r=function(e,t){const n=p({},t);for(const i in t){const r=e[i],a=t[i];/^on[A-Z]/.test(i)?r&&a?n[i]=(...e)=>{const t=a(...e);return r(...e),t}:r&&(n[i]=r):"style"===i?n[i]=p(p({},r),a):"className"===i&&(n[i]=[r,a].filter(Boolean).join(" "))}return p(p({},e),n)}(i,n.props);return n.type!==Tt&&(r.ref=t?Bm(t,e):e),Li(n,r)}return ri.count(n)>1?ri.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xQ=Symbol("radix.slottable");function PQ(e){return Ni(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===xQ}var RQ=Wt(void 0),IQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=FQ(`Primitive.${t}`),i=ni((e,i)=>{const{asChild:r}=e,a=m(e,fe),o=r?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),dn(o,p(p({},a),{},{ref:i}))});return i.displayName=`Primitive.${t}`,p(p({},e),{},{[t]:i})},{});function QQ(e){const t=wn(e);return _n(()=>{t.current=e}),Pn(()=>(...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)},[])}var NQ,BQ="dismissableLayer.update",MQ=Wt({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),LQ=ni((e,t)=>{var n;const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:s,onDismiss:u}=e,l=m(e,me),c=In(MQ),[d,h]=An(null),f=null!==(n=null==d?void 0:d.ownerDocument)&&void 0!==n?n:null==globalThis?void 0:globalThis.document,[,O]=An({}),g=Mm(t,e=>h(e)),D=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),E=D.indexOf(v),C=d?D.indexOf(d):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,k=C>=E,T=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=QQ(e),i=wn(!1),r=wn(()=>{});return _n(()=>{const e=e=>{if(e.target&&!i.current){let i=function(){qQ("dismissableLayer.pointerDownOutside",n,a,{discrete:!0})};const a={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",r.current),r.current=i,t.addEventListener("click",r.current,{once:!0})):i()}else t.removeEventListener("click",r.current);i.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",e),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}(e=>{const t=e.target,n=[...c.branches].some(e=>e.contains(t));!k||n||(null==a||a(e),null==s||s(e),e.defaultPrevented||null==u||u())},f),y=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=QQ(e),i=wn(!1);return _n(()=>{const e=e=>{e.target&&!i.current&&qQ("dismissableLayer.focusOutside",n,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}(e=>{const t=e.target;[...c.branches].some(e=>e.contains(t))||(null==o||o(e),null==s||s(e),e.defaultPrevented||null==u||u())},f);return function(e,t=(null==globalThis?void 0:globalThis.document)){const n=QQ(e);_n(()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{C===c.layers.size-1&&(null==r||r(e),!e.defaultPrevented&&u&&(e.preventDefault(),u()))},f),_n(()=>{if(d)return i&&(0===c.layersWithOutsidePointerEventsDisabled.size&&(NQ=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),UQ(),()=>{i&&1===c.layersWithOutsidePointerEventsDisabled.size&&(f.body.style.pointerEvents=NQ)}},[d,f,i,c]),_n(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),UQ())},[d,c]),_n(()=>{const e=()=>O({});return document.addEventListener(BQ,e),()=>document.removeEventListener(BQ,e)},[]),dn(IQ.div,p(p({},l),{},{ref:g,style:p({pointerEvents:b?k?"auto":"none":void 0},e.style),onFocusCapture:AQ(e.onFocusCapture,y.onFocusCapture),onBlurCapture:AQ(e.onBlurCapture,y.onBlurCapture),onPointerDownCapture:AQ(e.onPointerDownCapture,T.onPointerDownCapture)}))});LQ.displayName="DismissableLayer";var $Q=ni((e,t)=>{const n=In(MQ),i=wn(null),r=Mm(t,i);return _n(()=>{const e=i.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),dn(IQ.div,p(p({},e),{},{ref:r}))});function UQ(){const e=new CustomEvent(BQ);document.dispatchEvent(e)}function qQ(e,t,n,{discrete:i}){const r=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),i?function(e,t){e&&Xi(()=>e.dispatchEvent(t))}(r,a):r.dispatchEvent(a)}$Q.displayName="DismissableLayerBranch";var XQ=0;function zQ(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ZQ="focusScope.autoFocusOnMount",jQ="focusScope.autoFocusOnUnmount",WQ={bubbles:!1,cancelable:!0},GQ=ni((e,t)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:a}=e,o=m(e,Oe),[s,u]=An(null),l=QQ(r),c=QQ(a),d=wn(null),h=Mm(t,e=>u(e)),f=wn({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_n(()=>{if(i){let e=function(e){if(f.paused||!s)return;const t=e.target;s.contains(t)?d.current=t:KQ(d.current,{select:!0})},t=function(e){if(f.paused||!s)return;const t=e.relatedTarget;null!==t&&(s.contains(t)||KQ(d.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&KQ(s)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const i=new MutationObserver(n);return s&&i.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),i.disconnect()}}},[i,s,f.paused]),_n(()=>{if(s){JQ.add(f);const e=document.activeElement;if(!s.contains(e)){const t=new CustomEvent(ZQ,WQ);s.addEventListener(ZQ,l),s.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){const n=document.activeElement;for(const i of e)if(KQ(i,{select:t}),document.activeElement!==n)return}(function(e){return e.filter(e=>"A"!==e.tagName)}(VQ(s)),{select:!0}),document.activeElement===e&&KQ(s))}return()=>{s.removeEventListener(ZQ,l),setTimeout(()=>{const t=new CustomEvent(jQ,WQ);s.addEventListener(jQ,c),s.dispatchEvent(t),t.defaultPrevented||KQ(null!=e?e:document.body,{select:!0}),s.removeEventListener(jQ,c),JQ.remove(f)},0)}}},[s,l,c,f]);const O=Rn(e=>{if(!n&&!i||f.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=document.activeElement;if(t&&r){const t=e.currentTarget,[i,a]=function(e){const t=VQ(e);return[YQ(t,e),YQ(t.reverse(),e)]}(t);i&&a?e.shiftKey||r!==a?e.shiftKey&&r===i&&(e.preventDefault(),n&&KQ(a,{select:!0})):(e.preventDefault(),n&&KQ(i,{select:!0})):r===t&&e.preventDefault()}},[n,i,f.paused]);return dn(IQ.div,p(p({tabIndex:-1},o),{},{ref:h,onKeyDown:O}))});function VQ(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function YQ(e,t){for(const n of e)if(!HQ(n,{upTo:t}))return n}function HQ(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function KQ(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}GQ.displayName="FocusScope";var JQ=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null==n||n.pause()),e=eN(e,t),e.unshift(t)},remove(t){var n;e=eN(e,t),null==(n=e[0])||n.resume()}}}();function eN(e,t){const n=[...e],i=n.indexOf(t);return-1!==i&&n.splice(i,1),n}var tN=null!=globalThis&&globalThis.document?Fn:()=>{},nN=Wi[" useId ".trim().toString()]||(()=>{}),iN=0;function rN(e){const[t,n]=An(nN());return tN(()=>{n(e=>null!=e?e:String(iN++))},[e]),t?`radix-${t}`:""}const aN=["top","right","bottom","left"],oN=Math.min,sN=Math.max,uN=Math.round,lN=Math.floor,cN=e=>({x:e,y:e}),dN={left:"right",right:"left",bottom:"top",top:"bottom"},hN={start:"end",end:"start"};function pN(e,t,n){return sN(e,oN(t,n))}function fN(e,t){return"function"==typeof e?e(t):e}function mN(e){return e.split("-")[0]}function ON(e){return e.split("-")[1]}function gN(e){return"x"===e?"y":"x"}function DN(e){return"y"===e?"height":"width"}const vN=new Set(["top","bottom"]);function EN(e){return vN.has(mN(e))?"y":"x"}function CN(e){return gN(EN(e))}function bN(e){return e.replace(/start|end/g,e=>hN[e])}const kN=["left","right"],TN=["right","left"],yN=["top","bottom"],AN=["bottom","top"];function SN(e){return e.replace(/left|right|bottom|top/g,e=>dN[e])}function _N(e){return"number"!=typeof e?function(e){return p({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function FN(e){const{x:t,y:n,width:i,height:r}=e;return{width:i,height:r,top:n,left:t,right:t+i,bottom:n+r,x:t,y:n}}function wN(e,t,n){let{reference:i,floating:r}=e;const a=EN(t),o=CN(t),s=DN(o),u=mN(t),l="y"===a,c=i.x+i.width/2-r.width/2,d=i.y+i.height/2-r.height/2,h=i[s]/2-r[s]/2;let p;switch(u){case"top":p={x:c,y:i.y-r.height};break;case"bottom":p={x:c,y:i.y+i.height};break;case"right":p={x:i.x+i.width,y:d};break;case"left":p={x:i.x-r.width,y:d};break;default:p={x:i.x,y:i.y}}switch(ON(t)){case"start":p[o]-=h*(n&&l?-1:1);break;case"end":p[o]+=h*(n&&l?-1:1)}return p}async function xN(e,t){var n;void 0===t&&(t={});const{x:i,y:r,platform:a,rects:o,elements:s,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=fN(t,e),f=_N(p),m=s[h?"floating"===d?"reference":"floating":d],O=FN(await a.getClippingRect({element:null==(n=await(null==a.isElement?void 0:a.isElement(m)))||n?m:m.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(s.floating)),boundary:l,rootBoundary:c,strategy:u})),g="floating"===d?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,D=await(null==a.getOffsetParent?void 0:a.getOffsetParent(s.floating)),v=await(null==a.isElement?void 0:a.isElement(D))&&await(null==a.getScale?void 0:a.getScale(D))||{x:1,y:1},E=FN(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:g,offsetParent:D,strategy:u}):g);return{top:(O.top-E.top+f.top)/v.y,bottom:(E.bottom-O.bottom+f.bottom)/v.y,left:(O.left-E.left+f.left)/v.x,right:(E.right-O.right+f.right)/v.x}}function PN(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function RN(e){return aN.some(t=>e[t]>=0)}const IN=new Set(["left","top"]);function QN(){return typeof window<"u"}function NN(e){return LN(e)?(e.nodeName||"").toLowerCase():"#document"}function BN(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function MN(e){var t;return null==(t=(LN(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function LN(e){return!!QN()&&(e instanceof Node||e instanceof BN(e).Node)}function $N(e){return!!QN()&&(e instanceof Element||e instanceof BN(e).Element)}function UN(e){return!!QN()&&(e instanceof HTMLElement||e instanceof BN(e).HTMLElement)}function qN(e){return!(!QN()||typeof ShadowRoot>"u")&&(e instanceof ShadowRoot||e instanceof BN(e).ShadowRoot)}const XN=new Set(["inline","contents"]);function zN(e){const{overflow:t,overflowX:n,overflowY:i,display:r}=nB(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!XN.has(r)}const ZN=new Set(["table","td","th"]);function jN(e){return ZN.has(NN(e))}const WN=[":popover-open",":modal"];function GN(e){return WN.some(t=>{try{return e.matches(t)}catch(e){return!1}})}const VN=["transform","translate","scale","rotate","perspective"],YN=["transform","translate","scale","rotate","perspective","filter"],HN=["paint","layout","strict","content"];function KN(e){const t=JN(),n=$N(e)?nB(e):e;return VN.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||YN.some(e=>(n.willChange||"").includes(e))||HN.some(e=>(n.contain||"").includes(e))}function JN(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const eB=new Set(["html","body","#document"]);function tB(e){return eB.has(NN(e))}function nB(e){return BN(e).getComputedStyle(e)}function iB(e){return $N(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function rB(e){if("html"===NN(e))return e;const t=e.assignedSlot||e.parentNode||qN(e)&&e.host||MN(e);return qN(t)?t.host:t}function aB(e){const t=rB(e);return tB(t)?e.ownerDocument?e.ownerDocument.body:e.body:UN(t)&&zN(t)?t:aB(t)}function oB(e,t,n){var i;void 0===t&&(t=[]),void 0===n&&(n=!0);const r=aB(e),a=r===(null==(i=e.ownerDocument)?void 0:i.body),o=BN(r);if(a){const e=sB(o);return t.concat(o,o.visualViewport||[],zN(r)?r:[],e&&n?oB(e):[])}return t.concat(r,oB(r,[],n))}function sB(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function uB(e){const t=nB(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const r=UN(e),a=r?e.offsetWidth:n,o=r?e.offsetHeight:i,s=uN(n)!==a||uN(i)!==o;return s&&(n=a,i=o),{width:n,height:i,$:s}}function lB(e){return $N(e)?e:e.contextElement}function cB(e){const t=lB(e);if(!UN(t))return cN(1);const n=t.getBoundingClientRect(),{width:i,height:r,$:a}=uB(t);let o=(a?uN(n.width):n.width)/i,s=(a?uN(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const dB=cN(0);function hB(e){const t=BN(e);return JN()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:dB}function pB(e,t,n,i){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=e.getBoundingClientRect(),a=lB(e);let o=cN(1);t&&(i?$N(i)&&(o=cB(i)):o=cB(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==BN(e))&&t}(a,n,i)?hB(a):cN(0);let u=(r.left+s.x)/o.x,l=(r.top+s.y)/o.y,c=r.width/o.x,d=r.height/o.y;if(a){const e=BN(a),t=i&&$N(i)?BN(i):i;let n=e,r=sB(n);for(;r&&i&&t!==n;){const e=cB(r),t=r.getBoundingClientRect(),i=nB(r),a=t.left+(r.clientLeft+parseFloat(i.paddingLeft))*e.x,o=t.top+(r.clientTop+parseFloat(i.paddingTop))*e.y;u*=e.x,l*=e.y,c*=e.x,d*=e.y,u+=a,l+=o,n=BN(r),r=sB(n)}}return FN({width:c,height:d,x:u,y:l})}function fB(e,t){const n=iB(e).scrollLeft;return t?t.left+n:pB(MN(e)).left+n}function mB(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-fB(e,n),y:n.top+t.scrollTop}}const OB=new Set(["absolute","fixed"]);function gB(e,t,n){let i;if("viewport"===t)i=function(e,t){const n=BN(e),i=MN(e),r=n.visualViewport;let a=i.clientWidth,o=i.clientHeight,s=0,u=0;if(r){a=r.width,o=r.height;const e=JN();(!e||e&&"fixed"===t)&&(s=r.offsetLeft,u=r.offsetTop)}const l=fB(i);if(l<=0){const e=i.ownerDocument,t=e.body,n=getComputedStyle(t),r="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,o=Math.abs(i.clientWidth-t.clientWidth-r);o<=25&&(a-=o)}else l<=25&&(a+=l);return{width:a,height:o,x:s,y:u}}(e,n);else if("document"===t)i=function(e){const t=MN(e),n=iB(e),i=e.ownerDocument.body,r=sN(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),a=sN(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let o=-n.scrollLeft+fB(e);const s=-n.scrollTop;return"rtl"===nB(i).direction&&(o+=sN(t.clientWidth,i.clientWidth)-r),{width:r,height:a,x:o,y:s}}(MN(e));else if($N(t))i=function(e,t){const n=pB(e,!0,"fixed"===t),i=n.top+e.clientTop,r=n.left+e.clientLeft,a=UN(e)?cB(e):cN(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:r*a.x,y:i*a.y}}(t,n);else{const n=hB(e);i={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return FN(i)}function DB(e,t){const n=rB(e);return!(n===t||!$N(n)||tB(n))&&("fixed"===nB(n).position||DB(n,t))}function vB(e,t){const n=t.get(e);if(n)return n;let i=oB(e,[],!1).filter(e=>$N(e)&&"body"!==NN(e)),r=null;const a="fixed"===nB(e).position;let o=a?rB(e):e;for(;$N(o)&&!tB(o);){const t=nB(o),n=KN(o);!n&&"fixed"===t.position&&(r=null),(a?!n&&!r:!n&&"static"===t.position&&r&&OB.has(r.position)||zN(o)&&!n&&DB(e,o))?i=i.filter(e=>e!==o):r=t,o=rB(o)}return t.set(e,i),i}function EB(e,t,n){const i=UN(t),r=MN(t),a="fixed"===n,o=pB(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const u=cN(0);function l(){u.x=fB(r)}if(i||!i&&!a)if(("body"!==NN(t)||zN(r))&&(s=iB(t)),i){const e=pB(t,!0,a,t);u.x=e.x+t.clientLeft,u.y=e.y+t.clientTop}else r&&l();a&&!i&&r&&l();const c=!r||i||a?cN(0):mB(r,s);return{x:o.left+s.scrollLeft-u.x-c.x,y:o.top+s.scrollTop-u.y-c.y,width:o.width,height:o.height}}function CB(e){return"static"===nB(e).position}function bB(e,t){if(!UN(e)||"fixed"===nB(e).position)return null;if(t)return t(e);let n=e.offsetParent;return MN(e)===n&&(n=n.ownerDocument.body),n}function kB(e,t){const n=BN(e);if(GN(e))return n;if(!UN(e)){let t=rB(e);for(;t&&!tB(t);){if($N(t)&&!CB(t))return t;t=rB(t)}return n}let i=bB(e,t);for(;i&&jN(i)&&CB(i);)i=bB(i,t);return i&&tB(i)&&CB(i)&&!KN(i)?n:i||function(e){let t=rB(e);for(;UN(t)&&!tB(t);){if(KN(t))return t;if(GN(t))return null;t=rB(t)}return null}(e)||n}const TB={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:i,strategy:r}=e;const a="fixed"===r,o=MN(i),s=!!t&&GN(t.floating);if(i===o||s&&a)return n;let u={scrollLeft:0,scrollTop:0},l=cN(1);const c=cN(0),d=UN(i);if((d||!d&&!a)&&(("body"!==NN(i)||zN(o))&&(u=iB(i)),UN(i))){const e=pB(i);l=cB(i),c.x=e.x+i.clientLeft,c.y=e.y+i.clientTop}const h=!o||d||a?cN(0):mB(o,u);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-u.scrollLeft*l.x+c.x+h.x,y:n.y*l.y-u.scrollTop*l.y+c.y+h.y}},getDocumentElement:MN,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:i,strategy:r}=e;const a=[..."clippingAncestors"===n?GN(t)?[]:vB(t,this._c):[].concat(n),i],o=a[0],s=a.reduce((e,n)=>{const i=gB(t,n,r);return e.top=sN(i.top,e.top),e.right=oN(i.right,e.right),e.bottom=oN(i.bottom,e.bottom),e.left=sN(i.left,e.left),e},gB(t,o,r));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:kB,getElementRects:async function(e){const t=this.getOffsetParent||kB,n=this.getDimensions,i=await n(e.floating);return{reference:EB(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=uB(e);return{width:t,height:n}},getScale:cB,isElement:$N,isRTL:function(e){return"rtl"===nB(e).direction}};function yB(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}const AB=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:r,middlewareData:a,rects:o,initialPlacement:s,platform:u,elements:l}=t,c=fN(e,t),{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:O="none",flipAlignment:g=!0}=c,D=m(c,ge);if(null!=(n=a.arrow)&&n.alignmentOffset)return{};const v=mN(r),E=EN(s),C=mN(s)===s,b=await(null==u.isRTL?void 0:u.isRTL(l.floating)),k=p||(C||!g?[SN(s)]:function(e){const t=SN(e);return[bN(e),t,bN(t)]}(s)),T="none"!==O;!p&&T&&k.push(...function(e,t,n,i){const r=ON(e);let a=function(e,t,n){switch(e){case"top":case"bottom":return n?t?TN:kN:t?kN:TN;case"left":case"right":return t?yN:AN;default:return[]}}(mN(e),"start"===n,i);return r&&(a=a.map(e=>e+"-"+r),t&&(a=a.concat(a.map(bN)))),a}(s,g,O,b));const y=[s,...k],A=await xN(t,D),S=[];let _=(null==(i=a.flip)?void 0:i.overflows)||[];if(d&&S.push(A[v]),h){const e=function(e,t,n){void 0===n&&(n=!1);const i=ON(e),r=CN(e),a=DN(r);let o="x"===r?i===(n?"end":"start")?"right":"left":"start"===i?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=SN(o)),[o,SN(o)]}(r,o,b);S.push(A[e[0]],A[e[1]])}if(_=[..._,{placement:r,overflows:S}],!S.every(e=>e<=0)){var F,w;const e=((null==(F=a.flip)?void 0:F.index)||0)+1,t=y[e];if(t&&("alignment"!==h||E===EN(t)||_.every(e=>EN(e.placement)!==E||e.overflows[0]>0)))return{data:{index:e,overflows:_},reset:{placement:t}};let n=null==(w=_.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:w.placement;if(!n)switch(f){case"bestFit":{var x;const e=null==(x=_.filter(e=>{if(T){const t=EN(e.placement);return t===E||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:x[0];e&&(n=e);break}case"initialPlacement":n=s}if(r!==n)return{reset:{placement:n}}}return{}}}},SB=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:r,rects:a,platform:o,elements:s,middlewareData:u}=t,{element:l,padding:c=0}=fN(e,t)||{};if(null==l)return{};const d=_N(c),h={x:n,y:i},f=CN(r),m=DN(f),O=await o.getDimensions(l),g="y"===f,D=g?"top":"left",v=g?"bottom":"right",E=g?"clientHeight":"clientWidth",C=a.reference[m]+a.reference[f]-h[f]-a.floating[m],b=h[f]-a.reference[f],k=await(null==o.getOffsetParent?void 0:o.getOffsetParent(l));let T=k?k[E]:0;(!T||!await(null==o.isElement?void 0:o.isElement(k)))&&(T=s.floating[E]||a.floating[m]);const y=C/2-b/2,A=T/2-O[m]/2-1,S=oN(d[D],A),_=oN(d[v],A),F=S,w=T-O[m]-_,x=T/2-O[m]/2+y,P=pN(F,x,w),R=!u.arrow&&null!=ON(r)&&x!==P&&a.reference[m]/2-(x<F?S:_)-O[m]/2<0,I=R?x<F?x-F:x-w:0;return{[f]:h[f]+I,data:p({[f]:P,centerOffset:x-P-I},R&&{alignmentOffset:I}),reset:R}}});var _B=typeof document<"u"?Fn:function(){};function FB(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,i,r;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;0!==i--;)if(!FB(e[i],t[i]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(i=n;0!==i--;)if(!{}.hasOwnProperty.call(t,r[i]))return!1;for(i=n;0!==i--;){const n=r[i];if(!("_owner"===n&&e.$$typeof||FB(e[n],t[n])))return!1}return!0}return e!=e&&t!=t}function wB(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function xB(e,t){const n=wB(e);return Math.round(t*n)/n}function PB(e){const t=wn(e);return _B(()=>{t.current=e}),t}const RB=(e,t)=>p(p({},function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:r,y:a,placement:o,middlewareData:s}=t,u=await async function(e,t){const{placement:n,platform:i,elements:r}=e,a=await(null==i.isRTL?void 0:i.isRTL(r.floating)),o=mN(n),s=ON(n),u="y"===EN(n),l=IN.has(o)?-1:1,c=a&&u?-1:1,d=fN(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:f}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"==typeof f&&(p="end"===s?-1*f:f),u?{x:p*c,y:h*l}:{x:h*l,y:p*c}}(t,e);return o===(null==(n=s.offset)?void 0:n.placement)&&null!=(i=s.arrow)&&i.alignmentOffset?{}:{x:r+u.x,y:a+u.y,data:p(p({},u),{},{placement:o})}}}}(e)),{},{options:[e,t]}),IB=(e,t)=>p(p({},function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:r}=t,a=fN(e,t),{mainAxis:o=!0,crossAxis:s=!1,limiter:u={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}}}=a,l=m(a,ve),c={x:n,y:i},d=await xN(t,l),h=EN(mN(r)),f=gN(h);let O=c[f],g=c[h];if(o){const e="y"===f?"bottom":"right";O=pN(O+d["y"===f?"top":"left"],O,O-d[e])}if(s){const e="y"===h?"bottom":"right";g=pN(g+d["y"===h?"top":"left"],g,g-d[e])}const D=u.fn(p(p({},t),{},{[f]:O,[h]:g}));return p(p({},D),{},{data:{x:D.x-n,y:D.y-i,enabled:{[f]:o,[h]:s}}})}}}(e)),{},{options:[e,t]}),QB=(e,t)=>p(p({},function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:r,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:u=!0,crossAxis:l=!0}=fN(e,t),c={x:n,y:i},d=EN(r),h=gN(d);let f=c[h],m=c[d];const O=fN(s,t),g="number"==typeof O?{mainAxis:O,crossAxis:0}:p({mainAxis:0,crossAxis:0},O);if(u){const e="y"===h?"height":"width",t=a.reference[h]-a.floating[e]+g.mainAxis,n=a.reference[h]+a.reference[e]-g.mainAxis;f<t?f=t:f>n&&(f=n)}if(l){var D,v;const e="y"===h?"width":"height",t=IN.has(mN(r)),n=a.reference[d]-a.floating[e]+(t&&(null==(D=o.offset)?void 0:D[d])||0)+(t?0:g.crossAxis),i=a.reference[d]+a.reference[e]+(t?0:(null==(v=o.offset)?void 0:v[d])||0)-(t?g.crossAxis:0);m<n?m=n:m>i&&(m=i)}return{[h]:f,[d]:m}}}}(e)),{},{options:[e,t]}),NB=(e,t)=>p(p({},AB(e)),{},{options:[e,t]}),BB=(e,t)=>p(p({},function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,i;const{placement:r,rects:a,platform:o,elements:s}=t,u=fN(e,t),{apply:l=()=>{}}=u,c=m(u,Ee),d=await xN(t,c),h=mN(r),f=ON(r),O="y"===EN(r),{width:g,height:D}=a.floating;let v,E;"top"===h||"bottom"===h?(v=h,E=f===(await(null==o.isRTL?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(E=h,v="end"===f?"top":"bottom");const C=D-d.top-d.bottom,b=g-d.left-d.right,k=oN(D-d[v],C),T=oN(g-d[E],b),y=!t.middlewareData.shift;let A=k,S=T;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(S=b),null!=(i=t.middlewareData.shift)&&i.enabled.y&&(A=C),y&&!f){const e=sN(d.left,0),t=sN(d.right,0),n=sN(d.top,0),i=sN(d.bottom,0);O?S=g-2*(0!==e||0!==t?e+t:sN(d.left,d.right)):A=D-2*(0!==n||0!==i?n+i:sN(d.top,d.bottom))}await l(p(p({},t),{},{availableWidth:S,availableHeight:A}));const _=await o.getDimensions(s.floating);return g!==_.width||D!==_.height?{reset:{rects:!0}}:{}}}}(e)),{},{options:[e,t]}),MB=(e,t)=>p(p({},function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,i=fN(e,t),{strategy:r="referenceHidden"}=i,a=m(i,De);switch(r){case"referenceHidden":{const e=PN(await xN(t,p(p({},a),{},{elementContext:"reference"})),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:RN(e)}}}case"escaped":{const e=PN(await xN(t,p(p({},a),{},{altBoundary:!0})),n.floating);return{data:{escapedOffsets:e,escaped:RN(e)}}}default:return{}}}}}(e)),{},{options:[e,t]}),LB=(e,t)=>p(p({},(e=>({name:"arrow",options:e,fn(t){const{element:n,padding:i}="function"==typeof e?e(t):e;return n&&function(e){return{}.hasOwnProperty.call(e,"current")}(n)?null!=n.current?SB({element:n.current,padding:i}).fn(t):{}:n?SB({element:n,padding:i}).fn(t):{}}}))(e)),{},{options:[e,t]});var $B=ni((e,t)=>{const{children:n,width:i=10,height:r=5}=e,a=m(e,Ce);return dn(IQ.svg,p(p({},a),{},{ref:t,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:dn("polygon",{points:"0,0 30,0 15,10"})}))});$B.displayName="Arrow";var UB=$B,qB="Popper",[XB,zB]=SQ(qB),[ZB,jB]=XB(qB),WB=e=>{const{__scopePopper:t,children:n}=e,[i,r]=An(null);return dn(ZB,{scope:t,anchor:i,onAnchorChange:r,children:n})};WB.displayName=qB;var GB="PopperAnchor",VB=ni((e,t)=>{const{__scopePopper:n,virtualRef:i}=e,r=m(e,be),a=jB(GB,n),o=wn(null),s=Mm(t,o),u=wn(null);return _n(()=>{const e=u.current;u.current=(null==i?void 0:i.current)||o.current,e!==u.current&&a.onAnchorChange(u.current)}),i?null:dn(IQ.div,p(p({},r),{},{ref:s}))});VB.displayName=GB;var YB="PopperContent",[HB,KB]=XB(YB),JB=ni((e,t)=>{var n,i,r,a,o,s,u,l;const{__scopePopper:c,side:d="bottom",sideOffset:h=0,align:f="center",alignOffset:O=0,arrowPadding:g=0,avoidCollisions:D=!0,collisionBoundary:v=[],collisionPadding:E=0,sticky:C="partial",hideWhenDetached:b=!1,updatePositionStrategy:k="optimized",onPlaced:T}=e,y=m(e,ke),A=jB(YB,c),[S,_]=An(null),F=Mm(t,e=>_(e)),[w,x]=An(null),P=function(e){const[t,n]=An(void 0);return tN(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t)||!t.length)return;const i=t[0];let r,a;if("borderBoxSize"in i){const e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,a=t.blockSize}else r=e.offsetWidth,a=e.offsetHeight;n({width:r,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}(w),R=null!==(n=null==P?void 0:P.width)&&void 0!==n?n:0,I=null!==(i=null==P?void 0:P.height)&&void 0!==i?i:0,Q=d+("center"!==f?"-"+f:""),N="number"==typeof E?E:p({top:0,right:0,bottom:0,left:0},E),B=Array.isArray(v)?v:[v],M=B.length>0,L={padding:N,boundary:B.filter(iM),altBoundary:M},{refs:$,floatingStyles:U,placement:q,isPositioned:X,middlewareData:z}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:u,open:l}=e,[c,d]=An({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,f]=An(i);FB(h,i)||f(i);const[m,O]=An(null),[g,D]=An(null),v=Rn(e=>{e!==k.current&&(k.current=e,O(e))},[]),E=Rn(e=>{e!==T.current&&(T.current=e,D(e))},[]),C=a||m,b=o||g,k=wn(null),T=wn(null),y=wn(c),A=null!=u,S=PB(u),_=PB(r),F=PB(l),w=Rn(()=>{if(!k.current||!T.current)return;const e={placement:t,strategy:n,middleware:h};_.current&&(e.platform=_.current),((e,t,n)=>{const i=new Map,r=p({platform:TB},n),a=p(p({},r.platform),{},{_c:i});return(async(e,t,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:a=[],platform:o}=n,s=a.filter(Boolean),u=await(null==o.isRTL?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:r}),{x:c,y:d}=wN(l,i,u),h=i,f={},m=0;for(let n=0;n<s.length;n++){const{name:a,fn:O}=s[n],{x:g,y:D,data:v,reset:E}=await O({x:c,y:d,initialPlacement:i,placement:h,strategy:r,middlewareData:f,rects:l,platform:o,elements:{reference:e,floating:t}});c=null!=g?g:c,d=null!=D?D:d,f=p(p({},f),{},{[a]:p(p({},f[a]),v)}),E&&m<=50&&(m++,"object"==typeof E&&(E.placement&&(h=E.placement),E.rects&&(l=!0===E.rects?await o.getElementRects({reference:e,floating:t,strategy:r}):E.rects),({x:c,y:d}=wN(l,h,u))),n=-1)}return{x:c,y:d,placement:h,strategy:r,middlewareData:f}})(e,t,p(p({},r),{},{platform:a}))})(k.current,T.current,e).then(e=>{const t=p(p({},e),{},{isPositioned:!1!==F.current});x.current&&!FB(y.current,t)&&(y.current=t,Xi(()=>{d(t)}))})},[h,t,n,_,F]);_B(()=>{!1===l&&y.current.isPositioned&&(y.current.isPositioned=!1,d(e=>p(p({},e),{},{isPositioned:!1})))},[l]);const x=wn(!1);_B(()=>(x.current=!0,()=>{x.current=!1}),[]),_B(()=>{if(C&&(k.current=C),b&&(T.current=b),C&&b){if(S.current)return S.current(C,b,w);w()}},[C,b,w,S,A]);const P=Pn(()=>({reference:k,floating:T,setReference:v,setFloating:E}),[v,E]),R=Pn(()=>({reference:C,floating:b}),[C,b]),I=Pn(()=>{const e={position:n,left:0,top:0};if(!R.floating)return e;const t=xB(R.floating,c.x),i=xB(R.floating,c.y);return s?p(p({},e),{},{transform:"translate("+t+"px, "+i+"px)"},wB(R.floating)>=1.5&&{willChange:"transform"}):{position:n,left:t,top:i}},[n,s,R.floating,c.x,c.y]);return Pn(()=>p(p({},c),{},{update:w,refs:P,elements:R,floatingStyles:I}),[c,w,P,R,I])}({strategy:"fixed",placement:Q,whileElementsMounted:(...e)=>function(e,t,n,i){void 0===i&&(i={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:o="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:u=!1}=i,l=lB(e),c=r||a?[...l?oB(l):[],...oB(t)]:[];c.forEach(e=>{r&&e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)});const d=l&&s?function(e,t){let n,i=null;const r=MN(e);function a(){var e;clearTimeout(n),null==(e=i)||e.disconnect(),i=null}return function o(s,u){void 0===s&&(s=!1),void 0===u&&(u=1),a();const l=e.getBoundingClientRect(),{left:c,top:d,width:h,height:f}=l;if(s||t(),!h||!f)return;const m={rootMargin:-lN(d)+"px "+-lN(r.clientWidth-(c+h))+"px "+-lN(r.clientHeight-(d+f))+"px "+-lN(c)+"px",threshold:sN(0,oN(1,u))||1};let O=!0;function g(t){const i=t[0].intersectionRatio;if(i!==u){if(!O)return o();i?o(!1,i):n=setTimeout(()=>{o(!1,1e-7)},1e3)}1===i&&!yB(l,e.getBoundingClientRect())&&o(),O=!1}try{i=new IntersectionObserver(g,p(p({},m),{},{root:r.ownerDocument}))}catch(e){i=new IntersectionObserver(g,m)}i.observe(e)}(!0),a}(l,n):null;let h=-1,f=null;o&&(f=new ResizeObserver(e=>{let[i]=e;i&&i.target===l&&f&&(f.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var e;null==(e=f)||e.observe(t)})),n()}),l&&!u&&f.observe(l),f.observe(t));let m,O=u?pB(e):null;return u&&function t(){const i=pB(e);O&&!yB(O,i)&&n(),O=i,m=requestAnimationFrame(t)}(),n(),()=>{var e;c.forEach(e=>{r&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)}),null==d||d(),null==(e=f)||e.disconnect(),f=null,u&&cancelAnimationFrame(m)}}(...e,{animationFrame:"always"===k}),elements:{reference:A.anchor},middleware:[RB({mainAxis:h+I,alignmentAxis:O}),D&&IB(p({mainAxis:!0,crossAxis:!1,limiter:"partial"===C?QB():void 0},L)),D&&NB(p({},L)),BB(p(p({},L),{},{apply:({elements:e,rects:t,availableWidth:n,availableHeight:i})=>{const{width:r,height:a}=t.reference,o=e.floating.style;o.setProperty("--radix-popper-available-width",`${n}px`),o.setProperty("--radix-popper-available-height",`${i}px`),o.setProperty("--radix-popper-anchor-width",`${r}px`),o.setProperty("--radix-popper-anchor-height",`${a}px`)}})),w&&LB({element:w,padding:g}),rM({arrowWidth:R,arrowHeight:I}),b&&MB(p({strategy:"referenceHidden"},L))]}),[Z,j]=aM(q),W=QQ(T);tN(()=>{X&&(null==W||W())},[X,W]);const G=null==(r=z.arrow)?void 0:r.x,V=null==(a=z.arrow)?void 0:a.y,Y=0!==(null==(o=z.arrow)?void 0:o.centerOffset),[H,K]=An();return tN(()=>{S&&K(window.getComputedStyle(S).zIndex)},[S]),dn("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:p(p({},U),{},{transform:X?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[null==(s=z.transformOrigin)?void 0:s.x,null==(u=z.transformOrigin)?void 0:u.y].join(" ")},(null==(l=z.hide)?void 0:l.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:dn(HB,{scope:c,placedSide:Z,onArrowChange:x,arrowX:G,arrowY:V,shouldHideArrow:Y,children:dn(IQ.div,p(p({"data-side":Z,"data-align":j},y),{},{ref:F,style:p(p({},y.style),{},{animation:X?void 0:"none"})}))})})});JB.displayName=YB;var eM="PopperArrow",tM={top:"bottom",right:"left",bottom:"top",left:"right"},nM=ni(function(e,t){const{__scopePopper:n}=e,i=m(e,Te),r=KB(eM,n),a=tM[r.placedSide];return dn("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:dn(UB,p(p({},i),{},{ref:t,style:p(p({},i.style),{},{display:"block"})}))})});function iM(e){return null!==e}nM.displayName=eM;var rM=e=>({name:"transformOrigin",options:e,fn(t){var n,i,r,a,o;const{placement:s,rects:u,middlewareData:l}=t,c=0!==(null==(r=l.arrow)?void 0:r.centerOffset),d=c?0:e.arrowWidth,h=c?0:e.arrowHeight,[p,f]=aM(s),m={start:"0%",center:"50%",end:"100%"}[f],O=(null!==(n=null==(a=l.arrow)?void 0:a.x)&&void 0!==n?n:0)+d/2,g=(null!==(i=null==(o=l.arrow)?void 0:o.y)&&void 0!==i?i:0)+h/2;let D="",v="";return"bottom"===p?(D=c?m:`${O}px`,v=-h+"px"):"top"===p?(D=c?m:`${O}px`,v=`${u.floating.height+h}px`):"right"===p?(D=-h+"px",v=c?m:`${g}px`):"left"===p&&(D=`${u.floating.width+h}px`,v=c?m:`${g}px`),{data:{x:D,y:v}}}});function aM(e){const[t,n="center"]=e.split("-");return[t,n]}var oM=WB,sM=VB,uM=JB,lM=nM,cM=ni((e,t)=>{var n;const{container:i}=e,r=m(e,ye),[a,o]=An(!1);tN(()=>o(!0),[]);const s=i||a&&(null==(n=null==globalThis?void 0:globalThis.document)?void 0:n.body);return s?ji.createPortal(dn(IQ.div,p(p({},r),{},{ref:t})),s):null});cM.displayName="Portal";var dM=Wi[" useInsertionEffect ".trim().toString()]||tN;function hM({prop:e,defaultProp:t,onChange:n=()=>{},caller:i}){const[r,a,o]=function({defaultProp:e,onChange:t}){const[n,i]=An(e),r=wn(n),a=wn(t);return dM(()=>{a.current=t},[t]),_n(()=>{var e;r.current!==n&&(null==(e=a.current)||e.call(a,n),r.current=n)},[n,r]),[n,i,a]}({defaultProp:t,onChange:n}),s=void 0!==e,u=s?e:r;{const t=wn(void 0!==e);_n(()=>{const e=t.current;e!==s&&console.warn(`${i} is changing from ${e?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),t.current=s},[s,i])}return[u,Rn(t=>{var n;if(s){const i=function(e){return"function"==typeof e}(t)?t(e):t;i!==e&&(null==(n=o.current)||n.call(o,i))}else a(t)},[s,e,a,o])]}var pM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),fM=ni((e,t)=>dn(IQ.span,p(p({},e),{},{ref:t,style:p(p({},pM),e.style)})));fM.displayName="VisuallyHidden";var mM=new WeakMap,OM=new WeakMap,gM={},DM=0,vM=function(e){return e&&(e.host||vM(e.parentNode))},EM=function(e,t,n){void 0===n&&(n="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),r=function(e){return typeof document>"u"?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live], script"))),function(e,t,n,i){var r=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=vM(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return!!e})}(t,Array.isArray(e)?e:[e]);gM[n]||(gM[n]=new WeakMap);var a=gM[n],o=[],s=new Set,u=new Set(r),l=function(e){!e||s.has(e)||(s.add(e),l(e.parentNode))};r.forEach(l);var c=function(e){!e||u.has(e)||Array.prototype.forEach.call(e.children,function(e){if(s.has(e))c(e);else try{var t=e.getAttribute(i),r=null!==t&&"false"!==t,u=(mM.get(e)||0)+1,l=(a.get(e)||0)+1;mM.set(e,u),a.set(e,l),o.push(e),1===u&&r&&OM.set(e,!0),1===l&&e.setAttribute(n,"true"),r||e.setAttribute(i,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return c(t),s.clear(),DM++,function(){o.forEach(function(e){var t=mM.get(e)-1,r=a.get(e)-1;mM.set(e,t),a.set(e,r),t||(OM.has(e)||e.removeAttribute(i),OM.delete(e)),r||e.removeAttribute(n)}),--DM||(mM=new WeakMap,mM=new WeakMap,OM=new WeakMap,gM={})}}(i,r,n,"aria-hidden")):function(){return null}},CM=function(){return CM=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},CM.apply(this,arguments)};function bM(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}var kM="right-scroll-bar-position",TM="width-before-scroll-bar";function yM(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var AM=typeof window<"u"?Fn:_n,SM=new WeakMap;function _M(e){return e}var FM=function(e){var t=e.sideCar,n=bM(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return Ct(i,CM({},n))};FM.isSideCarExport=!0;var wM=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=_M);var n=[],i=!1;return{read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:null},useMedium:function(e){var r=t(e,i);return n.push(r),function(){n=n.filter(function(e){return e!==r})}},assignSyncMedium:function(e){for(i=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){i=!0;var t=[];if(n.length){var r=n;n=[],r.forEach(e),t=n}var a=function(){var n=t;t=[],n.forEach(e)},o=function(){return Promise.resolve().then(a)};o(),n={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),n}}}}}();return t.options=CM({async:!0,ssr:!1},e),t}(),xM=function(){},PM=ni(function(e,t){var n=wn(null),i=An({onScrollCapture:xM,onWheelCapture:xM,onTouchMoveCapture:xM}),r=i[0],a=i[1],o=e.forwardProps,s=e.children,u=e.className,l=e.removeScrollBar,c=e.enabled,d=e.shards,h=e.sideCar,p=e.noRelative,f=e.noIsolation,m=e.inert,O=e.allowPinchZoom,g=e.as,D=void 0===g?"div":g,v=e.gapMode,E=bM(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,b=function(e){var t=function(e,t){var n=An(function(){return{value:null,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}})[0];return n.callback=t,n.facade}(0,function(t){return e.forEach(function(e){return yM(e,t)})});return AM(function(){var n=SM.get(t);if(n){var i=new Set(n),r=new Set(e),a=t.current;i.forEach(function(e){r.has(e)||yM(e,null)}),r.forEach(function(e){i.has(e)||yM(e,a)})}SM.set(t,e)},[e]),t}([n,t]),k=CM(CM({},E),r);return Ct(Tt,null,c&&Ct(C,{sideCar:wM,removeScrollBar:l,shards:d,noRelative:p,noIsolation:f,inert:m,setCallbacks:a,allowPinchZoom:!!O,lockRef:n,gapMode:v}),o?Li(ri.only(s),CM(CM({},k),{ref:b})):Ct(D,CM({},k,{className:u,ref:b}),s))});PM.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},PM.classNames={fullWidth:TM,zeroRight:kM};var RM=function(){var e=0,t=null;return{add:function(n){0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}())&&(function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}(t,n),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},IM=function(){var e=function(){var e=RM();return function(t,n){_n(function(){return e.add(t),function(){e.remove()}},[t&&n])}}();return function(t){var n=t.styles,i=t.dynamic;return e(n,i),null}},QM={left:0,top:0,right:0,gap:0},NM=function(e){return parseInt(e||"",10)||0},BM=IM(),MM="data-scroll-locked",LM=function(e,t,n,i){var r=e.left,a=e.top,o=e.right,s=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(i,";\n   padding-right: ").concat(s,"px ").concat(i,";\n  }\n  body[").concat(MM,"] {\n    overflow: hidden ").concat(i,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(i,";"),"margin"===n&&"\n    padding-left: ".concat(r,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(i,";\n    "),"padding"===n&&"padding-right: ".concat(s,"px ").concat(i,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(kM," {\n    right: ").concat(s,"px ").concat(i,";\n  }\n  \n  .").concat(TM," {\n    margin-right: ").concat(s,"px ").concat(i,";\n  }\n  \n  .").concat(kM," .").concat(kM," {\n    right: 0 ").concat(i,";\n  }\n  \n  .").concat(TM," .").concat(TM," {\n    margin-right: 0 ").concat(i,";\n  }\n  \n  body[").concat(MM,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},$M=function(){var e=parseInt(document.body.getAttribute(MM)||"0",10);return isFinite(e)?e:0},UM=function(e){var t=e.noRelative,n=e.noImportant,i=e.gapMode,r=void 0===i?"margin":i;_n(function(){return document.body.setAttribute(MM,($M()+1).toString()),function(){var e=$M()-1;e<=0?document.body.removeAttribute(MM):document.body.setAttribute(MM,e.toString())}},[]);var a=Pn(function(){return function(e){if(void 0===e&&(e="margin"),typeof window>"u")return QM;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],i=t["padding"===e?"paddingTop":"marginTop"],r=t["padding"===e?"paddingRight":"marginRight"];return[NM(n),NM(i),NM(r)]}(e),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}}(r)},[r]);return Ct(BM,{styles:LM(a,!t,r,n?"":"!important")})},qM=!1;if(typeof window<"u")try{var XM=Object.defineProperty({},"passive",{get:function(){return qM=!0,!0}});window.addEventListener("test",XM,XM),window.removeEventListener("test",XM,XM)}catch(e){qM=!1}var zM=!!qM&&{passive:!1},ZM=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},jM=function(e,t){var n=t.ownerDocument,i=t;do{if(typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host),WM(e,i)){var r=GM(e,i);if(r[1]>r[2])return!0}i=i.parentNode}while(i&&i!==n.body);return!1},WM=function(e,t){return"v"===e?function(e){return ZM(e,"overflowY")}(t):function(e){return ZM(e,"overflowX")}(t)},GM=function(e,t){return"v"===e?function(e){return[e.scrollTop,e.scrollHeight,e.clientHeight]}(t):function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t)},VM=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},YM=function(e){return[e.deltaX,e.deltaY]},HM=function(e){return e&&"current"in e?e.current:e},KM=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},JM=0,eL=[];function tL(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const nL=(wM.useMedium(function(e){var t=wn([]),n=wn([0,0]),i=wn(),r=An(JM++)[0],a=An(IM)[0],o=wn(e);_n(function(){o.current=e},[e]),_n(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var t=function(e,t){for(var n,i=0,r=t.length;i<r;i++)(n||!(i in t))&&(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(HM)).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var s=Rn(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!o.current.allowPinchZoom;var r,a=VM(e),s=n.current,u="deltaX"in e?e.deltaX:s[0]-a[0],l="deltaY"in e?e.deltaY:s[1]-a[1],c=e.target,d=Math.abs(u)>Math.abs(l)?"h":"v";if("touches"in e&&"h"===d&&"range"===c.type)return!1;var h=window.getSelection(),p=h&&h.anchorNode;if(p&&(p===c||p.contains(c)))return!1;var f=jM(d,c);if(!f)return!0;if(f?r=d:(r="v"===d?"h":"v",f=jM(d,c)),!f)return!1;if(!i.current&&"changedTouches"in e&&(u||l)&&(i.current=r),!r)return!0;var m=i.current||r;return function(e,t,n,i){var r=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=r*i,o=n.target,s=t.contains(o),u=!1,l=a>0,c=0,d=0;do{if(!o)break;var h=GM(e,o),p=h[0],f=h[1]-h[2]-r*p;(p||f)&&WM(e,o)&&(c+=f,d+=p);var m=o.parentNode;o=m&&m.nodeType===Node.DOCUMENT_FRAGMENT_NODE?m.host:m}while(!s&&o!==document.body||s&&(t.contains(o)||t===o));return(l&&Math.abs(c)<1||!l&&Math.abs(d)<1)&&(u=!0),u}(m,t,e,"h"===m?u:l)},[]),u=Rn(function(e){var n=e;if(eL.length&&eL[eL.length-1]===a){var i="deltaY"in n?YM(n):VM(n),r=t.current.filter(function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,i)})[0];if(r&&r.should)return void(n.cancelable&&n.preventDefault());if(!r){var u=(o.current.shards||[]).map(HM).filter(Boolean).filter(function(e){return e.contains(n.target)});(u.length>0?s(n,u[0]):!o.current.noIsolation)&&n.cancelable&&n.preventDefault()}}},[]),l=Rn(function(e,n,i,r){var a={name:e,delta:n,target:i,should:r,shadowParent:tL(i)};t.current.push(a),setTimeout(function(){t.current=t.current.filter(function(e){return e!==a})},1)},[]),c=Rn(function(e){n.current=VM(e),i.current=void 0},[]),d=Rn(function(t){l(t.type,YM(t),t.target,s(t,e.lockRef.current))},[]),h=Rn(function(t){l(t.type,VM(t),t.target,s(t,e.lockRef.current))},[]);_n(function(){return eL.push(a),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",u,zM),document.addEventListener("touchmove",u,zM),document.addEventListener("touchstart",c,zM),function(){eL=eL.filter(function(e){return e!==a}),document.removeEventListener("wheel",u,zM),document.removeEventListener("touchmove",u,zM),document.removeEventListener("touchstart",c,zM)}},[]);var p=e.removeScrollBar;return Ct(Tt,null,e.inert?Ct(a,{styles:KM(r)}):null,p?Ct(UM,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}),FM);var iL=ni(function(e,t){return Ct(PM,CM({},e,{ref:t,sideCar:nL}))});iL.classNames=PM.classNames;var rL=[" ","Enter","ArrowUp","ArrowDown"],aL=[" ","Enter"],oL="Select",[sL,uL,lL]=function(e){const t=e+"CollectionProvider",[n,i]=SQ(t),[r,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=e=>{const{scope:t,children:n}=e,i=ji.useRef(null),a=ji.useRef(new Map).current;return dn(r,{scope:t,itemMap:a,collectionRef:i,children:n})};o.displayName=t;const s=e+"CollectionSlot",u=FQ(s),l=ji.forwardRef((e,t)=>{const{scope:n,children:i}=e,r=Mm(t,a(s,n).collectionRef);return dn(u,{ref:r,children:i})});l.displayName=s;const c=e+"CollectionItemSlot",d="data-radix-collection-item",h=FQ(c),f=ji.forwardRef((e,t)=>{const{scope:n,children:i}=e,r=m(e,pe),o=ji.useRef(null),s=Mm(t,o),u=a(c,n);return ji.useEffect(()=>(u.itemMap.set(o,p({ref:o},r)),()=>{u.itemMap.delete(o)})),dn(h,{[d]:"",ref:s,children:i})});return f.displayName=c,[{Provider:o,Slot:l,ItemSlot:f},function(t){const n=a(e+"CollectionConsumer",t);return ji.useCallback(()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${d}]`));return Array.from(n.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current))},[n.collectionRef,n.itemMap])},i]}(oL),[cL]=SQ(oL,[lL,zB]),dL=zB(),[hL,pL]=cL(oL),[fL,mL]=cL(oL),OL=e=>{const{__scopeSelect:t,children:n,open:i,defaultOpen:r,onOpenChange:a,value:o,defaultValue:s,onValueChange:u,dir:l,name:c,autoComplete:d,disabled:h,required:f,form:m}=e,O=dL(t),[g,D]=An(null),[v,E]=An(null),[C,b]=An(!1),k=function(e){const t=In(RQ);return e||t||"ltr"}(l),[T,y]=hM({prop:i,defaultProp:null!=r&&r,onChange:a,caller:oL}),[A,S]=hM({prop:o,defaultProp:s,onChange:u,caller:oL}),_=wn(null),F=!g||m||!!g.closest("form"),[w,x]=An(new Set),P=Array.from(w).map(e=>e.props.value).join(";");return dn(oM,p(p({},O),{},{children:dn(hL,{required:f,scope:t,trigger:g,onTriggerChange:D,valueNode:v,onValueNodeChange:E,valueNodeHasChildren:C,onValueNodeHasChildrenChange:b,contentId:rN(),value:A,onValueChange:S,open:T,onOpenChange:y,dir:k,triggerPointerDownPosRef:_,disabled:h,children:[dn(sL.Provider,{scope:t,children:dn(fL,{scope:e.__scopeSelect,onNativeOptionAdd:Rn(e=>{x(t=>new Set(t).add(e))},[]),onNativeOptionRemove:Rn(e=>{x(t=>{const n=new Set(t);return n.delete(e),n})},[]),children:n})}),F?dn(r$,{"aria-hidden":!0,required:f,tabIndex:-1,name:c,autoComplete:d,value:A,onChange:e=>S(e.target.value),disabled:h,form:m,children:[void 0===A?dn("option",{value:""}):null,Array.from(w)]},P):null]})}))};OL.displayName=oL;var gL="SelectTrigger",DL=ni((e,t)=>{const{__scopeSelect:n,disabled:i=!1}=e,r=m(e,Ae),a=dL(n),o=pL(gL,n),s=o.disabled||i,u=Mm(t,o.onTriggerChange),l=uL(n),c=wn("touch"),[d,h,f]=o$(e=>{const t=l().filter(e=>!e.disabled),n=t.find(e=>e.value===o.value),i=s$(t,e,n);void 0!==i&&o.onValueChange(i.value)}),O=e=>{s||(o.onOpenChange(!0),f()),e&&(o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return dn(sM,p(p({asChild:!0},a),{},{children:dn(IQ.button,p(p({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":a$(o.value)?"":void 0},r),{},{ref:u,onClick:AQ(r.onClick,e=>{e.currentTarget.focus(),"mouse"!==c.current&&O(e)}),onPointerDown:AQ(r.onPointerDown,e=>{c.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(O(e),e.preventDefault())}),onKeyDown:AQ(r.onKeyDown,e=>{const t=""!==d.current;!(e.ctrlKey||e.altKey||e.metaKey)&&1===e.key.length&&h(e.key),(!t||" "!==e.key)&&rL.includes(e.key)&&(O(),e.preventDefault())})}))}))});DL.displayName=gL;var vL="SelectValue",EL=ni((e,t)=>{const{__scopeSelect:n,className:i,style:r,children:a,placeholder:o=""}=e,s=m(e,Se),u=pL(vL,n),{onValueNodeHasChildrenChange:l}=u,c=void 0!==a,d=Mm(t,u.onValueNodeChange);return tN(()=>{l(c)},[l,c]),dn(IQ.span,p(p({},s),{},{ref:d,style:{pointerEvents:"none"},children:a$(u.value)?dn(Tt,{children:o}):a}))});EL.displayName=vL;var CL=ni((e,t)=>{const{__scopeSelect:n,children:i}=e,r=m(e,_e);return dn(IQ.span,p(p({"aria-hidden":!0},r),{},{ref:t,children:i||""}))});CL.displayName="SelectIcon";var bL=e=>dn(cM,p({asChild:!0},e));bL.displayName="SelectPortal";var kL="SelectContent",TL=ni((e,t)=>{const n=pL(kL,e.__scopeSelect),[i,r]=An();if(tN(()=>{r(new DocumentFragment)},[]),!n.open){const t=i;return t?Oi(dn(AL,{scope:e.__scopeSelect,children:dn(sL.Slot,{scope:e.__scopeSelect,children:dn("div",{children:e.children})})}),t):null}return dn(FL,p(p({},e),{},{ref:t}))});TL.displayName=kL;var yL=10,[AL,SL]=cL(kL),_L=FQ("SelectContent.RemoveScroll"),FL=ni((e,t)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:u,align:l,alignOffset:c,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:O,hideWhenDetached:g,avoidCollisions:D}=e,v=m(e,Fe),E=pL(kL,n),[C,b]=An(null),[k,T]=An(null),y=Mm(t,e=>b(e)),[A,S]=An(null),[_,F]=An(null),w=uL(n),[x,P]=An(!1),R=wn(!1);_n(()=>{if(C)return EM(C)},[C]),_n(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:zQ()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:zQ()),XQ++,()=>{1===XQ&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),XQ--}},[]);const I=Rn(e=>{const[t,...n]=w().map(e=>e.ref.current),[i]=n.slice(-1),r=document.activeElement;for(const n of e)if(n===r||(null==n||n.scrollIntoView({block:"nearest"}),n===t&&k&&(k.scrollTop=0),n===i&&k&&(k.scrollTop=k.scrollHeight),null==n||n.focus(),document.activeElement!==r))return},[w,k]),Q=Rn(()=>I([A,C]),[I,A,C]);_n(()=>{x&&Q()},[x,Q]);const{onOpenChange:N,triggerPointerDownPosRef:B}=E;_n(()=>{if(C){let e={x:0,y:0};const t=t=>{var n,i,r,a;e={x:Math.abs(Math.round(t.pageX)-(null!==(n=null==(r=B.current)?void 0:r.x)&&void 0!==n?n:0)),y:Math.abs(Math.round(t.pageY)-(null!==(i=null==(a=B.current)?void 0:a.y)&&void 0!==i?i:0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():C.contains(n.target)||N(!1),document.removeEventListener("pointermove",t),B.current=null};return null!==B.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}},[C,N,B]),_n(()=>{const e=()=>N(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[N]);const[M,L]=o$(e=>{const t=w().filter(e=>!e.disabled),n=t.find(e=>e.ref.current===document.activeElement),i=s$(t,e,n);i&&setTimeout(()=>i.ref.current.focus())}),$=Rn((e,t,n)=>{const i=!R.current&&!n;(void 0!==E.value&&E.value===t||i)&&(S(e),i&&(R.current=!0))},[E.value]),U=Rn(()=>null==C?void 0:C.focus(),[C]),q=Rn((e,t,n)=>{const i=!R.current&&!n;(void 0!==E.value&&E.value===t||i)&&F(e)},[E.value]),X="popper"===i?xL:wL,z=X===xL?{side:s,sideOffset:u,align:l,alignOffset:c,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:O,hideWhenDetached:g,avoidCollisions:D}:{};return dn(AL,{scope:n,content:C,viewport:k,onViewportChange:T,itemRefCallback:$,selectedItem:A,onItemLeave:U,itemTextRefCallback:q,focusSelectedItem:Q,selectedItemText:_,position:i,isPositioned:x,searchRef:M,children:dn(iL,{as:_L,allowPinchZoom:!0,children:dn(GQ,{asChild:!0,trapped:E.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:AQ(r,e=>{var t;null==(t=E.trigger)||t.focus({preventScroll:!0}),e.preventDefault()}),children:dn(LQ,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:dn(X,p(p(p({role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:e=>e.preventDefault()},v),z),{},{onPlaced:()=>P(!0),ref:y,style:p({display:"flex",flexDirection:"column",outline:"none"},v.style),onKeyDown:AQ(v.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),!t&&1===e.key.length&&L(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=w().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,i=t.indexOf(n);t=t.slice(i+1)}setTimeout(()=>I(t)),e.preventDefault()}})}))})})})})});FL.displayName="SelectContentImpl";var wL=ni((e,t)=>{const{__scopeSelect:n,onPlaced:i}=e,r=m(e,we),a=pL(kL,n),o=SL(kL,n),[s,u]=An(null),[l,c]=An(null),d=Mm(t,e=>c(e)),h=uL(n),f=wn(!1),O=wn(!0),{viewport:g,selectedItem:D,selectedItemText:v,focusSelectedItem:E}=o,C=Rn(()=>{if(a.trigger&&a.valueNode&&s&&l&&g&&D&&v){const e=a.trigger.getBoundingClientRect(),t=l.getBoundingClientRect(),n=a.valueNode.getBoundingClientRect(),r=v.getBoundingClientRect();if("rtl"!==a.dir){const i=r.left-t.left,a=n.left-i,o=e.left-a,u=e.width+o,l=Math.max(u,t.width),c=window.innerWidth-yL,d=yQ(a,[yL,Math.max(yL,c-l)]);s.style.minWidth=u+"px",s.style.left=d+"px"}else{const i=t.right-r.right,a=window.innerWidth-n.right-i,o=window.innerWidth-e.right-a,u=e.width+o,l=Math.max(u,t.width),c=window.innerWidth-yL,d=yQ(a,[yL,Math.max(yL,c-l)]);s.style.minWidth=u+"px",s.style.right=d+"px"}const o=h(),u=window.innerHeight-2*yL,c=g.scrollHeight,d=window.getComputedStyle(l),p=parseInt(d.borderTopWidth,10),m=parseInt(d.paddingTop,10),O=parseInt(d.borderBottomWidth,10),E=p+m+c+parseInt(d.paddingBottom,10)+O,C=Math.min(5*D.offsetHeight,E),b=window.getComputedStyle(g),k=parseInt(b.paddingTop,10),T=parseInt(b.paddingBottom,10),y=e.top+e.height/2-yL,A=u-y,S=D.offsetHeight/2,_=p+m+(D.offsetTop+S),F=E-_;if(_<=y){const e=o.length>0&&D===o[o.length-1].ref.current;s.style.bottom="0px";const t=l.clientHeight-g.offsetTop-g.offsetHeight,n=_+Math.max(A,S+(e?T:0)+t+O);s.style.height=n+"px"}else{const e=o.length>0&&D===o[0].ref.current;s.style.top="0px";const t=Math.max(y,p+g.offsetTop+(e?k:0)+S)+F;s.style.height=t+"px",g.scrollTop=_-y+g.offsetTop}s.style.margin=`${yL}px 0`,s.style.minHeight=C+"px",s.style.maxHeight=u+"px",null==i||i(),requestAnimationFrame(()=>f.current=!0)}},[h,a.trigger,a.valueNode,s,l,g,D,v,a.dir,i]);tN(()=>C(),[C]);const[b,k]=An();tN(()=>{l&&k(window.getComputedStyle(l).zIndex)},[l]);const T=Rn(e=>{e&&!0===O.current&&(C(),null==E||E(),O.current=!1)},[C,E]);return dn(PL,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:f,onScrollButtonChange:T,children:dn("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:dn(IQ.div,p(p({},r),{},{ref:d,style:p({boxSizing:"border-box",maxHeight:"100%"},r.style)}))})})});wL.displayName="SelectItemAlignedPosition";var xL=ni((e,t)=>{const{__scopeSelect:n,align:i="start",collisionPadding:r=yL}=e,a=m(e,xe),o=dL(n);return dn(uM,p(p(p({},o),a),{},{ref:t,align:i,collisionPadding:r,style:p(p({boxSizing:"border-box"},a.style),{},{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});xL.displayName="SelectPopperPosition";var[PL,RL]=cL(kL,{}),IL="SelectViewport",QL=ni((e,t)=>{const{__scopeSelect:n,nonce:i}=e,r=m(e,Pe),a=SL(IL,n),o=RL(IL,n),s=Mm(t,a.onViewportChange),u=wn(0);return dn(Tt,{children:[dn("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),dn(sL.Slot,{scope:n,children:dn(IQ.div,p(p({"data-radix-select-viewport":"",role:"presentation"},r),{},{ref:s,style:p({position:"relative",flex:1,overflow:"hidden auto"},r.style),onScroll:AQ(r.onScroll,e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:i}=o;if(null!=i&&i.current&&n){const e=Math.abs(u.current-t.scrollTop);if(e>0){const i=window.innerHeight-2*yL,r=parseFloat(n.style.minHeight),a=parseFloat(n.style.height),o=Math.max(r,a);if(o<i){const r=o+e,a=Math.min(i,r),s=r-a;n.style.height=a+"px","0px"===n.style.bottom&&(t.scrollTop=s>0?s:0,n.style.justifyContent="flex-end")}}}u.current=t.scrollTop})}))})]})});QL.displayName=IL;var NL="SelectGroup",[BL,ML]=cL(NL),LL=ni((e,t)=>{const{__scopeSelect:n}=e,i=m(e,Re),r=rN();return dn(BL,{scope:n,id:r,children:dn(IQ.div,p(p({role:"group","aria-labelledby":r},i),{},{ref:t}))})});LL.displayName=NL;var $L="SelectLabel",UL=ni((e,t)=>{const{__scopeSelect:n}=e,i=m(e,Ie),r=ML($L,n);return dn(IQ.div,p(p({id:r.id},i),{},{ref:t}))});UL.displayName=$L;var qL="SelectItem",[XL,zL]=cL(qL),ZL=ni((e,t)=>{const{__scopeSelect:n,value:i,disabled:r=!1,textValue:a}=e,o=m(e,Qe),s=pL(qL,n),u=SL(qL,n),l=s.value===i,[c,d]=An(null!=a?a:""),[h,f]=An(!1),O=Mm(t,e=>{var t;return null==(t=u.itemRefCallback)?void 0:t.call(u,e,i,r)}),g=rN(),D=wn("touch"),v=()=>{r||(s.onValueChange(i),s.onOpenChange(!1))};if(""===i)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return dn(XL,{scope:n,value:i,disabled:r,textId:g,isSelected:l,onItemTextChange:Rn(e=>{d(t=>{var n;return t||(null!==(n=null==e?void 0:e.textContent)&&void 0!==n?n:"").trim()})},[]),children:dn(sL.ItemSlot,{scope:n,value:i,disabled:r,textValue:c,children:dn(IQ.div,p(p({role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":l&&h,"data-state":l?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1},o),{},{ref:O,onFocus:AQ(o.onFocus,()=>f(!0)),onBlur:AQ(o.onBlur,()=>f(!1)),onClick:AQ(o.onClick,()=>{"mouse"!==D.current&&v()}),onPointerUp:AQ(o.onPointerUp,()=>{"mouse"===D.current&&v()}),onPointerDown:AQ(o.onPointerDown,e=>{D.current=e.pointerType}),onPointerMove:AQ(o.onPointerMove,e=>{var t;D.current=e.pointerType,r?null==(t=u.onItemLeave)||t.call(u):"mouse"===D.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:AQ(o.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null==(t=u.onItemLeave)||t.call(u))}),onKeyDown:AQ(o.onKeyDown,e=>{var t;""!==(null==(t=u.searchRef)?void 0:t.current)&&" "===e.key||(aL.includes(e.key)&&v()," "===e.key&&e.preventDefault())})}))})})});ZL.displayName=qL;var jL="SelectItemText",WL=ni((e,t)=>{const{__scopeSelect:n,className:i,style:r}=e,a=m(e,Ne),o=pL(jL,n),s=SL(jL,n),u=zL(jL,n),l=mL(jL,n),[c,d]=An(null),h=Mm(t,e=>d(e),u.onItemTextChange,e=>{var t;return null==(t=s.itemTextRefCallback)?void 0:t.call(s,e,u.value,u.disabled)}),f=null==c?void 0:c.textContent,O=Pn(()=>dn("option",{value:u.value,disabled:u.disabled,children:f},u.value),[u.disabled,u.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:D}=l;return tN(()=>(g(O),()=>D(O)),[g,D,O]),dn(Tt,{children:[dn(IQ.span,p(p({id:u.textId},a),{},{ref:h})),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Oi(a.children,o.valueNode):null]})});WL.displayName=jL;var GL="SelectItemIndicator",VL=ni((e,t)=>{const{__scopeSelect:n}=e,i=m(e,Be);return zL(GL,n).isSelected?dn(IQ.span,p(p({"aria-hidden":!0},i),{},{ref:t})):null});VL.displayName=GL;var YL="SelectScrollUpButton",HL=ni((e,t)=>{const n=SL(YL,e.__scopeSelect),i=RL(YL,e.__scopeSelect),[r,a]=An(!1),o=Mm(t,i.onScrollButtonChange);return tN(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollTop>0;a(e)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),r?dn(e$,p(p({},e),{},{ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null});HL.displayName=YL;var KL="SelectScrollDownButton",JL=ni((e,t)=>{const n=SL(KL,e.__scopeSelect),i=RL(KL,e.__scopeSelect),[r,a]=An(!1),o=Mm(t,i.onScrollButtonChange);return tN(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;a(n)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),r?dn(e$,p(p({},e),{},{ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null});JL.displayName=KL;var e$=ni((e,t)=>{const{__scopeSelect:n,onAutoScroll:i}=e,r=m(e,Me),a=SL("SelectScrollButton",n),o=wn(null),s=uL(n),u=Rn(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return _n(()=>()=>u(),[u]),tN(()=>{var e;const t=s().find(e=>e.ref.current===document.activeElement);null==(e=null==t?void 0:t.ref.current)||e.scrollIntoView({block:"nearest"})},[s]),dn(IQ.div,p(p({"aria-hidden":!0},r),{},{ref:t,style:p({flexShrink:0},r.style),onPointerDown:AQ(r.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(i,50))}),onPointerMove:AQ(r.onPointerMove,()=>{var e;null==(e=a.onItemLeave)||e.call(a),null===o.current&&(o.current=window.setInterval(i,50))}),onPointerLeave:AQ(r.onPointerLeave,()=>{u()})}))}),t$=ni((e,t)=>{const{__scopeSelect:n}=e,i=m(e,Le);return dn(IQ.div,p(p({"aria-hidden":!0},i),{},{ref:t}))});t$.displayName="SelectSeparator";var n$="SelectArrow",i$=ni((e,t)=>{const{__scopeSelect:n}=e,i=m(e,$e),r=dL(n),a=pL(n$,n),o=SL(n$,n);return a.open&&"popper"===o.position?dn(lM,p(p(p({},r),i),{},{ref:t})):null});i$.displayName=n$;var r$=ni((e,t)=>{let{__scopeSelect:n,value:i}=e,r=m(e,Ue);const a=wn(null),o=Mm(t,a),s=function(e){const t=wn({value:e,previous:e});return Pn(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(i);return _n(()=>{const e=a.current;if(!e)return;const t=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(s!==i&&n){const t=new Event("change",{bubbles:!0});n.call(e,i),e.dispatchEvent(t)}},[s,i]),dn(IQ.select,p(p({},r),{},{style:p(p({},pM),r.style),ref:o,defaultValue:i}))});function a$(e){return""===e||void 0===e}function o$(e){const t=QQ(e),n=wn(""),i=wn(0),r=Rn(e=>{const r=n.current+e;t(r),function e(t){n.current=t,window.clearTimeout(i.current),""!==t&&(i.current=window.setTimeout(()=>e(""),1e3))}(r)},[t]),a=Rn(()=>{n.current="",window.clearTimeout(i.current)},[]);return _n(()=>()=>window.clearTimeout(i.current),[]),[n,r,a]}function s$(e,t,n){const i=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,r=n?e.indexOf(n):-1;let a=function(e,t){return e.map((n,i)=>e[(t+i)%e.length])}(e,Math.max(r,0));1===i.length&&(a=a.filter(e=>e!==n));const o=a.find(e=>e.textValue.toLowerCase().startsWith(i.toLowerCase()));return o!==n?o:void 0}r$.displayName="SelectBubbleInput";var u$=OL,l$=DL,c$=CL,d$=bL,h$=TL,p$=QL,f$=ZL,m$=WL,O$=VL,g$=HL,D$=JL;const v$={sm:"w-4 h-4",md:"w-6 h-6"};function E$(e){let{size:t="md",flagCode:n,className:i}=e,r=m(e,qe);return dn("img",p({className:eO("rounded-full object-cover",v$[t],i),src:`https://storage.googleapis.com/eleven-public-cdn/images/flags/circle-flags/${n}.svg`,alt:`${n.toUpperCase()} flag`},r))}function C$(e){let{children:t}=e,n=m(e,Xe);const[i,r]=An(!1),{language:a,setLanguage:o,options:s}=Ea(),u=Rm();return dn(u$,{open:i,value:a.value.languageCode,onValueChange:e=>{o(e),r(!1)},onOpenChange:e=>{e&&r(!0)},children:[t,dn(d$,{container:u,children:dn(h$,p(p({className:"overflow-hidden bg-base border border-base-border rounded-dropdown-sheet max-h-[min(384px,var(--radix-select-content-available-height))] min-w-[var(--radix-select-trigger-width)] z-10",position:"popper",sideOffset:8,align:"end",side:"top",onPointerDownOutside:()=>r(!1),onCloseAutoFocus:()=>r(!1),onEscapeKeyDown:()=>r(!1)},n),{},{children:[dn(g$,{className:"flex items-center justify-center h-6 bg-base text-base-subtle cursor-default",children:dn(Tg,{size:"xs",name:"chevron-up"})}),dn(p$,{className:"p-1.5",children:s.value.map(e=>dn(f$,{value:e.languageCode,className:"flex select-none items-center p-1.5 pr-3 gap-2 cursor-pointer rounded-input relative focus-visible:outline-hidden data-highlighted:bg-base-active text-sm",children:[dn(E$,{flagCode:e.flagCode}),dn(m$,{children:e.name}),dn(O$,{className:"text-base-primary p-1.5 -mr-1.5 ml-auto",children:dn(Tg,{size:"xs",name:"check"})})]},e.languageCode))}),dn(D$,{className:"flex items-center justify-center h-6 bg-base text-base-subtle cursor-default",children:dn(Tg,{size:"xs",name:"chevron-down"})})]}))})]})}function b$(e){let{className:t}=e,n=m(e,ze);const i=Sm(),{language:r,showPicker:a}=Ea();return a.value?dn(C$,{align:"center",children:dn(l$,p(p({className:eO("h-9 min-w-max rounded-button focus-ring px-2 flex gap-2 items-center text-base-primary bg-base hover:bg-base-hover active:bg-base-active font-medium",t),"aria-label":i.change_language},n),{},{children:[dn(E$,{size:"sm",flagCode:r.value.flagCode}),r.value.name,dn(c$,{className:"text-base-subtle",asChild:!0,children:dn(Tg,{size:"xs",name:"chevron-down"})})]}))}):null}function k$(e){let{className:t}=e,n=m(e,Ze);const{status:i,isSpeaking:r}=lm(),a=fm(),{isTextMode:o}=Cm(),s=Sm(),u=Sr(()=>"connected"!==i.value?s.connecting_status.value:a.value||o.value?s.chatting_status.value:r.value?s.speaking_status.value:s.listening_status.value),[l,c]=An(u.peek());return Ir(()=>{const e=u.value;if("connected"!==i.value||!r.value){const t=setTimeout(()=>{c(e)},500);return()=>clearTimeout(t)}c(e)}),dn("div",p(p({className:eO("py-1.5 px-3 bg-base-active overflow-hidden rounded-bubble text-sm",t)},n),{},{children:dn(Ym,{initial:!1,active:!0,children:dn("div",{className:"animate-text whitespace-nowrap transition-[opacity,transform] ease-out duration-200 data-hidden:opacity-0 transform data-hidden:translate-y-2",children:l})},l)}))}const T$=Wt(void 0);function y$({children:e,initialVariant:t="compact"}){const n=Ar("compact"!==t),i=Ar(typeof window<"u"&&window.innerWidth<768);_n(()=>{const e=()=>{i.value=window.innerWidth<768};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const r=Rn(()=>{n.value=!n.value},[n]),a=Sr(()=>n.value?i.value?"fullscreen":"expanded":"compact"),o=Pn(()=>({variant:a,toggleSize:r}),[a,r]);return dn(T$.Provider,{value:o,children:e})}function A$(){return la(T$)}function S$(e){const t=Sm(),{mode:n,setMode:i,isTextMode:r}=Cm(),a=Rn(()=>{const e="text"===n.peek()?"voice":"text";i(e)},[i,n]);return dn(wg,p({"aria-label":r.value?t.voice_mode:t.text_mode,icon:r.value?"soundwave":"chat",onClick:a},e))}function _$({showBackButton:e,onBackClick:t,showStatusLabel:n,showLanguageSelector:i,showConversationModeToggle:r,showExpandButton:a}){const o=Sm(),{toggleSize:s,variant:u}=A$(),l=Sr(()=>"compact"===u.value?"Expand widget":"Collapse widget");return dn("div",{className:"w-full relative shrink-0 z-10",children:[dn("div",{className:"h-16 absolute top-0 w-full bg-base"}),dn("div",{className:"h-4 absolute top-16 w-full bg-gradient-to-b from-base to-transparent backdrop-blur-[1px] [mask-image:linear-gradient(to_bottom,black,transparent)] shadow-scroll-fade-bottom"}),dn("div",{className:"h-16 top-0 absolute flex flex-row items-center justify-center w-full",children:[dn("div",{className:"absolute start-3 flex gap-2 items-center",children:[e?dn(wg,{variant:"ghost",onClick:t,"aria-label":o.go_back,className:"h-8 w-8",children:dn(Tg,{name:"chevron-up",className:"-rotate-90",size:"xs"})}):dn("div",{className:"relative w-8 h-8"}),dn(Ym,{active:n,children:dn(k$,{className:"transition-opacity data-hidden:opacity-0"})})]}),dn("div",{className:"absolute flex flex-row items-center gap-2 ms-auto end-3",children:[dn(Ym,{active:i,children:dn("div",{className:"transition-[opacity,transform] duration-200 data-hidden:opacity-0 data-hidden:-translate-y-4",children:dn(b$,{})})}),dn(Ym,{active:r,children:dn(S$,{variant:"ghost",className:"h-8 w-8 transition-opacity data-hidden:opacity-0"})}),dn(Ym,{active:a,children:dn(wg,{variant:"ghost",onClick:s,"aria-label":l,className:"h-8 w-8 transition-opacity data-hidden:opacity-0",children:dn(Tg,{name:"compact"===u.value?"maximize":"minimize",size:"sm"})})})]})]})]})}function F$(e){let{iconOnly:t,isDisconnected:n,children:i}=e,r=m(e,je);const{endSession:a,startSession:o}=lm(),s=Sm();return dn(wg,p(p({variant:n?"primary":"secondary",icon:n?"phone":"phone-off",onClick:n?e=>o(e.currentTarget):a,"aria-label":n?s.start_call:s.end_call},r),{},{children:t?void 0:null!=i?i:n?s.start_call:s.end_call}))}function w$(e,t,n){try{const i=new CustomEvent(`elevenlabs-convai:${e}`,{bubbles:!0,composed:!0,detail:n});t.dispatchEvent(i)}catch(t){console.error(`[ConversationalAI] Could not trigger ${e} event:`,t)}}function x$(e,t){return w$("setExpanded",e,t)}function P$(e){const t=Sm(),{isMuted:n,isMutingEnabled:i,setIsMuted:r}=Tm(),a=Rn(e=>{const t=!n.peek();r(t),w$("setMicMuted",e.currentTarget,{micMuted:t})},[r]);return i.value?dn(wg,p({"aria-label":t.mute_microphone,"aria-pressed":n.value,icon:n.value?"mic-off":"mic",onClick:a},e)):null}function R$({showTranscript:e,scrollPinned:t}){const n=Om(),i=Ar(""),r=Ar(!1),{isDisconnected:a,startSession:o,sendUserMessage:s}=lm(),u=Rn(async e=>{e.preventDefault();const n=i.value.trim();n&&(t.value=!0,i.value="",a.value?await o(e.currentTarget,{initialMessage:n}):s(n))},[i,t,a,o,s]);return dn("div",{className:"sticky bottom-0 pointer-events-none z-10 max-h-[50%] flex flex-col",children:[dn("div",{className:"absolute top-0 left-0 right-0 h-4 -translate-y-full bg-gradient-to-t from-base to-transparent pointer-events-none backdrop-blur-[1px] [mask-image:linear-gradient(to_top,black,transparent)] shadow-scroll-fade-top"}),dn("div",{className:"relative w-full px-3 pb-3 flex flex-col items-center pointer-events-auto min-h-0",children:[n.value&&dn("div",{className:mg("bg-base relative flex flex-col min-h-0 rounded-[calc(var(--el-sheet-radius)-8px)] border border-base-border w-full transition-shadow overflow-hidden",r.value&&"ring-2 ring-accent"),children:[dn(I$,{userMessage:i,isFocused:r,onSendMessage:u}),dn("div",{className:"absolute bottom-0 left-0 right-0 flex gap-1.5 items-center justify-end px-3 pb-3 pt-2 pointer-events-none",children:dn("div",{className:"pointer-events-auto flex gap-1.5 items-center",children:dn(Q$,{userMessage:i,onSendMessage:u,showTranscript:e})})})]}),!n.value&&dn("div",{className:"w-full flex gap-1.5 items-center justify-end",children:dn(Q$,{userMessage:i,onSendMessage:u,showTranscript:e})})]})]})}function I$({userMessage:e,isFocused:t,onSendMessage:n}){const i=Sm(),r=fm(),{isDisconnected:a,conversationIndex:o,sendUserActivity:s}=lm(),u=Rn(t=>{e.value=t.currentTarget.value},[e]),l=Rn(async e=>{"Enter"===e.key&&!e.shiftKey&&await n(e)},[n]),c=Rn(()=>{t.value=!0},[t]),d=Rn(()=>{t.value=!1},[t]);return dn("textarea",{"aria-label":i.input_label,value:e.value,onInput:s,onChange:u,onKeyDown:l,onFocus:c,onBlur:d,placeholder:r.value?a.value&&o.value>0?i.input_placeholder_new_conversation.value:i.input_placeholder_text_only.value:i.input_placeholder.value,className:"w-full h-full resize-none bg-base leading-5 outline-hidden text-sm text-base-primary placeholder:text-base-subtle p-3 pb-[60px] min-h-18 max-h-full field-sizing-content"})}function Q$({userMessage:e,onSendMessage:t,showTranscript:n=!1}){const i=Sm(),r=fm(),a=Om(),{isDisconnected:o,status:s}=lm(),{isTextMode:u}=Cm(),l=Sr(()=>!!e.value.trim()),c=Sr(()=>a.value),d=Sr(()=>!o.value||!r.value&&n);return dn(Tt,{children:[dn(Ag,{visible:Sr(()=>!r.value&&!o.value&&!u.value).value,children:dn(P$,{className:"bg-base text-base-primary hover:bg-base-hover active:bg-base-active"})}),dn(Ag,{visible:d.value,children:dn(F$,{iconOnly:!0,isDisconnected:o.value,disabled:"disconnecting"===s.value||"connecting"===s.value,className:"bg-base text-base-primary hover:bg-base-hover active:bg-base-active"})}),c.value&&dn(wg,{icon:"send",onClick:t,variant:"primary",disabled:!l.value,"aria-label":i.send_message.value})]})}const N$=new Float32Array([-1,1,-1,-1,1,1,1,-1]),B$=class e{constructor(t){ft(this,"gl"),ft(this,"program"),ft(this,"startTime"),ft(this,"targetSpeed",0),ft(this,"speed",.5),ft(this,"rafId",null),ft(this,"resizeObserver"),ft(this,"colorA",[0,0,0]),ft(this,"colorB",[0,0,0]),ft(this,"offsets",new Float32Array(7).map(()=>Math.random()*Math.PI*2)),ft(this,"copyNoiseImage",()=>{this.gl&&(this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,e.noiseImage),this.gl.generateMipmap(this.gl.TEXTURE_2D))}),ft(this,"toDataURL",()=>this.gl.canvas.toDataURL("image/png")),ft(this,"render",()=>{if(!this.gl)return void(this.rafId=null);const e=(performance.now()-this.startTime)/1e3;this.gl.uniform1f(this.gl.getUniformLocation(this.program,"uTime"),e),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.rafId=requestAnimationFrame(this.render)});const n=t.getContext("webgl2",{depth:!1,stencil:!1});this.gl=n,this.program=this.setupProgram("#version 300 es\nprecision highp float;\n\nuniform float uTime;\nuniform float uOffsets[7];\nuniform vec3 uColor1;\nuniform vec3 uColor2;\nuniform sampler2D uPerlinTexture;\n\nin vec2 vUv;\n\nout vec4 outColor;\n\nconst float PI = 3.14159265358979323846;\n\n// Draw a single oval with soft edges and calculate its gradient color\nbool drawOval(vec2 polarUv, vec2 polarCenter, float a, float b, bool reverseGradient, float softness, out vec4 color) {\n    vec2 p = polarUv - polarCenter;\n    float oval = (p.x * p.x) / (a * a) + (p.y * p.y) / (b * b);\n    \n    float edge = smoothstep(1.0, 1.0 - softness, oval);\n    \n    if (edge > 0.0) {\n        float gradient = reverseGradient ? (1.0 - (p.x / a + 1.0) / 2.0) : ((p.x / a + 1.0) / 2.0);\n        color = vec4(vec3(gradient), 0.8 * edge);\n        return true;\n    }\n    return false;\n}\n\n// Map grayscale value to a 4-color ramp (color1, color2, color3, color4)\nvec3 colorRamp(float grayscale, vec3 color1, vec3 color2, vec3 color3, vec3 color4) {\n    if (grayscale < 0.33) {\n        return mix(color1, color2, grayscale * 3.0);\n    } else if (grayscale < 0.66) {\n        return mix(color2, color3, (grayscale - 0.33) * 3.0);\n    } else {\n        return mix(color3, color4, (grayscale - 0.66) * 3.0);\n    }\n}\n\nvec2 hash2(vec2 p) {\n    return fract(sin(vec2(dot(p, vec2(127.1, 311.7)), dot(p, vec2(269.5, 183.3)))) * 43758.5453);\n}\n\n// 2D noise for the ring\nfloat noise2D(vec2 p) {\n    vec2 i = floor(p);\n    vec2 f = fract(p);\n    \n    vec2 u = f * f * (3.0 - 2.0 * f);\n    float n = mix(\n        mix(dot(hash2(i + vec2(0.0, 0.0)), f - vec2(0.0, 0.0)),\n            dot(hash2(i + vec2(1.0, 0.0)), f - vec2(1.0, 0.0)), u.x),\n        mix(dot(hash2(i + vec2(0.0, 1.0)), f - vec2(0.0, 1.0)),\n            dot(hash2(i + vec2(1.0, 1.0)), f - vec2(1.0, 1.0)), u.x),\n        u.y\n    );\n\n    return 0.5 + 0.5 * n;\n}\n\nfloat sharpRing(vec2 uv, float theta, float time) {\n    float ringStart = 1.0;\n    float ringWidth = 0.5;\n    float noiseScale = 5.0;\n    \n    vec2 noiseCoord = vec2(theta / (2.0 * PI), time * 0.1);\n    noiseCoord *= noiseScale;\n    \n    float noise = noise2D(noiseCoord);\n    noise = (noise - 0.5) * 4.0;\n    \n    return ringStart + noise * ringWidth * 1.5;\n}\n\nfloat smoothRing(vec2 uv, float time) {\n    float angle = atan(uv.y, uv.x);\n    if (angle < 0.0) angle += 2.0 * PI;\n    \n    vec2 noiseCoord = vec2(angle / (2.0 * PI), time * 0.1);\n    noiseCoord *= 6.0;\n    \n    float noise = noise2D(noiseCoord);\n    noise = (noise - 0.5) * 8.0;\n    \n    float ringStart = 0.9;\n    float ringWidth = 0.3;\n    \n    return ringStart + noise * ringWidth;\n}\n\nvoid main() {\n    // Normalize vUv to be centered around (0.0, 0.0)\n    vec2 uv = vUv * 2.0 - 1.0;\n\n    // Convert uv to polar coordinates\n    float radius = length(uv);\n    float theta = atan(uv.y, uv.x);\n    if (theta < 0.0) theta += 2.0 * PI; // Normalize theta to [0, 2*PI]\n\n    // Initialize the base color to white\n    vec4 color = vec4(1.0, 1.0, 1.0, 1.0);\n\n    // Original parameters for the ovals in polar coordinates\n    float originalCenters[7] = float[7](0.0, 0.5 * PI, 1.0 * PI, 1.5 * PI, 2.0 * PI, 2.5 * PI, 3.0 * PI);\n\n    // Parameters for the animated centers in polar coordinates\n    float centers[7];\n    for (int i = 0; i < 7; i++) {\n        centers[i] = originalCenters[i] + 0.5 * sin(uTime / 20.0 + uOffsets[i]);\n    }\n\n    float a, b;\n    vec4 ovalColor;\n\n    // Check if the pixel is inside any of the ovals\n    for (int i = 0; i < 7; i++) {\n        float noise = texture(uPerlinTexture, vec2(mod(centers[i] + uTime * 0.05, 1.0), 0.5)).r;\n        a = noise * 1.5; // Increased variance: goes from 0.0 to 1.0\n        b = noise * 4.5; // Tall semi-minor axis\n        bool reverseGradient = (i % 2 == 1); // Reverse gradient for every second oval\n\n        // Calculate the distance in polar coordinates\n        float distTheta = abs(theta - centers[i]);\n        if (distTheta > PI) distTheta = 2.0 * PI - distTheta; // Shortest distance on circle\n        float distRadius = radius;\n\n        float softness = 0.4; // Controls edge softness (e.g. how much blur is applied to the ovals)\n\n        // Check if the pixel is inside the oval in polar coordinates\n        if (drawOval(vec2(distTheta, distRadius), vec2(0.0, 0.0), a, b, reverseGradient, softness, ovalColor)) {\n            // Blend the oval color with the existing color\n            color.rgb = mix(color.rgb, ovalColor.rgb, ovalColor.a);\n            color.a = max(color.a, ovalColor.a); // Max alpha\n        }\n    }\n    \n    // Calculate both noisy rings\n    float ringRadius1 = sharpRing(uv, theta, uTime);\n    float ringRadius2 = smoothRing(uv, uTime);\n    \n    // Blend both rings\n    float ringAlpha1 = (radius >= ringRadius1) ? 0.3 : 0.0;\n    float ringAlpha2 = smoothstep(ringRadius2 - 0.05, ringRadius2 + 0.05, radius) * 0.25;\n    \n    float totalRingAlpha = max(ringAlpha1, ringAlpha2);\n    \n    // Apply screen blend mode for combined rings\n    vec3 ringColor = vec3(1.0); // White ring color\n    color.rgb = 1.0 - (1.0 - color.rgb) * (1.0 - ringColor * totalRingAlpha);\n\n    // Define colours to ramp against greyscale (could increase the amount of colours in the ramp)\n    vec3 color1 = vec3(0.0, 0.0, 0.0); // Black\n    vec3 color2 = uColor1; // Darker Color\n    vec3 color3 = uColor2; // Lighter Color\n    vec3 color4 = vec3(1.0, 1.0, 1.0); // White\n\n    // Convert grayscale color to the color ramp\n    float luminance = color.r; \n    color.rgb = colorRamp(luminance, color1, color2, color3, color4); // Apply the color ramp\n\n    outColor = color;\n}\n","#version 300 es\nprecision highp float;\n\nin vec2 position;\n\nout vec2 vUv;\n\nvoid main() {\n  vUv = position * 0.5 + 0.5;\n  gl_Position = vec4(position, 0, 1);\n}\n");const i=n.createTexture();n.bindTexture(n.TEXTURE_2D,i),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,new Uint8Array([128,128,128,255])),e.noiseImage||(e.noiseImage=new Image,e.noiseImage.crossOrigin="anonymous",e.noiseImage.src="https://storage.googleapis.com/eleven-public-cdn/images/perlin-noise.png"),e.noiseImage.complete?this.copyNoiseImage():e.noiseImage.addEventListener("load",this.copyNoiseImage);const r=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,r),n.bufferData(n.ARRAY_BUFFER,N$,n.STATIC_DRAW),n.vertexAttribPointer(0,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(0),this.updateColors("#2792DC","#9CE6E6"),this.resizeObserver=new ResizeObserver(e=>{const n=e[0],i=n.devicePixelContentBoxSize?n.devicePixelContentBoxSize[0]:n.contentBoxSize[0];t.width=Math.min(512,i.inlineSize),t.height=Math.min(512,i.blockSize),this.updateViewport()});const a=t.parentElement;if(a)try{this.resizeObserver.observe(a,{box:"device-pixel-content-box"})}catch(e){this.resizeObserver.observe(a)}this.startTime=performance.now(),this.rafId=requestAnimationFrame(this.render)}dispose(){var e;null!==this.rafId&&cancelAnimationFrame(this.rafId),null==(e=this.resizeObserver)||e.disconnect(),this.gl=null,this.program=null}updateViewport(){this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height)}updateColors(e,t){var n,i;this.gl&&(this.colorA=null!==(n=this.updateColor("uColor1",e))&&void 0!==n?n:this.colorA,this.colorB=null!==(i=this.updateColor("uColor2",t))&&void 0!==i?i:this.colorB)}updateVolume(e,t){this.targetSpeed=.2+1.8*(1-Math.pow(t-1,2)),this.targetSpeed>this.speed&&(this.speed=this.targetSpeed),this.gl.uniform1f(this.gl.getUniformLocation(this.program,"uInputVolume"),e),this.gl.uniform1f(this.gl.getUniformLocation(this.program,"uOutputVolume"),t)}updateColor(e,t){try{const n=parseInt(t.slice(1,3),16)/255,i=parseInt(t.slice(3,5),16)/255,r=parseInt(t.slice(5,7),16)/255,a=[Math.pow(n,2.2),Math.pow(i,2.2),Math.pow(r,2.2)];return this.gl.uniform3fv(this.gl.getUniformLocation(this.program,e),a),a}catch(e){console.error(`[ConversationalAI] Failed to parse ${t} as color:`,e)}}setupProgram(e,t){const n=this.getShader(this.gl.FRAGMENT_SHADER,e),i=this.getShader(this.gl.VERTEX_SHADER,t);if(!n||!i)throw new Error("Failed to compile shaders");if(this.program=this.gl.createProgram(),this.gl.attachShader(this.program,n),this.gl.attachShader(this.program,i),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))throw new Error("Failed to link program");return this.gl.useProgram(this.program),this.gl.uniform1i(this.gl.getUniformLocation(this.program,"uPerlinTexture"),0),this.gl.uniform1fv(this.gl.getUniformLocation(this.program,"uOffsets"),this.offsets),this.gl.uniform3fv(this.gl.getUniformLocation(this.program,"uColor1"),this.colorA),this.gl.uniform3fv(this.gl.getUniformLocation(this.program,"uColor2"),this.colorB),this.program}getShader(e,t){const n=this.gl.createShader(e);return this.gl.shaderSource(n,t),this.gl.compileShader(n),this.gl.getShaderParameter(n,this.gl.COMPILE_STATUS)?n:(this.gl.deleteShader(n),null)}};ft(B$,"noiseImage");let M$=B$;const L$={sm:"w-9 h-9",lg:"w-48 h-48"};function $$({size:e="sm",className:t}){const{getInputVolume:n,getOutputVolume:i,isSpeaking:r,isDisconnected:a}=lm(),{config:o}=wm(),s=wn(null),u=wn(null);Ir(()=>{if(a.value)return s.current.style.transform="",void(u.current.style.transform="");let e;return function t(){const a=n(),o=i(),l=r.peek()?1:1-.4*a,c=r.peek()?1+.4*o:1;s.current.style.transform=`scale(${c})`,u.current.style.transform=`scale(${l})`,e=requestAnimationFrame(t)}(),()=>{cancelAnimationFrame(e)}});const l=Sr(()=>({backgroundImage:"image"===o.value.type?`url(${o.value.url})`:"url"===o.value.type?`url(${o.value.custom_url})`:void 0}));return dn("div",{className:eO("relative shrink-0",L$[e],t),children:[dn("div",{ref:s,className:"absolute inset-0 rounded-full bg-base-border"}),dn("div",{ref:u,style:l,className:"absolute inset-0 rounded-full overflow-hidden bg-base bg-cover",children:"orb"===o.value.type&&dn(U$,{color1:o.value.color_1,color2:o.value.color_2})})]})}function U$({color1:e,color2:t}){const{canvasUrl:n}=wm(),[i,r]=An(null);return _n(()=>{i&&(i.updateColors(e,t),i.render(),n.value=i.toDataURL())},[i,e,t]),dn("canvas",{className:"w-full h-full",ref:Rn(e=>{if(e){const t=new M$(e);return r(t),()=>t.dispose()}r(null)},[r])})}function q$({showAvatar:e,showTranscript:t,isDisconnected:n,onStartSession:i}){const r=Sm(),a=Om(),o=pm(),s=Sr(()=>mg("absolute origin-top-left transition-[transform,left,top,opacity,scale] duration-200 z-10","data-hidden:opacity-0",t.value?"top-4 left-4 scale-[0.1667]":a.value?"top-[40%] left-1/2 -translate-x-1/2 -translate-y-1/2 scale-100":"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 scale-100")),u=Sr(()=>!t.value&&n.value&&!o.value),l=Sr(()=>!t.value&&!n.value);return dn(Ym,{active:e,children:dn("div",{className:s,children:[dn($$,{size:"lg"}),dn(Ym,{active:u,children:dn("div",{className:"absolute bottom-0 p-1 rounded-[calc(var(--el-button-radius)+4px)] bg-base left-1/2 -translate-x-1/2 translate-y-1/2 transition-[opacity,transform] data-hidden:opacity-0 data-hidden:scale-100 scale-150",children:dn(wg,{"aria-label":r.start_call,variant:"primary",icon:"phone",onClick:e=>i(e.currentTarget)})})}),dn(Ym,{active:l,children:dn("div",{className:"absolute -bottom-3 left-1/2 -translate-x-1/2 translate-y-full transition-[opacity,transform] data-hidden:opacity-0 data-hidden:scale-75",children:dn(k$,{})})})]})})}const X$={"top-left":"origin-top-left",top:"origin-top","top-right":"origin-top-right","bottom-left":"origin-bottom-left","bottom-right":"origin-bottom-right",bottom:"origin-bottom"};function z$({open:e}){const t=pm(),n=fm(),i=hm(),r=i.value.placement,{isDisconnected:a,startSession:o,transcript:s,conversationIndex:u}=lm(),l=mm(),{currentContent:c,currentConfig:d}=Cg(),{variant:h}=A$(),p=Sr(()=>{var e,r;return t.value||n.value?l.value&&t.value?[{type:"message",role:"agent",message:l.value,isText:!0,conversationIndex:null!==(e=null==(r=s.value[0])?void 0:r.conversationIndex)&&void 0!==e?e:u.peek()},...s.value]:s.value:i.value.transcript_enabled?s.value:s.value.filter(e=>"message"!==e.type||e.isText)}),f=Sr(()=>p.value.length>0||!a.value&&i.value.transcript_enabled),m=Ar(!0),O=Sr(()=>"feedback"!==c.value),g=Sr(()=>f.value&&!a.value),D=Sr(()=>"feedback"!==c.value&&(!f.value||a.value)),v=Sr(()=>!!i.value.conversation_mode_toggle_enabled&&!n.value&&!a.value),E=Sr(()=>f.value);return dn(Ym,{initial:!1,active:e,children:dn("div",{"data-variant":h.value,className:mg("elevenlabs-widget-sheet","sheet","flex flex-col overflow-hidden absolute bg-base shadow-lg pointer-events-auto z-2","transition-[width,height,max-width,max-height,transform,border-radius,opacity,inset,bottom,top,left,right,margin,padding] duration-200","data-hidden:scale-90 data-hidden:opacity-0",X$[r],r.startsWith("top")?i.value.always_expanded?"top-0":"top-20":i.value.always_expanded?"bottom-0":"bottom-20"),children:[dn(_$,{showBackButton:d.showHeaderBack,onBackClick:d.onHeaderBack,showStatusLabel:g,showLanguageSelector:D,showConversationModeToggle:v,showExpandButton:E}),dn(Ym,{active:"transcript"===c.value,children:dn("div",{className:"grow flex flex-col min-h-0 relative transition-opacity duration-300 ease-out data-hidden:opacity-0",children:[dn(CQ,{transcript:p,scrollPinned:m}),dn(R$,{showTranscript:f.value,scrollPinned:m})]})}),dn(Ym,{active:"feedback"===c.value,children:dn("div",{className:"absolute inset-0 top-[88px] flex flex-col bg-base transition-transform duration-300 ease-out data-hidden:translate-x-full",children:[dn(kQ,{}),dn(TQ,{})]})}),dn(q$,{showAvatar:O,showTranscript:f,isDisconnected:a,onStartSession:o})]})})}function Z$(e){let{onDismiss:t,className:n}=e,i=m(e,We);return dn(wg,p({onClick:e=>{e.preventDefault(),e.stopPropagation(),t&&t()},variant:"secondary",icon:"minimize","aria-label":"Dismiss",className:n},i))}function j$({expanded:e,onDismiss:t}){const n=fm(),i=hm().value.variant,{isDisconnected:r}=lm(),a=Sm(),o=Rm(),s=Rn(()=>{const t=!e.value;e.value=t,x$(o,{expanded:t})},[e,o]);return dn(Tt,{children:["full"===i&&dn(Ag,{visible:!e.value&&!r.value,className:"p-1",children:dn($$,{})}),dn(Ag,{grow:"tiny"!==i,visible:!n.value&&!e.value&&!r.value,className:"p-1",children:dn(F$,{iconOnly:!0,isDisconnected:!1})}),dn(Ag,{visible:!n.value&&!e.value&&!r.value,className:"p-1",children:dn(P$,{})}),dn(Ag,{grow:r.value,visible:!0,className:"p-1",children:dn(wg,{className:"w-full",variant:"primary",iconClassName:eO((e.value||!r.value)&&"transition-transform duration-200",e.value&&"-rotate-180"),icon:e.value?"chevron-up":r.value?n.value?"chat":"phone":"chevron-up","aria-label":e.value?a.collapse:r.value?n.value?a.start_chat:a.start_call:a.expand,onClick:e.value||r.value?void 0:s,children:!e.value&&r.value&&"tiny"!==i?n.value?a.start_chat:a.start_call:void 0})}),dn(Ag,{visible:!!t,className:"p-1",children:dn(Z$,{onDismiss:t})})]})}function W$(e){let{expanded:t,className:n,onDismiss:i}=e,r=m(e,Ge);const{isDisconnected:a}=lm(),o=Sm();return dn("div",p(p({className:eO("transition-[border-radius] flex flex-col p-2",!t.value&&a.value?"rounded-sheet":"rounded-compact-sheet",n)},r),{},{children:[dn(Ag,{visible:!t.value&&a.value,className:"p-1 !min-w-60",children:dn("div",{className:"flex items-center gap-2",children:[dn($$,{}),dn("div",{className:"text-sm max-w-64",children:o.main_label})]})}),dn("div",{className:"flex items-center",children:dn(j$,{expanded:t,onDismiss:i})})]}))}function G$(e){let{expanded:t,className:n,onDismiss:i}=e,r=m(e,Ve);return dn("div",p(p({className:eO("rounded-compact-sheet flex items-center p-2",n)},r),{},{children:[dn(Ag,{visible:!t.value,className:"p-1",children:dn($$,{})}),dn(j$,{expanded:t,onDismiss:i})]}))}function V$(e){let{visible:t,className:n}=e,i=m(e,Ye);const r=Sm(),{language:a,showPicker:o}=Ea();return o.value?dn(Ag,{visible:t,className:"p-1",children:dn(C$,{children:dn(l$,p(p({className:eO("h-9 min-w-max border border-base-border rounded-button focus-ring px-1.5 flex gap-1 items-center transition-colors duration-200 hover:bg-base-hover active:bg-base-active",n),"aria-label":r.change_language},i),{},{children:[dn(E$,{flagCode:a.value.flagCode}),dn(c$,{className:"px-1 text-base-subtle",asChild:!0,children:dn(Tg,{size:"xs",name:"chevron-down"})})]}))})}):null}function Y$({onDismiss:e}){const t=hm().value.variant,{isDisconnected:n,status:i}=lm();return dn(Tt,{children:[dn(F$,{isDisconnected:n.value,iconOnly:"tiny"===t,className:"w-full m-1 z-1",disabled:"disconnecting"===i.value||"connecting"===i.value}),dn(V$,{visible:n.value}),dn(Ag,{visible:!n.value,className:"p-1",children:dn(P$,{})}),dn(Ag,{visible:!!e,className:"p-1",children:dn(Z$,{onDismiss:e})})]})}function H$(e){let{className:t,onDismiss:n}=e,i=m(e,He);const{isDisconnected:r}=lm(),a=Sm();return dn("div",p(p({className:eO("flex flex-col p-2 rounded-sheet",t)},i),{},{children:[dn("div",{className:"flex items-center p-1 gap-2 min-w-60",children:[dn($$,{}),dn("div",{className:"relative text-sm max-w-64",children:[dn("span",{className:eO("block transition-[transform,opacity] duration-200",!r.value&&"opacity-0 scale-90"),children:a.main_label}),dn(Ym,{active:!r.value,children:dn(k$,{className:"absolute top-1/2 -translate-y-1/2 transition-[transform,opacity] duration-200 data-hidden:opacity-0 data-hidden:scale-90"})})]})]}),dn("div",{className:"flex items-center",children:dn(Y$,{onDismiss:n})})]}))}function K$(e){let{className:t,onDismiss:n}=e,i=m(e,Ke);return dn("div",p(p({className:eO("rounded-compact-sheet flex items-center p-2",t)},i),{},{children:[dn($$,{className:"mx-1"}),dn(Y$,{onDismiss:n})]}))}function J$({expandable:e,expanded:t,onDismiss:n}){const i=hm().value.variant,r=Jf(),{isDisconnected:a}=lm(),o=Rm(),s=Rn(async()=>{await r.requestTerms();const e=!t.peek();t.value=e,x$(o,{expanded:e})},[t]),u="full"===i;return e?dn(u?W$:G$,{expanded:t,onDismiss:n,className:eO("bg-base shadow-md pointer-events-auto overflow-hidden",(a.value||t.value)&&"cursor-pointer"),onClick:a.value||t.value?s:void 0}):dn(u?H$:K$,{onDismiss:n,className:"bg-base shadow-md pointer-events-auto overflow-hidden"})}function eU(){var e;const t=Sm(),n=gm(),{dismissTerms:i,acceptTerms:r}=Jf();return dn("div",{className:"max-w-[400px] flex flex-col gap-2 bg-base shadow-md pointer-events-auto rounded-sheet p-3 text-sm",children:[dn("div",{className:"flex flex-col gap-1 terms p-2 pt-1",dangerouslySetInnerHTML:{__html:null!==(e=n.value.terms_html)&&void 0!==e?e:""}}),dn("div",{className:"flex justify-end gap-2",children:[dn(wg,{onClick:i,children:t.dismiss_terms}),dn(wg,{onClick:r,variant:"primary",children:t.accept_terms})]})]})}function tU({copyText:e,children:t}){const n=Sm(),[i,r]=An(!1);_n(()=>{if(i){const e=setTimeout(()=>{r(!1)},2e3);return()=>{clearTimeout(e)}}},[i]);const a=Rn(()=>{const t=Qm(e);t&&(navigator.clipboard.writeText(t),r(!0))},[]);return dn(wg,{onClick:a,children:i?n.copied:t})}function nU({sawError:e}){const t=Sm(),{error:n,lastId:i}=lm(),r=Rn(()=>{e.value=!0},[]);return dn("div",{className:"max-w-[400px] flex flex-col gap-2 bg-base shadow-md pointer-events-auto rounded-sheet p-3 text-sm",children:[dn("div",{className:"p-2 pt-1",children:[dn("h1",{className:"text-md font-medium pb-1",children:t.error_occurred}),n.value,i.value&&dn(Tt,{children:[dn("br",{}),dn("span",{className:"text-base-subtle",children:[t.conversation_id,": ",i.value]})]})]}),dn("div",{className:"flex justify-end gap-2",children:[dn(tU,{copyText:i,children:t.copy_id}),dn(wg,{variant:"primary",onClick:r,children:"Close"})]})]})}function iU(){const e=hm();return e.value.disable_banner?null:dn("p",{className:eO("whitespace-nowrap [line-height:var(--el-overlay-padding)] text-[10px] px-3 z-10",e.value.placement.startsWith("top")?"-translate-y-[calc(var(--el-overlay-padding))]":"translate-y-[calc(var(--el-overlay-padding))]"),children:[dn("span",{className:"opacity-30",children:"Powered by ElevenLabs"})," ",dn("a",{href:e.value.override_link||"https://elevenlabs.io/conversational-ai",className:"underline cursor-pointer pointer-events-auto focus-visible:outline-hidden opacity-30 hover:opacity-50 focus-visible:opacity-100 focus-visible:underline-offset-2",target:"_blank",children:"Agents"})]})}function rU(e){const t=wn(null),n=Tm(),i=hm(),{isDisconnected:r,startSession:a,status:o}=lm(),s=wn(null),u=em(()=>{t.current&&a(t.current,{resume:i.value.auto_resume})}),l=em(()=>{i.value.auto_resume&&(r.value&&u(),"boolean"==typeof i.value.auto_resume.micMuted&&(s.current=i.value.auto_resume.micMuted))});return Ir(()=>{"connected"===o.value&&null!==s.current&&(n.setIsMuted(s.current),s.current=null)}),_n(()=>{l()},[l]),dn("div",p({ref:t},e))}function aU(e){let{className:t,onExpand:n}=e,i=m(e,Je);return dn("button",p(p({onClick:e=>{e.preventDefault(),e.stopPropagation(),n&&n()},className:eO("w-12 h-12 rounded-full flex items-center justify-center transition-all duration-200 pointer-events-auto hover:scale-105 active:scale-95",t),"aria-label":"Open chat"},i),{},{children:dn($$,{className:"w-12 h-12"})}))}const oU="items-start",sU="items-center",uU="items-end",lU="flex-col-reverse justify-end",cU="flex-col justify-end",dU={"top-left":`${lU} ${oU}`,top:`${lU} ${sU}`,"top-right":`${lU} ${uU}`,"bottom-left":`${cU} ${oU}`,bottom:`${cU} ${sU}`,"bottom-right":`${cU} ${uU}`},hU={display:"none"},pU=Jn(function(){const e=hm(),t=Ar(e.peek().default_expanded),n=Ar(!1),i=Ar(!1),{error:r,isDisconnected:a}=lm(),o=Jf(),{variant:s}=A$(),u=Sr(()=>e.value.transcript_enabled||e.value.text_input_enabled),l=im(),c=Sr(()=>mg("overlay !flex transition-[opacity] duration-200 data-hidden:opacity-0",dU[e.value.placement])),d=Sr(()=>"fullscreen"===s.value?mg(c.value,dU.bottom):c.value);Ir(()=>{r.value&&(u.value?(i.value=!0,t.value=!0):i.value=!1)}),Ir(()=>{const e=e=>{!e.detail||e.detail._convaiEventHandled||(e.detail._convaiEventHandled=!0,"expand"===e.detail.action?t.value=!0:"collapse"===e.detail.action?t.value=!1:"toggle"===e.detail.action&&(t.value=!t.value))},n=l.value;return document.addEventListener("elevenlabs-agent:expand",e),null==n||n.addEventListener("elevenlabs-agent:expand",e),()=>{document.removeEventListener("elevenlabs-agent:expand",e),null==n||n.removeEventListener("elevenlabs-agent:expand",e)}});const h=Sr(()=>u.value||!r.value||i.value?!o.termsAccepted.value&&o.termsShown.value?"terms":"conversation":"error"),p=Sr(()=>"error"===h.value),f=Sr(()=>"terms"===h.value),m=Sr(()=>"conversation"===h.value),O=Sr(()=>m.value&&!n.value),g=Sr(()=>f.value&&!n.value),D=Sr(()=>p.value&&!n.value),v=Sr(()=>!n.value),E=Sr(()=>e.value.dismissible&&a.value),C=Sr(()=>e.value.dismissible&&n.value);return dn(rU,{children:[dn(Ym,{initial:!1,active:O,children:dn(Pm,{className:c,style:hU,children:e.value.always_expanded?dn(z$,{open:!0}):dn(Tt,{children:[u.value&&dn(z$,{open:t}),dn(J$,{expandable:u.value,expanded:t,onDismiss:E.value?()=>{n.value=!0}:void 0})]})})}),dn(Ym,{initial:!1,active:g,children:dn(Pm,{className:c,style:hU,children:dn(eU,{})})}),dn(Ym,{initial:!1,active:D,children:dn(Pm,{className:c,style:hU,children:dn(nU,{sawError:i})})}),dn(Ym,{initial:!1,active:v,children:dn(Pm,{className:d,style:hU,children:dn(iU,{})})}),dn(Ym,{initial:!1,active:C,children:dn(Pm,{className:c,style:hU,children:dn(aU,{onExpand:()=>{n.value=!1}})})})]})}),fU="elevenlabs-agent:user-activity",mU="elevenlabs-agent:user-message",OU="elevenlabs-agent:contextual-update",gU=Jn(function({children:e}){const{sendContextualUpdate:t,sendUserActivity:n,sendUserMessage:i}=lm(),r=im();return Ir(()=>{function e(e){DU(e)&&n()}function a(e){vU(e)&&i(e.detail.message)}function o(e){vU(e)&&t(e.detail.message)}const s=r.value;return null==s||s.addEventListener(fU,e),null==s||s.addEventListener(mU,a),null==s||s.addEventListener(OU,o),()=>{null==s||s.removeEventListener(fU,e),null==s||s.removeEventListener(mU,a),null==s||s.removeEventListener(OU,o)}}),e});function DU(e){return"detail"in e&&!!e.detail}function vU(e){return DU(e)&&"string"==typeof e.detail.message&&!!e.detail.message}function EU(e){return dn(nm,{children:dn(da,{value:e,children:dn(fa,{children:dn(dm,{children:dn(y$,{children:dn(va,{children:dn(Kf,{children:dn(Yf,{children:dn(um,{children:dn(Em,{children:dn(km,{children:dn(Am,{children:dn(Fm,{children:dn(Eg,{children:dn(gg,{children:[dn(Dm,{}),dn(gU,{children:dn(pU,{})})]})})})})})})})})})})})})})})})}const CU=O("cbio.VirtualAgent.ElevenLabs"),bU=O("cbio.VirtualAgent.ElevenLabs.widget"),kU="elevenlabs-convai",TU="_cobrowse_elevenlabs_transcript",yU="_cobrowse_elevenlabs_config",AU=function(){const e={onScrollCompleteHandlers:[],scrollHandle:void 0};function t(t){clearTimeout(e.scrollHandle),e.scrollHandle=void 0;try{e.onScrollCompleteHandlers.forEach(e=>e())}finally{e.onScrollCompleteHandlers.length=0}}function n(n){clearTimeout(e.scrollHandle),e.scrollHandle=setTimeout(t,250)}function i(e){t()}return window.addEventListener("scroll",n,!0),window.addEventListener("scrollend",i,!0),{onceNotScrolling:async()=>new Promise(t=>{setTimeout(()=>{e.scrollHandle?e.onScrollCompleteHandlers.push(t):t()},100)}),destroy(){window.removeEventListener("scrollend",i,!0),window.removeEventListener("scroll",n,!0),clearTimeout(e.scrollHandle)}}}();async function SU(e,t){const n=function(e,t){const{dynamicVariables:n,url:i}=e.data(),r=xU(t),a=document.createElement(kU);let o;return a.style.zIndex="2147483647",a.setAttribute("class","__cbio_virtual_agent_ignored"),a.setAttribute("signed-url",i),a.setAttribute("mic-muting","true"),t.customData.user_id&&a.setAttribute("user-id",t.customData.user_id),FU(a,n,t),a.addEventListener("elevenlabs-convai:call",e=>{var i;bU("event(elevenlabs-convai:call)",e.detail),o=e.detail,e.detail.config.onMessage=({source:e,message:n})=>wU(e,n,t),e.detail.config.onSendUserMessage=e=>wU("user",e,t),e.detail.config.onDisconnect=e=>function(e,t,n,i){if(CU("disconnect: %O",e),"user"===e.reason||"agent"===e.reason){var r;const e=xU(i);e.removeItem(TU),e.removeItem(yU),FU(t,n,i),null===(r=i.currentSession)||void 0===r||r.end()}}(e,a,n,t),r.setItem(yU,p(p({},null!==(i=r.getItem(yU))&&void 0!==i?i:{}),{},{textOnly:e.detail.config.textOnly}))}),a.addEventListener("elevenlabs-convai:setMicMuted",e=>{bU("event(elevenlabs-convai:setMicMuted)",e.detail),r.setItem(yU,p(p({},r.getItem(yU)),{},{micMuted:e.detail.micMuted}))}),a.addEventListener("elevenlabs-convai:setExpanded",e=>{bU("event(elevenlabs-convai:setExpanded)",e.detail),r.setItem(yU,p(p({},r.getItem(yU)),{},{expanded:e.detail.expanded}))}),t.on("highlight.updated",async({target:e,visible:t})=>{if(CU("CobrowseIO(highlight.updated)",{target:e,visible:t}),o)if(t){const t=a.shadowRoot.querySelector(".elevenlabs-widget-sheet");if(CU("-> locating transcript",t),!t)return;await AU.onceNotScrolling();const n=t.getBoundingClientRect(),i=e.getBoundingClientRect();if(CU("-> checking collision",{target:i,transcript:n}),!PU(n,i))return;CU("-> collapsing widget"),_U(a,"collapse")}else{var n,i,s;CU("-> set expanded",null===(n=r.getItem(yU))||void 0===n?void 0:n.expanded);const e=null===(i=null===(s=r.getItem(yU))||void 0===s?void 0:s.expanded)||void 0===i||i?"expand":"collapse";_U(a,e)}}),a}(e,t);document.body.append(n),function(e="elevenlabs-convai"){Kt(EU,e,[...ln],{shadow:!0,mode:"open"})}(kU)}function _U(e,t){const n=new CustomEvent("elevenlabs-agent:expand",{bubbles:!0,composed:!0,detail:{action:t}});e.dispatchEvent(n)}function FU(e,t,n){var i,r;const a=n.deviceId(),o=null===(i=n.currentSession)||void 0===i?void 0:i.id(),s=xU(n);t=p(p({cobrowse_device_id:`Cobrowse device ID: ${a}`},t),{},{cobrowse_session_id:o?`Cobrowse session ID: ${o}`:"",url:document.location.toString()});const u=null!==(r=s.getItem(TU))&&void 0!==r?r:[],l=JSON.stringify(u);if(u.length){var c,d;CU("resuming with transcript",u);const n=null!==(c=s.getItem(yU))&&void 0!==c?c:{};e.setAttribute("default-expanded",String(null===(d=n.expanded)||void 0===d||d)),e.setAttribute("override-first-message",""),e.setAttribute("auto-resume",JSON.stringify(n)),t.history=`\n      You are resuming a conversation that has been taking place, and the user performed an action\n      that caused the page to reload. Here is the history of the conversation:\n      ${l}\n    `}else e.removeAttribute("default-expanded"),e.removeAttribute("override-first-message"),e.removeAttribute("auto-resume");e.setAttribute("dynamic-variables",JSON.stringify(t)),e.setAttribute("transcript-entries",l)}function wU(e,t,n){var i;CU("%s: %s",e,t);const r=xU(n),a=null!==(i=r.getItem(TU))&&void 0!==i?i:[];r.setItem(TU,[...a,{type:"message",role:"user"===e?"user":"ai",message:t,isText:!0,conversationIndex:a.length}])}function xU(e){return g(e.license)}function PU(e,t){const n=e.left,i=e.top,r=e.right,a=e.bottom,o=t.left,s=t.top,u=t.right,l=t.bottom;return!(r<=o||u<=n||a<=s||l<=i)}export{SU as loadElevenLabsWidget,PU as overlaps};